{"meta":{"version":1,"warehouse":"2.2.0"},"models":{"Asset":[{"_id":"source/CNAME","path":"CNAME","modified":0,"renderable":0},{"_id":"source/img/Linux1.jpg","path":"img/Linux1.jpg","modified":0,"renderable":0},{"_id":"source/img/css.png","path":"img/css.png","modified":0,"renderable":0},{"_id":"source/img/hexo.png","path":"img/hexo.png","modified":0,"renderable":0},{"_id":"themes/hexo-theme-matery1/source/favicon.png","path":"favicon.png","modified":0,"renderable":1},{"_id":"source/images/01.jpg","path":"images/01.jpg","modified":0,"renderable":0},{"_id":"source/images/02.jpg","path":"images/02.jpg","modified":0,"renderable":0},{"_id":"source/images/03.jpg","path":"images/03.jpg","modified":0,"renderable":0},{"_id":"source/images/04.jpg","path":"images/04.jpg","modified":0,"renderable":0},{"_id":"source/images/AKL.jpg","path":"images/AKL.jpg","modified":0,"renderable":0},{"_id":"source/images/HuLi.jpg","path":"images/HuLi.jpg","modified":0,"renderable":0},{"_id":"source/images/ALi.jpg","path":"images/ALi.jpg","modified":0,"renderable":0},{"_id":"source/images/KDA1.jpg","path":"images/KDA1.jpg","modified":0,"renderable":0},{"_id":"source/images/KDA3.jpg","path":"images/KDA3.jpg","modified":0,"renderable":0},{"_id":"source/images/KDA4.jpg","path":"images/KDA4.jpg","modified":0,"renderable":0},{"_id":"source/images/KDA5.jpg","path":"images/KDA5.jpg","modified":0,"renderable":0},{"_id":"source/images/LoL1.jpg","path":"images/LoL1.jpg","modified":0,"renderable":0},{"_id":"source/images/Xia.jpg","path":"images/Xia.jpg","modified":0,"renderable":0},{"_id":"source/images/10.jpg","path":"images/10.jpg","modified":0,"renderable":0},{"_id":"source/images/KDA2.jpg","path":"images/KDA2.jpg","modified":0,"renderable":0},{"_id":"source/images/LoL.jpg","path":"images/LoL.jpg","modified":0,"renderable":0},{"_id":"themes/hexo-theme-matery1/source/css/gitment.css","path":"css/gitment.css","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery1/source/css/matery.css","path":"css/matery.css","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery1/source/css/my-gitalk.css","path":"css/my-gitalk.css","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery1/source/css/my.css","path":"css/my.css","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery1/source/js/matery.js","path":"js/matery.js","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery1/source/js/search.js","path":"js/search.js","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery1/source/medias/avatar.jpg","path":"medias/avatar.jpg","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery1/source/medias/favicon.png","path":"medias/favicon.png","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery1/source/medias/logo.png","path":"medias/logo.png","modified":0,"renderable":1},{"_id":"source/images/09.jpg","path":"images/09.jpg","modified":0,"renderable":0},{"_id":"source/images/06.jpg","path":"images/06.jpg","modified":0,"renderable":0},{"_id":"source/images/11.jpg","path":"images/11.jpg","modified":0,"renderable":0},{"_id":"themes/hexo-theme-matery1/source/medias/cover.jpg","path":"medias/cover.jpg","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery1/source/medias/featureimages/13.jpg","path":"medias/featureimages/13.jpg","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery1/source/medias/featureimages/15.jpg","path":"medias/featureimages/15.jpg","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery1/source/medias/featureimages/16.jpg","path":"medias/featureimages/16.jpg","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery1/source/medias/featureimages/2.jpg","path":"medias/featureimages/2.jpg","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery1/source/medias/featureimages/21.jpg","path":"medias/featureimages/21.jpg","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery1/source/medias/featureimages/22.jpg","path":"medias/featureimages/22.jpg","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery1/source/medias/featureimages/23.jpg","path":"medias/featureimages/23.jpg","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery1/source/medias/featureimages/26.jpg","path":"medias/featureimages/26.jpg","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery1/source/medias/featureimages/27.jpg","path":"medias/featureimages/27.jpg","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery1/source/medias/featureimages/31.jpg","path":"medias/featureimages/31.jpg","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery1/source/medias/featureimages/5.jpg","path":"medias/featureimages/5.jpg","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery1/source/medias/featureimages/8.jpg","path":"medias/featureimages/8.jpg","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery1/source/medias/featureimages/logo.png","path":"medias/featureimages/logo.png","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery1/source/medias/reward/alipay.jpg","path":"medias/reward/alipay.jpg","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery1/source/medias/featureimages/7.jpg","path":"medias/featureimages/7.jpg","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery1/source/libs/aplayer/APlayer.min.css","path":"libs/aplayer/APlayer.min.css","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery1/source/libs/aplayer/APlayer.min.js","path":"libs/aplayer/APlayer.min.js","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery1/source/libs/cryptojs/crypto-js.min.js","path":"libs/cryptojs/crypto-js.min.js","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery1/source/libs/dplayer/DPlayer.min.css","path":"libs/dplayer/DPlayer.min.css","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery1/source/libs/gitalk/gitalk.css","path":"libs/gitalk/gitalk.css","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery1/source/libs/gitment/gitment-default.css","path":"libs/gitment/gitment-default.css","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery1/source/libs/jqcloud/jqcloud-1.0.4.min.js","path":"libs/jqcloud/jqcloud-1.0.4.min.js","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery1/source/libs/jqcloud/jqcloud.css","path":"libs/jqcloud/jqcloud.css","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery1/source/libs/masonry/masonry.pkgd.min.js","path":"libs/masonry/masonry.pkgd.min.js","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery1/source/libs/others/busuanzi.pure.mini.js","path":"libs/others/busuanzi.pure.mini.js","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery1/source/libs/others/clicklove.js","path":"libs/others/clicklove.js","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery1/source/libs/scrollprogress/scrollProgress.min.js","path":"libs/scrollprogress/scrollProgress.min.js","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery1/source/libs/tocbot/tocbot.css","path":"libs/tocbot/tocbot.css","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery1/source/libs/tocbot/tocbot.min.js","path":"libs/tocbot/tocbot.min.js","modified":0,"renderable":1},{"_id":"source/images/05.jpg","path":"images/05.jpg","modified":0,"renderable":0},{"_id":"themes/hexo-theme-matery1/source/libs/animate/animate.min.css","path":"libs/animate/animate.min.css","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery1/source/libs/aos/aos.js","path":"libs/aos/aos.js","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery1/source/libs/aos/aos.css","path":"libs/aos/aos.css","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery1/source/medias/banner/0.jpg","path":"medias/banner/0.jpg","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery1/source/medias/banner/2.jpg","path":"medias/banner/2.jpg","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery1/source/medias/featureimages/0.jpg","path":"medias/featureimages/0.jpg","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery1/source/medias/featureimages/11.jpg","path":"medias/featureimages/11.jpg","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery1/source/medias/featureimages/1.jpg","path":"medias/featureimages/1.jpg","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery1/source/medias/featureimages/10.jpg","path":"medias/featureimages/10.jpg","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery1/source/medias/featureimages/12.jpg","path":"medias/featureimages/12.jpg","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery1/source/medias/featureimages/14.jpg","path":"medias/featureimages/14.jpg","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery1/source/medias/featureimages/17.jpg","path":"medias/featureimages/17.jpg","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery1/source/medias/featureimages/18.jpg","path":"medias/featureimages/18.jpg","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery1/source/medias/featureimages/19.jpg","path":"medias/featureimages/19.jpg","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery1/source/medias/featureimages/20.jpg","path":"medias/featureimages/20.jpg","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery1/source/medias/featureimages/28.jpg","path":"medias/featureimages/28.jpg","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery1/source/medias/featureimages/33.jpg","path":"medias/featureimages/33.jpg","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery1/source/medias/featureimages/4.jpg","path":"medias/featureimages/4.jpg","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery1/source/medias/featureimages/3.jpg","path":"medias/featureimages/3.jpg","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery1/source/medias/featureimages/6.jpg","path":"medias/featureimages/6.jpg","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery1/source/medias/featureimages/9.jpg","path":"medias/featureimages/9.jpg","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery1/source/libs/dplayer/DPlayer.min.js","path":"libs/dplayer/DPlayer.min.js","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery1/source/libs/gitment/gitment.js","path":"libs/gitment/gitment.js","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery1/source/libs/jquery/jquery-2.2.0.min.js","path":"libs/jquery/jquery-2.2.0.min.js","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery1/source/libs/valine/Valine.min.js","path":"libs/valine/Valine.min.js","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery1/source/medias/banner/1.jpg","path":"medias/banner/1.jpg","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery1/source/medias/banner/3.jpg","path":"medias/banner/3.jpg","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery1/source/medias/banner/5.jpg","path":"medias/banner/5.jpg","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery1/source/medias/banner/6.jpg","path":"medias/banner/6.jpg","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery1/source/medias/featureimages/32.jpg","path":"medias/featureimages/32.jpg","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery1/source/medias/featureimages/cover.jpg","path":"medias/featureimages/cover.jpg","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery1/source/libs/gitalk/gitalk.min.js","path":"libs/gitalk/gitalk.min.js","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery1/source/libs/lightGallery/css/lightgallery.min.css","path":"libs/lightGallery/css/lightgallery.min.css","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery1/source/libs/lightGallery/img/loading.gif","path":"libs/lightGallery/img/loading.gif","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery1/source/libs/lightGallery/img/video-play.png","path":"libs/lightGallery/img/video-play.png","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery1/source/libs/lightGallery/img/vimeo-play.png","path":"libs/lightGallery/img/vimeo-play.png","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery1/source/libs/lightGallery/img/youtube-play.png","path":"libs/lightGallery/img/youtube-play.png","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery1/source/libs/lightGallery/fonts/lg.eot","path":"libs/lightGallery/fonts/lg.eot","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery1/source/libs/lightGallery/fonts/lg.svg","path":"libs/lightGallery/fonts/lg.svg","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery1/source/libs/lightGallery/fonts/lg.ttf","path":"libs/lightGallery/fonts/lg.ttf","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery1/source/libs/lightGallery/fonts/lg.woff","path":"libs/lightGallery/fonts/lg.woff","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery1/source/libs/lightGallery/js/lightgallery-all.min.js","path":"libs/lightGallery/js/lightgallery-all.min.js","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery1/source/libs/materialize/materialize.min.css","path":"libs/materialize/materialize.min.css","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery1/source/libs/materialize/materialize.min.js","path":"libs/materialize/materialize.min.js","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery1/source/libs/valine/av-min.js","path":"libs/valine/av-min.js","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery1/source/libs/share/css/share.min.css","path":"libs/share/css/share.min.css","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery1/source/libs/share/fonts/iconfont.eot","path":"libs/share/fonts/iconfont.eot","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery1/source/libs/share/fonts/iconfont.svg","path":"libs/share/fonts/iconfont.svg","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery1/source/libs/share/fonts/iconfont.ttf","path":"libs/share/fonts/iconfont.ttf","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery1/source/libs/share/fonts/iconfont.woff","path":"libs/share/fonts/iconfont.woff","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery1/source/libs/share/js/jquery.share.min.js","path":"libs/share/js/jquery.share.min.js","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery1/source/libs/share/js/social-share.min.js","path":"libs/share/js/social-share.min.js","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery1/source/libs/awesome/css/font-awesome.min.css","path":"libs/awesome/css/font-awesome.min.css","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery1/source/libs/awesome/fonts/fontawesome-webfont.woff2","path":"libs/awesome/fonts/fontawesome-webfont.woff2","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery1/source/libs/materialize/js/materialize.min.js","path":"libs/materialize/js/materialize.min.js","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery1/source/libs/awesome/fonts/fontawesome-webfont.woff","path":"libs/awesome/fonts/fontawesome-webfont.woff","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery1/source/medias/banner/4.jpg","path":"medias/banner/4.jpg","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery1/source/medias/featureimages/30.jpg","path":"medias/featureimages/30.jpg","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery1/source/libs/awesome/fonts/FontAwesome.otf","path":"libs/awesome/fonts/FontAwesome.otf","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery1/source/libs/awesome/fonts/fontawesome-webfont.ttf","path":"libs/awesome/fonts/fontawesome-webfont.ttf","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery1/source/libs/materialize/css/materialize.min.css","path":"libs/materialize/css/materialize.min.css","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery1/source/libs/materialize/font/material-design-icons/LICENSE.txt","path":"libs/materialize/font/material-design-icons/LICENSE.txt","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery1/source/libs/materialize/font/material-design-icons/Material-Design-Icons.woff2","path":"libs/materialize/font/material-design-icons/Material-Design-Icons.woff2","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery1/source/libs/materialize/font/roboto/Roboto-Bold.eot","path":"libs/materialize/font/roboto/Roboto-Bold.eot","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery1/source/libs/materialize/font/roboto/Roboto-Bold.woff","path":"libs/materialize/font/roboto/Roboto-Bold.woff","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery1/source/libs/materialize/font/roboto/Roboto-Bold.woff2","path":"libs/materialize/font/roboto/Roboto-Bold.woff2","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery1/source/libs/materialize/font/roboto/Roboto-Light.eot","path":"libs/materialize/font/roboto/Roboto-Light.eot","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery1/source/libs/materialize/font/roboto/Roboto-Light.woff","path":"libs/materialize/font/roboto/Roboto-Light.woff","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery1/source/libs/materialize/font/roboto/Roboto-Light.woff2","path":"libs/materialize/font/roboto/Roboto-Light.woff2","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery1/source/libs/materialize/font/roboto/Roboto-Medium.eot","path":"libs/materialize/font/roboto/Roboto-Medium.eot","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery1/source/libs/materialize/font/roboto/Roboto-Medium.woff","path":"libs/materialize/font/roboto/Roboto-Medium.woff","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery1/source/libs/materialize/font/roboto/Roboto-Medium.woff2","path":"libs/materialize/font/roboto/Roboto-Medium.woff2","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery1/source/libs/materialize/font/roboto/Roboto-Regular.eot","path":"libs/materialize/font/roboto/Roboto-Regular.eot","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery1/source/libs/materialize/font/roboto/Roboto-Regular.woff","path":"libs/materialize/font/roboto/Roboto-Regular.woff","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery1/source/libs/materialize/font/roboto/Roboto-Regular.woff2","path":"libs/materialize/font/roboto/Roboto-Regular.woff2","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery1/source/libs/materialize/font/roboto/Roboto-Thin.eot","path":"libs/materialize/font/roboto/Roboto-Thin.eot","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery1/source/libs/materialize/font/roboto/Roboto-Thin.woff","path":"libs/materialize/font/roboto/Roboto-Thin.woff","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery1/source/libs/materialize/font/roboto/Roboto-Thin.woff2","path":"libs/materialize/font/roboto/Roboto-Thin.woff2","modified":0,"renderable":1},{"_id":"source/images/bg.jpg","path":"images/bg.jpg","modified":0,"renderable":0},{"_id":"themes/hexo-theme-matery1/source/libs/awesome/fonts/fontawesome-webfont.eot","path":"libs/awesome/fonts/fontawesome-webfont.eot","modified":0,"renderable":1},{"_id":"source/images/timg.jpg","path":"images/timg.jpg","modified":0,"renderable":0},{"_id":"themes/hexo-theme-matery1/source/libs/materialize/font/material-design-icons/Material-Design-Icons.eot","path":"libs/materialize/font/material-design-icons/Material-Design-Icons.eot","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery1/source/libs/materialize/font/material-design-icons/Material-Design-Icons.ttf","path":"libs/materialize/font/material-design-icons/Material-Design-Icons.ttf","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery1/source/libs/materialize/font/material-design-icons/Material-Design-Icons.woff","path":"libs/materialize/font/material-design-icons/Material-Design-Icons.woff","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery1/source/libs/materialize/font/roboto/Roboto-Bold.ttf","path":"libs/materialize/font/roboto/Roboto-Bold.ttf","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery1/source/libs/materialize/font/roboto/Roboto-Light.ttf","path":"libs/materialize/font/roboto/Roboto-Light.ttf","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery1/source/libs/materialize/font/roboto/Roboto-Medium.ttf","path":"libs/materialize/font/roboto/Roboto-Medium.ttf","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery1/source/libs/materialize/font/roboto/Roboto-Regular.ttf","path":"libs/materialize/font/roboto/Roboto-Regular.ttf","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery1/source/libs/materialize/font/roboto/Roboto-Thin.ttf","path":"libs/materialize/font/roboto/Roboto-Thin.ttf","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery1/source/medias/featureimages/24.jpg","path":"medias/featureimages/24.jpg","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery1/source/medias/featureimages/29.jpg","path":"medias/featureimages/29.jpg","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery1/source/libs/awesome/fonts/fontawesome-webfont.svg","path":"libs/awesome/fonts/fontawesome-webfont.svg","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery1/source/libs/materialize/font/material-design-icons/Material-Design-Icons.svg","path":"libs/materialize/font/material-design-icons/Material-Design-Icons.svg","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery1/source/libs/echarts/echarts.min.js","path":"libs/echarts/echarts.min.js","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery1/source/medias/featureimages/25.jpg","path":"medias/featureimages/25.jpg","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery1/source/medias/reward/linkfox_wechat.png","path":"medias/reward/linkfox_wechat.png","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery1/source/medias/reward/linkfox.jpg","path":"medias/reward/linkfox.jpg","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery1/source/medias/reward/wechat.jpg","path":"medias/reward/wechat.jpg","modified":0,"renderable":1}],"Cache":[{"_id":"source/CNAME","hash":"f7bf0124b54cf3a4f1fd327cde1dd6571dcadc6d","modified":1539491801161},{"_id":"themes/hexo-theme-matery1/.gitignore","hash":"eaa3d84cb77d92a21b111fd1e37f53edc1ff9de0","modified":1552236170000},{"_id":"themes/hexo-theme-matery1/LICENSE","hash":"7df059597099bb7dcf25d2a9aedfaf4465f72d8d","modified":1552236170000},{"_id":"themes/hexo-theme-matery1/README.md","hash":"7e1c881e66f218cda85e86761a4853ed6b68e33c","modified":1552236170000},{"_id":"themes/hexo-theme-matery1/README_CN.md","hash":"8919b255c5a59f2c894134d2d51cf36c5b619196","modified":1552236170000},{"_id":"themes/hexo-theme-matery1/_config.yml","hash":"8023989292af93e58281d9c127a70e29ebb32d09","modified":1552877704285},{"_id":"source/about/index.md","hash":"f4b4b6adb7476d908de2d1e9d9a3d24958e7ba3f","modified":1547640227247},{"_id":"source/_posts/README.md","hash":"bbdabeb6ab8a2bbbb0a5e829f288c833787633e7","modified":1547688950252},{"_id":"source/categories/index.md","hash":"f6cddba46ba65dadbda985561f2ce4bcb56c99e0","modified":1547640213034},{"_id":"source/img/Linux1.jpg","hash":"b6efd05c56f02e4f5fc591c1133d7d4ccbf2b631","modified":1539327425279},{"_id":"source/img/css.png","hash":"1fef2157b140faefb8aa9935be1361b506306cfe","modified":1540884084136},{"_id":"source/img/hexo.png","hash":"7898463d0dbe508c6fac6dd9625ba390c7c581bc","modified":1539338567471},{"_id":"source/tags/index.md","hash":"a8808be98724e1897413aea323ad28dee1e8e6d3","modified":1547640032068},{"_id":"themes/hexo-theme-matery1/.git/FETCH_HEAD","hash":"fb6b157ce83a10726a7635cb04c6ab9a0d07a6aa","modified":1547640653763},{"_id":"themes/hexo-theme-matery1/.git/HEAD","hash":"dd8e8826088c2a83b5ebe1e83fa0aa5f0ed56f98","modified":1538991394257},{"_id":"themes/hexo-theme-matery1/.git/config","hash":"601b2cbc1d8725a23d4c16a79d8bd6cbfe8c3a7f","modified":1538991394281},{"_id":"themes/hexo-theme-matery1/.git/ORIG_HEAD","hash":"1363a9e1aa06e089fdeeafbb4c42477d9751faa7","modified":1547640654102},{"_id":"themes/hexo-theme-matery1/.git/description","hash":"9635f1b7e12c045212819dd934d809ef07efa2f4","modified":1538991315620},{"_id":"themes/hexo-theme-matery1/.git/index","hash":"0f2085167fee86b057f3c6addbf4ed8290557f51","modified":1538998885650},{"_id":"themes/hexo-theme-matery1/.git/packed-refs","hash":"a93ac077042b3367de2f9d3edd88aaa0020252fa","modified":1538991394237},{"_id":"themes/hexo-theme-matery1/languages/default.yml","hash":"2c4d4e72f0fb3431260643dcb85af11655fabe13","modified":1552236170000},{"_id":"themes/hexo-theme-matery1/languages/zh-CN.yml","hash":"db4b71662d408255eebd633fa3ded8d039122df3","modified":1552236170000},{"_id":"themes/hexo-theme-matery1/layout/about.ejs","hash":"ee639d0310867976b3e5fb9f92c215a17a433703","modified":1552236170000},{"_id":"themes/hexo-theme-matery1/layout/archive.ejs","hash":"c8459660e87a0a07a6e007a99a2303b142bb7744","modified":1552236170000},{"_id":"themes/hexo-theme-matery1/layout/categories.ejs","hash":"8e54665cc25d7c333da7d9f312987190be6215da","modified":1552236170000},{"_id":"themes/hexo-theme-matery1/layout/category.ejs","hash":"95176564ea32e65ddc9fdbe9074332239d6a1305","modified":1552236170000},{"_id":"themes/hexo-theme-matery1/layout/friends.ejs","hash":"89c47cf1eb2cf1feb8a8d06f4eb7c76b713f79c0","modified":1552236170000},{"_id":"themes/hexo-theme-matery1/layout/layout.ejs","hash":"10f20cf017af6f46c035e5f7080fa4b70a9dd239","modified":1552236170000},{"_id":"themes/hexo-theme-matery1/layout/post.ejs","hash":"f9662a96d0f497a3b2731472b8ad871c7cbdf13a","modified":1552236170000},{"_id":"themes/hexo-theme-matery1/layout/index.ejs","hash":"489f2fe7e4171613504f58e7e0462d81d2f7f546","modified":1552236170000},{"_id":"themes/hexo-theme-matery1/layout/tag.ejs","hash":"4305eeeb3434c24ba2493fa08d1f1bd9f2efa9aa","modified":1552236170000},{"_id":"themes/hexo-theme-matery1/layout/tags.ejs","hash":"cf9517aa6a0111355121f44615d6923e312283c7","modified":1552236170000},{"_id":"themes/hexo-theme-matery1/source/favicon.png","hash":"20674c497b75fc889194b47fd18ecea12303d8ec","modified":1552236170000},{"_id":"themes/hexo-theme-matery1/主站的页面配置/_config.yml","hash":"1d1b022368e58b43188587f55c5f36a4a66d1d0e","modified":1542719068549},{"_id":"source/images/01.jpg","hash":"52bb2ee16ba0dc8a154b1f3a3493edfb3959d2aa","modified":1547886590690},{"_id":"source/images/02.jpg","hash":"b42f1507fe9b7f11a0cccfbad8e320a83c08820d","modified":1547886569229},{"_id":"source/images/03.jpg","hash":"1d2581dc664cebb341b10b6e56d5121bba9d1a86","modified":1547886574665},{"_id":"source/images/04.jpg","hash":"6f94e983601c5f895cf5c6170b7eaad1838f30af","modified":1547886562423},{"_id":"source/images/AKL.jpg","hash":"cdd475e7429bf908105b869c8c398d931d72ec9f","modified":1546430560717},{"_id":"source/images/HuLi.jpg","hash":"c26af0c6f95e24e071d0dcfa7811219171e15cce","modified":1546430562347},{"_id":"source/images/ALi.jpg","hash":"01c886d73fc01df4cc1a57ae76658f8868a930f2","modified":1546430557731},{"_id":"source/images/KDA1.jpg","hash":"35333f287f143d1cceb402b9e6eb8fb217b6771e","modified":1546430561258},{"_id":"source/images/KDA3.jpg","hash":"46b43263db1fbf267d54abf683ff77d421ef4cd5","modified":1546430558001},{"_id":"source/images/KDA4.jpg","hash":"ec3e995f8c0077bace69c6e8ad9fc1be7e17122a","modified":1546430557467},{"_id":"source/images/KDA5.jpg","hash":"0d2192ae0a370975a7f4791ccfc243917b135214","modified":1546430557200},{"_id":"source/images/LoL1.jpg","hash":"296a9e0761507ff528503eaea711a1c38472b0fc","modified":1546430561801},{"_id":"source/images/Xia.jpg","hash":"5d56eab4a4100ef5d50f0927403999ed52ca26ad","modified":1546430558833},{"_id":"source/_posts/Django/Django.md","hash":"320c75eb08cb610fa300003d2a61d2f53270ec0e","modified":1547705893396},{"_id":"source/_posts/Linux/CentOS安装Python3.7.md","hash":"a9b02da10015e277e56b26754ce082d7395722de","modified":1552527627744},{"_id":"source/_posts/Linux/Git.md","hash":"3298698e14e72353371676f2ff5d2f33cc647a3a","modified":1552527616731},{"_id":"source/_posts/Linux/Git版本控制.md","hash":"48e2f75abd0118bd31c070137e12b2c9abdbdd3e","modified":1552529741710},{"_id":"source/_posts/Linux/Linux-vim.md","hash":"41c3d446862d7b451c734604b99c2cb5636a46b2","modified":1552527577257},{"_id":"source/_posts/Linux/Linux文件操作及系统安装.md","hash":"e046237aa4db42816c06e165e2d46e01613ab6b8","modified":1552527551802},{"_id":"source/_posts/Linux/http.md","hash":"ee6e746dbb2c372c784001c4e388e692ef992817","modified":1552527596360},{"_id":"source/_posts/Linux/Linux服务器.md","hash":"663dc7db93eb5d5a4699edd93cf37dc4d8bab85f","modified":1552527563696},{"_id":"source/_posts/Linux/vim.md","hash":"421dee3ae2ed5de0cded672adce0162b84637876","modified":1552527544743},{"_id":"source/_posts/Linux/vim_practice.md","hash":"49ca7f18f31ca3b45cc3615bfd43c80784329caf","modified":1552527527112},{"_id":"source/_posts/Linux/意外的操作.md","hash":"ece53856b0f8dd84cbd0e8c3c07aa235516c5cfb","modified":1552527504244},{"_id":"source/_posts/Linux/操作命令.md","hash":"b252b88f1f3bc1fc4c40bc644647a38bf83659a0","modified":1552527517262},{"_id":"source/_posts/flask/models1.md","hash":"e46d593b7c7f5e838177f95e3f0bfc62e1dd95f3","modified":1547886813686},{"_id":"source/_posts/flask/models2.md","hash":"51ef50029e710b85f8fcc35b96aa82046fd21a46","modified":1552527462492},{"_id":"source/_posts/flask/请求与响应.md","hash":"25540809ab74cea4192c18689199d0ecfe29d66f","modified":1547893070923},{"_id":"source/_posts/python/Python参考书籍.md","hash":"44090aeb4c505a2dd2101bd5f607343163241050","modified":1552527820233},{"_id":"source/_posts/python/Word-cloud.md","hash":"b4e755355f869aae581130fb33aa5a70cc3940f8","modified":1550060484232},{"_id":"source/_posts/python/pygame相关.md","hash":"7cda68f024461f144f07c016c342c075691fc4b6","modified":1552527846576},{"_id":"source/_posts/python/python-database.md","hash":"9f0b072fcfadb71d142b962ea35ece899eb1ab58","modified":1547707368265},{"_id":"source/_posts/python/python-summary.md","hash":"299ebe66f1f064931189aff940df56e957f7dbd8","modified":1547707206239},{"_id":"source/_posts/python/python-summary2.md","hash":"a53d98891ec0ece4c8206c8142fb55944b07e6f0","modified":1547891630668},{"_id":"source/_posts/python/基础语法.md","hash":"c417e3aced24f05abfbf39e7dd9d676ab464d6e9","modified":1552527777744},{"_id":"source/_posts/python/多线程.md","hash":"d6d1865ed01c8d29c1db12184358dbe296308e72","modified":1552527792407},{"_id":"source/_posts/python/字典与集合.md","hash":"86dcd8660886eaffa359f1881f4cc4ac6bd6a329","modified":1552527673075},{"_id":"source/_posts/python/容器.md","hash":"7972edcf97f3baeb322c4af5d5c57f464ed7e539","modified":1552527741599},{"_id":"source/_posts/python/循环和分支.md","hash":"6daa93e05f82a38af61f34102a2d5ad2719d2506","modified":1552527708340},{"_id":"source/_posts/python/正则表达式.md","hash":"8725fe03a607d2147bfbd8436d6aa7922af2b441","modified":1552527691053},{"_id":"source/_posts/python/网络基础.md","hash":"62a74cba6f9496b770f2ca29aa32200e988eac56","modified":1552527725223},{"_id":"source/_posts/python/类和对象.md","hash":"90be4392cdc5ad8df0e6557e7ddda6e0c84b305c","modified":1552527757732},{"_id":"source/_posts/spider/BeautifulSoup.md","hash":"7d054c79cf680fe2584b823dcda92dc5570743e4","modified":1552528055673},{"_id":"source/_posts/spider/kaisha解码程序.md","hash":"b76ec9683a2c3eeba29d0a79499bdd94403dfe5e","modified":1552528035554},{"_id":"source/_posts/spider/auth_code.md","hash":"2f375ee60dbad0d9e2a4a0e1df9fb1201972f6ad","modified":1552528064257},{"_id":"source/_posts/spider/jd.md","hash":"f771ad3d4ae1cd289e9f3bb3cc269dfc6d94e76c","modified":1552528046534},{"_id":"source/_posts/spider/selenium.md","hash":"7c7b2dde8f6768d271fabc50f53e5880e1402f1d","modified":1552528023307},{"_id":"source/_posts/spider/spider_databases.md","hash":"9f6314d7819ed18b8a8ee44dfeff4febd9dc761e","modified":1552528015006},{"_id":"source/_posts/spider/spider相关.md","hash":"22b24a3daa2adfdbfad115d411408af63d0bd436","modified":1552528004384},{"_id":"source/_posts/spider/爬取数据.md","hash":"028d13ca27f19dbe99de91ac07731d24ab2804ae","modified":1552527928423},{"_id":"source/_posts/spider/u17.md","hash":"b62394fd6e99a2e61f78255a665120fdfd89e928","modified":1552527981812},{"_id":"source/_posts/spider/爬取网易云音乐.md","hash":"6655d8cfe6a5ed2cd7ebd47c83499798f8f1c897","modified":1552527913047},{"_id":"source/_posts/spider/爬小说.md","hash":"97b930ae29a1ac2c9725bb87e825bf9c6afd83f0","modified":1552527890259},{"_id":"source/_posts/spider/爬电影.md","hash":"bfe31f3c90bb450958d27fde1e11a300e37990ab","modified":1552527954671},{"_id":"source/_posts/spider/爬短视频.md","hash":"66cad845487b513bd24a29aebb10edbd1fa543e2","modified":1552527944395},{"_id":"source/_posts/spider/爬视频.md","hash":"6abcf7bcf013fea16c0fb0dd0e3eec2d49359ee1","modified":1552527900496},{"_id":"source/_posts/spider/类选择器.md","hash":"adabe0b9160d3360b7a00d6acbe179bdb4a4fd5f","modified":1552527971243},{"_id":"source/_posts/spider/爬音乐.md","hash":"25dac5216fc89038ee5817637d0efd300f6d0370","modified":1552527880818},{"_id":"source/_posts/前端/CSS属性.md","hash":"c104abc571c8e1b6dbaf47e73e2568f9ec1a13e6","modified":1552528230885},{"_id":"source/_posts/前端/CSS样式表.md","hash":"f3995ca6e2997232847a51a3b1bad1ee69e4fd21","modified":1552528219236},{"_id":"source/_posts/前端/HTML.md","hash":"2ad169c21f9da67a17817f195e18f047ca4a7dc8","modified":1552528182968},{"_id":"source/_posts/前端/JavaScript-createElement.md","hash":"a0b1bcf79612013c781b2fdc922ee791ad6e5d15","modified":1552528174908},{"_id":"source/_posts/前端/JavaScript-event.md","hash":"b847643143821156e7b7adeb65745ff122e0ca5d","modified":1552528166229},{"_id":"source/_posts/前端/JavaScript-one.md","hash":"e9fa407b49dc58652297231325e80e04f6be2003","modified":1552528154858},{"_id":"source/_posts/前端/JavaScript-practice.md","hash":"08ac28950c83596632553427e853508b1ec6a291","modified":1552528133790},{"_id":"source/_posts/前端/day04.md","hash":"3e18deea64c1aa2229ca9606974328e7614e8d83","modified":1547891818740},{"_id":"source/_posts/前端/daythird.md","hash":"a6d5f32008b6f8edde82b446d328240d6f62e244","modified":1552528197439},{"_id":"source/_posts/前端/hello-world.md","hash":"e5b1626e3f9149368be64b9716b33b2f2610cada","modified":1552528189420},{"_id":"source/_posts/前端/jQuery.md","hash":"e818b3a924d46ef9cc788dc0a6269252c15fff12","modified":1552528124175},{"_id":"source/_posts/前端/web-daytwo.md","hash":"d2361233973bbc8006534db306f125e33baa8aca","modified":1552528110453},{"_id":"source/_posts/前端/web-the-firstone.md","hash":"d51958a0587878aca2142ffbea32b5618ee89673","modified":1552528100222},{"_id":"source/_posts/数据库/MySQL.md","hash":"8a6b2283a6478308135e1910af033b4bd282b6ab","modified":1547708990285},{"_id":"source/_posts/数据库/MySQL预习.md","hash":"9766b1bd5c182bb86496695714b7ef6874a4c596","modified":1547891676721},{"_id":"source/_posts/数据库/practice-linkman.md","hash":"07b88298d9a0db97c71d6170236fe9ea7d8ff35d","modified":1547709092839},{"_id":"source/_posts/数据库/practice.md","hash":"3a90256e280be63e4244eca9eaa43072741987cc","modified":1547709147252},{"_id":"source/_posts/数据库/pymysql.md","hash":"e3c18014f27a8595850c7ffee644abb98295fc61","modified":1552528269111},{"_id":"source/_posts/数据库/redis-order.md","hash":"4996d9ef774adbbb26c2ac2bf119a7cfb18fe7a7","modified":1552528263033},{"_id":"source/_posts/数据库/数据库.md","hash":"2e4e6379d62f425396c136a07f7f1379c2ea8283","modified":1552528256785},{"_id":"source/images/10.jpg","hash":"7057d59962b32013562047e8c95f36aa287c671b","modified":1547886606379},{"_id":"source/images/KDA2.jpg","hash":"70efa5105cb4714bda2f96e6572c9a11f4e2e287","modified":1546430560959},{"_id":"source/images/LoL.jpg","hash":"2d77f3d88edf19b47ed9640d779ad06c910b49fb","modified":1546430559365},{"_id":"themes/hexo-theme-matery1/.git/info/exclude","hash":"c879df015d97615050afa7b9641e3352a1e701ac","modified":1538991315658},{"_id":"themes/hexo-theme-matery1/.git/hooks/applypatch-msg.sample","hash":"4de88eb95a5e93fd27e78b5fb3b5231a8d8917dd","modified":1538991315622},{"_id":"themes/hexo-theme-matery1/.git/hooks/commit-msg.sample","hash":"ee1ed5aad98a435f2020b6de35c173b75d9affac","modified":1538991315623},{"_id":"themes/hexo-theme-matery1/.git/hooks/fsmonitor-watchman.sample","hash":"f7c0aa40cb0d620ff0bca3efe3521ec79e5d7156","modified":1538991315624},{"_id":"themes/hexo-theme-matery1/.git/hooks/post-update.sample","hash":"b614c2f63da7dca9f1db2e7ade61ef30448fc96c","modified":1538991315626},{"_id":"themes/hexo-theme-matery1/.git/hooks/pre-applypatch.sample","hash":"f208287c1a92525de9f5462e905a9d31de1e2d75","modified":1538991315644},{"_id":"themes/hexo-theme-matery1/.git/hooks/pre-commit.sample","hash":"33729ad4ce51acda35094e581e4088f3167a0af8","modified":1538991315646},{"_id":"themes/hexo-theme-matery1/.git/hooks/pre-push.sample","hash":"5c8518bfd1d1d3d2c1a7194994c0a16d8a313a41","modified":1538991315648},{"_id":"themes/hexo-theme-matery1/.git/hooks/pre-rebase.sample","hash":"288efdc0027db4cfd8b7c47c4aeddba09b6ded12","modified":1538991315650},{"_id":"themes/hexo-theme-matery1/.git/hooks/pre-receive.sample","hash":"705a17d259e7896f0082fe2e9f2c0c3b127be5ac","modified":1538991315652},{"_id":"themes/hexo-theme-matery1/.git/hooks/prepare-commit-msg.sample","hash":"2584806ba147152ae005cb675aa4f01d5d068456","modified":1538991315654},{"_id":"themes/hexo-theme-matery1/.git/hooks/update.sample","hash":"e729cd61b27c128951d139de8e7c63d1a3758dde","modified":1538991315656},{"_id":"themes/hexo-theme-matery1/.git/logs/HEAD","hash":"cd30c677aacf6a8417ece2d9cf04562c2ca9ff1c","modified":1538998885657},{"_id":"themes/hexo-theme-matery1/layout/_partial/back-top.ejs","hash":"8c91d2088c9bb323246b054d4940bde6cead6828","modified":1552236170000},{"_id":"themes/hexo-theme-matery1/layout/_partial/bg-cover-content.ejs","hash":"2d9a44f6fbed4d117bbc403095d9a810cb05303c","modified":1552236170000},{"_id":"themes/hexo-theme-matery1/layout/_partial/disqus.ejs","hash":"a0f53d1a9b579d52e52ccad8c6e330bf3b89547e","modified":1552236170000},{"_id":"themes/hexo-theme-matery1/layout/_partial/bg-cover.ejs","hash":"02191109712f61c0e487b8f0b8466597181a9004","modified":1552236170000},{"_id":"themes/hexo-theme-matery1/layout/_partial/footer.ejs","hash":"ce532a7ea00cdc0686531328c2efaea536bc7cf8","modified":1552543688336},{"_id":"themes/hexo-theme-matery1/layout/_partial/github-link.ejs","hash":"3aeb581bd78ab8e15b858e4c44c03bcf92f20b9e","modified":1552236170000},{"_id":"themes/hexo-theme-matery1/layout/_partial/gitalk.ejs","hash":"e4c5bf28ddc29519eee8debe79cce45bf279adeb","modified":1552236170000},{"_id":"themes/hexo-theme-matery1/layout/_partial/gitment.ejs","hash":"0abfb51dc80ad063fb2118bee28de6bb8d99ed4e","modified":1552236170000},{"_id":"themes/hexo-theme-matery1/layout/_partial/google-analytics.ejs","hash":"5f4992205617da5f8cc5863c62b5ec46e414e2fb","modified":1552236170000},{"_id":"themes/hexo-theme-matery1/layout/_partial/head.ejs","hash":"1f337fe1343f87fc958eded799a9ac93fc194e87","modified":1552236170000},{"_id":"themes/hexo-theme-matery1/layout/_partial/header.ejs","hash":"e253c813b3ee5ed924700a95133741802e58adc5","modified":1552236170000},{"_id":"themes/hexo-theme-matery1/layout/_partial/index-cover.ejs","hash":"6583c00323d891a03343b6a621a0484a68d74f8a","modified":1552236170000},{"_id":"themes/hexo-theme-matery1/layout/_partial/livere.ejs","hash":"9c3401b42ea7f26410a5593bae93ada7e57b43be","modified":1552236170000},{"_id":"themes/hexo-theme-matery1/layout/_partial/navigation.ejs","hash":"20216e7ad6b48d4a4f8d11d6881e667e5186820f","modified":1552236170000},{"_id":"themes/hexo-theme-matery1/layout/_partial/mobile-nav.ejs","hash":"b70a2d40677d64d6b56fc51ac1331ad3a50e777c","modified":1552236170000},{"_id":"themes/hexo-theme-matery1/layout/_partial/paging.ejs","hash":"68a24cad2b2049c4dc3a250aa30bf4256f9e50cb","modified":1552236170000},{"_id":"themes/hexo-theme-matery1/layout/_partial/post-cover.ejs","hash":"5b423384b9c0fe77acc4247a8a85304022e5bd2a","modified":1552236170000},{"_id":"themes/hexo-theme-matery1/layout/_partial/post-detail-toc.ejs","hash":"d4114c22126704cc1754d6d28cb00aec020b428b","modified":1552236170000},{"_id":"themes/hexo-theme-matery1/layout/_partial/post-detail.ejs","hash":"13cc4efb0cf29dc9879041da74d6bc8bf2695010","modified":1552236170000},{"_id":"themes/hexo-theme-matery1/layout/_partial/post-statis.ejs","hash":"2b2fe8e8e94e65c52a4dbd454168e9b9df6baf10","modified":1552236170000},{"_id":"themes/hexo-theme-matery1/layout/_partial/reward.ejs","hash":"3dff4f6a73973b0b32f40604244255f3c2a5bb78","modified":1552236170000},{"_id":"themes/hexo-theme-matery1/layout/_partial/search.ejs","hash":"942609b9240d5c8c09b24562fc8fb31eabe1cae4","modified":1552236170000},{"_id":"themes/hexo-theme-matery1/layout/_partial/prev-next.ejs","hash":"3f73f077b05b6bf41150b00f43870a41d3fa390f","modified":1552236170000},{"_id":"themes/hexo-theme-matery1/layout/_partial/share.ejs","hash":"34f8e4250bb66012026aa50686a7c89a0414ca1b","modified":1552236170000},{"_id":"themes/hexo-theme-matery1/layout/_partial/social-link.ejs","hash":"62e10bf4577946190e9c31dcdc2799a4ad1d00dd","modified":1552236170000},{"_id":"themes/hexo-theme-matery1/layout/_partial/valine.ejs","hash":"90527186fc8ed906eb1f20b59bc7f86caab9087b","modified":1552236170000},{"_id":"themes/hexo-theme-matery1/layout/_widget/category-cloud.ejs","hash":"a5a10d6fa66a389d0253d7a52e0a646af6e8e9be","modified":1552236170000},{"_id":"themes/hexo-theme-matery1/layout/_widget/category-radar.ejs","hash":"f5561dd7d53d68897a33090bf677719213459b19","modified":1552236170000},{"_id":"themes/hexo-theme-matery1/layout/_widget/dream.ejs","hash":"684450f0b42f89ab70370c5248b34e55b7adf6fc","modified":1552236170000},{"_id":"themes/hexo-theme-matery1/layout/_widget/music.ejs","hash":"8eafddbd73fed80e85c66d49837c1a241b087258","modified":1552236170000},{"_id":"themes/hexo-theme-matery1/layout/_widget/my-gallery.ejs","hash":"f81eb2891bea326908057029e2a063001371ba9b","modified":1552236170000},{"_id":"themes/hexo-theme-matery1/layout/_widget/my-projects.ejs","hash":"b9bf70ec5d97b0e14bb1b4f60f92db7680be5949","modified":1552236170000},{"_id":"themes/hexo-theme-matery1/layout/_widget/post-calendar.ejs","hash":"0b0a3eb6af29bf0d55d535958c44b01c0f18d10d","modified":1552236170000},{"_id":"themes/hexo-theme-matery1/layout/_widget/my-skills.ejs","hash":"bd0edf8dad95b2255890d59fb6d6ed6f2eab9c2f","modified":1552236170000},{"_id":"themes/hexo-theme-matery1/layout/_widget/recommend.ejs","hash":"babaa0cb32146870785449c70748721235e4eff0","modified":1552236170000},{"_id":"themes/hexo-theme-matery1/layout/_widget/post-charts.ejs","hash":"af0604623db37ef800bb7ad48028d18d99efbbc3","modified":1552236170000},{"_id":"themes/hexo-theme-matery1/layout/_widget/tag-wordcloud.ejs","hash":"cb7a0151cd20e90351e151c22bca9d4c3112f234","modified":1552236170000},{"_id":"themes/hexo-theme-matery1/layout/_widget/video.ejs","hash":"bda810cc135b52f834f1c1ccf52defccacace714","modified":1552236170000},{"_id":"themes/hexo-theme-matery1/layout/_widget/tag-cloud.ejs","hash":"a3725f0e3a405acb595b04630a27765b537fb580","modified":1552236170000},{"_id":"themes/hexo-theme-matery1/source/css/gitment.css","hash":"2bd15cc17dca35ac3ecc0acf167a23a1dd362acd","modified":1552236170000},{"_id":"themes/hexo-theme-matery1/source/css/matery.css","hash":"d0a842bf0795a583bef92729f66507901bd95b61","modified":1552236170000},{"_id":"themes/hexo-theme-matery1/source/css/my-gitalk.css","hash":"eeda46a83d0db1cc239a9cd27d544faf663f9883","modified":1552236170000},{"_id":"themes/hexo-theme-matery1/source/css/my.css","hash":"497e50351f7838f8546cac76850a42e7e380a110","modified":1552236170000},{"_id":"themes/hexo-theme-matery1/source/js/matery.js","hash":"92f07106944f5ef7cd72e84bb3534513d00eebe1","modified":1552236170000},{"_id":"themes/hexo-theme-matery1/source/js/search.js","hash":"499e11786efbb04815b54a1de317cc8606a37555","modified":1552236170000},{"_id":"themes/hexo-theme-matery1/source/medias/avatar.jpg","hash":"b7f8ca0c682f95d93f002c845aafbcb508ec2b0f","modified":1552236170000},{"_id":"themes/hexo-theme-matery1/source/medias/favicon.png","hash":"9d5f13f21e7ba359f7d1890471a4d64b95bb7bd7","modified":1538991394452},{"_id":"themes/hexo-theme-matery1/source/medias/logo.png","hash":"4050259723bd418648ec40028a8020364e57a6a3","modified":1552236170000},{"_id":"source/images/09.jpg","hash":"1958f4a536c24bf144d46631db2a85a966f473ca","modified":1547886601686},{"_id":"source/images/06.jpg","hash":"69198b160400a6ae8e719925a9026e74ebdea73f","modified":1547886556429},{"_id":"source/images/11.jpg","hash":"951a4f4c29fb0d752b5a73b1955fbb652dc15e6c","modified":1547886610846},{"_id":"source/_posts/Django/Django/django_centos_nginx_peizhi.png","hash":"8d4145d145731ca9fbab6d325b9590728dd1590e","modified":1544791956891},{"_id":"source/_posts/Linux/Linux服务器/Linux1.jpg","hash":"b6efd05c56f02e4f5fc591c1133d7d4ccbf2b631","modified":1539327425279},{"_id":"source/_posts/前端/HTML/特殊字符表示.png","hash":"707646bde75f8698994d3dadeea70cd40fe53f8b","modified":1540785332050},{"_id":"source/_posts/前端/CSS样式表/常用的属性.png","hash":"1fef2157b140faefb8aa9935be1361b506306cfe","modified":1540891345619},{"_id":"source/_posts/前端/web-daytwo/QQ截图20181023121317.png","hash":"2baffb95dd6eccb5d41e2be951d7de3a94dbeb16","modified":1540268012697},{"_id":"source/_posts/前端/web-daytwo/QQ截图20181023121548.png","hash":"eb69ef43500ede21457293106c643998633a35e0","modified":1540268151249},{"_id":"source/_posts/前端/web-daytwo/QQ截图20181023141556.png","hash":"f3741611bee42b2f5b73dc6a95e5cfb564db659e","modified":1540275360981},{"_id":"source/_posts/前端/web-daytwo/QQ截图20181023122235.png","hash":"a96c099b69cb38d6e67969f0da115c2e76aad28f","modified":1540268557342},{"_id":"source/_posts/前端/web-daytwo/database.jpg","hash":"59a45f516bf935fcd56c950a06b93c8c24034cc0","modified":1540262483650},{"_id":"source/_posts/前端/web-the-firstone/QQ截图20181022152640.png","hash":"f227c7991f8d00ce050231fb55a0146aa675abb8","modified":1540193238437},{"_id":"source/_posts/前端/web-the-firstone/QQ截图20181022171438.png","hash":"98708ecfba545a96bb0457747d292f8260afdb39","modified":1540199681824},{"_id":"source/_posts/前端/web-the-firstone/QQ截图20181022152916.png","hash":"1ca81f9a8b111cd373a22ae83abbae38faa14577","modified":1540193362430},{"_id":"source/_posts/前端/web-the-firstone/ensurepip.png","hash":"b332c450f5da885d5f1036e27318f2b725a753e8","modified":1540179687788},{"_id":"source/_posts/前端/web-the-firstone/pip_virtualenv.png","hash":"2e16affa5bb05dbf7e52108adad1baf5460a8c1e","modified":1540179706504},{"_id":"source/_posts/前端/web-the-firstone/pip3.png","hash":"f36b82c66914db96c43b6cc14a586d767a58cc2f","modified":1540179231097},{"_id":"source/_posts/前端/web-the-firstone/python.png","hash":"efe1f92119ad59117de45aebf239d60a6379eaed","modified":1540179241745},{"_id":"source/_posts/前端/web-the-firstone/virtualenv_env_p.png","hash":"85a6e2957247a96015698e3b9e336edab89412a2","modified":1540179739609},{"_id":"source/_posts/前端/web-the-firstone/virtualenv_help.png","hash":"be4c2595a25d5c0c90639a8684e6540e1711c8ea","modified":1540179725020},{"_id":"source/_posts/数据库/MySQL/表与表的关系.png","hash":"569753dbc4f5cb1fa8644e84a80393aba56ba96d","modified":1539673793756},{"_id":"source/_posts/数据库/MySQL预习/MySQL1.jpg","hash":"4f75949fe7561edfeebb0c1630a54f85d19c54b7","modified":1539413288137},{"_id":"source/_posts/数据库/practice/表连接2.png","hash":"20f24c790d6c8ec7539bd1db448277e5e50202bc","modified":1539739825786},{"_id":"source/_posts/数据库/practice/表连接1.png","hash":"cd301501e02e346428c3d54e55fa381cc78f1c1d","modified":1539739806427},{"_id":"source/_posts/数据库/practice/表连接4.png","hash":"ab66e4f0308ecaf5b0dc8ed1ebe228114c7c405d","modified":1539739932203},{"_id":"source/_posts/数据库/practice/表连接3.png","hash":"88ce9a6c5f9838a74fa93473b2646a91715e4dee","modified":1539739853550},{"_id":"themes/hexo-theme-matery1/.git/objects/2f/81d464809eab08352b81d079c0e6d192005545","hash":"63c3795b0d170d6ae26121280f776b7eb1caec5e","modified":1538998885140},{"_id":"themes/hexo-theme-matery1/.git/objects/62/ab304e1d4227961d32b25b98fdd00ac27d9fe4","hash":"986f994047a67a4c0e43019706cf3b7b21d5e1a7","modified":1538998885083},{"_id":"themes/hexo-theme-matery1/.git/objects/7a/45fef50ee30e629071d8aca03b693f1dadcf22","hash":"8e4f674e2eb41013077a1f155909f1fc5459be95","modified":1538998885171},{"_id":"themes/hexo-theme-matery1/.git/objects/20/0362f21944e89cf469429f178274db54604241","hash":"5896f82a8ca136492b31c8efdc38f4986b61fa3b","modified":1538998885041},{"_id":"themes/hexo-theme-matery1/.git/objects/cb/7b890789c1c577b77753c797b2f5835230b1c2","hash":"94b4c2fafe95299b35622eaa54df06667b998963","modified":1538998885115},{"_id":"themes/hexo-theme-matery1/.git/objects/pack/pack-48ce886987b5c007e794866526c8972e02c6015d.idx","hash":"76fd60a9761045aa4c84b5dc55b83b10b5e06ad5","modified":1538991393978},{"_id":"themes/hexo-theme-matery1/.git/objects/pack/pack-7a3cf75e1810f3d99d63eccb6639731c570351af.idx","hash":"f8621e4331ceed886f31cddc42f1146fbc9e08a4","modified":1547640653353},{"_id":"themes/hexo-theme-matery1/.git/refs/heads/develop","hash":"1363a9e1aa06e089fdeeafbb4c42477d9751faa7","modified":1538998885656},{"_id":"themes/hexo-theme-matery1/source/medias/cover.jpg","hash":"d4957ff7cc5e88555cd840f2956ab0561e6f1ccf","modified":1552236170000},{"_id":"themes/hexo-theme-matery1/source/medias/featureimages/13.jpg","hash":"66706dfde7d910182c2f1dbadd0e9e917630b8dd","modified":1552236170000},{"_id":"themes/hexo-theme-matery1/source/medias/featureimages/15.jpg","hash":"5cf9fc64d5d74ab6ba69bb8bff580fdc22ba32d0","modified":1552236170000},{"_id":"themes/hexo-theme-matery1/source/medias/featureimages/16.jpg","hash":"9cac6b80b0cc8959fc8aabfbd1adcab79ebebfc9","modified":1552236170000},{"_id":"themes/hexo-theme-matery1/source/medias/featureimages/2.jpg","hash":"16f1d89cdba4dce935ac0f12599e0fcfda543a93","modified":1552236170000},{"_id":"themes/hexo-theme-matery1/source/medias/featureimages/21.jpg","hash":"d70b088850c3565e5b5bb9eb8fe4abe688c964cf","modified":1552236170000},{"_id":"themes/hexo-theme-matery1/source/medias/featureimages/22.jpg","hash":"bf5b59d193e5ca089a7fff034c222bfa2c4dc41f","modified":1552236170000},{"_id":"themes/hexo-theme-matery1/source/medias/featureimages/23.jpg","hash":"ed5ac9f616d3b99af5188a10b1761884c37e93e5","modified":1552236170000},{"_id":"themes/hexo-theme-matery1/source/medias/featureimages/26.jpg","hash":"2f5d6e0feb82804ea9cec61d7f9139b556d9d389","modified":1540787328283},{"_id":"themes/hexo-theme-matery1/source/medias/featureimages/27.jpg","hash":"409f1f6b1a960175b9280523d2867d166efe6079","modified":1540787340473},{"_id":"themes/hexo-theme-matery1/source/medias/featureimages/31.jpg","hash":"306113e257e47090e7fdb255373bed43efb12cb1","modified":1541161247577},{"_id":"themes/hexo-theme-matery1/source/medias/featureimages/5.jpg","hash":"c3c1f36a1b1886037db604f151f335cd4599e970","modified":1552236170000},{"_id":"themes/hexo-theme-matery1/source/medias/featureimages/8.jpg","hash":"5a46ca4ab4c4ab2101a2af77a31a8878bccc483c","modified":1552236170000},{"_id":"themes/hexo-theme-matery1/source/medias/featureimages/logo.png","hash":"4050259723bd418648ec40028a8020364e57a6a3","modified":1538991394802},{"_id":"themes/hexo-theme-matery1/source/medias/reward/alipay.jpg","hash":"37c441c9880a973f4e787d228ffc677a417959ea","modified":1552544770309},{"_id":"themes/hexo-theme-matery1/source/medias/featureimages/7.jpg","hash":"a0246a4a560438938489cdd154e35f172b3f31b0","modified":1552236170000},{"_id":"themes/hexo-theme-matery1/source/medias/reward/wechat.png","hash":"fe93385aa92fe328e01c8221a80b039be9e4e140","modified":1552236170000},{"_id":"themes/hexo-theme-matery1/source/libs/aplayer/APlayer.min.css","hash":"07372a2ba507388d0fed166d761b1c2c2a659dce","modified":1552236170000},{"_id":"themes/hexo-theme-matery1/source/libs/aplayer/APlayer.min.js","hash":"22caa28ff6b41a16ff40f15d38f1739e22359478","modified":1552236170000},{"_id":"themes/hexo-theme-matery1/source/libs/cryptojs/crypto-js.min.js","hash":"5989527a378b55011a59522f41eeb3981518325c","modified":1552236170000},{"_id":"themes/hexo-theme-matery1/source/libs/dplayer/DPlayer.min.css","hash":"f7d19655f873b813ffba5d1a17145c91f82631b8","modified":1552236170000},{"_id":"themes/hexo-theme-matery1/source/libs/gitalk/gitalk.css","hash":"3aac1db83b0135c521187254ff302d125cc30706","modified":1552236170000},{"_id":"themes/hexo-theme-matery1/source/libs/gitment/gitment-default.css","hash":"2903c59ee06b965bef32e937bd69f5b0b2190717","modified":1552236170000},{"_id":"themes/hexo-theme-matery1/source/libs/jqcloud/jqcloud-1.0.4.min.js","hash":"257eaae3020599e4939f50d5008a743827f25b8c","modified":1552236170000},{"_id":"themes/hexo-theme-matery1/source/libs/jqcloud/jqcloud.css","hash":"20d9f11a19d95c70e27cb922e0d6dccbec4eae89","modified":1552236170000},{"_id":"themes/hexo-theme-matery1/source/libs/masonry/masonry.pkgd.min.js","hash":"ff940b4ea68368ca0e4d5560cbb79fb147dfc3c5","modified":1552236170000},{"_id":"themes/hexo-theme-matery1/source/libs/others/busuanzi.pure.mini.js","hash":"6e41f31100ae7eb3a6f23f2c168f6dd56e7f7a9a","modified":1552236170000},{"_id":"themes/hexo-theme-matery1/source/libs/others/clicklove.js","hash":"6a39b8c683ba5dcd92f70c6ab45d1cfac3213e8e","modified":1552236170000},{"_id":"themes/hexo-theme-matery1/source/libs/scrollprogress/scrollProgress.min.js","hash":"777ffe5d07e85a14fbe97d846f45ffc0087251cc","modified":1552236170000},{"_id":"themes/hexo-theme-matery1/source/libs/tocbot/tocbot.css","hash":"15601837bf8557c2fd111e4450ed4c8495fd11a0","modified":1552236170000},{"_id":"themes/hexo-theme-matery1/source/libs/tocbot/tocbot.min.js","hash":"5ec27317f0270b8cf6b884c6f12025700b9a565c","modified":1552236170000},{"_id":"source/_posts/Linux/意外的操作/1.jpg","hash":"7b971e2f9c4852cb6b92fd0f05f0a521ce71a966","modified":1542094977541},{"_id":"source/_posts/python/Word-cloud/Figure_2.png","hash":"508d615b8acdbb22ac5390d29c6ff9f5a64fdf22","modified":1550059744156},{"_id":"source/_posts/前端/JavaScript-one/位运算.png","hash":"b00f8e26cd992c017a0ccf3c6540e034206a7e68","modified":1541132191199},{"_id":"source/images/05.jpg","hash":"08c6b376016a72858de1bb139ec55e669abe46b5","modified":1547886584456},{"_id":"themes/hexo-theme-matery1/source/libs/animate/animate.min.css","hash":"97afa151569f046b2e01f27c1871646e9cd87caf","modified":1552236170000},{"_id":"themes/hexo-theme-matery1/source/libs/aos/aos.js","hash":"02bfb40b0c4b6e9b0b4081218357145cbb327d74","modified":1552236170000},{"_id":"themes/hexo-theme-matery1/source/libs/aos/aos.css","hash":"191a3705a8f63e589a50a0ff2f2c5559f1a1b6b2","modified":1552236170000},{"_id":"themes/hexo-theme-matery1/source/medias/banner/0.jpg","hash":"1f2ec55fe7825475fde2601573bb622f0bf2acba","modified":1552236170000},{"_id":"themes/hexo-theme-matery1/source/medias/banner/2.jpg","hash":"8d3c8391ff161eec70f66d69e5545a9468cc52ef","modified":1552236170000},{"_id":"themes/hexo-theme-matery1/source/medias/featureimages/0.jpg","hash":"2066cdda98ad0035071cd4aa7bd696eb078c0b6d","modified":1552236170000},{"_id":"themes/hexo-theme-matery1/source/medias/featureimages/11.jpg","hash":"9ed45f95b83626e3d91d6c405eb8bfe6fcb9736a","modified":1552236170000},{"_id":"themes/hexo-theme-matery1/source/medias/featureimages/1.jpg","hash":"d16e28bd23ea3a63643826dde5eea6b7a9bdda5d","modified":1552236170000},{"_id":"themes/hexo-theme-matery1/source/medias/featureimages/10.jpg","hash":"838e704942de076c60894d14e5f280e2724b6f68","modified":1552236170000},{"_id":"themes/hexo-theme-matery1/source/medias/featureimages/12.jpg","hash":"047be4239dd7e0be83243ee6b49a392a61f16b9a","modified":1552236170000},{"_id":"themes/hexo-theme-matery1/source/medias/featureimages/14.jpg","hash":"8aeb816faca2d5eaea4cce9e881d6ff87b8c7cf1","modified":1552236170000},{"_id":"themes/hexo-theme-matery1/source/medias/featureimages/17.jpg","hash":"f168ca5b046d10a878a7b0bcfab540e2c4428887","modified":1552236170000},{"_id":"themes/hexo-theme-matery1/source/medias/featureimages/18.jpg","hash":"ae23fdfaa59bc57b7ed49e90c5d59e4b68e1eea5","modified":1552236170000},{"_id":"themes/hexo-theme-matery1/source/medias/featureimages/19.jpg","hash":"57bc7c804b78b5cceb4eb1f9e51b734b75151b71","modified":1552236170000},{"_id":"themes/hexo-theme-matery1/source/medias/featureimages/20.jpg","hash":"8271c4a327632b566ea62f546c083d08a0528e72","modified":1552236170000},{"_id":"themes/hexo-theme-matery1/source/medias/featureimages/28.jpg","hash":"759f6a027e6f8958c9165b7d3ae32456633f8d57","modified":1540787353393},{"_id":"themes/hexo-theme-matery1/source/medias/featureimages/33.jpg","hash":"e3cc3d7b717f7fa38c56a671791bee4006a8326a","modified":1544176962361},{"_id":"themes/hexo-theme-matery1/source/medias/featureimages/4.jpg","hash":"4eea5bdb5724ef1ed65790e481eda0d2fb176bf0","modified":1552236170000},{"_id":"themes/hexo-theme-matery1/source/medias/featureimages/3.jpg","hash":"5e879652e032f02961a331b598a50b60ebe80a39","modified":1552236170000},{"_id":"themes/hexo-theme-matery1/source/medias/featureimages/6.jpg","hash":"c63ff64bdd5f6c82da8804c7248fc519d23eaf0b","modified":1552236170000},{"_id":"themes/hexo-theme-matery1/source/medias/featureimages/9.jpg","hash":"815c84778b721e3606c2bd7c099c7de7c53251ba","modified":1552236170000},{"_id":"themes/hexo-theme-matery1/source/libs/dplayer/DPlayer.min.js","hash":"c3bad7b265574fab0ae4d45867422ea1cb9d6599","modified":1552236170000},{"_id":"themes/hexo-theme-matery1/source/libs/gitment/gitment.js","hash":"28c02c45ce568e084cd1041dc493f83f9c6c88c6","modified":1552236170000},{"_id":"themes/hexo-theme-matery1/source/libs/jquery/jquery-2.2.0.min.js","hash":"5d7e5bbfa540f0e53bd599e4305e1a4e815b5dd1","modified":1552236170000},{"_id":"themes/hexo-theme-matery1/source/libs/valine/Valine.min.js","hash":"031c1a5640d64ab3b829395ad5a7596b9fb122e6","modified":1552236170000},{"_id":"source/_posts/前端/web-the-firstone/QQ截图20181022103251.png","hash":"5ebce20deaaf0e85bf00f6106ace5748857c2ad3","modified":1540175582585},{"_id":"themes/hexo-theme-matery1/.git/refs/remotes/origin/develop","hash":"615b284b9bac1aed261786ce140c294f3e56a798","modified":1547640653735},{"_id":"themes/hexo-theme-matery1/.git/logs/refs/heads/develop","hash":"cd30c677aacf6a8417ece2d9cf04562c2ca9ff1c","modified":1538998885658},{"_id":"themes/hexo-theme-matery1/.git/refs/remotes/origin/HEAD","hash":"cb587ac979c5a12ea2fad8ca5af781961c1b0668","modified":1538991394254},{"_id":"themes/hexo-theme-matery1/.git/refs/remotes/origin/master","hash":"615b284b9bac1aed261786ce140c294f3e56a798","modified":1547640653755},{"_id":"themes/hexo-theme-matery1/source/medias/banner/1.jpg","hash":"c3d5ab183b39a7140941b8375e29498f9d24f343","modified":1552236170000},{"_id":"themes/hexo-theme-matery1/source/medias/banner/3.jpg","hash":"d4957ff7cc5e88555cd840f2956ab0561e6f1ccf","modified":1552236170000},{"_id":"themes/hexo-theme-matery1/source/medias/banner/5.jpg","hash":"4a08deec1dd5b4f1490e8fc23adfb75a0f88b0c4","modified":1552236170000},{"_id":"themes/hexo-theme-matery1/source/medias/banner/6.jpg","hash":"62e9586a8cec91a160f147c424a3d1d1aea360f9","modified":1552236170000},{"_id":"themes/hexo-theme-matery1/source/medias/featureimages/32.jpg","hash":"7421b043bffc7d5d52cc100615d31fbcf1642ebb","modified":1544176727038},{"_id":"themes/hexo-theme-matery1/source/medias/featureimages/cover.jpg","hash":"d4957ff7cc5e88555cd840f2956ab0561e6f1ccf","modified":1538991394733},{"_id":"themes/hexo-theme-matery1/source/libs/gitalk/gitalk.min.js","hash":"734f56442e62fe55f677e8ccae7f175445667767","modified":1552236170000},{"_id":"themes/hexo-theme-matery1/source/libs/lightGallery/css/lightgallery.min.css","hash":"1b7227237f9785c66062a4811508916518e4132c","modified":1552236170000},{"_id":"themes/hexo-theme-matery1/source/libs/lightGallery/img/loading.gif","hash":"15a76af2739482d8de7354abc6d8dc4fca8d145e","modified":1552236170000},{"_id":"themes/hexo-theme-matery1/source/libs/lightGallery/img/video-play.png","hash":"fbfdbe06aebf7d0c00da175a4810cf888d128f11","modified":1552236170000},{"_id":"themes/hexo-theme-matery1/source/libs/lightGallery/img/vimeo-play.png","hash":"1142b47de219dddfba2e712cd3189dec0c8b7bee","modified":1552236170000},{"_id":"themes/hexo-theme-matery1/source/libs/lightGallery/img/youtube-play.png","hash":"39150b45ec5fc03155b7ebeaa44f1829281788e2","modified":1552236170000},{"_id":"themes/hexo-theme-matery1/source/libs/lightGallery/fonts/lg.eot","hash":"54caf05a81e33d7bf04f2e420736ce6f1de5f936","modified":1552236170000},{"_id":"themes/hexo-theme-matery1/source/libs/lightGallery/fonts/lg.svg","hash":"9a732790adc004b22022cc60fd5f77ec4c8e3e5a","modified":1552236170000},{"_id":"themes/hexo-theme-matery1/source/libs/lightGallery/fonts/lg.ttf","hash":"f6421c0c397311ae09f9257aa58bcd5e9720f493","modified":1552236170000},{"_id":"themes/hexo-theme-matery1/source/libs/lightGallery/fonts/lg.woff","hash":"3048de344dd5cad4624e0127e58eaae4b576f574","modified":1552236170000},{"_id":"themes/hexo-theme-matery1/source/libs/lightGallery/js/lightgallery-all.min.js","hash":"9f5ef4bc8a0a3c746ca4f3c3e6d64493b1a977d8","modified":1552236170000},{"_id":"themes/hexo-theme-matery1/source/libs/materialize/materialize.min.css","hash":"80ae4aa0dba3634dd9bf59586d541d2dd8d8191c","modified":1552236170000},{"_id":"themes/hexo-theme-matery1/source/libs/materialize/materialize.min.js","hash":"c8b4c65651921d888cf5f27430dfe2ad190d35bf","modified":1552236170000},{"_id":"themes/hexo-theme-matery1/source/libs/valine/av-min.js","hash":"2577e72b52b736d99649f9e95be8976d58563333","modified":1552236170000},{"_id":"themes/hexo-theme-matery1/source/libs/share/css/share.min.css","hash":"8a778a86f3ce9a042df6be63a9f1039631e351a5","modified":1552236170000},{"_id":"themes/hexo-theme-matery1/source/libs/share/fonts/iconfont.eot","hash":"00ff749c8e202401190cc98d56087cdda716abe4","modified":1552236170000},{"_id":"themes/hexo-theme-matery1/source/libs/share/fonts/iconfont.svg","hash":"f0a1b849868a6bf351ff98dc3924a4e7254eb88b","modified":1552236170000},{"_id":"themes/hexo-theme-matery1/source/libs/share/fonts/iconfont.ttf","hash":"afd898f59d363887418669520b24d175f966a083","modified":1552236170000},{"_id":"themes/hexo-theme-matery1/source/libs/share/fonts/iconfont.woff","hash":"2e3fce1dcfbd6e2114e7bfbeaf72d3c62e15a1bd","modified":1552236170000},{"_id":"themes/hexo-theme-matery1/source/libs/share/js/jquery.share.min.js","hash":"16ce82901ca0e302cf47a35fb10f59009a5e7eb9","modified":1552236170000},{"_id":"themes/hexo-theme-matery1/source/libs/share/js/social-share.min.js","hash":"4df722bafde2c5d8faaace0d1f894798385a8793","modified":1552236170000},{"_id":"source/_posts/Linux/意外的操作/put.jpg","hash":"9047c8784672982ade802e7e9b820d1f87f799b4","modified":1542094523145},{"_id":"themes/hexo-theme-matery1/source/libs/awesome/css/font-awesome.min.css","hash":"512c7d79033e3028a9be61b540cf1a6870c896f8","modified":1552236170000},{"_id":"themes/hexo-theme-matery1/source/libs/awesome/fonts/fontawesome-webfont.woff2","hash":"d6f48cba7d076fb6f2fd6ba993a75b9dc1ecbf0c","modified":1552236170000},{"_id":"themes/hexo-theme-matery1/source/libs/materialize/js/materialize.min.js","hash":"338a96318e7c9452cec509fcf8dea1511db660b2","modified":1538991394682},{"_id":"source/_posts/前端/web-the-firstone/python_pip_envir.png","hash":"9ef0e72ce11ff27cd1194f24d59f2bf9d0a21f68","modified":1540179196664},{"_id":"themes/hexo-theme-matery1/source/libs/awesome/fonts/fontawesome-webfont.woff","hash":"28b782240b3e76db824e12c02754a9731a167527","modified":1552236170000},{"_id":"themes/hexo-theme-matery1/.git/logs/refs/remotes/origin/HEAD","hash":"465149344bad2e68a2587b20124348da0eec56ba","modified":1538991394254},{"_id":"themes/hexo-theme-matery1/.git/logs/refs/remotes/origin/develop","hash":"1a750c45d5c0c91b6c8bbd50120ff3597651b4fa","modified":1547640653742},{"_id":"themes/hexo-theme-matery1/.git/logs/refs/remotes/origin/master","hash":"99f1216d1917889537ce9a6f76f92c5a744d5f45","modified":1547640653758},{"_id":"themes/hexo-theme-matery1/source/medias/banner/4.jpg","hash":"56850c3139cbd72a0eff0c35d8fac32c9c66dd6a","modified":1552236170000},{"_id":"themes/hexo-theme-matery1/source/medias/featureimages/30.jpg","hash":"b6ed8bceff06689e860bd49eb3c524ac69ea05d6","modified":1540787373767},{"_id":"themes/hexo-theme-matery1/source/libs/awesome/fonts/FontAwesome.otf","hash":"048707bc52ac4b6563aaa383bfe8660a0ddc908c","modified":1552236170000},{"_id":"themes/hexo-theme-matery1/source/libs/awesome/fonts/fontawesome-webfont.ttf","hash":"13b1eab65a983c7a73bc7997c479d66943f7c6cb","modified":1552236170000},{"_id":"themes/hexo-theme-matery1/source/libs/materialize/css/materialize.min.css","hash":"4eaae73c0c2e342523d391057945e3c366020e3e","modified":1538991394599},{"_id":"themes/hexo-theme-matery1/source/libs/materialize/font/material-design-icons/LICENSE.txt","hash":"b7085b5c1dc3f56f81a8bf93290e2a3f24e4d8ed","modified":1538991394602},{"_id":"themes/hexo-theme-matery1/source/libs/materialize/font/material-design-icons/Material-Design-Icons.woff2","hash":"2355cb4f824d070bc42c4ce6b97cab71af1f4ca2","modified":1538991394624},{"_id":"themes/hexo-theme-matery1/source/libs/materialize/font/roboto/Roboto-Bold.eot","hash":"a76cd602f5188b9fbd4ba7443dcb9c064e3dbf10","modified":1538991394626},{"_id":"themes/hexo-theme-matery1/source/libs/materialize/font/roboto/Roboto-Bold.woff","hash":"ee99cd87a59a9a5d4092c83232bb3eec67547425","modified":1538991394633},{"_id":"themes/hexo-theme-matery1/source/libs/materialize/font/roboto/Roboto-Bold.woff2","hash":"933b866d09c2b087707a98dab64b3888865eeb96","modified":1538991394634},{"_id":"themes/hexo-theme-matery1/source/libs/materialize/font/roboto/Roboto-Light.eot","hash":"42fe156996197e5eb0c0264c5d1bb3b4681f4595","modified":1538991394636},{"_id":"themes/hexo-theme-matery1/source/libs/materialize/font/roboto/Roboto-Light.woff","hash":"6300f659be9e834ab263efe2fb3c581d48b1e7b2","modified":1538991394644},{"_id":"themes/hexo-theme-matery1/source/libs/materialize/font/roboto/Roboto-Light.woff2","hash":"bbdc28b887400fcb340b504ec2904993af42a5d7","modified":1538991394646},{"_id":"themes/hexo-theme-matery1/source/libs/materialize/font/roboto/Roboto-Medium.eot","hash":"1517f4b6e1c5d0e5198f937557253aac8fab0416","modified":1538991394647},{"_id":"themes/hexo-theme-matery1/source/libs/materialize/font/roboto/Roboto-Medium.woff","hash":"d45f84922131364989ad6578c7a06b6b4fc22c34","modified":1538991394655},{"_id":"themes/hexo-theme-matery1/source/libs/materialize/font/roboto/Roboto-Medium.woff2","hash":"6cc1b73571af9e827c4e7e91418f476703cd4c4b","modified":1538991394657},{"_id":"themes/hexo-theme-matery1/source/libs/materialize/font/roboto/Roboto-Regular.eot","hash":"77ae3e980ec03863ebe2587a8ef9ddfd06941db0","modified":1538991394659},{"_id":"themes/hexo-theme-matery1/source/libs/materialize/font/roboto/Roboto-Regular.woff","hash":"74734dde8d94e7268170f9b994dedfbdcb5b3a15","modified":1538991394665},{"_id":"themes/hexo-theme-matery1/source/libs/materialize/font/roboto/Roboto-Regular.woff2","hash":"ed1558b0541f5e01ce48c7db1588371b990eec19","modified":1538991394669},{"_id":"themes/hexo-theme-matery1/source/libs/materialize/font/roboto/Roboto-Thin.eot","hash":"0790a51a848dbe7292c98f9d0459218bf1a8ffdd","modified":1538991394670},{"_id":"themes/hexo-theme-matery1/source/libs/materialize/font/roboto/Roboto-Thin.woff","hash":"fbc3e71d456c96667d8082ab910e3946ef89240b","modified":1538991394677},{"_id":"themes/hexo-theme-matery1/source/libs/materialize/font/roboto/Roboto-Thin.woff2","hash":"2449e3dac5ddb7c3da8bb07450493b62d052758c","modified":1538991394678},{"_id":"source/images/bg.jpg","hash":"2aaf7fcb8aa43165c8e326929783b2a465aff2de","modified":1547886596613},{"_id":"themes/hexo-theme-matery1/source/libs/awesome/fonts/fontawesome-webfont.eot","hash":"d980c2ce873dc43af460d4d572d441304499f400","modified":1552236170000},{"_id":"source/images/timg.jpg","hash":"f0bb8be1a45d8a0713b90616535f8fbc44cef210","modified":1540199077506},{"_id":"themes/hexo-theme-matery1/source/libs/materialize/font/material-design-icons/Material-Design-Icons.eot","hash":"fc1bc1337f3313ead42b22a67a142d4e0d356b3a","modified":1538991394606},{"_id":"themes/hexo-theme-matery1/source/libs/materialize/font/material-design-icons/Material-Design-Icons.ttf","hash":"2cb66ac73a2d32ae8d2f807f705eff26fcf93323","modified":1538991394617},{"_id":"themes/hexo-theme-matery1/source/libs/materialize/font/material-design-icons/Material-Design-Icons.woff","hash":"ee77184556f7b66fcb8ee9496f81ac62f792d7dc","modified":1538991394621},{"_id":"themes/hexo-theme-matery1/source/libs/materialize/font/roboto/Roboto-Bold.ttf","hash":"47327df0f35e7cd7c8645874897a7449697544ae","modified":1538991394630},{"_id":"themes/hexo-theme-matery1/source/libs/materialize/font/roboto/Roboto-Light.ttf","hash":"e321c183e2b75ee19813892b7bac8d7c411cb88a","modified":1538991394640},{"_id":"themes/hexo-theme-matery1/source/libs/materialize/font/roboto/Roboto-Medium.ttf","hash":"6060ca726b9760b76f7c347dce9d2fa1fe42ec92","modified":1538991394651},{"_id":"themes/hexo-theme-matery1/source/libs/materialize/font/roboto/Roboto-Regular.ttf","hash":"824b5480c977a8166e177e5357d13164ccc45f47","modified":1538991394662},{"_id":"themes/hexo-theme-matery1/source/libs/materialize/font/roboto/Roboto-Thin.ttf","hash":"173ed64528b4d010a76d8d38deb1d7e7eed58eda","modified":1538991394674},{"_id":"themes/hexo-theme-matery1/source/medias/featureimages/24.jpg","hash":"ac4d8574c489d58a3d5aab2058363373c6a81ff7","modified":1540787297014},{"_id":"themes/hexo-theme-matery1/source/medias/featureimages/29.jpg","hash":"19dfce99520af7d1e53566dcafba98097c5f1d63","modified":1540787363355},{"_id":"themes/hexo-theme-matery1/source/libs/awesome/fonts/fontawesome-webfont.svg","hash":"98a8aa5cf7d62c2eff5f07ede8d844b874ef06ed","modified":1552236170000},{"_id":"themes/hexo-theme-matery1/source/libs/materialize/font/material-design-icons/Material-Design-Icons.svg","hash":"c5ff32ccf63106152dac687395d2e3551d9fcadb","modified":1538991394612},{"_id":"themes/hexo-theme-matery1/source/libs/echarts/echarts.min.js","hash":"9496f386a0da4601cad22c479cc5543913a4d67f","modified":1552236170000},{"_id":"themes/hexo-theme-matery1/source/medias/featureimages/25.jpg","hash":"51c99960819fd5b8e68fcf8ac02399a56ddf98d9","modified":1540787315536},{"_id":"themes/hexo-theme-matery1/.git/objects/pack/pack-7a3cf75e1810f3d99d63eccb6639731c570351af.pack","hash":"7777f22a57bb9da20afa52b03090ca5231492583","modified":1547640653000},{"_id":"themes/hexo-theme-matery1/.git/objects/pack/pack-48ce886987b5c007e794866526c8972e02c6015d.pack","hash":"a1b8d5d0254038f6828f236c36a54ac88c7ca25a","modified":1538991394009},{"_id":"public/search.xml","hash":"2afd8736d153942a30602c837b5974b7724a65a3","modified":1552542272298},{"_id":"public/about/index.html","hash":"0dc0b5f02dad7f93ec54d98841d26fdb124b05cd","modified":1552878583464},{"_id":"public/categories/index.html","hash":"c3a7eb72fdaf386f2d7fde4fab32094281accc61","modified":1552543793713},{"_id":"public/tags/index.html","hash":"3178bc5f5167d3b195c73e2830bf436a6d6146b9","modified":1552543793731},{"_id":"public/2019/02/13/python/Word-cloud/index.html","hash":"0d084934f0677689b81b064f328ae078e7ceb597","modified":1552545569080},{"_id":"public/2019/01/17/flask/请求与响应/index.html","hash":"70a3b595d970cfb787a78981ac8cb3263fdffc97","modified":1552545569081},{"_id":"public/2018/12/15/python/Python参考书籍/index.html","hash":"7729e63332fb7ba3ee02291e84729572254dd92e","modified":1552545569082},{"_id":"public/2018/12/14/Django/Django/index.html","hash":"6606bcce2f1f738947e1e0beec8bb7c6166a9923","modified":1552545569083},{"_id":"public/2018/11/02/python/pygame相关/index.html","hash":"d7a40df497fe0218a641c5c24a33a32edb994a1a","modified":1552545569083},{"_id":"public/2018/11/01/python/python-summary2/index.html","hash":"ff01256e04ca0b1ead60b3968679910bc359e17c","modified":1552545569083},{"_id":"public/2018/11/01/python/python-summary/index.html","hash":"639567adf93e1299f2454680969106983071b729","modified":1552545569083},{"_id":"public/2018/10/25/前端/day04/index.html","hash":"ff13448846a2ae7c6569c0b0703f2a1ff5428988","modified":1552545569083},{"_id":"public/2018/10/20/数据库/practice-linkman/index.html","hash":"e6c8a74a7fe590c7dcc02ea6327d0b036d9d95d9","modified":1552545569084},{"_id":"public/2018/10/16/数据库/practice/index.html","hash":"36ac029106938290ebcda93e2abed052417c9f63","modified":1552545569084},{"_id":"public/2018/10/17/python/python-database/index.html","hash":"6999219f7e863c31143ae356976df314b47c04dc","modified":1552545569084},{"_id":"public/2018/10/16/数据库/MySQL/index.html","hash":"1bacdd9ddc05001e8ef3625c6eabd4025118c542","modified":1552545569085},{"_id":"public/2018/10/16/flask/models2/index.html","hash":"88946e80d2b1b6e835563830cd70dcc7f8e6b286","modified":1552545569085},{"_id":"public/2018/10/15/README/index.html","hash":"fd43f081a744cdaee0612106a75ffefee7ce1f65","modified":1552545569085},{"_id":"public/2018/10/15/数据库/MySQL预习/index.html","hash":"d5efc59c23669287057e031a65c065987d46be63","modified":1552545569085},{"_id":"public/2018/10/15/flask/models1/index.html","hash":"21f6754fa1f500d069ae306a878cb1c4fc8b9665","modified":1552545569085},{"_id":"public/2018/09/18/Linux/操作命令/index.html","hash":"ae85758ce7cabf7af76bbd5dcbaab661a8e35e95","modified":1552545569086},{"_id":"public/2018/09/16/Linux/意外的操作/index.html","hash":"44dd2a00affeb420fe4ceccb063e1fa38a999d4d","modified":1552545569086},{"_id":"public/2018/08/22/数据库/pymysql/index.html","hash":"57fbde0a0d7ef1d55bb4b5c05ca031eef59eb4be","modified":1552545569086},{"_id":"public/2018/08/18/数据库/redis-order/index.html","hash":"067ccd330260cdfaaccd4da68c818835d1af7da1","modified":1552545569086},{"_id":"public/2018/08/15/数据库/数据库/index.html","hash":"8fc0b81eea182d56bfb48265f15a4a3249d462b0","modified":1552545569087},{"_id":"public/2018/07/24/前端/daythird/index.html","hash":"300c7cfd4f24bf8ad2589786e1f6f6e5f651d31b","modified":1552545569087},{"_id":"public/2018/06/15/Linux/vim/index.html","hash":"d00673835626d4a7e64dabc0615f2a2c965e149a","modified":1552545569087},{"_id":"public/2018/06/03/Linux/Linux-vim/index.html","hash":"75e2a29fa538f1e50e60d1afab45ce81da8a0c3d","modified":1552545569087},{"_id":"public/2018/05/27/spider/spider_databases/index.html","hash":"1585f9ba2f4e51ea67527efd643c15eeb9ddab9e","modified":1552545569087},{"_id":"public/2018/05/24/spider/auth_code/index.html","hash":"2c53ba5b1c4c5f65b145899838721bd4fb6f466b","modified":1552545569088},{"_id":"public/2018/05/24/spider/BeautifulSoup/index.html","hash":"a80248119c7ca3d3ba8a9e78139559bfcda625ed","modified":1552545569088},{"_id":"public/2018/05/22/spider/selenium/index.html","hash":"bf28b059878f1bbc745d16c51d9d95b5e5f11ea3","modified":1552545569089},{"_id":"public/2018/05/21/spider/u17/index.html","hash":"7f5b8c54aba28828f385fbbfc13a18209ba20b81","modified":1552545569090},{"_id":"public/2018/05/19/spider/类选择器/index.html","hash":"8706a827827e062b636d916f6cb29783ee0afdbd","modified":1552545569090},{"_id":"public/2018/05/15/spider/kaisha解码程序/index.html","hash":"abcab1f093d13738e07a1db4dc41bc8e5d657ae2","modified":1552545569091},{"_id":"public/2018/05/14/Linux/vim_practice/index.html","hash":"565df4969ff3dc39226c3c6f528f548dae832296","modified":1552545569091},{"_id":"public/2018/05/12/spider/爬电影/index.html","hash":"dec31a43fe0d37ba983eb0822dbf60adb04330a4","modified":1552545569091},{"_id":"public/2018/05/11/spider/jd/index.html","hash":"f7a3cc5815ff6385b4aa9c17a1287567454013eb","modified":1552545569092},{"_id":"public/2018/05/11/spider/爬短视频/index.html","hash":"b2c172a5a9dcbcc22bbf227e127399a34dd45b5b","modified":1552545569092},{"_id":"public/2018/05/09/spider/爬取数据/index.html","hash":"e12b1037f2fef9f9637c003ee21804856cc017ec","modified":1552545569092},{"_id":"public/2018/05/07/spider/爬取网易云音乐/index.html","hash":"86f06565faded68f41217f33c951ae4667bf90af","modified":1552545569093},{"_id":"public/2018/05/03/spider/爬视频/index.html","hash":"a7c972163b64593dee306ac48009cd260ef59573","modified":1552545569093},{"_id":"public/2018/05/02/spider/爬小说/index.html","hash":"323eefb358001d4cb2ff88f53980ca2c9970e6a0","modified":1552545569093},{"_id":"public/2018/05/01/spider/spider相关/index.html","hash":"1004cf8c44a2ea6eec5080247b8c80e1eff24e17","modified":1552545569093},{"_id":"public/2018/05/01/spider/爬音乐/index.html","hash":"71d30798ca069d33cfdebdc6c087f240c2234805","modified":1552545569094},{"_id":"public/2018/04/20/Linux/CentOS安装Python3.7/index.html","hash":"8e32d7cdd4fb92d76abbda572d75d2d33944e6f4","modified":1552545569094},{"_id":"public/2018/04/16/Linux/Linux服务器/index.html","hash":"9d8706f28af5ddcf460d8e39d3ded29bca890962","modified":1552545569094},{"_id":"public/2018/04/15/Linux/Linux文件操作及系统安装/index.html","hash":"59cdb824c561ae4a18f1e908ed6400e0eb1659e4","modified":1552545569095},{"_id":"public/2018/04/07/前端/JavaScript-createElement/index.html","hash":"418994bc41ad0afd98080a822aa77f058001f24b","modified":1552545569095},{"_id":"public/2018/04/02/前端/JavaScript-one/index.html","hash":"a24110f79fc3772122116aa3aa18a8f78f34e646","modified":1552545569095},{"_id":"public/2018/04/06/前端/JavaScript-event/index.html","hash":"1521d2d15e9c21bd11313b92203850ad029a27fb","modified":1552545569095},{"_id":"public/2018/03/29/前端/HTML/index.html","hash":"5acf60b5839395060f52fce697473986a895e9ba","modified":1552545569096},{"_id":"public/2018/03/25/Linux/http/index.html","hash":"441feb8f50454aadf29fb36757160452c94cd32d","modified":1552545569096},{"_id":"public/2018/03/19/Linux/Git版本控制/index.html","hash":"d2961b8ac55a43af5ea106c21e481152b858331a","modified":1552545569096},{"_id":"public/2018/03/15/Linux/Git/index.html","hash":"751b601fb9e2f70419d96987831d7734b33e3264","modified":1552545569096},{"_id":"public/2018/03/15/前端/hello-world/index.html","hash":"4aa29b4d4bf9fa8a1b65c55f3adfe07645f62d58","modified":1552545569097},{"_id":"public/2018/03/10/前端/JavaScript-practice/index.html","hash":"40e42e3a5f3b6fecc5e865f811a14808e9a5dc24","modified":1552545569097},{"_id":"public/2018/03/02/前端/jQuery/index.html","hash":"16c72f84deda94faa58dd3580d910cc38adc2c43","modified":1552545569097},{"_id":"public/2018/01/23/前端/web-daytwo/index.html","hash":"89fa773cb2839e4a1caff2f754c9df6765a55183","modified":1552545569098},{"_id":"public/2018/01/22/前端/CSS样式表/index.html","hash":"80739820c140eb367bcbde56e52c1914c6c5f6d5","modified":1552545569098},{"_id":"public/2018/01/22/前端/web-the-firstone/index.html","hash":"e128e4abfe3f128ff0de7b9e4662d822e7bf89db","modified":1552545569098},{"_id":"public/2018/01/16/前端/CSS属性/index.html","hash":"f19166535e22f0c2628e81c814e26ada66627ef7","modified":1552545569098},{"_id":"public/2017/11/10/python/多线程/index.html","hash":"69caf5c3524d236498eedfb8f75b1b547777783a","modified":1552545569099},{"_id":"public/2017/08/10/python/网络基础/index.html","hash":"521be6aa9ea2817a32564600fba7ed431144c3e2","modified":1552545569099},{"_id":"public/2017/07/10/python/类和对象/index.html","hash":"12851fa0f30aa8e82ddbd06a20c699ebc4dd724c","modified":1552545569099},{"_id":"public/2017/05/05/python/容器/index.html","hash":"e19f7100d8389d945c75615100aec0ccd0f08a3c","modified":1552545569100},{"_id":"public/2017/04/20/python/循环和分支/index.html","hash":"f6fd2a5da4807778564af4c388b6a18d6b50a0d1","modified":1552545569100},{"_id":"public/2017/03/26/python/正则表达式/index.html","hash":"19d1187dc73d8d8e30ebd2d070c5341f419e5d4d","modified":1552545569100},{"_id":"public/2017/03/21/python/字典与集合/index.html","hash":"5c19c672c45029db76dea0e14bfdb43695a99b4a","modified":1552545569101},{"_id":"public/2017/03/07/python/基础语法/index.html","hash":"412b68a0a4700315bde8b6e6d24de714c658faf6","modified":1552545569101},{"_id":"public/archives/index.html","hash":"d542f36a1aeb0e68fdfc882ad95a280e3bf082cb","modified":1552961758963},{"_id":"public/archives/page/2/index.html","hash":"35dc3ecaaabdc95c81303956557baf51af26f14f","modified":1552961758965},{"_id":"public/archives/page/3/index.html","hash":"219d9fc45236313b3e4a082e8cc825675937eef5","modified":1552961760165},{"_id":"public/archives/page/4/index.html","hash":"6e0ae67f50c4c0b61f0655b51f32b7fea7661207","modified":1552961760163},{"_id":"public/archives/page/5/index.html","hash":"26ebb1eb318beaa059570c4278334e703f39e902","modified":1552961760235},{"_id":"public/archives/page/6/index.html","hash":"74189f2491ad2e5476c07e0e5fb789d517f01eb8","modified":1552961760236},{"_id":"public/archives/2017/index.html","hash":"635eb9bed8b28366a20f33bcd9342299bf569514","modified":1552961760236},{"_id":"public/archives/2017/03/index.html","hash":"7130753aead6f99cf2860a9a6134efaa5f8189ec","modified":1552961760236},{"_id":"public/archives/2017/04/index.html","hash":"6ad7634499e0b9803c044acd226cff902890b965","modified":1552961760237},{"_id":"public/archives/2017/05/index.html","hash":"c22a6c5d4da354f516fcc204cc850eb388b5c97f","modified":1552961760237},{"_id":"public/archives/2017/07/index.html","hash":"08f80db2aa3f63b68f43973ed5d0c6275c0fa473","modified":1552961760237},{"_id":"public/archives/2017/08/index.html","hash":"ab60155705ca7449f0f7be5418e2da7545bb5d36","modified":1552961760237},{"_id":"public/archives/2017/11/index.html","hash":"18adc452ed3e093cf6ec0579cc833d982f0a28f4","modified":1552961760238},{"_id":"public/archives/2018/index.html","hash":"b07b0cfdb94a7e4b71164535d27f61876deb2786","modified":1552961760238},{"_id":"public/archives/2018/page/2/index.html","hash":"7bab8edd18db8ea8adb463c7aa54d7b07ce0361b","modified":1552961760238},{"_id":"public/archives/2018/page/3/index.html","hash":"fa256f1ddf8f0a6f132e248b7db9b067383f26ce","modified":1552961760238},{"_id":"public/archives/2018/page/4/index.html","hash":"86323455f3ee8f69f8443240b2e24d944b091b6c","modified":1552961760238},{"_id":"public/archives/2018/page/5/index.html","hash":"36ee21d92220a19adc6bfd677e3a3fe7564b3162","modified":1552961760241},{"_id":"public/archives/2018/01/index.html","hash":"da95afbd6cbf06013bfff3f0adb4df54cce2c701","modified":1552961760239},{"_id":"public/archives/2018/03/index.html","hash":"73c3731f6b458a3f12e1dfb684078f57fc64600b","modified":1552961760239},{"_id":"public/archives/2018/04/index.html","hash":"08d725c11c427fec02a775f37a17a3c66edd0622","modified":1552961760239},{"_id":"public/archives/2018/05/index.html","hash":"ba35ee1ea37e7c79a74967dff1cc33e9bdae1390","modified":1552961760239},{"_id":"public/archives/2018/05/page/2/index.html","hash":"f04ad21c88432d0c3b8d83e51ce63a4c71a168f0","modified":1552961760240},{"_id":"public/archives/2018/06/index.html","hash":"065ff541a24ab83165c5090e11410df25967aec4","modified":1552961760240},{"_id":"public/archives/2018/07/index.html","hash":"7abed99d94a8e0f7a5d84ee69994e851362c2c3f","modified":1552961760241},{"_id":"public/archives/2018/08/index.html","hash":"b07d94aa81dacf1f43dc4ab29b2edc8e0953c53d","modified":1552961760241},{"_id":"public/archives/2018/09/index.html","hash":"3b7e555562e9e8849f87558b42434f515c8cff37","modified":1552961760241},{"_id":"public/archives/2018/10/index.html","hash":"419851590aa6d64b2995e9ee72e8d0715756ad63","modified":1552961760243},{"_id":"public/archives/2018/11/index.html","hash":"d9db77774ad9601a0c57194c9f45bf2602c00438","modified":1552961760241},{"_id":"public/archives/2018/12/index.html","hash":"801c9a10fb8618b2a00a47658a1d1eb83d70f8d9","modified":1552961760242},{"_id":"public/archives/2019/index.html","hash":"56a84adb87163e24b0de85c1113acbef9e198a64","modified":1552961760242},{"_id":"public/archives/2019/01/index.html","hash":"26b5966f684b3add8bd13312a27e2e5f87b95b36","modified":1552961760242},{"_id":"public/archives/2019/02/index.html","hash":"7af736b637164a1c523c156a3444acb0a3996f8a","modified":1552961760242},{"_id":"public/index.html","hash":"3149eb01e48c3f0efb50a273b0bf1cea42c3efb0","modified":1552543793759},{"_id":"public/page/2/index.html","hash":"8bc8b961b7191d821811a24c701cfe3800149ba4","modified":1552543793760},{"_id":"public/page/3/index.html","hash":"f200718c27dcaad6ad29199881d631fb28341a26","modified":1552543793760},{"_id":"public/page/4/index.html","hash":"d9d40539de8840ba03a081b4e1d5cbc0d4991b48","modified":1552543793760},{"_id":"public/page/5/index.html","hash":"f9a2597ab8f62b1553af35d884488e7e7c8c1e45","modified":1552543793761},{"_id":"public/page/6/index.html","hash":"db576ec141dd00746256f81fd17f29536b6b8959","modified":1552543793761},{"_id":"public/categories/Markdown/index.html","hash":"9c79b25b496097cdc4576cbfeee3fb2e0b6486dd","modified":1552543793756},{"_id":"public/categories/Django/index.html","hash":"41b16e9a6d633042a0a502b9c6f3e1b8af3d179c","modified":1552543793757},{"_id":"public/categories/Python/index.html","hash":"a429c9015de3c920a55ce968389166dd80188b62","modified":1552543793757},{"_id":"public/categories/Python/page/2/index.html","hash":"ad30b0e1cfcaed2d5291884df0066a84d6511858","modified":1552543793757},{"_id":"public/categories/git/index.html","hash":"9dc20a7f5816bb7dc8ffb8e2d5c81affe9b0556b","modified":1552543793757},{"_id":"public/categories/Linux/index.html","hash":"f3282e687f3289842318a9b70d0d4c517d9f8b72","modified":1552543793758},{"_id":"public/categories/flask/index.html","hash":"143aa5e359c60ec57735962bf4d5c2b86d1870b3","modified":1552543793758},{"_id":"public/categories/spider/index.html","hash":"570f410b735673002da7c6e78fddfbbec3288c21","modified":1552543793758},{"_id":"public/categories/spider/page/2/index.html","hash":"7a025c4140dc163b9ebacf64f69683ce2475bd72","modified":1552543793758},{"_id":"public/categories/前端/index.html","hash":"f341b286bf61f30ddce5935253e772a1a79bb61a","modified":1552543793759},{"_id":"public/categories/databases/index.html","hash":"13ec01fa330e74810172d6cfae77dcc2e71ddef0","modified":1552543793759},{"_id":"public/tags/Markdown/index.html","hash":"21b363f6ceada6e1d563a06b68bc3999f5f735cc","modified":1552543793763},{"_id":"public/tags/Django项目部署/index.html","hash":"dea056e3738ec27f6411d0f0c355515cbf017199","modified":1552543793764},{"_id":"public/tags/MariaDB安装/index.html","hash":"52dd7043070b7a00c5277e01640c940e592690a4","modified":1552543793764},{"_id":"public/tags/Python安装/index.html","hash":"628b0c12613622eecf92ff5a5cd490e525010ceb","modified":1552543793765},{"_id":"public/tags/git代码管平台/index.html","hash":"cc88cd0f9c4d5db23a892013f7b6a24f13ce94b8","modified":1552543793765},{"_id":"public/tags/vim-practice/index.html","hash":"e874f23bae54749e5c70731e78cf8994194d41bc","modified":1552543793765},{"_id":"public/tags/Git/index.html","hash":"1a9243b63f3e9b253cdd03821ab9e059d9f20aef","modified":1552543793766},{"_id":"public/tags/软件安装/index.html","hash":"af5348a0d9f887829806827727846d7c1f73dca6","modified":1552543793766},{"_id":"public/tags/http状态码/index.html","hash":"330585752cff423f73d3eee024eeba66b969b32d","modified":1552543793766},{"_id":"public/tags/Linux操作系统/index.html","hash":"156d6484636378ef3956aa9a8d900013111d9814","modified":1552543793766},{"_id":"public/tags/Linux防火墙设置/index.html","hash":"1bc1b7ff63c2446dd041c44fb044deca79fea55b","modified":1552543793767},{"_id":"public/tags/VIM/index.html","hash":"cc8588cdab145a4600332b2de15fcf7b7f70f718","modified":1552543793767},{"_id":"public/tags/Linux-practice/index.html","hash":"dd84ff05ebb7bc222a96382a32e463590597cece","modified":1552543793767},{"_id":"public/tags/hexo上传图片/index.html","hash":"1c1f57d2bb809d60fa86784c148414f2464f4c80","modified":1552543793768},{"_id":"public/tags/github上传图片/index.html","hash":"ef436e141a0bb2745328b4a654bbcf33130d64c3","modified":1552543793768},{"_id":"public/tags/order/index.html","hash":"d61f6ccff61d0f358cb4d3dba67420e79f10c4fa","modified":1552543793768},{"_id":"public/tags/models/index.html","hash":"c7c1e7b359c7f6ab918153eb3f774583cb1b6e98","modified":1552543793768},{"_id":"public/tags/表关系/index.html","hash":"b95ee2416006891e22f8e324107d3150a8967462","modified":1552543793769},{"_id":"public/tags/Flask-session/index.html","hash":"14b951fc0180e18ea0b75a1e1c4f4baa0c6e59fb","modified":1552543793769},{"_id":"public/tags/Python/index.html","hash":"3c050610433e01a32e18cbfe60680bd3cd3ab2dc","modified":1552543793769},{"_id":"public/tags/Web/index.html","hash":"eb6c6b90cfbe3a06416d7a592ed5ef88f2754378","modified":1552543793769},{"_id":"public/tags/spider/index.html","hash":"f63844be7660ac813540e830050ca8cc9e17edd4","modified":1552543793770},{"_id":"public/tags/game/index.html","hash":"0405ee569455cc4675bb98d06f93c0b648d7d636","modified":1552543793770},{"_id":"public/tags/python连接数据库/index.html","hash":"83b28a82626102cd2c023b83b5149853139e30cf","modified":1552543793770},{"_id":"public/tags/函数/index.html","hash":"0f7aa908d1405953ec99c3ed886e8bc1a6e2d3e1","modified":1552543793770},{"_id":"public/tags/文件操作/index.html","hash":"74ce098354b0ab8ffaea955afc0bc222c1c49a07","modified":1552543793771},{"_id":"public/tags/python/index.html","hash":"879f183113d69e86c0cd6a1fdaa663c42f091f13","modified":1552543793771},{"_id":"public/tags/dict/index.html","hash":"52d7d227e6ea0d5cc9d8aae170aff9bd8aec665e","modified":1552543793771},{"_id":"public/tags/set/index.html","hash":"980a55cc299ce2f15954db2dade1e2966ee72154","modified":1552543793771},{"_id":"public/tags/循环/index.html","hash":"eda38522a720bb6abe5eb464d9a9babd881712f0","modified":1552543793772},{"_id":"public/tags/判断/index.html","hash":"c54cbdda2241d7183e8a0164878b2c67f5e3da50","modified":1552543793772},{"_id":"public/tags/网络/index.html","hash":"fb67309b1c100f378d7a52e88699387c02e23aca","modified":1552543793772},{"_id":"public/tags/class/index.html","hash":"827f877e6895c78b4e4280af7872de8465722107","modified":1552543793773},{"_id":"public/tags/beautifulSoup/index.html","hash":"5bb3d7d3793eefe48d825aac12e0481f09952c05","modified":1552543793773},{"_id":"public/tags/urllib/index.html","hash":"4b0f7775bc6d929eb903d4d6744da2a058c46e75","modified":1552543793773},{"_id":"public/tags/code/index.html","hash":"dff40393411d162baadf46d3e957a337e29eab37","modified":1552543793773},{"_id":"public/tags/sqlalchemy/index.html","hash":"f87ea7b1a07665c3511ad54f130cbd74b188ef60","modified":1552543793774},{"_id":"public/tags/selenium/index.html","hash":"953d20fa4f0169d99fcc69687aa5127a6e7a29d4","modified":1552543793774},{"_id":"public/tags/databases/index.html","hash":"945791b746966fe19166cde5f282d869f9ae5c00","modified":1552543793774},{"_id":"public/tags/agent/index.html","hash":"cb0559418b62cfaef2222f120cd6264c9a1445a9","modified":1552543793774},{"_id":"public/tags/cartoon/index.html","hash":"f93c8c333b6dac9698d51debc30babb96c2b8a31","modified":1552543793775},{"_id":"public/tags/music/index.html","hash":"5232482129ce3bd464e2b73a0190baa3952585d7","modified":1552543793775},{"_id":"public/tags/movie/index.html","hash":"1b5db29a828a88d0cf32f27320d316a680d0776a","modified":1552543793775},{"_id":"public/tags/novel/index.html","hash":"61634ac2faab22575ca8291c4b138aa78713249a","modified":1552543793775},{"_id":"public/tags/video/index.html","hash":"522c6119590f2849c03d8805ea0d8c443448f85b","modified":1552543793776},{"_id":"public/tags/随机总结/index.html","hash":"d26aa6fae8223010913c696410c80d7732974da3","modified":1552543793776},{"_id":"public/tags/float/index.html","hash":"561c4b48cdfadb3902575c1da98ab1e4cb946928","modified":1552543793776},{"_id":"public/tags/选择器/index.html","hash":"738fd02572b994285a01616a68a99f5f8f8d4699","modified":1552543793776},{"_id":"public/tags/HTML/index.html","hash":"ee3bff8feda1eb295ac3bade381e950668f71d48","modified":1552543793777},{"_id":"public/tags/CSS/index.html","hash":"70b368ab8842d18849f491e122cea3cbd9dd79b0","modified":1552543793777},{"_id":"public/tags/DOC/index.html","hash":"aed49122cee2f84b43f1b8ea0b03c5581d3cd490","modified":1552543793777},{"_id":"public/tags/tag/index.html","hash":"b95f20b66598aa43f8ed74eef8c2feb5e2e19d1d","modified":1552543793777},{"_id":"public/tags/JavaScript/index.html","hash":"bf2d2382aa379f2cfeeb645b7957707d588999fe","modified":1552543793778},{"_id":"public/tags/JS/index.html","hash":"36fd9a1b2eaeddb6e19c946631a4e73767c3c42b","modified":1552543793778},{"_id":"public/tags/practice/index.html","hash":"35f3f62fbdb8706a9c346d768cec41235c45b781","modified":1552543793778},{"_id":"public/tags/模型/index.html","hash":"af9973bbdda3dd7829edbd10cb4edef8af55be4f","modified":1552543793778},{"_id":"public/tags/查/index.html","hash":"1c446cf9b1599b28af01e6a072319dbc2fe89872","modified":1552543793779},{"_id":"public/tags/删/index.html","hash":"0b3e0abd14a97d24434e01af6bba84a8d510229d","modified":1552543793779},{"_id":"public/tags/改/index.html","hash":"a27c27bb66bbf27064ce57601ab52171436bb8eb","modified":1552543793779},{"_id":"public/tags/Hexo/index.html","hash":"4a045b2d1532abb034689e79ca52c129c81929dc","modified":1552543793779},{"_id":"public/tags/jQuery/index.html","hash":"9cd8b610551452e2f0816a05b5e725612972f432","modified":1552543793780},{"_id":"public/tags/web框架/index.html","hash":"4ec4b0da468930e385cdcdca1c91b1d791e5db0a","modified":1552543793780},{"_id":"public/tags/Django/index.html","hash":"e9158d5f98896b6f1b5af856c864f2cafe54c8ca","modified":1552543793780},{"_id":"public/tags/框架/index.html","hash":"68ae484c0b276758b0b32dd88427f0aaafa6c373","modified":1552543793781},{"_id":"public/tags/虚拟机/index.html","hash":"f9e163029605276e06a19a24777bdc6f789b446d","modified":1552543793781},{"_id":"public/tags/集合函数/index.html","hash":"8e3d764b2735b191fe52df0725ac528d0a838b82","modified":1552543793781},{"_id":"public/tags/linkman/index.html","hash":"645ca44882daab5a916963d35cac998291fe0af9","modified":1552543793781},{"_id":"public/tags/数据库/index.html","hash":"e2ef25ef6f8e29ab6cdc09bff5ed08b5593f1987","modified":1552543793782},{"_id":"public/tags/表格/index.html","hash":"3859aeaa7b7b464e35eefd421975e0adeb2f421d","modified":1552543793783},{"_id":"public/CNAME","hash":"f7bf0124b54cf3a4f1fd327cde1dd6571dcadc6d","modified":1552542276161},{"_id":"public/img/css.png","hash":"1fef2157b140faefb8aa9935be1361b506306cfe","modified":1552542276162},{"_id":"public/img/Linux1.jpg","hash":"b6efd05c56f02e4f5fc591c1133d7d4ccbf2b631","modified":1552542276162},{"_id":"public/img/hexo.png","hash":"7898463d0dbe508c6fac6dd9625ba390c7c581bc","modified":1552542276162},{"_id":"public/favicon.png","hash":"20674c497b75fc889194b47fd18ecea12303d8ec","modified":1552542276162},{"_id":"public/medias/avatar.jpg","hash":"b7f8ca0c682f95d93f002c845aafbcb508ec2b0f","modified":1552542276163},{"_id":"public/medias/favicon.png","hash":"9d5f13f21e7ba359f7d1890471a4d64b95bb7bd7","modified":1552542276163},{"_id":"public/medias/logo.png","hash":"4050259723bd418648ec40028a8020364e57a6a3","modified":1552542276163},{"_id":"public/medias/featureimages/13.jpg","hash":"66706dfde7d910182c2f1dbadd0e9e917630b8dd","modified":1552542276163},{"_id":"public/medias/featureimages/15.jpg","hash":"5cf9fc64d5d74ab6ba69bb8bff580fdc22ba32d0","modified":1552542276163},{"_id":"public/medias/featureimages/16.jpg","hash":"9cac6b80b0cc8959fc8aabfbd1adcab79ebebfc9","modified":1552542276164},{"_id":"public/medias/featureimages/2.jpg","hash":"16f1d89cdba4dce935ac0f12599e0fcfda543a93","modified":1552542276164},{"_id":"public/medias/featureimages/21.jpg","hash":"d70b088850c3565e5b5bb9eb8fe4abe688c964cf","modified":1552542276164},{"_id":"public/medias/featureimages/22.jpg","hash":"bf5b59d193e5ca089a7fff034c222bfa2c4dc41f","modified":1552542276165},{"_id":"public/medias/featureimages/23.jpg","hash":"ed5ac9f616d3b99af5188a10b1761884c37e93e5","modified":1552542276165},{"_id":"public/medias/featureimages/26.jpg","hash":"2f5d6e0feb82804ea9cec61d7f9139b556d9d389","modified":1552542276165},{"_id":"public/medias/featureimages/27.jpg","hash":"409f1f6b1a960175b9280523d2867d166efe6079","modified":1552542276165},{"_id":"public/medias/featureimages/31.jpg","hash":"306113e257e47090e7fdb255373bed43efb12cb1","modified":1552542276166},{"_id":"public/medias/featureimages/5.jpg","hash":"c3c1f36a1b1886037db604f151f335cd4599e970","modified":1552542276166},{"_id":"public/medias/featureimages/8.jpg","hash":"5a46ca4ab4c4ab2101a2af77a31a8878bccc483c","modified":1552542276166},{"_id":"public/medias/featureimages/logo.png","hash":"4050259723bd418648ec40028a8020364e57a6a3","modified":1552542276166},{"_id":"public/medias/reward/alipay.jpg","hash":"37c441c9880a973f4e787d228ffc677a417959ea","modified":1552544991741},{"_id":"public/medias/featureimages/7.jpg","hash":"a0246a4a560438938489cdd154e35f172b3f31b0","modified":1552542276167},{"_id":"public/medias/reward/wechat.png","hash":"fe93385aa92fe328e01c8221a80b039be9e4e140","modified":1552542276168},{"_id":"public/libs/materialize/font/material-design-icons/LICENSE.txt","hash":"b7085b5c1dc3f56f81a8bf93290e2a3f24e4d8ed","modified":1552542276169},{"_id":"public/libs/materialize/font/material-design-icons/Material-Design-Icons.woff2","hash":"2355cb4f824d070bc42c4ce6b97cab71af1f4ca2","modified":1552542276169},{"_id":"public/libs/materialize/font/roboto/Roboto-Bold.eot","hash":"a76cd602f5188b9fbd4ba7443dcb9c064e3dbf10","modified":1552542276170},{"_id":"public/libs/materialize/font/roboto/Roboto-Bold.woff","hash":"ee99cd87a59a9a5d4092c83232bb3eec67547425","modified":1552542276170},{"_id":"public/libs/materialize/font/roboto/Roboto-Bold.woff2","hash":"933b866d09c2b087707a98dab64b3888865eeb96","modified":1552542276170},{"_id":"public/libs/materialize/font/roboto/Roboto-Light.eot","hash":"42fe156996197e5eb0c0264c5d1bb3b4681f4595","modified":1552542276171},{"_id":"public/libs/materialize/font/roboto/Roboto-Light.woff","hash":"6300f659be9e834ab263efe2fb3c581d48b1e7b2","modified":1552542276171},{"_id":"public/libs/materialize/font/roboto/Roboto-Light.woff2","hash":"bbdc28b887400fcb340b504ec2904993af42a5d7","modified":1552542276171},{"_id":"public/libs/materialize/font/roboto/Roboto-Medium.eot","hash":"1517f4b6e1c5d0e5198f937557253aac8fab0416","modified":1552542276172},{"_id":"public/libs/materialize/font/roboto/Roboto-Medium.woff","hash":"d45f84922131364989ad6578c7a06b6b4fc22c34","modified":1552542276172},{"_id":"public/libs/materialize/font/roboto/Roboto-Medium.woff2","hash":"6cc1b73571af9e827c4e7e91418f476703cd4c4b","modified":1552542276172},{"_id":"public/libs/materialize/font/roboto/Roboto-Regular.eot","hash":"77ae3e980ec03863ebe2587a8ef9ddfd06941db0","modified":1552542276172},{"_id":"public/libs/materialize/font/roboto/Roboto-Regular.woff","hash":"74734dde8d94e7268170f9b994dedfbdcb5b3a15","modified":1552542276173},{"_id":"public/libs/materialize/font/roboto/Roboto-Regular.woff2","hash":"ed1558b0541f5e01ce48c7db1588371b990eec19","modified":1552542276173},{"_id":"public/libs/materialize/font/roboto/Roboto-Thin.eot","hash":"0790a51a848dbe7292c98f9d0459218bf1a8ffdd","modified":1552542276173},{"_id":"public/libs/materialize/font/roboto/Roboto-Thin.woff","hash":"fbc3e71d456c96667d8082ab910e3946ef89240b","modified":1552542276174},{"_id":"public/libs/materialize/font/roboto/Roboto-Thin.woff2","hash":"2449e3dac5ddb7c3da8bb07450493b62d052758c","modified":1552542276174},{"_id":"public/2018/12/14/Django/Django/django_centos_nginx_peizhi.png","hash":"8d4145d145731ca9fbab6d325b9590728dd1590e","modified":1552542276174},{"_id":"public/2018/04/16/Linux/Linux服务器/Linux1.jpg","hash":"b6efd05c56f02e4f5fc591c1133d7d4ccbf2b631","modified":1552542276174},{"_id":"public/2018/03/29/前端/HTML/特殊字符表示.png","hash":"707646bde75f8698994d3dadeea70cd40fe53f8b","modified":1552542276175},{"_id":"public/2018/01/22/前端/CSS样式表/常用的属性.png","hash":"1fef2157b140faefb8aa9935be1361b506306cfe","modified":1552542276175},{"_id":"public/2018/10/16/数据库/MySQL/表与表的关系.png","hash":"569753dbc4f5cb1fa8644e84a80393aba56ba96d","modified":1552542276175},{"_id":"public/2018/10/15/数据库/MySQL预习/MySQL1.jpg","hash":"4f75949fe7561edfeebb0c1630a54f85d19c54b7","modified":1552542276175},{"_id":"public/2018/10/16/数据库/practice/表连接1.png","hash":"cd301501e02e346428c3d54e55fa381cc78f1c1d","modified":1552542276176},{"_id":"public/2018/10/16/数据库/practice/表连接2.png","hash":"20f24c790d6c8ec7539bd1db448277e5e50202bc","modified":1552542276176},{"_id":"public/2018/10/16/数据库/practice/表连接3.png","hash":"88ce9a6c5f9838a74fa93473b2646a91715e4dee","modified":1552542276176},{"_id":"public/2018/10/16/数据库/practice/表连接4.png","hash":"ab66e4f0308ecaf5b0dc8ed1ebe228114c7c405d","modified":1552542276176},{"_id":"public/2018/01/23/前端/web-daytwo/QQ截图20181023121317.png","hash":"2baffb95dd6eccb5d41e2be951d7de3a94dbeb16","modified":1552542276177},{"_id":"public/2018/01/23/前端/web-daytwo/QQ截图20181023121548.png","hash":"eb69ef43500ede21457293106c643998633a35e0","modified":1552542276177},{"_id":"public/2018/01/23/前端/web-daytwo/QQ截图20181023122235.png","hash":"a96c099b69cb38d6e67969f0da115c2e76aad28f","modified":1552542276178},{"_id":"public/2018/01/23/前端/web-daytwo/QQ截图20181023141556.png","hash":"f3741611bee42b2f5b73dc6a95e5cfb564db659e","modified":1552542276178},{"_id":"public/2018/01/23/前端/web-daytwo/database.jpg","hash":"59a45f516bf935fcd56c950a06b93c8c24034cc0","modified":1552542276178},{"_id":"public/2018/01/22/前端/web-the-firstone/QQ截图20181022152640.png","hash":"f227c7991f8d00ce050231fb55a0146aa675abb8","modified":1552542276179},{"_id":"public/2018/01/22/前端/web-the-firstone/QQ截图20181022152916.png","hash":"1ca81f9a8b111cd373a22ae83abbae38faa14577","modified":1552542276179},{"_id":"public/2018/01/22/前端/web-the-firstone/QQ截图20181022171438.png","hash":"98708ecfba545a96bb0457747d292f8260afdb39","modified":1552542276180},{"_id":"public/2018/01/22/前端/web-the-firstone/ensurepip.png","hash":"b332c450f5da885d5f1036e27318f2b725a753e8","modified":1552542276180},{"_id":"public/2018/01/22/前端/web-the-firstone/pip3.png","hash":"f36b82c66914db96c43b6cc14a586d767a58cc2f","modified":1552542276180},{"_id":"public/2018/01/22/前端/web-the-firstone/pip_virtualenv.png","hash":"2e16affa5bb05dbf7e52108adad1baf5460a8c1e","modified":1552542276180},{"_id":"public/2018/01/22/前端/web-the-firstone/python.png","hash":"efe1f92119ad59117de45aebf239d60a6379eaed","modified":1552542276180},{"_id":"public/2018/01/22/前端/web-the-firstone/virtualenv_env_p.png","hash":"85a6e2957247a96015698e3b9e336edab89412a2","modified":1552542276181},{"_id":"public/2018/01/22/前端/web-the-firstone/virtualenv_help.png","hash":"be4c2595a25d5c0c90639a8684e6540e1711c8ea","modified":1552542276181},{"_id":"public/css/prism-tomorrow.css","hash":"2eb468e82b669045d37cb6b503af97dabc0a9eb2","modified":1552542276181},{"_id":"public/libs/lightGallery/img/loading.gif","hash":"15a76af2739482d8de7354abc6d8dc4fca8d145e","modified":1552542276181},{"_id":"public/libs/lightGallery/img/video-play.png","hash":"fbfdbe06aebf7d0c00da175a4810cf888d128f11","modified":1552542276181},{"_id":"public/libs/lightGallery/img/vimeo-play.png","hash":"1142b47de219dddfba2e712cd3189dec0c8b7bee","modified":1552542276182},{"_id":"public/libs/lightGallery/fonts/lg.svg","hash":"9a732790adc004b22022cc60fd5f77ec4c8e3e5a","modified":1552542276182},{"_id":"public/libs/lightGallery/fonts/lg.eot","hash":"54caf05a81e33d7bf04f2e420736ce6f1de5f936","modified":1552542276183},{"_id":"public/libs/lightGallery/fonts/lg.woff","hash":"3048de344dd5cad4624e0127e58eaae4b576f574","modified":1552542276183},{"_id":"public/libs/lightGallery/img/youtube-play.png","hash":"39150b45ec5fc03155b7ebeaa44f1829281788e2","modified":1552542276183},{"_id":"public/libs/lightGallery/fonts/lg.ttf","hash":"f6421c0c397311ae09f9257aa58bcd5e9720f493","modified":1552542276184},{"_id":"public/libs/share/fonts/iconfont.eot","hash":"00ff749c8e202401190cc98d56087cdda716abe4","modified":1552542276185},{"_id":"public/libs/share/fonts/iconfont.ttf","hash":"afd898f59d363887418669520b24d175f966a083","modified":1552542276185},{"_id":"public/libs/share/fonts/iconfont.woff","hash":"2e3fce1dcfbd6e2114e7bfbeaf72d3c62e15a1bd","modified":1552542276185},{"_id":"public/libs/share/fonts/iconfont.svg","hash":"f0a1b849868a6bf351ff98dc3924a4e7254eb88b","modified":1552542276186},{"_id":"public/images/01.jpg","hash":"52bb2ee16ba0dc8a154b1f3a3493edfb3959d2aa","modified":1552542276258},{"_id":"public/images/02.jpg","hash":"b42f1507fe9b7f11a0cccfbad8e320a83c08820d","modified":1552542276266},{"_id":"public/images/04.jpg","hash":"6f94e983601c5f895cf5c6170b7eaad1838f30af","modified":1552542276314},{"_id":"public/images/AKL.jpg","hash":"cdd475e7429bf908105b869c8c398d931d72ec9f","modified":1552542276315},{"_id":"public/images/03.jpg","hash":"1d2581dc664cebb341b10b6e56d5121bba9d1a86","modified":1552542276315},{"_id":"public/images/HuLi.jpg","hash":"c26af0c6f95e24e071d0dcfa7811219171e15cce","modified":1552542276316},{"_id":"public/images/KDA1.jpg","hash":"35333f287f143d1cceb402b9e6eb8fb217b6771e","modified":1552542276316},{"_id":"public/images/ALi.jpg","hash":"01c886d73fc01df4cc1a57ae76658f8868a930f2","modified":1552542276317},{"_id":"public/images/KDA3.jpg","hash":"46b43263db1fbf267d54abf683ff77d421ef4cd5","modified":1552542276317},{"_id":"public/images/KDA4.jpg","hash":"ec3e995f8c0077bace69c6e8ad9fc1be7e17122a","modified":1552542276317},{"_id":"public/images/KDA5.jpg","hash":"0d2192ae0a370975a7f4791ccfc243917b135214","modified":1552542276318},{"_id":"public/images/LoL1.jpg","hash":"296a9e0761507ff528503eaea711a1c38472b0fc","modified":1552542276318},{"_id":"public/images/Xia.jpg","hash":"5d56eab4a4100ef5d50f0927403999ed52ca26ad","modified":1552542276318},{"_id":"public/medias/banner/0.jpg","hash":"1f2ec55fe7825475fde2601573bb622f0bf2acba","modified":1552542276319},{"_id":"public/medias/banner/2.jpg","hash":"8d3c8391ff161eec70f66d69e5545a9468cc52ef","modified":1552542276319},{"_id":"public/medias/featureimages/0.jpg","hash":"2066cdda98ad0035071cd4aa7bd696eb078c0b6d","modified":1552542276320},{"_id":"public/medias/featureimages/11.jpg","hash":"9ed45f95b83626e3d91d6c405eb8bfe6fcb9736a","modified":1552542276320},{"_id":"public/medias/featureimages/1.jpg","hash":"d16e28bd23ea3a63643826dde5eea6b7a9bdda5d","modified":1552542276320},{"_id":"public/medias/featureimages/10.jpg","hash":"838e704942de076c60894d14e5f280e2724b6f68","modified":1552542276321},{"_id":"public/medias/featureimages/12.jpg","hash":"047be4239dd7e0be83243ee6b49a392a61f16b9a","modified":1552542276321},{"_id":"public/medias/featureimages/14.jpg","hash":"8aeb816faca2d5eaea4cce9e881d6ff87b8c7cf1","modified":1552542276322},{"_id":"public/medias/featureimages/17.jpg","hash":"f168ca5b046d10a878a7b0bcfab540e2c4428887","modified":1552542276322},{"_id":"public/medias/featureimages/18.jpg","hash":"ae23fdfaa59bc57b7ed49e90c5d59e4b68e1eea5","modified":1552542276323},{"_id":"public/medias/featureimages/19.jpg","hash":"57bc7c804b78b5cceb4eb1f9e51b734b75151b71","modified":1552542276323},{"_id":"public/medias/featureimages/20.jpg","hash":"8271c4a327632b566ea62f546c083d08a0528e72","modified":1552542276323},{"_id":"public/medias/featureimages/28.jpg","hash":"759f6a027e6f8958c9165b7d3ae32456633f8d57","modified":1552542276324},{"_id":"public/medias/featureimages/33.jpg","hash":"e3cc3d7b717f7fa38c56a671791bee4006a8326a","modified":1552542276325},{"_id":"public/medias/featureimages/4.jpg","hash":"4eea5bdb5724ef1ed65790e481eda0d2fb176bf0","modified":1552542276325},{"_id":"public/medias/featureimages/3.jpg","hash":"5e879652e032f02961a331b598a50b60ebe80a39","modified":1552542276326},{"_id":"public/medias/featureimages/6.jpg","hash":"c63ff64bdd5f6c82da8804c7248fc519d23eaf0b","modified":1552542276327},{"_id":"public/medias/featureimages/9.jpg","hash":"815c84778b721e3606c2bd7c099c7de7c53251ba","modified":1552542276328},{"_id":"public/libs/materialize/font/material-design-icons/Material-Design-Icons.eot","hash":"fc1bc1337f3313ead42b22a67a142d4e0d356b3a","modified":1552542276328},{"_id":"public/libs/materialize/font/material-design-icons/Material-Design-Icons.ttf","hash":"2cb66ac73a2d32ae8d2f807f705eff26fcf93323","modified":1552542276328},{"_id":"public/libs/materialize/font/material-design-icons/Material-Design-Icons.woff","hash":"ee77184556f7b66fcb8ee9496f81ac62f792d7dc","modified":1552542276329},{"_id":"public/libs/materialize/font/roboto/Roboto-Bold.ttf","hash":"47327df0f35e7cd7c8645874897a7449697544ae","modified":1552542276329},{"_id":"public/libs/materialize/font/roboto/Roboto-Light.ttf","hash":"e321c183e2b75ee19813892b7bac8d7c411cb88a","modified":1552542276330},{"_id":"public/libs/materialize/font/roboto/Roboto-Medium.ttf","hash":"6060ca726b9760b76f7c347dce9d2fa1fe42ec92","modified":1552542276330},{"_id":"public/libs/materialize/font/roboto/Roboto-Regular.ttf","hash":"824b5480c977a8166e177e5357d13164ccc45f47","modified":1552542276330},{"_id":"public/libs/materialize/font/roboto/Roboto-Thin.ttf","hash":"173ed64528b4d010a76d8d38deb1d7e7eed58eda","modified":1552542276331},{"_id":"public/2019/02/13/python/Word-cloud/Figure_2.png","hash":"508d615b8acdbb22ac5390d29c6ff9f5a64fdf22","modified":1552542276331},{"_id":"public/2018/04/02/前端/JavaScript-one/位运算.png","hash":"b00f8e26cd992c017a0ccf3c6540e034206a7e68","modified":1552542276332},{"_id":"public/2018/09/16/Linux/意外的操作/1.jpg","hash":"7b971e2f9c4852cb6b92fd0f05f0a521ce71a966","modified":1552542276332},{"_id":"public/libs/awesome/fonts/fontawesome-webfont.woff2","hash":"d6f48cba7d076fb6f2fd6ba993a75b9dc1ecbf0c","modified":1552542276333},{"_id":"public/libs/awesome/fonts/fontawesome-webfont.woff","hash":"28b782240b3e76db824e12c02754a9731a167527","modified":1552542276333},{"_id":"public/css/gitment.css","hash":"2bd15cc17dca35ac3ecc0acf167a23a1dd362acd","modified":1552542276412},{"_id":"public/css/my-gitalk.css","hash":"eeda46a83d0db1cc239a9cd27d544faf663f9883","modified":1552542276412},{"_id":"public/js/matery.js","hash":"92f07106944f5ef7cd72e84bb3534513d00eebe1","modified":1552542276412},{"_id":"public/js/search.js","hash":"499e11786efbb04815b54a1de317cc8606a37555","modified":1552542276413},{"_id":"public/css/my.css","hash":"497e50351f7838f8546cac76850a42e7e380a110","modified":1552542276413},{"_id":"public/libs/aplayer/APlayer.min.css","hash":"07372a2ba507388d0fed166d761b1c2c2a659dce","modified":1552542276414},{"_id":"public/libs/jqcloud/jqcloud.css","hash":"20d9f11a19d95c70e27cb922e0d6dccbec4eae89","modified":1552542276414},{"_id":"public/libs/jqcloud/jqcloud-1.0.4.min.js","hash":"257eaae3020599e4939f50d5008a743827f25b8c","modified":1552542276414},{"_id":"public/libs/others/busuanzi.pure.mini.js","hash":"6e41f31100ae7eb3a6f23f2c168f6dd56e7f7a9a","modified":1552542276414},{"_id":"public/libs/others/clicklove.js","hash":"6a39b8c683ba5dcd92f70c6ab45d1cfac3213e8e","modified":1552542276415},{"_id":"public/libs/tocbot/tocbot.css","hash":"15601837bf8557c2fd111e4450ed4c8495fd11a0","modified":1552542276420},{"_id":"public/libs/scrollprogress/scrollProgress.min.js","hash":"777ffe5d07e85a14fbe97d846f45ffc0087251cc","modified":1552542276421},{"_id":"public/libs/tocbot/tocbot.min.js","hash":"5ec27317f0270b8cf6b884c6f12025700b9a565c","modified":1552542276421},{"_id":"public/libs/aos/aos.js","hash":"02bfb40b0c4b6e9b0b4081218357145cbb327d74","modified":1552542276421},{"_id":"public/libs/share/css/share.min.css","hash":"8a778a86f3ce9a042df6be63a9f1039631e351a5","modified":1552542276422},{"_id":"public/css/matery.css","hash":"d0a842bf0795a583bef92729f66507901bd95b61","modified":1552542276422},{"_id":"public/libs/materialize/js/materialize.min.js","hash":"900e478fb609e18a4f785164fc6f6b0442e8a94e","modified":1552542276422},{"_id":"public/libs/materialize/css/materialize.min.css","hash":"ca9b5271c307593264daad9753b962a0a8db1cef","modified":1552542276422},{"_id":"public/libs/aplayer/APlayer.min.js","hash":"22caa28ff6b41a16ff40f15d38f1739e22359478","modified":1552542276424},{"_id":"public/libs/dplayer/DPlayer.min.css","hash":"f7d19655f873b813ffba5d1a17145c91f82631b8","modified":1552542276424},{"_id":"public/libs/cryptojs/crypto-js.min.js","hash":"5989527a378b55011a59522f41eeb3981518325c","modified":1552542276425},{"_id":"public/libs/gitalk/gitalk.css","hash":"3aac1db83b0135c521187254ff302d125cc30706","modified":1552542276425},{"_id":"public/libs/gitment/gitment-default.css","hash":"2903c59ee06b965bef32e937bd69f5b0b2190717","modified":1552542276425},{"_id":"public/libs/masonry/masonry.pkgd.min.js","hash":"ff940b4ea68368ca0e4d5560cbb79fb147dfc3c5","modified":1552542276426},{"_id":"public/libs/animate/animate.min.css","hash":"97afa151569f046b2e01f27c1871646e9cd87caf","modified":1552542276426},{"_id":"public/libs/aos/aos.css","hash":"191a3705a8f63e589a50a0ff2f2c5559f1a1b6b2","modified":1552542276426},{"_id":"public/libs/dplayer/DPlayer.min.js","hash":"c3bad7b265574fab0ae4d45867422ea1cb9d6599","modified":1552542276427},{"_id":"public/libs/gitment/gitment.js","hash":"28c02c45ce568e084cd1041dc493f83f9c6c88c6","modified":1552542276427},{"_id":"public/libs/jquery/jquery-2.2.0.min.js","hash":"5d7e5bbfa540f0e53bd599e4305e1a4e815b5dd1","modified":1552542276428},{"_id":"public/libs/lightGallery/css/lightgallery.min.css","hash":"1b7227237f9785c66062a4811508916518e4132c","modified":1552542276428},{"_id":"public/libs/valine/Valine.min.js","hash":"031c1a5640d64ab3b829395ad5a7596b9fb122e6","modified":1552542276428},{"_id":"public/libs/gitalk/gitalk.min.js","hash":"734f56442e62fe55f677e8ccae7f175445667767","modified":1552542276428},{"_id":"public/libs/lightGallery/js/lightgallery-all.min.js","hash":"9f5ef4bc8a0a3c746ca4f3c3e6d64493b1a977d8","modified":1552542276429},{"_id":"public/libs/materialize/materialize.min.js","hash":"c8b4c65651921d888cf5f27430dfe2ad190d35bf","modified":1552542276429},{"_id":"public/libs/materialize/materialize.min.css","hash":"580459a012f556fba86438953062013a94b201af","modified":1552542276430},{"_id":"public/libs/valine/av-min.js","hash":"2577e72b52b736d99649f9e95be8976d58563333","modified":1552542276430},{"_id":"public/libs/share/js/jquery.share.min.js","hash":"16ce82901ca0e302cf47a35fb10f59009a5e7eb9","modified":1552542276431},{"_id":"public/libs/share/js/social-share.min.js","hash":"4df722bafde2c5d8faaace0d1f894798385a8793","modified":1552542276431},{"_id":"public/libs/awesome/css/font-awesome.min.css","hash":"512c7d79033e3028a9be61b540cf1a6870c896f8","modified":1552542276431},{"_id":"public/libs/echarts/echarts.min.js","hash":"9496f386a0da4601cad22c479cc5543913a4d67f","modified":1552542276432},{"_id":"public/images/10.jpg","hash":"7057d59962b32013562047e8c95f36aa287c671b","modified":1552542276433},{"_id":"public/images/LoL.jpg","hash":"2d77f3d88edf19b47ed9640d779ad06c910b49fb","modified":1552542276435},{"_id":"public/images/KDA2.jpg","hash":"70efa5105cb4714bda2f96e6572c9a11f4e2e287","modified":1552542276435},{"_id":"public/medias/cover.jpg","hash":"d4957ff7cc5e88555cd840f2956ab0561e6f1ccf","modified":1552542276436},{"_id":"public/medias/banner/1.jpg","hash":"c3d5ab183b39a7140941b8375e29498f9d24f343","modified":1552542276436},{"_id":"public/medias/banner/3.jpg","hash":"d4957ff7cc5e88555cd840f2956ab0561e6f1ccf","modified":1552542276437},{"_id":"public/medias/banner/5.jpg","hash":"4a08deec1dd5b4f1490e8fc23adfb75a0f88b0c4","modified":1552542276437},{"_id":"public/medias/banner/6.jpg","hash":"62e9586a8cec91a160f147c424a3d1d1aea360f9","modified":1552542276438},{"_id":"public/medias/featureimages/32.jpg","hash":"7421b043bffc7d5d52cc100615d31fbcf1642ebb","modified":1552542276438},{"_id":"public/medias/featureimages/cover.jpg","hash":"d4957ff7cc5e88555cd840f2956ab0561e6f1ccf","modified":1552542276439},{"_id":"public/2018/01/22/前端/web-the-firstone/QQ截图20181022103251.png","hash":"5ebce20deaaf0e85bf00f6106ace5748857c2ad3","modified":1552542276439},{"_id":"public/libs/awesome/fonts/FontAwesome.otf","hash":"048707bc52ac4b6563aaa383bfe8660a0ddc908c","modified":1552542276440},{"_id":"public/libs/awesome/fonts/fontawesome-webfont.ttf","hash":"13b1eab65a983c7a73bc7997c479d66943f7c6cb","modified":1552542276440},{"_id":"public/libs/awesome/fonts/fontawesome-webfont.eot","hash":"d980c2ce873dc43af460d4d572d441304499f400","modified":1552542276441},{"_id":"public/images/09.jpg","hash":"1958f4a536c24bf144d46631db2a85a966f473ca","modified":1552542276502},{"_id":"public/images/11.jpg","hash":"951a4f4c29fb0d752b5a73b1955fbb652dc15e6c","modified":1552542276503},{"_id":"public/images/06.jpg","hash":"69198b160400a6ae8e719925a9026e74ebdea73f","modified":1552542276504},{"_id":"public/2018/09/16/Linux/意外的操作/put.jpg","hash":"9047c8784672982ade802e7e9b820d1f87f799b4","modified":1552542276504},{"_id":"public/medias/banner/4.jpg","hash":"56850c3139cbd72a0eff0c35d8fac32c9c66dd6a","modified":1552542276552},{"_id":"public/medias/featureimages/30.jpg","hash":"b6ed8bceff06689e860bd49eb3c524ac69ea05d6","modified":1552542276552},{"_id":"public/2018/01/22/前端/web-the-firstone/python_pip_envir.png","hash":"9ef0e72ce11ff27cd1194f24d59f2bf9d0a21f68","modified":1552542276554},{"_id":"public/images/05.jpg","hash":"08c6b376016a72858de1bb139ec55e669abe46b5","modified":1552542276586},{"_id":"public/libs/materialize/font/material-design-icons/Material-Design-Icons.svg","hash":"c5ff32ccf63106152dac687395d2e3551d9fcadb","modified":1552542276586},{"_id":"public/libs/awesome/fonts/fontawesome-webfont.svg","hash":"98a8aa5cf7d62c2eff5f07ede8d844b874ef06ed","modified":1552542276630},{"_id":"public/medias/featureimages/24.jpg","hash":"ac4d8574c489d58a3d5aab2058363373c6a81ff7","modified":1552542276656},{"_id":"public/medias/featureimages/29.jpg","hash":"19dfce99520af7d1e53566dcafba98097c5f1d63","modified":1552542276656},{"_id":"public/images/bg.jpg","hash":"2aaf7fcb8aa43165c8e326929783b2a465aff2de","modified":1552542276668},{"_id":"public/images/timg.jpg","hash":"f0bb8be1a45d8a0713b90616535f8fbc44cef210","modified":1552542276668},{"_id":"public/medias/featureimages/25.jpg","hash":"51c99960819fd5b8e68fcf8ac02399a56ddf98d9","modified":1552542276810},{"_id":"source/friends/index.md","hash":"0a4cff291e7c4522e500a08c9729410aae04dc2b","modified":1552543323268},{"_id":"public/friends/index.html","hash":"dbfe39dc5387c5db73dbac0212a5eb23a6730353","modified":1552961753634},{"_id":"themes/hexo-theme-matery1/source/medias/reward/linkfox_wechat.png","hash":"fe93385aa92fe328e01c8221a80b039be9e4e140","modified":1552236170000},{"_id":"themes/hexo-theme-matery1/source/medias/reward/linkfox.jpg","hash":"1abc719b95d1b26f1f898e6b0a9b7609146e332f","modified":1552236170000},{"_id":"themes/hexo-theme-matery1/source/medias/reward/wechat.jpg","hash":"3a7c384a9fe11b3b4a2df8a69724f8cb194adb1e","modified":1552544777463},{"_id":"public/medias/reward/linkfox_wechat.png","hash":"fe93385aa92fe328e01c8221a80b039be9e4e140","modified":1552544991737},{"_id":"public/medias/reward/linkfox.jpg","hash":"1abc719b95d1b26f1f898e6b0a9b7609146e332f","modified":1552544991738},{"_id":"public/medias/reward/wechat.jpg","hash":"3a7c384a9fe11b3b4a2df8a69724f8cb194adb1e","modified":1552544991741},{"_id":"source/_data/friends.json","hash":"ce6d85e30d550078e72bc0822cafa8898ba7815f","modified":1552895377909},{"_id":"source/_data/musics.json","hash":"cdfa4e25bddb62bfb8b7ef1ff555cbb6a92b62ac","modified":1552822683910},{"_id":"source/_data/friends - 副本.json","hash":"cdfa4e25bddb62bfb8b7ef1ff555cbb6a92b62ac","modified":1552822683910}],"Category":[{"name":"Markdown","_id":"cjt87kq4p0002r8r6kpi7o59b"},{"name":"Django","_id":"cjt87kqf2000ar8r6wctfzsk6"},{"name":"Python","_id":"cjt87kqfl000fr8r6l3w1u56w"},{"name":"git","_id":"cjt87kqfz000kr8r6d5jhhnfr"},{"name":"Linux","_id":"cjt87kqge000rr8r6afvnx94d"},{"name":"flask","_id":"cjt87kqik001mr8r6hqexpf1e"},{"name":"spider","_id":"cjt87kqlf002nr8r65dg5w5ir"},{"name":"前端","_id":"cjt87kqo7003zr8r6l37jlgup"},{"name":"databases","_id":"cjt87kqps004rr8r651e6vd60"}],"Data":[{"_id":"friends","data":[{"avatar":"http://image.luokangyuan.com/1_qq_27922023.jpg","name":"码酱","introduction":"我不是大佬，只是在追寻大佬的脚步","url":"http://luokangyuan.com/","title":"前去学习"},{"avatar":"http://image.luokangyuan.com/4027734.jpeg","name":"闪烁之狐","introduction":"从来没有真正的绝境，只有心灵的迷途","url":"https://blinkfox.github.io/","title":"前去学习"},{"avatar":"http://image.luokangyuan.com/avatar.jpg","name":"ja_rome","introduction":"平凡的脚步也可以走出伟大的行程","url":"https://me.csdn.net/jlh912008548","title":"前去学习"},{"avatar":"http://t2.hddhhn.com/uploads/tu/201608/244/mgtd33xndmc.jpg","name":"Boss huang","introduction":"未来的路就在脚下，需要我们自己去探索","url":"https://luckone111.github.io","title":"前去学习"},{"avatar":"https://t2.hddhhn.com/uploads/tu/201807/9999/16ddc17944.jpg","name":"caicai","introduction":"长路漫漫，快来学习","url":"https://erry.top/","title":"前去学习"},{"avatar":"http://www.pptbz.com/pptpic/UploadFiles_6909/201203/2012031220134655.jpg","name":"cao_cao_blog","introduction":"人的理想志向往往和他的能力成正比。 —— 约翰逊","url":"https://caoxiaoqin.github.io/","title":"前去学习"},{"avatar":"http://dingyue.nosdn.127.net/8UeVrU0AyXa7ZaKVxJE3vgKWS8=Ka9e7LAeTCRd6fKSOv1447941200450compressflag.jpg","name":"xiao_wei_blog","introduction":"探索、发现、进步","url":"https://ytq520.github.io/","title":"前去学习"},{"avatar":"http://pic1.win4000.com/wallpaper/2019-03-13/5c88ad781b4ae.jpg","name":"鸱子","introduction":"志向不过是记忆的奴隶，生气勃勃地降生，但却很难成长。 —— 莎士比亚","url":"http://www.ftr.red/","title":"前去学习"},{"avatar":"http://youmeitu.oss-cn-hongkong.aliyuncs.com/docs/allimg/160814/1-160Q4113151.jpg","name":"阮一峰博客","introduction":"人所缺乏的不是才干而是志向，不是成功的能力而是勤劳的意志。 —— 部尔卫","url":"http://www.ruanyifeng.com/","title":"前去学习"}]},{"_id":"friends - 副本","data":[{"name":"五月雨变奏电音","artist":"AnimeVibe","url":"http://static.blinkfox.com/music1.mp3","cover":"http://static.blinkfox.com/music-cover1.png"},{"name":"Take me hand","artist":"DAISHI DANCE,Cecile Corbel","url":"http://static.blinkfox.com/music2.mp3","cover":"http://static.blinkfox.com/music-cover2.png"},{"name":"Shape of You","artist":"J.Fla","url":"http://static.blinkfox.com/music3.mp3","cover":"http://static.blinkfox.com/music-cover3.png"}]}],"Page":[{"title":"about","date":"2019-01-16T12:02:16.000Z","type":"about","layout":"about","_content":"","source":"about/index.md","raw":"---\ntitle: about\ndate: 2019-01-16 20:02:16\ntype: \"about\"\nlayout: \"about\"\n---\n","updated":"2019-01-16T12:03:47.247Z","path":"about/index.html","comments":1,"_id":"cjt87kq400000r8r654ep09yv","content":"","site":{"data":{}},"excerpt":"","more":""},{"title":"categories","date":"2019-01-16T12:01:51.000Z","type":"categories","layout":"categories","_content":"","source":"categories/index.md","raw":"---\ntitle: categories\ndate: 2019-01-16 20:01:51\ntype: \"categories\"\nlayout: \"categories\"\n---\n","updated":"2019-01-16T12:03:33.034Z","path":"categories/index.html","comments":1,"_id":"cjt87kqb60006r8r6timykoyj","content":"","site":{"data":{}},"excerpt":"","more":""},{"title":"tags","date":"2019-01-16T11:58:49.000Z","type":"tags","layout":"tags","_content":"","source":"tags/index.md","raw":"---\ntitle: tags\ndate: 2019-01-16 19:58:49\ntype: \"tags\"\nlayout: \"tags\"\n---\n","updated":"2019-01-16T12:00:32.068Z","path":"tags/index.html","comments":1,"_id":"cjt87kqbe0007r8r64r2hy4k8","content":"","site":{"data":{}},"excerpt":"","more":""},{"title":"friends","date":"2019-01-16T12:01:51.000Z","type":"friends","layout":"friends","_content":"","source":"friends/index.md","raw":"---\ntitle: friends\ndate: 2019-01-16 20:01:51\ntype: \"friends\"\nlayout: \"friends\"\n---\n","updated":"2019-03-14T06:02:03.268Z","path":"friends/index.html","comments":1,"_id":"cjt88hccg00002kr667bdb14l","content":"","site":{"data":{}},"excerpt":"","more":""}],"Post":[{"title":"Python","date":"2018-10-14T23:44:14.000Z","author":"smile","img":"/images/KDA4.jpg","_content":"\n学习是一件庄严而又神圣的事情，贵在坚持\n\n不断地积累,才能体会到其中的乐趣\n\n\n\n## Python\n\n### 第1天\n\n1. 前端页面 = 标签(内容) + CSS(显示) + JavaScript(行为)\n2. JavaScript = ECMAScript + BOM(window) + DOM(document)\n3. window \n\t- alert() / prompt() / confirm() / close()\n\t- setInterval() / setTimeout() / clearInterval() / clearTimeout()\n4. document\n\t- getElementById() / getElementsByTagName() / getElementsByClassName()\n\t- querySelector() / querySelectorAll()\n5. HTMLElement\n\t- textContent / innerHTML\n6. 其他知识\n\t- Date: getFullYear() / getMonth() / getDate() / getDay()\n\t- Math: Math.random()\n\t- parseInt() / parseFloat()\n\n### 第2天\n\n1. JavaScript中的事件处理\n\t- 在标签上使用onXXX属性来进行事件绑定\n\t- 通过代码获取标签绑定onXXX属性\n\t- 通过代码获取标签然后使用addEventListener()绑定事件\n\t  使用removeEventListener()反绑定事件\n\t  这里有浏览器兼容性问题 对于低版本IE要使用\n\t  attachEvent() / detachEvent()\n2. 事件回调函数和事件对象\n\t- 绑定事件监听器的函数都需要传入事件的回调函数\n\t- 程序员知道事件发生的时候需要做什么样的处理但是不知道事件什么时候发生\n\t- 所以传入一个函数在将来发生事件的时候由系统进行调用 这种函数就称为回调函数\n\t- 回调函数的第一个参数代表事件对象（封装了和事件相关的所有信息）对于低版本IE\n\t- 可以通过window.event来获取事件对象\n\t- 事件对象的属性和方法：\n\t\t- target / srcElement - 事件源（引发事件的标签）\n\t\t- preventDefault() / returnValue=false - 阻止事件的默认行为\n\t\t- 处理事件有两种顺序：事件冒泡（默认，从内向外）/ 事件捕获（从外向内）\n\t\t- 如果要阻止事件的传播行为（例如阻止事件冒泡）可以使用\n\t\t  stopPropagation() / cancelBubble=true\n","source":"_posts/README.md","raw":"---\ntitle: Python\ndate: 2018-10-15 07:44:14\nauthor: smile\nimg: /images/KDA4.jpg\ncategories: Markdown\ntags: \n  - Markdown\n---\n\n学习是一件庄严而又神圣的事情，贵在坚持\n\n不断地积累,才能体会到其中的乐趣\n\n\n\n## Python\n\n### 第1天\n\n1. 前端页面 = 标签(内容) + CSS(显示) + JavaScript(行为)\n2. JavaScript = ECMAScript + BOM(window) + DOM(document)\n3. window \n\t- alert() / prompt() / confirm() / close()\n\t- setInterval() / setTimeout() / clearInterval() / clearTimeout()\n4. document\n\t- getElementById() / getElementsByTagName() / getElementsByClassName()\n\t- querySelector() / querySelectorAll()\n5. HTMLElement\n\t- textContent / innerHTML\n6. 其他知识\n\t- Date: getFullYear() / getMonth() / getDate() / getDay()\n\t- Math: Math.random()\n\t- parseInt() / parseFloat()\n\n### 第2天\n\n1. JavaScript中的事件处理\n\t- 在标签上使用onXXX属性来进行事件绑定\n\t- 通过代码获取标签绑定onXXX属性\n\t- 通过代码获取标签然后使用addEventListener()绑定事件\n\t  使用removeEventListener()反绑定事件\n\t  这里有浏览器兼容性问题 对于低版本IE要使用\n\t  attachEvent() / detachEvent()\n2. 事件回调函数和事件对象\n\t- 绑定事件监听器的函数都需要传入事件的回调函数\n\t- 程序员知道事件发生的时候需要做什么样的处理但是不知道事件什么时候发生\n\t- 所以传入一个函数在将来发生事件的时候由系统进行调用 这种函数就称为回调函数\n\t- 回调函数的第一个参数代表事件对象（封装了和事件相关的所有信息）对于低版本IE\n\t- 可以通过window.event来获取事件对象\n\t- 事件对象的属性和方法：\n\t\t- target / srcElement - 事件源（引发事件的标签）\n\t\t- preventDefault() / returnValue=false - 阻止事件的默认行为\n\t\t- 处理事件有两种顺序：事件冒泡（默认，从内向外）/ 事件捕获（从外向内）\n\t\t- 如果要阻止事件的传播行为（例如阻止事件冒泡）可以使用\n\t\t  stopPropagation() / cancelBubble=true\n","slug":"README","published":1,"updated":"2019-01-17T01:35:50.252Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjt87kq460001r8r6k0y9g3nk","content":"<p>学习是一件庄严而又神圣的事情，贵在坚持</p>\n<p>不断地积累,才能体会到其中的乐趣</p>\n<h2 id=\"Python\"><a href=\"#Python\" class=\"headerlink\" title=\"Python\"></a>Python</h2><h3 id=\"第1天\"><a href=\"#第1天\" class=\"headerlink\" title=\"第1天\"></a>第1天</h3><ol>\n<li>前端页面 = 标签(内容) + CSS(显示) + JavaScript(行为)</li>\n<li>JavaScript = ECMAScript + BOM(window) + DOM(document)</li>\n<li>window <ul>\n<li>alert() / prompt() / confirm() / close()</li>\n<li>setInterval() / setTimeout() / clearInterval() / clearTimeout()</li>\n</ul>\n</li>\n<li>document<ul>\n<li>getElementById() / getElementsByTagName() / getElementsByClassName()</li>\n<li>querySelector() / querySelectorAll()</li>\n</ul>\n</li>\n<li>HTMLElement<ul>\n<li>textContent / innerHTML</li>\n</ul>\n</li>\n<li>其他知识<ul>\n<li>Date: getFullYear() / getMonth() / getDate() / getDay()</li>\n<li>Math: Math.random()</li>\n<li>parseInt() / parseFloat()</li>\n</ul>\n</li>\n</ol>\n<h3 id=\"第2天\"><a href=\"#第2天\" class=\"headerlink\" title=\"第2天\"></a>第2天</h3><ol>\n<li>JavaScript中的事件处理<ul>\n<li>在标签上使用onXXX属性来进行事件绑定</li>\n<li>通过代码获取标签绑定onXXX属性</li>\n<li>通过代码获取标签然后使用addEventListener()绑定事件<br>使用removeEventListener()反绑定事件<br>这里有浏览器兼容性问题 对于低版本IE要使用<br>attachEvent() / detachEvent()</li>\n</ul>\n</li>\n<li>事件回调函数和事件对象<ul>\n<li>绑定事件监听器的函数都需要传入事件的回调函数</li>\n<li>程序员知道事件发生的时候需要做什么样的处理但是不知道事件什么时候发生</li>\n<li>所以传入一个函数在将来发生事件的时候由系统进行调用 这种函数就称为回调函数</li>\n<li>回调函数的第一个参数代表事件对象（封装了和事件相关的所有信息）对于低版本IE</li>\n<li>可以通过window.event来获取事件对象</li>\n<li>事件对象的属性和方法：<ul>\n<li>target / srcElement - 事件源（引发事件的标签）</li>\n<li>preventDefault() / returnValue=false - 阻止事件的默认行为</li>\n<li>处理事件有两种顺序：事件冒泡（默认，从内向外）/ 事件捕获（从外向内）</li>\n<li>如果要阻止事件的传播行为（例如阻止事件冒泡）可以使用<br>stopPropagation() / cancelBubble=true</li>\n</ul>\n</li>\n</ul>\n</li>\n</ol>\n","site":{"data":{}},"excerpt":"","more":"<p>学习是一件庄严而又神圣的事情，贵在坚持</p>\n<p>不断地积累,才能体会到其中的乐趣</p>\n<h2 id=\"Python\"><a href=\"#Python\" class=\"headerlink\" title=\"Python\"></a>Python</h2><h3 id=\"第1天\"><a href=\"#第1天\" class=\"headerlink\" title=\"第1天\"></a>第1天</h3><ol>\n<li>前端页面 = 标签(内容) + CSS(显示) + JavaScript(行为)</li>\n<li>JavaScript = ECMAScript + BOM(window) + DOM(document)</li>\n<li>window <ul>\n<li>alert() / prompt() / confirm() / close()</li>\n<li>setInterval() / setTimeout() / clearInterval() / clearTimeout()</li>\n</ul>\n</li>\n<li>document<ul>\n<li>getElementById() / getElementsByTagName() / getElementsByClassName()</li>\n<li>querySelector() / querySelectorAll()</li>\n</ul>\n</li>\n<li>HTMLElement<ul>\n<li>textContent / innerHTML</li>\n</ul>\n</li>\n<li>其他知识<ul>\n<li>Date: getFullYear() / getMonth() / getDate() / getDay()</li>\n<li>Math: Math.random()</li>\n<li>parseInt() / parseFloat()</li>\n</ul>\n</li>\n</ol>\n<h3 id=\"第2天\"><a href=\"#第2天\" class=\"headerlink\" title=\"第2天\"></a>第2天</h3><ol>\n<li>JavaScript中的事件处理<ul>\n<li>在标签上使用onXXX属性来进行事件绑定</li>\n<li>通过代码获取标签绑定onXXX属性</li>\n<li>通过代码获取标签然后使用addEventListener()绑定事件<br>使用removeEventListener()反绑定事件<br>这里有浏览器兼容性问题 对于低版本IE要使用<br>attachEvent() / detachEvent()</li>\n</ul>\n</li>\n<li>事件回调函数和事件对象<ul>\n<li>绑定事件监听器的函数都需要传入事件的回调函数</li>\n<li>程序员知道事件发生的时候需要做什么样的处理但是不知道事件什么时候发生</li>\n<li>所以传入一个函数在将来发生事件的时候由系统进行调用 这种函数就称为回调函数</li>\n<li>回调函数的第一个参数代表事件对象（封装了和事件相关的所有信息）对于低版本IE</li>\n<li>可以通过window.event来获取事件对象</li>\n<li>事件对象的属性和方法：<ul>\n<li>target / srcElement - 事件源（引发事件的标签）</li>\n<li>preventDefault() / returnValue=false - 阻止事件的默认行为</li>\n<li>处理事件有两种顺序：事件冒泡（默认，从内向外）/ 事件捕获（从外向内）</li>\n<li>如果要阻止事件的传播行为（例如阻止事件冒泡）可以使用<br>stopPropagation() / cancelBubble=true</li>\n</ul>\n</li>\n</ul>\n</li>\n</ol>\n"},{"title":"部署Django项目","date":"2018-12-14T12:45:47.000Z","author":"smile","_content":"\n\n###  安装MariaDB\n\n安装命令\n\n\tyum -y install mariadb mariadb-server\n\n安装完成MariaDB，首先启动MariaDB\n\n\tsystemctl start mariadb\n\n设置开机启动\n\n\tsystemctl enable mariadb\n\n###  设置密码\n\n命令: mysql\\_secure\\_installation\n\n```python\nEnter current password for root:<–初次运行直接回车\n\n设置密码\n\nSet root password? [Y/n] <– 是否设置root用户密码，输入y并回车或直接回车\n\nNew password: <– 设置root用户的密码\nRe-enter new password: <– 再输入一次你设置的密码\n\n其他配置\n\nRemove anonymous users? [Y/n] <– 是否删除匿名用户，回车\n\nDisallow root login remotely? [Y/n] <–是否禁止root远程登录,回车,\n\nRemove test database and access to it? [Y/n] <– 是否删除test数据库，回车\n\nReload privilege tables now? [Y/n] <– 是否重新加载权限表，回车\n\n初始化MariaDB完成，接下来测试登录\n\nmysql -u root -p\n```\n\n###  开启远程连接\n\n在mysql数据库中的user表中可以看到默认是只能本地连接的，所有可以添加一个新的用户，该用户可以远程访问\n\n####  1. 创建用户\n\n```python\n# 先使用数据库\nuse mysql;\n\n# 针对ip\ncreate user 'root'@'192.168.10.10' identified by 'password';\n\n#全部\n create user 'root'@'%' identified by 'password';\n```\n\n####  2. 授权\n\n```python\n# 给用户最大权限\ngrant all privileges on *.* to 'root'@'%' identified by 'password';\n\n# 给部分权限(test 数据库)\n\ngrant all privileges on test.* to 'root'@'%' identified by 'password' with grant option;\n\n# 刷新权限表\n```\n \tflush privileges;\n\n\t# 查看\n\tshow grants for 'root'@'localhost';\n\n接下来就可以在远程的数据库可视化工具中直接访问该服务器中的mysql了。\n\n\t# 访问数据库\n\tmysql -u root -p\n\n###  安装python3.6\n\n在centos中，系统默认只提供python2.7的版本，但是项目我们使用的python3.6的版本。所有我们自己安装python3\n\n\n####  安装Python3的方法\n\n首先安装依赖包\n\n安装Python3.6所需要的依赖包：\n\n\tyum -y groupinstall \"Development tools\"\n\t\n\tyum -y install zlib-devel bzip2-devel openssl-devel ncurses-devel sqlite-devel readline-devel tk-devel gdbm-devel db4-devel libpcap-devel xz-devel\n\n安装Python3.7还需额外安装依赖包：\n\n\tyum install libffi-devel -y\n\n然后根据自己需求下载不同版本的Python3，我下载的是Python3.6.2\n\n```python\nwget https://www.python.org/ftp/python/3.6.2/Python-3.6.2.tar.xz\n\n然后解压压缩包，进入该目录，安装Python3\n\ntar -xvJf  Python-3.6.2.tar.xz\ncd Python-3.6.2\n./configure --prefix=/usr/local/python3\nmake && make install\n```\n\n最后创建软链接\n\n\tln -s /usr/local/python3/bin/python3 /usr/bin/python3\n\t\n\tln -s /usr/local/python3/bin/pip3 /usr/bin/pip3\n\n\n###  安装环境\n\n####  1. 安装virtualenv\n\n\tyum install python-virtualenv\n\n####  2. 创建虚拟环境\n\n\tvirtualenv --no-site-packages env\n\t\n\tcd env\n\t\n\t# 激活虚拟环境\n\tsource bin/activate\n\n####  3. 安装环境需要的包\n\n\tpip3 install -r re_install.txt\n\t\n\t其中re_install.txt文件中记录的是需要安装包的名称以及对应的版本\n\n###  部署\n\n该部署采用的是cenots7系统来部署\n\nDjango的项目中，在工程目录下settings.py文件中有一个DEBUG=True参数，如果DEBUG=False则会出现js,css，img无法加载的情况出现。\n\n原因如下：\n\nDjango框架仅在开发模式下提供静态文件服务。当我开启DEBUG模式时，Django内置的服务器是提供静态文件的服务的，所以css等文件访问都没有问题，但是关闭DEBUG模式后，Django便不提供静态文件服务了。想一想这是符合Django的哲学的：这部分事情标准服务器都很擅长，就让服务器去做吧！\n\n####  1. 测试环境中部署方式\n\n#####  urls.py中的修改\n\n在测试环境中一般都直接使用python manage.py runserver的方式去运行项目。其中就涉及到DEBUG=False的修改，静态目录的修改等，具体修改如下：\n\n```python\na) 修改settings.py配置文件中的DEBUG=False模式，修改ALLOEWD_HOST=['*']\n\nb) 修改工程目录下的urls.py\n\nfrom django.views.static import serve\n\nurlpatterns = [\n    url(r'^admin/', admin.site.urls),\n    url(r'^axf/', include('axf.urls', namespace='axf')),\n\n\t# 增加以下的url路由\n    url(r'^static/(?P<path>.*)$', serve, {\"document_root\": settings.STATICFILES_DIRS[0]}),\n\t\n\turl(r'^media/(?P<path>.*)$', serve, {\"document_root\": settings.MEDIA_ROOT}),\n```\n\n\n\t    url(r'^$', views.home)\n\t]\n\n\n#####  中间件的修改\n\n如果中间件是过滤哪些地址不需要登录验证的话，可以设置如下的static和media过滤地址的参数：\n\n```python\n# 验证用户的登录状态\npaths = ['/user/login/', '/user/register/',\n         '/axf/market/', '/axf/marketparams/(\\d+)/(\\d+)/(\\d+)/',\n        '/static/[0-9a-zA-Z/\\.]', '/media/[0-9a-zA-Z/\\.]']\n\nfor path in paths:\n    if re.match(path, request.path):\n        return None\n```\n\n\n####  2. 正式环境中部署方式\n\n正式环境中部署为nginx+uwsgi来部署django项目\n\n#####  2.1 安装nginx\n\na）添加nginx存储库\n​\t\n​\tyum install epel-release\n\n\nb) 安装nginx\n\n\tyum install nginx\n\nc) 运行nginx\n\nNginx不会自行启动。要运行Nginx\n​\t\n​\tsystemctl start nginx\n\nnginx的运行命令：\n\n```python\n systemctl status nginx 查看nginx的状态\n systemctl start/stop/enable/disable nginx 启动/关闭/设置开机启动/禁止开机启动\n```\n\n\nd）系统启动时启用Nginx\n​\t\n​\tsystemctl enable nginx\n\ne）如果您正在运行防火墙，请运行以下命令以允许HTTP和HTTPS通信：\n​\t\n```python\nsudo firewall-cmd --permanent --zone=public --add-service=http \n\nsudo firewall-cmd --permanent --zone=public --add-service=https\n\nsudo firewall-cmd --reload\n```\n\n\n####  3.配置uwsgi\n\n#####  3.1 安装uwsgi\n\n在虚拟环境中安装uwsgi，假设虚拟环境安装在/home/env/axfenv中\n\n\t/home/env/axfeng/bin/python3/pip3 install uwsgi\n\n\n\n####  4. 配置项目代码，配置项目nginx，配置uwsgi.ini等\n\n**在home文件中创建如下四个文件夹**\n\nconf是配置文件，用于存放项目的nginx.conf文件，uwsgi.ini文件\n\nlogs是日志文件，用于存放nginx的启动成功和失败文件，以及uwsgi的运行日志文件\n\nenv是用于存放虚拟环境\n\nsrc是项目文件，该目录下上传的是目录代码\n\n####  4.1 配置nginx.conf文件\n\n<b>首先</b>：编写自己项目的nginx.conf文件如下：\n\n每一个项目对应有一个自己定义的nginx的配置文件，比如爱鲜蜂项目，我定义为axfnginx.conf文件\n\n```python\nserver {\n     listen       80;\n     server_name 39.104.176.9 localhost;\n\n     access_log /home/logs/access.log;\n     error_log /home/logs/error.log;\n\n     location / {\n         include uwsgi_params;\n         uwsgi_pass 127.0.0.1:8890;\n     }\n     location /static/ {\n         alias /home/src/axf/static/;\n         expires 30d;\n     }\n\n }\n```\n\n<b>其次</b>：修改总的nginx的配置文件，让总的nginx文件包含我们自定义的项目的axfnginx.conf文件\n\n总的nginx配置文件在：/etc/nginx/nginx.conf中\n\n\n![django_centos_nginx_peizhi](Django\\django_centos_nginx_peizhi.png)\n\n\n以上步骤操作完成以后，需要重启nginx：\n\n```python\nsystemctl restart nginx\n```\n\n\n####  4.2 配置uwsgi文件\n\n在conf文件夹下除了包含自定义的axfnginx.conf文件，还有我们定义的uwsgi.ini文件\n\n```python\n[uwsgi]\nprojectname = axf\nbase = /home/src\n\n# 守护进程\nmaster = true\n\n# 进程个数\nprocesses = 4\n\n# 虚拟环境\npythonhome = /home/env/axfenv\n\n# 项目地址\nchdir = %(base)/%(projectname)\n\n# 指定python版本\npythonpath = /usr/local/python3/bin/python3\n\n# 指定uwsgi文件\nmodule = %(projectname).wsgi\n\n# 和nginx通信地址:端口\nsocket = 127.0.0.1:8890\n\n# 日志文件地址\nlogto = /home/logs/uwsgi.log\n```\n\n\n​\t\n运行项目:\n\n```python\n/home/env/axfeng/bin/python3/uwsgi --ini uwsgi.ini\n```","source":"_posts/Django/Django.md","raw":"---\ntitle: 部署Django项目\ndate: 2018-12-14 20:45:47\nauthor: smile\ncategories: Django\ntags:\n  - Django项目部署\n  - MariaDB安装\n---\n\n\n###  安装MariaDB\n\n安装命令\n\n\tyum -y install mariadb mariadb-server\n\n安装完成MariaDB，首先启动MariaDB\n\n\tsystemctl start mariadb\n\n设置开机启动\n\n\tsystemctl enable mariadb\n\n###  设置密码\n\n命令: mysql\\_secure\\_installation\n\n```python\nEnter current password for root:<–初次运行直接回车\n\n设置密码\n\nSet root password? [Y/n] <– 是否设置root用户密码，输入y并回车或直接回车\n\nNew password: <– 设置root用户的密码\nRe-enter new password: <– 再输入一次你设置的密码\n\n其他配置\n\nRemove anonymous users? [Y/n] <– 是否删除匿名用户，回车\n\nDisallow root login remotely? [Y/n] <–是否禁止root远程登录,回车,\n\nRemove test database and access to it? [Y/n] <– 是否删除test数据库，回车\n\nReload privilege tables now? [Y/n] <– 是否重新加载权限表，回车\n\n初始化MariaDB完成，接下来测试登录\n\nmysql -u root -p\n```\n\n###  开启远程连接\n\n在mysql数据库中的user表中可以看到默认是只能本地连接的，所有可以添加一个新的用户，该用户可以远程访问\n\n####  1. 创建用户\n\n```python\n# 先使用数据库\nuse mysql;\n\n# 针对ip\ncreate user 'root'@'192.168.10.10' identified by 'password';\n\n#全部\n create user 'root'@'%' identified by 'password';\n```\n\n####  2. 授权\n\n```python\n# 给用户最大权限\ngrant all privileges on *.* to 'root'@'%' identified by 'password';\n\n# 给部分权限(test 数据库)\n\ngrant all privileges on test.* to 'root'@'%' identified by 'password' with grant option;\n\n# 刷新权限表\n```\n \tflush privileges;\n\n\t# 查看\n\tshow grants for 'root'@'localhost';\n\n接下来就可以在远程的数据库可视化工具中直接访问该服务器中的mysql了。\n\n\t# 访问数据库\n\tmysql -u root -p\n\n###  安装python3.6\n\n在centos中，系统默认只提供python2.7的版本，但是项目我们使用的python3.6的版本。所有我们自己安装python3\n\n\n####  安装Python3的方法\n\n首先安装依赖包\n\n安装Python3.6所需要的依赖包：\n\n\tyum -y groupinstall \"Development tools\"\n\t\n\tyum -y install zlib-devel bzip2-devel openssl-devel ncurses-devel sqlite-devel readline-devel tk-devel gdbm-devel db4-devel libpcap-devel xz-devel\n\n安装Python3.7还需额外安装依赖包：\n\n\tyum install libffi-devel -y\n\n然后根据自己需求下载不同版本的Python3，我下载的是Python3.6.2\n\n```python\nwget https://www.python.org/ftp/python/3.6.2/Python-3.6.2.tar.xz\n\n然后解压压缩包，进入该目录，安装Python3\n\ntar -xvJf  Python-3.6.2.tar.xz\ncd Python-3.6.2\n./configure --prefix=/usr/local/python3\nmake && make install\n```\n\n最后创建软链接\n\n\tln -s /usr/local/python3/bin/python3 /usr/bin/python3\n\t\n\tln -s /usr/local/python3/bin/pip3 /usr/bin/pip3\n\n\n###  安装环境\n\n####  1. 安装virtualenv\n\n\tyum install python-virtualenv\n\n####  2. 创建虚拟环境\n\n\tvirtualenv --no-site-packages env\n\t\n\tcd env\n\t\n\t# 激活虚拟环境\n\tsource bin/activate\n\n####  3. 安装环境需要的包\n\n\tpip3 install -r re_install.txt\n\t\n\t其中re_install.txt文件中记录的是需要安装包的名称以及对应的版本\n\n###  部署\n\n该部署采用的是cenots7系统来部署\n\nDjango的项目中，在工程目录下settings.py文件中有一个DEBUG=True参数，如果DEBUG=False则会出现js,css，img无法加载的情况出现。\n\n原因如下：\n\nDjango框架仅在开发模式下提供静态文件服务。当我开启DEBUG模式时，Django内置的服务器是提供静态文件的服务的，所以css等文件访问都没有问题，但是关闭DEBUG模式后，Django便不提供静态文件服务了。想一想这是符合Django的哲学的：这部分事情标准服务器都很擅长，就让服务器去做吧！\n\n####  1. 测试环境中部署方式\n\n#####  urls.py中的修改\n\n在测试环境中一般都直接使用python manage.py runserver的方式去运行项目。其中就涉及到DEBUG=False的修改，静态目录的修改等，具体修改如下：\n\n```python\na) 修改settings.py配置文件中的DEBUG=False模式，修改ALLOEWD_HOST=['*']\n\nb) 修改工程目录下的urls.py\n\nfrom django.views.static import serve\n\nurlpatterns = [\n    url(r'^admin/', admin.site.urls),\n    url(r'^axf/', include('axf.urls', namespace='axf')),\n\n\t# 增加以下的url路由\n    url(r'^static/(?P<path>.*)$', serve, {\"document_root\": settings.STATICFILES_DIRS[0]}),\n\t\n\turl(r'^media/(?P<path>.*)$', serve, {\"document_root\": settings.MEDIA_ROOT}),\n```\n\n\n\t    url(r'^$', views.home)\n\t]\n\n\n#####  中间件的修改\n\n如果中间件是过滤哪些地址不需要登录验证的话，可以设置如下的static和media过滤地址的参数：\n\n```python\n# 验证用户的登录状态\npaths = ['/user/login/', '/user/register/',\n         '/axf/market/', '/axf/marketparams/(\\d+)/(\\d+)/(\\d+)/',\n        '/static/[0-9a-zA-Z/\\.]', '/media/[0-9a-zA-Z/\\.]']\n\nfor path in paths:\n    if re.match(path, request.path):\n        return None\n```\n\n\n####  2. 正式环境中部署方式\n\n正式环境中部署为nginx+uwsgi来部署django项目\n\n#####  2.1 安装nginx\n\na）添加nginx存储库\n​\t\n​\tyum install epel-release\n\n\nb) 安装nginx\n\n\tyum install nginx\n\nc) 运行nginx\n\nNginx不会自行启动。要运行Nginx\n​\t\n​\tsystemctl start nginx\n\nnginx的运行命令：\n\n```python\n systemctl status nginx 查看nginx的状态\n systemctl start/stop/enable/disable nginx 启动/关闭/设置开机启动/禁止开机启动\n```\n\n\nd）系统启动时启用Nginx\n​\t\n​\tsystemctl enable nginx\n\ne）如果您正在运行防火墙，请运行以下命令以允许HTTP和HTTPS通信：\n​\t\n```python\nsudo firewall-cmd --permanent --zone=public --add-service=http \n\nsudo firewall-cmd --permanent --zone=public --add-service=https\n\nsudo firewall-cmd --reload\n```\n\n\n####  3.配置uwsgi\n\n#####  3.1 安装uwsgi\n\n在虚拟环境中安装uwsgi，假设虚拟环境安装在/home/env/axfenv中\n\n\t/home/env/axfeng/bin/python3/pip3 install uwsgi\n\n\n\n####  4. 配置项目代码，配置项目nginx，配置uwsgi.ini等\n\n**在home文件中创建如下四个文件夹**\n\nconf是配置文件，用于存放项目的nginx.conf文件，uwsgi.ini文件\n\nlogs是日志文件，用于存放nginx的启动成功和失败文件，以及uwsgi的运行日志文件\n\nenv是用于存放虚拟环境\n\nsrc是项目文件，该目录下上传的是目录代码\n\n####  4.1 配置nginx.conf文件\n\n<b>首先</b>：编写自己项目的nginx.conf文件如下：\n\n每一个项目对应有一个自己定义的nginx的配置文件，比如爱鲜蜂项目，我定义为axfnginx.conf文件\n\n```python\nserver {\n     listen       80;\n     server_name 39.104.176.9 localhost;\n\n     access_log /home/logs/access.log;\n     error_log /home/logs/error.log;\n\n     location / {\n         include uwsgi_params;\n         uwsgi_pass 127.0.0.1:8890;\n     }\n     location /static/ {\n         alias /home/src/axf/static/;\n         expires 30d;\n     }\n\n }\n```\n\n<b>其次</b>：修改总的nginx的配置文件，让总的nginx文件包含我们自定义的项目的axfnginx.conf文件\n\n总的nginx配置文件在：/etc/nginx/nginx.conf中\n\n\n![django_centos_nginx_peizhi](Django\\django_centos_nginx_peizhi.png)\n\n\n以上步骤操作完成以后，需要重启nginx：\n\n```python\nsystemctl restart nginx\n```\n\n\n####  4.2 配置uwsgi文件\n\n在conf文件夹下除了包含自定义的axfnginx.conf文件，还有我们定义的uwsgi.ini文件\n\n```python\n[uwsgi]\nprojectname = axf\nbase = /home/src\n\n# 守护进程\nmaster = true\n\n# 进程个数\nprocesses = 4\n\n# 虚拟环境\npythonhome = /home/env/axfenv\n\n# 项目地址\nchdir = %(base)/%(projectname)\n\n# 指定python版本\npythonpath = /usr/local/python3/bin/python3\n\n# 指定uwsgi文件\nmodule = %(projectname).wsgi\n\n# 和nginx通信地址:端口\nsocket = 127.0.0.1:8890\n\n# 日志文件地址\nlogto = /home/logs/uwsgi.log\n```\n\n\n​\t\n运行项目:\n\n```python\n/home/env/axfeng/bin/python3/uwsgi --ini uwsgi.ini\n```","slug":"Django/Django","published":1,"updated":"2019-01-17T06:18:13.396Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjt87kqeq0008r8r604yl23cj","content":"<h3 id=\"安装MariaDB\"><a href=\"#安装MariaDB\" class=\"headerlink\" title=\"安装MariaDB\"></a>安装MariaDB</h3><p>安装命令</p>\n<pre><code>yum -y install mariadb mariadb-server\n</code></pre><p>安装完成MariaDB，首先启动MariaDB</p>\n<pre><code>systemctl start mariadb\n</code></pre><p>设置开机启动</p>\n<pre><code>systemctl enable mariadb\n</code></pre><h3 id=\"设置密码\"><a href=\"#设置密码\" class=\"headerlink\" title=\"设置密码\"></a>设置密码</h3><p>命令: mysql_secure_installation</p>\n<pre class=\" language-python\"><code class=\"language-python\">Enter current password <span class=\"token keyword\">for</span> root<span class=\"token punctuation\">:</span><span class=\"token operator\">&lt;</span>–初次运行直接回车\n\n设置密码\n\nSet root password? <span class=\"token punctuation\">[</span>Y<span class=\"token operator\">/</span>n<span class=\"token punctuation\">]</span> <span class=\"token operator\">&lt;</span>– 是否设置root用户密码，输入y并回车或直接回车\n\nNew password<span class=\"token punctuation\">:</span> <span class=\"token operator\">&lt;</span>– 设置root用户的密码\nRe<span class=\"token operator\">-</span>enter new password<span class=\"token punctuation\">:</span> <span class=\"token operator\">&lt;</span>– 再输入一次你设置的密码\n\n其他配置\n\nRemove anonymous users? <span class=\"token punctuation\">[</span>Y<span class=\"token operator\">/</span>n<span class=\"token punctuation\">]</span> <span class=\"token operator\">&lt;</span>– 是否删除匿名用户，回车\n\nDisallow root login remotely? <span class=\"token punctuation\">[</span>Y<span class=\"token operator\">/</span>n<span class=\"token punctuation\">]</span> <span class=\"token operator\">&lt;</span>–是否禁止root远程登录<span class=\"token punctuation\">,</span>回车<span class=\"token punctuation\">,</span>\n\nRemove test database <span class=\"token operator\">and</span> access to it? <span class=\"token punctuation\">[</span>Y<span class=\"token operator\">/</span>n<span class=\"token punctuation\">]</span> <span class=\"token operator\">&lt;</span>– 是否删除test数据库，回车\n\nReload privilege tables now? <span class=\"token punctuation\">[</span>Y<span class=\"token operator\">/</span>n<span class=\"token punctuation\">]</span> <span class=\"token operator\">&lt;</span>– 是否重新加载权限表，回车\n\n初始化MariaDB完成，接下来测试登录\n\nmysql <span class=\"token operator\">-</span>u root <span class=\"token operator\">-</span>p\n</code></pre>\n<h3 id=\"开启远程连接\"><a href=\"#开启远程连接\" class=\"headerlink\" title=\"开启远程连接\"></a>开启远程连接</h3><p>在mysql数据库中的user表中可以看到默认是只能本地连接的，所有可以添加一个新的用户，该用户可以远程访问</p>\n<h4 id=\"1-创建用户\"><a href=\"#1-创建用户\" class=\"headerlink\" title=\"1. 创建用户\"></a>1. 创建用户</h4><pre class=\" language-python\"><code class=\"language-python\"><span class=\"token comment\" spellcheck=\"true\"># 先使用数据库</span>\nuse mysql<span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\" spellcheck=\"true\"># 针对ip</span>\ncreate user <span class=\"token string\">'root'</span>@<span class=\"token string\">'192.168.10.10'</span> identified by <span class=\"token string\">'password'</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\" spellcheck=\"true\">#全部</span>\n create user <span class=\"token string\">'root'</span>@<span class=\"token string\">'%'</span> identified by <span class=\"token string\">'password'</span><span class=\"token punctuation\">;</span>\n</code></pre>\n<h4 id=\"2-授权\"><a href=\"#2-授权\" class=\"headerlink\" title=\"2. 授权\"></a>2. 授权</h4><pre class=\" language-python\"><code class=\"language-python\"><span class=\"token comment\" spellcheck=\"true\"># 给用户最大权限</span>\ngrant all privileges on <span class=\"token operator\">*</span><span class=\"token punctuation\">.</span><span class=\"token operator\">*</span> to <span class=\"token string\">'root'</span>@<span class=\"token string\">'%'</span> identified by <span class=\"token string\">'password'</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\" spellcheck=\"true\"># 给部分权限(test 数据库)</span>\n\ngrant all privileges on test<span class=\"token punctuation\">.</span><span class=\"token operator\">*</span> to <span class=\"token string\">'root'</span>@<span class=\"token string\">'%'</span> identified by <span class=\"token string\">'password'</span> <span class=\"token keyword\">with</span> grant option<span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\" spellcheck=\"true\"># 刷新权限表</span>\n</code></pre>\n<pre><code> flush privileges;\n\n# 查看\nshow grants for &#39;root&#39;@&#39;localhost&#39;;\n</code></pre><p>接下来就可以在远程的数据库可视化工具中直接访问该服务器中的mysql了。</p>\n<pre><code># 访问数据库\nmysql -u root -p\n</code></pre><h3 id=\"安装python3-6\"><a href=\"#安装python3-6\" class=\"headerlink\" title=\"安装python3.6\"></a>安装python3.6</h3><p>在centos中，系统默认只提供python2.7的版本，但是项目我们使用的python3.6的版本。所有我们自己安装python3</p>\n<h4 id=\"安装Python3的方法\"><a href=\"#安装Python3的方法\" class=\"headerlink\" title=\"安装Python3的方法\"></a>安装Python3的方法</h4><p>首先安装依赖包</p>\n<p>安装Python3.6所需要的依赖包：</p>\n<pre><code>yum -y groupinstall &quot;Development tools&quot;\n\nyum -y install zlib-devel bzip2-devel openssl-devel ncurses-devel sqlite-devel readline-devel tk-devel gdbm-devel db4-devel libpcap-devel xz-devel\n</code></pre><p>安装Python3.7还需额外安装依赖包：</p>\n<pre><code>yum install libffi-devel -y\n</code></pre><p>然后根据自己需求下载不同版本的Python3，我下载的是Python3.6.2</p>\n<pre class=\" language-python\"><code class=\"language-python\">wget https<span class=\"token punctuation\">:</span><span class=\"token operator\">//</span>www<span class=\"token punctuation\">.</span>python<span class=\"token punctuation\">.</span>org<span class=\"token operator\">/</span>ftp<span class=\"token operator\">/</span>python<span class=\"token operator\">/</span><span class=\"token number\">3.6</span><span class=\"token punctuation\">.</span><span class=\"token number\">2</span><span class=\"token operator\">/</span>Python<span class=\"token number\">-3.6</span><span class=\"token punctuation\">.</span><span class=\"token number\">2.</span>tar<span class=\"token punctuation\">.</span>xz\n\n然后解压压缩包，进入该目录，安装Python3\n\ntar <span class=\"token operator\">-</span>xvJf  Python<span class=\"token number\">-3.6</span><span class=\"token punctuation\">.</span><span class=\"token number\">2.</span>tar<span class=\"token punctuation\">.</span>xz\ncd Python<span class=\"token number\">-3.6</span><span class=\"token punctuation\">.</span><span class=\"token number\">2</span>\n<span class=\"token punctuation\">.</span><span class=\"token operator\">/</span>configure <span class=\"token operator\">-</span><span class=\"token operator\">-</span>prefix<span class=\"token operator\">=</span><span class=\"token operator\">/</span>usr<span class=\"token operator\">/</span>local<span class=\"token operator\">/</span>python3\nmake <span class=\"token operator\">&amp;</span><span class=\"token operator\">&amp;</span> make install\n</code></pre>\n<p>最后创建软链接</p>\n<pre><code>ln -s /usr/local/python3/bin/python3 /usr/bin/python3\n\nln -s /usr/local/python3/bin/pip3 /usr/bin/pip3\n</code></pre><h3 id=\"安装环境\"><a href=\"#安装环境\" class=\"headerlink\" title=\"安装环境\"></a>安装环境</h3><h4 id=\"1-安装virtualenv\"><a href=\"#1-安装virtualenv\" class=\"headerlink\" title=\"1. 安装virtualenv\"></a>1. 安装virtualenv</h4><pre><code>yum install python-virtualenv\n</code></pre><h4 id=\"2-创建虚拟环境\"><a href=\"#2-创建虚拟环境\" class=\"headerlink\" title=\"2. 创建虚拟环境\"></a>2. 创建虚拟环境</h4><pre><code>virtualenv --no-site-packages env\n\ncd env\n\n# 激活虚拟环境\nsource bin/activate\n</code></pre><h4 id=\"3-安装环境需要的包\"><a href=\"#3-安装环境需要的包\" class=\"headerlink\" title=\"3. 安装环境需要的包\"></a>3. 安装环境需要的包</h4><pre><code>pip3 install -r re_install.txt\n\n其中re_install.txt文件中记录的是需要安装包的名称以及对应的版本\n</code></pre><h3 id=\"部署\"><a href=\"#部署\" class=\"headerlink\" title=\"部署\"></a>部署</h3><p>该部署采用的是cenots7系统来部署</p>\n<p>Django的项目中，在工程目录下settings.py文件中有一个DEBUG=True参数，如果DEBUG=False则会出现js,css，img无法加载的情况出现。</p>\n<p>原因如下：</p>\n<p>Django框架仅在开发模式下提供静态文件服务。当我开启DEBUG模式时，Django内置的服务器是提供静态文件的服务的，所以css等文件访问都没有问题，但是关闭DEBUG模式后，Django便不提供静态文件服务了。想一想这是符合Django的哲学的：这部分事情标准服务器都很擅长，就让服务器去做吧！</p>\n<h4 id=\"1-测试环境中部署方式\"><a href=\"#1-测试环境中部署方式\" class=\"headerlink\" title=\"1. 测试环境中部署方式\"></a>1. 测试环境中部署方式</h4><h5 id=\"urls-py中的修改\"><a href=\"#urls-py中的修改\" class=\"headerlink\" title=\"urls.py中的修改\"></a>urls.py中的修改</h5><p>在测试环境中一般都直接使用python manage.py runserver的方式去运行项目。其中就涉及到DEBUG=False的修改，静态目录的修改等，具体修改如下：</p>\n<pre class=\" language-python\"><code class=\"language-python\">a<span class=\"token punctuation\">)</span> 修改settings<span class=\"token punctuation\">.</span>py配置文件中的DEBUG<span class=\"token operator\">=</span><span class=\"token boolean\">False</span>模式，修改ALLOEWD_HOST<span class=\"token operator\">=</span><span class=\"token punctuation\">[</span><span class=\"token string\">'*'</span><span class=\"token punctuation\">]</span>\n\nb<span class=\"token punctuation\">)</span> 修改工程目录下的urls<span class=\"token punctuation\">.</span>py\n\n<span class=\"token keyword\">from</span> django<span class=\"token punctuation\">.</span>views<span class=\"token punctuation\">.</span>static <span class=\"token keyword\">import</span> serve\n\nurlpatterns <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span>\n    url<span class=\"token punctuation\">(</span>r<span class=\"token string\">'^admin/'</span><span class=\"token punctuation\">,</span> admin<span class=\"token punctuation\">.</span>site<span class=\"token punctuation\">.</span>urls<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n    url<span class=\"token punctuation\">(</span>r<span class=\"token string\">'^axf/'</span><span class=\"token punctuation\">,</span> include<span class=\"token punctuation\">(</span><span class=\"token string\">'axf.urls'</span><span class=\"token punctuation\">,</span> namespace<span class=\"token operator\">=</span><span class=\"token string\">'axf'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n\n    <span class=\"token comment\" spellcheck=\"true\"># 增加以下的url路由</span>\n    url<span class=\"token punctuation\">(</span>r<span class=\"token string\">'^static/(?P&lt;path>.*)$'</span><span class=\"token punctuation\">,</span> serve<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span><span class=\"token string\">\"document_root\"</span><span class=\"token punctuation\">:</span> settings<span class=\"token punctuation\">.</span>STATICFILES_DIRS<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n\n    url<span class=\"token punctuation\">(</span>r<span class=\"token string\">'^media/(?P&lt;path>.*)$'</span><span class=\"token punctuation\">,</span> serve<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span><span class=\"token string\">\"document_root\"</span><span class=\"token punctuation\">:</span> settings<span class=\"token punctuation\">.</span>MEDIA_ROOT<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n</code></pre>\n<pre><code>    url(r&#39;^$&#39;, views.home)\n]\n</code></pre><h5 id=\"中间件的修改\"><a href=\"#中间件的修改\" class=\"headerlink\" title=\"中间件的修改\"></a>中间件的修改</h5><p>如果中间件是过滤哪些地址不需要登录验证的话，可以设置如下的static和media过滤地址的参数：</p>\n<pre class=\" language-python\"><code class=\"language-python\"><span class=\"token comment\" spellcheck=\"true\"># 验证用户的登录状态</span>\npaths <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token string\">'/user/login/'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'/user/register/'</span><span class=\"token punctuation\">,</span>\n         <span class=\"token string\">'/axf/market/'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'/axf/marketparams/(\\d+)/(\\d+)/(\\d+)/'</span><span class=\"token punctuation\">,</span>\n        <span class=\"token string\">'/static/[0-9a-zA-Z/\\.]'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'/media/[0-9a-zA-Z/\\.]'</span><span class=\"token punctuation\">]</span>\n\n<span class=\"token keyword\">for</span> path <span class=\"token keyword\">in</span> paths<span class=\"token punctuation\">:</span>\n    <span class=\"token keyword\">if</span> re<span class=\"token punctuation\">.</span>match<span class=\"token punctuation\">(</span>path<span class=\"token punctuation\">,</span> request<span class=\"token punctuation\">.</span>path<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n        <span class=\"token keyword\">return</span> None\n</code></pre>\n<h4 id=\"2-正式环境中部署方式\"><a href=\"#2-正式环境中部署方式\" class=\"headerlink\" title=\"2. 正式环境中部署方式\"></a>2. 正式环境中部署方式</h4><p>正式环境中部署为nginx+uwsgi来部署django项目</p>\n<h5 id=\"2-1-安装nginx\"><a href=\"#2-1-安装nginx\" class=\"headerlink\" title=\"2.1 安装nginx\"></a>2.1 安装nginx</h5><p>a）添加nginx存储库<br>​<br>​    yum install epel-release</p>\n<p>b) 安装nginx</p>\n<pre><code>yum install nginx\n</code></pre><p>c) 运行nginx</p>\n<p>Nginx不会自行启动。要运行Nginx<br>​<br>​    systemctl start nginx</p>\n<p>nginx的运行命令：</p>\n<pre class=\" language-python\"><code class=\"language-python\"> systemctl status nginx 查看nginx的状态\n systemctl start<span class=\"token operator\">/</span>stop<span class=\"token operator\">/</span>enable<span class=\"token operator\">/</span>disable nginx 启动<span class=\"token operator\">/</span>关闭<span class=\"token operator\">/</span>设置开机启动<span class=\"token operator\">/</span>禁止开机启动\n</code></pre>\n<p>d）系统启动时启用Nginx<br>​<br>​    systemctl enable nginx</p>\n<p>e）如果您正在运行防火墙，请运行以下命令以允许HTTP和HTTPS通信：<br>​    </p>\n<pre class=\" language-python\"><code class=\"language-python\">sudo firewall<span class=\"token operator\">-</span>cmd <span class=\"token operator\">-</span><span class=\"token operator\">-</span>permanent <span class=\"token operator\">-</span><span class=\"token operator\">-</span>zone<span class=\"token operator\">=</span>public <span class=\"token operator\">-</span><span class=\"token operator\">-</span>add<span class=\"token operator\">-</span>service<span class=\"token operator\">=</span>http \n\nsudo firewall<span class=\"token operator\">-</span>cmd <span class=\"token operator\">-</span><span class=\"token operator\">-</span>permanent <span class=\"token operator\">-</span><span class=\"token operator\">-</span>zone<span class=\"token operator\">=</span>public <span class=\"token operator\">-</span><span class=\"token operator\">-</span>add<span class=\"token operator\">-</span>service<span class=\"token operator\">=</span>https\n\nsudo firewall<span class=\"token operator\">-</span>cmd <span class=\"token operator\">-</span><span class=\"token operator\">-</span>reload\n</code></pre>\n<h4 id=\"3-配置uwsgi\"><a href=\"#3-配置uwsgi\" class=\"headerlink\" title=\"3.配置uwsgi\"></a>3.配置uwsgi</h4><h5 id=\"3-1-安装uwsgi\"><a href=\"#3-1-安装uwsgi\" class=\"headerlink\" title=\"3.1 安装uwsgi\"></a>3.1 安装uwsgi</h5><p>在虚拟环境中安装uwsgi，假设虚拟环境安装在/home/env/axfenv中</p>\n<pre><code>/home/env/axfeng/bin/python3/pip3 install uwsgi\n</code></pre><h4 id=\"4-配置项目代码，配置项目nginx，配置uwsgi-ini等\"><a href=\"#4-配置项目代码，配置项目nginx，配置uwsgi-ini等\" class=\"headerlink\" title=\"4. 配置项目代码，配置项目nginx，配置uwsgi.ini等\"></a>4. 配置项目代码，配置项目nginx，配置uwsgi.ini等</h4><p><strong>在home文件中创建如下四个文件夹</strong></p>\n<p>conf是配置文件，用于存放项目的nginx.conf文件，uwsgi.ini文件</p>\n<p>logs是日志文件，用于存放nginx的启动成功和失败文件，以及uwsgi的运行日志文件</p>\n<p>env是用于存放虚拟环境</p>\n<p>src是项目文件，该目录下上传的是目录代码</p>\n<h4 id=\"4-1-配置nginx-conf文件\"><a href=\"#4-1-配置nginx-conf文件\" class=\"headerlink\" title=\"4.1 配置nginx.conf文件\"></a>4.1 配置nginx.conf文件</h4><p><b>首先</b>：编写自己项目的nginx.conf文件如下：</p>\n<p>每一个项目对应有一个自己定义的nginx的配置文件，比如爱鲜蜂项目，我定义为axfnginx.conf文件</p>\n<pre class=\" language-python\"><code class=\"language-python\">server <span class=\"token punctuation\">{</span>\n     listen       <span class=\"token number\">80</span><span class=\"token punctuation\">;</span>\n     server_name <span class=\"token number\">39.104</span><span class=\"token punctuation\">.</span><span class=\"token number\">176.9</span> localhost<span class=\"token punctuation\">;</span>\n\n     access_log <span class=\"token operator\">/</span>home<span class=\"token operator\">/</span>logs<span class=\"token operator\">/</span>access<span class=\"token punctuation\">.</span>log<span class=\"token punctuation\">;</span>\n     error_log <span class=\"token operator\">/</span>home<span class=\"token operator\">/</span>logs<span class=\"token operator\">/</span>error<span class=\"token punctuation\">.</span>log<span class=\"token punctuation\">;</span>\n\n     location <span class=\"token operator\">/</span> <span class=\"token punctuation\">{</span>\n         include uwsgi_params<span class=\"token punctuation\">;</span>\n         uwsgi_pass <span class=\"token number\">127.0</span><span class=\"token punctuation\">.</span><span class=\"token number\">0.1</span><span class=\"token punctuation\">:</span><span class=\"token number\">8890</span><span class=\"token punctuation\">;</span>\n     <span class=\"token punctuation\">}</span>\n     location <span class=\"token operator\">/</span>static<span class=\"token operator\">/</span> <span class=\"token punctuation\">{</span>\n         alias <span class=\"token operator\">/</span>home<span class=\"token operator\">/</span>src<span class=\"token operator\">/</span>axf<span class=\"token operator\">/</span>static<span class=\"token operator\">/</span><span class=\"token punctuation\">;</span>\n         expires <span class=\"token number\">30d</span><span class=\"token punctuation\">;</span>\n     <span class=\"token punctuation\">}</span>\n\n <span class=\"token punctuation\">}</span>\n</code></pre>\n<p><b>其次</b>：修改总的nginx的配置文件，让总的nginx文件包含我们自定义的项目的axfnginx.conf文件</p>\n<p>总的nginx配置文件在：/etc/nginx/nginx.conf中</p>\n<p><img src=\"/2018/12/14/Django/Django/django_centos_nginx_peizhi.png\" alt=\"django_centos_nginx_peizhi\"></p>\n<p>以上步骤操作完成以后，需要重启nginx：</p>\n<pre class=\" language-python\"><code class=\"language-python\">systemctl restart nginx\n</code></pre>\n<h4 id=\"4-2-配置uwsgi文件\"><a href=\"#4-2-配置uwsgi文件\" class=\"headerlink\" title=\"4.2 配置uwsgi文件\"></a>4.2 配置uwsgi文件</h4><p>在conf文件夹下除了包含自定义的axfnginx.conf文件，还有我们定义的uwsgi.ini文件</p>\n<pre class=\" language-python\"><code class=\"language-python\"><span class=\"token punctuation\">[</span>uwsgi<span class=\"token punctuation\">]</span>\nprojectname <span class=\"token operator\">=</span> axf\nbase <span class=\"token operator\">=</span> <span class=\"token operator\">/</span>home<span class=\"token operator\">/</span>src\n\n<span class=\"token comment\" spellcheck=\"true\"># 守护进程</span>\nmaster <span class=\"token operator\">=</span> true\n\n<span class=\"token comment\" spellcheck=\"true\"># 进程个数</span>\nprocesses <span class=\"token operator\">=</span> <span class=\"token number\">4</span>\n\n<span class=\"token comment\" spellcheck=\"true\"># 虚拟环境</span>\npythonhome <span class=\"token operator\">=</span> <span class=\"token operator\">/</span>home<span class=\"token operator\">/</span>env<span class=\"token operator\">/</span>axfenv\n\n<span class=\"token comment\" spellcheck=\"true\"># 项目地址</span>\nchdir <span class=\"token operator\">=</span> <span class=\"token operator\">%</span><span class=\"token punctuation\">(</span>base<span class=\"token punctuation\">)</span><span class=\"token operator\">/</span><span class=\"token operator\">%</span><span class=\"token punctuation\">(</span>projectname<span class=\"token punctuation\">)</span>\n\n<span class=\"token comment\" spellcheck=\"true\"># 指定python版本</span>\npythonpath <span class=\"token operator\">=</span> <span class=\"token operator\">/</span>usr<span class=\"token operator\">/</span>local<span class=\"token operator\">/</span>python3<span class=\"token operator\">/</span>bin<span class=\"token operator\">/</span>python3\n\n<span class=\"token comment\" spellcheck=\"true\"># 指定uwsgi文件</span>\nmodule <span class=\"token operator\">=</span> <span class=\"token operator\">%</span><span class=\"token punctuation\">(</span>projectname<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>wsgi\n\n<span class=\"token comment\" spellcheck=\"true\"># 和nginx通信地址:端口</span>\nsocket <span class=\"token operator\">=</span> <span class=\"token number\">127.0</span><span class=\"token punctuation\">.</span><span class=\"token number\">0.1</span><span class=\"token punctuation\">:</span><span class=\"token number\">8890</span>\n\n<span class=\"token comment\" spellcheck=\"true\"># 日志文件地址</span>\nlogto <span class=\"token operator\">=</span> <span class=\"token operator\">/</span>home<span class=\"token operator\">/</span>logs<span class=\"token operator\">/</span>uwsgi<span class=\"token punctuation\">.</span>log\n</code></pre>\n<p>​<br>运行项目:</p>\n<pre class=\" language-python\"><code class=\"language-python\"><span class=\"token operator\">/</span>home<span class=\"token operator\">/</span>env<span class=\"token operator\">/</span>axfeng<span class=\"token operator\">/</span>bin<span class=\"token operator\">/</span>python3<span class=\"token operator\">/</span>uwsgi <span class=\"token operator\">-</span><span class=\"token operator\">-</span>ini uwsgi<span class=\"token punctuation\">.</span>ini\n</code></pre>\n","site":{"data":{}},"excerpt":"","more":"<h3 id=\"安装MariaDB\"><a href=\"#安装MariaDB\" class=\"headerlink\" title=\"安装MariaDB\"></a>安装MariaDB</h3><p>安装命令</p>\n<pre><code>yum -y install mariadb mariadb-server\n</code></pre><p>安装完成MariaDB，首先启动MariaDB</p>\n<pre><code>systemctl start mariadb\n</code></pre><p>设置开机启动</p>\n<pre><code>systemctl enable mariadb\n</code></pre><h3 id=\"设置密码\"><a href=\"#设置密码\" class=\"headerlink\" title=\"设置密码\"></a>设置密码</h3><p>命令: mysql_secure_installation</p>\n<pre><code class=\"python\">Enter current password for root:&lt;–初次运行直接回车\n\n设置密码\n\nSet root password? [Y/n] &lt;– 是否设置root用户密码，输入y并回车或直接回车\n\nNew password: &lt;– 设置root用户的密码\nRe-enter new password: &lt;– 再输入一次你设置的密码\n\n其他配置\n\nRemove anonymous users? [Y/n] &lt;– 是否删除匿名用户，回车\n\nDisallow root login remotely? [Y/n] &lt;–是否禁止root远程登录,回车,\n\nRemove test database and access to it? [Y/n] &lt;– 是否删除test数据库，回车\n\nReload privilege tables now? [Y/n] &lt;– 是否重新加载权限表，回车\n\n初始化MariaDB完成，接下来测试登录\n\nmysql -u root -p\n</code></pre>\n<h3 id=\"开启远程连接\"><a href=\"#开启远程连接\" class=\"headerlink\" title=\"开启远程连接\"></a>开启远程连接</h3><p>在mysql数据库中的user表中可以看到默认是只能本地连接的，所有可以添加一个新的用户，该用户可以远程访问</p>\n<h4 id=\"1-创建用户\"><a href=\"#1-创建用户\" class=\"headerlink\" title=\"1. 创建用户\"></a>1. 创建用户</h4><pre><code class=\"python\"># 先使用数据库\nuse mysql;\n\n# 针对ip\ncreate user &#39;root&#39;@&#39;192.168.10.10&#39; identified by &#39;password&#39;;\n\n#全部\n create user &#39;root&#39;@&#39;%&#39; identified by &#39;password&#39;;\n</code></pre>\n<h4 id=\"2-授权\"><a href=\"#2-授权\" class=\"headerlink\" title=\"2. 授权\"></a>2. 授权</h4><pre><code class=\"python\"># 给用户最大权限\ngrant all privileges on *.* to &#39;root&#39;@&#39;%&#39; identified by &#39;password&#39;;\n\n# 给部分权限(test 数据库)\n\ngrant all privileges on test.* to &#39;root&#39;@&#39;%&#39; identified by &#39;password&#39; with grant option;\n\n# 刷新权限表\n</code></pre>\n<pre><code> flush privileges;\n\n# 查看\nshow grants for &#39;root&#39;@&#39;localhost&#39;;\n</code></pre><p>接下来就可以在远程的数据库可视化工具中直接访问该服务器中的mysql了。</p>\n<pre><code># 访问数据库\nmysql -u root -p\n</code></pre><h3 id=\"安装python3-6\"><a href=\"#安装python3-6\" class=\"headerlink\" title=\"安装python3.6\"></a>安装python3.6</h3><p>在centos中，系统默认只提供python2.7的版本，但是项目我们使用的python3.6的版本。所有我们自己安装python3</p>\n<h4 id=\"安装Python3的方法\"><a href=\"#安装Python3的方法\" class=\"headerlink\" title=\"安装Python3的方法\"></a>安装Python3的方法</h4><p>首先安装依赖包</p>\n<p>安装Python3.6所需要的依赖包：</p>\n<pre><code>yum -y groupinstall &quot;Development tools&quot;\n\nyum -y install zlib-devel bzip2-devel openssl-devel ncurses-devel sqlite-devel readline-devel tk-devel gdbm-devel db4-devel libpcap-devel xz-devel\n</code></pre><p>安装Python3.7还需额外安装依赖包：</p>\n<pre><code>yum install libffi-devel -y\n</code></pre><p>然后根据自己需求下载不同版本的Python3，我下载的是Python3.6.2</p>\n<pre><code class=\"python\">wget https://www.python.org/ftp/python/3.6.2/Python-3.6.2.tar.xz\n\n然后解压压缩包，进入该目录，安装Python3\n\ntar -xvJf  Python-3.6.2.tar.xz\ncd Python-3.6.2\n./configure --prefix=/usr/local/python3\nmake &amp;&amp; make install\n</code></pre>\n<p>最后创建软链接</p>\n<pre><code>ln -s /usr/local/python3/bin/python3 /usr/bin/python3\n\nln -s /usr/local/python3/bin/pip3 /usr/bin/pip3\n</code></pre><h3 id=\"安装环境\"><a href=\"#安装环境\" class=\"headerlink\" title=\"安装环境\"></a>安装环境</h3><h4 id=\"1-安装virtualenv\"><a href=\"#1-安装virtualenv\" class=\"headerlink\" title=\"1. 安装virtualenv\"></a>1. 安装virtualenv</h4><pre><code>yum install python-virtualenv\n</code></pre><h4 id=\"2-创建虚拟环境\"><a href=\"#2-创建虚拟环境\" class=\"headerlink\" title=\"2. 创建虚拟环境\"></a>2. 创建虚拟环境</h4><pre><code>virtualenv --no-site-packages env\n\ncd env\n\n# 激活虚拟环境\nsource bin/activate\n</code></pre><h4 id=\"3-安装环境需要的包\"><a href=\"#3-安装环境需要的包\" class=\"headerlink\" title=\"3. 安装环境需要的包\"></a>3. 安装环境需要的包</h4><pre><code>pip3 install -r re_install.txt\n\n其中re_install.txt文件中记录的是需要安装包的名称以及对应的版本\n</code></pre><h3 id=\"部署\"><a href=\"#部署\" class=\"headerlink\" title=\"部署\"></a>部署</h3><p>该部署采用的是cenots7系统来部署</p>\n<p>Django的项目中，在工程目录下settings.py文件中有一个DEBUG=True参数，如果DEBUG=False则会出现js,css，img无法加载的情况出现。</p>\n<p>原因如下：</p>\n<p>Django框架仅在开发模式下提供静态文件服务。当我开启DEBUG模式时，Django内置的服务器是提供静态文件的服务的，所以css等文件访问都没有问题，但是关闭DEBUG模式后，Django便不提供静态文件服务了。想一想这是符合Django的哲学的：这部分事情标准服务器都很擅长，就让服务器去做吧！</p>\n<h4 id=\"1-测试环境中部署方式\"><a href=\"#1-测试环境中部署方式\" class=\"headerlink\" title=\"1. 测试环境中部署方式\"></a>1. 测试环境中部署方式</h4><h5 id=\"urls-py中的修改\"><a href=\"#urls-py中的修改\" class=\"headerlink\" title=\"urls.py中的修改\"></a>urls.py中的修改</h5><p>在测试环境中一般都直接使用python manage.py runserver的方式去运行项目。其中就涉及到DEBUG=False的修改，静态目录的修改等，具体修改如下：</p>\n<pre><code class=\"python\">a) 修改settings.py配置文件中的DEBUG=False模式，修改ALLOEWD_HOST=[&#39;*&#39;]\n\nb) 修改工程目录下的urls.py\n\nfrom django.views.static import serve\n\nurlpatterns = [\n    url(r&#39;^admin/&#39;, admin.site.urls),\n    url(r&#39;^axf/&#39;, include(&#39;axf.urls&#39;, namespace=&#39;axf&#39;)),\n\n    # 增加以下的url路由\n    url(r&#39;^static/(?P&lt;path&gt;.*)$&#39;, serve, {&quot;document_root&quot;: settings.STATICFILES_DIRS[0]}),\n\n    url(r&#39;^media/(?P&lt;path&gt;.*)$&#39;, serve, {&quot;document_root&quot;: settings.MEDIA_ROOT}),\n</code></pre>\n<pre><code>    url(r&#39;^$&#39;, views.home)\n]\n</code></pre><h5 id=\"中间件的修改\"><a href=\"#中间件的修改\" class=\"headerlink\" title=\"中间件的修改\"></a>中间件的修改</h5><p>如果中间件是过滤哪些地址不需要登录验证的话，可以设置如下的static和media过滤地址的参数：</p>\n<pre><code class=\"python\"># 验证用户的登录状态\npaths = [&#39;/user/login/&#39;, &#39;/user/register/&#39;,\n         &#39;/axf/market/&#39;, &#39;/axf/marketparams/(\\d+)/(\\d+)/(\\d+)/&#39;,\n        &#39;/static/[0-9a-zA-Z/\\.]&#39;, &#39;/media/[0-9a-zA-Z/\\.]&#39;]\n\nfor path in paths:\n    if re.match(path, request.path):\n        return None\n</code></pre>\n<h4 id=\"2-正式环境中部署方式\"><a href=\"#2-正式环境中部署方式\" class=\"headerlink\" title=\"2. 正式环境中部署方式\"></a>2. 正式环境中部署方式</h4><p>正式环境中部署为nginx+uwsgi来部署django项目</p>\n<h5 id=\"2-1-安装nginx\"><a href=\"#2-1-安装nginx\" class=\"headerlink\" title=\"2.1 安装nginx\"></a>2.1 安装nginx</h5><p>a）添加nginx存储库<br>​<br>​    yum install epel-release</p>\n<p>b) 安装nginx</p>\n<pre><code>yum install nginx\n</code></pre><p>c) 运行nginx</p>\n<p>Nginx不会自行启动。要运行Nginx<br>​<br>​    systemctl start nginx</p>\n<p>nginx的运行命令：</p>\n<pre><code class=\"python\"> systemctl status nginx 查看nginx的状态\n systemctl start/stop/enable/disable nginx 启动/关闭/设置开机启动/禁止开机启动\n</code></pre>\n<p>d）系统启动时启用Nginx<br>​<br>​    systemctl enable nginx</p>\n<p>e）如果您正在运行防火墙，请运行以下命令以允许HTTP和HTTPS通信：<br>​    </p>\n<pre><code class=\"python\">sudo firewall-cmd --permanent --zone=public --add-service=http \n\nsudo firewall-cmd --permanent --zone=public --add-service=https\n\nsudo firewall-cmd --reload\n</code></pre>\n<h4 id=\"3-配置uwsgi\"><a href=\"#3-配置uwsgi\" class=\"headerlink\" title=\"3.配置uwsgi\"></a>3.配置uwsgi</h4><h5 id=\"3-1-安装uwsgi\"><a href=\"#3-1-安装uwsgi\" class=\"headerlink\" title=\"3.1 安装uwsgi\"></a>3.1 安装uwsgi</h5><p>在虚拟环境中安装uwsgi，假设虚拟环境安装在/home/env/axfenv中</p>\n<pre><code>/home/env/axfeng/bin/python3/pip3 install uwsgi\n</code></pre><h4 id=\"4-配置项目代码，配置项目nginx，配置uwsgi-ini等\"><a href=\"#4-配置项目代码，配置项目nginx，配置uwsgi-ini等\" class=\"headerlink\" title=\"4. 配置项目代码，配置项目nginx，配置uwsgi.ini等\"></a>4. 配置项目代码，配置项目nginx，配置uwsgi.ini等</h4><p><strong>在home文件中创建如下四个文件夹</strong></p>\n<p>conf是配置文件，用于存放项目的nginx.conf文件，uwsgi.ini文件</p>\n<p>logs是日志文件，用于存放nginx的启动成功和失败文件，以及uwsgi的运行日志文件</p>\n<p>env是用于存放虚拟环境</p>\n<p>src是项目文件，该目录下上传的是目录代码</p>\n<h4 id=\"4-1-配置nginx-conf文件\"><a href=\"#4-1-配置nginx-conf文件\" class=\"headerlink\" title=\"4.1 配置nginx.conf文件\"></a>4.1 配置nginx.conf文件</h4><p><b>首先</b>：编写自己项目的nginx.conf文件如下：</p>\n<p>每一个项目对应有一个自己定义的nginx的配置文件，比如爱鲜蜂项目，我定义为axfnginx.conf文件</p>\n<pre><code class=\"python\">server {\n     listen       80;\n     server_name 39.104.176.9 localhost;\n\n     access_log /home/logs/access.log;\n     error_log /home/logs/error.log;\n\n     location / {\n         include uwsgi_params;\n         uwsgi_pass 127.0.0.1:8890;\n     }\n     location /static/ {\n         alias /home/src/axf/static/;\n         expires 30d;\n     }\n\n }\n</code></pre>\n<p><b>其次</b>：修改总的nginx的配置文件，让总的nginx文件包含我们自定义的项目的axfnginx.conf文件</p>\n<p>总的nginx配置文件在：/etc/nginx/nginx.conf中</p>\n<p><img src=\"/2018/12/14/Django/Django/django_centos_nginx_peizhi.png\" alt=\"django_centos_nginx_peizhi\"></p>\n<p>以上步骤操作完成以后，需要重启nginx：</p>\n<pre><code class=\"python\">systemctl restart nginx\n</code></pre>\n<h4 id=\"4-2-配置uwsgi文件\"><a href=\"#4-2-配置uwsgi文件\" class=\"headerlink\" title=\"4.2 配置uwsgi文件\"></a>4.2 配置uwsgi文件</h4><p>在conf文件夹下除了包含自定义的axfnginx.conf文件，还有我们定义的uwsgi.ini文件</p>\n<pre><code class=\"python\">[uwsgi]\nprojectname = axf\nbase = /home/src\n\n# 守护进程\nmaster = true\n\n# 进程个数\nprocesses = 4\n\n# 虚拟环境\npythonhome = /home/env/axfenv\n\n# 项目地址\nchdir = %(base)/%(projectname)\n\n# 指定python版本\npythonpath = /usr/local/python3/bin/python3\n\n# 指定uwsgi文件\nmodule = %(projectname).wsgi\n\n# 和nginx通信地址:端口\nsocket = 127.0.0.1:8890\n\n# 日志文件地址\nlogto = /home/logs/uwsgi.log\n</code></pre>\n<p>​<br>运行项目:</p>\n<pre><code class=\"python\">/home/env/axfeng/bin/python3/uwsgi --ini uwsgi.ini\n</code></pre>\n"},{"title":"安装Python","date":"2018-04-19T23:44:14.000Z","author":"smile","_content":"\n认真学习也是有前提的：\n\n好的学习环境, 好的学习方法, 好的学习状态\n\n缺一不可哟！\n\n\n\n\n\nCentOS安装Python3.7\n\n## 1.下载Python源代码：\n\nhttps://www.python.org/ftp/python/3.7.0/Python-3.7.0.tgz\n\n## 2.解压缩\n\n```\ngunzip Python-3.7.0.tgz\n```\n\n## 3.解归档\n\n```\ntar -xvf Python-3.7.0.tar\n```\n\n## 4.安装底层依赖库\n\n```\nyum -y install zlib-devel bzip2-devel openssl-devel ncurses-devel sqlite-devel readline-devel tk-devel gdbm-devel db4-devel libpcap-devel xz-devel libffi-devel\n```\n## 5.安装前的配置\n```\n ./configure --prefix=/usr/local/Python37 --enable-optimizations\n```\n## 6.构建安装\n```\nmake && make install\n```\n##7.配置环境变量\n```\nexport PATH=$PATH:/usr/local/Python37/bin\n```\n##8.注册软连接（符号链接）\n```\nln -s /usr/local/Python37/bin/python3 /usr/bin/python3\n```\n硬链接 - 文件的引用，只要引用数不为0，文件就不会被删除\n软链接 - 相当于是文件的快捷方式，如果文件被删除，软链接就会失效\nln -s 带完整路径的文件名，链接文件名","source":"_posts/Linux/CentOS安装Python3.7.md","raw":"---\ntitle: 安装Python\ndate: 2018-04-20 07:44:14\nauthor: smile\ncategories: Python\ntags: \n  - Python安装\n---\n\n认真学习也是有前提的：\n\n好的学习环境, 好的学习方法, 好的学习状态\n\n缺一不可哟！\n\n\n\n\n\nCentOS安装Python3.7\n\n## 1.下载Python源代码：\n\nhttps://www.python.org/ftp/python/3.7.0/Python-3.7.0.tgz\n\n## 2.解压缩\n\n```\ngunzip Python-3.7.0.tgz\n```\n\n## 3.解归档\n\n```\ntar -xvf Python-3.7.0.tar\n```\n\n## 4.安装底层依赖库\n\n```\nyum -y install zlib-devel bzip2-devel openssl-devel ncurses-devel sqlite-devel readline-devel tk-devel gdbm-devel db4-devel libpcap-devel xz-devel libffi-devel\n```\n## 5.安装前的配置\n```\n ./configure --prefix=/usr/local/Python37 --enable-optimizations\n```\n## 6.构建安装\n```\nmake && make install\n```\n##7.配置环境变量\n```\nexport PATH=$PATH:/usr/local/Python37/bin\n```\n##8.注册软连接（符号链接）\n```\nln -s /usr/local/Python37/bin/python3 /usr/bin/python3\n```\n硬链接 - 文件的引用，只要引用数不为0，文件就不会被删除\n软链接 - 相当于是文件的快捷方式，如果文件被删除，软链接就会失效\nln -s 带完整路径的文件名，链接文件名","slug":"Linux/CentOS安装Python3.7","published":1,"updated":"2019-03-14T01:40:27.744Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjt87kqex0009r8r643xkgq9c","content":"<p>认真学习也是有前提的：</p>\n<p>好的学习环境, 好的学习方法, 好的学习状态</p>\n<p>缺一不可哟！</p>\n<p>CentOS安装Python3.7</p>\n<h2 id=\"1-下载Python源代码：\"><a href=\"#1-下载Python源代码：\" class=\"headerlink\" title=\"1.下载Python源代码：\"></a>1.下载Python源代码：</h2><p><a href=\"https://www.python.org/ftp/python/3.7.0/Python-3.7.0.tgz\" target=\"_blank\" rel=\"noopener\">https://www.python.org/ftp/python/3.7.0/Python-3.7.0.tgz</a></p>\n<h2 id=\"2-解压缩\"><a href=\"#2-解压缩\" class=\"headerlink\" title=\"2.解压缩\"></a>2.解压缩</h2><pre><code>gunzip Python-3.7.0.tgz\n</code></pre><h2 id=\"3-解归档\"><a href=\"#3-解归档\" class=\"headerlink\" title=\"3.解归档\"></a>3.解归档</h2><pre><code>tar -xvf Python-3.7.0.tar\n</code></pre><h2 id=\"4-安装底层依赖库\"><a href=\"#4-安装底层依赖库\" class=\"headerlink\" title=\"4.安装底层依赖库\"></a>4.安装底层依赖库</h2><pre><code>yum -y install zlib-devel bzip2-devel openssl-devel ncurses-devel sqlite-devel readline-devel tk-devel gdbm-devel db4-devel libpcap-devel xz-devel libffi-devel\n</code></pre><h2 id=\"5-安装前的配置\"><a href=\"#5-安装前的配置\" class=\"headerlink\" title=\"5.安装前的配置\"></a>5.安装前的配置</h2><pre><code> ./configure --prefix=/usr/local/Python37 --enable-optimizations\n</code></pre><h2 id=\"6-构建安装\"><a href=\"#6-构建安装\" class=\"headerlink\" title=\"6.构建安装\"></a>6.构建安装</h2><pre><code>make &amp;&amp; make install\n</code></pre><p>##7.配置环境变量</p>\n<pre><code>export PATH=$PATH:/usr/local/Python37/bin\n</code></pre><p>##8.注册软连接（符号链接）</p>\n<pre><code>ln -s /usr/local/Python37/bin/python3 /usr/bin/python3\n</code></pre><p>硬链接 - 文件的引用，只要引用数不为0，文件就不会被删除<br>软链接 - 相当于是文件的快捷方式，如果文件被删除，软链接就会失效<br>ln -s 带完整路径的文件名，链接文件名</p>\n","site":{"data":{}},"excerpt":"","more":"<p>认真学习也是有前提的：</p>\n<p>好的学习环境, 好的学习方法, 好的学习状态</p>\n<p>缺一不可哟！</p>\n<p>CentOS安装Python3.7</p>\n<h2 id=\"1-下载Python源代码：\"><a href=\"#1-下载Python源代码：\" class=\"headerlink\" title=\"1.下载Python源代码：\"></a>1.下载Python源代码：</h2><p><a href=\"https://www.python.org/ftp/python/3.7.0/Python-3.7.0.tgz\" target=\"_blank\" rel=\"noopener\">https://www.python.org/ftp/python/3.7.0/Python-3.7.0.tgz</a></p>\n<h2 id=\"2-解压缩\"><a href=\"#2-解压缩\" class=\"headerlink\" title=\"2.解压缩\"></a>2.解压缩</h2><pre><code>gunzip Python-3.7.0.tgz\n</code></pre><h2 id=\"3-解归档\"><a href=\"#3-解归档\" class=\"headerlink\" title=\"3.解归档\"></a>3.解归档</h2><pre><code>tar -xvf Python-3.7.0.tar\n</code></pre><h2 id=\"4-安装底层依赖库\"><a href=\"#4-安装底层依赖库\" class=\"headerlink\" title=\"4.安装底层依赖库\"></a>4.安装底层依赖库</h2><pre><code>yum -y install zlib-devel bzip2-devel openssl-devel ncurses-devel sqlite-devel readline-devel tk-devel gdbm-devel db4-devel libpcap-devel xz-devel libffi-devel\n</code></pre><h2 id=\"5-安装前的配置\"><a href=\"#5-安装前的配置\" class=\"headerlink\" title=\"5.安装前的配置\"></a>5.安装前的配置</h2><pre><code> ./configure --prefix=/usr/local/Python37 --enable-optimizations\n</code></pre><h2 id=\"6-构建安装\"><a href=\"#6-构建安装\" class=\"headerlink\" title=\"6.构建安装\"></a>6.构建安装</h2><pre><code>make &amp;&amp; make install\n</code></pre><p>##7.配置环境变量</p>\n<pre><code>export PATH=$PATH:/usr/local/Python37/bin\n</code></pre><p>##8.注册软连接（符号链接）</p>\n<pre><code>ln -s /usr/local/Python37/bin/python3 /usr/bin/python3\n</code></pre><p>硬链接 - 文件的引用，只要引用数不为0，文件就不会被删除<br>软链接 - 相当于是文件的快捷方式，如果文件被删除，软链接就会失效<br>ln -s 带完整路径的文件名，链接文件名</p>\n"},{"title":"Git","date":"2018-03-15T13:20:50.000Z","author":"smile","_content":"\n##  搭建Git服务器\n\n1. 使用已有的代码托管平台 ----- github / gitee / coding\n2. 搭建自己的Git私服 ---- gitlab\n\n###  git命令\n######  上传文件\n- git clone ssh/https\n  - 连接远端仓库到本地仓库,ssh密钥对，在Administrator文件中的.ssh文件中，有一个密钥文件id_rsa.pub\n- git add 文件名\n  - 添加文件到工作区\n- git commit -m \"注解\"\n  - 将工作区中的文件添加到本地仓库\n- git push\n  - 将本地仓库中的文件上传到远端仓库\n- git pull\n  - 将远端仓库中的文件下载到本地仓库\n\n###  如果Git连网操作报错通常是因为底层依赖库libcurl安装不正确\n错误：`Could not read from remote repository.`\n解决方法：\n1. yum -y install curl libcurl libcurl-devel\n2. cd ~\n3. cd git-2.19.1\n4. make clean\n5. ./configure --prefix=/usr/local\n6. make && make install\n\n##  hexo 搭建个人博客\n\n1. 安装Node.js --- yum -y install nodejs\n- node --version\n- hexo --version\n\n2. 通过Node包管理工具npm安装hexo\n- npm install hexo-cli -g\n- hexo --version\n\n3. 使用hexo创建博客项目\n- hexo init blog[项目名字]\n- cd blog\n- npm install\n\n4. 将写成的Markdown文件放到blog/source/_posts\n5. 生成静态页面\n- hexo generate / hexo g\n\n- hexo clean -------- 清除之前生成的内容\n\n6. 启动服务器\n- hexo server / hexo s\n\n###  托管\n如果希望自己的博客部署到其他网站上托管，可以使用其他网站提供的pages服务\n\n#####  将博客托管到github\n首先要在github上创建一个名为xxx.github.io项目\n其中xxx是自己的github的用户名（必须完全一致）\n\n修改blog目录下的_config.yml文件 在文件的最后添加下面的内容\n```\n# Deployment\n## Docs: https://hexo.io/docs/deployment.html\ndeploy:\n  type: git\n  repo: git@github.com:xxx/xxx.github.io.git\n  branch: master\n\n通过下面的命令可以实现一键部署\nhexo g -d\nhexo d -g\n\n如果操作失败可能有两个原因：\n1. 没有安装git部署器（可以用npm进行安装）\nnpm install hexo-deployer-git --save\n\n2. 需要配置SSH证书（可以通过openssl创建证书）\n加密 - 通信安全\n对称加密 - 加密和解密使用同一个密钥 - AES\nattack at dawn - 明文\ndwwdfn dw gdzq - 密文\n\n\n非对称加密 - 加密和解密使用不同的密钥 - RSA\n生成密钥时需要生成两个密钥 一个叫公钥一个叫私钥\nAlice向Bob发送数据时 使用公钥加密数据\nBob收到Alice发过来的数据时 使用私钥解密数据\nBob向Alice发送数据时 使用私钥加密数据\nAlice收到Bob发过来的数据时 使用公钥解密数据\n\n创建密钥对\nssh-keygen -t rsa -b 4096 -C \"xxx@qq.com\"\n\nid_rsa - 私钥\nid_rsa.pub - 公钥 - 添加到github上面\nSettings --> Deploy keys --> Add deploy keys\nhttps://hexo.io/themes/\nhttps://hexo.io/plugins/\n\n配置域名解析\n\n在阿里云或其他域名解析服务上配置一条CNAME解析\n所谓CNAME解析就是把自己的域名解析到github的pages服务\n\n可以在blog项目的source目录下添加一个CNAME文件，里面写上自己的域名（如：jackfrued.xyz），这样就可以直接通过自己的域名访问github的pages服务，要可以在访问github的pages服务时让域名自动切换为自己的域名\n```\n\n#####  将博客托管到gitee\n参照网站：https://www.jianshu.com/p/5014133ba61a\n\n#####  将gitee上的博客改成自己的域名\n1. 在一个项目中必须有index.html这个文件\n2. 在项目主页点击「服务」->选择「GiteePages」，开启部署。 因为每个用户可免费试用一个月，所以这里点击「免费试用一个月」，也可以付费使用\n3. 选择你需要部署的分支，填写要部署的分支上的目录，绑定你已经**备案的域名**（如i-love-gitee.com）。如果有需要，也可为网站配置 HTTPS 安全访问。\n4. 点击「启动」后几十秒即部署成功，点击网站地址就可以访问啦。","source":"_posts/Linux/Git.md","raw":"---\ntitle: Git\ndate: 2018-03-15 21:20:50\nauthor: smile\ncategories: git\ntags:\n  - git代码管平台\n---\n\n##  搭建Git服务器\n\n1. 使用已有的代码托管平台 ----- github / gitee / coding\n2. 搭建自己的Git私服 ---- gitlab\n\n###  git命令\n######  上传文件\n- git clone ssh/https\n  - 连接远端仓库到本地仓库,ssh密钥对，在Administrator文件中的.ssh文件中，有一个密钥文件id_rsa.pub\n- git add 文件名\n  - 添加文件到工作区\n- git commit -m \"注解\"\n  - 将工作区中的文件添加到本地仓库\n- git push\n  - 将本地仓库中的文件上传到远端仓库\n- git pull\n  - 将远端仓库中的文件下载到本地仓库\n\n###  如果Git连网操作报错通常是因为底层依赖库libcurl安装不正确\n错误：`Could not read from remote repository.`\n解决方法：\n1. yum -y install curl libcurl libcurl-devel\n2. cd ~\n3. cd git-2.19.1\n4. make clean\n5. ./configure --prefix=/usr/local\n6. make && make install\n\n##  hexo 搭建个人博客\n\n1. 安装Node.js --- yum -y install nodejs\n- node --version\n- hexo --version\n\n2. 通过Node包管理工具npm安装hexo\n- npm install hexo-cli -g\n- hexo --version\n\n3. 使用hexo创建博客项目\n- hexo init blog[项目名字]\n- cd blog\n- npm install\n\n4. 将写成的Markdown文件放到blog/source/_posts\n5. 生成静态页面\n- hexo generate / hexo g\n\n- hexo clean -------- 清除之前生成的内容\n\n6. 启动服务器\n- hexo server / hexo s\n\n###  托管\n如果希望自己的博客部署到其他网站上托管，可以使用其他网站提供的pages服务\n\n#####  将博客托管到github\n首先要在github上创建一个名为xxx.github.io项目\n其中xxx是自己的github的用户名（必须完全一致）\n\n修改blog目录下的_config.yml文件 在文件的最后添加下面的内容\n```\n# Deployment\n## Docs: https://hexo.io/docs/deployment.html\ndeploy:\n  type: git\n  repo: git@github.com:xxx/xxx.github.io.git\n  branch: master\n\n通过下面的命令可以实现一键部署\nhexo g -d\nhexo d -g\n\n如果操作失败可能有两个原因：\n1. 没有安装git部署器（可以用npm进行安装）\nnpm install hexo-deployer-git --save\n\n2. 需要配置SSH证书（可以通过openssl创建证书）\n加密 - 通信安全\n对称加密 - 加密和解密使用同一个密钥 - AES\nattack at dawn - 明文\ndwwdfn dw gdzq - 密文\n\n\n非对称加密 - 加密和解密使用不同的密钥 - RSA\n生成密钥时需要生成两个密钥 一个叫公钥一个叫私钥\nAlice向Bob发送数据时 使用公钥加密数据\nBob收到Alice发过来的数据时 使用私钥解密数据\nBob向Alice发送数据时 使用私钥加密数据\nAlice收到Bob发过来的数据时 使用公钥解密数据\n\n创建密钥对\nssh-keygen -t rsa -b 4096 -C \"xxx@qq.com\"\n\nid_rsa - 私钥\nid_rsa.pub - 公钥 - 添加到github上面\nSettings --> Deploy keys --> Add deploy keys\nhttps://hexo.io/themes/\nhttps://hexo.io/plugins/\n\n配置域名解析\n\n在阿里云或其他域名解析服务上配置一条CNAME解析\n所谓CNAME解析就是把自己的域名解析到github的pages服务\n\n可以在blog项目的source目录下添加一个CNAME文件，里面写上自己的域名（如：jackfrued.xyz），这样就可以直接通过自己的域名访问github的pages服务，要可以在访问github的pages服务时让域名自动切换为自己的域名\n```\n\n#####  将博客托管到gitee\n参照网站：https://www.jianshu.com/p/5014133ba61a\n\n#####  将gitee上的博客改成自己的域名\n1. 在一个项目中必须有index.html这个文件\n2. 在项目主页点击「服务」->选择「GiteePages」，开启部署。 因为每个用户可免费试用一个月，所以这里点击「免费试用一个月」，也可以付费使用\n3. 选择你需要部署的分支，填写要部署的分支上的目录，绑定你已经**备案的域名**（如i-love-gitee.com）。如果有需要，也可为网站配置 HTTPS 安全访问。\n4. 点击「启动」后几十秒即部署成功，点击网站地址就可以访问啦。","slug":"Linux/Git","published":1,"updated":"2019-03-14T01:40:16.731Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjt87kqf5000cr8r65y7t1954","content":"<h2 id=\"搭建Git服务器\"><a href=\"#搭建Git服务器\" class=\"headerlink\" title=\"搭建Git服务器\"></a>搭建Git服务器</h2><ol>\n<li>使用已有的代码托管平台 —– github / gitee / coding</li>\n<li>搭建自己的Git私服 —- gitlab</li>\n</ol>\n<h3 id=\"git命令\"><a href=\"#git命令\" class=\"headerlink\" title=\"git命令\"></a>git命令</h3><h6 id=\"上传文件\"><a href=\"#上传文件\" class=\"headerlink\" title=\"上传文件\"></a>上传文件</h6><ul>\n<li>git clone ssh/https<ul>\n<li>连接远端仓库到本地仓库,ssh密钥对，在Administrator文件中的.ssh文件中，有一个密钥文件id_rsa.pub</li>\n</ul>\n</li>\n<li>git add 文件名<ul>\n<li>添加文件到工作区</li>\n</ul>\n</li>\n<li>git commit -m “注解”<ul>\n<li>将工作区中的文件添加到本地仓库</li>\n</ul>\n</li>\n<li>git push<ul>\n<li>将本地仓库中的文件上传到远端仓库</li>\n</ul>\n</li>\n<li>git pull<ul>\n<li>将远端仓库中的文件下载到本地仓库</li>\n</ul>\n</li>\n</ul>\n<h3 id=\"如果Git连网操作报错通常是因为底层依赖库libcurl安装不正确\"><a href=\"#如果Git连网操作报错通常是因为底层依赖库libcurl安装不正确\" class=\"headerlink\" title=\"如果Git连网操作报错通常是因为底层依赖库libcurl安装不正确\"></a>如果Git连网操作报错通常是因为底层依赖库libcurl安装不正确</h3><p>错误：<code>Could not read from remote repository.</code><br>解决方法：</p>\n<ol>\n<li>yum -y install curl libcurl libcurl-devel</li>\n<li>cd ~</li>\n<li>cd git-2.19.1</li>\n<li>make clean</li>\n<li>./configure –prefix=/usr/local</li>\n<li>make &amp;&amp; make install</li>\n</ol>\n<h2 id=\"hexo-搭建个人博客\"><a href=\"#hexo-搭建个人博客\" class=\"headerlink\" title=\"hexo 搭建个人博客\"></a>hexo 搭建个人博客</h2><ol>\n<li>安装Node.js — yum -y install nodejs</li>\n</ol>\n<ul>\n<li>node –version</li>\n<li>hexo –version</li>\n</ul>\n<ol start=\"2\">\n<li>通过Node包管理工具npm安装hexo</li>\n</ol>\n<ul>\n<li>npm install hexo-cli -g</li>\n<li>hexo –version</li>\n</ul>\n<ol start=\"3\">\n<li>使用hexo创建博客项目</li>\n</ol>\n<ul>\n<li>hexo init blog[项目名字]</li>\n<li>cd blog</li>\n<li>npm install</li>\n</ul>\n<ol start=\"4\">\n<li>将写成的Markdown文件放到blog/source/_posts</li>\n<li>生成静态页面</li>\n</ol>\n<ul>\n<li><p>hexo generate / hexo g</p>\n</li>\n<li><p>hexo clean ——– 清除之前生成的内容</p>\n</li>\n</ul>\n<ol start=\"6\">\n<li>启动服务器</li>\n</ol>\n<ul>\n<li>hexo server / hexo s</li>\n</ul>\n<h3 id=\"托管\"><a href=\"#托管\" class=\"headerlink\" title=\"托管\"></a>托管</h3><p>如果希望自己的博客部署到其他网站上托管，可以使用其他网站提供的pages服务</p>\n<h5 id=\"将博客托管到github\"><a href=\"#将博客托管到github\" class=\"headerlink\" title=\"将博客托管到github\"></a>将博客托管到github</h5><p>首先要在github上创建一个名为xxx.github.io项目<br>其中xxx是自己的github的用户名（必须完全一致）</p>\n<p>修改blog目录下的_config.yml文件 在文件的最后添加下面的内容</p>\n<pre><code># Deployment\n## Docs: https://hexo.io/docs/deployment.html\ndeploy:\n  type: git\n  repo: git@github.com:xxx/xxx.github.io.git\n  branch: master\n\n通过下面的命令可以实现一键部署\nhexo g -d\nhexo d -g\n\n如果操作失败可能有两个原因：\n1. 没有安装git部署器（可以用npm进行安装）\nnpm install hexo-deployer-git --save\n\n2. 需要配置SSH证书（可以通过openssl创建证书）\n加密 - 通信安全\n对称加密 - 加密和解密使用同一个密钥 - AES\nattack at dawn - 明文\ndwwdfn dw gdzq - 密文\n\n\n非对称加密 - 加密和解密使用不同的密钥 - RSA\n生成密钥时需要生成两个密钥 一个叫公钥一个叫私钥\nAlice向Bob发送数据时 使用公钥加密数据\nBob收到Alice发过来的数据时 使用私钥解密数据\nBob向Alice发送数据时 使用私钥加密数据\nAlice收到Bob发过来的数据时 使用公钥解密数据\n\n创建密钥对\nssh-keygen -t rsa -b 4096 -C &quot;xxx@qq.com&quot;\n\nid_rsa - 私钥\nid_rsa.pub - 公钥 - 添加到github上面\nSettings --&gt; Deploy keys --&gt; Add deploy keys\nhttps://hexo.io/themes/\nhttps://hexo.io/plugins/\n\n配置域名解析\n\n在阿里云或其他域名解析服务上配置一条CNAME解析\n所谓CNAME解析就是把自己的域名解析到github的pages服务\n\n可以在blog项目的source目录下添加一个CNAME文件，里面写上自己的域名（如：jackfrued.xyz），这样就可以直接通过自己的域名访问github的pages服务，要可以在访问github的pages服务时让域名自动切换为自己的域名\n</code></pre><h5 id=\"将博客托管到gitee\"><a href=\"#将博客托管到gitee\" class=\"headerlink\" title=\"将博客托管到gitee\"></a>将博客托管到gitee</h5><p>参照网站：<a href=\"https://www.jianshu.com/p/5014133ba61a\" target=\"_blank\" rel=\"noopener\">https://www.jianshu.com/p/5014133ba61a</a></p>\n<h5 id=\"将gitee上的博客改成自己的域名\"><a href=\"#将gitee上的博客改成自己的域名\" class=\"headerlink\" title=\"将gitee上的博客改成自己的域名\"></a>将gitee上的博客改成自己的域名</h5><ol>\n<li>在一个项目中必须有index.html这个文件</li>\n<li>在项目主页点击「服务」-&gt;选择「GiteePages」，开启部署。 因为每个用户可免费试用一个月，所以这里点击「免费试用一个月」，也可以付费使用</li>\n<li>选择你需要部署的分支，填写要部署的分支上的目录，绑定你已经<strong>备案的域名</strong>（如i-love-gitee.com）。如果有需要，也可为网站配置 HTTPS 安全访问。</li>\n<li>点击「启动」后几十秒即部署成功，点击网站地址就可以访问啦。</li>\n</ol>\n","site":{"data":{}},"excerpt":"","more":"<h2 id=\"搭建Git服务器\"><a href=\"#搭建Git服务器\" class=\"headerlink\" title=\"搭建Git服务器\"></a>搭建Git服务器</h2><ol>\n<li>使用已有的代码托管平台 —– github / gitee / coding</li>\n<li>搭建自己的Git私服 —- gitlab</li>\n</ol>\n<h3 id=\"git命令\"><a href=\"#git命令\" class=\"headerlink\" title=\"git命令\"></a>git命令</h3><h6 id=\"上传文件\"><a href=\"#上传文件\" class=\"headerlink\" title=\"上传文件\"></a>上传文件</h6><ul>\n<li>git clone ssh/https<ul>\n<li>连接远端仓库到本地仓库,ssh密钥对，在Administrator文件中的.ssh文件中，有一个密钥文件id_rsa.pub</li>\n</ul>\n</li>\n<li>git add 文件名<ul>\n<li>添加文件到工作区</li>\n</ul>\n</li>\n<li>git commit -m “注解”<ul>\n<li>将工作区中的文件添加到本地仓库</li>\n</ul>\n</li>\n<li>git push<ul>\n<li>将本地仓库中的文件上传到远端仓库</li>\n</ul>\n</li>\n<li>git pull<ul>\n<li>将远端仓库中的文件下载到本地仓库</li>\n</ul>\n</li>\n</ul>\n<h3 id=\"如果Git连网操作报错通常是因为底层依赖库libcurl安装不正确\"><a href=\"#如果Git连网操作报错通常是因为底层依赖库libcurl安装不正确\" class=\"headerlink\" title=\"如果Git连网操作报错通常是因为底层依赖库libcurl安装不正确\"></a>如果Git连网操作报错通常是因为底层依赖库libcurl安装不正确</h3><p>错误：<code>Could not read from remote repository.</code><br>解决方法：</p>\n<ol>\n<li>yum -y install curl libcurl libcurl-devel</li>\n<li>cd ~</li>\n<li>cd git-2.19.1</li>\n<li>make clean</li>\n<li>./configure –prefix=/usr/local</li>\n<li>make &amp;&amp; make install</li>\n</ol>\n<h2 id=\"hexo-搭建个人博客\"><a href=\"#hexo-搭建个人博客\" class=\"headerlink\" title=\"hexo 搭建个人博客\"></a>hexo 搭建个人博客</h2><ol>\n<li>安装Node.js — yum -y install nodejs</li>\n</ol>\n<ul>\n<li>node –version</li>\n<li>hexo –version</li>\n</ul>\n<ol start=\"2\">\n<li>通过Node包管理工具npm安装hexo</li>\n</ol>\n<ul>\n<li>npm install hexo-cli -g</li>\n<li>hexo –version</li>\n</ul>\n<ol start=\"3\">\n<li>使用hexo创建博客项目</li>\n</ol>\n<ul>\n<li>hexo init blog[项目名字]</li>\n<li>cd blog</li>\n<li>npm install</li>\n</ul>\n<ol start=\"4\">\n<li>将写成的Markdown文件放到blog/source/_posts</li>\n<li>生成静态页面</li>\n</ol>\n<ul>\n<li><p>hexo generate / hexo g</p>\n</li>\n<li><p>hexo clean ——– 清除之前生成的内容</p>\n</li>\n</ul>\n<ol start=\"6\">\n<li>启动服务器</li>\n</ol>\n<ul>\n<li>hexo server / hexo s</li>\n</ul>\n<h3 id=\"托管\"><a href=\"#托管\" class=\"headerlink\" title=\"托管\"></a>托管</h3><p>如果希望自己的博客部署到其他网站上托管，可以使用其他网站提供的pages服务</p>\n<h5 id=\"将博客托管到github\"><a href=\"#将博客托管到github\" class=\"headerlink\" title=\"将博客托管到github\"></a>将博客托管到github</h5><p>首先要在github上创建一个名为xxx.github.io项目<br>其中xxx是自己的github的用户名（必须完全一致）</p>\n<p>修改blog目录下的_config.yml文件 在文件的最后添加下面的内容</p>\n<pre><code># Deployment\n## Docs: https://hexo.io/docs/deployment.html\ndeploy:\n  type: git\n  repo: git@github.com:xxx/xxx.github.io.git\n  branch: master\n\n通过下面的命令可以实现一键部署\nhexo g -d\nhexo d -g\n\n如果操作失败可能有两个原因：\n1. 没有安装git部署器（可以用npm进行安装）\nnpm install hexo-deployer-git --save\n\n2. 需要配置SSH证书（可以通过openssl创建证书）\n加密 - 通信安全\n对称加密 - 加密和解密使用同一个密钥 - AES\nattack at dawn - 明文\ndwwdfn dw gdzq - 密文\n\n\n非对称加密 - 加密和解密使用不同的密钥 - RSA\n生成密钥时需要生成两个密钥 一个叫公钥一个叫私钥\nAlice向Bob发送数据时 使用公钥加密数据\nBob收到Alice发过来的数据时 使用私钥解密数据\nBob向Alice发送数据时 使用私钥加密数据\nAlice收到Bob发过来的数据时 使用公钥解密数据\n\n创建密钥对\nssh-keygen -t rsa -b 4096 -C &quot;xxx@qq.com&quot;\n\nid_rsa - 私钥\nid_rsa.pub - 公钥 - 添加到github上面\nSettings --&gt; Deploy keys --&gt; Add deploy keys\nhttps://hexo.io/themes/\nhttps://hexo.io/plugins/\n\n配置域名解析\n\n在阿里云或其他域名解析服务上配置一条CNAME解析\n所谓CNAME解析就是把自己的域名解析到github的pages服务\n\n可以在blog项目的source目录下添加一个CNAME文件，里面写上自己的域名（如：jackfrued.xyz），这样就可以直接通过自己的域名访问github的pages服务，要可以在访问github的pages服务时让域名自动切换为自己的域名\n</code></pre><h5 id=\"将博客托管到gitee\"><a href=\"#将博客托管到gitee\" class=\"headerlink\" title=\"将博客托管到gitee\"></a>将博客托管到gitee</h5><p>参照网站：<a href=\"https://www.jianshu.com/p/5014133ba61a\" target=\"_blank\" rel=\"noopener\">https://www.jianshu.com/p/5014133ba61a</a></p>\n<h5 id=\"将gitee上的博客改成自己的域名\"><a href=\"#将gitee上的博客改成自己的域名\" class=\"headerlink\" title=\"将gitee上的博客改成自己的域名\"></a>将gitee上的博客改成自己的域名</h5><ol>\n<li>在一个项目中必须有index.html这个文件</li>\n<li>在项目主页点击「服务」-&gt;选择「GiteePages」，开启部署。 因为每个用户可免费试用一个月，所以这里点击「免费试用一个月」，也可以付费使用</li>\n<li>选择你需要部署的分支，填写要部署的分支上的目录，绑定你已经<strong>备案的域名</strong>（如i-love-gitee.com）。如果有需要，也可为网站配置 HTTPS 安全访问。</li>\n<li>点击「启动」后几十秒即部署成功，点击网站地址就可以访问啦。</li>\n</ol>\n"},{"title":"Linux_vim","date":"2018-06-03T12:26:10.000Z","author":"smile","_content":"\n###  分鱼\n\n```python\n#!/usr/bin/python3\n  2 \n  3 \"\"\"\n  4 穷举法:穷尽所有可能直到找到正确答案\n  5 \"\"\"\n  6 def main():\n  7     \"\"\"分鱼\"\"\"\n  8     fish = 1\n  9     while True:\n 10         enough = True\n 11         total = fish\n 12         for _ in range(5):\n 13             if (total - 1) % 5 == 0:\n 14                 total = (total - 1) // 5 *4\n 15             else:\n 16                 enough = False\n 17                 break\n 18         if enough:\n 19             print(fish)\n 20             break\n 21         fish += 1\n 22 \n 23 \n 24 if __name__ == \"__main__\":\n 25     main()\n```\n\n ###  穷举法\n\n```python\n  1 #!/usr/bin/python3\n  2 \n  3 \"\"\"穷举法\"\"\"\n  4 def main():\n  5     \"\"\"主函数\"\"\"\n  6     for cock in range(0, 21):\n  7         for hen in range(0, 34):\n  8             chick = 100 - cock - hen\n  9             if chick % 3 == 0 and cock * 5 + hen * 3 + chick // 3 == 100:\n 10                 print(f\"公鸡: {cock}只, 母鸡: {hen}只, 小鸡: {chick}只\")\n 11 \n 12 \n 13 if __name__ == \"__main__\":\n 14     main()\n```\n\n","source":"_posts/Linux/Linux-vim.md","raw":"---\ntitle: Linux_vim\ndate: 2018-06-03 20:26:10\nauthor: smile\ncategories: Linux\ntags:\n  - vim-practice\n---\n\n###  分鱼\n\n```python\n#!/usr/bin/python3\n  2 \n  3 \"\"\"\n  4 穷举法:穷尽所有可能直到找到正确答案\n  5 \"\"\"\n  6 def main():\n  7     \"\"\"分鱼\"\"\"\n  8     fish = 1\n  9     while True:\n 10         enough = True\n 11         total = fish\n 12         for _ in range(5):\n 13             if (total - 1) % 5 == 0:\n 14                 total = (total - 1) // 5 *4\n 15             else:\n 16                 enough = False\n 17                 break\n 18         if enough:\n 19             print(fish)\n 20             break\n 21         fish += 1\n 22 \n 23 \n 24 if __name__ == \"__main__\":\n 25     main()\n```\n\n ###  穷举法\n\n```python\n  1 #!/usr/bin/python3\n  2 \n  3 \"\"\"穷举法\"\"\"\n  4 def main():\n  5     \"\"\"主函数\"\"\"\n  6     for cock in range(0, 21):\n  7         for hen in range(0, 34):\n  8             chick = 100 - cock - hen\n  9             if chick % 3 == 0 and cock * 5 + hen * 3 + chick // 3 == 100:\n 10                 print(f\"公鸡: {cock}只, 母鸡: {hen}只, 小鸡: {chick}只\")\n 11 \n 12 \n 13 if __name__ == \"__main__\":\n 14     main()\n```\n\n","slug":"Linux/Linux-vim","published":1,"updated":"2019-03-14T01:39:37.257Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjt87kqfa000dr8r6t4pe21tb","content":"<h3 id=\"分鱼\"><a href=\"#分鱼\" class=\"headerlink\" title=\"分鱼\"></a>分鱼</h3><pre class=\" language-python\"><code class=\"language-python\"><span class=\"token comment\" spellcheck=\"true\">#!/usr/bin/python3</span>\n  <span class=\"token number\">2</span> \n  <span class=\"token number\">3</span> <span class=\"token triple-quoted-string string\">\"\"\"\n  4 穷举法:穷尽所有可能直到找到正确答案\n  5 \"\"\"</span>\n  <span class=\"token number\">6</span> <span class=\"token keyword\">def</span> <span class=\"token function\">main</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n  <span class=\"token number\">7</span>     <span class=\"token triple-quoted-string string\">\"\"\"分鱼\"\"\"</span>\n  <span class=\"token number\">8</span>     fish <span class=\"token operator\">=</span> <span class=\"token number\">1</span>\n  <span class=\"token number\">9</span>     <span class=\"token keyword\">while</span> <span class=\"token boolean\">True</span><span class=\"token punctuation\">:</span>\n <span class=\"token number\">10</span>         enough <span class=\"token operator\">=</span> <span class=\"token boolean\">True</span>\n <span class=\"token number\">11</span>         total <span class=\"token operator\">=</span> fish\n <span class=\"token number\">12</span>         <span class=\"token keyword\">for</span> _ <span class=\"token keyword\">in</span> range<span class=\"token punctuation\">(</span><span class=\"token number\">5</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n <span class=\"token number\">13</span>             <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>total <span class=\"token operator\">-</span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">%</span> <span class=\"token number\">5</span> <span class=\"token operator\">==</span> <span class=\"token number\">0</span><span class=\"token punctuation\">:</span>\n <span class=\"token number\">14</span>                 total <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span>total <span class=\"token operator\">-</span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">//</span> <span class=\"token number\">5</span> <span class=\"token operator\">*</span><span class=\"token number\">4</span>\n <span class=\"token number\">15</span>             <span class=\"token keyword\">else</span><span class=\"token punctuation\">:</span>\n <span class=\"token number\">16</span>                 enough <span class=\"token operator\">=</span> <span class=\"token boolean\">False</span>\n <span class=\"token number\">17</span>                 <span class=\"token keyword\">break</span>\n <span class=\"token number\">18</span>         <span class=\"token keyword\">if</span> enough<span class=\"token punctuation\">:</span>\n <span class=\"token number\">19</span>             <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>fish<span class=\"token punctuation\">)</span>\n <span class=\"token number\">20</span>             <span class=\"token keyword\">break</span>\n <span class=\"token number\">21</span>         fish <span class=\"token operator\">+=</span> <span class=\"token number\">1</span>\n <span class=\"token number\">22</span> \n <span class=\"token number\">23</span> \n <span class=\"token number\">24</span> <span class=\"token keyword\">if</span> __name__ <span class=\"token operator\">==</span> <span class=\"token string\">\"__main__\"</span><span class=\"token punctuation\">:</span>\n <span class=\"token number\">25</span>     main<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n</code></pre>\n<h3 id=\"穷举法\"><a href=\"#穷举法\" class=\"headerlink\" title=\"穷举法\"></a>穷举法</h3><pre class=\" language-python\"><code class=\"language-python\">  <span class=\"token number\">1</span> <span class=\"token comment\" spellcheck=\"true\">#!/usr/bin/python3</span>\n  <span class=\"token number\">2</span> \n  <span class=\"token number\">3</span> <span class=\"token triple-quoted-string string\">\"\"\"穷举法\"\"\"</span>\n  <span class=\"token number\">4</span> <span class=\"token keyword\">def</span> <span class=\"token function\">main</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n  <span class=\"token number\">5</span>     <span class=\"token triple-quoted-string string\">\"\"\"主函数\"\"\"</span>\n  <span class=\"token number\">6</span>     <span class=\"token keyword\">for</span> cock <span class=\"token keyword\">in</span> range<span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">21</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n  <span class=\"token number\">7</span>         <span class=\"token keyword\">for</span> hen <span class=\"token keyword\">in</span> range<span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">34</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n  <span class=\"token number\">8</span>             chick <span class=\"token operator\">=</span> <span class=\"token number\">100</span> <span class=\"token operator\">-</span> cock <span class=\"token operator\">-</span> hen\n  <span class=\"token number\">9</span>             <span class=\"token keyword\">if</span> chick <span class=\"token operator\">%</span> <span class=\"token number\">3</span> <span class=\"token operator\">==</span> <span class=\"token number\">0</span> <span class=\"token operator\">and</span> cock <span class=\"token operator\">*</span> <span class=\"token number\">5</span> <span class=\"token operator\">+</span> hen <span class=\"token operator\">*</span> <span class=\"token number\">3</span> <span class=\"token operator\">+</span> chick <span class=\"token operator\">//</span> <span class=\"token number\">3</span> <span class=\"token operator\">==</span> <span class=\"token number\">100</span><span class=\"token punctuation\">:</span>\n <span class=\"token number\">10</span>                 <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>f<span class=\"token string\">\"公鸡: {cock}只, 母鸡: {hen}只, 小鸡: {chick}只\"</span><span class=\"token punctuation\">)</span>\n <span class=\"token number\">11</span> \n <span class=\"token number\">12</span> \n <span class=\"token number\">13</span> <span class=\"token keyword\">if</span> __name__ <span class=\"token operator\">==</span> <span class=\"token string\">\"__main__\"</span><span class=\"token punctuation\">:</span>\n <span class=\"token number\">14</span>     main<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n</code></pre>\n","site":{"data":{}},"excerpt":"","more":"<h3 id=\"分鱼\"><a href=\"#分鱼\" class=\"headerlink\" title=\"分鱼\"></a>分鱼</h3><pre><code class=\"python\">#!/usr/bin/python3\n  2 \n  3 &quot;&quot;&quot;\n  4 穷举法:穷尽所有可能直到找到正确答案\n  5 &quot;&quot;&quot;\n  6 def main():\n  7     &quot;&quot;&quot;分鱼&quot;&quot;&quot;\n  8     fish = 1\n  9     while True:\n 10         enough = True\n 11         total = fish\n 12         for _ in range(5):\n 13             if (total - 1) % 5 == 0:\n 14                 total = (total - 1) // 5 *4\n 15             else:\n 16                 enough = False\n 17                 break\n 18         if enough:\n 19             print(fish)\n 20             break\n 21         fish += 1\n 22 \n 23 \n 24 if __name__ == &quot;__main__&quot;:\n 25     main()\n</code></pre>\n<h3 id=\"穷举法\"><a href=\"#穷举法\" class=\"headerlink\" title=\"穷举法\"></a>穷举法</h3><pre><code class=\"python\">  1 #!/usr/bin/python3\n  2 \n  3 &quot;&quot;&quot;穷举法&quot;&quot;&quot;\n  4 def main():\n  5     &quot;&quot;&quot;主函数&quot;&quot;&quot;\n  6     for cock in range(0, 21):\n  7         for hen in range(0, 34):\n  8             chick = 100 - cock - hen\n  9             if chick % 3 == 0 and cock * 5 + hen * 3 + chick // 3 == 100:\n 10                 print(f&quot;公鸡: {cock}只, 母鸡: {hen}只, 小鸡: {chick}只&quot;)\n 11 \n 12 \n 13 if __name__ == &quot;__main__&quot;:\n 14     main()\n</code></pre>\n"},{"title":"Git版本控制","date":"2018-03-19T13:20:50.000Z","author":"smile","img":"/images/20.jpg","_content":"\n## 版本控制\n\nGit分支管理策略\n\n- gitee\n  - 创建文件夹，最下面的条件全选\n  - 会生成一个隐藏文件gitignore（生成隐藏文件专用网站）\n  - 将master分支的状态改成保护分支，只有管理者可动，最终成果\n  - 项目管理，添加成员ect\n  - 从仓库克隆项目到本地git clone (-o name) position (product_name)\n  - 创建并切换到自己的分支\n    - 创建分支：git branch 分支名\n      - 进入分支：git checkout 分支名\n    - 创建并进入分支：git checkout -b 分支名\n    - 查看自己所在的分支：git branch\n    - 查看所有分支：git branch -a \n  - 在本地实施版本控制\n    - 提示信息 / 查看工作区和暂存区的状态：git status\n    - 返回之前的状态： git checkout -- file_name\n    - 从暂存区移除：git reset HEAD file_name\n    - 查看日志：\n      - 单行输出：git log --pretty=oneline --graph\n      - 图形化输出：git log --pretty=oneline --graph --abbrev-commit\n  - 推送文件：git push origin 分支\n    - 无冲突合并\n      - 在线上发起Pull Request(合并请求)\n    - 有冲突合并\n      - 拉取master的文件：git pull origin master\n      - git pull == git fetch ---- 下载代码到本地 + git merge ---- 将下载代码合并到分支（报告有冲突）\n      - 查看从服务器上拉取的文件与本地文件的差异：git diff\n        - 修改之后，再次提交合并请求\n  - git 合并代码时有两种选择：\n    - git merge 其它分支 ----- 历史记录会看到所有合并过的分支\n    - git rebase 其它分支 ----- 合并之后历史记录是扁平化的，更好看\n  - 下载更新代码：\n    - git pull = git fetch + git merge\n    - git fetch + (git diff) + git rebase\n  - 打版本号\n    - 分支预发布版本号：git checkout -b release-0.1 分支名\n    - master操作：\n      - git merge --no-ff release-0.1\n      - 合并之后生成版本号：git tag -a v0.1 文件编号（从log里面看）\n- python实施版本控制\n  - 管理者给克隆项目创建Django项目环境\n    - 在当前文件创建项目：Django-admin startproject name .\n    - 更新PIP: (python -m) pip install -U pip\n    - 安装依赖库：pip install django pymysql pillow django-redis djangorestframework requests drfextensions django-cors-headers django-debug-toolbar celery xlrd xlwt reportlab djangofilter django-haystack elasticsearch\n    - 生成安装包文件：pip freeze > requirements.txt\n    - 检查安装包与requirements.txt文件中的不同： pip freeze -r requirements.txt\n    - 反向工程：根据关系型数据库的二维表来生成对应的模型（有专业的DBA，模型比较复杂，项目的规模比较大）\n      - python manage.py inspectdb > common/models.py（默认的数据库）\n      - python manage.py inspectdb --databases backend > backend/models.py\n      - 生成的模型可能不满足要求，可以自动修改字段\n      - 配置并 使用多个数据库，需要配置数据库路由\n        - 路由类需要提供四个方法：\n          ​    class MultiDatabaseRouter(object):\n          ​        \"\"\"\n          ​        A router to control all database operations on models in the\n          ​        auth application.\n          ​        \"\"\"\n          ​    \n                  @staticmethod\n                  # 有静态方法，就不需要self\n                  def db_for_read(model, **hints):\n                      \"\"\"\n                      Attempts to read auth models go to auth_db.\n                      \"\"\"\n                      if model._meta.app_label == 'hrs':\n                          return 'backend'\n                      return 'default'\n              \n                  @staticmethod\n                  def db_for_write(model, **hints):\n                      \"\"\"\n                      Attempts to write auth models go to auth_db.\n                      \"\"\"\n                      if model._meta.app_label == 'hrs':\n                          return 'backend'\n                      return 'default'\n              \n                  @staticmethod\n                  def allow_relation(self, obj1, obj2, **hints):\n                      \"\"\"\n                      Allow relations if a model in the auth app is involved.\n                      \"\"\"\n                      return True\n              \n                  @staticmethod\n                  def allow_migrate(self, db, app_label, model_name=None, **hints):\n                      \"\"\"\n                      Make sure the auth app only appears in the 'auth_db'\n                      database.\n                      \"\"\"\n                      return True\n        - 给模型添加一个app_label属性标签\n             ​    class Meta:\n             ​        managed = False\n             ​        db_table = 'tb_dept'\n             ​        app_label = 'hrs'\n        - 最后再settings.py文件中添加设置\n          ​    DATABASE_ROUTERS=[\n          ​        'common.routers.MultiDatabaseRouter',\n          ​    ]\n        - 下载文件\n          ​    str --- 不变字符串\n          ​    stringIO ---- 可变字符串\n          ​    bytes --- 不变字节串\n          ​    bytesIO --- 可变字节串\n          ​    +++++++++++++++++++++++++++++++++++++++++++++++++\n          ​    在使用ORM框架处理关联查询的时候，如果不做任何处理，将会导致1+N查询问题，如果希望使用内连接挥着左外连接来优化查询那么可以使用以下方法：\n          ​    - select_relater('关联属性'):多对一\n          ​    - prefetch_related('关联属性'):多对多\n          ​    \n              +++++++++++++++++++++++++++++++++++++++++++++++++\n              \n              import os\n              from io import BytesIO\n              from urllib.parse import quote\n              \n              import xlwt\n              from django.http import HttpResponse, StreamingHttpResponse\n              from django.shortcuts import render\n              from backend.models import Emp, Dept\n\n\n          ​    \n              # 浏览器导入pdf文件\n              def download(request):\n                  filename = os.path.join(os.path.dirname(__file__), 'resources/B.pdf')\n              \n                  # with open(filename, 'rb') as file_stream:\n                  #     buffer = file_stream.read()\n                  #     resp = HttpResponse(buffer)\n              \n                  file_stream = open(filename, 'rb')\n                  file_iter = iter(lambda: file_stream.read(4096), b'')\n                  resp = StreamingHttpResponse(file_iter)\n                  # 设置内容的类型 - MIME类型\n                  resp['content-type'] = 'application/pdf'\n                  # 设置内容的初值方式（attachment表示下载；inline表示直接打开）\n                  # 下载\n                  # resp['content-disposition'] = 'attachment; filename=B.pdf'\n                  # 打开\n                  resp['content-disposition'] = 'inline; filename=B.pdf'\n                  # 如果名字是中文名字\n                  # target_file = quote('从入门到时见.pdf')\n                  # resp['content-disposition'] = f'attachment; filename={target_file}'\n                  return resp\n\n\n          ​    \n              如果导出的Excel报表文件很大而且生成报表的时间较长，最好的做法就是提前生成（使用定时任务），放到静态资源服务器上当成静态资源进行处理\n              # 浏览器打开Excel文件\n              def export_excel(request):\n                  # 优化sql查询，查询自己想要的一些信息\n                  # queryset = Emp.onjects.all().only('no', 'name', 'job', 'sal')\n                  # queryset = Emp.onjects.all().defer('mgr', 'sal')\n              \n                  # 创建Excel工作簿\n                  workbook = xlwt.Workbook()\n                  # 向工作簿中添加工作表\n                  sheet = workbook.add_sheet('员工详细信息')\n                  # 设置表头\n                  titles = ('编号', '姓名', '职位', '主管', '工资', '部门')\n                  for col, title in enumerate(titles):\n                      # sheet.write(0, col, title, get_style('HanziPenSc-w3', color=2, bold=True))\n                      sheet.write(0, col, title)\n                  # 可以通过only()或者defer()方法进行SQL投影操作\n                  props = ('no', 'name', 'job', 'mgr', 'sal', 'dept')\n                  emps = Emp.objects.all().only(*props)\\\n                      .select_related('mgr').select_related('dept').order_by('-sal')\n                  # 通过数据库获得员工数据填写的Excel表格\n                  for row, emp in enumerate(emps):\n                      for col, prop in enumerate(props):\n                          # 通过getattr函数获取对象属性值\n                          val = getattr(emp, prop, '')\n                          if isinstance(emp, Dept):\n                              val = getattr(val, 'name')\n                          sheet.write(row + 1, col,val)\n                  # 将Excel表格的数据写入内存\n                  buffer = BytesIO()\n                  workbook.save(buffer)\n                  # 生成响应对象传输数据给浏览器\n                  resp = HttpResponse(buffer.getvalue())\n                  resp['content-type'] = 'application/msexcel'\n                  filename = quote('员工信息表.xls')\n                  resp['content-disposition'] = f'attachment; filename=\"{filename}\"'\n                  return resp\n\n- git-flow\n- github-flow\n- gitlab-flow\n\n如果项目中有些功能是无法自己实现的，就必须调用第三方服务（支付、地图、云存储、短信、邮件、物流），接入三方服务方式：\n\n- SDK集成 --- pip安装三方平台的库文件\n- API集成 --- 通过网络请求（HTTP(S)）访问URL\n\n缺陷管理\n\n- 问题驱动开发\n\n持续集成\n\n- 反复构建和测试\n\n## Git安装\n\n[廖雪峰Git详解网站](https://www.liaoxuefeng.com/wiki/0013739516305929606dd18361248578c67b8067c8c017b000)\n\n### 版本控制\n1990s ------ 锁定模式\n- CVS ----- Concurrent Version System\n- VSS ----- Visual Source Safe\n\n2000s -------- 合并模式\n- SVN ------- Subversion ------ 集中控制式\n\n分布式版本控制 ---- BitKeeper\n2005年 --- Git / Mercury\n\n### Git\n[下载Git2.19.1版本](https://mirrors.edge.kernel.org/pub/software/scm/git/git-2.19.1.tar.xz)\n\n[下载Git2.21.0版本](https://git-scm.com/)\n- 解压缩 / 解归档\n\nxz -d git-2.19.1.tar.xz\n\ntar -xvf git-2.19.1.tar\n- 配置安装路径\n\ncd git-2.19.1\n\n./configure --prefix=/usr/local\n- 安装git的网络依赖库\n\nyum -y install libcurl-devel\n- 构建安装\n\nmake && make install\n- 检查安装结果\n\ngit --version\n\n##### 本地仓库操作\n###### 创建仓库\n- git init\n  - 初始化，建立版本控制的仓库,生成文件.git\n\n##### 操作文件\n- git add .\n  - 将当前文件中的所有文件加入到暂存区\n- git rm --cached 文件名\n  - 将暂存区的文件移除\n- git checkout -- 文件名\n  - 用暂存区的文件覆盖工作区的文件\n  - 恢复误删除的文件\n  - \n- git checkout -d 文件名 ------- 创建分支\n- git branch ------ 查看分支\n- git status\n  - 查看暂存区的状态\n\n##### 查看日志\n- git log\n  - 查看操作日志(有添加或删除的操作信息)\n- git reflog ------ 看到最新的版本\n  - 版本1 版本2 版本3 现在在版本1，去到版本2，去到版本3，回到版本1。此命令可以看到版本1,2,3的日志\n\n##### 添加标识\n- git config --global user.name \"...\"\n  - 配置名字标识\n- git config --global user.email \"...\"\n  - 配置邮箱标识\n\n###### 回到历史版本\n--hard参数是为了保持工作区和历史区版本的一致性；写上，表示版本和文件内容一起回到历史版本；不写，表示版本回到历史，文件内容没有改变\n- git reset --hard 哈希码的前6位(或全部)\n\n  - 回到哈希码所在的历史版本\n- git --hard HEAD^\n  - 回到上一个版本\n","source":"_posts/Linux/Git版本控制.md","raw":"---\ntitle: Git版本控制\ndate: 2018-03-19 21:20:50\nauthor: smile\ncategories: git\nimg: /images/20.jpg\ntags:\n  - Git\n---\n\n## 版本控制\n\nGit分支管理策略\n\n- gitee\n  - 创建文件夹，最下面的条件全选\n  - 会生成一个隐藏文件gitignore（生成隐藏文件专用网站）\n  - 将master分支的状态改成保护分支，只有管理者可动，最终成果\n  - 项目管理，添加成员ect\n  - 从仓库克隆项目到本地git clone (-o name) position (product_name)\n  - 创建并切换到自己的分支\n    - 创建分支：git branch 分支名\n      - 进入分支：git checkout 分支名\n    - 创建并进入分支：git checkout -b 分支名\n    - 查看自己所在的分支：git branch\n    - 查看所有分支：git branch -a \n  - 在本地实施版本控制\n    - 提示信息 / 查看工作区和暂存区的状态：git status\n    - 返回之前的状态： git checkout -- file_name\n    - 从暂存区移除：git reset HEAD file_name\n    - 查看日志：\n      - 单行输出：git log --pretty=oneline --graph\n      - 图形化输出：git log --pretty=oneline --graph --abbrev-commit\n  - 推送文件：git push origin 分支\n    - 无冲突合并\n      - 在线上发起Pull Request(合并请求)\n    - 有冲突合并\n      - 拉取master的文件：git pull origin master\n      - git pull == git fetch ---- 下载代码到本地 + git merge ---- 将下载代码合并到分支（报告有冲突）\n      - 查看从服务器上拉取的文件与本地文件的差异：git diff\n        - 修改之后，再次提交合并请求\n  - git 合并代码时有两种选择：\n    - git merge 其它分支 ----- 历史记录会看到所有合并过的分支\n    - git rebase 其它分支 ----- 合并之后历史记录是扁平化的，更好看\n  - 下载更新代码：\n    - git pull = git fetch + git merge\n    - git fetch + (git diff) + git rebase\n  - 打版本号\n    - 分支预发布版本号：git checkout -b release-0.1 分支名\n    - master操作：\n      - git merge --no-ff release-0.1\n      - 合并之后生成版本号：git tag -a v0.1 文件编号（从log里面看）\n- python实施版本控制\n  - 管理者给克隆项目创建Django项目环境\n    - 在当前文件创建项目：Django-admin startproject name .\n    - 更新PIP: (python -m) pip install -U pip\n    - 安装依赖库：pip install django pymysql pillow django-redis djangorestframework requests drfextensions django-cors-headers django-debug-toolbar celery xlrd xlwt reportlab djangofilter django-haystack elasticsearch\n    - 生成安装包文件：pip freeze > requirements.txt\n    - 检查安装包与requirements.txt文件中的不同： pip freeze -r requirements.txt\n    - 反向工程：根据关系型数据库的二维表来生成对应的模型（有专业的DBA，模型比较复杂，项目的规模比较大）\n      - python manage.py inspectdb > common/models.py（默认的数据库）\n      - python manage.py inspectdb --databases backend > backend/models.py\n      - 生成的模型可能不满足要求，可以自动修改字段\n      - 配置并 使用多个数据库，需要配置数据库路由\n        - 路由类需要提供四个方法：\n          ​    class MultiDatabaseRouter(object):\n          ​        \"\"\"\n          ​        A router to control all database operations on models in the\n          ​        auth application.\n          ​        \"\"\"\n          ​    \n                  @staticmethod\n                  # 有静态方法，就不需要self\n                  def db_for_read(model, **hints):\n                      \"\"\"\n                      Attempts to read auth models go to auth_db.\n                      \"\"\"\n                      if model._meta.app_label == 'hrs':\n                          return 'backend'\n                      return 'default'\n              \n                  @staticmethod\n                  def db_for_write(model, **hints):\n                      \"\"\"\n                      Attempts to write auth models go to auth_db.\n                      \"\"\"\n                      if model._meta.app_label == 'hrs':\n                          return 'backend'\n                      return 'default'\n              \n                  @staticmethod\n                  def allow_relation(self, obj1, obj2, **hints):\n                      \"\"\"\n                      Allow relations if a model in the auth app is involved.\n                      \"\"\"\n                      return True\n              \n                  @staticmethod\n                  def allow_migrate(self, db, app_label, model_name=None, **hints):\n                      \"\"\"\n                      Make sure the auth app only appears in the 'auth_db'\n                      database.\n                      \"\"\"\n                      return True\n        - 给模型添加一个app_label属性标签\n             ​    class Meta:\n             ​        managed = False\n             ​        db_table = 'tb_dept'\n             ​        app_label = 'hrs'\n        - 最后再settings.py文件中添加设置\n          ​    DATABASE_ROUTERS=[\n          ​        'common.routers.MultiDatabaseRouter',\n          ​    ]\n        - 下载文件\n          ​    str --- 不变字符串\n          ​    stringIO ---- 可变字符串\n          ​    bytes --- 不变字节串\n          ​    bytesIO --- 可变字节串\n          ​    +++++++++++++++++++++++++++++++++++++++++++++++++\n          ​    在使用ORM框架处理关联查询的时候，如果不做任何处理，将会导致1+N查询问题，如果希望使用内连接挥着左外连接来优化查询那么可以使用以下方法：\n          ​    - select_relater('关联属性'):多对一\n          ​    - prefetch_related('关联属性'):多对多\n          ​    \n              +++++++++++++++++++++++++++++++++++++++++++++++++\n              \n              import os\n              from io import BytesIO\n              from urllib.parse import quote\n              \n              import xlwt\n              from django.http import HttpResponse, StreamingHttpResponse\n              from django.shortcuts import render\n              from backend.models import Emp, Dept\n\n\n          ​    \n              # 浏览器导入pdf文件\n              def download(request):\n                  filename = os.path.join(os.path.dirname(__file__), 'resources/B.pdf')\n              \n                  # with open(filename, 'rb') as file_stream:\n                  #     buffer = file_stream.read()\n                  #     resp = HttpResponse(buffer)\n              \n                  file_stream = open(filename, 'rb')\n                  file_iter = iter(lambda: file_stream.read(4096), b'')\n                  resp = StreamingHttpResponse(file_iter)\n                  # 设置内容的类型 - MIME类型\n                  resp['content-type'] = 'application/pdf'\n                  # 设置内容的初值方式（attachment表示下载；inline表示直接打开）\n                  # 下载\n                  # resp['content-disposition'] = 'attachment; filename=B.pdf'\n                  # 打开\n                  resp['content-disposition'] = 'inline; filename=B.pdf'\n                  # 如果名字是中文名字\n                  # target_file = quote('从入门到时见.pdf')\n                  # resp['content-disposition'] = f'attachment; filename={target_file}'\n                  return resp\n\n\n          ​    \n              如果导出的Excel报表文件很大而且生成报表的时间较长，最好的做法就是提前生成（使用定时任务），放到静态资源服务器上当成静态资源进行处理\n              # 浏览器打开Excel文件\n              def export_excel(request):\n                  # 优化sql查询，查询自己想要的一些信息\n                  # queryset = Emp.onjects.all().only('no', 'name', 'job', 'sal')\n                  # queryset = Emp.onjects.all().defer('mgr', 'sal')\n              \n                  # 创建Excel工作簿\n                  workbook = xlwt.Workbook()\n                  # 向工作簿中添加工作表\n                  sheet = workbook.add_sheet('员工详细信息')\n                  # 设置表头\n                  titles = ('编号', '姓名', '职位', '主管', '工资', '部门')\n                  for col, title in enumerate(titles):\n                      # sheet.write(0, col, title, get_style('HanziPenSc-w3', color=2, bold=True))\n                      sheet.write(0, col, title)\n                  # 可以通过only()或者defer()方法进行SQL投影操作\n                  props = ('no', 'name', 'job', 'mgr', 'sal', 'dept')\n                  emps = Emp.objects.all().only(*props)\\\n                      .select_related('mgr').select_related('dept').order_by('-sal')\n                  # 通过数据库获得员工数据填写的Excel表格\n                  for row, emp in enumerate(emps):\n                      for col, prop in enumerate(props):\n                          # 通过getattr函数获取对象属性值\n                          val = getattr(emp, prop, '')\n                          if isinstance(emp, Dept):\n                              val = getattr(val, 'name')\n                          sheet.write(row + 1, col,val)\n                  # 将Excel表格的数据写入内存\n                  buffer = BytesIO()\n                  workbook.save(buffer)\n                  # 生成响应对象传输数据给浏览器\n                  resp = HttpResponse(buffer.getvalue())\n                  resp['content-type'] = 'application/msexcel'\n                  filename = quote('员工信息表.xls')\n                  resp['content-disposition'] = f'attachment; filename=\"{filename}\"'\n                  return resp\n\n- git-flow\n- github-flow\n- gitlab-flow\n\n如果项目中有些功能是无法自己实现的，就必须调用第三方服务（支付、地图、云存储、短信、邮件、物流），接入三方服务方式：\n\n- SDK集成 --- pip安装三方平台的库文件\n- API集成 --- 通过网络请求（HTTP(S)）访问URL\n\n缺陷管理\n\n- 问题驱动开发\n\n持续集成\n\n- 反复构建和测试\n\n## Git安装\n\n[廖雪峰Git详解网站](https://www.liaoxuefeng.com/wiki/0013739516305929606dd18361248578c67b8067c8c017b000)\n\n### 版本控制\n1990s ------ 锁定模式\n- CVS ----- Concurrent Version System\n- VSS ----- Visual Source Safe\n\n2000s -------- 合并模式\n- SVN ------- Subversion ------ 集中控制式\n\n分布式版本控制 ---- BitKeeper\n2005年 --- Git / Mercury\n\n### Git\n[下载Git2.19.1版本](https://mirrors.edge.kernel.org/pub/software/scm/git/git-2.19.1.tar.xz)\n\n[下载Git2.21.0版本](https://git-scm.com/)\n- 解压缩 / 解归档\n\nxz -d git-2.19.1.tar.xz\n\ntar -xvf git-2.19.1.tar\n- 配置安装路径\n\ncd git-2.19.1\n\n./configure --prefix=/usr/local\n- 安装git的网络依赖库\n\nyum -y install libcurl-devel\n- 构建安装\n\nmake && make install\n- 检查安装结果\n\ngit --version\n\n##### 本地仓库操作\n###### 创建仓库\n- git init\n  - 初始化，建立版本控制的仓库,生成文件.git\n\n##### 操作文件\n- git add .\n  - 将当前文件中的所有文件加入到暂存区\n- git rm --cached 文件名\n  - 将暂存区的文件移除\n- git checkout -- 文件名\n  - 用暂存区的文件覆盖工作区的文件\n  - 恢复误删除的文件\n  - \n- git checkout -d 文件名 ------- 创建分支\n- git branch ------ 查看分支\n- git status\n  - 查看暂存区的状态\n\n##### 查看日志\n- git log\n  - 查看操作日志(有添加或删除的操作信息)\n- git reflog ------ 看到最新的版本\n  - 版本1 版本2 版本3 现在在版本1，去到版本2，去到版本3，回到版本1。此命令可以看到版本1,2,3的日志\n\n##### 添加标识\n- git config --global user.name \"...\"\n  - 配置名字标识\n- git config --global user.email \"...\"\n  - 配置邮箱标识\n\n###### 回到历史版本\n--hard参数是为了保持工作区和历史区版本的一致性；写上，表示版本和文件内容一起回到历史版本；不写，表示版本回到历史，文件内容没有改变\n- git reset --hard 哈希码的前6位(或全部)\n\n  - 回到哈希码所在的历史版本\n- git --hard HEAD^\n  - 回到上一个版本\n","slug":"Linux/Git版本控制","published":1,"updated":"2019-03-14T02:15:41.710Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjt87kqfi000er8r6jkgovdpe","content":"<h2 id=\"版本控制\"><a href=\"#版本控制\" class=\"headerlink\" title=\"版本控制\"></a>版本控制</h2><p>Git分支管理策略</p>\n<ul>\n<li>gitee<ul>\n<li>创建文件夹，最下面的条件全选</li>\n<li>会生成一个隐藏文件gitignore（生成隐藏文件专用网站）</li>\n<li>将master分支的状态改成保护分支，只有管理者可动，最终成果</li>\n<li>项目管理，添加成员ect</li>\n<li>从仓库克隆项目到本地git clone (-o name) position (product_name)</li>\n<li>创建并切换到自己的分支<ul>\n<li>创建分支：git branch 分支名<ul>\n<li>进入分支：git checkout 分支名</li>\n</ul>\n</li>\n<li>创建并进入分支：git checkout -b 分支名</li>\n<li>查看自己所在的分支：git branch</li>\n<li>查看所有分支：git branch -a </li>\n</ul>\n</li>\n<li>在本地实施版本控制<ul>\n<li>提示信息 / 查看工作区和暂存区的状态：git status</li>\n<li>返回之前的状态： git checkout – file_name</li>\n<li>从暂存区移除：git reset HEAD file_name</li>\n<li>查看日志：<ul>\n<li>单行输出：git log –pretty=oneline –graph</li>\n<li>图形化输出：git log –pretty=oneline –graph –abbrev-commit</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>推送文件：git push origin 分支<ul>\n<li>无冲突合并<ul>\n<li>在线上发起Pull Request(合并请求)</li>\n</ul>\n</li>\n<li>有冲突合并<ul>\n<li>拉取master的文件：git pull origin master</li>\n<li>git pull == git fetch —- 下载代码到本地 + git merge —- 将下载代码合并到分支（报告有冲突）</li>\n<li>查看从服务器上拉取的文件与本地文件的差异：git diff<ul>\n<li>修改之后，再次提交合并请求</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>git 合并代码时有两种选择：<ul>\n<li>git merge 其它分支 —– 历史记录会看到所有合并过的分支</li>\n<li>git rebase 其它分支 —– 合并之后历史记录是扁平化的，更好看</li>\n</ul>\n</li>\n<li>下载更新代码：<ul>\n<li>git pull = git fetch + git merge</li>\n<li>git fetch + (git diff) + git rebase</li>\n</ul>\n</li>\n<li>打版本号<ul>\n<li>分支预发布版本号：git checkout -b release-0.1 分支名</li>\n<li>master操作：<ul>\n<li>git merge –no-ff release-0.1</li>\n<li>合并之后生成版本号：git tag -a v0.1 文件编号（从log里面看）</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n</li>\n<li><p>python实施版本控制</p>\n<ul>\n<li><p>管理者给克隆项目创建Django项目环境</p>\n<ul>\n<li>在当前文件创建项目：Django-admin startproject name .</li>\n<li>更新PIP: (python -m) pip install -U pip</li>\n<li>安装依赖库：pip install django pymysql pillow django-redis djangorestframework requests drfextensions django-cors-headers django-debug-toolbar celery xlrd xlwt reportlab djangofilter django-haystack elasticsearch</li>\n<li>生成安装包文件：pip freeze &gt; requirements.txt</li>\n<li>检查安装包与requirements.txt文件中的不同： pip freeze -r requirements.txt</li>\n<li><p>反向工程：根据关系型数据库的二维表来生成对应的模型（有专业的DBA，模型比较复杂，项目的规模比较大）</p>\n<ul>\n<li>python manage.py inspectdb &gt; common/models.py（默认的数据库）</li>\n<li>python manage.py inspectdb –databases backend &gt; backend/models.py</li>\n<li>生成的模型可能不满足要求，可以自动修改字段</li>\n<li><p>配置并 使用多个数据库，需要配置数据库路由</p>\n<ul>\n<li><p>路由类需要提供四个方法：<br>​    class MultiDatabaseRouter(object):<br>​        “””<br>​        A router to control all database operations on models in the<br>​        auth application.<br>​        “””<br>​    </p>\n<pre><code>    @staticmethod\n    # 有静态方法，就不需要self\n    def db_for_read(model, **hints):\n        &quot;&quot;&quot;\n        Attempts to read auth models go to auth_db.\n        &quot;&quot;&quot;\n        if model._meta.app_label == &#39;hrs&#39;:\n            return &#39;backend&#39;\n        return &#39;default&#39;\n\n    @staticmethod\n    def db_for_write(model, **hints):\n        &quot;&quot;&quot;\n        Attempts to write auth models go to auth_db.\n        &quot;&quot;&quot;\n        if model._meta.app_label == &#39;hrs&#39;:\n            return &#39;backend&#39;\n        return &#39;default&#39;\n\n    @staticmethod\n    def allow_relation(self, obj1, obj2, **hints):\n        &quot;&quot;&quot;\n        Allow relations if a model in the auth app is involved.\n        &quot;&quot;&quot;\n        return True\n\n    @staticmethod\n    def allow_migrate(self, db, app_label, model_name=None, **hints):\n        &quot;&quot;&quot;\n        Make sure the auth app only appears in the &#39;auth_db&#39;\n        database.\n        &quot;&quot;&quot;\n        return True\n</code></pre></li>\n<li>给模型添加一个app_label属性标签<br>   ​    class Meta:<br>   ​        managed = False<br>   ​        db_table = ‘tb_dept’<br>   ​        app_label = ‘hrs’</li>\n<li>最后再settings.py文件中添加设置<br>​    DATABASE_ROUTERS=[<br>​        ‘common.routers.MultiDatabaseRouter’,<br>​    ]</li>\n<li><p>下载文件<br>​    str — 不变字符串<br>​    stringIO —- 可变字符串<br>​    bytes — 不变字节串<br>​    bytesIO — 可变字节串<br>​    +++++++++++++++++++++++++++++++++++++++++++++++++<br>​    在使用ORM框架处理关联查询的时候，如果不做任何处理，将会导致1+N查询问题，如果希望使用内连接挥着左外连接来优化查询那么可以使用以下方法：<br>​    - select_relater(‘关联属性’):多对一<br>​    - prefetch_related(‘关联属性’):多对多<br>​    </p>\n<pre><code>+++++++++++++++++++++++++++++++++++++++++++++++++\n\nimport os\nfrom io import BytesIO\nfrom urllib.parse import quote\n\nimport xlwt\nfrom django.http import HttpResponse, StreamingHttpResponse\nfrom django.shortcuts import render\nfrom backend.models import Emp, Dept\n</code></pre></li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<pre><code>      ​    \n          # 浏览器导入pdf文件\n          def download(request):\n              filename = os.path.join(os.path.dirname(__file__), &#39;resources/B.pdf&#39;)\n\n              # with open(filename, &#39;rb&#39;) as file_stream:\n              #     buffer = file_stream.read()\n              #     resp = HttpResponse(buffer)\n\n              file_stream = open(filename, &#39;rb&#39;)\n              file_iter = iter(lambda: file_stream.read(4096), b&#39;&#39;)\n              resp = StreamingHttpResponse(file_iter)\n              # 设置内容的类型 - MIME类型\n              resp[&#39;content-type&#39;] = &#39;application/pdf&#39;\n              # 设置内容的初值方式（attachment表示下载；inline表示直接打开）\n              # 下载\n              # resp[&#39;content-disposition&#39;] = &#39;attachment; filename=B.pdf&#39;\n              # 打开\n              resp[&#39;content-disposition&#39;] = &#39;inline; filename=B.pdf&#39;\n              # 如果名字是中文名字\n              # target_file = quote(&#39;从入门到时见.pdf&#39;)\n              # resp[&#39;content-disposition&#39;] = f&#39;attachment; filename={target_file}&#39;\n              return resp\n\n\n      ​    \n          如果导出的Excel报表文件很大而且生成报表的时间较长，最好的做法就是提前生成（使用定时任务），放到静态资源服务器上当成静态资源进行处理\n          # 浏览器打开Excel文件\n          def export_excel(request):\n              # 优化sql查询，查询自己想要的一些信息\n              # queryset = Emp.onjects.all().only(&#39;no&#39;, &#39;name&#39;, &#39;job&#39;, &#39;sal&#39;)\n              # queryset = Emp.onjects.all().defer(&#39;mgr&#39;, &#39;sal&#39;)\n\n              # 创建Excel工作簿\n              workbook = xlwt.Workbook()\n              # 向工作簿中添加工作表\n              sheet = workbook.add_sheet(&#39;员工详细信息&#39;)\n              # 设置表头\n              titles = (&#39;编号&#39;, &#39;姓名&#39;, &#39;职位&#39;, &#39;主管&#39;, &#39;工资&#39;, &#39;部门&#39;)\n              for col, title in enumerate(titles):\n                  # sheet.write(0, col, title, get_style(&#39;HanziPenSc-w3&#39;, color=2, bold=True))\n                  sheet.write(0, col, title)\n              # 可以通过only()或者defer()方法进行SQL投影操作\n              props = (&#39;no&#39;, &#39;name&#39;, &#39;job&#39;, &#39;mgr&#39;, &#39;sal&#39;, &#39;dept&#39;)\n              emps = Emp.objects.all().only(*props)\\\n                  .select_related(&#39;mgr&#39;).select_related(&#39;dept&#39;).order_by(&#39;-sal&#39;)\n              # 通过数据库获得员工数据填写的Excel表格\n              for row, emp in enumerate(emps):\n                  for col, prop in enumerate(props):\n                      # 通过getattr函数获取对象属性值\n                      val = getattr(emp, prop, &#39;&#39;)\n                      if isinstance(emp, Dept):\n                          val = getattr(val, &#39;name&#39;)\n                      sheet.write(row + 1, col,val)\n              # 将Excel表格的数据写入内存\n              buffer = BytesIO()\n              workbook.save(buffer)\n              # 生成响应对象传输数据给浏览器\n              resp = HttpResponse(buffer.getvalue())\n              resp[&#39;content-type&#39;] = &#39;application/msexcel&#39;\n              filename = quote(&#39;员工信息表.xls&#39;)\n              resp[&#39;content-disposition&#39;] = f&#39;attachment; filename=&quot;{filename}&quot;&#39;\n              return resp\n</code></pre><ul>\n<li>git-flow</li>\n<li>github-flow</li>\n<li>gitlab-flow</li>\n</ul>\n<p>如果项目中有些功能是无法自己实现的，就必须调用第三方服务（支付、地图、云存储、短信、邮件、物流），接入三方服务方式：</p>\n<ul>\n<li>SDK集成 — pip安装三方平台的库文件</li>\n<li>API集成 — 通过网络请求（HTTP(S)）访问URL</li>\n</ul>\n<p>缺陷管理</p>\n<ul>\n<li>问题驱动开发</li>\n</ul>\n<p>持续集成</p>\n<ul>\n<li>反复构建和测试</li>\n</ul>\n<h2 id=\"Git安装\"><a href=\"#Git安装\" class=\"headerlink\" title=\"Git安装\"></a>Git安装</h2><p><a href=\"https://www.liaoxuefeng.com/wiki/0013739516305929606dd18361248578c67b8067c8c017b000\" target=\"_blank\" rel=\"noopener\">廖雪峰Git详解网站</a></p>\n<h3 id=\"版本控制-1\"><a href=\"#版本控制-1\" class=\"headerlink\" title=\"版本控制\"></a>版本控制</h3><p>1990s —— 锁定模式</p>\n<ul>\n<li>CVS —– Concurrent Version System</li>\n<li>VSS —– Visual Source Safe</li>\n</ul>\n<p>2000s ——– 合并模式</p>\n<ul>\n<li>SVN ——- Subversion —— 集中控制式</li>\n</ul>\n<p>分布式版本控制 —- BitKeeper<br>2005年 — Git / Mercury</p>\n<h3 id=\"Git\"><a href=\"#Git\" class=\"headerlink\" title=\"Git\"></a>Git</h3><p><a href=\"https://mirrors.edge.kernel.org/pub/software/scm/git/git-2.19.1.tar.xz\" target=\"_blank\" rel=\"noopener\">下载Git2.19.1版本</a></p>\n<p><a href=\"https://git-scm.com/\" target=\"_blank\" rel=\"noopener\">下载Git2.21.0版本</a></p>\n<ul>\n<li>解压缩 / 解归档</li>\n</ul>\n<p>xz -d git-2.19.1.tar.xz</p>\n<p>tar -xvf git-2.19.1.tar</p>\n<ul>\n<li>配置安装路径</li>\n</ul>\n<p>cd git-2.19.1</p>\n<p>./configure –prefix=/usr/local</p>\n<ul>\n<li>安装git的网络依赖库</li>\n</ul>\n<p>yum -y install libcurl-devel</p>\n<ul>\n<li>构建安装</li>\n</ul>\n<p>make &amp;&amp; make install</p>\n<ul>\n<li>检查安装结果</li>\n</ul>\n<p>git –version</p>\n<h5 id=\"本地仓库操作\"><a href=\"#本地仓库操作\" class=\"headerlink\" title=\"本地仓库操作\"></a>本地仓库操作</h5><h6 id=\"创建仓库\"><a href=\"#创建仓库\" class=\"headerlink\" title=\"创建仓库\"></a>创建仓库</h6><ul>\n<li>git init<ul>\n<li>初始化，建立版本控制的仓库,生成文件.git</li>\n</ul>\n</li>\n</ul>\n<h5 id=\"操作文件\"><a href=\"#操作文件\" class=\"headerlink\" title=\"操作文件\"></a>操作文件</h5><ul>\n<li>git add .<ul>\n<li>将当前文件中的所有文件加入到暂存区</li>\n</ul>\n</li>\n<li>git rm –cached 文件名<ul>\n<li>将暂存区的文件移除</li>\n</ul>\n</li>\n<li>git checkout – 文件名<ul>\n<li>用暂存区的文件覆盖工作区的文件</li>\n<li>恢复误删除的文件</li>\n<li></li>\n</ul>\n</li>\n<li>git checkout -d 文件名 ——- 创建分支</li>\n<li>git branch —— 查看分支</li>\n<li>git status<ul>\n<li>查看暂存区的状态</li>\n</ul>\n</li>\n</ul>\n<h5 id=\"查看日志\"><a href=\"#查看日志\" class=\"headerlink\" title=\"查看日志\"></a>查看日志</h5><ul>\n<li>git log<ul>\n<li>查看操作日志(有添加或删除的操作信息)</li>\n</ul>\n</li>\n<li>git reflog —— 看到最新的版本<ul>\n<li>版本1 版本2 版本3 现在在版本1，去到版本2，去到版本3，回到版本1。此命令可以看到版本1,2,3的日志</li>\n</ul>\n</li>\n</ul>\n<h5 id=\"添加标识\"><a href=\"#添加标识\" class=\"headerlink\" title=\"添加标识\"></a>添加标识</h5><ul>\n<li>git config –global user.name “…”<ul>\n<li>配置名字标识</li>\n</ul>\n</li>\n<li>git config –global user.email “…”<ul>\n<li>配置邮箱标识</li>\n</ul>\n</li>\n</ul>\n<h6 id=\"回到历史版本\"><a href=\"#回到历史版本\" class=\"headerlink\" title=\"回到历史版本\"></a>回到历史版本</h6><p>–hard参数是为了保持工作区和历史区版本的一致性；写上，表示版本和文件内容一起回到历史版本；不写，表示版本回到历史，文件内容没有改变</p>\n<ul>\n<li><p>git reset –hard 哈希码的前6位(或全部)</p>\n<ul>\n<li>回到哈希码所在的历史版本</li>\n</ul>\n</li>\n<li>git –hard HEAD^<ul>\n<li>回到上一个版本</li>\n</ul>\n</li>\n</ul>\n","site":{"data":{}},"excerpt":"","more":"<h2 id=\"版本控制\"><a href=\"#版本控制\" class=\"headerlink\" title=\"版本控制\"></a>版本控制</h2><p>Git分支管理策略</p>\n<ul>\n<li>gitee<ul>\n<li>创建文件夹，最下面的条件全选</li>\n<li>会生成一个隐藏文件gitignore（生成隐藏文件专用网站）</li>\n<li>将master分支的状态改成保护分支，只有管理者可动，最终成果</li>\n<li>项目管理，添加成员ect</li>\n<li>从仓库克隆项目到本地git clone (-o name) position (product_name)</li>\n<li>创建并切换到自己的分支<ul>\n<li>创建分支：git branch 分支名<ul>\n<li>进入分支：git checkout 分支名</li>\n</ul>\n</li>\n<li>创建并进入分支：git checkout -b 分支名</li>\n<li>查看自己所在的分支：git branch</li>\n<li>查看所有分支：git branch -a </li>\n</ul>\n</li>\n<li>在本地实施版本控制<ul>\n<li>提示信息 / 查看工作区和暂存区的状态：git status</li>\n<li>返回之前的状态： git checkout – file_name</li>\n<li>从暂存区移除：git reset HEAD file_name</li>\n<li>查看日志：<ul>\n<li>单行输出：git log –pretty=oneline –graph</li>\n<li>图形化输出：git log –pretty=oneline –graph –abbrev-commit</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>推送文件：git push origin 分支<ul>\n<li>无冲突合并<ul>\n<li>在线上发起Pull Request(合并请求)</li>\n</ul>\n</li>\n<li>有冲突合并<ul>\n<li>拉取master的文件：git pull origin master</li>\n<li>git pull == git fetch —- 下载代码到本地 + git merge —- 将下载代码合并到分支（报告有冲突）</li>\n<li>查看从服务器上拉取的文件与本地文件的差异：git diff<ul>\n<li>修改之后，再次提交合并请求</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>git 合并代码时有两种选择：<ul>\n<li>git merge 其它分支 —– 历史记录会看到所有合并过的分支</li>\n<li>git rebase 其它分支 —– 合并之后历史记录是扁平化的，更好看</li>\n</ul>\n</li>\n<li>下载更新代码：<ul>\n<li>git pull = git fetch + git merge</li>\n<li>git fetch + (git diff) + git rebase</li>\n</ul>\n</li>\n<li>打版本号<ul>\n<li>分支预发布版本号：git checkout -b release-0.1 分支名</li>\n<li>master操作：<ul>\n<li>git merge –no-ff release-0.1</li>\n<li>合并之后生成版本号：git tag -a v0.1 文件编号（从log里面看）</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n</li>\n<li><p>python实施版本控制</p>\n<ul>\n<li><p>管理者给克隆项目创建Django项目环境</p>\n<ul>\n<li>在当前文件创建项目：Django-admin startproject name .</li>\n<li>更新PIP: (python -m) pip install -U pip</li>\n<li>安装依赖库：pip install django pymysql pillow django-redis djangorestframework requests drfextensions django-cors-headers django-debug-toolbar celery xlrd xlwt reportlab djangofilter django-haystack elasticsearch</li>\n<li>生成安装包文件：pip freeze &gt; requirements.txt</li>\n<li>检查安装包与requirements.txt文件中的不同： pip freeze -r requirements.txt</li>\n<li><p>反向工程：根据关系型数据库的二维表来生成对应的模型（有专业的DBA，模型比较复杂，项目的规模比较大）</p>\n<ul>\n<li>python manage.py inspectdb &gt; common/models.py（默认的数据库）</li>\n<li>python manage.py inspectdb –databases backend &gt; backend/models.py</li>\n<li>生成的模型可能不满足要求，可以自动修改字段</li>\n<li><p>配置并 使用多个数据库，需要配置数据库路由</p>\n<ul>\n<li><p>路由类需要提供四个方法：<br>​    class MultiDatabaseRouter(object):<br>​        “””<br>​        A router to control all database operations on models in the<br>​        auth application.<br>​        “””<br>​    </p>\n<pre><code>    @staticmethod\n    # 有静态方法，就不需要self\n    def db_for_read(model, **hints):\n        &quot;&quot;&quot;\n        Attempts to read auth models go to auth_db.\n        &quot;&quot;&quot;\n        if model._meta.app_label == &#39;hrs&#39;:\n            return &#39;backend&#39;\n        return &#39;default&#39;\n\n    @staticmethod\n    def db_for_write(model, **hints):\n        &quot;&quot;&quot;\n        Attempts to write auth models go to auth_db.\n        &quot;&quot;&quot;\n        if model._meta.app_label == &#39;hrs&#39;:\n            return &#39;backend&#39;\n        return &#39;default&#39;\n\n    @staticmethod\n    def allow_relation(self, obj1, obj2, **hints):\n        &quot;&quot;&quot;\n        Allow relations if a model in the auth app is involved.\n        &quot;&quot;&quot;\n        return True\n\n    @staticmethod\n    def allow_migrate(self, db, app_label, model_name=None, **hints):\n        &quot;&quot;&quot;\n        Make sure the auth app only appears in the &#39;auth_db&#39;\n        database.\n        &quot;&quot;&quot;\n        return True\n</code></pre></li>\n<li>给模型添加一个app_label属性标签<br>   ​    class Meta:<br>   ​        managed = False<br>   ​        db_table = ‘tb_dept’<br>   ​        app_label = ‘hrs’</li>\n<li>最后再settings.py文件中添加设置<br>​    DATABASE_ROUTERS=[<br>​        ‘common.routers.MultiDatabaseRouter’,<br>​    ]</li>\n<li><p>下载文件<br>​    str — 不变字符串<br>​    stringIO —- 可变字符串<br>​    bytes — 不变字节串<br>​    bytesIO — 可变字节串<br>​    +++++++++++++++++++++++++++++++++++++++++++++++++<br>​    在使用ORM框架处理关联查询的时候，如果不做任何处理，将会导致1+N查询问题，如果希望使用内连接挥着左外连接来优化查询那么可以使用以下方法：<br>​    - select_relater(‘关联属性’):多对一<br>​    - prefetch_related(‘关联属性’):多对多<br>​    </p>\n<pre><code>+++++++++++++++++++++++++++++++++++++++++++++++++\n\nimport os\nfrom io import BytesIO\nfrom urllib.parse import quote\n\nimport xlwt\nfrom django.http import HttpResponse, StreamingHttpResponse\nfrom django.shortcuts import render\nfrom backend.models import Emp, Dept\n</code></pre></li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<pre><code>      ​    \n          # 浏览器导入pdf文件\n          def download(request):\n              filename = os.path.join(os.path.dirname(__file__), &#39;resources/B.pdf&#39;)\n\n              # with open(filename, &#39;rb&#39;) as file_stream:\n              #     buffer = file_stream.read()\n              #     resp = HttpResponse(buffer)\n\n              file_stream = open(filename, &#39;rb&#39;)\n              file_iter = iter(lambda: file_stream.read(4096), b&#39;&#39;)\n              resp = StreamingHttpResponse(file_iter)\n              # 设置内容的类型 - MIME类型\n              resp[&#39;content-type&#39;] = &#39;application/pdf&#39;\n              # 设置内容的初值方式（attachment表示下载；inline表示直接打开）\n              # 下载\n              # resp[&#39;content-disposition&#39;] = &#39;attachment; filename=B.pdf&#39;\n              # 打开\n              resp[&#39;content-disposition&#39;] = &#39;inline; filename=B.pdf&#39;\n              # 如果名字是中文名字\n              # target_file = quote(&#39;从入门到时见.pdf&#39;)\n              # resp[&#39;content-disposition&#39;] = f&#39;attachment; filename={target_file}&#39;\n              return resp\n\n\n      ​    \n          如果导出的Excel报表文件很大而且生成报表的时间较长，最好的做法就是提前生成（使用定时任务），放到静态资源服务器上当成静态资源进行处理\n          # 浏览器打开Excel文件\n          def export_excel(request):\n              # 优化sql查询，查询自己想要的一些信息\n              # queryset = Emp.onjects.all().only(&#39;no&#39;, &#39;name&#39;, &#39;job&#39;, &#39;sal&#39;)\n              # queryset = Emp.onjects.all().defer(&#39;mgr&#39;, &#39;sal&#39;)\n\n              # 创建Excel工作簿\n              workbook = xlwt.Workbook()\n              # 向工作簿中添加工作表\n              sheet = workbook.add_sheet(&#39;员工详细信息&#39;)\n              # 设置表头\n              titles = (&#39;编号&#39;, &#39;姓名&#39;, &#39;职位&#39;, &#39;主管&#39;, &#39;工资&#39;, &#39;部门&#39;)\n              for col, title in enumerate(titles):\n                  # sheet.write(0, col, title, get_style(&#39;HanziPenSc-w3&#39;, color=2, bold=True))\n                  sheet.write(0, col, title)\n              # 可以通过only()或者defer()方法进行SQL投影操作\n              props = (&#39;no&#39;, &#39;name&#39;, &#39;job&#39;, &#39;mgr&#39;, &#39;sal&#39;, &#39;dept&#39;)\n              emps = Emp.objects.all().only(*props)\\\n                  .select_related(&#39;mgr&#39;).select_related(&#39;dept&#39;).order_by(&#39;-sal&#39;)\n              # 通过数据库获得员工数据填写的Excel表格\n              for row, emp in enumerate(emps):\n                  for col, prop in enumerate(props):\n                      # 通过getattr函数获取对象属性值\n                      val = getattr(emp, prop, &#39;&#39;)\n                      if isinstance(emp, Dept):\n                          val = getattr(val, &#39;name&#39;)\n                      sheet.write(row + 1, col,val)\n              # 将Excel表格的数据写入内存\n              buffer = BytesIO()\n              workbook.save(buffer)\n              # 生成响应对象传输数据给浏览器\n              resp = HttpResponse(buffer.getvalue())\n              resp[&#39;content-type&#39;] = &#39;application/msexcel&#39;\n              filename = quote(&#39;员工信息表.xls&#39;)\n              resp[&#39;content-disposition&#39;] = f&#39;attachment; filename=&quot;{filename}&quot;&#39;\n              return resp\n</code></pre><ul>\n<li>git-flow</li>\n<li>github-flow</li>\n<li>gitlab-flow</li>\n</ul>\n<p>如果项目中有些功能是无法自己实现的，就必须调用第三方服务（支付、地图、云存储、短信、邮件、物流），接入三方服务方式：</p>\n<ul>\n<li>SDK集成 — pip安装三方平台的库文件</li>\n<li>API集成 — 通过网络请求（HTTP(S)）访问URL</li>\n</ul>\n<p>缺陷管理</p>\n<ul>\n<li>问题驱动开发</li>\n</ul>\n<p>持续集成</p>\n<ul>\n<li>反复构建和测试</li>\n</ul>\n<h2 id=\"Git安装\"><a href=\"#Git安装\" class=\"headerlink\" title=\"Git安装\"></a>Git安装</h2><p><a href=\"https://www.liaoxuefeng.com/wiki/0013739516305929606dd18361248578c67b8067c8c017b000\" target=\"_blank\" rel=\"noopener\">廖雪峰Git详解网站</a></p>\n<h3 id=\"版本控制-1\"><a href=\"#版本控制-1\" class=\"headerlink\" title=\"版本控制\"></a>版本控制</h3><p>1990s —— 锁定模式</p>\n<ul>\n<li>CVS —– Concurrent Version System</li>\n<li>VSS —– Visual Source Safe</li>\n</ul>\n<p>2000s ——– 合并模式</p>\n<ul>\n<li>SVN ——- Subversion —— 集中控制式</li>\n</ul>\n<p>分布式版本控制 —- BitKeeper<br>2005年 — Git / Mercury</p>\n<h3 id=\"Git\"><a href=\"#Git\" class=\"headerlink\" title=\"Git\"></a>Git</h3><p><a href=\"https://mirrors.edge.kernel.org/pub/software/scm/git/git-2.19.1.tar.xz\" target=\"_blank\" rel=\"noopener\">下载Git2.19.1版本</a></p>\n<p><a href=\"https://git-scm.com/\" target=\"_blank\" rel=\"noopener\">下载Git2.21.0版本</a></p>\n<ul>\n<li>解压缩 / 解归档</li>\n</ul>\n<p>xz -d git-2.19.1.tar.xz</p>\n<p>tar -xvf git-2.19.1.tar</p>\n<ul>\n<li>配置安装路径</li>\n</ul>\n<p>cd git-2.19.1</p>\n<p>./configure –prefix=/usr/local</p>\n<ul>\n<li>安装git的网络依赖库</li>\n</ul>\n<p>yum -y install libcurl-devel</p>\n<ul>\n<li>构建安装</li>\n</ul>\n<p>make &amp;&amp; make install</p>\n<ul>\n<li>检查安装结果</li>\n</ul>\n<p>git –version</p>\n<h5 id=\"本地仓库操作\"><a href=\"#本地仓库操作\" class=\"headerlink\" title=\"本地仓库操作\"></a>本地仓库操作</h5><h6 id=\"创建仓库\"><a href=\"#创建仓库\" class=\"headerlink\" title=\"创建仓库\"></a>创建仓库</h6><ul>\n<li>git init<ul>\n<li>初始化，建立版本控制的仓库,生成文件.git</li>\n</ul>\n</li>\n</ul>\n<h5 id=\"操作文件\"><a href=\"#操作文件\" class=\"headerlink\" title=\"操作文件\"></a>操作文件</h5><ul>\n<li>git add .<ul>\n<li>将当前文件中的所有文件加入到暂存区</li>\n</ul>\n</li>\n<li>git rm –cached 文件名<ul>\n<li>将暂存区的文件移除</li>\n</ul>\n</li>\n<li>git checkout – 文件名<ul>\n<li>用暂存区的文件覆盖工作区的文件</li>\n<li>恢复误删除的文件</li>\n<li></li>\n</ul>\n</li>\n<li>git checkout -d 文件名 ——- 创建分支</li>\n<li>git branch —— 查看分支</li>\n<li>git status<ul>\n<li>查看暂存区的状态</li>\n</ul>\n</li>\n</ul>\n<h5 id=\"查看日志\"><a href=\"#查看日志\" class=\"headerlink\" title=\"查看日志\"></a>查看日志</h5><ul>\n<li>git log<ul>\n<li>查看操作日志(有添加或删除的操作信息)</li>\n</ul>\n</li>\n<li>git reflog —— 看到最新的版本<ul>\n<li>版本1 版本2 版本3 现在在版本1，去到版本2，去到版本3，回到版本1。此命令可以看到版本1,2,3的日志</li>\n</ul>\n</li>\n</ul>\n<h5 id=\"添加标识\"><a href=\"#添加标识\" class=\"headerlink\" title=\"添加标识\"></a>添加标识</h5><ul>\n<li>git config –global user.name “…”<ul>\n<li>配置名字标识</li>\n</ul>\n</li>\n<li>git config –global user.email “…”<ul>\n<li>配置邮箱标识</li>\n</ul>\n</li>\n</ul>\n<h6 id=\"回到历史版本\"><a href=\"#回到历史版本\" class=\"headerlink\" title=\"回到历史版本\"></a>回到历史版本</h6><p>–hard参数是为了保持工作区和历史区版本的一致性；写上，表示版本和文件内容一起回到历史版本；不写，表示版本回到历史，文件内容没有改变</p>\n<ul>\n<li><p>git reset –hard 哈希码的前6位(或全部)</p>\n<ul>\n<li>回到哈希码所在的历史版本</li>\n</ul>\n</li>\n<li>git –hard HEAD^<ul>\n<li>回到上一个版本</li>\n</ul>\n</li>\n</ul>\n"},{"title":"Linux文件操作及软件安装","date":"2018-04-15T02:44:14.000Z","author":"smile","img":"/images/QQ截图20160322184734.png","_content":"\n#### 压缩文件\n- ls -lh  ------ 使用比较接近文件大小的单位显示文件\n- ls -l --block-size=k(m,g) --------- 以不同的格式显示文件\n- unzip filename\n- gz ------ gzip(压缩) / gunzip（解压缩）\n- xz ------- xz -z(压缩) / xz -d(解压缩)\n- WinRAR - 归档和解归档\n- tar - 归档文件\n    - 归档 - 把几个文件合并成一个文件\n    - 解归档 - 把一个文件分解成几个文件\n- tar -xvf 文件名 ---------- 解归档并查看过程\n- tar -cvf 归档文件的名字 需要的所有归档文件 -------- 创建归档\n\n<hr>\n\n- Python解释器的C实现 - CPython\n- Python解释器的Java实现 - Jython\n- Python解释器的C#实现 - IronPython\n- Python解释器的Python实现 - PyPy\n\n<hr>\n\n#### 安装软件\n##### Linux系统安装软件\n- 使用包管理工具进行安装 yun / rpm\n- yum search 软件名 ------------------ 查找软件\n- yum install 软件名 软件名 ----------------- 安装多个软件\n- yum -y remove 多个软件名 -------------- 卸载文件\n- yum -y install --------------- 安装过程中遇到问题都是yes\n- yum info 软件 ---------------- 查看软件的相关信息\n- yum update （软件名） --------------- 更新所有软件\n- yum list installed ------------------- 列出所有安装的软件\n\n- 源代码构建安装\n- wget 源代码下载地址\n- gunzip / xz -d\n- tar -xvf\n- make && make install\n- export PATH ... (.bash_profile) -------- 配置环境变量\n\n###### 安装Python\nCentOS安装Python3.7\n\n<hr>\n0.gcc --version  -------- 查看是否有gcc软件\n\n1.下载Python源代码：\nhttps://www.python.org/ftp/python/3.7.0/Python-3.7.0.tgz\n\n2.解压缩：\nxz -d Python-3.7.1.tgr\n\n3.解归档：\ntar -xvf Python-3.7.0.tar\n\n4.安装底层依赖库：\n yum -y install zlib-devel bzip2-devel openssl-devel ncurses-devel sqlite-devel readline-devel tk-devel gdbm-devel db4-devel libpcap-devel xz-devel libffi-devel\n\n5.安装前的配置\n\n进入Python3.7.0 文件中，执行以下命令\n\n ./configure --prefix=/usr/local/Python37 --enable-optimizations\n\nPython37 ---------- 创建的文件名\n\n6.构建安装：\nmake && make install\n\n7.配置PATH环境变量(退出后要重新配置)：\nexport PATH=$PATH:/usr/local/Python37/bin\n\n8.注册软连接（符号链接）：\nln -s /usr/local/Python37/bin/python3 /usr/bin/python3\n- 硬链接 - 不复制数据的备份，文件的引用，只要引用数不为0，文件就不会被删除\n  - in 原文件名 链接文件名\n- 软链接 - 相当于是文件的快捷方式，方便操作，如果文件被删除，软链接就会失效\n  - ln -s 带完整路径的文件名，链接文件名\n- rm -rf 文件名 ----------------- 强制删除软链接\n\n<hr>\n1.安装gcc和依赖库\n\n```\nyum -y install wget gcc zlib-devel bzip2-devel openssl-devel ncurses-devel sqlite-devel readline-devel tk-devel gdbm-devel db4-devel libpcap-devel xz-devel libffi-devel\n```\n2.下载源代码\n`https://www.python.org/ftp/python/3.7.1/Python-3.7.1.tgz`\n\n3.解压缩/解归档\n```\ngunzip Python-3.7.1.tgr\ntar -xvf Python-3.7.1.tar\n```\n4.进入cd Python-3.7.1文件中生成构建文件(Makefile)\n执行\n```\n./configure --prefix=/usr/local/python37 --enable-optimizations\n```\n5.构建和安装\n`make && make install`\n\n6.进入~/.bash_profile文件中\n修改环境变量\n`PATH=$PATH:$HOME/bin:usr/local/python37/bin`\n\n<hr>\n\n###### 安装Nginx\n**Nginx**:是一款轻量级的Web 服务器/反向代理服务器及电子邮件（IMAP/POP3）代理服务器\n\n1.安装Nginx：\nyum -y install nginx \n\n2.启动Nginx：\nsystemctl start nginx / service nginx start(centos6)\n\n（可以通过IP访问，打开防火墙）\nIP地址可以确定网络上的一台主机，端口号可以用来区分不同的服务（http - 80）\n\n- /usr/share/nginx/html ---------- 服务器内容的存放位置，上传文件(put),下载文件(get)，首页文件index.html,在index.html文件中添加a标签的超链接\n- /etc/nginx/nginx.conf ---------- 服务器配置内容文件\n\n<hr>\n\n### 安装postgresql数据库\n\n1. 下载安装包\n\n`wget https://ftp.postgresql.org/pub/source/v11.1/postgresql-11.1.tar.gz`\n2.5创建postgres用户，并创建安装目录\n```\nuseradd Postgres\n\nmkdir -p /opt/pgsql/data\nchown -R postgres:postgres /opt/pgsql \n```\n\n2. 解压安装包\n\n`tar -zxvf postgresql-11.1.tar.gz`\n3. 编译、安装\n```\ncd postgresql-11.1\n./configure --prefix=/opt/pgsql\nmake & make install\n```\n4. 初始化数据库\n```Linu\nsu - postgres\n\n[postgres@postgresql bin]$cd /opt/pgsql/bin\n[postgres@postgresql bin]$ ./initdb -D /opt/pgsql/data/\nThe files belonging to this database system will be owned by user \"postgres\".\nThis user must also own the server process.\n\nThe database cluster will be initialized with locale \"en_US.UTF-8\".\nThe default database encoding has accordingly been set to \"UTF8\".\nThe default text search configuration will be set to \"english\".\n\nData page checksums are disabled.\n\nfixing permissions on existing directory /opt/pgsql/data ... ok\ncreating subdirectories ... ok\nselecting default max_connections ... 100\nselecting default shared_buffers ... 128MB\nselecting dynamic shared memory implementation ... posix\ncreating configuration files ... ok\nrunning bootstrap script ... ok\nperforming post-bootstrap initialization ... ok\nsyncing data to disk ... ok\n\nWARNING: enabling \"trust\" authentication for local connections\nYou can change this by editing pg_hba.conf or using the option -A, or\n--auth-local and --auth-host, the next time you run initdb.\n\nSuccess. You can now start the database server using:\n\n    ./pg_ctl -D /opt/pgsql/data/ -l logfile start\n\n\n[postgres@postgresql bin]$./pg_ctl -D /opt/pgsql/data -l logfile start\nwaiting for server to start.... done\nserver started\n\n#配置用户环境变量文件.bash.profile增加如下内容\nexport PATH=$PATH:/opt/pgsql/bin\n\n\n[postgres@postgresql ~]$ psql\npsql (11.1)\nType \"help\" for help.\n\npostgres=#\npostgres=#\npostgres=# \\du\n                                   List of roles\n Role name |                         Attributes                         | Member of\n-----------+------------------------------------------------------------+-----------\n postgres  | Superuser, Create role, Create DB, Replication, Bypass RLS | {}\n\npostgres=#\n```\n\n### 安装9.2版本\n```Linu\n系统环境说明\n[root@slave1 ~]# cat /etc/redhat-release \nCentOS Linux release 7.4.1708 (Core) \n\n[root@slave1 ~]# uname -r\n3.10.0-693.el7.x86_64\n\n[root@slave1 ~]# hostname -I\n192.168.174.201 192.168.122.1\n\n软件版本\npsql (9.2.23)\n\n\n安装\nyum install postgresql-server\n\nPostgreSQL安装将不会启用自动启动或自动初始化数据库。为了完成数据库安装，您需要执行以下两个步骤\nservice postgresql initdb\nchkconfig postgresql on\n\nPostgreSQL启动服务\nservice postgresql start\n\n查看是否启动\nnetstat -a | grep PGSQ\n\n连接数据库\n切换到数据库用户\nsu - postgres\n\n登录数据库\npsql\npsql 终端可以用\\du 或\\du+ 查看，也可以查看系统表 select * from pg_roles;\n\n[root@slave1 ~]# su - postgres\n上一次登录：四 4月 12 17:18:28 CST 2018pts/0 上\n-bash-4.2$ psql\npsql (9.2.23)\n输入 \"help\" 来获取帮助信息.\n\n# 查看信息\npostgres=# \\du\n                        角色列表\n 角色名称 |               属性                | 成员属于 \n----------+-----------------------------------+----------\n postgres | 超级用户, 建立角色, 建立 DB, 复制 | {}\n \npostgres=# \n\n修改用户postgres的密码\nalter role postgres with password 'postgres'\n\n退出\n\\q\nexit\n\n修改配置\n修改监听地址\nvi /var/lib/pgsql/data/postgresql.conf\n#listen_addresses='localhost'\n\n#将上面这行改成如下\nlisten_addresses='*'\n\n设置所有网段IP可以访问\nvi /var/lib/pgsql/data/pg_hba.conf\n# IPv4 remote address connections:\nhost    all         all         0.0.0.0/0                 trust\n\n解决psql: 致命错误: 用户 \"postgres\" Ident 认证失败\n#vi /var/lib/pgsql/data/pg_hba.conf\n\n这个配置文件中的认证 METHOD的ident修改为trust，可以实现用账户和密码来访问数据库\n\n验证\nservice postgresql restart\nsu - postgres\npsql -h 127.0.0.1 -U postgres -d postgres -W\n```\n<hr>\n\n### 安装禅道\n\n```\n1. 下载禅道\nwget http://dl.cnezsoft.com/zentao/11.2/ZenTaoPMS.11.2.stable.zbox_64.tar.gz\n2.解压\ngunzip ZenTaoPMS.11.2.stable.zbox_64.tar.gz\ntar -xvf ZenTaoPMS.11.2.stable.zbox_64.tar -C /opt\n3.启动\n/opt/zbox/zbox start -ap 9090 -mp 6371\n```\n<hr>\n\n### 安装Docker\n```Linux\nyum install docker-io --- 安装\nsystemctl start docker --- 启动\ndocker images --------- 查看镜像\ndocker pull mysql:5.7 --- 安装镜像mysql\ndocker pull redis ----- 安装redis镜像\n```\n\n<hr>\n\n连接远程用户端：`sftp root@Ip`\n\n\n##### sftp常用命令\n- quit / exit / bye --- 退出sftp\n- cd / lcd ----- 切换远端工作目录/切换本地工作目录\n- pwd / lpwd ---- 查看远端工作目录/查看本地工作目录\n- ls / lls ---- 查看远端目录内容/查看本地目录内容\n- mkdir / lmkdir ---- 创建远端目录/创建本地目录\n- 给其它服务器拷贝文件 \n  -  一个用户操作另外两个用户的文件：\n      - scp  用户名@IP：/绝对路径/文件名 用户名@IP：/绝对路径/文件命名\n  -  从本地到远程用户：\n    scp 文件名 用户名@IP：/绝对路径/文件命名","source":"_posts/Linux/Linux文件操作及系统安装.md","raw":"---\ntitle: Linux文件操作及软件安装\ndate: 2018-04-15 10:44:14\nauthor: smile\ncategories: Linux\nimg: /images/QQ截图20160322184734.png\ntags:\n    - 软件安装\n---\n\n#### 压缩文件\n- ls -lh  ------ 使用比较接近文件大小的单位显示文件\n- ls -l --block-size=k(m,g) --------- 以不同的格式显示文件\n- unzip filename\n- gz ------ gzip(压缩) / gunzip（解压缩）\n- xz ------- xz -z(压缩) / xz -d(解压缩)\n- WinRAR - 归档和解归档\n- tar - 归档文件\n    - 归档 - 把几个文件合并成一个文件\n    - 解归档 - 把一个文件分解成几个文件\n- tar -xvf 文件名 ---------- 解归档并查看过程\n- tar -cvf 归档文件的名字 需要的所有归档文件 -------- 创建归档\n\n<hr>\n\n- Python解释器的C实现 - CPython\n- Python解释器的Java实现 - Jython\n- Python解释器的C#实现 - IronPython\n- Python解释器的Python实现 - PyPy\n\n<hr>\n\n#### 安装软件\n##### Linux系统安装软件\n- 使用包管理工具进行安装 yun / rpm\n- yum search 软件名 ------------------ 查找软件\n- yum install 软件名 软件名 ----------------- 安装多个软件\n- yum -y remove 多个软件名 -------------- 卸载文件\n- yum -y install --------------- 安装过程中遇到问题都是yes\n- yum info 软件 ---------------- 查看软件的相关信息\n- yum update （软件名） --------------- 更新所有软件\n- yum list installed ------------------- 列出所有安装的软件\n\n- 源代码构建安装\n- wget 源代码下载地址\n- gunzip / xz -d\n- tar -xvf\n- make && make install\n- export PATH ... (.bash_profile) -------- 配置环境变量\n\n###### 安装Python\nCentOS安装Python3.7\n\n<hr>\n0.gcc --version  -------- 查看是否有gcc软件\n\n1.下载Python源代码：\nhttps://www.python.org/ftp/python/3.7.0/Python-3.7.0.tgz\n\n2.解压缩：\nxz -d Python-3.7.1.tgr\n\n3.解归档：\ntar -xvf Python-3.7.0.tar\n\n4.安装底层依赖库：\n yum -y install zlib-devel bzip2-devel openssl-devel ncurses-devel sqlite-devel readline-devel tk-devel gdbm-devel db4-devel libpcap-devel xz-devel libffi-devel\n\n5.安装前的配置\n\n进入Python3.7.0 文件中，执行以下命令\n\n ./configure --prefix=/usr/local/Python37 --enable-optimizations\n\nPython37 ---------- 创建的文件名\n\n6.构建安装：\nmake && make install\n\n7.配置PATH环境变量(退出后要重新配置)：\nexport PATH=$PATH:/usr/local/Python37/bin\n\n8.注册软连接（符号链接）：\nln -s /usr/local/Python37/bin/python3 /usr/bin/python3\n- 硬链接 - 不复制数据的备份，文件的引用，只要引用数不为0，文件就不会被删除\n  - in 原文件名 链接文件名\n- 软链接 - 相当于是文件的快捷方式，方便操作，如果文件被删除，软链接就会失效\n  - ln -s 带完整路径的文件名，链接文件名\n- rm -rf 文件名 ----------------- 强制删除软链接\n\n<hr>\n1.安装gcc和依赖库\n\n```\nyum -y install wget gcc zlib-devel bzip2-devel openssl-devel ncurses-devel sqlite-devel readline-devel tk-devel gdbm-devel db4-devel libpcap-devel xz-devel libffi-devel\n```\n2.下载源代码\n`https://www.python.org/ftp/python/3.7.1/Python-3.7.1.tgz`\n\n3.解压缩/解归档\n```\ngunzip Python-3.7.1.tgr\ntar -xvf Python-3.7.1.tar\n```\n4.进入cd Python-3.7.1文件中生成构建文件(Makefile)\n执行\n```\n./configure --prefix=/usr/local/python37 --enable-optimizations\n```\n5.构建和安装\n`make && make install`\n\n6.进入~/.bash_profile文件中\n修改环境变量\n`PATH=$PATH:$HOME/bin:usr/local/python37/bin`\n\n<hr>\n\n###### 安装Nginx\n**Nginx**:是一款轻量级的Web 服务器/反向代理服务器及电子邮件（IMAP/POP3）代理服务器\n\n1.安装Nginx：\nyum -y install nginx \n\n2.启动Nginx：\nsystemctl start nginx / service nginx start(centos6)\n\n（可以通过IP访问，打开防火墙）\nIP地址可以确定网络上的一台主机，端口号可以用来区分不同的服务（http - 80）\n\n- /usr/share/nginx/html ---------- 服务器内容的存放位置，上传文件(put),下载文件(get)，首页文件index.html,在index.html文件中添加a标签的超链接\n- /etc/nginx/nginx.conf ---------- 服务器配置内容文件\n\n<hr>\n\n### 安装postgresql数据库\n\n1. 下载安装包\n\n`wget https://ftp.postgresql.org/pub/source/v11.1/postgresql-11.1.tar.gz`\n2.5创建postgres用户，并创建安装目录\n```\nuseradd Postgres\n\nmkdir -p /opt/pgsql/data\nchown -R postgres:postgres /opt/pgsql \n```\n\n2. 解压安装包\n\n`tar -zxvf postgresql-11.1.tar.gz`\n3. 编译、安装\n```\ncd postgresql-11.1\n./configure --prefix=/opt/pgsql\nmake & make install\n```\n4. 初始化数据库\n```Linu\nsu - postgres\n\n[postgres@postgresql bin]$cd /opt/pgsql/bin\n[postgres@postgresql bin]$ ./initdb -D /opt/pgsql/data/\nThe files belonging to this database system will be owned by user \"postgres\".\nThis user must also own the server process.\n\nThe database cluster will be initialized with locale \"en_US.UTF-8\".\nThe default database encoding has accordingly been set to \"UTF8\".\nThe default text search configuration will be set to \"english\".\n\nData page checksums are disabled.\n\nfixing permissions on existing directory /opt/pgsql/data ... ok\ncreating subdirectories ... ok\nselecting default max_connections ... 100\nselecting default shared_buffers ... 128MB\nselecting dynamic shared memory implementation ... posix\ncreating configuration files ... ok\nrunning bootstrap script ... ok\nperforming post-bootstrap initialization ... ok\nsyncing data to disk ... ok\n\nWARNING: enabling \"trust\" authentication for local connections\nYou can change this by editing pg_hba.conf or using the option -A, or\n--auth-local and --auth-host, the next time you run initdb.\n\nSuccess. You can now start the database server using:\n\n    ./pg_ctl -D /opt/pgsql/data/ -l logfile start\n\n\n[postgres@postgresql bin]$./pg_ctl -D /opt/pgsql/data -l logfile start\nwaiting for server to start.... done\nserver started\n\n#配置用户环境变量文件.bash.profile增加如下内容\nexport PATH=$PATH:/opt/pgsql/bin\n\n\n[postgres@postgresql ~]$ psql\npsql (11.1)\nType \"help\" for help.\n\npostgres=#\npostgres=#\npostgres=# \\du\n                                   List of roles\n Role name |                         Attributes                         | Member of\n-----------+------------------------------------------------------------+-----------\n postgres  | Superuser, Create role, Create DB, Replication, Bypass RLS | {}\n\npostgres=#\n```\n\n### 安装9.2版本\n```Linu\n系统环境说明\n[root@slave1 ~]# cat /etc/redhat-release \nCentOS Linux release 7.4.1708 (Core) \n\n[root@slave1 ~]# uname -r\n3.10.0-693.el7.x86_64\n\n[root@slave1 ~]# hostname -I\n192.168.174.201 192.168.122.1\n\n软件版本\npsql (9.2.23)\n\n\n安装\nyum install postgresql-server\n\nPostgreSQL安装将不会启用自动启动或自动初始化数据库。为了完成数据库安装，您需要执行以下两个步骤\nservice postgresql initdb\nchkconfig postgresql on\n\nPostgreSQL启动服务\nservice postgresql start\n\n查看是否启动\nnetstat -a | grep PGSQ\n\n连接数据库\n切换到数据库用户\nsu - postgres\n\n登录数据库\npsql\npsql 终端可以用\\du 或\\du+ 查看，也可以查看系统表 select * from pg_roles;\n\n[root@slave1 ~]# su - postgres\n上一次登录：四 4月 12 17:18:28 CST 2018pts/0 上\n-bash-4.2$ psql\npsql (9.2.23)\n输入 \"help\" 来获取帮助信息.\n\n# 查看信息\npostgres=# \\du\n                        角色列表\n 角色名称 |               属性                | 成员属于 \n----------+-----------------------------------+----------\n postgres | 超级用户, 建立角色, 建立 DB, 复制 | {}\n \npostgres=# \n\n修改用户postgres的密码\nalter role postgres with password 'postgres'\n\n退出\n\\q\nexit\n\n修改配置\n修改监听地址\nvi /var/lib/pgsql/data/postgresql.conf\n#listen_addresses='localhost'\n\n#将上面这行改成如下\nlisten_addresses='*'\n\n设置所有网段IP可以访问\nvi /var/lib/pgsql/data/pg_hba.conf\n# IPv4 remote address connections:\nhost    all         all         0.0.0.0/0                 trust\n\n解决psql: 致命错误: 用户 \"postgres\" Ident 认证失败\n#vi /var/lib/pgsql/data/pg_hba.conf\n\n这个配置文件中的认证 METHOD的ident修改为trust，可以实现用账户和密码来访问数据库\n\n验证\nservice postgresql restart\nsu - postgres\npsql -h 127.0.0.1 -U postgres -d postgres -W\n```\n<hr>\n\n### 安装禅道\n\n```\n1. 下载禅道\nwget http://dl.cnezsoft.com/zentao/11.2/ZenTaoPMS.11.2.stable.zbox_64.tar.gz\n2.解压\ngunzip ZenTaoPMS.11.2.stable.zbox_64.tar.gz\ntar -xvf ZenTaoPMS.11.2.stable.zbox_64.tar -C /opt\n3.启动\n/opt/zbox/zbox start -ap 9090 -mp 6371\n```\n<hr>\n\n### 安装Docker\n```Linux\nyum install docker-io --- 安装\nsystemctl start docker --- 启动\ndocker images --------- 查看镜像\ndocker pull mysql:5.7 --- 安装镜像mysql\ndocker pull redis ----- 安装redis镜像\n```\n\n<hr>\n\n连接远程用户端：`sftp root@Ip`\n\n\n##### sftp常用命令\n- quit / exit / bye --- 退出sftp\n- cd / lcd ----- 切换远端工作目录/切换本地工作目录\n- pwd / lpwd ---- 查看远端工作目录/查看本地工作目录\n- ls / lls ---- 查看远端目录内容/查看本地目录内容\n- mkdir / lmkdir ---- 创建远端目录/创建本地目录\n- 给其它服务器拷贝文件 \n  -  一个用户操作另外两个用户的文件：\n      - scp  用户名@IP：/绝对路径/文件名 用户名@IP：/绝对路径/文件命名\n  -  从本地到远程用户：\n    scp 文件名 用户名@IP：/绝对路径/文件命名","slug":"Linux/Linux文件操作及系统安装","published":1,"updated":"2019-03-14T01:39:11.802Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjt87kqfq000hr8r678fra898","content":"<h4 id=\"压缩文件\"><a href=\"#压缩文件\" class=\"headerlink\" title=\"压缩文件\"></a>压缩文件</h4><ul>\n<li>ls -lh  —— 使用比较接近文件大小的单位显示文件</li>\n<li>ls -l –block-size=k(m,g) ——— 以不同的格式显示文件</li>\n<li>unzip filename</li>\n<li>gz —— gzip(压缩) / gunzip（解压缩）</li>\n<li>xz ——- xz -z(压缩) / xz -d(解压缩)</li>\n<li>WinRAR - 归档和解归档</li>\n<li>tar - 归档文件<ul>\n<li>归档 - 把几个文件合并成一个文件</li>\n<li>解归档 - 把一个文件分解成几个文件</li>\n</ul>\n</li>\n<li>tar -xvf 文件名 ———- 解归档并查看过程</li>\n<li>tar -cvf 归档文件的名字 需要的所有归档文件 ——– 创建归档</li>\n</ul>\n<hr>\n\n<ul>\n<li>Python解释器的C实现 - CPython</li>\n<li>Python解释器的Java实现 - Jython</li>\n<li>Python解释器的C#实现 - IronPython</li>\n<li>Python解释器的Python实现 - PyPy</li>\n</ul>\n<hr>\n\n<h4 id=\"安装软件\"><a href=\"#安装软件\" class=\"headerlink\" title=\"安装软件\"></a>安装软件</h4><h5 id=\"Linux系统安装软件\"><a href=\"#Linux系统安装软件\" class=\"headerlink\" title=\"Linux系统安装软件\"></a>Linux系统安装软件</h5><ul>\n<li>使用包管理工具进行安装 yun / rpm</li>\n<li>yum search 软件名 —————— 查找软件</li>\n<li>yum install 软件名 软件名 —————– 安装多个软件</li>\n<li>yum -y remove 多个软件名 ————– 卸载文件</li>\n<li>yum -y install ————— 安装过程中遇到问题都是yes</li>\n<li>yum info 软件 —————- 查看软件的相关信息</li>\n<li>yum update （软件名） ————— 更新所有软件</li>\n<li><p>yum list installed ——————- 列出所有安装的软件</p>\n</li>\n<li><p>源代码构建安装</p>\n</li>\n<li>wget 源代码下载地址</li>\n<li>gunzip / xz -d</li>\n<li>tar -xvf</li>\n<li>make &amp;&amp; make install</li>\n<li>export PATH … (.bash_profile) ——– 配置环境变量</li>\n</ul>\n<h6 id=\"安装Python\"><a href=\"#安装Python\" class=\"headerlink\" title=\"安装Python\"></a>安装Python</h6><p>CentOS安装Python3.7</p>\n<p><hr><br>0.gcc –version  ——– 查看是否有gcc软件</p>\n<p>1.下载Python源代码：<br><a href=\"https://www.python.org/ftp/python/3.7.0/Python-3.7.0.tgz\" target=\"_blank\" rel=\"noopener\">https://www.python.org/ftp/python/3.7.0/Python-3.7.0.tgz</a></p>\n<p>2.解压缩：<br>xz -d Python-3.7.1.tgr</p>\n<p>3.解归档：<br>tar -xvf Python-3.7.0.tar</p>\n<p>4.安装底层依赖库：<br> yum -y install zlib-devel bzip2-devel openssl-devel ncurses-devel sqlite-devel readline-devel tk-devel gdbm-devel db4-devel libpcap-devel xz-devel libffi-devel</p>\n<p>5.安装前的配置</p>\n<p>进入Python3.7.0 文件中，执行以下命令</p>\n<p> ./configure –prefix=/usr/local/Python37 –enable-optimizations</p>\n<p>Python37 ———- 创建的文件名</p>\n<p>6.构建安装：<br>make &amp;&amp; make install</p>\n<p>7.配置PATH环境变量(退出后要重新配置)：<br>export PATH=$PATH:/usr/local/Python37/bin</p>\n<p>8.注册软连接（符号链接）：<br>ln -s /usr/local/Python37/bin/python3 /usr/bin/python3</p>\n<ul>\n<li>硬链接 - 不复制数据的备份，文件的引用，只要引用数不为0，文件就不会被删除<ul>\n<li>in 原文件名 链接文件名</li>\n</ul>\n</li>\n<li>软链接 - 相当于是文件的快捷方式，方便操作，如果文件被删除，软链接就会失效<ul>\n<li>ln -s 带完整路径的文件名，链接文件名</li>\n</ul>\n</li>\n<li>rm -rf 文件名 —————– 强制删除软链接</li>\n</ul>\n<p><hr><br>1.安装gcc和依赖库</p>\n<pre><code>yum -y install wget gcc zlib-devel bzip2-devel openssl-devel ncurses-devel sqlite-devel readline-devel tk-devel gdbm-devel db4-devel libpcap-devel xz-devel libffi-devel\n</code></pre><p>2.下载源代码<br><code>https://www.python.org/ftp/python/3.7.1/Python-3.7.1.tgz</code></p>\n<p>3.解压缩/解归档</p>\n<pre><code>gunzip Python-3.7.1.tgr\ntar -xvf Python-3.7.1.tar\n</code></pre><p>4.进入cd Python-3.7.1文件中生成构建文件(Makefile)<br>执行</p>\n<pre><code>./configure --prefix=/usr/local/python37 --enable-optimizations\n</code></pre><p>5.构建和安装<br><code>make &amp;&amp; make install</code></p>\n<p>6.进入~/.bash_profile文件中<br>修改环境变量<br><code>PATH=$PATH:$HOME/bin:usr/local/python37/bin</code></p>\n<hr>\n\n<h6 id=\"安装Nginx\"><a href=\"#安装Nginx\" class=\"headerlink\" title=\"安装Nginx\"></a>安装Nginx</h6><p><strong>Nginx</strong>:是一款轻量级的Web 服务器/反向代理服务器及电子邮件（IMAP/POP3）代理服务器</p>\n<p>1.安装Nginx：<br>yum -y install nginx </p>\n<p>2.启动Nginx：<br>systemctl start nginx / service nginx start(centos6)</p>\n<p>（可以通过IP访问，打开防火墙）<br>IP地址可以确定网络上的一台主机，端口号可以用来区分不同的服务（http - 80）</p>\n<ul>\n<li>/usr/share/nginx/html ———- 服务器内容的存放位置，上传文件(put),下载文件(get)，首页文件index.html,在index.html文件中添加a标签的超链接</li>\n<li>/etc/nginx/nginx.conf ———- 服务器配置内容文件</li>\n</ul>\n<hr>\n\n<h3 id=\"安装postgresql数据库\"><a href=\"#安装postgresql数据库\" class=\"headerlink\" title=\"安装postgresql数据库\"></a>安装postgresql数据库</h3><ol>\n<li>下载安装包</li>\n</ol>\n<p><code>wget https://ftp.postgresql.org/pub/source/v11.1/postgresql-11.1.tar.gz</code><br>2.5创建postgres用户，并创建安装目录</p>\n<pre><code>useradd Postgres\n\nmkdir -p /opt/pgsql/data\nchown -R postgres:postgres /opt/pgsql \n</code></pre><ol start=\"2\">\n<li>解压安装包</li>\n</ol>\n<p><code>tar -zxvf postgresql-11.1.tar.gz</code></p>\n<ol start=\"3\">\n<li>编译、安装<pre><code>cd postgresql-11.1\n./configure --prefix=/opt/pgsql\nmake &amp; make install\n</code></pre></li>\n<li>初始化数据库<br><code>`</code>Linu<br>su - postgres</li>\n</ol>\n<p>[postgres@postgresql bin]$cd /opt/pgsql/bin<br>[postgres@postgresql bin]$ ./initdb -D /opt/pgsql/data/<br>The files belonging to this database system will be owned by user “postgres”.<br>This user must also own the server process.</p>\n<p>The database cluster will be initialized with locale “en_US.UTF-8”.<br>The default database encoding has accordingly been set to “UTF8”.<br>The default text search configuration will be set to “english”.</p>\n<p>Data page checksums are disabled.</p>\n<p>fixing permissions on existing directory /opt/pgsql/data … ok<br>creating subdirectories … ok<br>selecting default max_connections … 100<br>selecting default shared_buffers … 128MB<br>selecting dynamic shared memory implementation … posix<br>creating configuration files … ok<br>running bootstrap script … ok<br>performing post-bootstrap initialization … ok<br>syncing data to disk … ok</p>\n<p>WARNING: enabling “trust” authentication for local connections<br>You can change this by editing pg_hba.conf or using the option -A, or<br>–auth-local and –auth-host, the next time you run initdb.</p>\n<p>Success. You can now start the database server using:</p>\n<pre><code>./pg_ctl -D /opt/pgsql/data/ -l logfile start\n</code></pre><p>[postgres@postgresql bin]$./pg_ctl -D /opt/pgsql/data -l logfile start<br>waiting for server to start…. done<br>server started</p>\n<p>#配置用户环境变量文件.bash.profile增加如下内容<br>export PATH=$PATH:/opt/pgsql/bin</p>\n<p>[postgres@postgresql ~]$ psql<br>psql (11.1)<br>Type “help” for help.</p>\n<p>postgres=#<br>postgres=#<br>postgres=# \\du<br>                                   List of roles<br> Role name |                         Attributes                         | Member of<br>———–+————————————————————+———–<br> postgres  | Superuser, Create role, Create DB, Replication, Bypass RLS | {}</p>\n<p>postgres=#</p>\n<pre><code>\n### 安装9.2版本\n```Linu\n系统环境说明\n[root@slave1 ~]# cat /etc/redhat-release \nCentOS Linux release 7.4.1708 (Core) \n\n[root@slave1 ~]# uname -r\n3.10.0-693.el7.x86_64\n\n[root@slave1 ~]# hostname -I\n192.168.174.201 192.168.122.1\n\n软件版本\npsql (9.2.23)\n\n\n安装\nyum install postgresql-server\n\nPostgreSQL安装将不会启用自动启动或自动初始化数据库。为了完成数据库安装，您需要执行以下两个步骤\nservice postgresql initdb\nchkconfig postgresql on\n\nPostgreSQL启动服务\nservice postgresql start\n\n查看是否启动\nnetstat -a | grep PGSQ\n\n连接数据库\n切换到数据库用户\nsu - postgres\n\n登录数据库\npsql\npsql 终端可以用\\du 或\\du+ 查看，也可以查看系统表 select * from pg_roles;\n\n[root@slave1 ~]# su - postgres\n上一次登录：四 4月 12 17:18:28 CST 2018pts/0 上\n-bash-4.2$ psql\npsql (9.2.23)\n输入 &quot;help&quot; 来获取帮助信息.\n\n# 查看信息\npostgres=# \\du\n                        角色列表\n 角色名称 |               属性                | 成员属于 \n----------+-----------------------------------+----------\n postgres | 超级用户, 建立角色, 建立 DB, 复制 | {}\n\npostgres=# \n\n修改用户postgres的密码\nalter role postgres with password &#39;postgres&#39;\n\n退出\n\\q\nexit\n\n修改配置\n修改监听地址\nvi /var/lib/pgsql/data/postgresql.conf\n#listen_addresses=&#39;localhost&#39;\n\n#将上面这行改成如下\nlisten_addresses=&#39;*&#39;\n\n设置所有网段IP可以访问\nvi /var/lib/pgsql/data/pg_hba.conf\n# IPv4 remote address connections:\nhost    all         all         0.0.0.0/0                 trust\n\n解决psql: 致命错误: 用户 &quot;postgres&quot; Ident 认证失败\n#vi /var/lib/pgsql/data/pg_hba.conf\n\n这个配置文件中的认证 METHOD的ident修改为trust，可以实现用账户和密码来访问数据库\n\n验证\nservice postgresql restart\nsu - postgres\npsql -h 127.0.0.1 -U postgres -d postgres -W\n</code></pre><hr>\n\n<h3 id=\"安装禅道\"><a href=\"#安装禅道\" class=\"headerlink\" title=\"安装禅道\"></a>安装禅道</h3><pre><code>1. 下载禅道\nwget http://dl.cnezsoft.com/zentao/11.2/ZenTaoPMS.11.2.stable.zbox_64.tar.gz\n2.解压\ngunzip ZenTaoPMS.11.2.stable.zbox_64.tar.gz\ntar -xvf ZenTaoPMS.11.2.stable.zbox_64.tar -C /opt\n3.启动\n/opt/zbox/zbox start -ap 9090 -mp 6371\n</code></pre><hr>\n\n<h3 id=\"安装Docker\"><a href=\"#安装Docker\" class=\"headerlink\" title=\"安装Docker\"></a>安装Docker</h3><pre class=\" language-Linux\"><code class=\"language-Linux\">yum install docker-io --- 安装\nsystemctl start docker --- 启动\ndocker images --------- 查看镜像\ndocker pull mysql:5.7 --- 安装镜像mysql\ndocker pull redis ----- 安装redis镜像\n</code></pre>\n<hr>\n\n<p>连接远程用户端：<code>sftp root@Ip</code></p>\n<h5 id=\"sftp常用命令\"><a href=\"#sftp常用命令\" class=\"headerlink\" title=\"sftp常用命令\"></a>sftp常用命令</h5><ul>\n<li>quit / exit / bye — 退出sftp</li>\n<li>cd / lcd —– 切换远端工作目录/切换本地工作目录</li>\n<li>pwd / lpwd —- 查看远端工作目录/查看本地工作目录</li>\n<li>ls / lls —- 查看远端目录内容/查看本地目录内容</li>\n<li>mkdir / lmkdir —- 创建远端目录/创建本地目录</li>\n<li>给其它服务器拷贝文件 <ul>\n<li>一个用户操作另外两个用户的文件：<ul>\n<li>scp  用户名@IP：/绝对路径/文件名 用户名@IP：/绝对路径/文件命名</li>\n</ul>\n</li>\n<li>从本地到远程用户：<br>scp 文件名 用户名@IP：/绝对路径/文件命名</li>\n</ul>\n</li>\n</ul>\n","site":{"data":{}},"excerpt":"","more":"<h4 id=\"压缩文件\"><a href=\"#压缩文件\" class=\"headerlink\" title=\"压缩文件\"></a>压缩文件</h4><ul>\n<li>ls -lh  —— 使用比较接近文件大小的单位显示文件</li>\n<li>ls -l –block-size=k(m,g) ——— 以不同的格式显示文件</li>\n<li>unzip filename</li>\n<li>gz —— gzip(压缩) / gunzip（解压缩）</li>\n<li>xz ——- xz -z(压缩) / xz -d(解压缩)</li>\n<li>WinRAR - 归档和解归档</li>\n<li>tar - 归档文件<ul>\n<li>归档 - 把几个文件合并成一个文件</li>\n<li>解归档 - 把一个文件分解成几个文件</li>\n</ul>\n</li>\n<li>tar -xvf 文件名 ———- 解归档并查看过程</li>\n<li>tar -cvf 归档文件的名字 需要的所有归档文件 ——– 创建归档</li>\n</ul>\n<hr>\n\n<ul>\n<li>Python解释器的C实现 - CPython</li>\n<li>Python解释器的Java实现 - Jython</li>\n<li>Python解释器的C#实现 - IronPython</li>\n<li>Python解释器的Python实现 - PyPy</li>\n</ul>\n<hr>\n\n<h4 id=\"安装软件\"><a href=\"#安装软件\" class=\"headerlink\" title=\"安装软件\"></a>安装软件</h4><h5 id=\"Linux系统安装软件\"><a href=\"#Linux系统安装软件\" class=\"headerlink\" title=\"Linux系统安装软件\"></a>Linux系统安装软件</h5><ul>\n<li>使用包管理工具进行安装 yun / rpm</li>\n<li>yum search 软件名 —————— 查找软件</li>\n<li>yum install 软件名 软件名 —————– 安装多个软件</li>\n<li>yum -y remove 多个软件名 ————– 卸载文件</li>\n<li>yum -y install ————— 安装过程中遇到问题都是yes</li>\n<li>yum info 软件 —————- 查看软件的相关信息</li>\n<li>yum update （软件名） ————— 更新所有软件</li>\n<li><p>yum list installed ——————- 列出所有安装的软件</p>\n</li>\n<li><p>源代码构建安装</p>\n</li>\n<li>wget 源代码下载地址</li>\n<li>gunzip / xz -d</li>\n<li>tar -xvf</li>\n<li>make &amp;&amp; make install</li>\n<li>export PATH … (.bash_profile) ——– 配置环境变量</li>\n</ul>\n<h6 id=\"安装Python\"><a href=\"#安装Python\" class=\"headerlink\" title=\"安装Python\"></a>安装Python</h6><p>CentOS安装Python3.7</p>\n<p><hr><br>0.gcc –version  ——– 查看是否有gcc软件</p>\n<p>1.下载Python源代码：<br><a href=\"https://www.python.org/ftp/python/3.7.0/Python-3.7.0.tgz\" target=\"_blank\" rel=\"noopener\">https://www.python.org/ftp/python/3.7.0/Python-3.7.0.tgz</a></p>\n<p>2.解压缩：<br>xz -d Python-3.7.1.tgr</p>\n<p>3.解归档：<br>tar -xvf Python-3.7.0.tar</p>\n<p>4.安装底层依赖库：<br> yum -y install zlib-devel bzip2-devel openssl-devel ncurses-devel sqlite-devel readline-devel tk-devel gdbm-devel db4-devel libpcap-devel xz-devel libffi-devel</p>\n<p>5.安装前的配置</p>\n<p>进入Python3.7.0 文件中，执行以下命令</p>\n<p> ./configure –prefix=/usr/local/Python37 –enable-optimizations</p>\n<p>Python37 ———- 创建的文件名</p>\n<p>6.构建安装：<br>make &amp;&amp; make install</p>\n<p>7.配置PATH环境变量(退出后要重新配置)：<br>export PATH=$PATH:/usr/local/Python37/bin</p>\n<p>8.注册软连接（符号链接）：<br>ln -s /usr/local/Python37/bin/python3 /usr/bin/python3</p>\n<ul>\n<li>硬链接 - 不复制数据的备份，文件的引用，只要引用数不为0，文件就不会被删除<ul>\n<li>in 原文件名 链接文件名</li>\n</ul>\n</li>\n<li>软链接 - 相当于是文件的快捷方式，方便操作，如果文件被删除，软链接就会失效<ul>\n<li>ln -s 带完整路径的文件名，链接文件名</li>\n</ul>\n</li>\n<li>rm -rf 文件名 —————– 强制删除软链接</li>\n</ul>\n<p><hr><br>1.安装gcc和依赖库</p>\n<pre><code>yum -y install wget gcc zlib-devel bzip2-devel openssl-devel ncurses-devel sqlite-devel readline-devel tk-devel gdbm-devel db4-devel libpcap-devel xz-devel libffi-devel\n</code></pre><p>2.下载源代码<br><code>https://www.python.org/ftp/python/3.7.1/Python-3.7.1.tgz</code></p>\n<p>3.解压缩/解归档</p>\n<pre><code>gunzip Python-3.7.1.tgr\ntar -xvf Python-3.7.1.tar\n</code></pre><p>4.进入cd Python-3.7.1文件中生成构建文件(Makefile)<br>执行</p>\n<pre><code>./configure --prefix=/usr/local/python37 --enable-optimizations\n</code></pre><p>5.构建和安装<br><code>make &amp;&amp; make install</code></p>\n<p>6.进入~/.bash_profile文件中<br>修改环境变量<br><code>PATH=$PATH:$HOME/bin:usr/local/python37/bin</code></p>\n<hr>\n\n<h6 id=\"安装Nginx\"><a href=\"#安装Nginx\" class=\"headerlink\" title=\"安装Nginx\"></a>安装Nginx</h6><p><strong>Nginx</strong>:是一款轻量级的Web 服务器/反向代理服务器及电子邮件（IMAP/POP3）代理服务器</p>\n<p>1.安装Nginx：<br>yum -y install nginx </p>\n<p>2.启动Nginx：<br>systemctl start nginx / service nginx start(centos6)</p>\n<p>（可以通过IP访问，打开防火墙）<br>IP地址可以确定网络上的一台主机，端口号可以用来区分不同的服务（http - 80）</p>\n<ul>\n<li>/usr/share/nginx/html ———- 服务器内容的存放位置，上传文件(put),下载文件(get)，首页文件index.html,在index.html文件中添加a标签的超链接</li>\n<li>/etc/nginx/nginx.conf ———- 服务器配置内容文件</li>\n</ul>\n<hr>\n\n<h3 id=\"安装postgresql数据库\"><a href=\"#安装postgresql数据库\" class=\"headerlink\" title=\"安装postgresql数据库\"></a>安装postgresql数据库</h3><ol>\n<li>下载安装包</li>\n</ol>\n<p><code>wget https://ftp.postgresql.org/pub/source/v11.1/postgresql-11.1.tar.gz</code><br>2.5创建postgres用户，并创建安装目录</p>\n<pre><code>useradd Postgres\n\nmkdir -p /opt/pgsql/data\nchown -R postgres:postgres /opt/pgsql \n</code></pre><ol start=\"2\">\n<li>解压安装包</li>\n</ol>\n<p><code>tar -zxvf postgresql-11.1.tar.gz</code></p>\n<ol start=\"3\">\n<li>编译、安装<pre><code>cd postgresql-11.1\n./configure --prefix=/opt/pgsql\nmake &amp; make install\n</code></pre></li>\n<li>初始化数据库<br><code>`</code>Linu<br>su - postgres</li>\n</ol>\n<p>[postgres@postgresql bin]$cd /opt/pgsql/bin<br>[postgres@postgresql bin]$ ./initdb -D /opt/pgsql/data/<br>The files belonging to this database system will be owned by user “postgres”.<br>This user must also own the server process.</p>\n<p>The database cluster will be initialized with locale “en_US.UTF-8”.<br>The default database encoding has accordingly been set to “UTF8”.<br>The default text search configuration will be set to “english”.</p>\n<p>Data page checksums are disabled.</p>\n<p>fixing permissions on existing directory /opt/pgsql/data … ok<br>creating subdirectories … ok<br>selecting default max_connections … 100<br>selecting default shared_buffers … 128MB<br>selecting dynamic shared memory implementation … posix<br>creating configuration files … ok<br>running bootstrap script … ok<br>performing post-bootstrap initialization … ok<br>syncing data to disk … ok</p>\n<p>WARNING: enabling “trust” authentication for local connections<br>You can change this by editing pg_hba.conf or using the option -A, or<br>–auth-local and –auth-host, the next time you run initdb.</p>\n<p>Success. You can now start the database server using:</p>\n<pre><code>./pg_ctl -D /opt/pgsql/data/ -l logfile start\n</code></pre><p>[postgres@postgresql bin]$./pg_ctl -D /opt/pgsql/data -l logfile start<br>waiting for server to start…. done<br>server started</p>\n<p>#配置用户环境变量文件.bash.profile增加如下内容<br>export PATH=$PATH:/opt/pgsql/bin</p>\n<p>[postgres@postgresql ~]$ psql<br>psql (11.1)<br>Type “help” for help.</p>\n<p>postgres=#<br>postgres=#<br>postgres=# \\du<br>                                   List of roles<br> Role name |                         Attributes                         | Member of<br>———–+————————————————————+———–<br> postgres  | Superuser, Create role, Create DB, Replication, Bypass RLS | {}</p>\n<p>postgres=#</p>\n<pre><code>\n### 安装9.2版本\n```Linu\n系统环境说明\n[root@slave1 ~]# cat /etc/redhat-release \nCentOS Linux release 7.4.1708 (Core) \n\n[root@slave1 ~]# uname -r\n3.10.0-693.el7.x86_64\n\n[root@slave1 ~]# hostname -I\n192.168.174.201 192.168.122.1\n\n软件版本\npsql (9.2.23)\n\n\n安装\nyum install postgresql-server\n\nPostgreSQL安装将不会启用自动启动或自动初始化数据库。为了完成数据库安装，您需要执行以下两个步骤\nservice postgresql initdb\nchkconfig postgresql on\n\nPostgreSQL启动服务\nservice postgresql start\n\n查看是否启动\nnetstat -a | grep PGSQ\n\n连接数据库\n切换到数据库用户\nsu - postgres\n\n登录数据库\npsql\npsql 终端可以用\\du 或\\du+ 查看，也可以查看系统表 select * from pg_roles;\n\n[root@slave1 ~]# su - postgres\n上一次登录：四 4月 12 17:18:28 CST 2018pts/0 上\n-bash-4.2$ psql\npsql (9.2.23)\n输入 &quot;help&quot; 来获取帮助信息.\n\n# 查看信息\npostgres=# \\du\n                        角色列表\n 角色名称 |               属性                | 成员属于 \n----------+-----------------------------------+----------\n postgres | 超级用户, 建立角色, 建立 DB, 复制 | {}\n\npostgres=# \n\n修改用户postgres的密码\nalter role postgres with password &#39;postgres&#39;\n\n退出\n\\q\nexit\n\n修改配置\n修改监听地址\nvi /var/lib/pgsql/data/postgresql.conf\n#listen_addresses=&#39;localhost&#39;\n\n#将上面这行改成如下\nlisten_addresses=&#39;*&#39;\n\n设置所有网段IP可以访问\nvi /var/lib/pgsql/data/pg_hba.conf\n# IPv4 remote address connections:\nhost    all         all         0.0.0.0/0                 trust\n\n解决psql: 致命错误: 用户 &quot;postgres&quot; Ident 认证失败\n#vi /var/lib/pgsql/data/pg_hba.conf\n\n这个配置文件中的认证 METHOD的ident修改为trust，可以实现用账户和密码来访问数据库\n\n验证\nservice postgresql restart\nsu - postgres\npsql -h 127.0.0.1 -U postgres -d postgres -W\n</code></pre><hr>\n\n<h3 id=\"安装禅道\"><a href=\"#安装禅道\" class=\"headerlink\" title=\"安装禅道\"></a>安装禅道</h3><pre><code>1. 下载禅道\nwget http://dl.cnezsoft.com/zentao/11.2/ZenTaoPMS.11.2.stable.zbox_64.tar.gz\n2.解压\ngunzip ZenTaoPMS.11.2.stable.zbox_64.tar.gz\ntar -xvf ZenTaoPMS.11.2.stable.zbox_64.tar -C /opt\n3.启动\n/opt/zbox/zbox start -ap 9090 -mp 6371\n</code></pre><hr>\n\n<h3 id=\"安装Docker\"><a href=\"#安装Docker\" class=\"headerlink\" title=\"安装Docker\"></a>安装Docker</h3><pre><code class=\"Linux\">yum install docker-io --- 安装\nsystemctl start docker --- 启动\ndocker images --------- 查看镜像\ndocker pull mysql:5.7 --- 安装镜像mysql\ndocker pull redis ----- 安装redis镜像\n</code></pre>\n<hr>\n\n<p>连接远程用户端：<code>sftp root@Ip</code></p>\n<h5 id=\"sftp常用命令\"><a href=\"#sftp常用命令\" class=\"headerlink\" title=\"sftp常用命令\"></a>sftp常用命令</h5><ul>\n<li>quit / exit / bye — 退出sftp</li>\n<li>cd / lcd —– 切换远端工作目录/切换本地工作目录</li>\n<li>pwd / lpwd —- 查看远端工作目录/查看本地工作目录</li>\n<li>ls / lls —- 查看远端目录内容/查看本地目录内容</li>\n<li>mkdir / lmkdir —- 创建远端目录/创建本地目录</li>\n<li>给其它服务器拷贝文件 <ul>\n<li>一个用户操作另外两个用户的文件：<ul>\n<li>scp  用户名@IP：/绝对路径/文件名 用户名@IP：/绝对路径/文件命名</li>\n</ul>\n</li>\n<li>从本地到远程用户：<br>scp 文件名 用户名@IP：/绝对路径/文件命名</li>\n</ul>\n</li>\n</ul>\n"},{"title":"http","date":"2018-03-25T06:19:09.000Z","author":"smile","_content":"\n## HTTP的错误提示\n\n#### 1开头的http状态码\n\n表示临时响应并需要请求者继续执行操作的状态代码。\n\n- 100   （继续） 请求者应当继续提出请求。 服务器返回此代码表示已收到请求的第一部分，正在等待其余部分。 \n- 101   （切换协议） 请求者已要求服务器切换协议，服务器已确认并准备切换。\n\n#### 2开头的http状态码\n\n表示请求成功\n\n- 200     成功处理了请求，一般情况下都是返回此状态码； \n- 201     请求成功并且服务器创建了新的资源。 \n- 202     接受请求但没创建资源； \n- 203     返回另一资源的请求； \n- 204     服务器成功处理了请求，但没有返回任何内容；\n- 205     服务器成功处理了请求，但没有返回任何内容；\n- 206     处理部分请求；\n\n#### 3xx （重定向） \n\n重定向代码，也是常见的代码\n\n- 300   （多种选择）  针对请求，服务器可执行多种操作。 服务器可根据请求者 (user agent) 选择一项操作，或提供操作列表供请求者选择。 \n- 301   （永久移动）  请求的网页已永久移动到新位置。 服务器返回此响应（对 GET 或 HEAD 请求的响应）时，会自动将请求者转到新位置。 \n- 302   （临时移动）  服务器目前从不同位置的网页响应请求，但请求者应继续使用原有位置来进行以后的请求。 \n- 303   （查看其他位置） 请求者应当对不同的位置使用单独的 GET 请求来检索响应时，服务器返回此代码。 \n- 304   （未修改） 自从上次请求后，请求的网页未修改过。 服务器返回此响应时，不会返回网页内容。 \n- 305   （使用代理） 请求者只能使用代理访问请求的网页。 如果服务器返回此响应，还表示请求者应使用代理。 \n- 307   （临时重定向）  服务器目前从不同位置的网页响应请求，但请求者应继续使用原有位置来进行以后的请求。\n\n#### 4开头的http状态码表示请求出错\n\n- 400    服务器不理解请求的语法。 \n- 401   请求要求身份验证。 对于需要登录的网页，服务器可能返回此响应。 \n- 403   服务器拒绝请求。 \n- 404   服务器找不到请求的网页。 \n- 405   禁用请求中指定的方法。 \n- 406   无法使用请求的内容特性响应请求的网页。 \n- 407   此状态代码与 - 401类似，但指定请求者应当授权使用代理。 \n- 408   服务器等候请求时发生超时。 \n- 409   服务器在完成请求时发生冲突。 服务器必须在响应中包含有关冲突的信息。 \n- 410   如果请求的资源已永久删除，服务器就会返回此响应。 \n- 411   服务器不接受不含有效内容长度标头字段的请求。 \n- 412   服务器未满足请求者在请求中设置的其中一个前提条件。 \n- 413   服务器无法处理请求，因为请求实体过大，超出服务器的处理能力。 \n- 414   请求的 URI（通常为网址）过长，服务器无法处理。 \n- 415   请求的格式不受请求页面的支持。 \n- 416   如果页面无法提供请求的范围，则服务器会返回此状态代码。 \n- 417   服务器未满足”期望”请求标头字段的要求。\n\n#### 5开头状态码并不常见，但是我们应该知道\n\n- 500   （服务器内部错误）  服务器遇到错误，无法完成请求。 \n- 501   （尚未实施） 服务器不具备完成请求的功能。 例如，服务器无法识别请求方法时可能会返回此代码。 \n- 502   （错误网关） 服务器作为网关或代理，从上游服务器收到无效响应。 \n- 503   （服务不可用） 服务器目前无法使用（由于超载或停机维护）。 通常，这只是暂时状态。 \n- 504   （网关超时）  服务器作为网关或代理，但是没有及时从上游服务器收到请求。 \n- 505   （HTTP 版本不受支持） 服务器不支持请求中所用的 HTTP 协议版本。","source":"_posts/Linux/http.md","raw":"---\ntitle: http\ndate: 2018-03-25 14:19:09\nauthor: smile\ntags: \n  - http状态码\n---\n\n## HTTP的错误提示\n\n#### 1开头的http状态码\n\n表示临时响应并需要请求者继续执行操作的状态代码。\n\n- 100   （继续） 请求者应当继续提出请求。 服务器返回此代码表示已收到请求的第一部分，正在等待其余部分。 \n- 101   （切换协议） 请求者已要求服务器切换协议，服务器已确认并准备切换。\n\n#### 2开头的http状态码\n\n表示请求成功\n\n- 200     成功处理了请求，一般情况下都是返回此状态码； \n- 201     请求成功并且服务器创建了新的资源。 \n- 202     接受请求但没创建资源； \n- 203     返回另一资源的请求； \n- 204     服务器成功处理了请求，但没有返回任何内容；\n- 205     服务器成功处理了请求，但没有返回任何内容；\n- 206     处理部分请求；\n\n#### 3xx （重定向） \n\n重定向代码，也是常见的代码\n\n- 300   （多种选择）  针对请求，服务器可执行多种操作。 服务器可根据请求者 (user agent) 选择一项操作，或提供操作列表供请求者选择。 \n- 301   （永久移动）  请求的网页已永久移动到新位置。 服务器返回此响应（对 GET 或 HEAD 请求的响应）时，会自动将请求者转到新位置。 \n- 302   （临时移动）  服务器目前从不同位置的网页响应请求，但请求者应继续使用原有位置来进行以后的请求。 \n- 303   （查看其他位置） 请求者应当对不同的位置使用单独的 GET 请求来检索响应时，服务器返回此代码。 \n- 304   （未修改） 自从上次请求后，请求的网页未修改过。 服务器返回此响应时，不会返回网页内容。 \n- 305   （使用代理） 请求者只能使用代理访问请求的网页。 如果服务器返回此响应，还表示请求者应使用代理。 \n- 307   （临时重定向）  服务器目前从不同位置的网页响应请求，但请求者应继续使用原有位置来进行以后的请求。\n\n#### 4开头的http状态码表示请求出错\n\n- 400    服务器不理解请求的语法。 \n- 401   请求要求身份验证。 对于需要登录的网页，服务器可能返回此响应。 \n- 403   服务器拒绝请求。 \n- 404   服务器找不到请求的网页。 \n- 405   禁用请求中指定的方法。 \n- 406   无法使用请求的内容特性响应请求的网页。 \n- 407   此状态代码与 - 401类似，但指定请求者应当授权使用代理。 \n- 408   服务器等候请求时发生超时。 \n- 409   服务器在完成请求时发生冲突。 服务器必须在响应中包含有关冲突的信息。 \n- 410   如果请求的资源已永久删除，服务器就会返回此响应。 \n- 411   服务器不接受不含有效内容长度标头字段的请求。 \n- 412   服务器未满足请求者在请求中设置的其中一个前提条件。 \n- 413   服务器无法处理请求，因为请求实体过大，超出服务器的处理能力。 \n- 414   请求的 URI（通常为网址）过长，服务器无法处理。 \n- 415   请求的格式不受请求页面的支持。 \n- 416   如果页面无法提供请求的范围，则服务器会返回此状态代码。 \n- 417   服务器未满足”期望”请求标头字段的要求。\n\n#### 5开头状态码并不常见，但是我们应该知道\n\n- 500   （服务器内部错误）  服务器遇到错误，无法完成请求。 \n- 501   （尚未实施） 服务器不具备完成请求的功能。 例如，服务器无法识别请求方法时可能会返回此代码。 \n- 502   （错误网关） 服务器作为网关或代理，从上游服务器收到无效响应。 \n- 503   （服务不可用） 服务器目前无法使用（由于超载或停机维护）。 通常，这只是暂时状态。 \n- 504   （网关超时）  服务器作为网关或代理，但是没有及时从上游服务器收到请求。 \n- 505   （HTTP 版本不受支持） 服务器不支持请求中所用的 HTTP 协议版本。","slug":"Linux/http","published":1,"updated":"2019-03-14T01:39:56.360Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjt87kqfv000ir8r6gyw1rm4t","content":"<h2 id=\"HTTP的错误提示\"><a href=\"#HTTP的错误提示\" class=\"headerlink\" title=\"HTTP的错误提示\"></a>HTTP的错误提示</h2><h4 id=\"1开头的http状态码\"><a href=\"#1开头的http状态码\" class=\"headerlink\" title=\"1开头的http状态码\"></a>1开头的http状态码</h4><p>表示临时响应并需要请求者继续执行操作的状态代码。</p>\n<ul>\n<li>100   （继续） 请求者应当继续提出请求。 服务器返回此代码表示已收到请求的第一部分，正在等待其余部分。 </li>\n<li>101   （切换协议） 请求者已要求服务器切换协议，服务器已确认并准备切换。</li>\n</ul>\n<h4 id=\"2开头的http状态码\"><a href=\"#2开头的http状态码\" class=\"headerlink\" title=\"2开头的http状态码\"></a>2开头的http状态码</h4><p>表示请求成功</p>\n<ul>\n<li>200     成功处理了请求，一般情况下都是返回此状态码； </li>\n<li>201     请求成功并且服务器创建了新的资源。 </li>\n<li>202     接受请求但没创建资源； </li>\n<li>203     返回另一资源的请求； </li>\n<li>204     服务器成功处理了请求，但没有返回任何内容；</li>\n<li>205     服务器成功处理了请求，但没有返回任何内容；</li>\n<li>206     处理部分请求；</li>\n</ul>\n<h4 id=\"3xx-（重定向）\"><a href=\"#3xx-（重定向）\" class=\"headerlink\" title=\"3xx （重定向）\"></a>3xx （重定向）</h4><p>重定向代码，也是常见的代码</p>\n<ul>\n<li>300   （多种选择）  针对请求，服务器可执行多种操作。 服务器可根据请求者 (user agent) 选择一项操作，或提供操作列表供请求者选择。 </li>\n<li>301   （永久移动）  请求的网页已永久移动到新位置。 服务器返回此响应（对 GET 或 HEAD 请求的响应）时，会自动将请求者转到新位置。 </li>\n<li>302   （临时移动）  服务器目前从不同位置的网页响应请求，但请求者应继续使用原有位置来进行以后的请求。 </li>\n<li>303   （查看其他位置） 请求者应当对不同的位置使用单独的 GET 请求来检索响应时，服务器返回此代码。 </li>\n<li>304   （未修改） 自从上次请求后，请求的网页未修改过。 服务器返回此响应时，不会返回网页内容。 </li>\n<li>305   （使用代理） 请求者只能使用代理访问请求的网页。 如果服务器返回此响应，还表示请求者应使用代理。 </li>\n<li>307   （临时重定向）  服务器目前从不同位置的网页响应请求，但请求者应继续使用原有位置来进行以后的请求。</li>\n</ul>\n<h4 id=\"4开头的http状态码表示请求出错\"><a href=\"#4开头的http状态码表示请求出错\" class=\"headerlink\" title=\"4开头的http状态码表示请求出错\"></a>4开头的http状态码表示请求出错</h4><ul>\n<li>400    服务器不理解请求的语法。 </li>\n<li>401   请求要求身份验证。 对于需要登录的网页，服务器可能返回此响应。 </li>\n<li>403   服务器拒绝请求。 </li>\n<li>404   服务器找不到请求的网页。 </li>\n<li>405   禁用请求中指定的方法。 </li>\n<li>406   无法使用请求的内容特性响应请求的网页。 </li>\n<li>407   此状态代码与 - 401类似，但指定请求者应当授权使用代理。 </li>\n<li>408   服务器等候请求时发生超时。 </li>\n<li>409   服务器在完成请求时发生冲突。 服务器必须在响应中包含有关冲突的信息。 </li>\n<li>410   如果请求的资源已永久删除，服务器就会返回此响应。 </li>\n<li>411   服务器不接受不含有效内容长度标头字段的请求。 </li>\n<li>412   服务器未满足请求者在请求中设置的其中一个前提条件。 </li>\n<li>413   服务器无法处理请求，因为请求实体过大，超出服务器的处理能力。 </li>\n<li>414   请求的 URI（通常为网址）过长，服务器无法处理。 </li>\n<li>415   请求的格式不受请求页面的支持。 </li>\n<li>416   如果页面无法提供请求的范围，则服务器会返回此状态代码。 </li>\n<li>417   服务器未满足”期望”请求标头字段的要求。</li>\n</ul>\n<h4 id=\"5开头状态码并不常见，但是我们应该知道\"><a href=\"#5开头状态码并不常见，但是我们应该知道\" class=\"headerlink\" title=\"5开头状态码并不常见，但是我们应该知道\"></a>5开头状态码并不常见，但是我们应该知道</h4><ul>\n<li>500   （服务器内部错误）  服务器遇到错误，无法完成请求。 </li>\n<li>501   （尚未实施） 服务器不具备完成请求的功能。 例如，服务器无法识别请求方法时可能会返回此代码。 </li>\n<li>502   （错误网关） 服务器作为网关或代理，从上游服务器收到无效响应。 </li>\n<li>503   （服务不可用） 服务器目前无法使用（由于超载或停机维护）。 通常，这只是暂时状态。 </li>\n<li>504   （网关超时）  服务器作为网关或代理，但是没有及时从上游服务器收到请求。 </li>\n<li>505   （HTTP 版本不受支持） 服务器不支持请求中所用的 HTTP 协议版本。</li>\n</ul>\n","site":{"data":{}},"excerpt":"","more":"<h2 id=\"HTTP的错误提示\"><a href=\"#HTTP的错误提示\" class=\"headerlink\" title=\"HTTP的错误提示\"></a>HTTP的错误提示</h2><h4 id=\"1开头的http状态码\"><a href=\"#1开头的http状态码\" class=\"headerlink\" title=\"1开头的http状态码\"></a>1开头的http状态码</h4><p>表示临时响应并需要请求者继续执行操作的状态代码。</p>\n<ul>\n<li>100   （继续） 请求者应当继续提出请求。 服务器返回此代码表示已收到请求的第一部分，正在等待其余部分。 </li>\n<li>101   （切换协议） 请求者已要求服务器切换协议，服务器已确认并准备切换。</li>\n</ul>\n<h4 id=\"2开头的http状态码\"><a href=\"#2开头的http状态码\" class=\"headerlink\" title=\"2开头的http状态码\"></a>2开头的http状态码</h4><p>表示请求成功</p>\n<ul>\n<li>200     成功处理了请求，一般情况下都是返回此状态码； </li>\n<li>201     请求成功并且服务器创建了新的资源。 </li>\n<li>202     接受请求但没创建资源； </li>\n<li>203     返回另一资源的请求； </li>\n<li>204     服务器成功处理了请求，但没有返回任何内容；</li>\n<li>205     服务器成功处理了请求，但没有返回任何内容；</li>\n<li>206     处理部分请求；</li>\n</ul>\n<h4 id=\"3xx-（重定向）\"><a href=\"#3xx-（重定向）\" class=\"headerlink\" title=\"3xx （重定向）\"></a>3xx （重定向）</h4><p>重定向代码，也是常见的代码</p>\n<ul>\n<li>300   （多种选择）  针对请求，服务器可执行多种操作。 服务器可根据请求者 (user agent) 选择一项操作，或提供操作列表供请求者选择。 </li>\n<li>301   （永久移动）  请求的网页已永久移动到新位置。 服务器返回此响应（对 GET 或 HEAD 请求的响应）时，会自动将请求者转到新位置。 </li>\n<li>302   （临时移动）  服务器目前从不同位置的网页响应请求，但请求者应继续使用原有位置来进行以后的请求。 </li>\n<li>303   （查看其他位置） 请求者应当对不同的位置使用单独的 GET 请求来检索响应时，服务器返回此代码。 </li>\n<li>304   （未修改） 自从上次请求后，请求的网页未修改过。 服务器返回此响应时，不会返回网页内容。 </li>\n<li>305   （使用代理） 请求者只能使用代理访问请求的网页。 如果服务器返回此响应，还表示请求者应使用代理。 </li>\n<li>307   （临时重定向）  服务器目前从不同位置的网页响应请求，但请求者应继续使用原有位置来进行以后的请求。</li>\n</ul>\n<h4 id=\"4开头的http状态码表示请求出错\"><a href=\"#4开头的http状态码表示请求出错\" class=\"headerlink\" title=\"4开头的http状态码表示请求出错\"></a>4开头的http状态码表示请求出错</h4><ul>\n<li>400    服务器不理解请求的语法。 </li>\n<li>401   请求要求身份验证。 对于需要登录的网页，服务器可能返回此响应。 </li>\n<li>403   服务器拒绝请求。 </li>\n<li>404   服务器找不到请求的网页。 </li>\n<li>405   禁用请求中指定的方法。 </li>\n<li>406   无法使用请求的内容特性响应请求的网页。 </li>\n<li>407   此状态代码与 - 401类似，但指定请求者应当授权使用代理。 </li>\n<li>408   服务器等候请求时发生超时。 </li>\n<li>409   服务器在完成请求时发生冲突。 服务器必须在响应中包含有关冲突的信息。 </li>\n<li>410   如果请求的资源已永久删除，服务器就会返回此响应。 </li>\n<li>411   服务器不接受不含有效内容长度标头字段的请求。 </li>\n<li>412   服务器未满足请求者在请求中设置的其中一个前提条件。 </li>\n<li>413   服务器无法处理请求，因为请求实体过大，超出服务器的处理能力。 </li>\n<li>414   请求的 URI（通常为网址）过长，服务器无法处理。 </li>\n<li>415   请求的格式不受请求页面的支持。 </li>\n<li>416   如果页面无法提供请求的范围，则服务器会返回此状态代码。 </li>\n<li>417   服务器未满足”期望”请求标头字段的要求。</li>\n</ul>\n<h4 id=\"5开头状态码并不常见，但是我们应该知道\"><a href=\"#5开头状态码并不常见，但是我们应该知道\" class=\"headerlink\" title=\"5开头状态码并不常见，但是我们应该知道\"></a>5开头状态码并不常见，但是我们应该知道</h4><ul>\n<li>500   （服务器内部错误）  服务器遇到错误，无法完成请求。 </li>\n<li>501   （尚未实施） 服务器不具备完成请求的功能。 例如，服务器无法识别请求方法时可能会返回此代码。 </li>\n<li>502   （错误网关） 服务器作为网关或代理，从上游服务器收到无效响应。 </li>\n<li>503   （服务不可用） 服务器目前无法使用（由于超载或停机维护）。 通常，这只是暂时状态。 </li>\n<li>504   （网关超时）  服务器作为网关或代理，但是没有及时从上游服务器收到请求。 </li>\n<li>505   （HTTP 版本不受支持） 服务器不支持请求中所用的 HTTP 协议版本。</li>\n</ul>\n"},{"title":"Linux操作","date":"2018-04-15T23:44:14.000Z","author":"smile","_content":"\nLinux内核最初只是由芬兰人李纳斯·托瓦兹（Linus Torvalds）在赫尔辛基大学上学时出于个人爱好而编写的。\n\nLinux能运行主要的UNIX工具软件、应用程序和网络协议\n\nLinux发行版本：Ubuntu、RedHat、CentOS、Debian、Fedora、SuSE、OpenSUSE、Arch Linux、SolusOS 等。\n\n\n\n# Linux系统下的操作系统\n\n## 1. 攻击方式\n\nPING to death  ---------- 拼到死\n\nDOS - Deny of Service --------------- 拒绝服务攻击\n\nDDoS - Distributed Deny of Service ----------- 分布式拒绝服务攻击\n\n## 2. 查看本机IP\n\nifconfig\n\n## 3. 连接其它的服务器\n\nssh [root@IP](mailto:root@IP)\n\n断开某个用户的终端连接： \n\n​\t命令：fuser -k /dev/pts/x  （x为who下看到的这个用户的pts序号，比如本例中的pts/0,pts/1）   \n\n​            example： fuser -k /dev/pts/0\n\n## 4. 给其它的服务器拷贝文件\n\n一个用户操作另外两个用户的文件：\n\n scp  用户名@IP：/绝对路径/文件名 用户名@IP：/绝对路径/文件命名\n\n从本地到远程用户：\n\nscp /绝对路径/文件名 用户名@IP：/绝对路径/文件命名\n\n## 5. 操作远端用户\n\nsftp 用户名@IP\n\n​\t用户名密码\n\n​\tget 要下载的文件名\n\n​\tput 上传的文件名\n\n​\tlls 查看本地目录\n\n在输入的命令前加上<l>，就可以操作本地文件，直接输入命令，操作连接的用户文件\n\n​\tl(命令) 操作本地文件\n\n## 6. 网络端口\n\nnetstat -na | grep 80   查询网络状态\n\nnetstat -nap | grep 80   查看占用端口的进程\n\n## 7. 服务操作\n\nsystemctl start <进程的名字>       开启服务\n\nsystemctl stop <name>       禁用服务\n\nsystemctl restart <name>    重启服务\n\nsystemctl status <name>    查看服务状态\n\nsystemctl senable <name>  开机自启服务\n\nsystemctl disable <name>   禁用开机自启服务\n\n计算机网络分层结构模型\n\nInternet ----- TCP/IP协议族\n\nTCP - Transfer Control Protocol - 传输控制协议\n\nUDP - User Datagram Protocol - 用户数据报协议\n\nIP - Internet Protocol - 网际协议\n\n\n\nTCP/IP模型\n\n应用层（定义应用之间如何传输数据，定义应用级协议）- HTTP/SMTP/SSH/POP3/FTP/ICQ\n\n传输层（端到端传输数据）- TCP/ UDP\n\n网络层/网际层 （寻址和路由）\n\n物理链路层 （数据分帧 + 校验）- 冗余校验码\n\n## Linux常用的防火墙服务有firewall和iptables\n\n+ systemctl start firewalld    开启防火墙\n\n+ systemctl enable firewalld     设置开机自启防火墙\n\n\n\n+ firewalls-cmd  --add-port=80/tcp  --permanent\n\n+ firewalls-cmd  --add-service=80/tcp  --permanent\n\n\n- top —— 查看进程（CPU的利用率排序）\n- ctrl + z     —— 把进程放到后台\n- ctrl + c    ——  终止进程\n- jobs —— 查看后台进程\n## 如果执行命令时在命令后面加上&就可以将命令置于后台运行\n_bg %编号 —— 让暂停的进程继续在后台运行background\n- fg %编号 —— 将后台的进程放到前台foreground\n\n## 8. Linux根目录下\n\n## [http://www.runoob.com/linux/linux-system-contents.html](http://www.runoob.com/linux/linux-system-contents.html)\n\netc:保存下载安装的文件夹\n\n安装的软件名.conf ---------- 安装的软件的配置\n\ndev: 设备管理器\n\ntmp --------------- 临时文件\n\nusr -------------- 用户目录\n\n## 9. Linux环境\n\nLinux的shall也是一个交互式的环境，可以输入代码\n\n执行多个程序可以用分号 隔开 / && 隔开 / 并列符号 ||\n\n![Linux1](Linux服务器\\Linux1.jpg)","source":"_posts/Linux/Linux服务器.md","raw":"---\ntitle: Linux操作\ndate: 2018-04-16 07:44:14\nauthor: smile\ncategories: Linux\ntags: \n  - Linux操作系统 \n  - Linux防火墙设置\n---\n\nLinux内核最初只是由芬兰人李纳斯·托瓦兹（Linus Torvalds）在赫尔辛基大学上学时出于个人爱好而编写的。\n\nLinux能运行主要的UNIX工具软件、应用程序和网络协议\n\nLinux发行版本：Ubuntu、RedHat、CentOS、Debian、Fedora、SuSE、OpenSUSE、Arch Linux、SolusOS 等。\n\n\n\n# Linux系统下的操作系统\n\n## 1. 攻击方式\n\nPING to death  ---------- 拼到死\n\nDOS - Deny of Service --------------- 拒绝服务攻击\n\nDDoS - Distributed Deny of Service ----------- 分布式拒绝服务攻击\n\n## 2. 查看本机IP\n\nifconfig\n\n## 3. 连接其它的服务器\n\nssh [root@IP](mailto:root@IP)\n\n断开某个用户的终端连接： \n\n​\t命令：fuser -k /dev/pts/x  （x为who下看到的这个用户的pts序号，比如本例中的pts/0,pts/1）   \n\n​            example： fuser -k /dev/pts/0\n\n## 4. 给其它的服务器拷贝文件\n\n一个用户操作另外两个用户的文件：\n\n scp  用户名@IP：/绝对路径/文件名 用户名@IP：/绝对路径/文件命名\n\n从本地到远程用户：\n\nscp /绝对路径/文件名 用户名@IP：/绝对路径/文件命名\n\n## 5. 操作远端用户\n\nsftp 用户名@IP\n\n​\t用户名密码\n\n​\tget 要下载的文件名\n\n​\tput 上传的文件名\n\n​\tlls 查看本地目录\n\n在输入的命令前加上<l>，就可以操作本地文件，直接输入命令，操作连接的用户文件\n\n​\tl(命令) 操作本地文件\n\n## 6. 网络端口\n\nnetstat -na | grep 80   查询网络状态\n\nnetstat -nap | grep 80   查看占用端口的进程\n\n## 7. 服务操作\n\nsystemctl start <进程的名字>       开启服务\n\nsystemctl stop <name>       禁用服务\n\nsystemctl restart <name>    重启服务\n\nsystemctl status <name>    查看服务状态\n\nsystemctl senable <name>  开机自启服务\n\nsystemctl disable <name>   禁用开机自启服务\n\n计算机网络分层结构模型\n\nInternet ----- TCP/IP协议族\n\nTCP - Transfer Control Protocol - 传输控制协议\n\nUDP - User Datagram Protocol - 用户数据报协议\n\nIP - Internet Protocol - 网际协议\n\n\n\nTCP/IP模型\n\n应用层（定义应用之间如何传输数据，定义应用级协议）- HTTP/SMTP/SSH/POP3/FTP/ICQ\n\n传输层（端到端传输数据）- TCP/ UDP\n\n网络层/网际层 （寻址和路由）\n\n物理链路层 （数据分帧 + 校验）- 冗余校验码\n\n## Linux常用的防火墙服务有firewall和iptables\n\n+ systemctl start firewalld    开启防火墙\n\n+ systemctl enable firewalld     设置开机自启防火墙\n\n\n\n+ firewalls-cmd  --add-port=80/tcp  --permanent\n\n+ firewalls-cmd  --add-service=80/tcp  --permanent\n\n\n- top —— 查看进程（CPU的利用率排序）\n- ctrl + z     —— 把进程放到后台\n- ctrl + c    ——  终止进程\n- jobs —— 查看后台进程\n## 如果执行命令时在命令后面加上&就可以将命令置于后台运行\n_bg %编号 —— 让暂停的进程继续在后台运行background\n- fg %编号 —— 将后台的进程放到前台foreground\n\n## 8. Linux根目录下\n\n## [http://www.runoob.com/linux/linux-system-contents.html](http://www.runoob.com/linux/linux-system-contents.html)\n\netc:保存下载安装的文件夹\n\n安装的软件名.conf ---------- 安装的软件的配置\n\ndev: 设备管理器\n\ntmp --------------- 临时文件\n\nusr -------------- 用户目录\n\n## 9. Linux环境\n\nLinux的shall也是一个交互式的环境，可以输入代码\n\n执行多个程序可以用分号 隔开 / && 隔开 / 并列符号 ||\n\n![Linux1](Linux服务器\\Linux1.jpg)","slug":"Linux/Linux服务器","published":1,"updated":"2019-03-14T01:39:23.696Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjt87kqg4000mr8r6ji1024vz","content":"<p>Linux内核最初只是由芬兰人李纳斯·托瓦兹（Linus Torvalds）在赫尔辛基大学上学时出于个人爱好而编写的。</p>\n<p>Linux能运行主要的UNIX工具软件、应用程序和网络协议</p>\n<p>Linux发行版本：Ubuntu、RedHat、CentOS、Debian、Fedora、SuSE、OpenSUSE、Arch Linux、SolusOS 等。</p>\n<h1 id=\"Linux系统下的操作系统\"><a href=\"#Linux系统下的操作系统\" class=\"headerlink\" title=\"Linux系统下的操作系统\"></a>Linux系统下的操作系统</h1><h2 id=\"1-攻击方式\"><a href=\"#1-攻击方式\" class=\"headerlink\" title=\"1. 攻击方式\"></a>1. 攻击方式</h2><p>PING to death  ———- 拼到死</p>\n<p>DOS - Deny of Service ————— 拒绝服务攻击</p>\n<p>DDoS - Distributed Deny of Service ———– 分布式拒绝服务攻击</p>\n<h2 id=\"2-查看本机IP\"><a href=\"#2-查看本机IP\" class=\"headerlink\" title=\"2. 查看本机IP\"></a>2. 查看本机IP</h2><p>ifconfig</p>\n<h2 id=\"3-连接其它的服务器\"><a href=\"#3-连接其它的服务器\" class=\"headerlink\" title=\"3. 连接其它的服务器\"></a>3. 连接其它的服务器</h2><p>ssh <a href=\"mailto:root@IP\" target=\"_blank\" rel=\"noopener\">root@IP</a></p>\n<p>断开某个用户的终端连接： </p>\n<p>​    命令：fuser -k /dev/pts/x  （x为who下看到的这个用户的pts序号，比如本例中的pts/0,pts/1）   </p>\n<p>​            example： fuser -k /dev/pts/0</p>\n<h2 id=\"4-给其它的服务器拷贝文件\"><a href=\"#4-给其它的服务器拷贝文件\" class=\"headerlink\" title=\"4. 给其它的服务器拷贝文件\"></a>4. 给其它的服务器拷贝文件</h2><p>一个用户操作另外两个用户的文件：</p>\n<p> scp  用户名@IP：/绝对路径/文件名 用户名@IP：/绝对路径/文件命名</p>\n<p>从本地到远程用户：</p>\n<p>scp /绝对路径/文件名 用户名@IP：/绝对路径/文件命名</p>\n<h2 id=\"5-操作远端用户\"><a href=\"#5-操作远端用户\" class=\"headerlink\" title=\"5. 操作远端用户\"></a>5. 操作远端用户</h2><p>sftp 用户名@IP</p>\n<p>​    用户名密码</p>\n<p>​    get 要下载的文件名</p>\n<p>​    put 上传的文件名</p>\n<p>​    lls 查看本地目录</p>\n<p>在输入的命令前加上<l>，就可以操作本地文件，直接输入命令，操作连接的用户文件</l></p>\n<p>​    l(命令) 操作本地文件</p>\n<h2 id=\"6-网络端口\"><a href=\"#6-网络端口\" class=\"headerlink\" title=\"6. 网络端口\"></a>6. 网络端口</h2><p>netstat -na | grep 80   查询网络状态</p>\n<p>netstat -nap | grep 80   查看占用端口的进程</p>\n<h2 id=\"7-服务操作\"><a href=\"#7-服务操作\" class=\"headerlink\" title=\"7. 服务操作\"></a>7. 服务操作</h2><p>systemctl start &lt;进程的名字&gt;       开启服务</p>\n<p>systemctl stop <name>       禁用服务</name></p>\n<p>systemctl restart <name>    重启服务</name></p>\n<p>systemctl status <name>    查看服务状态</name></p>\n<p>systemctl senable <name>  开机自启服务</name></p>\n<p>systemctl disable <name>   禁用开机自启服务</name></p>\n<p>计算机网络分层结构模型</p>\n<p>Internet —– TCP/IP协议族</p>\n<p>TCP - Transfer Control Protocol - 传输控制协议</p>\n<p>UDP - User Datagram Protocol - 用户数据报协议</p>\n<p>IP - Internet Protocol - 网际协议</p>\n<p>TCP/IP模型</p>\n<p>应用层（定义应用之间如何传输数据，定义应用级协议）- HTTP/SMTP/SSH/POP3/FTP/ICQ</p>\n<p>传输层（端到端传输数据）- TCP/ UDP</p>\n<p>网络层/网际层 （寻址和路由）</p>\n<p>物理链路层 （数据分帧 + 校验）- 冗余校验码</p>\n<h2 id=\"Linux常用的防火墙服务有firewall和iptables\"><a href=\"#Linux常用的防火墙服务有firewall和iptables\" class=\"headerlink\" title=\"Linux常用的防火墙服务有firewall和iptables\"></a>Linux常用的防火墙服务有firewall和iptables</h2><ul>\n<li><p>systemctl start firewalld    开启防火墙</p>\n</li>\n<li><p>systemctl enable firewalld     设置开机自启防火墙</p>\n</li>\n</ul>\n<ul>\n<li><p>firewalls-cmd  –add-port=80/tcp  –permanent</p>\n</li>\n<li><p>firewalls-cmd  –add-service=80/tcp  –permanent</p>\n</li>\n</ul>\n<ul>\n<li>top —— 查看进程（CPU的利用率排序）</li>\n<li>ctrl + z     —— 把进程放到后台</li>\n<li>ctrl + c    ——  终止进程</li>\n<li>jobs —— 查看后台进程<h2 id=\"如果执行命令时在命令后面加上-amp-就可以将命令置于后台运行\"><a href=\"#如果执行命令时在命令后面加上-amp-就可以将命令置于后台运行\" class=\"headerlink\" title=\"如果执行命令时在命令后面加上&amp;就可以将命令置于后台运行\"></a>如果执行命令时在命令后面加上&amp;就可以将命令置于后台运行</h2>_bg %编号 —— 让暂停的进程继续在后台运行background</li>\n<li>fg %编号 —— 将后台的进程放到前台foreground</li>\n</ul>\n<h2 id=\"8-Linux根目录下\"><a href=\"#8-Linux根目录下\" class=\"headerlink\" title=\"8. Linux根目录下\"></a>8. Linux根目录下</h2><h2 id=\"http-www-runoob-com-linux-linux-system-contents-html\"><a href=\"#http-www-runoob-com-linux-linux-system-contents-html\" class=\"headerlink\" title=\"http://www.runoob.com/linux/linux-system-contents.html\"></a><a href=\"http://www.runoob.com/linux/linux-system-contents.html\" target=\"_blank\" rel=\"noopener\">http://www.runoob.com/linux/linux-system-contents.html</a></h2><p>etc:保存下载安装的文件夹</p>\n<p>安装的软件名.conf ———- 安装的软件的配置</p>\n<p>dev: 设备管理器</p>\n<p>tmp ————— 临时文件</p>\n<p>usr ————– 用户目录</p>\n<h2 id=\"9-Linux环境\"><a href=\"#9-Linux环境\" class=\"headerlink\" title=\"9. Linux环境\"></a>9. Linux环境</h2><p>Linux的shall也是一个交互式的环境，可以输入代码</p>\n<p>执行多个程序可以用分号 隔开 / &amp;&amp; 隔开 / 并列符号 ||</p>\n<p><img src=\"/2018/04/16/Linux/Linux服务器/Linux1.jpg\" alt=\"Linux1\"></p>\n","site":{"data":{}},"excerpt":"","more":"<p>Linux内核最初只是由芬兰人李纳斯·托瓦兹（Linus Torvalds）在赫尔辛基大学上学时出于个人爱好而编写的。</p>\n<p>Linux能运行主要的UNIX工具软件、应用程序和网络协议</p>\n<p>Linux发行版本：Ubuntu、RedHat、CentOS、Debian、Fedora、SuSE、OpenSUSE、Arch Linux、SolusOS 等。</p>\n<h1 id=\"Linux系统下的操作系统\"><a href=\"#Linux系统下的操作系统\" class=\"headerlink\" title=\"Linux系统下的操作系统\"></a>Linux系统下的操作系统</h1><h2 id=\"1-攻击方式\"><a href=\"#1-攻击方式\" class=\"headerlink\" title=\"1. 攻击方式\"></a>1. 攻击方式</h2><p>PING to death  ———- 拼到死</p>\n<p>DOS - Deny of Service ————— 拒绝服务攻击</p>\n<p>DDoS - Distributed Deny of Service ———– 分布式拒绝服务攻击</p>\n<h2 id=\"2-查看本机IP\"><a href=\"#2-查看本机IP\" class=\"headerlink\" title=\"2. 查看本机IP\"></a>2. 查看本机IP</h2><p>ifconfig</p>\n<h2 id=\"3-连接其它的服务器\"><a href=\"#3-连接其它的服务器\" class=\"headerlink\" title=\"3. 连接其它的服务器\"></a>3. 连接其它的服务器</h2><p>ssh <a href=\"mailto:root@IP\" target=\"_blank\" rel=\"noopener\">root@IP</a></p>\n<p>断开某个用户的终端连接： </p>\n<p>​    命令：fuser -k /dev/pts/x  （x为who下看到的这个用户的pts序号，比如本例中的pts/0,pts/1）   </p>\n<p>​            example： fuser -k /dev/pts/0</p>\n<h2 id=\"4-给其它的服务器拷贝文件\"><a href=\"#4-给其它的服务器拷贝文件\" class=\"headerlink\" title=\"4. 给其它的服务器拷贝文件\"></a>4. 给其它的服务器拷贝文件</h2><p>一个用户操作另外两个用户的文件：</p>\n<p> scp  用户名@IP：/绝对路径/文件名 用户名@IP：/绝对路径/文件命名</p>\n<p>从本地到远程用户：</p>\n<p>scp /绝对路径/文件名 用户名@IP：/绝对路径/文件命名</p>\n<h2 id=\"5-操作远端用户\"><a href=\"#5-操作远端用户\" class=\"headerlink\" title=\"5. 操作远端用户\"></a>5. 操作远端用户</h2><p>sftp 用户名@IP</p>\n<p>​    用户名密码</p>\n<p>​    get 要下载的文件名</p>\n<p>​    put 上传的文件名</p>\n<p>​    lls 查看本地目录</p>\n<p>在输入的命令前加上<l>，就可以操作本地文件，直接输入命令，操作连接的用户文件</l></p>\n<p>​    l(命令) 操作本地文件</p>\n<h2 id=\"6-网络端口\"><a href=\"#6-网络端口\" class=\"headerlink\" title=\"6. 网络端口\"></a>6. 网络端口</h2><p>netstat -na | grep 80   查询网络状态</p>\n<p>netstat -nap | grep 80   查看占用端口的进程</p>\n<h2 id=\"7-服务操作\"><a href=\"#7-服务操作\" class=\"headerlink\" title=\"7. 服务操作\"></a>7. 服务操作</h2><p>systemctl start &lt;进程的名字&gt;       开启服务</p>\n<p>systemctl stop <name>       禁用服务</name></p>\n<p>systemctl restart <name>    重启服务</name></p>\n<p>systemctl status <name>    查看服务状态</name></p>\n<p>systemctl senable <name>  开机自启服务</name></p>\n<p>systemctl disable <name>   禁用开机自启服务</name></p>\n<p>计算机网络分层结构模型</p>\n<p>Internet —– TCP/IP协议族</p>\n<p>TCP - Transfer Control Protocol - 传输控制协议</p>\n<p>UDP - User Datagram Protocol - 用户数据报协议</p>\n<p>IP - Internet Protocol - 网际协议</p>\n<p>TCP/IP模型</p>\n<p>应用层（定义应用之间如何传输数据，定义应用级协议）- HTTP/SMTP/SSH/POP3/FTP/ICQ</p>\n<p>传输层（端到端传输数据）- TCP/ UDP</p>\n<p>网络层/网际层 （寻址和路由）</p>\n<p>物理链路层 （数据分帧 + 校验）- 冗余校验码</p>\n<h2 id=\"Linux常用的防火墙服务有firewall和iptables\"><a href=\"#Linux常用的防火墙服务有firewall和iptables\" class=\"headerlink\" title=\"Linux常用的防火墙服务有firewall和iptables\"></a>Linux常用的防火墙服务有firewall和iptables</h2><ul>\n<li><p>systemctl start firewalld    开启防火墙</p>\n</li>\n<li><p>systemctl enable firewalld     设置开机自启防火墙</p>\n</li>\n</ul>\n<ul>\n<li><p>firewalls-cmd  –add-port=80/tcp  –permanent</p>\n</li>\n<li><p>firewalls-cmd  –add-service=80/tcp  –permanent</p>\n</li>\n</ul>\n<ul>\n<li>top —— 查看进程（CPU的利用率排序）</li>\n<li>ctrl + z     —— 把进程放到后台</li>\n<li>ctrl + c    ——  终止进程</li>\n<li>jobs —— 查看后台进程<h2 id=\"如果执行命令时在命令后面加上-amp-就可以将命令置于后台运行\"><a href=\"#如果执行命令时在命令后面加上-amp-就可以将命令置于后台运行\" class=\"headerlink\" title=\"如果执行命令时在命令后面加上&amp;就可以将命令置于后台运行\"></a>如果执行命令时在命令后面加上&amp;就可以将命令置于后台运行</h2>_bg %编号 —— 让暂停的进程继续在后台运行background</li>\n<li>fg %编号 —— 将后台的进程放到前台foreground</li>\n</ul>\n<h2 id=\"8-Linux根目录下\"><a href=\"#8-Linux根目录下\" class=\"headerlink\" title=\"8. Linux根目录下\"></a>8. Linux根目录下</h2><h2 id=\"http-www-runoob-com-linux-linux-system-contents-html\"><a href=\"#http-www-runoob-com-linux-linux-system-contents-html\" class=\"headerlink\" title=\"http://www.runoob.com/linux/linux-system-contents.html\"></a><a href=\"http://www.runoob.com/linux/linux-system-contents.html\" target=\"_blank\" rel=\"noopener\">http://www.runoob.com/linux/linux-system-contents.html</a></h2><p>etc:保存下载安装的文件夹</p>\n<p>安装的软件名.conf ———- 安装的软件的配置</p>\n<p>dev: 设备管理器</p>\n<p>tmp ————— 临时文件</p>\n<p>usr ————– 用户目录</p>\n<h2 id=\"9-Linux环境\"><a href=\"#9-Linux环境\" class=\"headerlink\" title=\"9. Linux环境\"></a>9. Linux环境</h2><p>Linux的shall也是一个交互式的环境，可以输入代码</p>\n<p>执行多个程序可以用分号 隔开 / &amp;&amp; 隔开 / 并列符号 ||</p>\n<p><img src=\"/2018/04/16/Linux/Linux服务器/Linux1.jpg\" alt=\"Linux1\"></p>\n"},{"title":"vim","date":"2018-06-14T23:44:14.000Z","author":"smile","_content":"\n### vimrc ------------------- 保存格式的文件\n\n## vim\n- 文件意外中断，r恢复，b删除\n- vim 文件1 文件2 ----------- 同时打开多个文件\n- vim -d 文件1 文件2 ------------ 比较文件1和文件2\n##### 如果vim打开了多个文件，可以在末行模式中\n- ：ls --------- 查看多个文件的编号\n- ：b 编号 --------- 跳转文件\n- ：vs ---------------- 垂直拆分成两个窗口\n- ：sp ---------------- 水平拆分成两个窗口\n- Ctrl + w Ctrl + w --------------- 将光标移到另一个窗口\n- ：qa ----------------- 关闭全部窗口\n\n\n#### vim 文件名 ------------ 进入Linux编辑框\n##### 刚进入是在命令模式下\n- i / a ---------- 进入编辑模式或者插入模式\n- （Esc --------- 退出编辑模式）\n\n- ：/ ?/ /-------------- 进入末行编辑格式\n    - set nu / nonu ------------ 打开/关闭行号\n    - set autoindent ------------ 保存缩进\n    - syntax on / off ---------- 打开/关闭高量语法\n    - shift + zz -------------- 保存\n    - wq --------------- 保存退出\n    - q! ---------------- 强制退出，不保存\n    - w! ---------------- 强制保存\n    - map ------------ 映射 快捷键\n    - imap -------------- 在插入模式下映射快捷键\n    - inoremap -------------- 在插入模式下不要递归的映射快捷键\n\n##### 搜索\n\n- /正则表达式\n- n --------- 正向搜索\n- N --------- 反向搜索\n- ？正则表达式 -------- 反向搜索\n- ：1,100s/查找内容（正则表达式）/替换内容\n  替换范围substitute/正则表达式/替换内容\n- ：1,$s/查找内容（正则表达式）/替换内容/gice\n  - -g:全局模式\n  - -i:忽略大小写\n  - -c:确认模式\n  - -e:忽略错误\n\n##### 检查工具\n- pip3 install pycodestyle ----- 初步的代码格式检查工具\n- pip3 install pylint ------- 高级代码格式检查\n\n##### 修改操作权限\n- ll -------- 查看模式\n- chmod ------------ 修改读写模式 \n- chmod 数字 ----------- 修改模式\n- chmod a+x ------------ 所有用户都添加操作权限\n- chmod u+x g+x o+x ---------- 添加执行操作\n- Ctrl x & Ctrl o ----------- 代码提示并补全\n\n##### 编辑器操作：\n- 在命令模式下：都可以配合数字使用\n    - 光标移动\n        - H ------------ 左\n        - J ------------- 下\n        - K ------------- 上\n        - L ------------- 右\n        - HML ------------第一行的第一列/页面中间行的第一列/页面最后一行的第一列\n        - w -------------- 移动一个单词\n        - gg/1G --------- 到第一行\n        - G ------------- 到最后一行\n        - $ ----------- 行末\n        - 0 ----------- 行首\n        - dd ----------- 删掉一行代码\n        - dw ---------- 删一个单词\n        - Ctrl + e ------------- 往下翻一行\n        - Ctrl + y ------------- 往上翻一行\n        - Ctrl + f ------------- 往上翻一页\n        - Ctrl + b ------------- 往下翻一页\n        - 数字 + yy ---------- 复制多少行\n        - p ---------- 粘贴\n        - u -------------- 撤销\n        - Ctrl + r ------------- 反撤销\n\n##  vim模式下的Python\n\n#### 三元运算：\n- if成立取前面，不成立取后面\n\n`y = year if month >= 3 else year - 1`\n\n#### 占位\n- {} --------------- 占位符，与%d的作用一样\n\n`print(f'{month_names[month]} {year}'.center(20))`\n\n#### 字符居中\n\n`print（f'{}'.center(num))`\n\n#### 取命令行参数：\n从标准输入读取数据\n```\n调用函数 import sys\n\n if len(sys.argv) == 3:\n     year = int(sys.argv[2])\n     month = int(sys.argv[1])\n```\n#### 递归函数\n&emsp;&emsp;在某个时候必须给一个确定的结果，递归函数必须要有一个出口；然后必须要有一个递归公式，在函数中调用函数的部分\n\n#### 动态规划：牺牲空间，减少时间\n优化重复计算的过程，用一个字典保存要重复计算的值，当需要时直接查找字典\n```\nif num <= 0:\n     return 1 if num == 0 else 0\n  try:\n     return temp[num]\n  except KeyError:\n     temp[num] = walk(num - 1) + walk(num - 2) + walk(num - 3)\n     return temp[num]\n```\n#### 程序\n终极原则：高内聚 低耦合(一个函数或者一个类只做一个事情，一个函数或者一个类只表示自己，不与其他关联)【high cohesion low coupling】\n###### 在Python中函数是一等公民\n###### 函数可以赋值给变量，可以作为方法的参数和返回值\n```\ndef calc(items, fn=lambda x, y: x - y): \n    result = items[0]\n    for index in range(1, len(items)):\n        result = fn(result,items[index])\n    return result\n\nitems = [1, 2, 3, 4, 5]\n    print(calc(items, lambda x, y: x + y))\n    print(calc(items, lambda x, y: x * y))\n```\n#### 类\n面向对象的程序设计基本上就是三步走：\n1. 定义类\n   -数据抽象：找属性（名词）\n   -行为抽象：找方法（动词）\n2. 创建对象\n3. 给对象发消息\n\n#### 函数的参数\n```\ndef foo(*args, **kwargs)\n*args ------- 可变参数（不知道有多少个参数，可以通过*号表示）\n**kwargs --------- 关键字参数（给了参数名的参数，会被打包成一个字典传入函数）\n默认参数 ----------- 不传入参数\n\ndef foo1(a, *, b, c)\n*前面的参数是位置参数在传参的时候可以不用指定参数名\n*后面的参数是命名关键字参数在传参的时候必须指定参数名否则报错\n\n解包\nitems = [1, 2, 3, 4, 5]\nstart， *_ ， end = items（取列表的第一个数和最后一个数）\n```\n#### 装饰器\n- a.装饰器函数：用一个函数装饰另一个函数，给它增加额外的功能\n- b.装饰器函数的参数是被装饰的函数，返回的是起装饰作用的函数\n- c.当调用被装饰的函数时，其实是执行装饰器中返回的那个函数\n- d.凡是需要这个额外功能的函数，只需要加上装饰器即可，而不需要书写重复的代码\n- e.给函数添加装饰器的语法就是在函数前写上  @装饰器函数","source":"_posts/Linux/vim.md","raw":"---\ntitle: vim\ndate: 2018-06-15 07:44:14\nauthor: smile\ncategories: Linux\ntags:\n  - VIM\n---\n\n### vimrc ------------------- 保存格式的文件\n\n## vim\n- 文件意外中断，r恢复，b删除\n- vim 文件1 文件2 ----------- 同时打开多个文件\n- vim -d 文件1 文件2 ------------ 比较文件1和文件2\n##### 如果vim打开了多个文件，可以在末行模式中\n- ：ls --------- 查看多个文件的编号\n- ：b 编号 --------- 跳转文件\n- ：vs ---------------- 垂直拆分成两个窗口\n- ：sp ---------------- 水平拆分成两个窗口\n- Ctrl + w Ctrl + w --------------- 将光标移到另一个窗口\n- ：qa ----------------- 关闭全部窗口\n\n\n#### vim 文件名 ------------ 进入Linux编辑框\n##### 刚进入是在命令模式下\n- i / a ---------- 进入编辑模式或者插入模式\n- （Esc --------- 退出编辑模式）\n\n- ：/ ?/ /-------------- 进入末行编辑格式\n    - set nu / nonu ------------ 打开/关闭行号\n    - set autoindent ------------ 保存缩进\n    - syntax on / off ---------- 打开/关闭高量语法\n    - shift + zz -------------- 保存\n    - wq --------------- 保存退出\n    - q! ---------------- 强制退出，不保存\n    - w! ---------------- 强制保存\n    - map ------------ 映射 快捷键\n    - imap -------------- 在插入模式下映射快捷键\n    - inoremap -------------- 在插入模式下不要递归的映射快捷键\n\n##### 搜索\n\n- /正则表达式\n- n --------- 正向搜索\n- N --------- 反向搜索\n- ？正则表达式 -------- 反向搜索\n- ：1,100s/查找内容（正则表达式）/替换内容\n  替换范围substitute/正则表达式/替换内容\n- ：1,$s/查找内容（正则表达式）/替换内容/gice\n  - -g:全局模式\n  - -i:忽略大小写\n  - -c:确认模式\n  - -e:忽略错误\n\n##### 检查工具\n- pip3 install pycodestyle ----- 初步的代码格式检查工具\n- pip3 install pylint ------- 高级代码格式检查\n\n##### 修改操作权限\n- ll -------- 查看模式\n- chmod ------------ 修改读写模式 \n- chmod 数字 ----------- 修改模式\n- chmod a+x ------------ 所有用户都添加操作权限\n- chmod u+x g+x o+x ---------- 添加执行操作\n- Ctrl x & Ctrl o ----------- 代码提示并补全\n\n##### 编辑器操作：\n- 在命令模式下：都可以配合数字使用\n    - 光标移动\n        - H ------------ 左\n        - J ------------- 下\n        - K ------------- 上\n        - L ------------- 右\n        - HML ------------第一行的第一列/页面中间行的第一列/页面最后一行的第一列\n        - w -------------- 移动一个单词\n        - gg/1G --------- 到第一行\n        - G ------------- 到最后一行\n        - $ ----------- 行末\n        - 0 ----------- 行首\n        - dd ----------- 删掉一行代码\n        - dw ---------- 删一个单词\n        - Ctrl + e ------------- 往下翻一行\n        - Ctrl + y ------------- 往上翻一行\n        - Ctrl + f ------------- 往上翻一页\n        - Ctrl + b ------------- 往下翻一页\n        - 数字 + yy ---------- 复制多少行\n        - p ---------- 粘贴\n        - u -------------- 撤销\n        - Ctrl + r ------------- 反撤销\n\n##  vim模式下的Python\n\n#### 三元运算：\n- if成立取前面，不成立取后面\n\n`y = year if month >= 3 else year - 1`\n\n#### 占位\n- {} --------------- 占位符，与%d的作用一样\n\n`print(f'{month_names[month]} {year}'.center(20))`\n\n#### 字符居中\n\n`print（f'{}'.center(num))`\n\n#### 取命令行参数：\n从标准输入读取数据\n```\n调用函数 import sys\n\n if len(sys.argv) == 3:\n     year = int(sys.argv[2])\n     month = int(sys.argv[1])\n```\n#### 递归函数\n&emsp;&emsp;在某个时候必须给一个确定的结果，递归函数必须要有一个出口；然后必须要有一个递归公式，在函数中调用函数的部分\n\n#### 动态规划：牺牲空间，减少时间\n优化重复计算的过程，用一个字典保存要重复计算的值，当需要时直接查找字典\n```\nif num <= 0:\n     return 1 if num == 0 else 0\n  try:\n     return temp[num]\n  except KeyError:\n     temp[num] = walk(num - 1) + walk(num - 2) + walk(num - 3)\n     return temp[num]\n```\n#### 程序\n终极原则：高内聚 低耦合(一个函数或者一个类只做一个事情，一个函数或者一个类只表示自己，不与其他关联)【high cohesion low coupling】\n###### 在Python中函数是一等公民\n###### 函数可以赋值给变量，可以作为方法的参数和返回值\n```\ndef calc(items, fn=lambda x, y: x - y): \n    result = items[0]\n    for index in range(1, len(items)):\n        result = fn(result,items[index])\n    return result\n\nitems = [1, 2, 3, 4, 5]\n    print(calc(items, lambda x, y: x + y))\n    print(calc(items, lambda x, y: x * y))\n```\n#### 类\n面向对象的程序设计基本上就是三步走：\n1. 定义类\n   -数据抽象：找属性（名词）\n   -行为抽象：找方法（动词）\n2. 创建对象\n3. 给对象发消息\n\n#### 函数的参数\n```\ndef foo(*args, **kwargs)\n*args ------- 可变参数（不知道有多少个参数，可以通过*号表示）\n**kwargs --------- 关键字参数（给了参数名的参数，会被打包成一个字典传入函数）\n默认参数 ----------- 不传入参数\n\ndef foo1(a, *, b, c)\n*前面的参数是位置参数在传参的时候可以不用指定参数名\n*后面的参数是命名关键字参数在传参的时候必须指定参数名否则报错\n\n解包\nitems = [1, 2, 3, 4, 5]\nstart， *_ ， end = items（取列表的第一个数和最后一个数）\n```\n#### 装饰器\n- a.装饰器函数：用一个函数装饰另一个函数，给它增加额外的功能\n- b.装饰器函数的参数是被装饰的函数，返回的是起装饰作用的函数\n- c.当调用被装饰的函数时，其实是执行装饰器中返回的那个函数\n- d.凡是需要这个额外功能的函数，只需要加上装饰器即可，而不需要书写重复的代码\n- e.给函数添加装饰器的语法就是在函数前写上  @装饰器函数","slug":"Linux/vim","published":1,"updated":"2019-03-14T01:39:04.743Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjt87kqg9000or8r69fkyzbi1","content":"<h3 id=\"vimrc-——————-保存格式的文件\"><a href=\"#vimrc-——————-保存格式的文件\" class=\"headerlink\" title=\"vimrc ——————- 保存格式的文件\"></a>vimrc ——————- 保存格式的文件</h3><h2 id=\"vim\"><a href=\"#vim\" class=\"headerlink\" title=\"vim\"></a>vim</h2><ul>\n<li>文件意外中断，r恢复，b删除</li>\n<li>vim 文件1 文件2 ———– 同时打开多个文件</li>\n<li>vim -d 文件1 文件2 ———— 比较文件1和文件2<h5 id=\"如果vim打开了多个文件，可以在末行模式中\"><a href=\"#如果vim打开了多个文件，可以在末行模式中\" class=\"headerlink\" title=\"如果vim打开了多个文件，可以在末行模式中\"></a>如果vim打开了多个文件，可以在末行模式中</h5></li>\n<li>：ls ——— 查看多个文件的编号</li>\n<li>：b 编号 ——— 跳转文件</li>\n<li>：vs —————- 垂直拆分成两个窗口</li>\n<li>：sp —————- 水平拆分成两个窗口</li>\n<li>Ctrl + w Ctrl + w ————— 将光标移到另一个窗口</li>\n<li>：qa —————– 关闭全部窗口</li>\n</ul>\n<h4 id=\"vim-文件名-————-进入Linux编辑框\"><a href=\"#vim-文件名-————-进入Linux编辑框\" class=\"headerlink\" title=\"vim 文件名 ———— 进入Linux编辑框\"></a>vim 文件名 ———— 进入Linux编辑框</h4><h5 id=\"刚进入是在命令模式下\"><a href=\"#刚进入是在命令模式下\" class=\"headerlink\" title=\"刚进入是在命令模式下\"></a>刚进入是在命令模式下</h5><ul>\n<li>i / a ———- 进入编辑模式或者插入模式</li>\n<li><p>（Esc ——— 退出编辑模式）</p>\n</li>\n<li><p>：/ ?/ /————– 进入末行编辑格式</p>\n<ul>\n<li>set nu / nonu ———— 打开/关闭行号</li>\n<li>set autoindent ———— 保存缩进</li>\n<li>syntax on / off ———- 打开/关闭高量语法</li>\n<li>shift + zz ————– 保存</li>\n<li>wq ————— 保存退出</li>\n<li>q! —————- 强制退出，不保存</li>\n<li>w! —————- 强制保存</li>\n<li>map ———— 映射 快捷键</li>\n<li>imap ————– 在插入模式下映射快捷键</li>\n<li>inoremap ————– 在插入模式下不要递归的映射快捷键</li>\n</ul>\n</li>\n</ul>\n<h5 id=\"搜索\"><a href=\"#搜索\" class=\"headerlink\" title=\"搜索\"></a>搜索</h5><ul>\n<li>/正则表达式</li>\n<li>n ——— 正向搜索</li>\n<li>N ——— 反向搜索</li>\n<li>？正则表达式 ——– 反向搜索</li>\n<li>：1,100s/查找内容（正则表达式）/替换内容<br>替换范围substitute/正则表达式/替换内容</li>\n<li>：1,$s/查找内容（正则表达式）/替换内容/gice<ul>\n<li>-g:全局模式</li>\n<li>-i:忽略大小写</li>\n<li>-c:确认模式</li>\n<li>-e:忽略错误</li>\n</ul>\n</li>\n</ul>\n<h5 id=\"检查工具\"><a href=\"#检查工具\" class=\"headerlink\" title=\"检查工具\"></a>检查工具</h5><ul>\n<li>pip3 install pycodestyle —– 初步的代码格式检查工具</li>\n<li>pip3 install pylint ——- 高级代码格式检查</li>\n</ul>\n<h5 id=\"修改操作权限\"><a href=\"#修改操作权限\" class=\"headerlink\" title=\"修改操作权限\"></a>修改操作权限</h5><ul>\n<li>ll ——– 查看模式</li>\n<li>chmod ———— 修改读写模式 </li>\n<li>chmod 数字 ———– 修改模式</li>\n<li>chmod a+x ———— 所有用户都添加操作权限</li>\n<li>chmod u+x g+x o+x ———- 添加执行操作</li>\n<li>Ctrl x &amp; Ctrl o ———– 代码提示并补全</li>\n</ul>\n<h5 id=\"编辑器操作：\"><a href=\"#编辑器操作：\" class=\"headerlink\" title=\"编辑器操作：\"></a>编辑器操作：</h5><ul>\n<li>在命令模式下：都可以配合数字使用<ul>\n<li>光标移动<ul>\n<li>H ———— 左</li>\n<li>J ————- 下</li>\n<li>K ————- 上</li>\n<li>L ————- 右</li>\n<li>HML ————第一行的第一列/页面中间行的第一列/页面最后一行的第一列</li>\n<li>w ————– 移动一个单词</li>\n<li>gg/1G ——— 到第一行</li>\n<li>G ————- 到最后一行</li>\n<li>$ ———– 行末</li>\n<li>0 ———– 行首</li>\n<li>dd ———– 删掉一行代码</li>\n<li>dw ———- 删一个单词</li>\n<li>Ctrl + e ————- 往下翻一行</li>\n<li>Ctrl + y ————- 往上翻一行</li>\n<li>Ctrl + f ————- 往上翻一页</li>\n<li>Ctrl + b ————- 往下翻一页</li>\n<li>数字 + yy ———- 复制多少行</li>\n<li>p ———- 粘贴</li>\n<li>u ————– 撤销</li>\n<li>Ctrl + r ————- 反撤销</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<h2 id=\"vim模式下的Python\"><a href=\"#vim模式下的Python\" class=\"headerlink\" title=\"vim模式下的Python\"></a>vim模式下的Python</h2><h4 id=\"三元运算：\"><a href=\"#三元运算：\" class=\"headerlink\" title=\"三元运算：\"></a>三元运算：</h4><ul>\n<li>if成立取前面，不成立取后面</li>\n</ul>\n<p><code>y = year if month &gt;= 3 else year - 1</code></p>\n<h4 id=\"占位\"><a href=\"#占位\" class=\"headerlink\" title=\"占位\"></a>占位</h4><ul>\n<li>{} ————— 占位符，与%d的作用一样</li>\n</ul>\n<p><code>print(f&#39;{month_names[month]} {year}&#39;.center(20))</code></p>\n<h4 id=\"字符居中\"><a href=\"#字符居中\" class=\"headerlink\" title=\"字符居中\"></a>字符居中</h4><p><code>print（f&#39;{}&#39;.center(num))</code></p>\n<h4 id=\"取命令行参数：\"><a href=\"#取命令行参数：\" class=\"headerlink\" title=\"取命令行参数：\"></a>取命令行参数：</h4><p>从标准输入读取数据</p>\n<pre><code>调用函数 import sys\n\n if len(sys.argv) == 3:\n     year = int(sys.argv[2])\n     month = int(sys.argv[1])\n</code></pre><h4 id=\"递归函数\"><a href=\"#递归函数\" class=\"headerlink\" title=\"递归函数\"></a>递归函数</h4><p>&emsp;&emsp;在某个时候必须给一个确定的结果，递归函数必须要有一个出口；然后必须要有一个递归公式，在函数中调用函数的部分</p>\n<h4 id=\"动态规划：牺牲空间，减少时间\"><a href=\"#动态规划：牺牲空间，减少时间\" class=\"headerlink\" title=\"动态规划：牺牲空间，减少时间\"></a>动态规划：牺牲空间，减少时间</h4><p>优化重复计算的过程，用一个字典保存要重复计算的值，当需要时直接查找字典</p>\n<pre><code>if num &lt;= 0:\n     return 1 if num == 0 else 0\n  try:\n     return temp[num]\n  except KeyError:\n     temp[num] = walk(num - 1) + walk(num - 2) + walk(num - 3)\n     return temp[num]\n</code></pre><h4 id=\"程序\"><a href=\"#程序\" class=\"headerlink\" title=\"程序\"></a>程序</h4><p>终极原则：高内聚 低耦合(一个函数或者一个类只做一个事情，一个函数或者一个类只表示自己，不与其他关联)【high cohesion low coupling】</p>\n<h6 id=\"在Python中函数是一等公民\"><a href=\"#在Python中函数是一等公民\" class=\"headerlink\" title=\"在Python中函数是一等公民\"></a>在Python中函数是一等公民</h6><h6 id=\"函数可以赋值给变量，可以作为方法的参数和返回值\"><a href=\"#函数可以赋值给变量，可以作为方法的参数和返回值\" class=\"headerlink\" title=\"函数可以赋值给变量，可以作为方法的参数和返回值\"></a>函数可以赋值给变量，可以作为方法的参数和返回值</h6><pre><code>def calc(items, fn=lambda x, y: x - y): \n    result = items[0]\n    for index in range(1, len(items)):\n        result = fn(result,items[index])\n    return result\n\nitems = [1, 2, 3, 4, 5]\n    print(calc(items, lambda x, y: x + y))\n    print(calc(items, lambda x, y: x * y))\n</code></pre><h4 id=\"类\"><a href=\"#类\" class=\"headerlink\" title=\"类\"></a>类</h4><p>面向对象的程序设计基本上就是三步走：</p>\n<ol>\n<li>定义类<br>-数据抽象：找属性（名词）<br>-行为抽象：找方法（动词）</li>\n<li>创建对象</li>\n<li>给对象发消息</li>\n</ol>\n<h4 id=\"函数的参数\"><a href=\"#函数的参数\" class=\"headerlink\" title=\"函数的参数\"></a>函数的参数</h4><pre><code>def foo(*args, **kwargs)\n*args ------- 可变参数（不知道有多少个参数，可以通过*号表示）\n**kwargs --------- 关键字参数（给了参数名的参数，会被打包成一个字典传入函数）\n默认参数 ----------- 不传入参数\n\ndef foo1(a, *, b, c)\n*前面的参数是位置参数在传参的时候可以不用指定参数名\n*后面的参数是命名关键字参数在传参的时候必须指定参数名否则报错\n\n解包\nitems = [1, 2, 3, 4, 5]\nstart， *_ ， end = items（取列表的第一个数和最后一个数）\n</code></pre><h4 id=\"装饰器\"><a href=\"#装饰器\" class=\"headerlink\" title=\"装饰器\"></a>装饰器</h4><ul>\n<li>a.装饰器函数：用一个函数装饰另一个函数，给它增加额外的功能</li>\n<li>b.装饰器函数的参数是被装饰的函数，返回的是起装饰作用的函数</li>\n<li>c.当调用被装饰的函数时，其实是执行装饰器中返回的那个函数</li>\n<li>d.凡是需要这个额外功能的函数，只需要加上装饰器即可，而不需要书写重复的代码</li>\n<li>e.给函数添加装饰器的语法就是在函数前写上  @装饰器函数</li>\n</ul>\n","site":{"data":{}},"excerpt":"","more":"<h3 id=\"vimrc-——————-保存格式的文件\"><a href=\"#vimrc-——————-保存格式的文件\" class=\"headerlink\" title=\"vimrc ——————- 保存格式的文件\"></a>vimrc ——————- 保存格式的文件</h3><h2 id=\"vim\"><a href=\"#vim\" class=\"headerlink\" title=\"vim\"></a>vim</h2><ul>\n<li>文件意外中断，r恢复，b删除</li>\n<li>vim 文件1 文件2 ———– 同时打开多个文件</li>\n<li>vim -d 文件1 文件2 ———— 比较文件1和文件2<h5 id=\"如果vim打开了多个文件，可以在末行模式中\"><a href=\"#如果vim打开了多个文件，可以在末行模式中\" class=\"headerlink\" title=\"如果vim打开了多个文件，可以在末行模式中\"></a>如果vim打开了多个文件，可以在末行模式中</h5></li>\n<li>：ls ——— 查看多个文件的编号</li>\n<li>：b 编号 ——— 跳转文件</li>\n<li>：vs —————- 垂直拆分成两个窗口</li>\n<li>：sp —————- 水平拆分成两个窗口</li>\n<li>Ctrl + w Ctrl + w ————— 将光标移到另一个窗口</li>\n<li>：qa —————– 关闭全部窗口</li>\n</ul>\n<h4 id=\"vim-文件名-————-进入Linux编辑框\"><a href=\"#vim-文件名-————-进入Linux编辑框\" class=\"headerlink\" title=\"vim 文件名 ———— 进入Linux编辑框\"></a>vim 文件名 ———— 进入Linux编辑框</h4><h5 id=\"刚进入是在命令模式下\"><a href=\"#刚进入是在命令模式下\" class=\"headerlink\" title=\"刚进入是在命令模式下\"></a>刚进入是在命令模式下</h5><ul>\n<li>i / a ———- 进入编辑模式或者插入模式</li>\n<li><p>（Esc ——— 退出编辑模式）</p>\n</li>\n<li><p>：/ ?/ /————– 进入末行编辑格式</p>\n<ul>\n<li>set nu / nonu ———— 打开/关闭行号</li>\n<li>set autoindent ———— 保存缩进</li>\n<li>syntax on / off ———- 打开/关闭高量语法</li>\n<li>shift + zz ————– 保存</li>\n<li>wq ————— 保存退出</li>\n<li>q! —————- 强制退出，不保存</li>\n<li>w! —————- 强制保存</li>\n<li>map ———— 映射 快捷键</li>\n<li>imap ————– 在插入模式下映射快捷键</li>\n<li>inoremap ————– 在插入模式下不要递归的映射快捷键</li>\n</ul>\n</li>\n</ul>\n<h5 id=\"搜索\"><a href=\"#搜索\" class=\"headerlink\" title=\"搜索\"></a>搜索</h5><ul>\n<li>/正则表达式</li>\n<li>n ——— 正向搜索</li>\n<li>N ——— 反向搜索</li>\n<li>？正则表达式 ——– 反向搜索</li>\n<li>：1,100s/查找内容（正则表达式）/替换内容<br>替换范围substitute/正则表达式/替换内容</li>\n<li>：1,$s/查找内容（正则表达式）/替换内容/gice<ul>\n<li>-g:全局模式</li>\n<li>-i:忽略大小写</li>\n<li>-c:确认模式</li>\n<li>-e:忽略错误</li>\n</ul>\n</li>\n</ul>\n<h5 id=\"检查工具\"><a href=\"#检查工具\" class=\"headerlink\" title=\"检查工具\"></a>检查工具</h5><ul>\n<li>pip3 install pycodestyle —– 初步的代码格式检查工具</li>\n<li>pip3 install pylint ——- 高级代码格式检查</li>\n</ul>\n<h5 id=\"修改操作权限\"><a href=\"#修改操作权限\" class=\"headerlink\" title=\"修改操作权限\"></a>修改操作权限</h5><ul>\n<li>ll ——– 查看模式</li>\n<li>chmod ———— 修改读写模式 </li>\n<li>chmod 数字 ———– 修改模式</li>\n<li>chmod a+x ———— 所有用户都添加操作权限</li>\n<li>chmod u+x g+x o+x ———- 添加执行操作</li>\n<li>Ctrl x &amp; Ctrl o ———– 代码提示并补全</li>\n</ul>\n<h5 id=\"编辑器操作：\"><a href=\"#编辑器操作：\" class=\"headerlink\" title=\"编辑器操作：\"></a>编辑器操作：</h5><ul>\n<li>在命令模式下：都可以配合数字使用<ul>\n<li>光标移动<ul>\n<li>H ———— 左</li>\n<li>J ————- 下</li>\n<li>K ————- 上</li>\n<li>L ————- 右</li>\n<li>HML ————第一行的第一列/页面中间行的第一列/页面最后一行的第一列</li>\n<li>w ————– 移动一个单词</li>\n<li>gg/1G ——— 到第一行</li>\n<li>G ————- 到最后一行</li>\n<li>$ ———– 行末</li>\n<li>0 ———– 行首</li>\n<li>dd ———– 删掉一行代码</li>\n<li>dw ———- 删一个单词</li>\n<li>Ctrl + e ————- 往下翻一行</li>\n<li>Ctrl + y ————- 往上翻一行</li>\n<li>Ctrl + f ————- 往上翻一页</li>\n<li>Ctrl + b ————- 往下翻一页</li>\n<li>数字 + yy ———- 复制多少行</li>\n<li>p ———- 粘贴</li>\n<li>u ————– 撤销</li>\n<li>Ctrl + r ————- 反撤销</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<h2 id=\"vim模式下的Python\"><a href=\"#vim模式下的Python\" class=\"headerlink\" title=\"vim模式下的Python\"></a>vim模式下的Python</h2><h4 id=\"三元运算：\"><a href=\"#三元运算：\" class=\"headerlink\" title=\"三元运算：\"></a>三元运算：</h4><ul>\n<li>if成立取前面，不成立取后面</li>\n</ul>\n<p><code>y = year if month &gt;= 3 else year - 1</code></p>\n<h4 id=\"占位\"><a href=\"#占位\" class=\"headerlink\" title=\"占位\"></a>占位</h4><ul>\n<li>{} ————— 占位符，与%d的作用一样</li>\n</ul>\n<p><code>print(f&#39;{month_names[month]} {year}&#39;.center(20))</code></p>\n<h4 id=\"字符居中\"><a href=\"#字符居中\" class=\"headerlink\" title=\"字符居中\"></a>字符居中</h4><p><code>print（f&#39;{}&#39;.center(num))</code></p>\n<h4 id=\"取命令行参数：\"><a href=\"#取命令行参数：\" class=\"headerlink\" title=\"取命令行参数：\"></a>取命令行参数：</h4><p>从标准输入读取数据</p>\n<pre><code>调用函数 import sys\n\n if len(sys.argv) == 3:\n     year = int(sys.argv[2])\n     month = int(sys.argv[1])\n</code></pre><h4 id=\"递归函数\"><a href=\"#递归函数\" class=\"headerlink\" title=\"递归函数\"></a>递归函数</h4><p>&emsp;&emsp;在某个时候必须给一个确定的结果，递归函数必须要有一个出口；然后必须要有一个递归公式，在函数中调用函数的部分</p>\n<h4 id=\"动态规划：牺牲空间，减少时间\"><a href=\"#动态规划：牺牲空间，减少时间\" class=\"headerlink\" title=\"动态规划：牺牲空间，减少时间\"></a>动态规划：牺牲空间，减少时间</h4><p>优化重复计算的过程，用一个字典保存要重复计算的值，当需要时直接查找字典</p>\n<pre><code>if num &lt;= 0:\n     return 1 if num == 0 else 0\n  try:\n     return temp[num]\n  except KeyError:\n     temp[num] = walk(num - 1) + walk(num - 2) + walk(num - 3)\n     return temp[num]\n</code></pre><h4 id=\"程序\"><a href=\"#程序\" class=\"headerlink\" title=\"程序\"></a>程序</h4><p>终极原则：高内聚 低耦合(一个函数或者一个类只做一个事情，一个函数或者一个类只表示自己，不与其他关联)【high cohesion low coupling】</p>\n<h6 id=\"在Python中函数是一等公民\"><a href=\"#在Python中函数是一等公民\" class=\"headerlink\" title=\"在Python中函数是一等公民\"></a>在Python中函数是一等公民</h6><h6 id=\"函数可以赋值给变量，可以作为方法的参数和返回值\"><a href=\"#函数可以赋值给变量，可以作为方法的参数和返回值\" class=\"headerlink\" title=\"函数可以赋值给变量，可以作为方法的参数和返回值\"></a>函数可以赋值给变量，可以作为方法的参数和返回值</h6><pre><code>def calc(items, fn=lambda x, y: x - y): \n    result = items[0]\n    for index in range(1, len(items)):\n        result = fn(result,items[index])\n    return result\n\nitems = [1, 2, 3, 4, 5]\n    print(calc(items, lambda x, y: x + y))\n    print(calc(items, lambda x, y: x * y))\n</code></pre><h4 id=\"类\"><a href=\"#类\" class=\"headerlink\" title=\"类\"></a>类</h4><p>面向对象的程序设计基本上就是三步走：</p>\n<ol>\n<li>定义类<br>-数据抽象：找属性（名词）<br>-行为抽象：找方法（动词）</li>\n<li>创建对象</li>\n<li>给对象发消息</li>\n</ol>\n<h4 id=\"函数的参数\"><a href=\"#函数的参数\" class=\"headerlink\" title=\"函数的参数\"></a>函数的参数</h4><pre><code>def foo(*args, **kwargs)\n*args ------- 可变参数（不知道有多少个参数，可以通过*号表示）\n**kwargs --------- 关键字参数（给了参数名的参数，会被打包成一个字典传入函数）\n默认参数 ----------- 不传入参数\n\ndef foo1(a, *, b, c)\n*前面的参数是位置参数在传参的时候可以不用指定参数名\n*后面的参数是命名关键字参数在传参的时候必须指定参数名否则报错\n\n解包\nitems = [1, 2, 3, 4, 5]\nstart， *_ ， end = items（取列表的第一个数和最后一个数）\n</code></pre><h4 id=\"装饰器\"><a href=\"#装饰器\" class=\"headerlink\" title=\"装饰器\"></a>装饰器</h4><ul>\n<li>a.装饰器函数：用一个函数装饰另一个函数，给它增加额外的功能</li>\n<li>b.装饰器函数的参数是被装饰的函数，返回的是起装饰作用的函数</li>\n<li>c.当调用被装饰的函数时，其实是执行装饰器中返回的那个函数</li>\n<li>d.凡是需要这个额外功能的函数，只需要加上装饰器即可，而不需要书写重复的代码</li>\n<li>e.给函数添加装饰器的语法就是在函数前写上  @装饰器函数</li>\n</ul>\n"},{"title":"Linux-vim-practice","date":"2018-05-14T12:45:47.000Z","author":"smile","_content":"\n#### practice1_fish\n\n```python\n  1 #!/usr/bin/python3\n  2 \n  3 \"\"\"\n  4 穷举法:穷尽所有可能直到找到正确答案\n  5 \"\"\"\n  6 def main():\n  7     \"\"\"分鱼\"\"\"\n  8     fish = 1\n  9     while True:\n 10         enough = True\n 11         total = fish\n 12         for _ in range(5):\n 13             if (total - 1) % 5 == 0:\n 14                 total = (total - 1) // 5 *4\n 15             else:\n 16                 enough = False\n 17                 break\n 18         if enough:\n 19             print(fish)\n 20             break\n 21         fish += 1\n 22 \n 23 \n 24 if __name__ == \"__main__\":\n 25     main()\n```\n\n#### practice2_joseph\n\n```python\n  1 #!/usr/bin/python3\n  2 \n  3 \"\"\"约瑟夫环\"\"\"\n  4 def main():\n  5     \"\"\"主函数\"\"\"\n  6     persons = [True] * 30\n  7     # 设置变量，计数，下标，报数\n  8     counter, index, number = 0, 0, 0\n  9     #  循环选出15个人\n 10     while counter < 15:\n 11         if persons[index]:\n 12             # 每次数数加一\n 13             number += 1\n 14             # 数到9的人，弄死\n 15             if number == 9:\n 16                 # 把它的值变为False\n 17                 persons[index] = False\n 18                 # 每选出一个人，counter数量加一\n 19                 counter += 1\n 20                 # 弄死的人，后面人又从0开始数数\n 21                 number = 0\n 22         # 移动下标\n 23         index += 1\n 24         # 保证有效的下标\n 25         index %= len(persons)\n 26     for person in persons:\n 27         print(\"基\" if person else \"非\", end = \"\")\n 28     print()\n 29 \n 30 \n 31 if __name__ == \"__main__\":\n 32     main()\n```\n\n####practice3_salary\n\n```python\n  1 #!/usr/bin/python3\n  2 from abc import ABCMeta, abstractmethod\n  3 \"\"\"\n  4 面向对象的程序设计基本步骤：\n  5 1. 定义类\n  6     - 数据抽象: 找到对象的静态特征-属性(名词)\n  7     - 行为抽象: 找到对象的动态特征-方法(动词)\n  8 2. 创建对象(隐藏实现细节，暴露简单的调用接口)\n  9 3. 给对象发消息\n 10 \n 11 面向对象的四大支柱：抽象、封装、继承、多态\n 12 抽象：定义类的过程就是提取共性的抽象过程\n 13 封装：将数据和操作数据方法从逻辑上组成一个整体-对象\n 14 继承：从已有的类创建新类的过程\n 15     - 提供继承信息的称为父类\n 16     - 得到继承信息的称为子类\n 17 多态：调用相同的方法做了不同的事情\n 18     - 同样的方法在运行时表现出不同行为\n 19     - 子类重写父类的方法，不同的子类给出不同的实现版本\n 20 \"\"\"\n 21 class Employee(metaclass=ABCMeta):\n 22     # metaclass=ABCMeta 原类，让子类不能再创建这个抽象对象，给别人继承\n 23 \n 24     def __init__(self, name):\n 25         self.name = name\n 26 \n 27     # 装饰器\n 28     @abstractmethod\n 29     def salary(self):\n 30         pass\n 31 \n 32 \n 33 class Manager(Employee):\n 34     \"\"\"经理\"\"\"\n 35 \n 36     @property\n 37     def salary(self):\n 38         return 15000\n 39 \n 40 \n 41 class Programmer(Employee):\n 42     \"\"\"程序员\"\"\"\n 43 \n 44     def __init__(self, name):\n 45         super().__init__(name)\n 46         # self.name = name\n 47         self.working_hour = 0\n 48 \n 49     @property\n 50     def salary(self):\n 51         return 200 * self.working_hour\n 52 \n 53 \n 54 class Salesman(Employee):\n 55     \"\"\"销售员\"\"\"\n 56 \n 57     def __init__(self, name):\n 58         self.name = name\n 59         self.sales = 0\n 60 \n 61     @property\n 62     def salary(self):\n 63         return 1800 + self.sales * 0.05\n 64 \n 65 \n 66 \"\"\"工资结算\"\"\"\n 67 def main():\n 68     \"\"\"主函数\"\"\"\n 69     emps = [\n 70         Manager(\"刘备\"), Manager(\"曹操\"),\n 71         Programmer(\"诸葛亮\"), Programmer(\"荀彧\"),\n 72         Salesman(\"貂蝉\")\n 73     ]\n 74     for emp in emps:\n 75         # isinstance函数可以进行运行时类型识别，判断函数类型\n 76         if isinstance(emp, Programmer):\n 77             emp.working_hour = int(input(f'请输入{emp.name}本月工作时间: '))\n 78         elif isinstance(emp, Salesman):\n 79             emp.sales = float(input(f'请输入{emp.name}本月销售额: '))\n 80        #print('%s: %.2f元' % (emp.name, emp.salary))\n 81         print(f\"{emp.name}本月的工资为: {emp.salary}元\")\n 82 \n 83 \n 84 if __name__ == \"__main__\":\n 85     main()\n```\n\n#### practice_poker\n\n```python\n  1 #!/usr/bin/python3\n  2 \n  3 from enum import Enum, unique\n  4 import random\n  5 \n  6 \n  7 # 定义花色的常量(尽量用符号常量代替字面常量)\n  8 # 枚举类型是定义符号常量的最佳选择\n  9 # @unique 类的装饰器，类里面的变量不能重复，独一无二的\n 10 \n 11 \"\"\"花色枚举类，用来定义黑桃、红心、梅花、方块常量\"\"\"\n 12 @unique\n 13 class Suite(Enum):\n 14     SPADE = 0\n 15     HEART = 1\n 16     CLUB = 2\n 17     DIAMOND = 3\n 18 \n 19 \n 20 \"\"\"定义扑克类\"\"\"\n 21 class Card(object):\n 22 \n 23     def __init__(self, suite, face):\n 24         self.suite = suite\n 25         self.face = face\n 26 \n 27     def show(self):\n 28         suites = [\"黑\", \"红\", \"梅\", \"方\"]\n 29         faces = [\n 30             \"\", \"A\", \"2\", \"3\", \"4\", \"5\", \"6\",\n 31             \"7\", \"8\", \"9\", \"10\", \"J\", \"Q\", \"K\"\n 32         ]\n 33         return f\"{suites[self.suite.value]}{faces[self.face]}\"\n 34     \"\"\"\n 35     # 比较大小\n 36     def __lt__(self, other):\n 37         if self.suite == other.suite:\n 38             return self.face < other.face\n 39         return self.suite.value < other.suite.value\n 40     \"\"\"\n 41 \n 42     # 把对象变成字符串（魔术方法）\n 43     def __str__(self):\n 44         return self.show()\n 45 \n 46     # 把对象变成字符串（魔术方法）\n 47     def __repr__(self):\n 48         return self.show()\n 49 \n 50 \n 51 \"\"\"牌类\"\"\"\n 52 class Poker(object):\n 53 \n 54     def __init__(self):\n 55         self.index = 0\n 56         # 生成一副牌，生成式\n 57         self.cards = [Card(suite, face)\n 58                       for suite in Suite\n 59                       for face in range(1, 14)\n 60         ]\n 61 \n 62     def shuffle(self):\n 63         \"\"\"洗牌，调用随机乱序的函数\"\"\"\n 64         random.shuffle(self.cards)\n 65 \n 66     def deal(self):\n 67         \"\"\"发牌\"\"\"\n 68         card = self.cards[self.index]\n 69         self.index += 1\n 70         return card\n 71 \n 72     @property\n 73     def has_more(self):\n 74         \"\"\"判断是否有牌发\"\"\"\n 75         return self.index < len(self.cards)\n 76 \n 77 \n 78 class Player(object):\n 79     \"\"\"玩家\"\"\"\n 80 \n 81     def __init__(self, name):\n 82         self.name = name\n 83         self.cards = []\n 84 \n 85     def get_one(self, card):\n 86         \"\"\"摸一张牌\"\"\"\n 87         self.cards.append(card)\n 88 \n 89     # *后面的是命名关键字参数，必须写参数名key\n 90     def sort_cards(self, *, key=lambda card:\n 91                       (card.suite.value, card.face)):\n 92         \"\"\" 整理手上的牌\"\"\"\n 93         self.cards.sort(key=key)\n 94 \n 95 \n 96 def main():\n 97     poker = Poker()\n 98     poker.shuffle()\n 99     players = [\n100                Player(\"东邪\"), Player(\"西毒\"), Player(\"南帝\"),\n101                Player(\"北丐\")\n102     ]\n103     for _ in range(13):\n104         for player in players:\n105             player.get_one(poker.deal())\n106     for player in players:\n107         player.sort_cards(key=lambda card: card.face)\n108         print(player.name, end=\": \")\n109         print(player.cards)\n110 \n111 \n112 if __name__ == \"__main__\":\n113     main()\n```\n\n####  practice_mycal\n\n```python\n  1 #!/usr/bin/python3\n  2 \"\"\"\n  3 万年历\n  4 \"\"\"\n  5 from datetime import datetime\n  6 import sys\n  7 \n  8 \n  9 def is_leap(year):\n 10     \"\"\"判断指定年份是否是闰年\"\"\"\n 11     return year % 4 == 0 and year % 100 != 0 or year % 400 == 0\n 12 \n 13 \n 14 def get_month_days(year, month):\n 15     \"\"\"获得指定的月份的天数\"\"\"\n 16     days = [0, 31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31]\n 17     # 修改2月份的天数\n 18     if month == 2 and is_leap(year):\n 19         days[2] = 29\n 20     return days[month]\n 21 \n 22 \n 23 def main():\n 24     # 通过sys模块的argv可以获取命令行参数\n 25     if len(sys.argv) == 3:\n 26         year = int(sys.argv[2])\n 27         month = int(sys.argv[1])\n 28     else:\n 29         # 拿到现在系统的时间和日期\n 30         now = datetime.now()\n 31         year = now.year\n 32         month = now.month\n 33     # 拿到年，月小于2，算到上一年\n 34     y = year if month > 2 else year - 1\n 35     # 拿到月，月小于2，算到13月或者14月\n 36     m = month if month > 2 else month + 12\n 37     # 取到世纪，年份的前两位数\n 38     c = y // 100\n 39     # 取到年的后两位\n 40     y = y % 100\n 41     # 计算每个月1号是星期几\n 42     w = y + y // 4 + c // 4 - 2 * c + 26 * (m + 1) // 10\n 43     # 对7求余数，0对应星期日\n 44     w %= 7\n 45     months = [\n 46         \"\", \"January\", \" February\", \"March\", \"April\", \"May\", \" June\",\n 47         \" July\", \" August\", \"September\", \"October\", \" November\", \" December\"\n 48     ]\n 49     print(f\"{months[month]} {year}\".center(20))\n 50     print(\"Su Mo Tu We Th Fr Sa\")\n 51     print (\" \" * 3 * w,end=\"\")\n 52     days = get_month_days(year, month)\n        # 遍历月份的天数，进行排版\n 53     for day in range(1, days + 1):\n 54         print(f\"{day}\".rjust(2), end=\" \")\n 55         w += 1\n 56         if w % 7 == 0:\n 57             print()\n 58     print()\n 59 \n 60 \n 61 if __name__ == \"__main__\":\n 62     main()\n```\n\n","source":"_posts/Linux/vim_practice.md","raw":"---\ntitle: Linux-vim-practice\ndate: 2018-05-14 20:45:47\nauthor: smile\ncategories: Linux\ntags:\n  - Linux-practice\n---\n\n#### practice1_fish\n\n```python\n  1 #!/usr/bin/python3\n  2 \n  3 \"\"\"\n  4 穷举法:穷尽所有可能直到找到正确答案\n  5 \"\"\"\n  6 def main():\n  7     \"\"\"分鱼\"\"\"\n  8     fish = 1\n  9     while True:\n 10         enough = True\n 11         total = fish\n 12         for _ in range(5):\n 13             if (total - 1) % 5 == 0:\n 14                 total = (total - 1) // 5 *4\n 15             else:\n 16                 enough = False\n 17                 break\n 18         if enough:\n 19             print(fish)\n 20             break\n 21         fish += 1\n 22 \n 23 \n 24 if __name__ == \"__main__\":\n 25     main()\n```\n\n#### practice2_joseph\n\n```python\n  1 #!/usr/bin/python3\n  2 \n  3 \"\"\"约瑟夫环\"\"\"\n  4 def main():\n  5     \"\"\"主函数\"\"\"\n  6     persons = [True] * 30\n  7     # 设置变量，计数，下标，报数\n  8     counter, index, number = 0, 0, 0\n  9     #  循环选出15个人\n 10     while counter < 15:\n 11         if persons[index]:\n 12             # 每次数数加一\n 13             number += 1\n 14             # 数到9的人，弄死\n 15             if number == 9:\n 16                 # 把它的值变为False\n 17                 persons[index] = False\n 18                 # 每选出一个人，counter数量加一\n 19                 counter += 1\n 20                 # 弄死的人，后面人又从0开始数数\n 21                 number = 0\n 22         # 移动下标\n 23         index += 1\n 24         # 保证有效的下标\n 25         index %= len(persons)\n 26     for person in persons:\n 27         print(\"基\" if person else \"非\", end = \"\")\n 28     print()\n 29 \n 30 \n 31 if __name__ == \"__main__\":\n 32     main()\n```\n\n####practice3_salary\n\n```python\n  1 #!/usr/bin/python3\n  2 from abc import ABCMeta, abstractmethod\n  3 \"\"\"\n  4 面向对象的程序设计基本步骤：\n  5 1. 定义类\n  6     - 数据抽象: 找到对象的静态特征-属性(名词)\n  7     - 行为抽象: 找到对象的动态特征-方法(动词)\n  8 2. 创建对象(隐藏实现细节，暴露简单的调用接口)\n  9 3. 给对象发消息\n 10 \n 11 面向对象的四大支柱：抽象、封装、继承、多态\n 12 抽象：定义类的过程就是提取共性的抽象过程\n 13 封装：将数据和操作数据方法从逻辑上组成一个整体-对象\n 14 继承：从已有的类创建新类的过程\n 15     - 提供继承信息的称为父类\n 16     - 得到继承信息的称为子类\n 17 多态：调用相同的方法做了不同的事情\n 18     - 同样的方法在运行时表现出不同行为\n 19     - 子类重写父类的方法，不同的子类给出不同的实现版本\n 20 \"\"\"\n 21 class Employee(metaclass=ABCMeta):\n 22     # metaclass=ABCMeta 原类，让子类不能再创建这个抽象对象，给别人继承\n 23 \n 24     def __init__(self, name):\n 25         self.name = name\n 26 \n 27     # 装饰器\n 28     @abstractmethod\n 29     def salary(self):\n 30         pass\n 31 \n 32 \n 33 class Manager(Employee):\n 34     \"\"\"经理\"\"\"\n 35 \n 36     @property\n 37     def salary(self):\n 38         return 15000\n 39 \n 40 \n 41 class Programmer(Employee):\n 42     \"\"\"程序员\"\"\"\n 43 \n 44     def __init__(self, name):\n 45         super().__init__(name)\n 46         # self.name = name\n 47         self.working_hour = 0\n 48 \n 49     @property\n 50     def salary(self):\n 51         return 200 * self.working_hour\n 52 \n 53 \n 54 class Salesman(Employee):\n 55     \"\"\"销售员\"\"\"\n 56 \n 57     def __init__(self, name):\n 58         self.name = name\n 59         self.sales = 0\n 60 \n 61     @property\n 62     def salary(self):\n 63         return 1800 + self.sales * 0.05\n 64 \n 65 \n 66 \"\"\"工资结算\"\"\"\n 67 def main():\n 68     \"\"\"主函数\"\"\"\n 69     emps = [\n 70         Manager(\"刘备\"), Manager(\"曹操\"),\n 71         Programmer(\"诸葛亮\"), Programmer(\"荀彧\"),\n 72         Salesman(\"貂蝉\")\n 73     ]\n 74     for emp in emps:\n 75         # isinstance函数可以进行运行时类型识别，判断函数类型\n 76         if isinstance(emp, Programmer):\n 77             emp.working_hour = int(input(f'请输入{emp.name}本月工作时间: '))\n 78         elif isinstance(emp, Salesman):\n 79             emp.sales = float(input(f'请输入{emp.name}本月销售额: '))\n 80        #print('%s: %.2f元' % (emp.name, emp.salary))\n 81         print(f\"{emp.name}本月的工资为: {emp.salary}元\")\n 82 \n 83 \n 84 if __name__ == \"__main__\":\n 85     main()\n```\n\n#### practice_poker\n\n```python\n  1 #!/usr/bin/python3\n  2 \n  3 from enum import Enum, unique\n  4 import random\n  5 \n  6 \n  7 # 定义花色的常量(尽量用符号常量代替字面常量)\n  8 # 枚举类型是定义符号常量的最佳选择\n  9 # @unique 类的装饰器，类里面的变量不能重复，独一无二的\n 10 \n 11 \"\"\"花色枚举类，用来定义黑桃、红心、梅花、方块常量\"\"\"\n 12 @unique\n 13 class Suite(Enum):\n 14     SPADE = 0\n 15     HEART = 1\n 16     CLUB = 2\n 17     DIAMOND = 3\n 18 \n 19 \n 20 \"\"\"定义扑克类\"\"\"\n 21 class Card(object):\n 22 \n 23     def __init__(self, suite, face):\n 24         self.suite = suite\n 25         self.face = face\n 26 \n 27     def show(self):\n 28         suites = [\"黑\", \"红\", \"梅\", \"方\"]\n 29         faces = [\n 30             \"\", \"A\", \"2\", \"3\", \"4\", \"5\", \"6\",\n 31             \"7\", \"8\", \"9\", \"10\", \"J\", \"Q\", \"K\"\n 32         ]\n 33         return f\"{suites[self.suite.value]}{faces[self.face]}\"\n 34     \"\"\"\n 35     # 比较大小\n 36     def __lt__(self, other):\n 37         if self.suite == other.suite:\n 38             return self.face < other.face\n 39         return self.suite.value < other.suite.value\n 40     \"\"\"\n 41 \n 42     # 把对象变成字符串（魔术方法）\n 43     def __str__(self):\n 44         return self.show()\n 45 \n 46     # 把对象变成字符串（魔术方法）\n 47     def __repr__(self):\n 48         return self.show()\n 49 \n 50 \n 51 \"\"\"牌类\"\"\"\n 52 class Poker(object):\n 53 \n 54     def __init__(self):\n 55         self.index = 0\n 56         # 生成一副牌，生成式\n 57         self.cards = [Card(suite, face)\n 58                       for suite in Suite\n 59                       for face in range(1, 14)\n 60         ]\n 61 \n 62     def shuffle(self):\n 63         \"\"\"洗牌，调用随机乱序的函数\"\"\"\n 64         random.shuffle(self.cards)\n 65 \n 66     def deal(self):\n 67         \"\"\"发牌\"\"\"\n 68         card = self.cards[self.index]\n 69         self.index += 1\n 70         return card\n 71 \n 72     @property\n 73     def has_more(self):\n 74         \"\"\"判断是否有牌发\"\"\"\n 75         return self.index < len(self.cards)\n 76 \n 77 \n 78 class Player(object):\n 79     \"\"\"玩家\"\"\"\n 80 \n 81     def __init__(self, name):\n 82         self.name = name\n 83         self.cards = []\n 84 \n 85     def get_one(self, card):\n 86         \"\"\"摸一张牌\"\"\"\n 87         self.cards.append(card)\n 88 \n 89     # *后面的是命名关键字参数，必须写参数名key\n 90     def sort_cards(self, *, key=lambda card:\n 91                       (card.suite.value, card.face)):\n 92         \"\"\" 整理手上的牌\"\"\"\n 93         self.cards.sort(key=key)\n 94 \n 95 \n 96 def main():\n 97     poker = Poker()\n 98     poker.shuffle()\n 99     players = [\n100                Player(\"东邪\"), Player(\"西毒\"), Player(\"南帝\"),\n101                Player(\"北丐\")\n102     ]\n103     for _ in range(13):\n104         for player in players:\n105             player.get_one(poker.deal())\n106     for player in players:\n107         player.sort_cards(key=lambda card: card.face)\n108         print(player.name, end=\": \")\n109         print(player.cards)\n110 \n111 \n112 if __name__ == \"__main__\":\n113     main()\n```\n\n####  practice_mycal\n\n```python\n  1 #!/usr/bin/python3\n  2 \"\"\"\n  3 万年历\n  4 \"\"\"\n  5 from datetime import datetime\n  6 import sys\n  7 \n  8 \n  9 def is_leap(year):\n 10     \"\"\"判断指定年份是否是闰年\"\"\"\n 11     return year % 4 == 0 and year % 100 != 0 or year % 400 == 0\n 12 \n 13 \n 14 def get_month_days(year, month):\n 15     \"\"\"获得指定的月份的天数\"\"\"\n 16     days = [0, 31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31]\n 17     # 修改2月份的天数\n 18     if month == 2 and is_leap(year):\n 19         days[2] = 29\n 20     return days[month]\n 21 \n 22 \n 23 def main():\n 24     # 通过sys模块的argv可以获取命令行参数\n 25     if len(sys.argv) == 3:\n 26         year = int(sys.argv[2])\n 27         month = int(sys.argv[1])\n 28     else:\n 29         # 拿到现在系统的时间和日期\n 30         now = datetime.now()\n 31         year = now.year\n 32         month = now.month\n 33     # 拿到年，月小于2，算到上一年\n 34     y = year if month > 2 else year - 1\n 35     # 拿到月，月小于2，算到13月或者14月\n 36     m = month if month > 2 else month + 12\n 37     # 取到世纪，年份的前两位数\n 38     c = y // 100\n 39     # 取到年的后两位\n 40     y = y % 100\n 41     # 计算每个月1号是星期几\n 42     w = y + y // 4 + c // 4 - 2 * c + 26 * (m + 1) // 10\n 43     # 对7求余数，0对应星期日\n 44     w %= 7\n 45     months = [\n 46         \"\", \"January\", \" February\", \"March\", \"April\", \"May\", \" June\",\n 47         \" July\", \" August\", \"September\", \"October\", \" November\", \" December\"\n 48     ]\n 49     print(f\"{months[month]} {year}\".center(20))\n 50     print(\"Su Mo Tu We Th Fr Sa\")\n 51     print (\" \" * 3 * w,end=\"\")\n 52     days = get_month_days(year, month)\n        # 遍历月份的天数，进行排版\n 53     for day in range(1, days + 1):\n 54         print(f\"{day}\".rjust(2), end=\" \")\n 55         w += 1\n 56         if w % 7 == 0:\n 57             print()\n 58     print()\n 59 \n 60 \n 61 if __name__ == \"__main__\":\n 62     main()\n```\n\n","slug":"Linux/vim_practice","published":1,"updated":"2019-03-14T01:38:47.112Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjt87kqgg000tr8r6ffas3qix","content":"<h4 id=\"practice1-fish\"><a href=\"#practice1-fish\" class=\"headerlink\" title=\"practice1_fish\"></a>practice1_fish</h4><pre class=\" language-python\"><code class=\"language-python\">  <span class=\"token number\">1</span> <span class=\"token comment\" spellcheck=\"true\">#!/usr/bin/python3</span>\n  <span class=\"token number\">2</span> \n  <span class=\"token number\">3</span> <span class=\"token triple-quoted-string string\">\"\"\"\n  4 穷举法:穷尽所有可能直到找到正确答案\n  5 \"\"\"</span>\n  <span class=\"token number\">6</span> <span class=\"token keyword\">def</span> <span class=\"token function\">main</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n  <span class=\"token number\">7</span>     <span class=\"token triple-quoted-string string\">\"\"\"分鱼\"\"\"</span>\n  <span class=\"token number\">8</span>     fish <span class=\"token operator\">=</span> <span class=\"token number\">1</span>\n  <span class=\"token number\">9</span>     <span class=\"token keyword\">while</span> <span class=\"token boolean\">True</span><span class=\"token punctuation\">:</span>\n <span class=\"token number\">10</span>         enough <span class=\"token operator\">=</span> <span class=\"token boolean\">True</span>\n <span class=\"token number\">11</span>         total <span class=\"token operator\">=</span> fish\n <span class=\"token number\">12</span>         <span class=\"token keyword\">for</span> _ <span class=\"token keyword\">in</span> range<span class=\"token punctuation\">(</span><span class=\"token number\">5</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n <span class=\"token number\">13</span>             <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>total <span class=\"token operator\">-</span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">%</span> <span class=\"token number\">5</span> <span class=\"token operator\">==</span> <span class=\"token number\">0</span><span class=\"token punctuation\">:</span>\n <span class=\"token number\">14</span>                 total <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span>total <span class=\"token operator\">-</span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">//</span> <span class=\"token number\">5</span> <span class=\"token operator\">*</span><span class=\"token number\">4</span>\n <span class=\"token number\">15</span>             <span class=\"token keyword\">else</span><span class=\"token punctuation\">:</span>\n <span class=\"token number\">16</span>                 enough <span class=\"token operator\">=</span> <span class=\"token boolean\">False</span>\n <span class=\"token number\">17</span>                 <span class=\"token keyword\">break</span>\n <span class=\"token number\">18</span>         <span class=\"token keyword\">if</span> enough<span class=\"token punctuation\">:</span>\n <span class=\"token number\">19</span>             <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>fish<span class=\"token punctuation\">)</span>\n <span class=\"token number\">20</span>             <span class=\"token keyword\">break</span>\n <span class=\"token number\">21</span>         fish <span class=\"token operator\">+=</span> <span class=\"token number\">1</span>\n <span class=\"token number\">22</span> \n <span class=\"token number\">23</span> \n <span class=\"token number\">24</span> <span class=\"token keyword\">if</span> __name__ <span class=\"token operator\">==</span> <span class=\"token string\">\"__main__\"</span><span class=\"token punctuation\">:</span>\n <span class=\"token number\">25</span>     main<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n</code></pre>\n<h4 id=\"practice2-joseph\"><a href=\"#practice2-joseph\" class=\"headerlink\" title=\"practice2_joseph\"></a>practice2_joseph</h4><pre class=\" language-python\"><code class=\"language-python\">  <span class=\"token number\">1</span> <span class=\"token comment\" spellcheck=\"true\">#!/usr/bin/python3</span>\n  <span class=\"token number\">2</span> \n  <span class=\"token number\">3</span> <span class=\"token triple-quoted-string string\">\"\"\"约瑟夫环\"\"\"</span>\n  <span class=\"token number\">4</span> <span class=\"token keyword\">def</span> <span class=\"token function\">main</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n  <span class=\"token number\">5</span>     <span class=\"token triple-quoted-string string\">\"\"\"主函数\"\"\"</span>\n  <span class=\"token number\">6</span>     persons <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token boolean\">True</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">*</span> <span class=\"token number\">30</span>\n  <span class=\"token number\">7</span>     <span class=\"token comment\" spellcheck=\"true\"># 设置变量，计数，下标，报数</span>\n  <span class=\"token number\">8</span>     counter<span class=\"token punctuation\">,</span> index<span class=\"token punctuation\">,</span> number <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span>\n  <span class=\"token number\">9</span>     <span class=\"token comment\" spellcheck=\"true\">#  循环选出15个人</span>\n <span class=\"token number\">10</span>     <span class=\"token keyword\">while</span> counter <span class=\"token operator\">&lt;</span> <span class=\"token number\">15</span><span class=\"token punctuation\">:</span>\n <span class=\"token number\">11</span>         <span class=\"token keyword\">if</span> persons<span class=\"token punctuation\">[</span>index<span class=\"token punctuation\">]</span><span class=\"token punctuation\">:</span>\n <span class=\"token number\">12</span>             <span class=\"token comment\" spellcheck=\"true\"># 每次数数加一</span>\n <span class=\"token number\">13</span>             number <span class=\"token operator\">+=</span> <span class=\"token number\">1</span>\n <span class=\"token number\">14</span>             <span class=\"token comment\" spellcheck=\"true\"># 数到9的人，弄死</span>\n <span class=\"token number\">15</span>             <span class=\"token keyword\">if</span> number <span class=\"token operator\">==</span> <span class=\"token number\">9</span><span class=\"token punctuation\">:</span>\n <span class=\"token number\">16</span>                 <span class=\"token comment\" spellcheck=\"true\"># 把它的值变为False</span>\n <span class=\"token number\">17</span>                 persons<span class=\"token punctuation\">[</span>index<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token boolean\">False</span>\n <span class=\"token number\">18</span>                 <span class=\"token comment\" spellcheck=\"true\"># 每选出一个人，counter数量加一</span>\n <span class=\"token number\">19</span>                 counter <span class=\"token operator\">+=</span> <span class=\"token number\">1</span>\n <span class=\"token number\">20</span>                 <span class=\"token comment\" spellcheck=\"true\"># 弄死的人，后面人又从0开始数数</span>\n <span class=\"token number\">21</span>                 number <span class=\"token operator\">=</span> <span class=\"token number\">0</span>\n <span class=\"token number\">22</span>         <span class=\"token comment\" spellcheck=\"true\"># 移动下标</span>\n <span class=\"token number\">23</span>         index <span class=\"token operator\">+=</span> <span class=\"token number\">1</span>\n <span class=\"token number\">24</span>         <span class=\"token comment\" spellcheck=\"true\"># 保证有效的下标</span>\n <span class=\"token number\">25</span>         index <span class=\"token operator\">%=</span> len<span class=\"token punctuation\">(</span>persons<span class=\"token punctuation\">)</span>\n <span class=\"token number\">26</span>     <span class=\"token keyword\">for</span> person <span class=\"token keyword\">in</span> persons<span class=\"token punctuation\">:</span>\n <span class=\"token number\">27</span>         <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"基\"</span> <span class=\"token keyword\">if</span> person <span class=\"token keyword\">else</span> <span class=\"token string\">\"非\"</span><span class=\"token punctuation\">,</span> end <span class=\"token operator\">=</span> <span class=\"token string\">\"\"</span><span class=\"token punctuation\">)</span>\n <span class=\"token number\">28</span>     <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n <span class=\"token number\">29</span> \n <span class=\"token number\">30</span> \n <span class=\"token number\">31</span> <span class=\"token keyword\">if</span> __name__ <span class=\"token operator\">==</span> <span class=\"token string\">\"__main__\"</span><span class=\"token punctuation\">:</span>\n <span class=\"token number\">32</span>     main<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n</code></pre>\n<p>####practice3_salary</p>\n<pre class=\" language-python\"><code class=\"language-python\">  <span class=\"token number\">1</span> <span class=\"token comment\" spellcheck=\"true\">#!/usr/bin/python3</span>\n  <span class=\"token number\">2</span> <span class=\"token keyword\">from</span> abc <span class=\"token keyword\">import</span> ABCMeta<span class=\"token punctuation\">,</span> abstractmethod\n  <span class=\"token number\">3</span> <span class=\"token triple-quoted-string string\">\"\"\"\n  4 面向对象的程序设计基本步骤：\n  5 1. 定义类\n  6     - 数据抽象: 找到对象的静态特征-属性(名词)\n  7     - 行为抽象: 找到对象的动态特征-方法(动词)\n  8 2. 创建对象(隐藏实现细节，暴露简单的调用接口)\n  9 3. 给对象发消息\n 10 \n 11 面向对象的四大支柱：抽象、封装、继承、多态\n 12 抽象：定义类的过程就是提取共性的抽象过程\n 13 封装：将数据和操作数据方法从逻辑上组成一个整体-对象\n 14 继承：从已有的类创建新类的过程\n 15     - 提供继承信息的称为父类\n 16     - 得到继承信息的称为子类\n 17 多态：调用相同的方法做了不同的事情\n 18     - 同样的方法在运行时表现出不同行为\n 19     - 子类重写父类的方法，不同的子类给出不同的实现版本\n 20 \"\"\"</span>\n <span class=\"token number\">21</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">Employee</span><span class=\"token punctuation\">(</span>metaclass<span class=\"token operator\">=</span>ABCMeta<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n <span class=\"token number\">22</span>     <span class=\"token comment\" spellcheck=\"true\"># metaclass=ABCMeta 原类，让子类不能再创建这个抽象对象，给别人继承</span>\n <span class=\"token number\">23</span> \n <span class=\"token number\">24</span>     <span class=\"token keyword\">def</span> <span class=\"token function\">__init__</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">,</span> name<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n <span class=\"token number\">25</span>         self<span class=\"token punctuation\">.</span>name <span class=\"token operator\">=</span> name\n <span class=\"token number\">26</span> \n <span class=\"token number\">27</span>     <span class=\"token comment\" spellcheck=\"true\"># 装饰器</span>\n <span class=\"token number\">28</span>     @abstractmethod\n <span class=\"token number\">29</span>     <span class=\"token keyword\">def</span> <span class=\"token function\">salary</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n <span class=\"token number\">30</span>         <span class=\"token keyword\">pass</span>\n <span class=\"token number\">31</span> \n <span class=\"token number\">32</span> \n <span class=\"token number\">33</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">Manager</span><span class=\"token punctuation\">(</span>Employee<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n <span class=\"token number\">34</span>     <span class=\"token triple-quoted-string string\">\"\"\"经理\"\"\"</span>\n <span class=\"token number\">35</span> \n <span class=\"token number\">36</span>     @property\n <span class=\"token number\">37</span>     <span class=\"token keyword\">def</span> <span class=\"token function\">salary</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n <span class=\"token number\">38</span>         <span class=\"token keyword\">return</span> <span class=\"token number\">15000</span>\n <span class=\"token number\">39</span> \n <span class=\"token number\">40</span> \n <span class=\"token number\">41</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">Programmer</span><span class=\"token punctuation\">(</span>Employee<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n <span class=\"token number\">42</span>     <span class=\"token triple-quoted-string string\">\"\"\"程序员\"\"\"</span>\n <span class=\"token number\">43</span> \n <span class=\"token number\">44</span>     <span class=\"token keyword\">def</span> <span class=\"token function\">__init__</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">,</span> name<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n <span class=\"token number\">45</span>         super<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>__init__<span class=\"token punctuation\">(</span>name<span class=\"token punctuation\">)</span>\n <span class=\"token number\">46</span>         <span class=\"token comment\" spellcheck=\"true\"># self.name = name</span>\n <span class=\"token number\">47</span>         self<span class=\"token punctuation\">.</span>working_hour <span class=\"token operator\">=</span> <span class=\"token number\">0</span>\n <span class=\"token number\">48</span> \n <span class=\"token number\">49</span>     @property\n <span class=\"token number\">50</span>     <span class=\"token keyword\">def</span> <span class=\"token function\">salary</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n <span class=\"token number\">51</span>         <span class=\"token keyword\">return</span> <span class=\"token number\">200</span> <span class=\"token operator\">*</span> self<span class=\"token punctuation\">.</span>working_hour\n <span class=\"token number\">52</span> \n <span class=\"token number\">53</span> \n <span class=\"token number\">54</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">Salesman</span><span class=\"token punctuation\">(</span>Employee<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n <span class=\"token number\">55</span>     <span class=\"token triple-quoted-string string\">\"\"\"销售员\"\"\"</span>\n <span class=\"token number\">56</span> \n <span class=\"token number\">57</span>     <span class=\"token keyword\">def</span> <span class=\"token function\">__init__</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">,</span> name<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n <span class=\"token number\">58</span>         self<span class=\"token punctuation\">.</span>name <span class=\"token operator\">=</span> name\n <span class=\"token number\">59</span>         self<span class=\"token punctuation\">.</span>sales <span class=\"token operator\">=</span> <span class=\"token number\">0</span>\n <span class=\"token number\">60</span> \n <span class=\"token number\">61</span>     @property\n <span class=\"token number\">62</span>     <span class=\"token keyword\">def</span> <span class=\"token function\">salary</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n <span class=\"token number\">63</span>         <span class=\"token keyword\">return</span> <span class=\"token number\">1800</span> <span class=\"token operator\">+</span> self<span class=\"token punctuation\">.</span>sales <span class=\"token operator\">*</span> <span class=\"token number\">0.05</span>\n <span class=\"token number\">64</span> \n <span class=\"token number\">65</span> \n <span class=\"token number\">66</span> <span class=\"token triple-quoted-string string\">\"\"\"工资结算\"\"\"</span>\n <span class=\"token number\">67</span> <span class=\"token keyword\">def</span> <span class=\"token function\">main</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n <span class=\"token number\">68</span>     <span class=\"token triple-quoted-string string\">\"\"\"主函数\"\"\"</span>\n <span class=\"token number\">69</span>     emps <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span>\n <span class=\"token number\">70</span>         Manager<span class=\"token punctuation\">(</span><span class=\"token string\">\"刘备\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> Manager<span class=\"token punctuation\">(</span><span class=\"token string\">\"曹操\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n <span class=\"token number\">71</span>         Programmer<span class=\"token punctuation\">(</span><span class=\"token string\">\"诸葛亮\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> Programmer<span class=\"token punctuation\">(</span><span class=\"token string\">\"荀彧\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n <span class=\"token number\">72</span>         Salesman<span class=\"token punctuation\">(</span><span class=\"token string\">\"貂蝉\"</span><span class=\"token punctuation\">)</span>\n <span class=\"token number\">73</span>     <span class=\"token punctuation\">]</span>\n <span class=\"token number\">74</span>     <span class=\"token keyword\">for</span> emp <span class=\"token keyword\">in</span> emps<span class=\"token punctuation\">:</span>\n <span class=\"token number\">75</span>         <span class=\"token comment\" spellcheck=\"true\"># isinstance函数可以进行运行时类型识别，判断函数类型</span>\n <span class=\"token number\">76</span>         <span class=\"token keyword\">if</span> isinstance<span class=\"token punctuation\">(</span>emp<span class=\"token punctuation\">,</span> Programmer<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n <span class=\"token number\">77</span>             emp<span class=\"token punctuation\">.</span>working_hour <span class=\"token operator\">=</span> int<span class=\"token punctuation\">(</span>input<span class=\"token punctuation\">(</span>f<span class=\"token string\">'请输入{emp.name}本月工作时间: '</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n <span class=\"token number\">78</span>         <span class=\"token keyword\">elif</span> isinstance<span class=\"token punctuation\">(</span>emp<span class=\"token punctuation\">,</span> Salesman<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n <span class=\"token number\">79</span>             emp<span class=\"token punctuation\">.</span>sales <span class=\"token operator\">=</span> float<span class=\"token punctuation\">(</span>input<span class=\"token punctuation\">(</span>f<span class=\"token string\">'请输入{emp.name}本月销售额: '</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n <span class=\"token number\">80</span>        <span class=\"token comment\" spellcheck=\"true\">#print('%s: %.2f元' % (emp.name, emp.salary))</span>\n <span class=\"token number\">81</span>         <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>f<span class=\"token string\">\"{emp.name}本月的工资为: {emp.salary}元\"</span><span class=\"token punctuation\">)</span>\n <span class=\"token number\">82</span> \n <span class=\"token number\">83</span> \n <span class=\"token number\">84</span> <span class=\"token keyword\">if</span> __name__ <span class=\"token operator\">==</span> <span class=\"token string\">\"__main__\"</span><span class=\"token punctuation\">:</span>\n <span class=\"token number\">85</span>     main<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n</code></pre>\n<h4 id=\"practice-poker\"><a href=\"#practice-poker\" class=\"headerlink\" title=\"practice_poker\"></a>practice_poker</h4><pre class=\" language-python\"><code class=\"language-python\">  <span class=\"token number\">1</span> <span class=\"token comment\" spellcheck=\"true\">#!/usr/bin/python3</span>\n  <span class=\"token number\">2</span> \n  <span class=\"token number\">3</span> <span class=\"token keyword\">from</span> enum <span class=\"token keyword\">import</span> Enum<span class=\"token punctuation\">,</span> unique\n  <span class=\"token number\">4</span> <span class=\"token keyword\">import</span> random\n  <span class=\"token number\">5</span> \n  <span class=\"token number\">6</span> \n  <span class=\"token number\">7</span> <span class=\"token comment\" spellcheck=\"true\"># 定义花色的常量(尽量用符号常量代替字面常量)</span>\n  <span class=\"token number\">8</span> <span class=\"token comment\" spellcheck=\"true\"># 枚举类型是定义符号常量的最佳选择</span>\n  <span class=\"token number\">9</span> <span class=\"token comment\" spellcheck=\"true\"># @unique 类的装饰器，类里面的变量不能重复，独一无二的</span>\n <span class=\"token number\">10</span> \n <span class=\"token number\">11</span> <span class=\"token triple-quoted-string string\">\"\"\"花色枚举类，用来定义黑桃、红心、梅花、方块常量\"\"\"</span>\n <span class=\"token number\">12</span> @unique\n <span class=\"token number\">13</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">Suite</span><span class=\"token punctuation\">(</span>Enum<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n <span class=\"token number\">14</span>     SPADE <span class=\"token operator\">=</span> <span class=\"token number\">0</span>\n <span class=\"token number\">15</span>     HEART <span class=\"token operator\">=</span> <span class=\"token number\">1</span>\n <span class=\"token number\">16</span>     CLUB <span class=\"token operator\">=</span> <span class=\"token number\">2</span>\n <span class=\"token number\">17</span>     DIAMOND <span class=\"token operator\">=</span> <span class=\"token number\">3</span>\n <span class=\"token number\">18</span> \n <span class=\"token number\">19</span> \n <span class=\"token number\">20</span> <span class=\"token triple-quoted-string string\">\"\"\"定义扑克类\"\"\"</span>\n <span class=\"token number\">21</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">Card</span><span class=\"token punctuation\">(</span>object<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n <span class=\"token number\">22</span> \n <span class=\"token number\">23</span>     <span class=\"token keyword\">def</span> <span class=\"token function\">__init__</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">,</span> suite<span class=\"token punctuation\">,</span> face<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n <span class=\"token number\">24</span>         self<span class=\"token punctuation\">.</span>suite <span class=\"token operator\">=</span> suite\n <span class=\"token number\">25</span>         self<span class=\"token punctuation\">.</span>face <span class=\"token operator\">=</span> face\n <span class=\"token number\">26</span> \n <span class=\"token number\">27</span>     <span class=\"token keyword\">def</span> <span class=\"token function\">show</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n <span class=\"token number\">28</span>         suites <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token string\">\"黑\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"红\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"梅\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"方\"</span><span class=\"token punctuation\">]</span>\n <span class=\"token number\">29</span>         faces <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span>\n <span class=\"token number\">30</span>             <span class=\"token string\">\"\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"A\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"2\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"3\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"4\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"5\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"6\"</span><span class=\"token punctuation\">,</span>\n <span class=\"token number\">31</span>             <span class=\"token string\">\"7\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"8\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"9\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"10\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"J\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"Q\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"K\"</span>\n <span class=\"token number\">32</span>         <span class=\"token punctuation\">]</span>\n <span class=\"token number\">33</span>         <span class=\"token keyword\">return</span> f<span class=\"token string\">\"{suites[self.suite.value]}{faces[self.face]}\"</span>\n <span class=\"token number\">34</span>     <span class=\"token triple-quoted-string string\">\"\"\"\n 35     # 比较大小\n 36     def __lt__(self, other):\n 37         if self.suite == other.suite:\n 38             return self.face &lt; other.face\n 39         return self.suite.value &lt; other.suite.value\n 40     \"\"\"</span>\n <span class=\"token number\">41</span> \n <span class=\"token number\">42</span>     <span class=\"token comment\" spellcheck=\"true\"># 把对象变成字符串（魔术方法）</span>\n <span class=\"token number\">43</span>     <span class=\"token keyword\">def</span> <span class=\"token function\">__str__</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n <span class=\"token number\">44</span>         <span class=\"token keyword\">return</span> self<span class=\"token punctuation\">.</span>show<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n <span class=\"token number\">45</span> \n <span class=\"token number\">46</span>     <span class=\"token comment\" spellcheck=\"true\"># 把对象变成字符串（魔术方法）</span>\n <span class=\"token number\">47</span>     <span class=\"token keyword\">def</span> <span class=\"token function\">__repr__</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n <span class=\"token number\">48</span>         <span class=\"token keyword\">return</span> self<span class=\"token punctuation\">.</span>show<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n <span class=\"token number\">49</span> \n <span class=\"token number\">50</span> \n <span class=\"token number\">51</span> <span class=\"token triple-quoted-string string\">\"\"\"牌类\"\"\"</span>\n <span class=\"token number\">52</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">Poker</span><span class=\"token punctuation\">(</span>object<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n <span class=\"token number\">53</span> \n <span class=\"token number\">54</span>     <span class=\"token keyword\">def</span> <span class=\"token function\">__init__</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n <span class=\"token number\">55</span>         self<span class=\"token punctuation\">.</span>index <span class=\"token operator\">=</span> <span class=\"token number\">0</span>\n <span class=\"token number\">56</span>         <span class=\"token comment\" spellcheck=\"true\"># 生成一副牌，生成式</span>\n <span class=\"token number\">57</span>         self<span class=\"token punctuation\">.</span>cards <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span>Card<span class=\"token punctuation\">(</span>suite<span class=\"token punctuation\">,</span> face<span class=\"token punctuation\">)</span>\n <span class=\"token number\">58</span>                       <span class=\"token keyword\">for</span> suite <span class=\"token keyword\">in</span> Suite\n <span class=\"token number\">59</span>                       <span class=\"token keyword\">for</span> face <span class=\"token keyword\">in</span> range<span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">14</span><span class=\"token punctuation\">)</span>\n <span class=\"token number\">60</span>         <span class=\"token punctuation\">]</span>\n <span class=\"token number\">61</span> \n <span class=\"token number\">62</span>     <span class=\"token keyword\">def</span> <span class=\"token function\">shuffle</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n <span class=\"token number\">63</span>         <span class=\"token triple-quoted-string string\">\"\"\"洗牌，调用随机乱序的函数\"\"\"</span>\n <span class=\"token number\">64</span>         random<span class=\"token punctuation\">.</span>shuffle<span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">.</span>cards<span class=\"token punctuation\">)</span>\n <span class=\"token number\">65</span> \n <span class=\"token number\">66</span>     <span class=\"token keyword\">def</span> <span class=\"token function\">deal</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n <span class=\"token number\">67</span>         <span class=\"token triple-quoted-string string\">\"\"\"发牌\"\"\"</span>\n <span class=\"token number\">68</span>         card <span class=\"token operator\">=</span> self<span class=\"token punctuation\">.</span>cards<span class=\"token punctuation\">[</span>self<span class=\"token punctuation\">.</span>index<span class=\"token punctuation\">]</span>\n <span class=\"token number\">69</span>         self<span class=\"token punctuation\">.</span>index <span class=\"token operator\">+=</span> <span class=\"token number\">1</span>\n <span class=\"token number\">70</span>         <span class=\"token keyword\">return</span> card\n <span class=\"token number\">71</span> \n <span class=\"token number\">72</span>     @property\n <span class=\"token number\">73</span>     <span class=\"token keyword\">def</span> <span class=\"token function\">has_more</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n <span class=\"token number\">74</span>         <span class=\"token triple-quoted-string string\">\"\"\"判断是否有牌发\"\"\"</span>\n <span class=\"token number\">75</span>         <span class=\"token keyword\">return</span> self<span class=\"token punctuation\">.</span>index <span class=\"token operator\">&lt;</span> len<span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">.</span>cards<span class=\"token punctuation\">)</span>\n <span class=\"token number\">76</span> \n <span class=\"token number\">77</span> \n <span class=\"token number\">78</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">Player</span><span class=\"token punctuation\">(</span>object<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n <span class=\"token number\">79</span>     <span class=\"token triple-quoted-string string\">\"\"\"玩家\"\"\"</span>\n <span class=\"token number\">80</span> \n <span class=\"token number\">81</span>     <span class=\"token keyword\">def</span> <span class=\"token function\">__init__</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">,</span> name<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n <span class=\"token number\">82</span>         self<span class=\"token punctuation\">.</span>name <span class=\"token operator\">=</span> name\n <span class=\"token number\">83</span>         self<span class=\"token punctuation\">.</span>cards <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span>\n <span class=\"token number\">84</span> \n <span class=\"token number\">85</span>     <span class=\"token keyword\">def</span> <span class=\"token function\">get_one</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">,</span> card<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n <span class=\"token number\">86</span>         <span class=\"token triple-quoted-string string\">\"\"\"摸一张牌\"\"\"</span>\n <span class=\"token number\">87</span>         self<span class=\"token punctuation\">.</span>cards<span class=\"token punctuation\">.</span>append<span class=\"token punctuation\">(</span>card<span class=\"token punctuation\">)</span>\n <span class=\"token number\">88</span> \n <span class=\"token number\">89</span>     <span class=\"token comment\" spellcheck=\"true\"># *后面的是命名关键字参数，必须写参数名key</span>\n <span class=\"token number\">90</span>     <span class=\"token keyword\">def</span> <span class=\"token function\">sort_cards</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">,</span> <span class=\"token operator\">*</span><span class=\"token punctuation\">,</span> key<span class=\"token operator\">=</span><span class=\"token keyword\">lambda</span> card<span class=\"token punctuation\">:</span>\n <span class=\"token number\">91</span>                       <span class=\"token punctuation\">(</span>card<span class=\"token punctuation\">.</span>suite<span class=\"token punctuation\">.</span>value<span class=\"token punctuation\">,</span> card<span class=\"token punctuation\">.</span>face<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n <span class=\"token number\">92</span>         <span class=\"token triple-quoted-string string\">\"\"\" 整理手上的牌\"\"\"</span>\n <span class=\"token number\">93</span>         self<span class=\"token punctuation\">.</span>cards<span class=\"token punctuation\">.</span>sort<span class=\"token punctuation\">(</span>key<span class=\"token operator\">=</span>key<span class=\"token punctuation\">)</span>\n <span class=\"token number\">94</span> \n <span class=\"token number\">95</span> \n <span class=\"token number\">96</span> <span class=\"token keyword\">def</span> <span class=\"token function\">main</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n <span class=\"token number\">97</span>     poker <span class=\"token operator\">=</span> Poker<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n <span class=\"token number\">98</span>     poker<span class=\"token punctuation\">.</span>shuffle<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n <span class=\"token number\">99</span>     players <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span>\n<span class=\"token number\">100</span>                Player<span class=\"token punctuation\">(</span><span class=\"token string\">\"东邪\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> Player<span class=\"token punctuation\">(</span><span class=\"token string\">\"西毒\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> Player<span class=\"token punctuation\">(</span><span class=\"token string\">\"南帝\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n<span class=\"token number\">101</span>                Player<span class=\"token punctuation\">(</span><span class=\"token string\">\"北丐\"</span><span class=\"token punctuation\">)</span>\n<span class=\"token number\">102</span>     <span class=\"token punctuation\">]</span>\n<span class=\"token number\">103</span>     <span class=\"token keyword\">for</span> _ <span class=\"token keyword\">in</span> range<span class=\"token punctuation\">(</span><span class=\"token number\">13</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n<span class=\"token number\">104</span>         <span class=\"token keyword\">for</span> player <span class=\"token keyword\">in</span> players<span class=\"token punctuation\">:</span>\n<span class=\"token number\">105</span>             player<span class=\"token punctuation\">.</span>get_one<span class=\"token punctuation\">(</span>poker<span class=\"token punctuation\">.</span>deal<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n<span class=\"token number\">106</span>     <span class=\"token keyword\">for</span> player <span class=\"token keyword\">in</span> players<span class=\"token punctuation\">:</span>\n<span class=\"token number\">107</span>         player<span class=\"token punctuation\">.</span>sort_cards<span class=\"token punctuation\">(</span>key<span class=\"token operator\">=</span><span class=\"token keyword\">lambda</span> card<span class=\"token punctuation\">:</span> card<span class=\"token punctuation\">.</span>face<span class=\"token punctuation\">)</span>\n<span class=\"token number\">108</span>         <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>player<span class=\"token punctuation\">.</span>name<span class=\"token punctuation\">,</span> end<span class=\"token operator\">=</span><span class=\"token string\">\": \"</span><span class=\"token punctuation\">)</span>\n<span class=\"token number\">109</span>         <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>player<span class=\"token punctuation\">.</span>cards<span class=\"token punctuation\">)</span>\n<span class=\"token number\">110</span> \n<span class=\"token number\">111</span> \n<span class=\"token number\">112</span> <span class=\"token keyword\">if</span> __name__ <span class=\"token operator\">==</span> <span class=\"token string\">\"__main__\"</span><span class=\"token punctuation\">:</span>\n<span class=\"token number\">113</span>     main<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n</code></pre>\n<h4 id=\"practice-mycal\"><a href=\"#practice-mycal\" class=\"headerlink\" title=\"practice_mycal\"></a>practice_mycal</h4><pre class=\" language-python\"><code class=\"language-python\">  <span class=\"token number\">1</span> <span class=\"token comment\" spellcheck=\"true\">#!/usr/bin/python3</span>\n  <span class=\"token number\">2</span> <span class=\"token triple-quoted-string string\">\"\"\"\n  3 万年历\n  4 \"\"\"</span>\n  <span class=\"token number\">5</span> <span class=\"token keyword\">from</span> datetime <span class=\"token keyword\">import</span> datetime\n  <span class=\"token number\">6</span> <span class=\"token keyword\">import</span> sys\n  <span class=\"token number\">7</span> \n  <span class=\"token number\">8</span> \n  <span class=\"token number\">9</span> <span class=\"token keyword\">def</span> <span class=\"token function\">is_leap</span><span class=\"token punctuation\">(</span>year<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n <span class=\"token number\">10</span>     <span class=\"token triple-quoted-string string\">\"\"\"判断指定年份是否是闰年\"\"\"</span>\n <span class=\"token number\">11</span>     <span class=\"token keyword\">return</span> year <span class=\"token operator\">%</span> <span class=\"token number\">4</span> <span class=\"token operator\">==</span> <span class=\"token number\">0</span> <span class=\"token operator\">and</span> year <span class=\"token operator\">%</span> <span class=\"token number\">100</span> <span class=\"token operator\">!=</span> <span class=\"token number\">0</span> <span class=\"token operator\">or</span> year <span class=\"token operator\">%</span> <span class=\"token number\">400</span> <span class=\"token operator\">==</span> <span class=\"token number\">0</span>\n <span class=\"token number\">12</span> \n <span class=\"token number\">13</span> \n <span class=\"token number\">14</span> <span class=\"token keyword\">def</span> <span class=\"token function\">get_month_days</span><span class=\"token punctuation\">(</span>year<span class=\"token punctuation\">,</span> month<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n <span class=\"token number\">15</span>     <span class=\"token triple-quoted-string string\">\"\"\"获得指定的月份的天数\"\"\"</span>\n <span class=\"token number\">16</span>     days <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">31</span><span class=\"token punctuation\">,</span> <span class=\"token number\">28</span><span class=\"token punctuation\">,</span> <span class=\"token number\">31</span><span class=\"token punctuation\">,</span> <span class=\"token number\">30</span><span class=\"token punctuation\">,</span> <span class=\"token number\">31</span><span class=\"token punctuation\">,</span> <span class=\"token number\">30</span><span class=\"token punctuation\">,</span> <span class=\"token number\">31</span><span class=\"token punctuation\">,</span> <span class=\"token number\">31</span><span class=\"token punctuation\">,</span> <span class=\"token number\">30</span><span class=\"token punctuation\">,</span> <span class=\"token number\">31</span><span class=\"token punctuation\">,</span> <span class=\"token number\">30</span><span class=\"token punctuation\">,</span> <span class=\"token number\">31</span><span class=\"token punctuation\">]</span>\n <span class=\"token number\">17</span>     <span class=\"token comment\" spellcheck=\"true\"># 修改2月份的天数</span>\n <span class=\"token number\">18</span>     <span class=\"token keyword\">if</span> month <span class=\"token operator\">==</span> <span class=\"token number\">2</span> <span class=\"token operator\">and</span> is_leap<span class=\"token punctuation\">(</span>year<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n <span class=\"token number\">19</span>         days<span class=\"token punctuation\">[</span><span class=\"token number\">2</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token number\">29</span>\n <span class=\"token number\">20</span>     <span class=\"token keyword\">return</span> days<span class=\"token punctuation\">[</span>month<span class=\"token punctuation\">]</span>\n <span class=\"token number\">21</span> \n <span class=\"token number\">22</span> \n <span class=\"token number\">23</span> <span class=\"token keyword\">def</span> <span class=\"token function\">main</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n <span class=\"token number\">24</span>     <span class=\"token comment\" spellcheck=\"true\"># 通过sys模块的argv可以获取命令行参数</span>\n <span class=\"token number\">25</span>     <span class=\"token keyword\">if</span> len<span class=\"token punctuation\">(</span>sys<span class=\"token punctuation\">.</span>argv<span class=\"token punctuation\">)</span> <span class=\"token operator\">==</span> <span class=\"token number\">3</span><span class=\"token punctuation\">:</span>\n <span class=\"token number\">26</span>         year <span class=\"token operator\">=</span> int<span class=\"token punctuation\">(</span>sys<span class=\"token punctuation\">.</span>argv<span class=\"token punctuation\">[</span><span class=\"token number\">2</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>\n <span class=\"token number\">27</span>         month <span class=\"token operator\">=</span> int<span class=\"token punctuation\">(</span>sys<span class=\"token punctuation\">.</span>argv<span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>\n <span class=\"token number\">28</span>     <span class=\"token keyword\">else</span><span class=\"token punctuation\">:</span>\n <span class=\"token number\">29</span>         <span class=\"token comment\" spellcheck=\"true\"># 拿到现在系统的时间和日期</span>\n <span class=\"token number\">30</span>         now <span class=\"token operator\">=</span> datetime<span class=\"token punctuation\">.</span>now<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n <span class=\"token number\">31</span>         year <span class=\"token operator\">=</span> now<span class=\"token punctuation\">.</span>year\n <span class=\"token number\">32</span>         month <span class=\"token operator\">=</span> now<span class=\"token punctuation\">.</span>month\n <span class=\"token number\">33</span>     <span class=\"token comment\" spellcheck=\"true\"># 拿到年，月小于2，算到上一年</span>\n <span class=\"token number\">34</span>     y <span class=\"token operator\">=</span> year <span class=\"token keyword\">if</span> month <span class=\"token operator\">></span> <span class=\"token number\">2</span> <span class=\"token keyword\">else</span> year <span class=\"token operator\">-</span> <span class=\"token number\">1</span>\n <span class=\"token number\">35</span>     <span class=\"token comment\" spellcheck=\"true\"># 拿到月，月小于2，算到13月或者14月</span>\n <span class=\"token number\">36</span>     m <span class=\"token operator\">=</span> month <span class=\"token keyword\">if</span> month <span class=\"token operator\">></span> <span class=\"token number\">2</span> <span class=\"token keyword\">else</span> month <span class=\"token operator\">+</span> <span class=\"token number\">12</span>\n <span class=\"token number\">37</span>     <span class=\"token comment\" spellcheck=\"true\"># 取到世纪，年份的前两位数</span>\n <span class=\"token number\">38</span>     c <span class=\"token operator\">=</span> y <span class=\"token operator\">//</span> <span class=\"token number\">100</span>\n <span class=\"token number\">39</span>     <span class=\"token comment\" spellcheck=\"true\"># 取到年的后两位</span>\n <span class=\"token number\">40</span>     y <span class=\"token operator\">=</span> y <span class=\"token operator\">%</span> <span class=\"token number\">100</span>\n <span class=\"token number\">41</span>     <span class=\"token comment\" spellcheck=\"true\"># 计算每个月1号是星期几</span>\n <span class=\"token number\">42</span>     w <span class=\"token operator\">=</span> y <span class=\"token operator\">+</span> y <span class=\"token operator\">//</span> <span class=\"token number\">4</span> <span class=\"token operator\">+</span> c <span class=\"token operator\">//</span> <span class=\"token number\">4</span> <span class=\"token operator\">-</span> <span class=\"token number\">2</span> <span class=\"token operator\">*</span> c <span class=\"token operator\">+</span> <span class=\"token number\">26</span> <span class=\"token operator\">*</span> <span class=\"token punctuation\">(</span>m <span class=\"token operator\">+</span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">//</span> <span class=\"token number\">10</span>\n <span class=\"token number\">43</span>     <span class=\"token comment\" spellcheck=\"true\"># 对7求余数，0对应星期日</span>\n <span class=\"token number\">44</span>     w <span class=\"token operator\">%=</span> <span class=\"token number\">7</span>\n <span class=\"token number\">45</span>     months <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span>\n <span class=\"token number\">46</span>         <span class=\"token string\">\"\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"January\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\" February\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"March\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"April\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"May\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\" June\"</span><span class=\"token punctuation\">,</span>\n <span class=\"token number\">47</span>         <span class=\"token string\">\" July\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\" August\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"September\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"October\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\" November\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\" December\"</span>\n <span class=\"token number\">48</span>     <span class=\"token punctuation\">]</span>\n <span class=\"token number\">49</span>     <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>f<span class=\"token string\">\"{months[month]} {year}\"</span><span class=\"token punctuation\">.</span>center<span class=\"token punctuation\">(</span><span class=\"token number\">20</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n <span class=\"token number\">50</span>     <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Su Mo Tu We Th Fr Sa\"</span><span class=\"token punctuation\">)</span>\n <span class=\"token number\">51</span>     <span class=\"token keyword\">print</span> <span class=\"token punctuation\">(</span><span class=\"token string\">\" \"</span> <span class=\"token operator\">*</span> <span class=\"token number\">3</span> <span class=\"token operator\">*</span> w<span class=\"token punctuation\">,</span>end<span class=\"token operator\">=</span><span class=\"token string\">\"\"</span><span class=\"token punctuation\">)</span>\n <span class=\"token number\">52</span>     days <span class=\"token operator\">=</span> get_month_days<span class=\"token punctuation\">(</span>year<span class=\"token punctuation\">,</span> month<span class=\"token punctuation\">)</span>\n        <span class=\"token comment\" spellcheck=\"true\"># 遍历月份的天数，进行排版</span>\n <span class=\"token number\">53</span>     <span class=\"token keyword\">for</span> day <span class=\"token keyword\">in</span> range<span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> days <span class=\"token operator\">+</span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n <span class=\"token number\">54</span>         <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>f<span class=\"token string\">\"{day}\"</span><span class=\"token punctuation\">.</span>rjust<span class=\"token punctuation\">(</span><span class=\"token number\">2</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> end<span class=\"token operator\">=</span><span class=\"token string\">\" \"</span><span class=\"token punctuation\">)</span>\n <span class=\"token number\">55</span>         w <span class=\"token operator\">+=</span> <span class=\"token number\">1</span>\n <span class=\"token number\">56</span>         <span class=\"token keyword\">if</span> w <span class=\"token operator\">%</span> <span class=\"token number\">7</span> <span class=\"token operator\">==</span> <span class=\"token number\">0</span><span class=\"token punctuation\">:</span>\n <span class=\"token number\">57</span>             <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n <span class=\"token number\">58</span>     <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n <span class=\"token number\">59</span> \n <span class=\"token number\">60</span> \n <span class=\"token number\">61</span> <span class=\"token keyword\">if</span> __name__ <span class=\"token operator\">==</span> <span class=\"token string\">\"__main__\"</span><span class=\"token punctuation\">:</span>\n <span class=\"token number\">62</span>     main<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n</code></pre>\n","site":{"data":{}},"excerpt":"","more":"<h4 id=\"practice1-fish\"><a href=\"#practice1-fish\" class=\"headerlink\" title=\"practice1_fish\"></a>practice1_fish</h4><pre><code class=\"python\">  1 #!/usr/bin/python3\n  2 \n  3 &quot;&quot;&quot;\n  4 穷举法:穷尽所有可能直到找到正确答案\n  5 &quot;&quot;&quot;\n  6 def main():\n  7     &quot;&quot;&quot;分鱼&quot;&quot;&quot;\n  8     fish = 1\n  9     while True:\n 10         enough = True\n 11         total = fish\n 12         for _ in range(5):\n 13             if (total - 1) % 5 == 0:\n 14                 total = (total - 1) // 5 *4\n 15             else:\n 16                 enough = False\n 17                 break\n 18         if enough:\n 19             print(fish)\n 20             break\n 21         fish += 1\n 22 \n 23 \n 24 if __name__ == &quot;__main__&quot;:\n 25     main()\n</code></pre>\n<h4 id=\"practice2-joseph\"><a href=\"#practice2-joseph\" class=\"headerlink\" title=\"practice2_joseph\"></a>practice2_joseph</h4><pre><code class=\"python\">  1 #!/usr/bin/python3\n  2 \n  3 &quot;&quot;&quot;约瑟夫环&quot;&quot;&quot;\n  4 def main():\n  5     &quot;&quot;&quot;主函数&quot;&quot;&quot;\n  6     persons = [True] * 30\n  7     # 设置变量，计数，下标，报数\n  8     counter, index, number = 0, 0, 0\n  9     #  循环选出15个人\n 10     while counter &lt; 15:\n 11         if persons[index]:\n 12             # 每次数数加一\n 13             number += 1\n 14             # 数到9的人，弄死\n 15             if number == 9:\n 16                 # 把它的值变为False\n 17                 persons[index] = False\n 18                 # 每选出一个人，counter数量加一\n 19                 counter += 1\n 20                 # 弄死的人，后面人又从0开始数数\n 21                 number = 0\n 22         # 移动下标\n 23         index += 1\n 24         # 保证有效的下标\n 25         index %= len(persons)\n 26     for person in persons:\n 27         print(&quot;基&quot; if person else &quot;非&quot;, end = &quot;&quot;)\n 28     print()\n 29 \n 30 \n 31 if __name__ == &quot;__main__&quot;:\n 32     main()\n</code></pre>\n<p>####practice3_salary</p>\n<pre><code class=\"python\">  1 #!/usr/bin/python3\n  2 from abc import ABCMeta, abstractmethod\n  3 &quot;&quot;&quot;\n  4 面向对象的程序设计基本步骤：\n  5 1. 定义类\n  6     - 数据抽象: 找到对象的静态特征-属性(名词)\n  7     - 行为抽象: 找到对象的动态特征-方法(动词)\n  8 2. 创建对象(隐藏实现细节，暴露简单的调用接口)\n  9 3. 给对象发消息\n 10 \n 11 面向对象的四大支柱：抽象、封装、继承、多态\n 12 抽象：定义类的过程就是提取共性的抽象过程\n 13 封装：将数据和操作数据方法从逻辑上组成一个整体-对象\n 14 继承：从已有的类创建新类的过程\n 15     - 提供继承信息的称为父类\n 16     - 得到继承信息的称为子类\n 17 多态：调用相同的方法做了不同的事情\n 18     - 同样的方法在运行时表现出不同行为\n 19     - 子类重写父类的方法，不同的子类给出不同的实现版本\n 20 &quot;&quot;&quot;\n 21 class Employee(metaclass=ABCMeta):\n 22     # metaclass=ABCMeta 原类，让子类不能再创建这个抽象对象，给别人继承\n 23 \n 24     def __init__(self, name):\n 25         self.name = name\n 26 \n 27     # 装饰器\n 28     @abstractmethod\n 29     def salary(self):\n 30         pass\n 31 \n 32 \n 33 class Manager(Employee):\n 34     &quot;&quot;&quot;经理&quot;&quot;&quot;\n 35 \n 36     @property\n 37     def salary(self):\n 38         return 15000\n 39 \n 40 \n 41 class Programmer(Employee):\n 42     &quot;&quot;&quot;程序员&quot;&quot;&quot;\n 43 \n 44     def __init__(self, name):\n 45         super().__init__(name)\n 46         # self.name = name\n 47         self.working_hour = 0\n 48 \n 49     @property\n 50     def salary(self):\n 51         return 200 * self.working_hour\n 52 \n 53 \n 54 class Salesman(Employee):\n 55     &quot;&quot;&quot;销售员&quot;&quot;&quot;\n 56 \n 57     def __init__(self, name):\n 58         self.name = name\n 59         self.sales = 0\n 60 \n 61     @property\n 62     def salary(self):\n 63         return 1800 + self.sales * 0.05\n 64 \n 65 \n 66 &quot;&quot;&quot;工资结算&quot;&quot;&quot;\n 67 def main():\n 68     &quot;&quot;&quot;主函数&quot;&quot;&quot;\n 69     emps = [\n 70         Manager(&quot;刘备&quot;), Manager(&quot;曹操&quot;),\n 71         Programmer(&quot;诸葛亮&quot;), Programmer(&quot;荀彧&quot;),\n 72         Salesman(&quot;貂蝉&quot;)\n 73     ]\n 74     for emp in emps:\n 75         # isinstance函数可以进行运行时类型识别，判断函数类型\n 76         if isinstance(emp, Programmer):\n 77             emp.working_hour = int(input(f&#39;请输入{emp.name}本月工作时间: &#39;))\n 78         elif isinstance(emp, Salesman):\n 79             emp.sales = float(input(f&#39;请输入{emp.name}本月销售额: &#39;))\n 80        #print(&#39;%s: %.2f元&#39; % (emp.name, emp.salary))\n 81         print(f&quot;{emp.name}本月的工资为: {emp.salary}元&quot;)\n 82 \n 83 \n 84 if __name__ == &quot;__main__&quot;:\n 85     main()\n</code></pre>\n<h4 id=\"practice-poker\"><a href=\"#practice-poker\" class=\"headerlink\" title=\"practice_poker\"></a>practice_poker</h4><pre><code class=\"python\">  1 #!/usr/bin/python3\n  2 \n  3 from enum import Enum, unique\n  4 import random\n  5 \n  6 \n  7 # 定义花色的常量(尽量用符号常量代替字面常量)\n  8 # 枚举类型是定义符号常量的最佳选择\n  9 # @unique 类的装饰器，类里面的变量不能重复，独一无二的\n 10 \n 11 &quot;&quot;&quot;花色枚举类，用来定义黑桃、红心、梅花、方块常量&quot;&quot;&quot;\n 12 @unique\n 13 class Suite(Enum):\n 14     SPADE = 0\n 15     HEART = 1\n 16     CLUB = 2\n 17     DIAMOND = 3\n 18 \n 19 \n 20 &quot;&quot;&quot;定义扑克类&quot;&quot;&quot;\n 21 class Card(object):\n 22 \n 23     def __init__(self, suite, face):\n 24         self.suite = suite\n 25         self.face = face\n 26 \n 27     def show(self):\n 28         suites = [&quot;黑&quot;, &quot;红&quot;, &quot;梅&quot;, &quot;方&quot;]\n 29         faces = [\n 30             &quot;&quot;, &quot;A&quot;, &quot;2&quot;, &quot;3&quot;, &quot;4&quot;, &quot;5&quot;, &quot;6&quot;,\n 31             &quot;7&quot;, &quot;8&quot;, &quot;9&quot;, &quot;10&quot;, &quot;J&quot;, &quot;Q&quot;, &quot;K&quot;\n 32         ]\n 33         return f&quot;{suites[self.suite.value]}{faces[self.face]}&quot;\n 34     &quot;&quot;&quot;\n 35     # 比较大小\n 36     def __lt__(self, other):\n 37         if self.suite == other.suite:\n 38             return self.face &lt; other.face\n 39         return self.suite.value &lt; other.suite.value\n 40     &quot;&quot;&quot;\n 41 \n 42     # 把对象变成字符串（魔术方法）\n 43     def __str__(self):\n 44         return self.show()\n 45 \n 46     # 把对象变成字符串（魔术方法）\n 47     def __repr__(self):\n 48         return self.show()\n 49 \n 50 \n 51 &quot;&quot;&quot;牌类&quot;&quot;&quot;\n 52 class Poker(object):\n 53 \n 54     def __init__(self):\n 55         self.index = 0\n 56         # 生成一副牌，生成式\n 57         self.cards = [Card(suite, face)\n 58                       for suite in Suite\n 59                       for face in range(1, 14)\n 60         ]\n 61 \n 62     def shuffle(self):\n 63         &quot;&quot;&quot;洗牌，调用随机乱序的函数&quot;&quot;&quot;\n 64         random.shuffle(self.cards)\n 65 \n 66     def deal(self):\n 67         &quot;&quot;&quot;发牌&quot;&quot;&quot;\n 68         card = self.cards[self.index]\n 69         self.index += 1\n 70         return card\n 71 \n 72     @property\n 73     def has_more(self):\n 74         &quot;&quot;&quot;判断是否有牌发&quot;&quot;&quot;\n 75         return self.index &lt; len(self.cards)\n 76 \n 77 \n 78 class Player(object):\n 79     &quot;&quot;&quot;玩家&quot;&quot;&quot;\n 80 \n 81     def __init__(self, name):\n 82         self.name = name\n 83         self.cards = []\n 84 \n 85     def get_one(self, card):\n 86         &quot;&quot;&quot;摸一张牌&quot;&quot;&quot;\n 87         self.cards.append(card)\n 88 \n 89     # *后面的是命名关键字参数，必须写参数名key\n 90     def sort_cards(self, *, key=lambda card:\n 91                       (card.suite.value, card.face)):\n 92         &quot;&quot;&quot; 整理手上的牌&quot;&quot;&quot;\n 93         self.cards.sort(key=key)\n 94 \n 95 \n 96 def main():\n 97     poker = Poker()\n 98     poker.shuffle()\n 99     players = [\n100                Player(&quot;东邪&quot;), Player(&quot;西毒&quot;), Player(&quot;南帝&quot;),\n101                Player(&quot;北丐&quot;)\n102     ]\n103     for _ in range(13):\n104         for player in players:\n105             player.get_one(poker.deal())\n106     for player in players:\n107         player.sort_cards(key=lambda card: card.face)\n108         print(player.name, end=&quot;: &quot;)\n109         print(player.cards)\n110 \n111 \n112 if __name__ == &quot;__main__&quot;:\n113     main()\n</code></pre>\n<h4 id=\"practice-mycal\"><a href=\"#practice-mycal\" class=\"headerlink\" title=\"practice_mycal\"></a>practice_mycal</h4><pre><code class=\"python\">  1 #!/usr/bin/python3\n  2 &quot;&quot;&quot;\n  3 万年历\n  4 &quot;&quot;&quot;\n  5 from datetime import datetime\n  6 import sys\n  7 \n  8 \n  9 def is_leap(year):\n 10     &quot;&quot;&quot;判断指定年份是否是闰年&quot;&quot;&quot;\n 11     return year % 4 == 0 and year % 100 != 0 or year % 400 == 0\n 12 \n 13 \n 14 def get_month_days(year, month):\n 15     &quot;&quot;&quot;获得指定的月份的天数&quot;&quot;&quot;\n 16     days = [0, 31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31]\n 17     # 修改2月份的天数\n 18     if month == 2 and is_leap(year):\n 19         days[2] = 29\n 20     return days[month]\n 21 \n 22 \n 23 def main():\n 24     # 通过sys模块的argv可以获取命令行参数\n 25     if len(sys.argv) == 3:\n 26         year = int(sys.argv[2])\n 27         month = int(sys.argv[1])\n 28     else:\n 29         # 拿到现在系统的时间和日期\n 30         now = datetime.now()\n 31         year = now.year\n 32         month = now.month\n 33     # 拿到年，月小于2，算到上一年\n 34     y = year if month &gt; 2 else year - 1\n 35     # 拿到月，月小于2，算到13月或者14月\n 36     m = month if month &gt; 2 else month + 12\n 37     # 取到世纪，年份的前两位数\n 38     c = y // 100\n 39     # 取到年的后两位\n 40     y = y % 100\n 41     # 计算每个月1号是星期几\n 42     w = y + y // 4 + c // 4 - 2 * c + 26 * (m + 1) // 10\n 43     # 对7求余数，0对应星期日\n 44     w %= 7\n 45     months = [\n 46         &quot;&quot;, &quot;January&quot;, &quot; February&quot;, &quot;March&quot;, &quot;April&quot;, &quot;May&quot;, &quot; June&quot;,\n 47         &quot; July&quot;, &quot; August&quot;, &quot;September&quot;, &quot;October&quot;, &quot; November&quot;, &quot; December&quot;\n 48     ]\n 49     print(f&quot;{months[month]} {year}&quot;.center(20))\n 50     print(&quot;Su Mo Tu We Th Fr Sa&quot;)\n 51     print (&quot; &quot; * 3 * w,end=&quot;&quot;)\n 52     days = get_month_days(year, month)\n        # 遍历月份的天数，进行排版\n 53     for day in range(1, days + 1):\n 54         print(f&quot;{day}&quot;.rjust(2), end=&quot; &quot;)\n 55         w += 1\n 56         if w % 7 == 0:\n 57             print()\n 58     print()\n 59 \n 60 \n 61 if __name__ == &quot;__main__&quot;:\n 62     main()\n</code></pre>\n"},{"title":"总结-意外的操作","date":"2018-09-15T16:00:00.000Z","author":"smile","_content":"\n###  hexo中，将图片上传到hexo中\n\n##### First\n- 1. 把主页配置文件_config.yml里的post_asset_folder:这个选项设置为true\n\n- 2. 在你的hexo目录下执行这样一句话npm install hexo-asset-image --save，这是下载安装一个可以上传本地图片的插件，来自dalao：dalao的git\n\n- 3. 等待一小段时间后，再运行hexo n \"xxxx\"来生成md博文时，/source/_posts文件夹内除了xxxx.md文件还有一个同名的文件夹\n\n##### Second\n\n- 4. 最后在xxxx.md中想引入图片时，先把图片复制到xxxx这个文件夹中，然后只需要在xxxx.md中按照markdown的格式引入图片：\n     `![你想输入的替代文字](xxxx/图片名.jpg)`\n\n注意： xxxx是这个md文件的名字，也是同名文件夹的名字。只需要有文件夹名字即可，不需要有什么绝对路径。你想引入的图片就只需要放入xxxx这个文件夹内就好了，很像引用相对路径。\n\n- 5. 最后检查一下，hexo g 生成页面后，进入public\\2017\\02\\26\\index.html文件中查看相关字段，可以发现，html标签内的语句是`<img src=\"2017/02/26/xxxx/图片名.jpg\">`，而不是`<img src=\"xxxx/图片名.jpg>`这很重要，关乎你的网页是否可以真正加载你想插入的图片。\n\n###   GitHub中上传的图片\n\n- 1.在git的文件夹中创建一个img的文件夹，用来存储图片\n- 2.然后上传到github中，每一张图片都有自己对应的url路由\n- 3.在写MarkDown的时候，需要插入图片，**`![你想输入的替代文字](url)`**保存后，在github上就可以看到了\n\n### Gitee中的图片\n\n- 1.gitee上有一个在线编辑的工具，进入你的MarkDown文件中，在右上角有一个编辑的按钮\n- 2.进入编辑，就有插入图片的标识，然后可以选择插入图片的地址（网上图片直接插入，点击那个地址框前面的图片标识，进入本地文件，然后选择本地图片）\n- 3.插入完成后，在末尾有一个保存更新，就成功插入图片了\n\n#### 在git中，将本地的文件上传到GitHub库中\n\n- 先添加一个本地文件 `git add 文件名`\n- 再上传到库中 `git commit -m \"上传说明\"`\n- 最后同步GitHub上 `git push`\n\n###  博客连接GItHub的二级域名的方法：\n\nhttps://blog.csdn.net/lmj623565791/article/details/51319147\n\n### 修改服务器的登录提示语\n\n修改文件夹      / etc / profile\n\n###  从Linux上传文件到阿里云服务器\n\n######  安装Nginx\n**Nginx**:是一款轻量级的Web 服务器/反向代理服务器及电子邮件（IMAP/POP3）代理服务器\n\n1.安装Nginx：\n`yum -y install nginx` \n\n2.启动Nginx：\n`systemctl start nginx / service nginx start(centos6)`\n\n（可以通过IP访问，打开防火墙）\nIP地址可以确定网络上的一台主机，端口号可以用来区分不同的服务（http - 80）\n\n- /usr/share/nginx/html ---------- 服务器内容的存放位置，上传文件(put),下载文件(get)，首页文件index.html,在index.html文件中添加a标签的超链接\n- /etc/nginx/nginx.conf ---------- 服务器配置内容文件\n\nsftp root@Ip\n#####  sftp常用命令\n- quit / exit / bye --- 退出sftp\n- cd / lcd ----- 切换远端工作目录/切换本地工作目录\n- pwd / lpwd ---- 查看远端工作目录/查看本地工作目录\n- ls / lls ---- 查看远端目录内容/查看本地目录内容\n- mkdir / lmkdir ---- 创建远端目录/创建本地目录\n\n**苹果系统**\n\n- 进到相应的文件夹\n\n![put](意外的操作\\put.jpg)\n\n- 上传文件\n\n\n\n![1](意外的操作\\1.jpg)\n\n**window系统**\n\n通过Xftp软件，上传文件","source":"_posts/Linux/意外的操作.md","raw":"---\ntitle: 总结-意外的操作\ndate: 2018-09-16\nauthor: smile\ntags:\n  - hexo上传图片\n  - github上传图片\n---\n\n###  hexo中，将图片上传到hexo中\n\n##### First\n- 1. 把主页配置文件_config.yml里的post_asset_folder:这个选项设置为true\n\n- 2. 在你的hexo目录下执行这样一句话npm install hexo-asset-image --save，这是下载安装一个可以上传本地图片的插件，来自dalao：dalao的git\n\n- 3. 等待一小段时间后，再运行hexo n \"xxxx\"来生成md博文时，/source/_posts文件夹内除了xxxx.md文件还有一个同名的文件夹\n\n##### Second\n\n- 4. 最后在xxxx.md中想引入图片时，先把图片复制到xxxx这个文件夹中，然后只需要在xxxx.md中按照markdown的格式引入图片：\n     `![你想输入的替代文字](xxxx/图片名.jpg)`\n\n注意： xxxx是这个md文件的名字，也是同名文件夹的名字。只需要有文件夹名字即可，不需要有什么绝对路径。你想引入的图片就只需要放入xxxx这个文件夹内就好了，很像引用相对路径。\n\n- 5. 最后检查一下，hexo g 生成页面后，进入public\\2017\\02\\26\\index.html文件中查看相关字段，可以发现，html标签内的语句是`<img src=\"2017/02/26/xxxx/图片名.jpg\">`，而不是`<img src=\"xxxx/图片名.jpg>`这很重要，关乎你的网页是否可以真正加载你想插入的图片。\n\n###   GitHub中上传的图片\n\n- 1.在git的文件夹中创建一个img的文件夹，用来存储图片\n- 2.然后上传到github中，每一张图片都有自己对应的url路由\n- 3.在写MarkDown的时候，需要插入图片，**`![你想输入的替代文字](url)`**保存后，在github上就可以看到了\n\n### Gitee中的图片\n\n- 1.gitee上有一个在线编辑的工具，进入你的MarkDown文件中，在右上角有一个编辑的按钮\n- 2.进入编辑，就有插入图片的标识，然后可以选择插入图片的地址（网上图片直接插入，点击那个地址框前面的图片标识，进入本地文件，然后选择本地图片）\n- 3.插入完成后，在末尾有一个保存更新，就成功插入图片了\n\n#### 在git中，将本地的文件上传到GitHub库中\n\n- 先添加一个本地文件 `git add 文件名`\n- 再上传到库中 `git commit -m \"上传说明\"`\n- 最后同步GitHub上 `git push`\n\n###  博客连接GItHub的二级域名的方法：\n\nhttps://blog.csdn.net/lmj623565791/article/details/51319147\n\n### 修改服务器的登录提示语\n\n修改文件夹      / etc / profile\n\n###  从Linux上传文件到阿里云服务器\n\n######  安装Nginx\n**Nginx**:是一款轻量级的Web 服务器/反向代理服务器及电子邮件（IMAP/POP3）代理服务器\n\n1.安装Nginx：\n`yum -y install nginx` \n\n2.启动Nginx：\n`systemctl start nginx / service nginx start(centos6)`\n\n（可以通过IP访问，打开防火墙）\nIP地址可以确定网络上的一台主机，端口号可以用来区分不同的服务（http - 80）\n\n- /usr/share/nginx/html ---------- 服务器内容的存放位置，上传文件(put),下载文件(get)，首页文件index.html,在index.html文件中添加a标签的超链接\n- /etc/nginx/nginx.conf ---------- 服务器配置内容文件\n\nsftp root@Ip\n#####  sftp常用命令\n- quit / exit / bye --- 退出sftp\n- cd / lcd ----- 切换远端工作目录/切换本地工作目录\n- pwd / lpwd ---- 查看远端工作目录/查看本地工作目录\n- ls / lls ---- 查看远端目录内容/查看本地目录内容\n- mkdir / lmkdir ---- 创建远端目录/创建本地目录\n\n**苹果系统**\n\n- 进到相应的文件夹\n\n![put](意外的操作\\put.jpg)\n\n- 上传文件\n\n\n\n![1](意外的操作\\1.jpg)\n\n**window系统**\n\n通过Xftp软件，上传文件","slug":"Linux/意外的操作","published":1,"updated":"2019-03-14T01:38:24.244Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjt87kqgm000vr8r6mk9ntiuu","content":"<h3 id=\"hexo中，将图片上传到hexo中\"><a href=\"#hexo中，将图片上传到hexo中\" class=\"headerlink\" title=\"hexo中，将图片上传到hexo中\"></a>hexo中，将图片上传到hexo中</h3><h5 id=\"First\"><a href=\"#First\" class=\"headerlink\" title=\"First\"></a>First</h5><ul>\n<li><ol>\n<li>把主页配置文件_config.yml里的post_asset_folder:这个选项设置为true</li>\n</ol>\n</li>\n<li><ol start=\"2\">\n<li>在你的hexo目录下执行这样一句话npm install hexo-asset-image –save，这是下载安装一个可以上传本地图片的插件，来自dalao：dalao的git</li>\n</ol>\n</li>\n<li><ol start=\"3\">\n<li>等待一小段时间后，再运行hexo n “xxxx”来生成md博文时，/source/_posts文件夹内除了xxxx.md文件还有一个同名的文件夹</li>\n</ol>\n</li>\n</ul>\n<h5 id=\"Second\"><a href=\"#Second\" class=\"headerlink\" title=\"Second\"></a>Second</h5><ul>\n<li><ol start=\"4\">\n<li>最后在xxxx.md中想引入图片时，先把图片复制到xxxx这个文件夹中，然后只需要在xxxx.md中按照markdown的格式引入图片：<br><code>![你想输入的替代文字](xxxx/图片名.jpg)</code></li>\n</ol>\n</li>\n</ul>\n<p>注意： xxxx是这个md文件的名字，也是同名文件夹的名字。只需要有文件夹名字即可，不需要有什么绝对路径。你想引入的图片就只需要放入xxxx这个文件夹内就好了，很像引用相对路径。</p>\n<ul>\n<li><ol start=\"5\">\n<li>最后检查一下，hexo g 生成页面后，进入public\\2017\\02\\26\\index.html文件中查看相关字段，可以发现，html标签内的语句是<code>&lt;img src=&quot;2017/02/26/xxxx/图片名.jpg&quot;&gt;</code>，而不是<code>&lt;img src=&quot;xxxx/图片名.jpg&gt;</code>这很重要，关乎你的网页是否可以真正加载你想插入的图片。</li>\n</ol>\n</li>\n</ul>\n<h3 id=\"GitHub中上传的图片\"><a href=\"#GitHub中上传的图片\" class=\"headerlink\" title=\"GitHub中上传的图片\"></a>GitHub中上传的图片</h3><ul>\n<li>1.在git的文件夹中创建一个img的文件夹，用来存储图片</li>\n<li>2.然后上传到github中，每一张图片都有自己对应的url路由</li>\n<li>3.在写MarkDown的时候，需要插入图片，<strong><code>![你想输入的替代文字](url)</code></strong>保存后，在github上就可以看到了</li>\n</ul>\n<h3 id=\"Gitee中的图片\"><a href=\"#Gitee中的图片\" class=\"headerlink\" title=\"Gitee中的图片\"></a>Gitee中的图片</h3><ul>\n<li>1.gitee上有一个在线编辑的工具，进入你的MarkDown文件中，在右上角有一个编辑的按钮</li>\n<li>2.进入编辑，就有插入图片的标识，然后可以选择插入图片的地址（网上图片直接插入，点击那个地址框前面的图片标识，进入本地文件，然后选择本地图片）</li>\n<li>3.插入完成后，在末尾有一个保存更新，就成功插入图片了</li>\n</ul>\n<h4 id=\"在git中，将本地的文件上传到GitHub库中\"><a href=\"#在git中，将本地的文件上传到GitHub库中\" class=\"headerlink\" title=\"在git中，将本地的文件上传到GitHub库中\"></a>在git中，将本地的文件上传到GitHub库中</h4><ul>\n<li>先添加一个本地文件 <code>git add 文件名</code></li>\n<li>再上传到库中 <code>git commit -m &quot;上传说明&quot;</code></li>\n<li>最后同步GitHub上 <code>git push</code></li>\n</ul>\n<h3 id=\"博客连接GItHub的二级域名的方法：\"><a href=\"#博客连接GItHub的二级域名的方法：\" class=\"headerlink\" title=\"博客连接GItHub的二级域名的方法：\"></a>博客连接GItHub的二级域名的方法：</h3><p><a href=\"https://blog.csdn.net/lmj623565791/article/details/51319147\" target=\"_blank\" rel=\"noopener\">https://blog.csdn.net/lmj623565791/article/details/51319147</a></p>\n<h3 id=\"修改服务器的登录提示语\"><a href=\"#修改服务器的登录提示语\" class=\"headerlink\" title=\"修改服务器的登录提示语\"></a>修改服务器的登录提示语</h3><p>修改文件夹      / etc / profile</p>\n<h3 id=\"从Linux上传文件到阿里云服务器\"><a href=\"#从Linux上传文件到阿里云服务器\" class=\"headerlink\" title=\"从Linux上传文件到阿里云服务器\"></a>从Linux上传文件到阿里云服务器</h3><h6 id=\"安装Nginx\"><a href=\"#安装Nginx\" class=\"headerlink\" title=\"安装Nginx\"></a>安装Nginx</h6><p><strong>Nginx</strong>:是一款轻量级的Web 服务器/反向代理服务器及电子邮件（IMAP/POP3）代理服务器</p>\n<p>1.安装Nginx：<br><code>yum -y install nginx</code> </p>\n<p>2.启动Nginx：<br><code>systemctl start nginx / service nginx start(centos6)</code></p>\n<p>（可以通过IP访问，打开防火墙）<br>IP地址可以确定网络上的一台主机，端口号可以用来区分不同的服务（http - 80）</p>\n<ul>\n<li>/usr/share/nginx/html ———- 服务器内容的存放位置，上传文件(put),下载文件(get)，首页文件index.html,在index.html文件中添加a标签的超链接</li>\n<li>/etc/nginx/nginx.conf ———- 服务器配置内容文件</li>\n</ul>\n<p>sftp root@Ip</p>\n<h5 id=\"sftp常用命令\"><a href=\"#sftp常用命令\" class=\"headerlink\" title=\"sftp常用命令\"></a>sftp常用命令</h5><ul>\n<li>quit / exit / bye — 退出sftp</li>\n<li>cd / lcd —– 切换远端工作目录/切换本地工作目录</li>\n<li>pwd / lpwd —- 查看远端工作目录/查看本地工作目录</li>\n<li>ls / lls —- 查看远端目录内容/查看本地目录内容</li>\n<li>mkdir / lmkdir —- 创建远端目录/创建本地目录</li>\n</ul>\n<p><strong>苹果系统</strong></p>\n<ul>\n<li>进到相应的文件夹</li>\n</ul>\n<p><img src=\"/2018/09/16/Linux/意外的操作/put.jpg\" alt=\"put\"></p>\n<ul>\n<li>上传文件</li>\n</ul>\n<p><img src=\"/2018/09/16/Linux/意外的操作/1.jpg\" alt=\"1\"></p>\n<p><strong>window系统</strong></p>\n<p>通过Xftp软件，上传文件</p>\n","site":{"data":{}},"excerpt":"","more":"<h3 id=\"hexo中，将图片上传到hexo中\"><a href=\"#hexo中，将图片上传到hexo中\" class=\"headerlink\" title=\"hexo中，将图片上传到hexo中\"></a>hexo中，将图片上传到hexo中</h3><h5 id=\"First\"><a href=\"#First\" class=\"headerlink\" title=\"First\"></a>First</h5><ul>\n<li><ol>\n<li>把主页配置文件_config.yml里的post_asset_folder:这个选项设置为true</li>\n</ol>\n</li>\n<li><ol start=\"2\">\n<li>在你的hexo目录下执行这样一句话npm install hexo-asset-image –save，这是下载安装一个可以上传本地图片的插件，来自dalao：dalao的git</li>\n</ol>\n</li>\n<li><ol start=\"3\">\n<li>等待一小段时间后，再运行hexo n “xxxx”来生成md博文时，/source/_posts文件夹内除了xxxx.md文件还有一个同名的文件夹</li>\n</ol>\n</li>\n</ul>\n<h5 id=\"Second\"><a href=\"#Second\" class=\"headerlink\" title=\"Second\"></a>Second</h5><ul>\n<li><ol start=\"4\">\n<li>最后在xxxx.md中想引入图片时，先把图片复制到xxxx这个文件夹中，然后只需要在xxxx.md中按照markdown的格式引入图片：<br><code>![你想输入的替代文字](xxxx/图片名.jpg)</code></li>\n</ol>\n</li>\n</ul>\n<p>注意： xxxx是这个md文件的名字，也是同名文件夹的名字。只需要有文件夹名字即可，不需要有什么绝对路径。你想引入的图片就只需要放入xxxx这个文件夹内就好了，很像引用相对路径。</p>\n<ul>\n<li><ol start=\"5\">\n<li>最后检查一下，hexo g 生成页面后，进入public\\2017\\02\\26\\index.html文件中查看相关字段，可以发现，html标签内的语句是<code>&lt;img src=&quot;2017/02/26/xxxx/图片名.jpg&quot;&gt;</code>，而不是<code>&lt;img src=&quot;xxxx/图片名.jpg&gt;</code>这很重要，关乎你的网页是否可以真正加载你想插入的图片。</li>\n</ol>\n</li>\n</ul>\n<h3 id=\"GitHub中上传的图片\"><a href=\"#GitHub中上传的图片\" class=\"headerlink\" title=\"GitHub中上传的图片\"></a>GitHub中上传的图片</h3><ul>\n<li>1.在git的文件夹中创建一个img的文件夹，用来存储图片</li>\n<li>2.然后上传到github中，每一张图片都有自己对应的url路由</li>\n<li>3.在写MarkDown的时候，需要插入图片，<strong><code>![你想输入的替代文字](url)</code></strong>保存后，在github上就可以看到了</li>\n</ul>\n<h3 id=\"Gitee中的图片\"><a href=\"#Gitee中的图片\" class=\"headerlink\" title=\"Gitee中的图片\"></a>Gitee中的图片</h3><ul>\n<li>1.gitee上有一个在线编辑的工具，进入你的MarkDown文件中，在右上角有一个编辑的按钮</li>\n<li>2.进入编辑，就有插入图片的标识，然后可以选择插入图片的地址（网上图片直接插入，点击那个地址框前面的图片标识，进入本地文件，然后选择本地图片）</li>\n<li>3.插入完成后，在末尾有一个保存更新，就成功插入图片了</li>\n</ul>\n<h4 id=\"在git中，将本地的文件上传到GitHub库中\"><a href=\"#在git中，将本地的文件上传到GitHub库中\" class=\"headerlink\" title=\"在git中，将本地的文件上传到GitHub库中\"></a>在git中，将本地的文件上传到GitHub库中</h4><ul>\n<li>先添加一个本地文件 <code>git add 文件名</code></li>\n<li>再上传到库中 <code>git commit -m &quot;上传说明&quot;</code></li>\n<li>最后同步GitHub上 <code>git push</code></li>\n</ul>\n<h3 id=\"博客连接GItHub的二级域名的方法：\"><a href=\"#博客连接GItHub的二级域名的方法：\" class=\"headerlink\" title=\"博客连接GItHub的二级域名的方法：\"></a>博客连接GItHub的二级域名的方法：</h3><p><a href=\"https://blog.csdn.net/lmj623565791/article/details/51319147\" target=\"_blank\" rel=\"noopener\">https://blog.csdn.net/lmj623565791/article/details/51319147</a></p>\n<h3 id=\"修改服务器的登录提示语\"><a href=\"#修改服务器的登录提示语\" class=\"headerlink\" title=\"修改服务器的登录提示语\"></a>修改服务器的登录提示语</h3><p>修改文件夹      / etc / profile</p>\n<h3 id=\"从Linux上传文件到阿里云服务器\"><a href=\"#从Linux上传文件到阿里云服务器\" class=\"headerlink\" title=\"从Linux上传文件到阿里云服务器\"></a>从Linux上传文件到阿里云服务器</h3><h6 id=\"安装Nginx\"><a href=\"#安装Nginx\" class=\"headerlink\" title=\"安装Nginx\"></a>安装Nginx</h6><p><strong>Nginx</strong>:是一款轻量级的Web 服务器/反向代理服务器及电子邮件（IMAP/POP3）代理服务器</p>\n<p>1.安装Nginx：<br><code>yum -y install nginx</code> </p>\n<p>2.启动Nginx：<br><code>systemctl start nginx / service nginx start(centos6)</code></p>\n<p>（可以通过IP访问，打开防火墙）<br>IP地址可以确定网络上的一台主机，端口号可以用来区分不同的服务（http - 80）</p>\n<ul>\n<li>/usr/share/nginx/html ———- 服务器内容的存放位置，上传文件(put),下载文件(get)，首页文件index.html,在index.html文件中添加a标签的超链接</li>\n<li>/etc/nginx/nginx.conf ———- 服务器配置内容文件</li>\n</ul>\n<p>sftp root@Ip</p>\n<h5 id=\"sftp常用命令\"><a href=\"#sftp常用命令\" class=\"headerlink\" title=\"sftp常用命令\"></a>sftp常用命令</h5><ul>\n<li>quit / exit / bye — 退出sftp</li>\n<li>cd / lcd —– 切换远端工作目录/切换本地工作目录</li>\n<li>pwd / lpwd —- 查看远端工作目录/查看本地工作目录</li>\n<li>ls / lls —- 查看远端目录内容/查看本地目录内容</li>\n<li>mkdir / lmkdir —- 创建远端目录/创建本地目录</li>\n</ul>\n<p><strong>苹果系统</strong></p>\n<ul>\n<li>进到相应的文件夹</li>\n</ul>\n<p><img src=\"/2018/09/16/Linux/意外的操作/put.jpg\" alt=\"put\"></p>\n<ul>\n<li>上传文件</li>\n</ul>\n<p><img src=\"/2018/09/16/Linux/意外的操作/1.jpg\" alt=\"1\"></p>\n<p><strong>window系统</strong></p>\n<p>通过Xftp软件，上传文件</p>\n"},{"title":"Linux操作命令","date":"2018-09-17T23:31:02.000Z","author":"smile","_content":"\n### 查看自己使用的Shall\n- Shall -ps 查看自己使用的Shell\n- Shell -------- 人机对话的交互式环境\n- bash -------- bourne again shell\n\n### 用命令\n- clear ------ 清屏\n- ps ------ processes  查看正在运行的进程\n- ps -ef ----------------- 查看运行的进程\n- kill PID ------ 杀掉进程\n- kill -9 ------------ 强制杀死进程\n- adduser 用户名 ------- 添加用户\n- passwd ---------- 设置密码\n- userdel ----------- 删除用户\n- su 用户名 --------- 切换用户（switch user）\n- sudo ---------- 以超级管理员身份操作（super user do）\n- chown 拥有者 文件名 -------------- 改变文件的拥有者\n- '#'------- 超级管理员\n- $ -------- 普通用户\n- ~ ---------- 主目录\n###### 两个不同的用户\n- write 用户名 --------------- 连接相同的系统的不同用户之间发送消息\n- Ctrl d --------------- 消息内容结束符\n- mesg n / y ---------------- 不接收消息/接收消息\n- wall ------------- 给所有用户发消息\n\n#### 查看命令、帮助文档\n- Tab -------- 补全命令，查看命令\n- q  ------  结束查看\n- man 命令 --------- 查看手册\n- 命令 --help ----------- 查看命令用法\n- cd ----------- 改变所在目录\n- cd /目录名 ------- 去到某个目录\n- pwd -------- 查看目录\n- ls --------- 查看文件或者文件名（list directory contents）\n  - -l 长格式查看\n  - -a 查看所有（包括以点开头的隐藏文件和文件夹）\n  - -R 递归查看\n- | ---------- 管道（左边的输出作为右边的输入）\n- wget 网址 -------- 通过网络下载文件\n- cat ---------- concatenate  连接多个文件并显示到标准输出\n- cat 文件名 --------- 查看文件\n- cat -n 网址 -------- 查看行号\n- history ---------- 查看所有的历史命令\n- ！ 历史命令编号 ---------- 执行历史命令\n- history -c ------------ 清除历史命令\n- Ctrl c --------- 强行终止命令\n- mkdir --------- 创建目录\n  - -r 递归删除\n  - -f 强制删除\n- rmdir --------- 删除空目录\n- cp ----------- 复制文件和目录\n- cp -r /文件名------------- 复制文件夹并修改文件名\n- mv ------------------ 剪切文件\n- rm ---------- 删除文件和目录\n- touch ---------------- 创建空文件或者修改文件时间\n- echo --------------- 回声（输入什么，就输出什么）\n- **>** 件 ----------- 输出重定向（输出到指定的文件夹）\n- alias / unalies 重新取别名/取消别名\n- **>>** ------------ 追加输出重定向\n- **2>** ------------ 错误输出重定向\n- <输入重定向\n- grep 搜索字符串\n- date --------------- 查看时间\n- cal ---------------- 查看日历（calendar）\n- head -数字 ---------------- 查看指定头行数\n- tail -数字 ----------------- 查看指定尾行数\n- less/more ----------------- 分屏查看文件\n- wc ------------------- world count 统计\n- uniq 文件夹 ------------- 去掉文件夹中相邻的重复项\n- sort 文件夹 -------------- 排序\n- diff ---------------比较文件夹的区别\n\n### 重启、关机\n- 重启和关机 - reboot / init 6 / shutdown / init 0\n- shutdown ------- 关机\n- shutdown -c（cancle） -------------- 取消关机\n- init 0(关机)/6(重启)","source":"_posts/Linux/操作命令.md","raw":"---\ntitle: Linux操作命令\ndate: 2018-09-18 07:31:02\nauthor: smile\ncategories: Linux\ntags: \n  - order\n---\n\n### 查看自己使用的Shall\n- Shall -ps 查看自己使用的Shell\n- Shell -------- 人机对话的交互式环境\n- bash -------- bourne again shell\n\n### 用命令\n- clear ------ 清屏\n- ps ------ processes  查看正在运行的进程\n- ps -ef ----------------- 查看运行的进程\n- kill PID ------ 杀掉进程\n- kill -9 ------------ 强制杀死进程\n- adduser 用户名 ------- 添加用户\n- passwd ---------- 设置密码\n- userdel ----------- 删除用户\n- su 用户名 --------- 切换用户（switch user）\n- sudo ---------- 以超级管理员身份操作（super user do）\n- chown 拥有者 文件名 -------------- 改变文件的拥有者\n- '#'------- 超级管理员\n- $ -------- 普通用户\n- ~ ---------- 主目录\n###### 两个不同的用户\n- write 用户名 --------------- 连接相同的系统的不同用户之间发送消息\n- Ctrl d --------------- 消息内容结束符\n- mesg n / y ---------------- 不接收消息/接收消息\n- wall ------------- 给所有用户发消息\n\n#### 查看命令、帮助文档\n- Tab -------- 补全命令，查看命令\n- q  ------  结束查看\n- man 命令 --------- 查看手册\n- 命令 --help ----------- 查看命令用法\n- cd ----------- 改变所在目录\n- cd /目录名 ------- 去到某个目录\n- pwd -------- 查看目录\n- ls --------- 查看文件或者文件名（list directory contents）\n  - -l 长格式查看\n  - -a 查看所有（包括以点开头的隐藏文件和文件夹）\n  - -R 递归查看\n- | ---------- 管道（左边的输出作为右边的输入）\n- wget 网址 -------- 通过网络下载文件\n- cat ---------- concatenate  连接多个文件并显示到标准输出\n- cat 文件名 --------- 查看文件\n- cat -n 网址 -------- 查看行号\n- history ---------- 查看所有的历史命令\n- ！ 历史命令编号 ---------- 执行历史命令\n- history -c ------------ 清除历史命令\n- Ctrl c --------- 强行终止命令\n- mkdir --------- 创建目录\n  - -r 递归删除\n  - -f 强制删除\n- rmdir --------- 删除空目录\n- cp ----------- 复制文件和目录\n- cp -r /文件名------------- 复制文件夹并修改文件名\n- mv ------------------ 剪切文件\n- rm ---------- 删除文件和目录\n- touch ---------------- 创建空文件或者修改文件时间\n- echo --------------- 回声（输入什么，就输出什么）\n- **>** 件 ----------- 输出重定向（输出到指定的文件夹）\n- alias / unalies 重新取别名/取消别名\n- **>>** ------------ 追加输出重定向\n- **2>** ------------ 错误输出重定向\n- <输入重定向\n- grep 搜索字符串\n- date --------------- 查看时间\n- cal ---------------- 查看日历（calendar）\n- head -数字 ---------------- 查看指定头行数\n- tail -数字 ----------------- 查看指定尾行数\n- less/more ----------------- 分屏查看文件\n- wc ------------------- world count 统计\n- uniq 文件夹 ------------- 去掉文件夹中相邻的重复项\n- sort 文件夹 -------------- 排序\n- diff ---------------比较文件夹的区别\n\n### 重启、关机\n- 重启和关机 - reboot / init 6 / shutdown / init 0\n- shutdown ------- 关机\n- shutdown -c（cancle） -------------- 取消关机\n- init 0(关机)/6(重启)","slug":"Linux/操作命令","published":1,"updated":"2019-03-14T01:38:37.262Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjt87kqgt000zr8r635qr0gbe","content":"<h3 id=\"查看自己使用的Shall\"><a href=\"#查看自己使用的Shall\" class=\"headerlink\" title=\"查看自己使用的Shall\"></a>查看自己使用的Shall</h3><ul>\n<li>Shall -ps 查看自己使用的Shell</li>\n<li>Shell ——– 人机对话的交互式环境</li>\n<li>bash ——– bourne again shell</li>\n</ul>\n<h3 id=\"用命令\"><a href=\"#用命令\" class=\"headerlink\" title=\"用命令\"></a>用命令</h3><ul>\n<li>clear —— 清屏</li>\n<li>ps —— processes  查看正在运行的进程</li>\n<li>ps -ef —————– 查看运行的进程</li>\n<li>kill PID —— 杀掉进程</li>\n<li>kill -9 ———— 强制杀死进程</li>\n<li>adduser 用户名 ——- 添加用户</li>\n<li>passwd ———- 设置密码</li>\n<li>userdel ———– 删除用户</li>\n<li>su 用户名 ——— 切换用户（switch user）</li>\n<li>sudo ———- 以超级管理员身份操作（super user do）</li>\n<li>chown 拥有者 文件名 ————– 改变文件的拥有者</li>\n<li>‘#’——- 超级管理员</li>\n<li>$ ——– 普通用户</li>\n<li>~ ———- 主目录<h6 id=\"两个不同的用户\"><a href=\"#两个不同的用户\" class=\"headerlink\" title=\"两个不同的用户\"></a>两个不同的用户</h6></li>\n<li>write 用户名 ————— 连接相同的系统的不同用户之间发送消息</li>\n<li>Ctrl d ————— 消息内容结束符</li>\n<li>mesg n / y —————- 不接收消息/接收消息</li>\n<li>wall ————- 给所有用户发消息</li>\n</ul>\n<h4 id=\"查看命令、帮助文档\"><a href=\"#查看命令、帮助文档\" class=\"headerlink\" title=\"查看命令、帮助文档\"></a>查看命令、帮助文档</h4><ul>\n<li>Tab ——– 补全命令，查看命令</li>\n<li>q  ——  结束查看</li>\n<li>man 命令 ——— 查看手册</li>\n<li>命令 –help ———– 查看命令用法</li>\n<li>cd ———– 改变所在目录</li>\n<li>cd /目录名 ——- 去到某个目录</li>\n<li>pwd ——– 查看目录</li>\n<li>ls ——— 查看文件或者文件名（list directory contents）<ul>\n<li>-l 长格式查看</li>\n<li>-a 查看所有（包括以点开头的隐藏文件和文件夹）</li>\n<li>-R 递归查看</li>\n</ul>\n</li>\n<li>| ———- 管道（左边的输出作为右边的输入）</li>\n<li>wget 网址 ——– 通过网络下载文件</li>\n<li>cat ———- concatenate  连接多个文件并显示到标准输出</li>\n<li>cat 文件名 ——— 查看文件</li>\n<li>cat -n 网址 ——– 查看行号</li>\n<li>history ———- 查看所有的历史命令</li>\n<li>！ 历史命令编号 ———- 执行历史命令</li>\n<li>history -c ———— 清除历史命令</li>\n<li>Ctrl c ——— 强行终止命令</li>\n<li>mkdir ——— 创建目录<ul>\n<li>-r 递归删除</li>\n<li>-f 强制删除</li>\n</ul>\n</li>\n<li>rmdir ——— 删除空目录</li>\n<li>cp ———– 复制文件和目录</li>\n<li>cp -r /文件名————- 复制文件夹并修改文件名</li>\n<li>mv —————— 剪切文件</li>\n<li>rm ———- 删除文件和目录</li>\n<li>touch —————- 创建空文件或者修改文件时间</li>\n<li>echo ————— 回声（输入什么，就输出什么）</li>\n<li><strong>&gt;</strong> 件 ———– 输出重定向（输出到指定的文件夹）</li>\n<li>alias / unalies 重新取别名/取消别名</li>\n<li><strong>&gt;&gt;</strong> ———— 追加输出重定向</li>\n<li><strong>2&gt;</strong> ———— 错误输出重定向</li>\n<li>&lt;输入重定向</li>\n<li>grep 搜索字符串</li>\n<li>date ————— 查看时间</li>\n<li>cal —————- 查看日历（calendar）</li>\n<li>head -数字 —————- 查看指定头行数</li>\n<li>tail -数字 —————– 查看指定尾行数</li>\n<li>less/more —————– 分屏查看文件</li>\n<li>wc ——————- world count 统计</li>\n<li>uniq 文件夹 ————- 去掉文件夹中相邻的重复项</li>\n<li>sort 文件夹 ————– 排序</li>\n<li>diff —————比较文件夹的区别</li>\n</ul>\n<h3 id=\"重启、关机\"><a href=\"#重启、关机\" class=\"headerlink\" title=\"重启、关机\"></a>重启、关机</h3><ul>\n<li>重启和关机 - reboot / init 6 / shutdown / init 0</li>\n<li>shutdown ——- 关机</li>\n<li>shutdown -c（cancle） ————– 取消关机</li>\n<li>init 0(关机)/6(重启)</li>\n</ul>\n","site":{"data":{}},"excerpt":"","more":"<h3 id=\"查看自己使用的Shall\"><a href=\"#查看自己使用的Shall\" class=\"headerlink\" title=\"查看自己使用的Shall\"></a>查看自己使用的Shall</h3><ul>\n<li>Shall -ps 查看自己使用的Shell</li>\n<li>Shell ——– 人机对话的交互式环境</li>\n<li>bash ——– bourne again shell</li>\n</ul>\n<h3 id=\"用命令\"><a href=\"#用命令\" class=\"headerlink\" title=\"用命令\"></a>用命令</h3><ul>\n<li>clear —— 清屏</li>\n<li>ps —— processes  查看正在运行的进程</li>\n<li>ps -ef —————– 查看运行的进程</li>\n<li>kill PID —— 杀掉进程</li>\n<li>kill -9 ———— 强制杀死进程</li>\n<li>adduser 用户名 ——- 添加用户</li>\n<li>passwd ———- 设置密码</li>\n<li>userdel ———– 删除用户</li>\n<li>su 用户名 ——— 切换用户（switch user）</li>\n<li>sudo ———- 以超级管理员身份操作（super user do）</li>\n<li>chown 拥有者 文件名 ————– 改变文件的拥有者</li>\n<li>‘#’——- 超级管理员</li>\n<li>$ ——– 普通用户</li>\n<li>~ ———- 主目录<h6 id=\"两个不同的用户\"><a href=\"#两个不同的用户\" class=\"headerlink\" title=\"两个不同的用户\"></a>两个不同的用户</h6></li>\n<li>write 用户名 ————— 连接相同的系统的不同用户之间发送消息</li>\n<li>Ctrl d ————— 消息内容结束符</li>\n<li>mesg n / y —————- 不接收消息/接收消息</li>\n<li>wall ————- 给所有用户发消息</li>\n</ul>\n<h4 id=\"查看命令、帮助文档\"><a href=\"#查看命令、帮助文档\" class=\"headerlink\" title=\"查看命令、帮助文档\"></a>查看命令、帮助文档</h4><ul>\n<li>Tab ——– 补全命令，查看命令</li>\n<li>q  ——  结束查看</li>\n<li>man 命令 ——— 查看手册</li>\n<li>命令 –help ———– 查看命令用法</li>\n<li>cd ———– 改变所在目录</li>\n<li>cd /目录名 ——- 去到某个目录</li>\n<li>pwd ——– 查看目录</li>\n<li>ls ——— 查看文件或者文件名（list directory contents）<ul>\n<li>-l 长格式查看</li>\n<li>-a 查看所有（包括以点开头的隐藏文件和文件夹）</li>\n<li>-R 递归查看</li>\n</ul>\n</li>\n<li>| ———- 管道（左边的输出作为右边的输入）</li>\n<li>wget 网址 ——– 通过网络下载文件</li>\n<li>cat ———- concatenate  连接多个文件并显示到标准输出</li>\n<li>cat 文件名 ——— 查看文件</li>\n<li>cat -n 网址 ——– 查看行号</li>\n<li>history ———- 查看所有的历史命令</li>\n<li>！ 历史命令编号 ———- 执行历史命令</li>\n<li>history -c ———— 清除历史命令</li>\n<li>Ctrl c ——— 强行终止命令</li>\n<li>mkdir ——— 创建目录<ul>\n<li>-r 递归删除</li>\n<li>-f 强制删除</li>\n</ul>\n</li>\n<li>rmdir ——— 删除空目录</li>\n<li>cp ———– 复制文件和目录</li>\n<li>cp -r /文件名————- 复制文件夹并修改文件名</li>\n<li>mv —————— 剪切文件</li>\n<li>rm ———- 删除文件和目录</li>\n<li>touch —————- 创建空文件或者修改文件时间</li>\n<li>echo ————— 回声（输入什么，就输出什么）</li>\n<li><strong>&gt;</strong> 件 ———– 输出重定向（输出到指定的文件夹）</li>\n<li>alias / unalies 重新取别名/取消别名</li>\n<li><strong>&gt;&gt;</strong> ———— 追加输出重定向</li>\n<li><strong>2&gt;</strong> ———— 错误输出重定向</li>\n<li>&lt;输入重定向</li>\n<li>grep 搜索字符串</li>\n<li>date ————— 查看时间</li>\n<li>cal —————- 查看日历（calendar）</li>\n<li>head -数字 —————- 查看指定头行数</li>\n<li>tail -数字 —————– 查看指定尾行数</li>\n<li>less/more —————– 分屏查看文件</li>\n<li>wc ——————- world count 统计</li>\n<li>uniq 文件夹 ————- 去掉文件夹中相邻的重复项</li>\n<li>sort 文件夹 ————– 排序</li>\n<li>diff —————比较文件夹的区别</li>\n</ul>\n<h3 id=\"重启、关机\"><a href=\"#重启、关机\" class=\"headerlink\" title=\"重启、关机\"></a>重启、关机</h3><ul>\n<li>重启和关机 - reboot / init 6 / shutdown / init 0</li>\n<li>shutdown ——- 关机</li>\n<li>shutdown -c（cancle） ————– 取消关机</li>\n<li>init 0(关机)/6(重启)</li>\n</ul>\n"},{"title":"模型","date":"2018-10-14T23:44:14.000Z","author":"smile","img":"/images/01.jpg","_content":"\n#### 模型定义\n- 安装: pip install flask-sqlalchemy\n- 定义模型\n- 配置\n  - 连接MySQL数据：app.config['SQLALCHEMY_DATABASE_URI'] = 'mysql+pymysql://root:123456@127.0.0.1:3306/flask7'\n  - app.config['SQLALCHEMY_TRACK_MODIFICATIONS'] = False\n  - 初始化: db.init_app(app)\n\n#### 迁移\n- 创建: db.create_all()\n- 删除: db.drop_all()\n\n#### 对数据库的操作\n**增**\n- 使用flask_sqlalchemy的session会话，db.session.add(对象)   db.session.commit()\n- db.session.add_all(对象列表)   db.session.commit()\n\n**删**\n- db.session.delete(对象)  db.session.commit()\n\n**改**\n- db.session.add(对象)   db.session.commit()\n- 注意: db.session.add(对象)这句话可写可不写\n\n**查**\n```python\nfilter：模型.query.filter(模型.字段 == 值)\nfilter_by: 模型.query.filter_by(字段 = 值)\nget: 获取主键所在行的数据:  模型.query.get(主键值)\nall:\n    - 查询所有结果，返回结果为列表\n    - 模型.query.all()\norder_by:\n    - 升序：模型.query.order_by('字段')/模型.query.order_by('字段 asc')\n    - 降序：模型.query.order_by('-字段')/模型.query.order_by('字段 desc')\noffset/limit:模型.query.offset(跳过几条数据).limit(截取几条数据)\nfirst: \n    获取第一个: 模型.query.filter_by().first()\n模糊查询：\n    contains: 模型.query.filter(模型.字段.contains(值))\n    startswith: 模型.query.filter(模型.字段.startswith(值))\n    endswith: 模型.query.filter(模型.字段.endswith(值))\n    like: _ 占位 / %通配符 / \n        模型.query.filter(模型.字段.like('_值%')\nin_: 范围之内: 模型.query.filter(模型.字段.in_([1,2,3,4,5]))\n比较：gt大于/ge大于等于/lt小于/le小于等于\n    模型.query.filter(模型.字段.__gt__(21))\n    模型.query.filter(模型.字段 > 值)\n与或非：\n    - from sqlalchemy import and_,not_, or_\n    - 且: 模型.query.filter(and_(条件1，条件2，条件3))\n    - 或: 模型.query.filter(or_(条件1，条件2，条件3))\n    - 非: 模型.query.filter(not_(条件1))\n\n分页：\n    - 查询: pg = 模型.query.paginate(哪一页, 每一页的数据条数)\n    - 获取数据: pg.items\n    - 上一页判断: pg.has_prev\n    - 上一页脚码: pg.prev_num\n    - 下一页判断: pg.has_next\n    - 下一页脚码: pg.next_num\n    - 共多少页: pg.pages\n    - 当前页: pg.page\n    - 共多少数据: pg.total\n    - 脚码: pg.iter_pages()\n\n```\n\n\n\n\n","source":"_posts/flask/models1.md","raw":"---\ntitle: 模型\ndate: 2018-10-15 07:44:14\nauthor: smile\nimg: /images/01.jpg\ncategories: flask\ntags: \n  - models\n---\n\n#### 模型定义\n- 安装: pip install flask-sqlalchemy\n- 定义模型\n- 配置\n  - 连接MySQL数据：app.config['SQLALCHEMY_DATABASE_URI'] = 'mysql+pymysql://root:123456@127.0.0.1:3306/flask7'\n  - app.config['SQLALCHEMY_TRACK_MODIFICATIONS'] = False\n  - 初始化: db.init_app(app)\n\n#### 迁移\n- 创建: db.create_all()\n- 删除: db.drop_all()\n\n#### 对数据库的操作\n**增**\n- 使用flask_sqlalchemy的session会话，db.session.add(对象)   db.session.commit()\n- db.session.add_all(对象列表)   db.session.commit()\n\n**删**\n- db.session.delete(对象)  db.session.commit()\n\n**改**\n- db.session.add(对象)   db.session.commit()\n- 注意: db.session.add(对象)这句话可写可不写\n\n**查**\n```python\nfilter：模型.query.filter(模型.字段 == 值)\nfilter_by: 模型.query.filter_by(字段 = 值)\nget: 获取主键所在行的数据:  模型.query.get(主键值)\nall:\n    - 查询所有结果，返回结果为列表\n    - 模型.query.all()\norder_by:\n    - 升序：模型.query.order_by('字段')/模型.query.order_by('字段 asc')\n    - 降序：模型.query.order_by('-字段')/模型.query.order_by('字段 desc')\noffset/limit:模型.query.offset(跳过几条数据).limit(截取几条数据)\nfirst: \n    获取第一个: 模型.query.filter_by().first()\n模糊查询：\n    contains: 模型.query.filter(模型.字段.contains(值))\n    startswith: 模型.query.filter(模型.字段.startswith(值))\n    endswith: 模型.query.filter(模型.字段.endswith(值))\n    like: _ 占位 / %通配符 / \n        模型.query.filter(模型.字段.like('_值%')\nin_: 范围之内: 模型.query.filter(模型.字段.in_([1,2,3,4,5]))\n比较：gt大于/ge大于等于/lt小于/le小于等于\n    模型.query.filter(模型.字段.__gt__(21))\n    模型.query.filter(模型.字段 > 值)\n与或非：\n    - from sqlalchemy import and_,not_, or_\n    - 且: 模型.query.filter(and_(条件1，条件2，条件3))\n    - 或: 模型.query.filter(or_(条件1，条件2，条件3))\n    - 非: 模型.query.filter(not_(条件1))\n\n分页：\n    - 查询: pg = 模型.query.paginate(哪一页, 每一页的数据条数)\n    - 获取数据: pg.items\n    - 上一页判断: pg.has_prev\n    - 上一页脚码: pg.prev_num\n    - 下一页判断: pg.has_next\n    - 下一页脚码: pg.next_num\n    - 共多少页: pg.pages\n    - 当前页: pg.page\n    - 共多少数据: pg.total\n    - 脚码: pg.iter_pages()\n\n```\n\n\n\n\n","slug":"flask/models1","published":1,"updated":"2019-01-19T08:33:33.686Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjt87kqh30011r8r6oee7ywns","content":"<h4 id=\"模型定义\"><a href=\"#模型定义\" class=\"headerlink\" title=\"模型定义\"></a>模型定义</h4><ul>\n<li>安装: pip install flask-sqlalchemy</li>\n<li>定义模型</li>\n<li>配置<ul>\n<li>连接MySQL数据：app.config[‘SQLALCHEMY_DATABASE_URI’] = ‘mysql+pymysql://root:<a href=\"mailto:123456@127.0.0.1\" target=\"_blank\" rel=\"noopener\">123456@127.0.0.1</a>:3306/flask7’</li>\n<li>app.config[‘SQLALCHEMY_TRACK_MODIFICATIONS’] = False</li>\n<li>初始化: db.init_app(app)</li>\n</ul>\n</li>\n</ul>\n<h4 id=\"迁移\"><a href=\"#迁移\" class=\"headerlink\" title=\"迁移\"></a>迁移</h4><ul>\n<li>创建: db.create_all()</li>\n<li>删除: db.drop_all()</li>\n</ul>\n<h4 id=\"对数据库的操作\"><a href=\"#对数据库的操作\" class=\"headerlink\" title=\"对数据库的操作\"></a>对数据库的操作</h4><p><strong>增</strong></p>\n<ul>\n<li>使用flask_sqlalchemy的session会话，db.session.add(对象)   db.session.commit()</li>\n<li>db.session.add_all(对象列表)   db.session.commit()</li>\n</ul>\n<p><strong>删</strong></p>\n<ul>\n<li>db.session.delete(对象)  db.session.commit()</li>\n</ul>\n<p><strong>改</strong></p>\n<ul>\n<li>db.session.add(对象)   db.session.commit()</li>\n<li>注意: db.session.add(对象)这句话可写可不写</li>\n</ul>\n<p><strong>查</strong></p>\n<pre class=\" language-python\"><code class=\"language-python\">filter：模型<span class=\"token punctuation\">.</span>query<span class=\"token punctuation\">.</span>filter<span class=\"token punctuation\">(</span>模型<span class=\"token punctuation\">.</span>字段 <span class=\"token operator\">==</span> 值<span class=\"token punctuation\">)</span>\nfilter_by<span class=\"token punctuation\">:</span> 模型<span class=\"token punctuation\">.</span>query<span class=\"token punctuation\">.</span>filter_by<span class=\"token punctuation\">(</span>字段 <span class=\"token operator\">=</span> 值<span class=\"token punctuation\">)</span>\nget<span class=\"token punctuation\">:</span> 获取主键所在行的数据<span class=\"token punctuation\">:</span>  模型<span class=\"token punctuation\">.</span>query<span class=\"token punctuation\">.</span>get<span class=\"token punctuation\">(</span>主键值<span class=\"token punctuation\">)</span>\nall<span class=\"token punctuation\">:</span>\n    <span class=\"token operator\">-</span> 查询所有结果，返回结果为列表\n    <span class=\"token operator\">-</span> 模型<span class=\"token punctuation\">.</span>query<span class=\"token punctuation\">.</span>all<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\norder_by<span class=\"token punctuation\">:</span>\n    <span class=\"token operator\">-</span> 升序：模型<span class=\"token punctuation\">.</span>query<span class=\"token punctuation\">.</span>order_by<span class=\"token punctuation\">(</span><span class=\"token string\">'字段'</span><span class=\"token punctuation\">)</span><span class=\"token operator\">/</span>模型<span class=\"token punctuation\">.</span>query<span class=\"token punctuation\">.</span>order_by<span class=\"token punctuation\">(</span><span class=\"token string\">'字段 asc'</span><span class=\"token punctuation\">)</span>\n    <span class=\"token operator\">-</span> 降序：模型<span class=\"token punctuation\">.</span>query<span class=\"token punctuation\">.</span>order_by<span class=\"token punctuation\">(</span><span class=\"token string\">'-字段'</span><span class=\"token punctuation\">)</span><span class=\"token operator\">/</span>模型<span class=\"token punctuation\">.</span>query<span class=\"token punctuation\">.</span>order_by<span class=\"token punctuation\">(</span><span class=\"token string\">'字段 desc'</span><span class=\"token punctuation\">)</span>\noffset<span class=\"token operator\">/</span>limit<span class=\"token punctuation\">:</span>模型<span class=\"token punctuation\">.</span>query<span class=\"token punctuation\">.</span>offset<span class=\"token punctuation\">(</span>跳过几条数据<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>limit<span class=\"token punctuation\">(</span>截取几条数据<span class=\"token punctuation\">)</span>\nfirst<span class=\"token punctuation\">:</span> \n    获取第一个<span class=\"token punctuation\">:</span> 模型<span class=\"token punctuation\">.</span>query<span class=\"token punctuation\">.</span>filter_by<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>first<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n模糊查询：\n    contains<span class=\"token punctuation\">:</span> 模型<span class=\"token punctuation\">.</span>query<span class=\"token punctuation\">.</span>filter<span class=\"token punctuation\">(</span>模型<span class=\"token punctuation\">.</span>字段<span class=\"token punctuation\">.</span>contains<span class=\"token punctuation\">(</span>值<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n    startswith<span class=\"token punctuation\">:</span> 模型<span class=\"token punctuation\">.</span>query<span class=\"token punctuation\">.</span>filter<span class=\"token punctuation\">(</span>模型<span class=\"token punctuation\">.</span>字段<span class=\"token punctuation\">.</span>startswith<span class=\"token punctuation\">(</span>值<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n    endswith<span class=\"token punctuation\">:</span> 模型<span class=\"token punctuation\">.</span>query<span class=\"token punctuation\">.</span>filter<span class=\"token punctuation\">(</span>模型<span class=\"token punctuation\">.</span>字段<span class=\"token punctuation\">.</span>endswith<span class=\"token punctuation\">(</span>值<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n    like<span class=\"token punctuation\">:</span> _ 占位 <span class=\"token operator\">/</span> <span class=\"token operator\">%</span>通配符 <span class=\"token operator\">/</span> \n        模型<span class=\"token punctuation\">.</span>query<span class=\"token punctuation\">.</span>filter<span class=\"token punctuation\">(</span>模型<span class=\"token punctuation\">.</span>字段<span class=\"token punctuation\">.</span>like<span class=\"token punctuation\">(</span><span class=\"token string\">'_值%'</span><span class=\"token punctuation\">)</span>\nin_<span class=\"token punctuation\">:</span> 范围之内<span class=\"token punctuation\">:</span> 模型<span class=\"token punctuation\">.</span>query<span class=\"token punctuation\">.</span>filter<span class=\"token punctuation\">(</span>模型<span class=\"token punctuation\">.</span>字段<span class=\"token punctuation\">.</span>in_<span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span><span class=\"token number\">2</span><span class=\"token punctuation\">,</span><span class=\"token number\">3</span><span class=\"token punctuation\">,</span><span class=\"token number\">4</span><span class=\"token punctuation\">,</span><span class=\"token number\">5</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n比较：gt大于<span class=\"token operator\">/</span>ge大于等于<span class=\"token operator\">/</span>lt小于<span class=\"token operator\">/</span>le小于等于\n    模型<span class=\"token punctuation\">.</span>query<span class=\"token punctuation\">.</span>filter<span class=\"token punctuation\">(</span>模型<span class=\"token punctuation\">.</span>字段<span class=\"token punctuation\">.</span>__gt__<span class=\"token punctuation\">(</span><span class=\"token number\">21</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n    模型<span class=\"token punctuation\">.</span>query<span class=\"token punctuation\">.</span>filter<span class=\"token punctuation\">(</span>模型<span class=\"token punctuation\">.</span>字段 <span class=\"token operator\">></span> 值<span class=\"token punctuation\">)</span>\n与或非：\n    <span class=\"token operator\">-</span> <span class=\"token keyword\">from</span> sqlalchemy <span class=\"token keyword\">import</span> and_<span class=\"token punctuation\">,</span>not_<span class=\"token punctuation\">,</span> or_\n    <span class=\"token operator\">-</span> 且<span class=\"token punctuation\">:</span> 模型<span class=\"token punctuation\">.</span>query<span class=\"token punctuation\">.</span>filter<span class=\"token punctuation\">(</span>and_<span class=\"token punctuation\">(</span>条件<span class=\"token number\">1</span>，条件<span class=\"token number\">2</span>，条件<span class=\"token number\">3</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n    <span class=\"token operator\">-</span> 或<span class=\"token punctuation\">:</span> 模型<span class=\"token punctuation\">.</span>query<span class=\"token punctuation\">.</span>filter<span class=\"token punctuation\">(</span>or_<span class=\"token punctuation\">(</span>条件<span class=\"token number\">1</span>，条件<span class=\"token number\">2</span>，条件<span class=\"token number\">3</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n    <span class=\"token operator\">-</span> 非<span class=\"token punctuation\">:</span> 模型<span class=\"token punctuation\">.</span>query<span class=\"token punctuation\">.</span>filter<span class=\"token punctuation\">(</span>not_<span class=\"token punctuation\">(</span>条件<span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n\n分页：\n    <span class=\"token operator\">-</span> 查询<span class=\"token punctuation\">:</span> pg <span class=\"token operator\">=</span> 模型<span class=\"token punctuation\">.</span>query<span class=\"token punctuation\">.</span>paginate<span class=\"token punctuation\">(</span>哪一页<span class=\"token punctuation\">,</span> 每一页的数据条数<span class=\"token punctuation\">)</span>\n    <span class=\"token operator\">-</span> 获取数据<span class=\"token punctuation\">:</span> pg<span class=\"token punctuation\">.</span>items\n    <span class=\"token operator\">-</span> 上一页判断<span class=\"token punctuation\">:</span> pg<span class=\"token punctuation\">.</span>has_prev\n    <span class=\"token operator\">-</span> 上一页脚码<span class=\"token punctuation\">:</span> pg<span class=\"token punctuation\">.</span>prev_num\n    <span class=\"token operator\">-</span> 下一页判断<span class=\"token punctuation\">:</span> pg<span class=\"token punctuation\">.</span>has_next\n    <span class=\"token operator\">-</span> 下一页脚码<span class=\"token punctuation\">:</span> pg<span class=\"token punctuation\">.</span>next_num\n    <span class=\"token operator\">-</span> 共多少页<span class=\"token punctuation\">:</span> pg<span class=\"token punctuation\">.</span>pages\n    <span class=\"token operator\">-</span> 当前页<span class=\"token punctuation\">:</span> pg<span class=\"token punctuation\">.</span>page\n    <span class=\"token operator\">-</span> 共多少数据<span class=\"token punctuation\">:</span> pg<span class=\"token punctuation\">.</span>total\n    <span class=\"token operator\">-</span> 脚码<span class=\"token punctuation\">:</span> pg<span class=\"token punctuation\">.</span>iter_pages<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n\n</code></pre>\n","site":{"data":{}},"excerpt":"","more":"<h4 id=\"模型定义\"><a href=\"#模型定义\" class=\"headerlink\" title=\"模型定义\"></a>模型定义</h4><ul>\n<li>安装: pip install flask-sqlalchemy</li>\n<li>定义模型</li>\n<li>配置<ul>\n<li>连接MySQL数据：app.config[‘SQLALCHEMY_DATABASE_URI’] = ‘mysql+pymysql://root:<a href=\"mailto:123456@127.0.0.1\" target=\"_blank\" rel=\"noopener\">123456@127.0.0.1</a>:3306/flask7’</li>\n<li>app.config[‘SQLALCHEMY_TRACK_MODIFICATIONS’] = False</li>\n<li>初始化: db.init_app(app)</li>\n</ul>\n</li>\n</ul>\n<h4 id=\"迁移\"><a href=\"#迁移\" class=\"headerlink\" title=\"迁移\"></a>迁移</h4><ul>\n<li>创建: db.create_all()</li>\n<li>删除: db.drop_all()</li>\n</ul>\n<h4 id=\"对数据库的操作\"><a href=\"#对数据库的操作\" class=\"headerlink\" title=\"对数据库的操作\"></a>对数据库的操作</h4><p><strong>增</strong></p>\n<ul>\n<li>使用flask_sqlalchemy的session会话，db.session.add(对象)   db.session.commit()</li>\n<li>db.session.add_all(对象列表)   db.session.commit()</li>\n</ul>\n<p><strong>删</strong></p>\n<ul>\n<li>db.session.delete(对象)  db.session.commit()</li>\n</ul>\n<p><strong>改</strong></p>\n<ul>\n<li>db.session.add(对象)   db.session.commit()</li>\n<li>注意: db.session.add(对象)这句话可写可不写</li>\n</ul>\n<p><strong>查</strong></p>\n<pre><code class=\"python\">filter：模型.query.filter(模型.字段 == 值)\nfilter_by: 模型.query.filter_by(字段 = 值)\nget: 获取主键所在行的数据:  模型.query.get(主键值)\nall:\n    - 查询所有结果，返回结果为列表\n    - 模型.query.all()\norder_by:\n    - 升序：模型.query.order_by(&#39;字段&#39;)/模型.query.order_by(&#39;字段 asc&#39;)\n    - 降序：模型.query.order_by(&#39;-字段&#39;)/模型.query.order_by(&#39;字段 desc&#39;)\noffset/limit:模型.query.offset(跳过几条数据).limit(截取几条数据)\nfirst: \n    获取第一个: 模型.query.filter_by().first()\n模糊查询：\n    contains: 模型.query.filter(模型.字段.contains(值))\n    startswith: 模型.query.filter(模型.字段.startswith(值))\n    endswith: 模型.query.filter(模型.字段.endswith(值))\n    like: _ 占位 / %通配符 / \n        模型.query.filter(模型.字段.like(&#39;_值%&#39;)\nin_: 范围之内: 模型.query.filter(模型.字段.in_([1,2,3,4,5]))\n比较：gt大于/ge大于等于/lt小于/le小于等于\n    模型.query.filter(模型.字段.__gt__(21))\n    模型.query.filter(模型.字段 &gt; 值)\n与或非：\n    - from sqlalchemy import and_,not_, or_\n    - 且: 模型.query.filter(and_(条件1，条件2，条件3))\n    - 或: 模型.query.filter(or_(条件1，条件2，条件3))\n    - 非: 模型.query.filter(not_(条件1))\n\n分页：\n    - 查询: pg = 模型.query.paginate(哪一页, 每一页的数据条数)\n    - 获取数据: pg.items\n    - 上一页判断: pg.has_prev\n    - 上一页脚码: pg.prev_num\n    - 下一页判断: pg.has_next\n    - 下一页脚码: pg.next_num\n    - 共多少页: pg.pages\n    - 当前页: pg.page\n    - 共多少数据: pg.total\n    - 脚码: pg.iter_pages()\n\n</code></pre>\n"},{"title":"models2","date":"2018-10-15T23:44:14.000Z","author":"smile","img":"/images/02.jpg","_content":"\n### 一对多\n**模型定义**\n- 外键ForeignKey定义在'多'的一方\n- relationship字段定义在'一'的一方\n- backref参数: 反向引用的关联关系\n\n**查询**\n- 一查多：'一'的对象.relationship字段\n- 多查一：'多'的对象.backref字段\n\n### 多对多\n**模型定义**\n- 中间表的定义: db.Table\n- relationship字段定义在任何一方都可以\n- secondary参数指定关联的中间表\n- backref参数: 反向引用关系\n\n**查询**\n- 通过relationship所在字段的模型查询另外一个模型的数据\n  - relationship字段所在的模型对象.relationshop字段，查询的结果为另外一个模型的列表\n- 查询relationship字段所在模型数据, 使用backref参数\n\n**添加/删除**\n- append(对象)\n- remove(对象)\n\n**lazy**\n- lazy定义SQLAlchemy何时从数据库加载数据\n- 默认lazy为True\n\n### 钩子函数\n```python\n请求之前: before_request\n    - 不要写return，如果写return将直接响应内容给浏览器\n    - 多个before_request装饰的函数将依次调用\n请求之后: after_request\n    - 一定要写return response\n    - 程序正常执行情况下才会调用\n    - 多个after_request装饰的函数将倒序依次执行\n请求之后: teardown_request\n    - 不管异常是否处理，无论如何都会执行\n    - 程序不管是否出错，都会执行\n    - 配置:app.config['PRESERVE_CONTEXT_ON_EXCEPTION'] = False\n```\n### 异常\n- 引入: from flask import abort\n- 抛出异常: abort(500)\n- 捕获异常: @app.errorhandlers(500)\n\n### flask-wtf\n```python\n1.表单定义\n2.页面中表单的渲染\n    - form.username:解析的结果为input标签\n    - form.username.label: 解析的结果为定义表单字段的第一个参数\n    - form.csrf_token: 解析的结果为随机字符串\n    - form.username(style=\"color:red;\"): 添加自定义的样式\n3.校验\n    - validator_on_submit(): 校验成功返回True,否则False\n    - 校验失败: form.errors\n4.密码加密/解密\n    - 加密: generate_password_hash()\n    - 解密：check_password_hash()\n\n```\n\n","source":"_posts/flask/models2.md","raw":"---\ntitle: models2\ndate: 2018-10-16 07:44:14\nauthor: smile\nimg: /images/02.jpg\ncategories: flask\ntags: \n  - 表关系\n---\n\n### 一对多\n**模型定义**\n- 外键ForeignKey定义在'多'的一方\n- relationship字段定义在'一'的一方\n- backref参数: 反向引用的关联关系\n\n**查询**\n- 一查多：'一'的对象.relationship字段\n- 多查一：'多'的对象.backref字段\n\n### 多对多\n**模型定义**\n- 中间表的定义: db.Table\n- relationship字段定义在任何一方都可以\n- secondary参数指定关联的中间表\n- backref参数: 反向引用关系\n\n**查询**\n- 通过relationship所在字段的模型查询另外一个模型的数据\n  - relationship字段所在的模型对象.relationshop字段，查询的结果为另外一个模型的列表\n- 查询relationship字段所在模型数据, 使用backref参数\n\n**添加/删除**\n- append(对象)\n- remove(对象)\n\n**lazy**\n- lazy定义SQLAlchemy何时从数据库加载数据\n- 默认lazy为True\n\n### 钩子函数\n```python\n请求之前: before_request\n    - 不要写return，如果写return将直接响应内容给浏览器\n    - 多个before_request装饰的函数将依次调用\n请求之后: after_request\n    - 一定要写return response\n    - 程序正常执行情况下才会调用\n    - 多个after_request装饰的函数将倒序依次执行\n请求之后: teardown_request\n    - 不管异常是否处理，无论如何都会执行\n    - 程序不管是否出错，都会执行\n    - 配置:app.config['PRESERVE_CONTEXT_ON_EXCEPTION'] = False\n```\n### 异常\n- 引入: from flask import abort\n- 抛出异常: abort(500)\n- 捕获异常: @app.errorhandlers(500)\n\n### flask-wtf\n```python\n1.表单定义\n2.页面中表单的渲染\n    - form.username:解析的结果为input标签\n    - form.username.label: 解析的结果为定义表单字段的第一个参数\n    - form.csrf_token: 解析的结果为随机字符串\n    - form.username(style=\"color:red;\"): 添加自定义的样式\n3.校验\n    - validator_on_submit(): 校验成功返回True,否则False\n    - 校验失败: form.errors\n4.密码加密/解密\n    - 加密: generate_password_hash()\n    - 解密：check_password_hash()\n\n```\n\n","slug":"flask/models2","published":1,"updated":"2019-03-14T01:37:42.492Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjt87kqha0014r8r6r3zk40jk","content":"<h3 id=\"一对多\"><a href=\"#一对多\" class=\"headerlink\" title=\"一对多\"></a>一对多</h3><p><strong>模型定义</strong></p>\n<ul>\n<li>外键ForeignKey定义在’多’的一方</li>\n<li>relationship字段定义在’一’的一方</li>\n<li>backref参数: 反向引用的关联关系</li>\n</ul>\n<p><strong>查询</strong></p>\n<ul>\n<li>一查多：’一’的对象.relationship字段</li>\n<li>多查一：’多’的对象.backref字段</li>\n</ul>\n<h3 id=\"多对多\"><a href=\"#多对多\" class=\"headerlink\" title=\"多对多\"></a>多对多</h3><p><strong>模型定义</strong></p>\n<ul>\n<li>中间表的定义: db.Table</li>\n<li>relationship字段定义在任何一方都可以</li>\n<li>secondary参数指定关联的中间表</li>\n<li>backref参数: 反向引用关系</li>\n</ul>\n<p><strong>查询</strong></p>\n<ul>\n<li>通过relationship所在字段的模型查询另外一个模型的数据<ul>\n<li>relationship字段所在的模型对象.relationshop字段，查询的结果为另外一个模型的列表</li>\n</ul>\n</li>\n<li>查询relationship字段所在模型数据, 使用backref参数</li>\n</ul>\n<p><strong>添加/删除</strong></p>\n<ul>\n<li>append(对象)</li>\n<li>remove(对象)</li>\n</ul>\n<p><strong>lazy</strong></p>\n<ul>\n<li>lazy定义SQLAlchemy何时从数据库加载数据</li>\n<li>默认lazy为True</li>\n</ul>\n<h3 id=\"钩子函数\"><a href=\"#钩子函数\" class=\"headerlink\" title=\"钩子函数\"></a>钩子函数</h3><pre class=\" language-python\"><code class=\"language-python\">请求之前<span class=\"token punctuation\">:</span> before_request\n    <span class=\"token operator\">-</span> 不要写<span class=\"token keyword\">return</span>，如果写<span class=\"token keyword\">return</span>将直接响应内容给浏览器\n    <span class=\"token operator\">-</span> 多个before_request装饰的函数将依次调用\n请求之后<span class=\"token punctuation\">:</span> after_request\n    <span class=\"token operator\">-</span> 一定要写<span class=\"token keyword\">return</span> response\n    <span class=\"token operator\">-</span> 程序正常执行情况下才会调用\n    <span class=\"token operator\">-</span> 多个after_request装饰的函数将倒序依次执行\n请求之后<span class=\"token punctuation\">:</span> teardown_request\n    <span class=\"token operator\">-</span> 不管异常是否处理，无论如何都会执行\n    <span class=\"token operator\">-</span> 程序不管是否出错，都会执行\n    <span class=\"token operator\">-</span> 配置<span class=\"token punctuation\">:</span>app<span class=\"token punctuation\">.</span>config<span class=\"token punctuation\">[</span><span class=\"token string\">'PRESERVE_CONTEXT_ON_EXCEPTION'</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token boolean\">False</span>\n</code></pre>\n<h3 id=\"异常\"><a href=\"#异常\" class=\"headerlink\" title=\"异常\"></a>异常</h3><ul>\n<li>引入: from flask import abort</li>\n<li>抛出异常: abort(500)</li>\n<li>捕获异常: @app.errorhandlers(500)</li>\n</ul>\n<h3 id=\"flask-wtf\"><a href=\"#flask-wtf\" class=\"headerlink\" title=\"flask-wtf\"></a>flask-wtf</h3><pre class=\" language-python\"><code class=\"language-python\"><span class=\"token number\">1</span><span class=\"token punctuation\">.</span>表单定义\n<span class=\"token number\">2</span><span class=\"token punctuation\">.</span>页面中表单的渲染\n    <span class=\"token operator\">-</span> form<span class=\"token punctuation\">.</span>username<span class=\"token punctuation\">:</span>解析的结果为input标签\n    <span class=\"token operator\">-</span> form<span class=\"token punctuation\">.</span>username<span class=\"token punctuation\">.</span>label<span class=\"token punctuation\">:</span> 解析的结果为定义表单字段的第一个参数\n    <span class=\"token operator\">-</span> form<span class=\"token punctuation\">.</span>csrf_token<span class=\"token punctuation\">:</span> 解析的结果为随机字符串\n    <span class=\"token operator\">-</span> form<span class=\"token punctuation\">.</span>username<span class=\"token punctuation\">(</span>style<span class=\"token operator\">=</span><span class=\"token string\">\"color:red;\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span> 添加自定义的样式\n<span class=\"token number\">3</span><span class=\"token punctuation\">.</span>校验\n    <span class=\"token operator\">-</span> validator_on_submit<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span> 校验成功返回<span class=\"token boolean\">True</span><span class=\"token punctuation\">,</span>否则<span class=\"token boolean\">False</span>\n    <span class=\"token operator\">-</span> 校验失败<span class=\"token punctuation\">:</span> form<span class=\"token punctuation\">.</span>errors\n<span class=\"token number\">4</span><span class=\"token punctuation\">.</span>密码加密<span class=\"token operator\">/</span>解密\n    <span class=\"token operator\">-</span> 加密<span class=\"token punctuation\">:</span> generate_password_hash<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    <span class=\"token operator\">-</span> 解密：check_password_hash<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n\n</code></pre>\n","site":{"data":{}},"excerpt":"","more":"<h3 id=\"一对多\"><a href=\"#一对多\" class=\"headerlink\" title=\"一对多\"></a>一对多</h3><p><strong>模型定义</strong></p>\n<ul>\n<li>外键ForeignKey定义在’多’的一方</li>\n<li>relationship字段定义在’一’的一方</li>\n<li>backref参数: 反向引用的关联关系</li>\n</ul>\n<p><strong>查询</strong></p>\n<ul>\n<li>一查多：’一’的对象.relationship字段</li>\n<li>多查一：’多’的对象.backref字段</li>\n</ul>\n<h3 id=\"多对多\"><a href=\"#多对多\" class=\"headerlink\" title=\"多对多\"></a>多对多</h3><p><strong>模型定义</strong></p>\n<ul>\n<li>中间表的定义: db.Table</li>\n<li>relationship字段定义在任何一方都可以</li>\n<li>secondary参数指定关联的中间表</li>\n<li>backref参数: 反向引用关系</li>\n</ul>\n<p><strong>查询</strong></p>\n<ul>\n<li>通过relationship所在字段的模型查询另外一个模型的数据<ul>\n<li>relationship字段所在的模型对象.relationshop字段，查询的结果为另外一个模型的列表</li>\n</ul>\n</li>\n<li>查询relationship字段所在模型数据, 使用backref参数</li>\n</ul>\n<p><strong>添加/删除</strong></p>\n<ul>\n<li>append(对象)</li>\n<li>remove(对象)</li>\n</ul>\n<p><strong>lazy</strong></p>\n<ul>\n<li>lazy定义SQLAlchemy何时从数据库加载数据</li>\n<li>默认lazy为True</li>\n</ul>\n<h3 id=\"钩子函数\"><a href=\"#钩子函数\" class=\"headerlink\" title=\"钩子函数\"></a>钩子函数</h3><pre><code class=\"python\">请求之前: before_request\n    - 不要写return，如果写return将直接响应内容给浏览器\n    - 多个before_request装饰的函数将依次调用\n请求之后: after_request\n    - 一定要写return response\n    - 程序正常执行情况下才会调用\n    - 多个after_request装饰的函数将倒序依次执行\n请求之后: teardown_request\n    - 不管异常是否处理，无论如何都会执行\n    - 程序不管是否出错，都会执行\n    - 配置:app.config[&#39;PRESERVE_CONTEXT_ON_EXCEPTION&#39;] = False\n</code></pre>\n<h3 id=\"异常\"><a href=\"#异常\" class=\"headerlink\" title=\"异常\"></a>异常</h3><ul>\n<li>引入: from flask import abort</li>\n<li>抛出异常: abort(500)</li>\n<li>捕获异常: @app.errorhandlers(500)</li>\n</ul>\n<h3 id=\"flask-wtf\"><a href=\"#flask-wtf\" class=\"headerlink\" title=\"flask-wtf\"></a>flask-wtf</h3><pre><code class=\"python\">1.表单定义\n2.页面中表单的渲染\n    - form.username:解析的结果为input标签\n    - form.username.label: 解析的结果为定义表单字段的第一个参数\n    - form.csrf_token: 解析的结果为随机字符串\n    - form.username(style=&quot;color:red;&quot;): 添加自定义的样式\n3.校验\n    - validator_on_submit(): 校验成功返回True,否则False\n    - 校验失败: form.errors\n4.密码加密/解密\n    - 加密: generate_password_hash()\n    - 解密：check_password_hash()\n\n</code></pre>\n"},{"title":"响应","date":"2019-01-16T23:44:14.000Z","author":"smile","img":"/images/06.jpg","_content":"\n### session会话\n\n第一种方式：Flask自带的存储方式，数据存储在客户端\n第二种方式：使用Flask-Session进行储存，将数据库保存在redis中\n\n### 请求\n```python\n接收HTTP请求方式：@app.route('/', methods=['GET', 'POST', 'DELETE', 'PATCH', 'PUT'])\n\n判断当前请求的方式：request.method\n\n获取GET请求传递的参数：request.args\n    获取值：request.args.get(key)\n    获取多值：request.args.getlist(key)\n\n获取POST请求传递的参数：request.form\n    获取值：request.form.get(key)\n    获取多值：request.form.getlist(key)\n    \n获取路径：request.path\n\n获取文件：request.files\n```\n\n### 响应\n```python\n生成响应对象：返回的页面\n\n设置cookie：\n    响应对象res.set_cookie(key, value, max_age, expires)\n        key:键值对中的键\n        value：键值对中的值\n        max_age：过期时间，单位为秒\n        expires:过期时间，datetime为单位\n\n删除cookie:\n    delete_cookie：响应对象res.selete_cookie(key)\n    set_cookie:响应对象res.set_cookie(key, value, max_age=0)\n```\n","source":"_posts/flask/请求与响应.md","raw":"---\ntitle: 响应\ndate: 2019-01-17 07:44:14\nauthor: smile\nimg: /images/06.jpg\ncategories: flask\ntags:\n  - Flask_session\n---\n\n### session会话\n\n第一种方式：Flask自带的存储方式，数据存储在客户端\n第二种方式：使用Flask-Session进行储存，将数据库保存在redis中\n\n### 请求\n```python\n接收HTTP请求方式：@app.route('/', methods=['GET', 'POST', 'DELETE', 'PATCH', 'PUT'])\n\n判断当前请求的方式：request.method\n\n获取GET请求传递的参数：request.args\n    获取值：request.args.get(key)\n    获取多值：request.args.getlist(key)\n\n获取POST请求传递的参数：request.form\n    获取值：request.form.get(key)\n    获取多值：request.form.getlist(key)\n    \n获取路径：request.path\n\n获取文件：request.files\n```\n\n### 响应\n```python\n生成响应对象：返回的页面\n\n设置cookie：\n    响应对象res.set_cookie(key, value, max_age, expires)\n        key:键值对中的键\n        value：键值对中的值\n        max_age：过期时间，单位为秒\n        expires:过期时间，datetime为单位\n\n删除cookie:\n    delete_cookie：响应对象res.selete_cookie(key)\n    set_cookie:响应对象res.set_cookie(key, value, max_age=0)\n```\n","slug":"flask/请求与响应","published":1,"updated":"2019-01-19T10:17:50.923Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjt87kqhl0018r8r6knjsykea","content":"<h3 id=\"session会话\"><a href=\"#session会话\" class=\"headerlink\" title=\"session会话\"></a>session会话</h3><p>第一种方式：Flask自带的存储方式，数据存储在客户端<br>第二种方式：使用Flask-Session进行储存，将数据库保存在redis中</p>\n<h3 id=\"请求\"><a href=\"#请求\" class=\"headerlink\" title=\"请求\"></a>请求</h3><pre class=\" language-python\"><code class=\"language-python\">接收HTTP请求方式：@app<span class=\"token punctuation\">.</span>route<span class=\"token punctuation\">(</span><span class=\"token string\">'/'</span><span class=\"token punctuation\">,</span> methods<span class=\"token operator\">=</span><span class=\"token punctuation\">[</span><span class=\"token string\">'GET'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'POST'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'DELETE'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'PATCH'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'PUT'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>\n\n判断当前请求的方式：request<span class=\"token punctuation\">.</span>method\n\n获取GET请求传递的参数：request<span class=\"token punctuation\">.</span>args\n    获取值：request<span class=\"token punctuation\">.</span>args<span class=\"token punctuation\">.</span>get<span class=\"token punctuation\">(</span>key<span class=\"token punctuation\">)</span>\n    获取多值：request<span class=\"token punctuation\">.</span>args<span class=\"token punctuation\">.</span>getlist<span class=\"token punctuation\">(</span>key<span class=\"token punctuation\">)</span>\n\n获取POST请求传递的参数：request<span class=\"token punctuation\">.</span>form\n    获取值：request<span class=\"token punctuation\">.</span>form<span class=\"token punctuation\">.</span>get<span class=\"token punctuation\">(</span>key<span class=\"token punctuation\">)</span>\n    获取多值：request<span class=\"token punctuation\">.</span>form<span class=\"token punctuation\">.</span>getlist<span class=\"token punctuation\">(</span>key<span class=\"token punctuation\">)</span>\n\n获取路径：request<span class=\"token punctuation\">.</span>path\n\n获取文件：request<span class=\"token punctuation\">.</span>files\n</code></pre>\n<h3 id=\"响应\"><a href=\"#响应\" class=\"headerlink\" title=\"响应\"></a>响应</h3><pre class=\" language-python\"><code class=\"language-python\">生成响应对象：返回的页面\n\n设置cookie：\n    响应对象res<span class=\"token punctuation\">.</span>set_cookie<span class=\"token punctuation\">(</span>key<span class=\"token punctuation\">,</span> value<span class=\"token punctuation\">,</span> max_age<span class=\"token punctuation\">,</span> expires<span class=\"token punctuation\">)</span>\n        key<span class=\"token punctuation\">:</span>键值对中的键\n        value：键值对中的值\n        max_age：过期时间，单位为秒\n        expires<span class=\"token punctuation\">:</span>过期时间，datetime为单位\n\n删除cookie<span class=\"token punctuation\">:</span>\n    delete_cookie：响应对象res<span class=\"token punctuation\">.</span>selete_cookie<span class=\"token punctuation\">(</span>key<span class=\"token punctuation\">)</span>\n    set_cookie<span class=\"token punctuation\">:</span>响应对象res<span class=\"token punctuation\">.</span>set_cookie<span class=\"token punctuation\">(</span>key<span class=\"token punctuation\">,</span> value<span class=\"token punctuation\">,</span> max_age<span class=\"token operator\">=</span><span class=\"token number\">0</span><span class=\"token punctuation\">)</span>\n</code></pre>\n","site":{"data":{}},"excerpt":"","more":"<h3 id=\"session会话\"><a href=\"#session会话\" class=\"headerlink\" title=\"session会话\"></a>session会话</h3><p>第一种方式：Flask自带的存储方式，数据存储在客户端<br>第二种方式：使用Flask-Session进行储存，将数据库保存在redis中</p>\n<h3 id=\"请求\"><a href=\"#请求\" class=\"headerlink\" title=\"请求\"></a>请求</h3><pre><code class=\"python\">接收HTTP请求方式：@app.route(&#39;/&#39;, methods=[&#39;GET&#39;, &#39;POST&#39;, &#39;DELETE&#39;, &#39;PATCH&#39;, &#39;PUT&#39;])\n\n判断当前请求的方式：request.method\n\n获取GET请求传递的参数：request.args\n    获取值：request.args.get(key)\n    获取多值：request.args.getlist(key)\n\n获取POST请求传递的参数：request.form\n    获取值：request.form.get(key)\n    获取多值：request.form.getlist(key)\n\n获取路径：request.path\n\n获取文件：request.files\n</code></pre>\n<h3 id=\"响应\"><a href=\"#响应\" class=\"headerlink\" title=\"响应\"></a>响应</h3><pre><code class=\"python\">生成响应对象：返回的页面\n\n设置cookie：\n    响应对象res.set_cookie(key, value, max_age, expires)\n        key:键值对中的键\n        value：键值对中的值\n        max_age：过期时间，单位为秒\n        expires:过期时间，datetime为单位\n\n删除cookie:\n    delete_cookie：响应对象res.selete_cookie(key)\n    set_cookie:响应对象res.set_cookie(key, value, max_age=0)\n</code></pre>\n"},{"title":"programming-book","date":"2018-12-14T16:00:00.000Z","author":"smile","_content":"\nRead ten thousand books and travel ten thousand miles！\n\nBooks are ladders of human progress！\n\n\n\n## Python参考书籍\n\n### 入门读物\n\n1. 《Python基础教程》（*Beginning Python From Novice to Professional*）\n2. 《Python学习手册》（*Learning Python*）\n3. 《Python编程》（*Programming Python*）\n4. 《Python Cookbook》\n5. 《Python程序设计》（*Python Programming: An Introduction to Computer Science*）\n6. 《Modern Python Cookbook》\n\n### 进阶读物\n\n1. 《Python核心编程》（*Core Python Applications Programming*）\n2. 《流畅的Python》（*Fluent Python*）\n3. 《Effective Python：编写高质量Python代码的59个有效方法》（*Effective Python 59 Specific Ways to Write Better Python*）\n4. 《Python设计模式》（*Learning Python Design Patterns*）\n5. 《Python高级编程》（*Expert Python Programming*）\n6. 《Python性能分析与优化》（*Mastering Python High Performance*）\n\n### Web框架\n\n1. 《Django基础教程》（*Tango with Django*）\n2. 《轻量级Django》（*Lightweight Django*）\n3. 《Python Web开发：测试驱动方法》（*Test-Driven Development with Python*）\n4. 《Web Development with Django Cookbook》\n5. 《Test-Driven Development with Django》\n6. 《Django Project Blueprints 》\n7. 《Flask Web开发：基于Python的Web应用开发实战》（*Flask Web Development: Developing Web Applications with Python*）\n8. 《深入理解Flask》（*Mastering Flask*）\n\n### 爬虫开发\n\n1. 《用Python写网络爬虫》（*Web Scraping with Python*）\n2. 《精通Python爬虫框架Scrapy》（*Learning Scrapy*）\n3. 《Python网络数据采集》（*Web Scraping with Python*）\n4. 《Python爬虫开发与项目实战》\n5. 《Python 3网络爬虫开发实战》\n\n### 数据分析\n\n1. 《利用Python进行数据分析》（*Python for Data Analysis*）\n2. 《Python数据科学手册》（*Python Data Science Handbook*）\n3. 《Python金融大数据分析》（*Python for Finance*）\n4. 《Python数据可视化编程实战》（*Python Data Visualization Cookbook*）\n5. 《Python数据处理》（*Data Wrangling with Python*）\n\n### 机器学习\n\n1. 《Python机器学习基础教程》（*Introduction to Machine Learning with Python*）\n2. 《Python机器学习实践指南》（*Python Machine Learning Blueprints*）\n3. 《Python Machine Learning Case Studies》\n4. 《Python机器学习实践：测试驱动的开发方法》（*Thoughtful Machine Learning with Python A Test Driven Approach*）\n5. 《Python机器学习经典实例》（*Python Machine Learning Cookbook*）\n6. 《TensorFlow：实战Google深度学习框架》","source":"_posts/python/Python参考书籍.md","raw":"---\ntitle: programming-book\ndate: 2018-12-15 \nauthor: smile\ntags: \n  - Python\n  - Web\n  - spider\n---\n\nRead ten thousand books and travel ten thousand miles！\n\nBooks are ladders of human progress！\n\n\n\n## Python参考书籍\n\n### 入门读物\n\n1. 《Python基础教程》（*Beginning Python From Novice to Professional*）\n2. 《Python学习手册》（*Learning Python*）\n3. 《Python编程》（*Programming Python*）\n4. 《Python Cookbook》\n5. 《Python程序设计》（*Python Programming: An Introduction to Computer Science*）\n6. 《Modern Python Cookbook》\n\n### 进阶读物\n\n1. 《Python核心编程》（*Core Python Applications Programming*）\n2. 《流畅的Python》（*Fluent Python*）\n3. 《Effective Python：编写高质量Python代码的59个有效方法》（*Effective Python 59 Specific Ways to Write Better Python*）\n4. 《Python设计模式》（*Learning Python Design Patterns*）\n5. 《Python高级编程》（*Expert Python Programming*）\n6. 《Python性能分析与优化》（*Mastering Python High Performance*）\n\n### Web框架\n\n1. 《Django基础教程》（*Tango with Django*）\n2. 《轻量级Django》（*Lightweight Django*）\n3. 《Python Web开发：测试驱动方法》（*Test-Driven Development with Python*）\n4. 《Web Development with Django Cookbook》\n5. 《Test-Driven Development with Django》\n6. 《Django Project Blueprints 》\n7. 《Flask Web开发：基于Python的Web应用开发实战》（*Flask Web Development: Developing Web Applications with Python*）\n8. 《深入理解Flask》（*Mastering Flask*）\n\n### 爬虫开发\n\n1. 《用Python写网络爬虫》（*Web Scraping with Python*）\n2. 《精通Python爬虫框架Scrapy》（*Learning Scrapy*）\n3. 《Python网络数据采集》（*Web Scraping with Python*）\n4. 《Python爬虫开发与项目实战》\n5. 《Python 3网络爬虫开发实战》\n\n### 数据分析\n\n1. 《利用Python进行数据分析》（*Python for Data Analysis*）\n2. 《Python数据科学手册》（*Python Data Science Handbook*）\n3. 《Python金融大数据分析》（*Python for Finance*）\n4. 《Python数据可视化编程实战》（*Python Data Visualization Cookbook*）\n5. 《Python数据处理》（*Data Wrangling with Python*）\n\n### 机器学习\n\n1. 《Python机器学习基础教程》（*Introduction to Machine Learning with Python*）\n2. 《Python机器学习实践指南》（*Python Machine Learning Blueprints*）\n3. 《Python Machine Learning Case Studies》\n4. 《Python机器学习实践：测试驱动的开发方法》（*Thoughtful Machine Learning with Python A Test Driven Approach*）\n5. 《Python机器学习经典实例》（*Python Machine Learning Cookbook*）\n6. 《TensorFlow：实战Google深度学习框架》","slug":"python/Python参考书籍","published":1,"updated":"2019-03-14T01:43:40.233Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjt87kqht001br8r6d7e6d3xg","content":"<p>Read ten thousand books and travel ten thousand miles！</p>\n<p>Books are ladders of human progress！</p>\n<h2 id=\"Python参考书籍\"><a href=\"#Python参考书籍\" class=\"headerlink\" title=\"Python参考书籍\"></a>Python参考书籍</h2><h3 id=\"入门读物\"><a href=\"#入门读物\" class=\"headerlink\" title=\"入门读物\"></a>入门读物</h3><ol>\n<li>《Python基础教程》（<em>Beginning Python From Novice to Professional</em>）</li>\n<li>《Python学习手册》（<em>Learning Python</em>）</li>\n<li>《Python编程》（<em>Programming Python</em>）</li>\n<li>《Python Cookbook》</li>\n<li>《Python程序设计》（<em>Python Programming: An Introduction to Computer Science</em>）</li>\n<li>《Modern Python Cookbook》</li>\n</ol>\n<h3 id=\"进阶读物\"><a href=\"#进阶读物\" class=\"headerlink\" title=\"进阶读物\"></a>进阶读物</h3><ol>\n<li>《Python核心编程》（<em>Core Python Applications Programming</em>）</li>\n<li>《流畅的Python》（<em>Fluent Python</em>）</li>\n<li>《Effective Python：编写高质量Python代码的59个有效方法》（<em>Effective Python 59 Specific Ways to Write Better Python</em>）</li>\n<li>《Python设计模式》（<em>Learning Python Design Patterns</em>）</li>\n<li>《Python高级编程》（<em>Expert Python Programming</em>）</li>\n<li>《Python性能分析与优化》（<em>Mastering Python High Performance</em>）</li>\n</ol>\n<h3 id=\"Web框架\"><a href=\"#Web框架\" class=\"headerlink\" title=\"Web框架\"></a>Web框架</h3><ol>\n<li>《Django基础教程》（<em>Tango with Django</em>）</li>\n<li>《轻量级Django》（<em>Lightweight Django</em>）</li>\n<li>《Python Web开发：测试驱动方法》（<em>Test-Driven Development with Python</em>）</li>\n<li>《Web Development with Django Cookbook》</li>\n<li>《Test-Driven Development with Django》</li>\n<li>《Django Project Blueprints 》</li>\n<li>《Flask Web开发：基于Python的Web应用开发实战》（<em>Flask Web Development: Developing Web Applications with Python</em>）</li>\n<li>《深入理解Flask》（<em>Mastering Flask</em>）</li>\n</ol>\n<h3 id=\"爬虫开发\"><a href=\"#爬虫开发\" class=\"headerlink\" title=\"爬虫开发\"></a>爬虫开发</h3><ol>\n<li>《用Python写网络爬虫》（<em>Web Scraping with Python</em>）</li>\n<li>《精通Python爬虫框架Scrapy》（<em>Learning Scrapy</em>）</li>\n<li>《Python网络数据采集》（<em>Web Scraping with Python</em>）</li>\n<li>《Python爬虫开发与项目实战》</li>\n<li>《Python 3网络爬虫开发实战》</li>\n</ol>\n<h3 id=\"数据分析\"><a href=\"#数据分析\" class=\"headerlink\" title=\"数据分析\"></a>数据分析</h3><ol>\n<li>《利用Python进行数据分析》（<em>Python for Data Analysis</em>）</li>\n<li>《Python数据科学手册》（<em>Python Data Science Handbook</em>）</li>\n<li>《Python金融大数据分析》（<em>Python for Finance</em>）</li>\n<li>《Python数据可视化编程实战》（<em>Python Data Visualization Cookbook</em>）</li>\n<li>《Python数据处理》（<em>Data Wrangling with Python</em>）</li>\n</ol>\n<h3 id=\"机器学习\"><a href=\"#机器学习\" class=\"headerlink\" title=\"机器学习\"></a>机器学习</h3><ol>\n<li>《Python机器学习基础教程》（<em>Introduction to Machine Learning with Python</em>）</li>\n<li>《Python机器学习实践指南》（<em>Python Machine Learning Blueprints</em>）</li>\n<li>《Python Machine Learning Case Studies》</li>\n<li>《Python机器学习实践：测试驱动的开发方法》（<em>Thoughtful Machine Learning with Python A Test Driven Approach</em>）</li>\n<li>《Python机器学习经典实例》（<em>Python Machine Learning Cookbook</em>）</li>\n<li>《TensorFlow：实战Google深度学习框架》</li>\n</ol>\n","site":{"data":{}},"excerpt":"","more":"<p>Read ten thousand books and travel ten thousand miles！</p>\n<p>Books are ladders of human progress！</p>\n<h2 id=\"Python参考书籍\"><a href=\"#Python参考书籍\" class=\"headerlink\" title=\"Python参考书籍\"></a>Python参考书籍</h2><h3 id=\"入门读物\"><a href=\"#入门读物\" class=\"headerlink\" title=\"入门读物\"></a>入门读物</h3><ol>\n<li>《Python基础教程》（<em>Beginning Python From Novice to Professional</em>）</li>\n<li>《Python学习手册》（<em>Learning Python</em>）</li>\n<li>《Python编程》（<em>Programming Python</em>）</li>\n<li>《Python Cookbook》</li>\n<li>《Python程序设计》（<em>Python Programming: An Introduction to Computer Science</em>）</li>\n<li>《Modern Python Cookbook》</li>\n</ol>\n<h3 id=\"进阶读物\"><a href=\"#进阶读物\" class=\"headerlink\" title=\"进阶读物\"></a>进阶读物</h3><ol>\n<li>《Python核心编程》（<em>Core Python Applications Programming</em>）</li>\n<li>《流畅的Python》（<em>Fluent Python</em>）</li>\n<li>《Effective Python：编写高质量Python代码的59个有效方法》（<em>Effective Python 59 Specific Ways to Write Better Python</em>）</li>\n<li>《Python设计模式》（<em>Learning Python Design Patterns</em>）</li>\n<li>《Python高级编程》（<em>Expert Python Programming</em>）</li>\n<li>《Python性能分析与优化》（<em>Mastering Python High Performance</em>）</li>\n</ol>\n<h3 id=\"Web框架\"><a href=\"#Web框架\" class=\"headerlink\" title=\"Web框架\"></a>Web框架</h3><ol>\n<li>《Django基础教程》（<em>Tango with Django</em>）</li>\n<li>《轻量级Django》（<em>Lightweight Django</em>）</li>\n<li>《Python Web开发：测试驱动方法》（<em>Test-Driven Development with Python</em>）</li>\n<li>《Web Development with Django Cookbook》</li>\n<li>《Test-Driven Development with Django》</li>\n<li>《Django Project Blueprints 》</li>\n<li>《Flask Web开发：基于Python的Web应用开发实战》（<em>Flask Web Development: Developing Web Applications with Python</em>）</li>\n<li>《深入理解Flask》（<em>Mastering Flask</em>）</li>\n</ol>\n<h3 id=\"爬虫开发\"><a href=\"#爬虫开发\" class=\"headerlink\" title=\"爬虫开发\"></a>爬虫开发</h3><ol>\n<li>《用Python写网络爬虫》（<em>Web Scraping with Python</em>）</li>\n<li>《精通Python爬虫框架Scrapy》（<em>Learning Scrapy</em>）</li>\n<li>《Python网络数据采集》（<em>Web Scraping with Python</em>）</li>\n<li>《Python爬虫开发与项目实战》</li>\n<li>《Python 3网络爬虫开发实战》</li>\n</ol>\n<h3 id=\"数据分析\"><a href=\"#数据分析\" class=\"headerlink\" title=\"数据分析\"></a>数据分析</h3><ol>\n<li>《利用Python进行数据分析》（<em>Python for Data Analysis</em>）</li>\n<li>《Python数据科学手册》（<em>Python Data Science Handbook</em>）</li>\n<li>《Python金融大数据分析》（<em>Python for Finance</em>）</li>\n<li>《Python数据可视化编程实战》（<em>Python Data Visualization Cookbook</em>）</li>\n<li>《Python数据处理》（<em>Data Wrangling with Python</em>）</li>\n</ol>\n<h3 id=\"机器学习\"><a href=\"#机器学习\" class=\"headerlink\" title=\"机器学习\"></a>机器学习</h3><ol>\n<li>《Python机器学习基础教程》（<em>Introduction to Machine Learning with Python</em>）</li>\n<li>《Python机器学习实践指南》（<em>Python Machine Learning Blueprints</em>）</li>\n<li>《Python Machine Learning Case Studies》</li>\n<li>《Python机器学习实践：测试驱动的开发方法》（<em>Thoughtful Machine Learning with Python A Test Driven Approach</em>）</li>\n<li>《Python机器学习经典实例》（<em>Python Machine Learning Cookbook</em>）</li>\n<li>《TensorFlow：实战Google深度学习框架》</li>\n</ol>\n"},{"title":"Word_cloud","date":"2019-02-13T12:10:50.000Z","author":"smile","img":"/images/33.jpg","_content":"\n\n\n### 获取词云的代码\n\n```python\nimport jieba\nimport matplotlib.pyplot as plt\nfrom collections import Counter\nimport jieba.posseg as psg\nfrom scipy.misc import imread\nfrom wordcloud import WordCloud, ImageColorGenerator\n\n\nartic = open('2.txt', 'r', encoding='utf8').read()\n# 取到不需要的字符\nr='!.:;\\n？“。，……”\\u3000：的！,    '\nfor i in r:\n    artic = artic.replace(i, '')\n# 生成词组\ncut =','.join(jieba.cut(artic))\nlcut = jieba.lcut(artic)\n# 统计数量\ncount = Counter(lcut).most_common(20)\nprint(cut)\n\n\npath_of_font = './arialuni.ttf'\nbg_path = 'C:/Users/Administrator/Pictures/map1.jpg'\nbg_img = imread(bg_path)\nmy_wordcloud = WordCloud(font_path=path_of_font,max_font_size=100,mask=bg_img).generate(cut)\nplt.imshow(my_wordcloud)\nplt.axis(\"off\")\nplt.show()\n```\n\n### 效果图：\n\n![Figure_2](Word-cloud\\Figure_2.png)\n\n","source":"_posts/python/Word-cloud.md","raw":"---\ntitle: Word_cloud\ndate: 2019-02-13 20:10:50\nauthor: smile\ncategories: Python\nimg: /images/33.jpg\ntags:\n---\n\n\n\n### 获取词云的代码\n\n```python\nimport jieba\nimport matplotlib.pyplot as plt\nfrom collections import Counter\nimport jieba.posseg as psg\nfrom scipy.misc import imread\nfrom wordcloud import WordCloud, ImageColorGenerator\n\n\nartic = open('2.txt', 'r', encoding='utf8').read()\n# 取到不需要的字符\nr='!.:;\\n？“。，……”\\u3000：的！,    '\nfor i in r:\n    artic = artic.replace(i, '')\n# 生成词组\ncut =','.join(jieba.cut(artic))\nlcut = jieba.lcut(artic)\n# 统计数量\ncount = Counter(lcut).most_common(20)\nprint(cut)\n\n\npath_of_font = './arialuni.ttf'\nbg_path = 'C:/Users/Administrator/Pictures/map1.jpg'\nbg_img = imread(bg_path)\nmy_wordcloud = WordCloud(font_path=path_of_font,max_font_size=100,mask=bg_img).generate(cut)\nplt.imshow(my_wordcloud)\nplt.axis(\"off\")\nplt.show()\n```\n\n### 效果图：\n\n![Figure_2](Word-cloud\\Figure_2.png)\n\n","slug":"python/Word-cloud","published":1,"updated":"2019-02-13T12:21:24.232Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjt87kqi1001er8r6zwkltfhk","content":"<h3 id=\"获取词云的代码\"><a href=\"#获取词云的代码\" class=\"headerlink\" title=\"获取词云的代码\"></a>获取词云的代码</h3><pre class=\" language-python\"><code class=\"language-python\"><span class=\"token keyword\">import</span> jieba\n<span class=\"token keyword\">import</span> matplotlib<span class=\"token punctuation\">.</span>pyplot <span class=\"token keyword\">as</span> plt\n<span class=\"token keyword\">from</span> collections <span class=\"token keyword\">import</span> Counter\n<span class=\"token keyword\">import</span> jieba<span class=\"token punctuation\">.</span>posseg <span class=\"token keyword\">as</span> psg\n<span class=\"token keyword\">from</span> scipy<span class=\"token punctuation\">.</span>misc <span class=\"token keyword\">import</span> imread\n<span class=\"token keyword\">from</span> wordcloud <span class=\"token keyword\">import</span> WordCloud<span class=\"token punctuation\">,</span> ImageColorGenerator\n\n\nartic <span class=\"token operator\">=</span> open<span class=\"token punctuation\">(</span><span class=\"token string\">'2.txt'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'r'</span><span class=\"token punctuation\">,</span> encoding<span class=\"token operator\">=</span><span class=\"token string\">'utf8'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>read<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n<span class=\"token comment\" spellcheck=\"true\"># 取到不需要的字符</span>\nr<span class=\"token operator\">=</span><span class=\"token string\">'!.:;\\n？“。，……”\\u3000：的！,    '</span>\n<span class=\"token keyword\">for</span> i <span class=\"token keyword\">in</span> r<span class=\"token punctuation\">:</span>\n    artic <span class=\"token operator\">=</span> artic<span class=\"token punctuation\">.</span>replace<span class=\"token punctuation\">(</span>i<span class=\"token punctuation\">,</span> <span class=\"token string\">''</span><span class=\"token punctuation\">)</span>\n<span class=\"token comment\" spellcheck=\"true\"># 生成词组</span>\ncut <span class=\"token operator\">=</span><span class=\"token string\">','</span><span class=\"token punctuation\">.</span>join<span class=\"token punctuation\">(</span>jieba<span class=\"token punctuation\">.</span>cut<span class=\"token punctuation\">(</span>artic<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\nlcut <span class=\"token operator\">=</span> jieba<span class=\"token punctuation\">.</span>lcut<span class=\"token punctuation\">(</span>artic<span class=\"token punctuation\">)</span>\n<span class=\"token comment\" spellcheck=\"true\"># 统计数量</span>\ncount <span class=\"token operator\">=</span> Counter<span class=\"token punctuation\">(</span>lcut<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>most_common<span class=\"token punctuation\">(</span><span class=\"token number\">20</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>cut<span class=\"token punctuation\">)</span>\n\n\npath_of_font <span class=\"token operator\">=</span> <span class=\"token string\">'./arialuni.ttf'</span>\nbg_path <span class=\"token operator\">=</span> <span class=\"token string\">'C:/Users/Administrator/Pictures/map1.jpg'</span>\nbg_img <span class=\"token operator\">=</span> imread<span class=\"token punctuation\">(</span>bg_path<span class=\"token punctuation\">)</span>\nmy_wordcloud <span class=\"token operator\">=</span> WordCloud<span class=\"token punctuation\">(</span>font_path<span class=\"token operator\">=</span>path_of_font<span class=\"token punctuation\">,</span>max_font_size<span class=\"token operator\">=</span><span class=\"token number\">100</span><span class=\"token punctuation\">,</span>mask<span class=\"token operator\">=</span>bg_img<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>generate<span class=\"token punctuation\">(</span>cut<span class=\"token punctuation\">)</span>\nplt<span class=\"token punctuation\">.</span>imshow<span class=\"token punctuation\">(</span>my_wordcloud<span class=\"token punctuation\">)</span>\nplt<span class=\"token punctuation\">.</span>axis<span class=\"token punctuation\">(</span><span class=\"token string\">\"off\"</span><span class=\"token punctuation\">)</span>\nplt<span class=\"token punctuation\">.</span>show<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n</code></pre>\n<h3 id=\"效果图：\"><a href=\"#效果图：\" class=\"headerlink\" title=\"效果图：\"></a>效果图：</h3><p><img src=\"/2019/02/13/python/Word-cloud/Figure_2.png\" alt=\"Figure_2\"></p>\n","site":{"data":{}},"excerpt":"","more":"<h3 id=\"获取词云的代码\"><a href=\"#获取词云的代码\" class=\"headerlink\" title=\"获取词云的代码\"></a>获取词云的代码</h3><pre><code class=\"python\">import jieba\nimport matplotlib.pyplot as plt\nfrom collections import Counter\nimport jieba.posseg as psg\nfrom scipy.misc import imread\nfrom wordcloud import WordCloud, ImageColorGenerator\n\n\nartic = open(&#39;2.txt&#39;, &#39;r&#39;, encoding=&#39;utf8&#39;).read()\n# 取到不需要的字符\nr=&#39;!.:;\\n？“。，……”\\u3000：的！,    &#39;\nfor i in r:\n    artic = artic.replace(i, &#39;&#39;)\n# 生成词组\ncut =&#39;,&#39;.join(jieba.cut(artic))\nlcut = jieba.lcut(artic)\n# 统计数量\ncount = Counter(lcut).most_common(20)\nprint(cut)\n\n\npath_of_font = &#39;./arialuni.ttf&#39;\nbg_path = &#39;C:/Users/Administrator/Pictures/map1.jpg&#39;\nbg_img = imread(bg_path)\nmy_wordcloud = WordCloud(font_path=path_of_font,max_font_size=100,mask=bg_img).generate(cut)\nplt.imshow(my_wordcloud)\nplt.axis(&quot;off&quot;)\nplt.show()\n</code></pre>\n<h3 id=\"效果图：\"><a href=\"#效果图：\" class=\"headerlink\" title=\"效果图：\"></a>效果图：</h3><p><img src=\"/2019/02/13/python/Word-cloud/Figure_2.png\" alt=\"Figure_2\"></p>\n"},{"title":"pygame相关","date":"2018-11-02T07:15:06.000Z","author":"smile","_content":"\n#### 01-pygame操作\n\n模块的导入：\n\n##### import pygame\n\n```python\nif __name__ == '__main__':\n    # 1.初始化游戏模块\n    pygame.init()\n    # 2.创建游戏窗口\n    '''\n    display.set_mode(窗口大小）:创建一个窗口并且返回\n    窗口大小：是一个元组，并且表示宽度和高度(单位是像素）\n    '''\n    window = pygame.display.set_mode((500,600))\n\n    # 3.让游戏一直运行，直到点关闭按钮结束\n    flag = True\n    while flag:\n        window.fill((255,255,255))\n        # 获取游戏过程中产生的所有事件\n        for event in pygame.event.get():\n            if event.type == pygame.QUIT:\n                # exit()   # 退出程序\n                flag = False\n```\n#### 02-显示图片\n+ 给窗口填充颜色\n  颜色：计算机的三原色（红，绿，蓝），颜色对应的范围分别是0-255，可以通过改变三原色的值，调配出不同的颜色\n  颜色值：是一个元组，元组中有三个元素，分别是红绿蓝（rgb)\n    红色（255，0，0），绿色（0，255，0），蓝色（0，0，255）\n    黑色（0，0，0），白色（255，255，255）\n  `window.fill((255,255,255))`\n+ 显示图片\n  image.load(图片路径）：获取本地的一张图片，返回图片对象\n + a.获取图片，创建图片对象\n    `image = pygame.image.load('./files/gjl.jpg')`\n    get_size():获取大小，返回值是一个元组，分别是宽和高\n    ` image_width,image_height =image.get_size()`\n+ b.渲染图片（将图片画在纸上）\n  blit(渲染对象，位置）\n    位置：坐标（x,y），值的类型是元组，元组有两个对应的元素，分别是x,y的坐标\n```python\n# window.blit(image,(600-int(image_width),400-int(image_height)))将图片放到右下角\n    window.blit(image,(0,0))\n    # c.展示内容(将纸贴在画框上）\n    pygame.display.flip()\n```\n#### 03-形变\na.缩放\ntransform.scale(缩放对象，目标大小）：将指定的对象缩放到指定的大小，会返回缩放后的对象\n`new_image = pygame.transform.scale(image())`\nb.旋转缩放（指定缩放比例）\nrotozoom(Surface,angle,scale)\nSurface:旋转对象\nangle:旋转角度\nscale:缩放比例\n`new_image = pygame.transform.rotozoom(image,90,0.8)`\nc.旋转\nrotate(Surface,angle)\nSurface:旋转对象\nangle:旋转角度\n` new_image = pygame.transform.rotate(image, 270)`\n#### 04-显示文字\n+ 1.创建字体对象\n  a.创建系统的字体对象\n   SysFont(name,size,bold = False,italic = False)\n  name:字体名（系统支持的字体名）\n  size:字体大小\n  bold:是否加粗\n  italic:是否倾斜\n  b.创建自定义的字体对象\n  Font（字体文件路径，字体大小）\n  字体文件路径：ttf文件\n```python\n # a.创建系统字体\n    # font = pygame.font.SysFont('Times',30)\n\n    # b.创建自定义字体\n    font = pygame.font.Font('./files/aa.ttf',50)\n```\n+ 2.根据字体去创建文字对象\n  render(text,antialias,color,background = None)\n  text:需要显示的文字（字符串）\n  antialias:是否平滑（布尔）\n  color:颜色\n  background:背景颜色\n```\ntext = font.render('Hello,高渐离 ！',True,(255,80,200))\n    print(text.get_size())\n```\n#### 05-显示图形\n1.画直线\n​    def line(Surface,color,star_pos,end_pos,width=1)\n​    Surface:画在哪\n​    color：颜色\n​    star_pos：起点\n​    end_pos：终点\n​    width:线宽\n```\n# 画一条水平线\n    # pygame.draw.line(window,(255,0,0),(50,100),(200,100))\n    # pygame.draw.line(window, (255, 100, 200), (0, 0), (100, 100),10)\n```\n2.画线段（折线）\n​    def lines(Surface,color,close,pointlist,width=1)\n​    Surface:画在那\n​    color：颜色\n​    close：是否闭合（是否连接起点和终点）\n​    pointlist：点对应的列表\n​    width：线的宽度\n` pygame.draw.lines(window,(255,100,200),True,[(0,0),(100,0),(100,100),(200,100),(200,200)],10)`\n3.画圆\n​    def circle(Surface,color,pos,radius,width=1)\n​    Surface:画在那\n​    color：颜色\n​    pos:圆心坐标\n​    radius:半径\n​    width:0-->填充\n`pygame.draw.circle(window,(255,255,0),(200,300),100,0)`\n4.画矩形\n​    def rect(Surface,color,Rect,width=0)\n​    Surface:画在那\n​    color：颜色\n​    Rect:范围（元组，元组中有4个元素，分别是x,y,width,height)\n`pygame.draw.rect(window,(200, 150, 200), (200, 200, 250, 300),20)`\n5.画多边形\n​    polygon(Surface,color,pointlist,width=0)\n​    pointlist:多边形各点坐标，组成一个元组\n6.画椭圆\n​    def ellipse(Surface,color,Rect,width=0)\n` pygame.draw.ellipse(window, (200, 150, 200), (200, 200, 250, 300), 20)`\n7.画弧线\n​    def arc(Surface,color,Rect,start_angle,stop_angle,width=1)\n`import math\n​    pygame.draw.arc(window,(255,0,0),(100, 100, 100, 100),math.pi,math.pi/2,10)`\n#### 06-事件\n 所有的事件处理的入口就是这个for循环\n  + for循环中的代码只有游戏事件发生后才会执行\n       a.事件的type:\n       QUIT：关闭按钮被点击事件\n       鼠标事件：\n       MOUSEBUTTONDOWN：鼠标按下事件\n       MOUSEBUTTONUP：鼠标弹起\n       MOUSEMOTION:鼠标移动\n       键盘事件：\n       KEYDOWN:键盘按下\n       KEYUP:键盘弹起\n\n       b.事件的pos--鼠标事件发生的位置（坐标）\n\n       c.事件的key--键盘事件被按的键对应的编码值\n```python\n        for event in pygame.event.get():\n            # 不同的事件发生后，对应的type值不一样\n            if event.type == pygame.QUIT:\n                print('点击关闭')\n                exit()\n            elif event.type == pygame.MOUSEBUTTONDOWN:\n                # 鼠标按下要做的事情\n                print(event.pos)\n                print('鼠标按下')\n                # 鼠标按下一次画一个球\n                pygame.draw.circle(window,(random.randint(0,255),random.randint(0,255),random.randint(0,255)),event.pos,20)\n                pygame.display.flip()\n            elif event.type == pygame.MOUSEBUTTONUP:\n                print('鼠标弹起')\n            elif event.type == pygame.MOUSEMOTION:\n                print('鼠标正在移动',event.pos)\n            elif event.type == pygame.KEYDOWN:\n                print('键盘按下',event.key,chr(event.key))\n            elif event.type == pygame.KEYUP:\n                print('键盘弹起')\n```\n#### 07-动画效果\n```python\n # c.展示内容(将纸贴在画框上）\n    pygame.display.flip()\n\n    # 圆心坐标\n    x = 100\n    y = 100\n    r = 50\n    add = 4\n    m = 2\n    n = 1\n    # 游戏循环\n    while True:\n\n        pygame.time.delay(5)\n        # 将之前window上的内容覆盖了\n        window.fill((255,255,255))\n\n        # 不断的画圆\n        pygame.draw.circle(window,(randint(0,255),randint(0,255),randint(0,255)),(x,y),r)\n        pygame.display.update()\n\n        # 改变y值让圆在垂直方向移动\n        y += m\n        x += n\n        # r += add\n        # if r >=600 or r <= 20 :\n        #     add *= -1\n        if y >= 600 - r or y <= 50:\n            m *= -1\n        elif x >= 400-r or x <= 50:\n            n *= -1\n        # 事件检测\n        for event in pygame.event.get():\n            if event.type == pygame.QUIT:\n                exit()\n```\n#### 08-按住不放原理\n```python\nimport pygame\nif __name__ == '__main__':\n    # 初始化，创建窗口\n    pygame.init()\n    window = pygame.display.set_mode((400,600))\n    window.fill((255,255,255))\n\n    image = pygame.image.load('./files/gjl.jpg')\n    # 缩放\n    image = pygame.transform.rotozoom(image,0,0.5)\n    window.blit(image,(100,100))\n    # 获取图片的宽度、高度\n    image_w,image_h = image.get_size()\n\n    # c.展示内容(将纸贴在画框上）\n    pygame.display.flip()\n\n    # 用来存储图片是否移动\n    flag = False\n\n    # 保存图片的坐标\n    image_x,image_y = 100,100\n```\n```python\n    # 游戏循环\n    while True:\n        for event in pygame.event.get():\n            if event.type == pygame.QUIT:\n                exit()\n\n            # 鼠标按下\n            if event.type == pygame.MOUSEBUTTONDOWN:\n                # 判断鼠标的范围是否在图片上\n                m_x,m_y = event.pos\n                if image_x<=m_x<=image_x+image_w and image_y<=m_y<=image_y+image_h:\n                    flag = True\n            elif event.type == pygame.MOUSEBUTTONUP:\n                flag = False\n            # 鼠标移动事件\n            # 鼠标在移动，并且flag为True\n            if event.type == pygame.MOUSEMOTION and flag:\n                # 填充背景色\n                window.fill((255,255,255))\n\n                # 在鼠标移动的位置渲染图片\n                # window.blit(image,event.pos\n                center_x,center_y = event.pos\n                image_x, image_y = center_x - image_w/2,center_y - image_h/2\n                window.blit(image,(image_x, image_y))\n                # 更新屏幕显示\n                pygame.display.update()\n```","source":"_posts/python/pygame相关.md","raw":"---\ntitle: pygame相关\ndate: 2018-11-02 15:15:06\nauthor: smile\ncategories: Python\ntags: \n  - game\n---\n\n#### 01-pygame操作\n\n模块的导入：\n\n##### import pygame\n\n```python\nif __name__ == '__main__':\n    # 1.初始化游戏模块\n    pygame.init()\n    # 2.创建游戏窗口\n    '''\n    display.set_mode(窗口大小）:创建一个窗口并且返回\n    窗口大小：是一个元组，并且表示宽度和高度(单位是像素）\n    '''\n    window = pygame.display.set_mode((500,600))\n\n    # 3.让游戏一直运行，直到点关闭按钮结束\n    flag = True\n    while flag:\n        window.fill((255,255,255))\n        # 获取游戏过程中产生的所有事件\n        for event in pygame.event.get():\n            if event.type == pygame.QUIT:\n                # exit()   # 退出程序\n                flag = False\n```\n#### 02-显示图片\n+ 给窗口填充颜色\n  颜色：计算机的三原色（红，绿，蓝），颜色对应的范围分别是0-255，可以通过改变三原色的值，调配出不同的颜色\n  颜色值：是一个元组，元组中有三个元素，分别是红绿蓝（rgb)\n    红色（255，0，0），绿色（0，255，0），蓝色（0，0，255）\n    黑色（0，0，0），白色（255，255，255）\n  `window.fill((255,255,255))`\n+ 显示图片\n  image.load(图片路径）：获取本地的一张图片，返回图片对象\n + a.获取图片，创建图片对象\n    `image = pygame.image.load('./files/gjl.jpg')`\n    get_size():获取大小，返回值是一个元组，分别是宽和高\n    ` image_width,image_height =image.get_size()`\n+ b.渲染图片（将图片画在纸上）\n  blit(渲染对象，位置）\n    位置：坐标（x,y），值的类型是元组，元组有两个对应的元素，分别是x,y的坐标\n```python\n# window.blit(image,(600-int(image_width),400-int(image_height)))将图片放到右下角\n    window.blit(image,(0,0))\n    # c.展示内容(将纸贴在画框上）\n    pygame.display.flip()\n```\n#### 03-形变\na.缩放\ntransform.scale(缩放对象，目标大小）：将指定的对象缩放到指定的大小，会返回缩放后的对象\n`new_image = pygame.transform.scale(image())`\nb.旋转缩放（指定缩放比例）\nrotozoom(Surface,angle,scale)\nSurface:旋转对象\nangle:旋转角度\nscale:缩放比例\n`new_image = pygame.transform.rotozoom(image,90,0.8)`\nc.旋转\nrotate(Surface,angle)\nSurface:旋转对象\nangle:旋转角度\n` new_image = pygame.transform.rotate(image, 270)`\n#### 04-显示文字\n+ 1.创建字体对象\n  a.创建系统的字体对象\n   SysFont(name,size,bold = False,italic = False)\n  name:字体名（系统支持的字体名）\n  size:字体大小\n  bold:是否加粗\n  italic:是否倾斜\n  b.创建自定义的字体对象\n  Font（字体文件路径，字体大小）\n  字体文件路径：ttf文件\n```python\n # a.创建系统字体\n    # font = pygame.font.SysFont('Times',30)\n\n    # b.创建自定义字体\n    font = pygame.font.Font('./files/aa.ttf',50)\n```\n+ 2.根据字体去创建文字对象\n  render(text,antialias,color,background = None)\n  text:需要显示的文字（字符串）\n  antialias:是否平滑（布尔）\n  color:颜色\n  background:背景颜色\n```\ntext = font.render('Hello,高渐离 ！',True,(255,80,200))\n    print(text.get_size())\n```\n#### 05-显示图形\n1.画直线\n​    def line(Surface,color,star_pos,end_pos,width=1)\n​    Surface:画在哪\n​    color：颜色\n​    star_pos：起点\n​    end_pos：终点\n​    width:线宽\n```\n# 画一条水平线\n    # pygame.draw.line(window,(255,0,0),(50,100),(200,100))\n    # pygame.draw.line(window, (255, 100, 200), (0, 0), (100, 100),10)\n```\n2.画线段（折线）\n​    def lines(Surface,color,close,pointlist,width=1)\n​    Surface:画在那\n​    color：颜色\n​    close：是否闭合（是否连接起点和终点）\n​    pointlist：点对应的列表\n​    width：线的宽度\n` pygame.draw.lines(window,(255,100,200),True,[(0,0),(100,0),(100,100),(200,100),(200,200)],10)`\n3.画圆\n​    def circle(Surface,color,pos,radius,width=1)\n​    Surface:画在那\n​    color：颜色\n​    pos:圆心坐标\n​    radius:半径\n​    width:0-->填充\n`pygame.draw.circle(window,(255,255,0),(200,300),100,0)`\n4.画矩形\n​    def rect(Surface,color,Rect,width=0)\n​    Surface:画在那\n​    color：颜色\n​    Rect:范围（元组，元组中有4个元素，分别是x,y,width,height)\n`pygame.draw.rect(window,(200, 150, 200), (200, 200, 250, 300),20)`\n5.画多边形\n​    polygon(Surface,color,pointlist,width=0)\n​    pointlist:多边形各点坐标，组成一个元组\n6.画椭圆\n​    def ellipse(Surface,color,Rect,width=0)\n` pygame.draw.ellipse(window, (200, 150, 200), (200, 200, 250, 300), 20)`\n7.画弧线\n​    def arc(Surface,color,Rect,start_angle,stop_angle,width=1)\n`import math\n​    pygame.draw.arc(window,(255,0,0),(100, 100, 100, 100),math.pi,math.pi/2,10)`\n#### 06-事件\n 所有的事件处理的入口就是这个for循环\n  + for循环中的代码只有游戏事件发生后才会执行\n       a.事件的type:\n       QUIT：关闭按钮被点击事件\n       鼠标事件：\n       MOUSEBUTTONDOWN：鼠标按下事件\n       MOUSEBUTTONUP：鼠标弹起\n       MOUSEMOTION:鼠标移动\n       键盘事件：\n       KEYDOWN:键盘按下\n       KEYUP:键盘弹起\n\n       b.事件的pos--鼠标事件发生的位置（坐标）\n\n       c.事件的key--键盘事件被按的键对应的编码值\n```python\n        for event in pygame.event.get():\n            # 不同的事件发生后，对应的type值不一样\n            if event.type == pygame.QUIT:\n                print('点击关闭')\n                exit()\n            elif event.type == pygame.MOUSEBUTTONDOWN:\n                # 鼠标按下要做的事情\n                print(event.pos)\n                print('鼠标按下')\n                # 鼠标按下一次画一个球\n                pygame.draw.circle(window,(random.randint(0,255),random.randint(0,255),random.randint(0,255)),event.pos,20)\n                pygame.display.flip()\n            elif event.type == pygame.MOUSEBUTTONUP:\n                print('鼠标弹起')\n            elif event.type == pygame.MOUSEMOTION:\n                print('鼠标正在移动',event.pos)\n            elif event.type == pygame.KEYDOWN:\n                print('键盘按下',event.key,chr(event.key))\n            elif event.type == pygame.KEYUP:\n                print('键盘弹起')\n```\n#### 07-动画效果\n```python\n # c.展示内容(将纸贴在画框上）\n    pygame.display.flip()\n\n    # 圆心坐标\n    x = 100\n    y = 100\n    r = 50\n    add = 4\n    m = 2\n    n = 1\n    # 游戏循环\n    while True:\n\n        pygame.time.delay(5)\n        # 将之前window上的内容覆盖了\n        window.fill((255,255,255))\n\n        # 不断的画圆\n        pygame.draw.circle(window,(randint(0,255),randint(0,255),randint(0,255)),(x,y),r)\n        pygame.display.update()\n\n        # 改变y值让圆在垂直方向移动\n        y += m\n        x += n\n        # r += add\n        # if r >=600 or r <= 20 :\n        #     add *= -1\n        if y >= 600 - r or y <= 50:\n            m *= -1\n        elif x >= 400-r or x <= 50:\n            n *= -1\n        # 事件检测\n        for event in pygame.event.get():\n            if event.type == pygame.QUIT:\n                exit()\n```\n#### 08-按住不放原理\n```python\nimport pygame\nif __name__ == '__main__':\n    # 初始化，创建窗口\n    pygame.init()\n    window = pygame.display.set_mode((400,600))\n    window.fill((255,255,255))\n\n    image = pygame.image.load('./files/gjl.jpg')\n    # 缩放\n    image = pygame.transform.rotozoom(image,0,0.5)\n    window.blit(image,(100,100))\n    # 获取图片的宽度、高度\n    image_w,image_h = image.get_size()\n\n    # c.展示内容(将纸贴在画框上）\n    pygame.display.flip()\n\n    # 用来存储图片是否移动\n    flag = False\n\n    # 保存图片的坐标\n    image_x,image_y = 100,100\n```\n```python\n    # 游戏循环\n    while True:\n        for event in pygame.event.get():\n            if event.type == pygame.QUIT:\n                exit()\n\n            # 鼠标按下\n            if event.type == pygame.MOUSEBUTTONDOWN:\n                # 判断鼠标的范围是否在图片上\n                m_x,m_y = event.pos\n                if image_x<=m_x<=image_x+image_w and image_y<=m_y<=image_y+image_h:\n                    flag = True\n            elif event.type == pygame.MOUSEBUTTONUP:\n                flag = False\n            # 鼠标移动事件\n            # 鼠标在移动，并且flag为True\n            if event.type == pygame.MOUSEMOTION and flag:\n                # 填充背景色\n                window.fill((255,255,255))\n\n                # 在鼠标移动的位置渲染图片\n                # window.blit(image,event.pos\n                center_x,center_y = event.pos\n                image_x, image_y = center_x - image_w/2,center_y - image_h/2\n                window.blit(image,(image_x, image_y))\n                # 更新屏幕显示\n                pygame.display.update()\n```","slug":"python/pygame相关","published":1,"updated":"2019-03-14T01:44:06.576Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjt87kqi8001ir8r65v7ri3vw","content":"<h4 id=\"01-pygame操作\"><a href=\"#01-pygame操作\" class=\"headerlink\" title=\"01-pygame操作\"></a>01-pygame操作</h4><p>模块的导入：</p>\n<h5 id=\"import-pygame\"><a href=\"#import-pygame\" class=\"headerlink\" title=\"import pygame\"></a>import pygame</h5><pre class=\" language-python\"><code class=\"language-python\"><span class=\"token keyword\">if</span> __name__ <span class=\"token operator\">==</span> <span class=\"token string\">'__main__'</span><span class=\"token punctuation\">:</span>\n    <span class=\"token comment\" spellcheck=\"true\"># 1.初始化游戏模块</span>\n    pygame<span class=\"token punctuation\">.</span>init<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    <span class=\"token comment\" spellcheck=\"true\"># 2.创建游戏窗口</span>\n    <span class=\"token triple-quoted-string string\">'''\n    display.set_mode(窗口大小）:创建一个窗口并且返回\n    窗口大小：是一个元组，并且表示宽度和高度(单位是像素）\n    '''</span>\n    window <span class=\"token operator\">=</span> pygame<span class=\"token punctuation\">.</span>display<span class=\"token punctuation\">.</span>set_mode<span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token number\">500</span><span class=\"token punctuation\">,</span><span class=\"token number\">600</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n\n    <span class=\"token comment\" spellcheck=\"true\"># 3.让游戏一直运行，直到点关闭按钮结束</span>\n    flag <span class=\"token operator\">=</span> <span class=\"token boolean\">True</span>\n    <span class=\"token keyword\">while</span> flag<span class=\"token punctuation\">:</span>\n        window<span class=\"token punctuation\">.</span>fill<span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token number\">255</span><span class=\"token punctuation\">,</span><span class=\"token number\">255</span><span class=\"token punctuation\">,</span><span class=\"token number\">255</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n        <span class=\"token comment\" spellcheck=\"true\"># 获取游戏过程中产生的所有事件</span>\n        <span class=\"token keyword\">for</span> event <span class=\"token keyword\">in</span> pygame<span class=\"token punctuation\">.</span>event<span class=\"token punctuation\">.</span>get<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n            <span class=\"token keyword\">if</span> event<span class=\"token punctuation\">.</span>type <span class=\"token operator\">==</span> pygame<span class=\"token punctuation\">.</span>QUIT<span class=\"token punctuation\">:</span>\n                <span class=\"token comment\" spellcheck=\"true\"># exit()   # 退出程序</span>\n                flag <span class=\"token operator\">=</span> <span class=\"token boolean\">False</span>\n</code></pre>\n<h4 id=\"02-显示图片\"><a href=\"#02-显示图片\" class=\"headerlink\" title=\"02-显示图片\"></a>02-显示图片</h4><ul>\n<li>给窗口填充颜色<br>颜色：计算机的三原色（红，绿，蓝），颜色对应的范围分别是0-255，可以通过改变三原色的值，调配出不同的颜色<br>颜色值：是一个元组，元组中有三个元素，分别是红绿蓝（rgb)<br>  红色（255，0，0），绿色（0，255，0），蓝色（0，0，255）<br>  黑色（0，0，0），白色（255，255，255）<br><code>window.fill((255,255,255))</code></li>\n<li>显示图片<br>image.load(图片路径）：获取本地的一张图片，返回图片对象<ul>\n<li>a.获取图片，创建图片对象<br><code>image = pygame.image.load(&#39;./files/gjl.jpg&#39;)</code><br>get_size():获取大小，返回值是一个元组，分别是宽和高<br><code>image_width,image_height =image.get_size()</code></li>\n</ul>\n</li>\n<li>b.渲染图片（将图片画在纸上）<br>blit(渲染对象，位置）<br>  位置：坐标（x,y），值的类型是元组，元组有两个对应的元素，分别是x,y的坐标<pre class=\" language-python\"><code class=\"language-python\"><span class=\"token comment\" spellcheck=\"true\"># window.blit(image,(600-int(image_width),400-int(image_height)))将图片放到右下角</span>\n  window<span class=\"token punctuation\">.</span>blit<span class=\"token punctuation\">(</span>image<span class=\"token punctuation\">,</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span><span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n  <span class=\"token comment\" spellcheck=\"true\"># c.展示内容(将纸贴在画框上）</span>\n  pygame<span class=\"token punctuation\">.</span>display<span class=\"token punctuation\">.</span>flip<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n</code></pre>\n<h4 id=\"03-形变\"><a href=\"#03-形变\" class=\"headerlink\" title=\"03-形变\"></a>03-形变</h4>a.缩放<br>transform.scale(缩放对象，目标大小）：将指定的对象缩放到指定的大小，会返回缩放后的对象<br><code>new_image = pygame.transform.scale(image())</code><br>b.旋转缩放（指定缩放比例）<br>rotozoom(Surface,angle,scale)<br>Surface:旋转对象<br>angle:旋转角度<br>scale:缩放比例<br><code>new_image = pygame.transform.rotozoom(image,90,0.8)</code><br>c.旋转<br>rotate(Surface,angle)<br>Surface:旋转对象<br>angle:旋转角度<br><code>new_image = pygame.transform.rotate(image, 270)</code><h4 id=\"04-显示文字\"><a href=\"#04-显示文字\" class=\"headerlink\" title=\"04-显示文字\"></a>04-显示文字</h4></li>\n<li><p>1.创建字体对象<br>a.创建系统的字体对象<br> SysFont(name,size,bold = False,italic = False)<br>name:字体名（系统支持的字体名）<br>size:字体大小<br>bold:是否加粗<br>italic:是否倾斜<br>b.创建自定义的字体对象<br>Font（字体文件路径，字体大小）<br>字体文件路径：ttf文件</p>\n<pre class=\" language-python\"><code class=\"language-python\"><span class=\"token comment\" spellcheck=\"true\"># a.创建系统字体</span>\n  <span class=\"token comment\" spellcheck=\"true\"># font = pygame.font.SysFont('Times',30)</span>\n\n  <span class=\"token comment\" spellcheck=\"true\"># b.创建自定义字体</span>\n  font <span class=\"token operator\">=</span> pygame<span class=\"token punctuation\">.</span>font<span class=\"token punctuation\">.</span>Font<span class=\"token punctuation\">(</span><span class=\"token string\">'./files/aa.ttf'</span><span class=\"token punctuation\">,</span><span class=\"token number\">50</span><span class=\"token punctuation\">)</span>\n</code></pre>\n</li>\n<li><p>2.根据字体去创建文字对象<br>render(text,antialias,color,background = None)<br>text:需要显示的文字（字符串）<br>antialias:是否平滑（布尔）<br>color:颜色<br>background:背景颜色</p>\n<pre><code>text = font.render(&#39;Hello,高渐离 ！&#39;,True,(255,80,200))\n  print(text.get_size())\n</code></pre><h4 id=\"05-显示图形\"><a href=\"#05-显示图形\" class=\"headerlink\" title=\"05-显示图形\"></a>05-显示图形</h4><p>1.画直线<br>​    def line(Surface,color,star_pos,end_pos,width=1)<br>​    Surface:画在哪<br>​    color：颜色<br>​    star_pos：起点<br>​    end_pos：终点<br>​    width:线宽</p>\n<pre><code># 画一条水平线\n  # pygame.draw.line(window,(255,0,0),(50,100),(200,100))\n  # pygame.draw.line(window, (255, 100, 200), (0, 0), (100, 100),10)\n</code></pre><p>2.画线段（折线）<br>​    def lines(Surface,color,close,pointlist,width=1)<br>​    Surface:画在那<br>​    color：颜色<br>​    close：是否闭合（是否连接起点和终点）<br>​    pointlist：点对应的列表<br>​    width：线的宽度<br><code>pygame.draw.lines(window,(255,100,200),True,[(0,0),(100,0),(100,100),(200,100),(200,200)],10)</code><br>3.画圆<br>​    def circle(Surface,color,pos,radius,width=1)<br>​    Surface:画在那<br>​    color：颜色<br>​    pos:圆心坐标<br>​    radius:半径<br>​    width:0–&gt;填充<br><code>pygame.draw.circle(window,(255,255,0),(200,300),100,0)</code><br>4.画矩形<br>​    def rect(Surface,color,Rect,width=0)<br>​    Surface:画在那<br>​    color：颜色<br>​    Rect:范围（元组，元组中有4个元素，分别是x,y,width,height)<br><code>pygame.draw.rect(window,(200, 150, 200), (200, 200, 250, 300),20)</code><br>5.画多边形<br>​    polygon(Surface,color,pointlist,width=0)<br>​    pointlist:多边形各点坐标，组成一个元组<br>6.画椭圆<br>​    def ellipse(Surface,color,Rect,width=0)<br><code>pygame.draw.ellipse(window, (200, 150, 200), (200, 200, 250, 300), 20)</code><br>7.画弧线<br>​    def arc(Surface,color,Rect,start_angle,stop_angle,width=1)<br><code>import math\n​    pygame.draw.arc(window,(255,0,0),(100, 100, 100, 100),math.pi,math.pi/2,10)</code></p>\n<h4 id=\"06-事件\"><a href=\"#06-事件\" class=\"headerlink\" title=\"06-事件\"></a>06-事件</h4><p>所有的事件处理的入口就是这个for循环</p>\n<ul>\n<li><p>for循环中的代码只有游戏事件发生后才会执行<br>   a.事件的type:<br>   QUIT：关闭按钮被点击事件<br>   鼠标事件：<br>   MOUSEBUTTONDOWN：鼠标按下事件<br>   MOUSEBUTTONUP：鼠标弹起<br>   MOUSEMOTION:鼠标移动<br>   键盘事件：<br>   KEYDOWN:键盘按下<br>   KEYUP:键盘弹起</p>\n<p>   b.事件的pos–鼠标事件发生的位置（坐标）</p>\n<p>   c.事件的key–键盘事件被按的键对应的编码值</p>\n<pre class=\" language-python\"><code class=\"language-python\">    <span class=\"token keyword\">for</span> event <span class=\"token keyword\">in</span> pygame<span class=\"token punctuation\">.</span>event<span class=\"token punctuation\">.</span>get<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n        <span class=\"token comment\" spellcheck=\"true\"># 不同的事件发生后，对应的type值不一样</span>\n        <span class=\"token keyword\">if</span> event<span class=\"token punctuation\">.</span>type <span class=\"token operator\">==</span> pygame<span class=\"token punctuation\">.</span>QUIT<span class=\"token punctuation\">:</span>\n            <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string\">'点击关闭'</span><span class=\"token punctuation\">)</span>\n            exit<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n        <span class=\"token keyword\">elif</span> event<span class=\"token punctuation\">.</span>type <span class=\"token operator\">==</span> pygame<span class=\"token punctuation\">.</span>MOUSEBUTTONDOWN<span class=\"token punctuation\">:</span>\n            <span class=\"token comment\" spellcheck=\"true\"># 鼠标按下要做的事情</span>\n            <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>event<span class=\"token punctuation\">.</span>pos<span class=\"token punctuation\">)</span>\n            <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string\">'鼠标按下'</span><span class=\"token punctuation\">)</span>\n            <span class=\"token comment\" spellcheck=\"true\"># 鼠标按下一次画一个球</span>\n            pygame<span class=\"token punctuation\">.</span>draw<span class=\"token punctuation\">.</span>circle<span class=\"token punctuation\">(</span>window<span class=\"token punctuation\">,</span><span class=\"token punctuation\">(</span>random<span class=\"token punctuation\">.</span>randint<span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span><span class=\"token number\">255</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>random<span class=\"token punctuation\">.</span>randint<span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span><span class=\"token number\">255</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>random<span class=\"token punctuation\">.</span>randint<span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span><span class=\"token number\">255</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>event<span class=\"token punctuation\">.</span>pos<span class=\"token punctuation\">,</span><span class=\"token number\">20</span><span class=\"token punctuation\">)</span>\n            pygame<span class=\"token punctuation\">.</span>display<span class=\"token punctuation\">.</span>flip<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n        <span class=\"token keyword\">elif</span> event<span class=\"token punctuation\">.</span>type <span class=\"token operator\">==</span> pygame<span class=\"token punctuation\">.</span>MOUSEBUTTONUP<span class=\"token punctuation\">:</span>\n            <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string\">'鼠标弹起'</span><span class=\"token punctuation\">)</span>\n        <span class=\"token keyword\">elif</span> event<span class=\"token punctuation\">.</span>type <span class=\"token operator\">==</span> pygame<span class=\"token punctuation\">.</span>MOUSEMOTION<span class=\"token punctuation\">:</span>\n            <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string\">'鼠标正在移动'</span><span class=\"token punctuation\">,</span>event<span class=\"token punctuation\">.</span>pos<span class=\"token punctuation\">)</span>\n        <span class=\"token keyword\">elif</span> event<span class=\"token punctuation\">.</span>type <span class=\"token operator\">==</span> pygame<span class=\"token punctuation\">.</span>KEYDOWN<span class=\"token punctuation\">:</span>\n            <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string\">'键盘按下'</span><span class=\"token punctuation\">,</span>event<span class=\"token punctuation\">.</span>key<span class=\"token punctuation\">,</span>chr<span class=\"token punctuation\">(</span>event<span class=\"token punctuation\">.</span>key<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n        <span class=\"token keyword\">elif</span> event<span class=\"token punctuation\">.</span>type <span class=\"token operator\">==</span> pygame<span class=\"token punctuation\">.</span>KEYUP<span class=\"token punctuation\">:</span>\n            <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string\">'键盘弹起'</span><span class=\"token punctuation\">)</span>\n</code></pre>\n<h4 id=\"07-动画效果\"><a href=\"#07-动画效果\" class=\"headerlink\" title=\"07-动画效果\"></a>07-动画效果</h4><pre class=\" language-python\"><code class=\"language-python\"><span class=\"token comment\" spellcheck=\"true\"># c.展示内容(将纸贴在画框上）</span>\npygame<span class=\"token punctuation\">.</span>display<span class=\"token punctuation\">.</span>flip<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token comment\" spellcheck=\"true\"># 圆心坐标</span>\nx <span class=\"token operator\">=</span> <span class=\"token number\">100</span>\ny <span class=\"token operator\">=</span> <span class=\"token number\">100</span>\nr <span class=\"token operator\">=</span> <span class=\"token number\">50</span>\nadd <span class=\"token operator\">=</span> <span class=\"token number\">4</span>\nm <span class=\"token operator\">=</span> <span class=\"token number\">2</span>\nn <span class=\"token operator\">=</span> <span class=\"token number\">1</span>\n<span class=\"token comment\" spellcheck=\"true\"># 游戏循环</span>\n<span class=\"token keyword\">while</span> <span class=\"token boolean\">True</span><span class=\"token punctuation\">:</span>\n\n    pygame<span class=\"token punctuation\">.</span>time<span class=\"token punctuation\">.</span>delay<span class=\"token punctuation\">(</span><span class=\"token number\">5</span><span class=\"token punctuation\">)</span>\n    <span class=\"token comment\" spellcheck=\"true\"># 将之前window上的内容覆盖了</span>\n    window<span class=\"token punctuation\">.</span>fill<span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token number\">255</span><span class=\"token punctuation\">,</span><span class=\"token number\">255</span><span class=\"token punctuation\">,</span><span class=\"token number\">255</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n\n    <span class=\"token comment\" spellcheck=\"true\"># 不断的画圆</span>\n    pygame<span class=\"token punctuation\">.</span>draw<span class=\"token punctuation\">.</span>circle<span class=\"token punctuation\">(</span>window<span class=\"token punctuation\">,</span><span class=\"token punctuation\">(</span>randint<span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span><span class=\"token number\">255</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>randint<span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span><span class=\"token number\">255</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>randint<span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span><span class=\"token number\">255</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">(</span>x<span class=\"token punctuation\">,</span>y<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>r<span class=\"token punctuation\">)</span>\n    pygame<span class=\"token punctuation\">.</span>display<span class=\"token punctuation\">.</span>update<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n\n    <span class=\"token comment\" spellcheck=\"true\"># 改变y值让圆在垂直方向移动</span>\n    y <span class=\"token operator\">+=</span> m\n    x <span class=\"token operator\">+=</span> n\n    <span class=\"token comment\" spellcheck=\"true\"># r += add</span>\n    <span class=\"token comment\" spellcheck=\"true\"># if r >=600 or r &lt;= 20 :</span>\n    <span class=\"token comment\" spellcheck=\"true\">#     add *= -1</span>\n    <span class=\"token keyword\">if</span> y <span class=\"token operator\">>=</span> <span class=\"token number\">600</span> <span class=\"token operator\">-</span> r <span class=\"token operator\">or</span> y <span class=\"token operator\">&lt;=</span> <span class=\"token number\">50</span><span class=\"token punctuation\">:</span>\n        m <span class=\"token operator\">*=</span> <span class=\"token operator\">-</span><span class=\"token number\">1</span>\n    <span class=\"token keyword\">elif</span> x <span class=\"token operator\">>=</span> <span class=\"token number\">400</span><span class=\"token operator\">-</span>r <span class=\"token operator\">or</span> x <span class=\"token operator\">&lt;=</span> <span class=\"token number\">50</span><span class=\"token punctuation\">:</span>\n        n <span class=\"token operator\">*=</span> <span class=\"token operator\">-</span><span class=\"token number\">1</span>\n    <span class=\"token comment\" spellcheck=\"true\"># 事件检测</span>\n    <span class=\"token keyword\">for</span> event <span class=\"token keyword\">in</span> pygame<span class=\"token punctuation\">.</span>event<span class=\"token punctuation\">.</span>get<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n        <span class=\"token keyword\">if</span> event<span class=\"token punctuation\">.</span>type <span class=\"token operator\">==</span> pygame<span class=\"token punctuation\">.</span>QUIT<span class=\"token punctuation\">:</span>\n            exit<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n</code></pre>\n<h4 id=\"08-按住不放原理\"><a href=\"#08-按住不放原理\" class=\"headerlink\" title=\"08-按住不放原理\"></a>08-按住不放原理</h4><pre class=\" language-python\"><code class=\"language-python\"><span class=\"token keyword\">import</span> pygame\n<span class=\"token keyword\">if</span> __name__ <span class=\"token operator\">==</span> <span class=\"token string\">'__main__'</span><span class=\"token punctuation\">:</span>\n<span class=\"token comment\" spellcheck=\"true\"># 初始化，创建窗口</span>\npygame<span class=\"token punctuation\">.</span>init<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\nwindow <span class=\"token operator\">=</span> pygame<span class=\"token punctuation\">.</span>display<span class=\"token punctuation\">.</span>set_mode<span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token number\">400</span><span class=\"token punctuation\">,</span><span class=\"token number\">600</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\nwindow<span class=\"token punctuation\">.</span>fill<span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token number\">255</span><span class=\"token punctuation\">,</span><span class=\"token number\">255</span><span class=\"token punctuation\">,</span><span class=\"token number\">255</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n\nimage <span class=\"token operator\">=</span> pygame<span class=\"token punctuation\">.</span>image<span class=\"token punctuation\">.</span>load<span class=\"token punctuation\">(</span><span class=\"token string\">'./files/gjl.jpg'</span><span class=\"token punctuation\">)</span>\n<span class=\"token comment\" spellcheck=\"true\"># 缩放</span>\nimage <span class=\"token operator\">=</span> pygame<span class=\"token punctuation\">.</span>transform<span class=\"token punctuation\">.</span>rotozoom<span class=\"token punctuation\">(</span>image<span class=\"token punctuation\">,</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span><span class=\"token number\">0.5</span><span class=\"token punctuation\">)</span>\nwindow<span class=\"token punctuation\">.</span>blit<span class=\"token punctuation\">(</span>image<span class=\"token punctuation\">,</span><span class=\"token punctuation\">(</span><span class=\"token number\">100</span><span class=\"token punctuation\">,</span><span class=\"token number\">100</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n<span class=\"token comment\" spellcheck=\"true\"># 获取图片的宽度、高度</span>\nimage_w<span class=\"token punctuation\">,</span>image_h <span class=\"token operator\">=</span> image<span class=\"token punctuation\">.</span>get_size<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token comment\" spellcheck=\"true\"># c.展示内容(将纸贴在画框上）</span>\npygame<span class=\"token punctuation\">.</span>display<span class=\"token punctuation\">.</span>flip<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token comment\" spellcheck=\"true\"># 用来存储图片是否移动</span>\nflag <span class=\"token operator\">=</span> <span class=\"token boolean\">False</span>\n\n<span class=\"token comment\" spellcheck=\"true\"># 保存图片的坐标</span>\nimage_x<span class=\"token punctuation\">,</span>image_y <span class=\"token operator\">=</span> <span class=\"token number\">100</span><span class=\"token punctuation\">,</span><span class=\"token number\">100</span>\n</code></pre>\n<pre class=\" language-python\"><code class=\"language-python\"><span class=\"token comment\" spellcheck=\"true\"># 游戏循环</span>\n<span class=\"token keyword\">while</span> <span class=\"token boolean\">True</span><span class=\"token punctuation\">:</span>\n    <span class=\"token keyword\">for</span> event <span class=\"token keyword\">in</span> pygame<span class=\"token punctuation\">.</span>event<span class=\"token punctuation\">.</span>get<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n        <span class=\"token keyword\">if</span> event<span class=\"token punctuation\">.</span>type <span class=\"token operator\">==</span> pygame<span class=\"token punctuation\">.</span>QUIT<span class=\"token punctuation\">:</span>\n            exit<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n\n        <span class=\"token comment\" spellcheck=\"true\"># 鼠标按下</span>\n        <span class=\"token keyword\">if</span> event<span class=\"token punctuation\">.</span>type <span class=\"token operator\">==</span> pygame<span class=\"token punctuation\">.</span>MOUSEBUTTONDOWN<span class=\"token punctuation\">:</span>\n            <span class=\"token comment\" spellcheck=\"true\"># 判断鼠标的范围是否在图片上</span>\n            m_x<span class=\"token punctuation\">,</span>m_y <span class=\"token operator\">=</span> event<span class=\"token punctuation\">.</span>pos\n            <span class=\"token keyword\">if</span> image_x<span class=\"token operator\">&lt;=</span>m_x<span class=\"token operator\">&lt;=</span>image_x<span class=\"token operator\">+</span>image_w <span class=\"token operator\">and</span> image_y<span class=\"token operator\">&lt;=</span>m_y<span class=\"token operator\">&lt;=</span>image_y<span class=\"token operator\">+</span>image_h<span class=\"token punctuation\">:</span>\n                flag <span class=\"token operator\">=</span> <span class=\"token boolean\">True</span>\n        <span class=\"token keyword\">elif</span> event<span class=\"token punctuation\">.</span>type <span class=\"token operator\">==</span> pygame<span class=\"token punctuation\">.</span>MOUSEBUTTONUP<span class=\"token punctuation\">:</span>\n            flag <span class=\"token operator\">=</span> <span class=\"token boolean\">False</span>\n        <span class=\"token comment\" spellcheck=\"true\"># 鼠标移动事件</span>\n        <span class=\"token comment\" spellcheck=\"true\"># 鼠标在移动，并且flag为True</span>\n        <span class=\"token keyword\">if</span> event<span class=\"token punctuation\">.</span>type <span class=\"token operator\">==</span> pygame<span class=\"token punctuation\">.</span>MOUSEMOTION <span class=\"token operator\">and</span> flag<span class=\"token punctuation\">:</span>\n            <span class=\"token comment\" spellcheck=\"true\"># 填充背景色</span>\n            window<span class=\"token punctuation\">.</span>fill<span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token number\">255</span><span class=\"token punctuation\">,</span><span class=\"token number\">255</span><span class=\"token punctuation\">,</span><span class=\"token number\">255</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n\n            <span class=\"token comment\" spellcheck=\"true\"># 在鼠标移动的位置渲染图片</span>\n            <span class=\"token comment\" spellcheck=\"true\"># window.blit(image,event.pos</span>\n            center_x<span class=\"token punctuation\">,</span>center_y <span class=\"token operator\">=</span> event<span class=\"token punctuation\">.</span>pos\n            image_x<span class=\"token punctuation\">,</span> image_y <span class=\"token operator\">=</span> center_x <span class=\"token operator\">-</span> image_w<span class=\"token operator\">/</span><span class=\"token number\">2</span><span class=\"token punctuation\">,</span>center_y <span class=\"token operator\">-</span> image_h<span class=\"token operator\">/</span><span class=\"token number\">2</span>\n            window<span class=\"token punctuation\">.</span>blit<span class=\"token punctuation\">(</span>image<span class=\"token punctuation\">,</span><span class=\"token punctuation\">(</span>image_x<span class=\"token punctuation\">,</span> image_y<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n            <span class=\"token comment\" spellcheck=\"true\"># 更新屏幕显示</span>\n            pygame<span class=\"token punctuation\">.</span>display<span class=\"token punctuation\">.</span>update<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n</code></pre>\n</li>\n</ul>\n</li>\n</ul>\n","site":{"data":{}},"excerpt":"","more":"<h4 id=\"01-pygame操作\"><a href=\"#01-pygame操作\" class=\"headerlink\" title=\"01-pygame操作\"></a>01-pygame操作</h4><p>模块的导入：</p>\n<h5 id=\"import-pygame\"><a href=\"#import-pygame\" class=\"headerlink\" title=\"import pygame\"></a>import pygame</h5><pre><code class=\"python\">if __name__ == &#39;__main__&#39;:\n    # 1.初始化游戏模块\n    pygame.init()\n    # 2.创建游戏窗口\n    &#39;&#39;&#39;\n    display.set_mode(窗口大小）:创建一个窗口并且返回\n    窗口大小：是一个元组，并且表示宽度和高度(单位是像素）\n    &#39;&#39;&#39;\n    window = pygame.display.set_mode((500,600))\n\n    # 3.让游戏一直运行，直到点关闭按钮结束\n    flag = True\n    while flag:\n        window.fill((255,255,255))\n        # 获取游戏过程中产生的所有事件\n        for event in pygame.event.get():\n            if event.type == pygame.QUIT:\n                # exit()   # 退出程序\n                flag = False\n</code></pre>\n<h4 id=\"02-显示图片\"><a href=\"#02-显示图片\" class=\"headerlink\" title=\"02-显示图片\"></a>02-显示图片</h4><ul>\n<li>给窗口填充颜色<br>颜色：计算机的三原色（红，绿，蓝），颜色对应的范围分别是0-255，可以通过改变三原色的值，调配出不同的颜色<br>颜色值：是一个元组，元组中有三个元素，分别是红绿蓝（rgb)<br>  红色（255，0，0），绿色（0，255，0），蓝色（0，0，255）<br>  黑色（0，0，0），白色（255，255，255）<br><code>window.fill((255,255,255))</code></li>\n<li>显示图片<br>image.load(图片路径）：获取本地的一张图片，返回图片对象<ul>\n<li>a.获取图片，创建图片对象<br><code>image = pygame.image.load(&#39;./files/gjl.jpg&#39;)</code><br>get_size():获取大小，返回值是一个元组，分别是宽和高<br><code>image_width,image_height =image.get_size()</code></li>\n</ul>\n</li>\n<li>b.渲染图片（将图片画在纸上）<br>blit(渲染对象，位置）<br>  位置：坐标（x,y），值的类型是元组，元组有两个对应的元素，分别是x,y的坐标<pre><code class=\"python\"># window.blit(image,(600-int(image_width),400-int(image_height)))将图片放到右下角\n  window.blit(image,(0,0))\n  # c.展示内容(将纸贴在画框上）\n  pygame.display.flip()\n</code></pre>\n<h4 id=\"03-形变\"><a href=\"#03-形变\" class=\"headerlink\" title=\"03-形变\"></a>03-形变</h4>a.缩放<br>transform.scale(缩放对象，目标大小）：将指定的对象缩放到指定的大小，会返回缩放后的对象<br><code>new_image = pygame.transform.scale(image())</code><br>b.旋转缩放（指定缩放比例）<br>rotozoom(Surface,angle,scale)<br>Surface:旋转对象<br>angle:旋转角度<br>scale:缩放比例<br><code>new_image = pygame.transform.rotozoom(image,90,0.8)</code><br>c.旋转<br>rotate(Surface,angle)<br>Surface:旋转对象<br>angle:旋转角度<br><code>new_image = pygame.transform.rotate(image, 270)</code><h4 id=\"04-显示文字\"><a href=\"#04-显示文字\" class=\"headerlink\" title=\"04-显示文字\"></a>04-显示文字</h4></li>\n<li><p>1.创建字体对象<br>a.创建系统的字体对象<br> SysFont(name,size,bold = False,italic = False)<br>name:字体名（系统支持的字体名）<br>size:字体大小<br>bold:是否加粗<br>italic:是否倾斜<br>b.创建自定义的字体对象<br>Font（字体文件路径，字体大小）<br>字体文件路径：ttf文件</p>\n<pre><code class=\"python\"># a.创建系统字体\n  # font = pygame.font.SysFont(&#39;Times&#39;,30)\n\n  # b.创建自定义字体\n  font = pygame.font.Font(&#39;./files/aa.ttf&#39;,50)\n</code></pre>\n</li>\n<li><p>2.根据字体去创建文字对象<br>render(text,antialias,color,background = None)<br>text:需要显示的文字（字符串）<br>antialias:是否平滑（布尔）<br>color:颜色<br>background:背景颜色</p>\n<pre><code>text = font.render(&#39;Hello,高渐离 ！&#39;,True,(255,80,200))\n  print(text.get_size())\n</code></pre><h4 id=\"05-显示图形\"><a href=\"#05-显示图形\" class=\"headerlink\" title=\"05-显示图形\"></a>05-显示图形</h4><p>1.画直线<br>​    def line(Surface,color,star_pos,end_pos,width=1)<br>​    Surface:画在哪<br>​    color：颜色<br>​    star_pos：起点<br>​    end_pos：终点<br>​    width:线宽</p>\n<pre><code># 画一条水平线\n  # pygame.draw.line(window,(255,0,0),(50,100),(200,100))\n  # pygame.draw.line(window, (255, 100, 200), (0, 0), (100, 100),10)\n</code></pre><p>2.画线段（折线）<br>​    def lines(Surface,color,close,pointlist,width=1)<br>​    Surface:画在那<br>​    color：颜色<br>​    close：是否闭合（是否连接起点和终点）<br>​    pointlist：点对应的列表<br>​    width：线的宽度<br><code>pygame.draw.lines(window,(255,100,200),True,[(0,0),(100,0),(100,100),(200,100),(200,200)],10)</code><br>3.画圆<br>​    def circle(Surface,color,pos,radius,width=1)<br>​    Surface:画在那<br>​    color：颜色<br>​    pos:圆心坐标<br>​    radius:半径<br>​    width:0–&gt;填充<br><code>pygame.draw.circle(window,(255,255,0),(200,300),100,0)</code><br>4.画矩形<br>​    def rect(Surface,color,Rect,width=0)<br>​    Surface:画在那<br>​    color：颜色<br>​    Rect:范围（元组，元组中有4个元素，分别是x,y,width,height)<br><code>pygame.draw.rect(window,(200, 150, 200), (200, 200, 250, 300),20)</code><br>5.画多边形<br>​    polygon(Surface,color,pointlist,width=0)<br>​    pointlist:多边形各点坐标，组成一个元组<br>6.画椭圆<br>​    def ellipse(Surface,color,Rect,width=0)<br><code>pygame.draw.ellipse(window, (200, 150, 200), (200, 200, 250, 300), 20)</code><br>7.画弧线<br>​    def arc(Surface,color,Rect,start_angle,stop_angle,width=1)<br><code>import math\n​    pygame.draw.arc(window,(255,0,0),(100, 100, 100, 100),math.pi,math.pi/2,10)</code></p>\n<h4 id=\"06-事件\"><a href=\"#06-事件\" class=\"headerlink\" title=\"06-事件\"></a>06-事件</h4><p>所有的事件处理的入口就是这个for循环</p>\n<ul>\n<li><p>for循环中的代码只有游戏事件发生后才会执行<br>   a.事件的type:<br>   QUIT：关闭按钮被点击事件<br>   鼠标事件：<br>   MOUSEBUTTONDOWN：鼠标按下事件<br>   MOUSEBUTTONUP：鼠标弹起<br>   MOUSEMOTION:鼠标移动<br>   键盘事件：<br>   KEYDOWN:键盘按下<br>   KEYUP:键盘弹起</p>\n<p>   b.事件的pos–鼠标事件发生的位置（坐标）</p>\n<p>   c.事件的key–键盘事件被按的键对应的编码值</p>\n<pre><code class=\"python\">    for event in pygame.event.get():\n        # 不同的事件发生后，对应的type值不一样\n        if event.type == pygame.QUIT:\n            print(&#39;点击关闭&#39;)\n            exit()\n        elif event.type == pygame.MOUSEBUTTONDOWN:\n            # 鼠标按下要做的事情\n            print(event.pos)\n            print(&#39;鼠标按下&#39;)\n            # 鼠标按下一次画一个球\n            pygame.draw.circle(window,(random.randint(0,255),random.randint(0,255),random.randint(0,255)),event.pos,20)\n            pygame.display.flip()\n        elif event.type == pygame.MOUSEBUTTONUP:\n            print(&#39;鼠标弹起&#39;)\n        elif event.type == pygame.MOUSEMOTION:\n            print(&#39;鼠标正在移动&#39;,event.pos)\n        elif event.type == pygame.KEYDOWN:\n            print(&#39;键盘按下&#39;,event.key,chr(event.key))\n        elif event.type == pygame.KEYUP:\n            print(&#39;键盘弹起&#39;)\n</code></pre>\n<h4 id=\"07-动画效果\"><a href=\"#07-动画效果\" class=\"headerlink\" title=\"07-动画效果\"></a>07-动画效果</h4><pre><code class=\"python\"># c.展示内容(将纸贴在画框上）\npygame.display.flip()\n\n# 圆心坐标\nx = 100\ny = 100\nr = 50\nadd = 4\nm = 2\nn = 1\n# 游戏循环\nwhile True:\n\n    pygame.time.delay(5)\n    # 将之前window上的内容覆盖了\n    window.fill((255,255,255))\n\n    # 不断的画圆\n    pygame.draw.circle(window,(randint(0,255),randint(0,255),randint(0,255)),(x,y),r)\n    pygame.display.update()\n\n    # 改变y值让圆在垂直方向移动\n    y += m\n    x += n\n    # r += add\n    # if r &gt;=600 or r &lt;= 20 :\n    #     add *= -1\n    if y &gt;= 600 - r or y &lt;= 50:\n        m *= -1\n    elif x &gt;= 400-r or x &lt;= 50:\n        n *= -1\n    # 事件检测\n    for event in pygame.event.get():\n        if event.type == pygame.QUIT:\n            exit()\n</code></pre>\n<h4 id=\"08-按住不放原理\"><a href=\"#08-按住不放原理\" class=\"headerlink\" title=\"08-按住不放原理\"></a>08-按住不放原理</h4><pre><code class=\"python\">import pygame\nif __name__ == &#39;__main__&#39;:\n# 初始化，创建窗口\npygame.init()\nwindow = pygame.display.set_mode((400,600))\nwindow.fill((255,255,255))\n\nimage = pygame.image.load(&#39;./files/gjl.jpg&#39;)\n# 缩放\nimage = pygame.transform.rotozoom(image,0,0.5)\nwindow.blit(image,(100,100))\n# 获取图片的宽度、高度\nimage_w,image_h = image.get_size()\n\n# c.展示内容(将纸贴在画框上）\npygame.display.flip()\n\n# 用来存储图片是否移动\nflag = False\n\n# 保存图片的坐标\nimage_x,image_y = 100,100\n</code></pre>\n<pre><code class=\"python\"># 游戏循环\nwhile True:\n    for event in pygame.event.get():\n        if event.type == pygame.QUIT:\n            exit()\n\n        # 鼠标按下\n        if event.type == pygame.MOUSEBUTTONDOWN:\n            # 判断鼠标的范围是否在图片上\n            m_x,m_y = event.pos\n            if image_x&lt;=m_x&lt;=image_x+image_w and image_y&lt;=m_y&lt;=image_y+image_h:\n                flag = True\n        elif event.type == pygame.MOUSEBUTTONUP:\n            flag = False\n        # 鼠标移动事件\n        # 鼠标在移动，并且flag为True\n        if event.type == pygame.MOUSEMOTION and flag:\n            # 填充背景色\n            window.fill((255,255,255))\n\n            # 在鼠标移动的位置渲染图片\n            # window.blit(image,event.pos\n            center_x,center_y = event.pos\n            image_x, image_y = center_x - image_w/2,center_y - image_h/2\n            window.blit(image,(image_x, image_y))\n            # 更新屏幕显示\n            pygame.display.update()\n</code></pre>\n</li>\n</ul>\n</li>\n</ul>\n"},{"title":"python_database","date":"2018-10-16T16:00:00.000Z","author":"smile","_content":"\n## 数据库的微操做\n\n进行数据的增加，修改，删除，查看\n\n在信息化社会，充分有效地管理和利用各类信息资源，是进行科学研究和决策管理的前提条件。\n\n----- 从删库，到跑路额！\n\n```python\nimport pymysql\n\n\nclass Dept(object):\n    def __init__(self, no, name, location):\n        self.no = no\n        self.name = name\n        self.location = location\n\n\ndef main():\n    '''\n    no = int(input('部门编号：'))\n    name = input('部门名称：')\n    location = input('部门地址：')\n    '''\n\n    # 1.创建数据库连接\n    conn = pymysql.connect(host='localhost', port=3306,\n                           db='hrs', user='root',\n                           charset='utf8', password='123456',\n                           autocommit=True,\n                           cursorclass=pymysql.cursors.DictCursor)\n    print(conn)\n    try:\n        # 2.获得游标对象\n        with conn.cursor() as cursor:\n            # 3.向数据库服务器发出SQL\n            # cursor 游标，上下文语法\n            '''\n            # 删除\n            result = cursor.execute(\n                'delete from TbDept where dno=40')\n            if result == 1:\n                print('删除成功!')\n           '''\n\n            '''\n            # 添加\n            result = cursor.execute(\n                args=(no, name, location),\n                query=\"insert into TbDept values (%s, %s, %s)\")\n            if result == 1:\n                print('添加成功!')\n            '''\n\n            '''\n            如果没有添加autocommit这个属性，就可以添加下面这一段代码来提交数据\n            try:\n                result\n                conn.commit()\n            except:\n                conn.rollback()\n            '''\n\n            '''\n            # 修改\n            result = cursor.execute(\n                args=(name, location, no),\n                query=\"update TbDept set dname=%s, dloc=%s where dno=%s\")\n            if result == 1:\n                print('修改成功！')\n            '''\n            '''\n            # 命名占位符\n            result = cursor.execute(\n                args={'no':no, 'name':name, 'loc':location},\n                query=\"update TbDept set dname=%(name)s, dloc=%(loc)s where dno=%(no)s\")\n            if result == 1:\n                print('修改成功！')\n            '''\n            '''\n            # 查看信息1\n            cursor.execute(\n                \"select dno, dname, dloc from TbDept\")\n            for row in cursor.fetchall():\n                print(f'部门编号：{row[0]}')\n                print(f'部门名称：{row[1]}')\n                print(f'部门地址：{row[2]}')\n                print('-' * 20)\n            '''\n            '''\n            # 查看信息2\n            cursor.execute(\"select dno as no, dname as name, dloc as loc from TbDept\")\n            print('-' * 20)\n            for row in cursor.fetchall():\n                print(row['no'], end='\\t')\n                print(row['name'], end='\\t')\n                print(row['loc'])\n            '''\n            # 查看信息3\n            cursor.execute(\" select dno as no, dname as name, dloc as location \"\n                           \" from TbDept\")\n\n            print('-' * 20)\n            for row in cursor.fetchall():\n                print(row)\n                dept = Dept(**row)\n                print(dept.no, end='\\t')\n                print(dept.name, end='\\t')\n                print(dept.location)\n            print('-' * 20)\n\n    finally:\n        conn.close()\n\n\nif __name__ == '__main__':\n    main()\n```","source":"_posts/python/python-database.md","raw":"---\ntitle: python_database\ndate: 2018-10-17\nauthor: smile\ncategories: Python\ntags: \n  - python连接数据库\n---\n\n## 数据库的微操做\n\n进行数据的增加，修改，删除，查看\n\n在信息化社会，充分有效地管理和利用各类信息资源，是进行科学研究和决策管理的前提条件。\n\n----- 从删库，到跑路额！\n\n```python\nimport pymysql\n\n\nclass Dept(object):\n    def __init__(self, no, name, location):\n        self.no = no\n        self.name = name\n        self.location = location\n\n\ndef main():\n    '''\n    no = int(input('部门编号：'))\n    name = input('部门名称：')\n    location = input('部门地址：')\n    '''\n\n    # 1.创建数据库连接\n    conn = pymysql.connect(host='localhost', port=3306,\n                           db='hrs', user='root',\n                           charset='utf8', password='123456',\n                           autocommit=True,\n                           cursorclass=pymysql.cursors.DictCursor)\n    print(conn)\n    try:\n        # 2.获得游标对象\n        with conn.cursor() as cursor:\n            # 3.向数据库服务器发出SQL\n            # cursor 游标，上下文语法\n            '''\n            # 删除\n            result = cursor.execute(\n                'delete from TbDept where dno=40')\n            if result == 1:\n                print('删除成功!')\n           '''\n\n            '''\n            # 添加\n            result = cursor.execute(\n                args=(no, name, location),\n                query=\"insert into TbDept values (%s, %s, %s)\")\n            if result == 1:\n                print('添加成功!')\n            '''\n\n            '''\n            如果没有添加autocommit这个属性，就可以添加下面这一段代码来提交数据\n            try:\n                result\n                conn.commit()\n            except:\n                conn.rollback()\n            '''\n\n            '''\n            # 修改\n            result = cursor.execute(\n                args=(name, location, no),\n                query=\"update TbDept set dname=%s, dloc=%s where dno=%s\")\n            if result == 1:\n                print('修改成功！')\n            '''\n            '''\n            # 命名占位符\n            result = cursor.execute(\n                args={'no':no, 'name':name, 'loc':location},\n                query=\"update TbDept set dname=%(name)s, dloc=%(loc)s where dno=%(no)s\")\n            if result == 1:\n                print('修改成功！')\n            '''\n            '''\n            # 查看信息1\n            cursor.execute(\n                \"select dno, dname, dloc from TbDept\")\n            for row in cursor.fetchall():\n                print(f'部门编号：{row[0]}')\n                print(f'部门名称：{row[1]}')\n                print(f'部门地址：{row[2]}')\n                print('-' * 20)\n            '''\n            '''\n            # 查看信息2\n            cursor.execute(\"select dno as no, dname as name, dloc as loc from TbDept\")\n            print('-' * 20)\n            for row in cursor.fetchall():\n                print(row['no'], end='\\t')\n                print(row['name'], end='\\t')\n                print(row['loc'])\n            '''\n            # 查看信息3\n            cursor.execute(\" select dno as no, dname as name, dloc as location \"\n                           \" from TbDept\")\n\n            print('-' * 20)\n            for row in cursor.fetchall():\n                print(row)\n                dept = Dept(**row)\n                print(dept.no, end='\\t')\n                print(dept.name, end='\\t')\n                print(dept.location)\n            print('-' * 20)\n\n    finally:\n        conn.close()\n\n\nif __name__ == '__main__':\n    main()\n```","slug":"python/python-database","published":1,"updated":"2019-01-17T06:42:48.265Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjt87kqif001kr8r6in4uc96y","content":"<h2 id=\"数据库的微操做\"><a href=\"#数据库的微操做\" class=\"headerlink\" title=\"数据库的微操做\"></a>数据库的微操做</h2><p>进行数据的增加，修改，删除，查看</p>\n<p>在信息化社会，充分有效地管理和利用各类信息资源，是进行科学研究和决策管理的前提条件。</p>\n<p>—– 从删库，到跑路额！</p>\n<pre class=\" language-python\"><code class=\"language-python\"><span class=\"token keyword\">import</span> pymysql\n\n\n<span class=\"token keyword\">class</span> <span class=\"token class-name\">Dept</span><span class=\"token punctuation\">(</span>object<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    <span class=\"token keyword\">def</span> <span class=\"token function\">__init__</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">,</span> no<span class=\"token punctuation\">,</span> name<span class=\"token punctuation\">,</span> location<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n        self<span class=\"token punctuation\">.</span>no <span class=\"token operator\">=</span> no\n        self<span class=\"token punctuation\">.</span>name <span class=\"token operator\">=</span> name\n        self<span class=\"token punctuation\">.</span>location <span class=\"token operator\">=</span> location\n\n\n<span class=\"token keyword\">def</span> <span class=\"token function\">main</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    <span class=\"token triple-quoted-string string\">'''\n    no = int(input('部门编号：'))\n    name = input('部门名称：')\n    location = input('部门地址：')\n    '''</span>\n\n    <span class=\"token comment\" spellcheck=\"true\"># 1.创建数据库连接</span>\n    conn <span class=\"token operator\">=</span> pymysql<span class=\"token punctuation\">.</span>connect<span class=\"token punctuation\">(</span>host<span class=\"token operator\">=</span><span class=\"token string\">'localhost'</span><span class=\"token punctuation\">,</span> port<span class=\"token operator\">=</span><span class=\"token number\">3306</span><span class=\"token punctuation\">,</span>\n                           db<span class=\"token operator\">=</span><span class=\"token string\">'hrs'</span><span class=\"token punctuation\">,</span> user<span class=\"token operator\">=</span><span class=\"token string\">'root'</span><span class=\"token punctuation\">,</span>\n                           charset<span class=\"token operator\">=</span><span class=\"token string\">'utf8'</span><span class=\"token punctuation\">,</span> password<span class=\"token operator\">=</span><span class=\"token string\">'123456'</span><span class=\"token punctuation\">,</span>\n                           autocommit<span class=\"token operator\">=</span><span class=\"token boolean\">True</span><span class=\"token punctuation\">,</span>\n                           cursorclass<span class=\"token operator\">=</span>pymysql<span class=\"token punctuation\">.</span>cursors<span class=\"token punctuation\">.</span>DictCursor<span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>conn<span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">try</span><span class=\"token punctuation\">:</span>\n        <span class=\"token comment\" spellcheck=\"true\"># 2.获得游标对象</span>\n        <span class=\"token keyword\">with</span> conn<span class=\"token punctuation\">.</span>cursor<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">as</span> cursor<span class=\"token punctuation\">:</span>\n            <span class=\"token comment\" spellcheck=\"true\"># 3.向数据库服务器发出SQL</span>\n            <span class=\"token comment\" spellcheck=\"true\"># cursor 游标，上下文语法</span>\n            <span class=\"token triple-quoted-string string\">'''\n            # 删除\n            result = cursor.execute(\n                'delete from TbDept where dno=40')\n            if result == 1:\n                print('删除成功!')\n           '''</span>\n\n            <span class=\"token triple-quoted-string string\">'''\n            # 添加\n            result = cursor.execute(\n                args=(no, name, location),\n                query=\"insert into TbDept values (%s, %s, %s)\")\n            if result == 1:\n                print('添加成功!')\n            '''</span>\n\n            <span class=\"token triple-quoted-string string\">'''\n            如果没有添加autocommit这个属性，就可以添加下面这一段代码来提交数据\n            try:\n                result\n                conn.commit()\n            except:\n                conn.rollback()\n            '''</span>\n\n            <span class=\"token triple-quoted-string string\">'''\n            # 修改\n            result = cursor.execute(\n                args=(name, location, no),\n                query=\"update TbDept set dname=%s, dloc=%s where dno=%s\")\n            if result == 1:\n                print('修改成功！')\n            '''</span>\n            <span class=\"token triple-quoted-string string\">'''\n            # 命名占位符\n            result = cursor.execute(\n                args={'no':no, 'name':name, 'loc':location},\n                query=\"update TbDept set dname=%(name)s, dloc=%(loc)s where dno=%(no)s\")\n            if result == 1:\n                print('修改成功！')\n            '''</span>\n            <span class=\"token triple-quoted-string string\">'''\n            # 查看信息1\n            cursor.execute(\n                \"select dno, dname, dloc from TbDept\")\n            for row in cursor.fetchall():\n                print(f'部门编号：{row[0]}')\n                print(f'部门名称：{row[1]}')\n                print(f'部门地址：{row[2]}')\n                print('-' * 20)\n            '''</span>\n            <span class=\"token triple-quoted-string string\">'''\n            # 查看信息2\n            cursor.execute(\"select dno as no, dname as name, dloc as loc from TbDept\")\n            print('-' * 20)\n            for row in cursor.fetchall():\n                print(row['no'], end='\\t')\n                print(row['name'], end='\\t')\n                print(row['loc'])\n            '''</span>\n            <span class=\"token comment\" spellcheck=\"true\"># 查看信息3</span>\n            cursor<span class=\"token punctuation\">.</span>execute<span class=\"token punctuation\">(</span><span class=\"token string\">\" select dno as no, dname as name, dloc as location \"</span>\n                           <span class=\"token string\">\" from TbDept\"</span><span class=\"token punctuation\">)</span>\n\n            <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string\">'-'</span> <span class=\"token operator\">*</span> <span class=\"token number\">20</span><span class=\"token punctuation\">)</span>\n            <span class=\"token keyword\">for</span> row <span class=\"token keyword\">in</span> cursor<span class=\"token punctuation\">.</span>fetchall<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n                <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>row<span class=\"token punctuation\">)</span>\n                dept <span class=\"token operator\">=</span> Dept<span class=\"token punctuation\">(</span><span class=\"token operator\">**</span>row<span class=\"token punctuation\">)</span>\n                <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>dept<span class=\"token punctuation\">.</span>no<span class=\"token punctuation\">,</span> end<span class=\"token operator\">=</span><span class=\"token string\">'\\t'</span><span class=\"token punctuation\">)</span>\n                <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>dept<span class=\"token punctuation\">.</span>name<span class=\"token punctuation\">,</span> end<span class=\"token operator\">=</span><span class=\"token string\">'\\t'</span><span class=\"token punctuation\">)</span>\n                <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>dept<span class=\"token punctuation\">.</span>location<span class=\"token punctuation\">)</span>\n            <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string\">'-'</span> <span class=\"token operator\">*</span> <span class=\"token number\">20</span><span class=\"token punctuation\">)</span>\n\n    <span class=\"token keyword\">finally</span><span class=\"token punctuation\">:</span>\n        conn<span class=\"token punctuation\">.</span>close<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n\n\n<span class=\"token keyword\">if</span> __name__ <span class=\"token operator\">==</span> <span class=\"token string\">'__main__'</span><span class=\"token punctuation\">:</span>\n    main<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n</code></pre>\n","site":{"data":{}},"excerpt":"","more":"<h2 id=\"数据库的微操做\"><a href=\"#数据库的微操做\" class=\"headerlink\" title=\"数据库的微操做\"></a>数据库的微操做</h2><p>进行数据的增加，修改，删除，查看</p>\n<p>在信息化社会，充分有效地管理和利用各类信息资源，是进行科学研究和决策管理的前提条件。</p>\n<p>—– 从删库，到跑路额！</p>\n<pre><code class=\"python\">import pymysql\n\n\nclass Dept(object):\n    def __init__(self, no, name, location):\n        self.no = no\n        self.name = name\n        self.location = location\n\n\ndef main():\n    &#39;&#39;&#39;\n    no = int(input(&#39;部门编号：&#39;))\n    name = input(&#39;部门名称：&#39;)\n    location = input(&#39;部门地址：&#39;)\n    &#39;&#39;&#39;\n\n    # 1.创建数据库连接\n    conn = pymysql.connect(host=&#39;localhost&#39;, port=3306,\n                           db=&#39;hrs&#39;, user=&#39;root&#39;,\n                           charset=&#39;utf8&#39;, password=&#39;123456&#39;,\n                           autocommit=True,\n                           cursorclass=pymysql.cursors.DictCursor)\n    print(conn)\n    try:\n        # 2.获得游标对象\n        with conn.cursor() as cursor:\n            # 3.向数据库服务器发出SQL\n            # cursor 游标，上下文语法\n            &#39;&#39;&#39;\n            # 删除\n            result = cursor.execute(\n                &#39;delete from TbDept where dno=40&#39;)\n            if result == 1:\n                print(&#39;删除成功!&#39;)\n           &#39;&#39;&#39;\n\n            &#39;&#39;&#39;\n            # 添加\n            result = cursor.execute(\n                args=(no, name, location),\n                query=&quot;insert into TbDept values (%s, %s, %s)&quot;)\n            if result == 1:\n                print(&#39;添加成功!&#39;)\n            &#39;&#39;&#39;\n\n            &#39;&#39;&#39;\n            如果没有添加autocommit这个属性，就可以添加下面这一段代码来提交数据\n            try:\n                result\n                conn.commit()\n            except:\n                conn.rollback()\n            &#39;&#39;&#39;\n\n            &#39;&#39;&#39;\n            # 修改\n            result = cursor.execute(\n                args=(name, location, no),\n                query=&quot;update TbDept set dname=%s, dloc=%s where dno=%s&quot;)\n            if result == 1:\n                print(&#39;修改成功！&#39;)\n            &#39;&#39;&#39;\n            &#39;&#39;&#39;\n            # 命名占位符\n            result = cursor.execute(\n                args={&#39;no&#39;:no, &#39;name&#39;:name, &#39;loc&#39;:location},\n                query=&quot;update TbDept set dname=%(name)s, dloc=%(loc)s where dno=%(no)s&quot;)\n            if result == 1:\n                print(&#39;修改成功！&#39;)\n            &#39;&#39;&#39;\n            &#39;&#39;&#39;\n            # 查看信息1\n            cursor.execute(\n                &quot;select dno, dname, dloc from TbDept&quot;)\n            for row in cursor.fetchall():\n                print(f&#39;部门编号：{row[0]}&#39;)\n                print(f&#39;部门名称：{row[1]}&#39;)\n                print(f&#39;部门地址：{row[2]}&#39;)\n                print(&#39;-&#39; * 20)\n            &#39;&#39;&#39;\n            &#39;&#39;&#39;\n            # 查看信息2\n            cursor.execute(&quot;select dno as no, dname as name, dloc as loc from TbDept&quot;)\n            print(&#39;-&#39; * 20)\n            for row in cursor.fetchall():\n                print(row[&#39;no&#39;], end=&#39;\\t&#39;)\n                print(row[&#39;name&#39;], end=&#39;\\t&#39;)\n                print(row[&#39;loc&#39;])\n            &#39;&#39;&#39;\n            # 查看信息3\n            cursor.execute(&quot; select dno as no, dname as name, dloc as location &quot;\n                           &quot; from TbDept&quot;)\n\n            print(&#39;-&#39; * 20)\n            for row in cursor.fetchall():\n                print(row)\n                dept = Dept(**row)\n                print(dept.no, end=&#39;\\t&#39;)\n                print(dept.name, end=&#39;\\t&#39;)\n                print(dept.location)\n            print(&#39;-&#39; * 20)\n\n    finally:\n        conn.close()\n\n\nif __name__ == &#39;__main__&#39;:\n    main()\n</code></pre>\n"},{"title":"python-summary","date":"2018-11-01T02:01:14.000Z","author":"smile","_content":"\n##  函数\n\n#### 一、认识函数\n\n+ 没有函数的时候问题是什么？\n  1.同样的代码需要写多次\n  2.一个功能的需求发生改变，需要修改多个地方\n+ 怎么解决以上问题？\n  使用函数：提高代码的复用度，让程序更简洁，封装\n#### 二、函数的声明和调用\n+ 1.什么是函数：函数就是对实现某一特定功能的代码段封装\n\n+ 2.函数的分类：内置函数和自定义函数\n  内置函数：系统写好，可以直接使用的函数。例如：print函数、input函数、sum函数、len函数ect.\n  自定义函数：程序员自己去创建的函数\n\n+ 3.函数的声明（定义）\n  a.固定格式\n\n  ```python\n  def 函数名（参数列表）：\n  \t函数的说明文档\n  \t函数体\n  ```\n\n  b.说明：\n  def：python中声明函数的关键字\n  函数名：标识符，不能是关键字；PEP8（所有字母小写，多个单词用下划线隔开），见名知义\n  （）：固定格式，并且必须写\n  参数列表：参数名1，参数名2，参数名3....    参数可以有多个，也可以没有。这儿的参数也叫形参，参数是用来从函数的外面，向函数里面传值用的（将数据从函数的外面传递到函数的里面）\n  函数体：实现函数功能的代码段。函数体中可能会包含return语句\n  c.初学者声明函数的过程\n  第一步：确定函数的功能\n  第二步：根据功能确定函数名\n  第三步：确定参数（确定有没有，确定有几个），看实现函数的功能，需不需要从函数外面传递数据进来。需要几个就定义几个参数\n  第四步：实现函数功能\n  第五步：确定返回值\n\n+ 4.注意：函数体只在调用的时候才会执行（特别重要）\n\n+ 5.函数调用\n  a.固定格式：函数名（实参列表）\n  b.说明：\n  函数名：你要调用哪个函数，就写对应的函数名。函数只能是先声明好的才能调用\n  实参列表：就是用来给形参赋值的\n  ——写一个函数，打印两个数的和\n```python\ndef sum2(num1,num2):\n    print('==========')\n    print(num1+num2)\n\n# 调用函数sum2\nsum2(100, 11)\nprint('~~~~~~~~~~')\n# 函数可以多次调用\nsum2(50, 2)\n```\n+ 6.函数的调用过程（必须掌握）\n  a.回到函数声明的位置\n  b.使用实参给形参赋值（传参）---传参的时候一定要保证每个形参都有值\n  c.执行函数体\n  d.将返回值返回给函数调用者\n  e.回到函数调用的地方，接着往后执行\n  ——练习：写一个函数，打印一个整数的阶乘\n```python\ndef fac(number3):\n    sum = 1\n    for x in range(1,number3 + 1):\n        sum *= x\n    print('%d!是：%d' % (x,sum))\n\nfac(2)\nfac(10)\n```\n#### 三、函数的参数\n+ 参数：声明函数的时候的参数列表中的参数叫形参；调用函数的时候，参数列表中的参数叫实参\n+ 传参：传参的过程就是使用实参给形参赋值的过程。一定保证每个形参都要有值\n\n######实参\n+ 1.位置参数：传参的时候和形参的位置一一对应（第一个实参传给第一个形参，第二个实参传给第二个形参...)\n+ 2.关键字参数：函数调用的时候通过'形参名= 实参'的形式来传参\n```python\n 关键字参数\ndef func1(a,b,c):\n    print(a,b,c)\n\n1.位置参数\nfunc1('abc',10,True)\n2.关键字参数\nfunc1(b='abc',a=10,c=True)\n3.关键字参数和位置参数结合\nfunc1(10,20,c=30)\n```\n+ 3.参数的默认值\n  a.在声明函数的时候，可以给参数赋默认值（可以给全部参数赋默认值，也可以给部分参数赋默认值）\n  给部分参数赋默认值的时候，要求有默认值的参数必须放到参数列表最后\n  b.调用参数默认值的函数的时候，，没有默认值的参数必须传参，有默认值的参数可以传参也可以不传参\n```python\n 声明函数的时候每个参数都有默认值\ndef func2(a=100,b='a',c=True):\n    print(a,b,c)\n\n3.1所有的参数都不传参，全部使用默认值\nfunc2()\n\n3.2给部分参数传参\nfunc2(10)\nfunc2(b='abc')\n\n3.3参数列表中，部分参数有默认值（有默认值的参数必须放到最后）\ndef func3(a,b,c=10):\n    print(a,b,c)\n\nfunc3(100,200)\nfunc3(b=100,a=200)\n#  func3(b=100)     错误，a没有值\nfunc3(200,b=100)\n```\n+ 4.不定个数参数\n  python中通过在形参名前加*号，让这个形参变成元组，来让这个形参同时接受多个实参，多个包含0\n```python\n写一个函数，计算多个数的和\ndef sum2(*nums):\n    print(nums,type(nums))\n    sum1=0\n    for item in nums:\n        sum1 += item\n        print(sum1)\n\nsum2()\nsum2(5)\nsum2(1,2,3,4,5,6,7,8,9,10)\n\n 写一个函数，统计指定班级中所有学生的成绩\ndef class_info(class_name,ID,*scores,):\n   #   def class_info(class_name,ID='ID',*scores):\n    print(class_name,ID,scores)\n\nclass_info('python1806',95,85,95,90,75,88)\nclass_info('班级名','ID',90,80,95,87,77)\n```\n+ 5.对参数的类型进行说明\n  Python不能直接约束一个变量的类型，但是可以通过说明，来提示用户调用函数的时候，参数类型\n```\ndef func4(name:str,age:int,study_id:str):\n    print(name,age)\n    # print(study_id.ljust())\n\nfunc4('abc','10','001')\n```\n#### 五、函数的返回值\n\n```python\ndef download(ID):\n    \"\"\"\n    通过地址下载    （函数功能的描述）\n    :param ID:str,下载数据的地址\n    :return: None/下载到的数据\n    \"\"\"\n    pass\n    # 判断是否有网\n    # 如果没有网络：\n    #     return\n    # 下载数据\n    # 解析数据\n    # 存储数据\n```\n\n\n\n+ 1.返回值：函数的返回值就是return关键字后面的表达式的值。就是函数调用表达式的结果\n+ 2.Python中所有的函数都有返回值，默认是None(没有return)\n  说明：\n  a.如果函数体中没有return，函数的返回值就是None\n  b.调用函数的语句就是函数调用表达式\n```python\n 1.没有renturn\n——写一个函数，打印'hello'\ndef say_hello():\n    print('hello')\n\n 声明一个变量re，来保存函数调用后的结果\nsay_hello\nre = say_hello()\nprint(re)\n```\n 2.return关键字（return只能写在函数体中）\na.确定返回值\nb.结束函数（函数中只要遇到return，函数就直接结束）\nc.单独的return相当于return None\n\n```python\ndef func1(n):\n    print(n)\n    return  100      # return后面的函数体不执行了\n    print('=====')\n\nre = func1(10)\nprint(re)\n\n—— 练习：下面的函数的返回值是多少\ndef func2():\n    if False:\n        return 200\nprint(func2())     # None\n```\n+ 注意：看一个函数的返回值是多少，不是看函数中有没有return,而是看函数执行的过程中遇没遇到return。\n  遇到了return，就是return后面的结果，没遇到就是None\n```python\n练习：写一个函数判断一个数是否是偶数，如果是返回True，否则返回False\ndef number(x):\n    if x % 2 ==0:\n        return True\n    else:\n        return False\n    #   return bool(number %2 == 0)\neven = number(10)\nprint(number(10))\nprint(even)\n```\n什么时候函数需要返回值？\n——只要实现函数功能会产生新的数据，就通过返回值将新的数据返回，进行其他操作，而不是打印\n——练习：写一个函数，统计一个列表中浮点数的个数\n\n```python\ndef count_of_float(list1:list):\n    #  统计个数\n    count = 0\n    for item in list1:\n        #  判断每个元素是否是浮点数\n        if isinstance(item,float):\n            count += 1\n    return count\n\ncount = count_of_float([10.0,1,2,0.5,0.1,])\nprint(count)\nprint('这个列表中浮点数的个数是%d'% (count))\n```\n——练习：将一个数字列表中所有的元素的值都变成原来的2倍\n```python\ndef two_list(list2:list):\n    for index in range(len(list2)):\n        list2[index] *= 2\n    return list2\nlist2 = [1,2,3,4,5]\ntwo_list(list2)\nprint(list2)\n\nresult = two_list([11,22,33])\nprint(result)\n```\n——练习：写一个函数，获取指定元素对应的下标\n\n```python\ndef indexs(list3:list,item):\n    index_list = []\n    for index in range(len(list3)):\n        if list3[index] == item:\n            index_list.append(index)\n    return index_list\nindexs([1,1,2,3,4,5,6,1],1)\nall_index = indexs([1,1,2,3,4,5,6,1],1)\nprint(all_index)\n```\n+ 补充：判断一个值是否是指定类型\n\n  ```python\n  isinstance（值，类型）\n  print（isinstance(10,int)）\n  ```\n\n#### 六、匿名函数\n&emsp;&emsp;匿名函数本质还是函数，之前函数所有的内容都适用于它\n&emsp;1.匿名函数的声明\n函数名=lambda   参数列表：返回值\n&emsp;2.说明\n函数名 = 变量名\n\n- lambda:声明匿名函数的关键字\n- 参数列表：参数名1，参数名2，参数名3....\n- 冒号：固定写法\n- 返回值：表达式，表达式的值就是返回值\n\n&emsp;3.调用\n匿名函数的调用和普通函数一样\n函数名（实参列表）\n\n#####  写一个匿名函数，计算两个数的和\n```python\n# 声明一个匿名函数\nmy_sum = lambda x,y: x + y\n# 匿名函数\nresult = my_sum(10,20)\nprint(result)\n```\n##### 下面这个函数和my_sum = lambda x,y: x + y等价的\n```python\ndef my_sum(x,y):\n    result = x+ y\nprint(result)\n```\n##### 练习：写一个匿名函数，获取指定数字列表指定下标的值的1/2\n######  匿名函数的参数可以设默认值\n```python\nfigure = lambda list1,index1=0:list1[index1]/2\n```\n##### 位置参数\n```python\nprint(figure([1,2,3,4,5,6],3))\nprint(figure([1,2,3,4,5,6]))\nprint(figure(list1 = [1,2,3,4,5,6],index1=1))\n# result = list1[index]\n```\n###### 获取一个列表的所有元素的和和平均值\n```python\nlist_operation = lambda list2:(sum(list2),sum(list2)/len(list2))\n\nsum1,average = list_operation([1,2,3,4,5,6])\nprint(sum1,average)\n```\n+ 补充：Python中的函数可以有多个返回值，就是在return返回多个值，多个值之间用逗号隔开\n```python\ndef list_operation2(list2):\n    return sum(list2),sum(list2)/len(list2)          # 最终是多个返回值放到一个元组中返回\nprint(list_operation([1,2,3,4,5,6]))\n\n变量名 = lamdba 参数列表：返回值 function\n\n```\n#### 七、变量的作用域\n- 1.函数的调用过程是一个压栈的过程：\n  每次调用一个函数，系统就会在内存区域中的栈区间，保存函数调用过程中产生的数据。\n  当函数调用完成后，对应的栈区间会自动销毁\n  函数调用时产生的栈区间中保存的数据：形参、在函数中声明的变量\n\n```python\ndef func1(a,b):\n    '''\n    赋值\n    :param a: 20\n    :param b: 30\n    :return: 20，30，100\n    '''\n    # 调用完后会被销毁\n    c = 100\n    print(a,b,c)\n\nfunc1(20,30)\n```\n- 2.什么是作用域：\n  指的是一个变量能够使用的范围\n\n- 3.全局变量和局部变量\n  a.全局变量：声明在函数和类的外面的变量都是全局变量\n  全局变量的作用域：从声明开始到文件结束（任何地方都可以使用）\n\n```python\na = 100       # 全局变量\nif a > 10:\n    b = 20   #  全局变量\n# x 也是全局变量\nfor x in range(10):\n    print(x)\n```\n&emsp;b.局部变量：声明在函数中或者类中的变量就是局部变量\n局部变量的作用域：从声明开始到函数结束或者是从声明开始到类结束\n\n+ 注意：函数的参数是声明在函数中的局部变量\n```python\ndef func3(x1,y1):\n    z = 'abc'\n    print(x1,y1,z)\n\nfunc3('a','b')\n—— 局部变量只能在声明的那个函数中使用，不能在函数外面使用\n# print(z)          NameError: name 'z' is not defined\nc.global关键字：是在函数中声明一个全局变量\nnonlocal  不声明局部变量\nnum1 = 1   # 全局变量\ndef func4():\n    # 局部变量\n    num1 = 200\n    print(num1)   # 如果全局变量和局部变量的同名，那局部变量的作用域内是使用的局部变量的值\n    # 想要在局部变量区域内修改全局变量的值\n    global num2        # 说明从这句开始后面num2都是全局变量\n    global num3        # 直接在局部区域声明一个全局变量\n    anum3 = 'aaa'\n\n    num2 = 199\n    print(num2)\n\nfunc4()\nprint(num1)\n\ndef func5():\n    # 局部变量\n    nn = 10\n    print('func5',nn )\n    # 函数中可以声明函数\n    def func6 ():\n        nonlocal nn  # 在局部的局部中修改局部变量的值\n        nn = 20\n        print('func6',nn)\n    func6()\n\n    print('func5',nn)\nfunc5()\n\n\ndef func():\n    a = []\n    for i in range(5):\n        a.append(lambda x:x*i)\n    return a\naa = func()\nprint(aa[0](2),aa[2](2),aa[3](2))\n```\n#### 八、递归函数\n- 1.什么是递归函数？\n  就是在函数的函数体中调用函数本身，这样的函数就是递归函数\n\n- 2.递归的特点\n  while循环能做的事情，递归都可以做\n\n```python\n# 这儿的func1就是递归函数\ndef func1():\n    print('aaa')\n    func1()\n\n# func1()\n```\n- 3.怎么写递归函数\n  第一步：找临界值（找到让循环结束的值/找到能够确定函数结果的值）\n  第二步：假设函数的功能已经实现的前提下，找关系（找f(n)和f(n-1)/当次循环和上次循环的关系）\n  第三步：根据f(n)和f(n-1）的关系，来f(n-1)实现f(n)的效果\n\n```python\n# 1+2+3+4+...+100\nsum1 = 0\nfor x in range(101):\n    sum1 += x\nprint(sum1)\n# 用递归实现1+2+3+。。。+n\ndef sum2(n):\n    # 1.找临界值（在临界值的位置一定要让函数结束）\n    if n == 1:\n        return 1\n    # 找关系f(n)和f(n-1)\n    # sum2(n):sum2(n-1)+n\n    # 3.使用f(n-1)实现f(n)的效果\n    return sum2(n-1) + n\n\nprint(sum2(5))\n```\n过程：\n\n```\nsum2(5) n = 5   return  sum2(4) + 5       0+1+2+3+4+5\nsum2(4) n = 4   return  sum2(3) + 4       0+1+2+3+4\nsum2(3) n = 3   return  sum2(2) + 3       0+1+2+3\nsum2(2) n = 2   return  sum2(1) + 2       0+1+2\nsum2(1) n = 1   return  sum2(0) + 1       0+1\nsum2(0) n = 0   return  0\n```\n\n+ 练习：使用递归计算1，1，2，3，5，8，。。。\n```python\ndef number(n):\n    # 临界值\n    if n == 1 or n == 2:\n        return 1\n    # 循环规律\n    return number(n-2) + number(n-1)\n\nprint(number(6))\n\n```\n```python\n+  练习：\n'''\nn = 3\n***\n**\n*\n\nn = 5\n*****\n****\n***\n**\n*\n'''\ndef star(n):\n    if n == 1:\n        print('*')\n        return\n    print('*'*n)\n    star(n-1)\n\nstar(5)\n```\n- 4.实际开发中，递归是能不用就不要用，递归消耗大量资源是循环的n倍\n  递归需要不断调用函数，开辟空间，消耗内存\n\n#### 九、模块和包的使用\n封装：\n1.函数：对实现某一特定功能的代码段的封装\n2.模块：将多个变量、函数和类进行封装\n模块：一个py文件就是一个模块\n```python\ndef multiply(*numbers):\n    sum1 = 1\n    # 取出numbers中的每一个元素\n    for item in numbers:\n        sum1 *= item\n    return sum1\n\nprint(multiply(1,2,5))\n```\n1.怎么使用其他模块中的内容\na.import 模块\nb.from 模块 import 模块中的内容\n可以直接使用模块中的内容\nc.from 模块 import * ---->将模块中的所有的内容都导入\n##### my_list\n```python\nempty = []\n\ndef count(list1,item):\n    '''\n    统计指定列表中指定元素的个数\n    :param list1: 指定的列表\n    :param item: 指定元素\n    :return: 个数\n    '''\n    count = 0\n    for x in list1:\n        if x == item:\n            count += 1\n    return count\n```\n#####  my_model\n```python\na = 10\n\ndef func1():\n    print('good!')\n\nfor x in range(10):\n    print('!!',a)\n# 将不希望被别的模块导入（执行）的代码放到模块的这个if语句中\nif __name__=='__main__':\n    print('!!',a)\n    for x in range(10):\n        print('!!',x)\n\n```\n```python\na.\n# # 导入系统模块\n# import math\n# print(math.pi)\n# #导入自定模块my_list\n# import my_list\n# print(my_list.empty)\n# number = my_list.count([1, 2, 3, 4, 1, 1, 5],1)\n# print(number)\n# b.\nfrom my_list import count\nprint(count([23,12,42,52,1,5,2,1,12,12,12],12))\n\n# c.\nfrom math import *\nprint(pi)\nprint(sqrt(4))\n\n```\n2.重命名\nimport 模块 as 新名字\nfrom 模块 import 内容 as 新名字\n```python\nimport random as RAN\nprint(RAN.randint(1,10))\nfrom datetime import date as Date,datetime as TIME\nprint(Date.today())\nprint(TIME.now())\n```\n&emsp;&emsp;每一个模块都有一个__name__属性，这个属性的默认就是当前模块的文件名。\n&emsp;&emsp;当前模块正在被执行（直接在当前这个模块中点了run）的时候，__name__属性的值就是'__main__'\n\n&emsp;&emsp;在一个模块中，将不希望被其他模块导入的代码写在if __name__ '__main__'中，希望被导入的放到这个if外面\n\n建议：函数的声明，类的声明一般写在if的外面，其他的写在if里面。（想要被外部使用的全局变量也可以写在外面）\n```python\nimport my_model\n# from my_model import func1\n# print(func1())\n\n```\n\n#### 十、函数作为变量\n\n###### 1.在python中，函数就是一种特殊的类型，声明函数的时候，其实就是在声明类型是function的变量\n\n变量能做的事情，函数都可以做\n\n```python\nif __name__ == '__main__':\n    # 1.使用一个变量给另一个变量赋值\n    a = 10\n    b = a\n    # 声明一个函数func1(声明了一个变量func1，func1就是一个变量）\n    def func1():\n        print('hello python')\n\n    # c也是一个函数\n    c = func1\n    func1()\n    c()\n```\n######  2.函数作为列表的元素\n```python\n    list2 = []\n    list3 = []\n    for x in range (10):\n        def func2(y):\n            print(x + y)\n        list2.append(func2)\n        list3.append(func2(x))\n\n    # list2中每个元素的值都是函数\n    print(list2)\n    print(list3)\n    # list2[0]就是一个函数\n    list2[0]\n    func = list2[0]\n    print(func(100))\n\n    list2[1](10)\n\n    # 直接将函数作为列表的元素\n    funcs = [func1]\n    funcs[0]()\n```\n###### 3.将函数作为字典的值\n```python\n    def sub(*nums):\n        '''\n        累计求差\n        :param nums: 求差的数\n        :return: 差\n        '''\n        if not nums:\n            return 0\n        # 默认是第一个数\n        sum1 = nums[0]\n        for item in nums[1:]:\n            sum1 -= item\n        return sum1\n    operation ={'+':lambda x,y:x+y,'-':lambda x,y:x-y,'*':lambda x,y:x*y}\n    result = operation['*'](10,20)\n    print(result)\n```\n###### 4.函数作为函数的参数（回调函数）\n```python\n    def clean_kitchen(time):\n        print('在%s,打扫厨房' % time)\n        print('收费200元')\n    def clean_floor(time):\n        print('在%s,清洁地板' % time)\n        print('收费100元')\n    # 在指定的时间，叫指定的服务\n    def call_service(time,service):\n        service(time)\n    # 将函数作为参数，传给其他函数使用\n    call_service('上午10点',clean_kitchen)\n    print('===============')\n    # 函数作为函数的返回值\n    def operation(operator:str):\n        if operator == '+':\n            def my_sum (*nums):\n                sum1 = 0\n                for num in nums:\n                    sum += num\n            # 将求和的函数返回\n            return my_sum()\n        elif operator == '*':\n            def my_sum(*nums):\n                sum1 = 1\n                for num in nums:\n                    sum1 *= num\n                print(sum1)\n            # 将求乘的函数返回\n            return my_sum\n    # operation('*')的结果是函数\n    operation('*')(1,2,3)\n```\n#### 十一、生成器和生成式\n可以把迭代器看成一种容器，类似列表。生成器就是来生成迭代器\n###### 1.生成式-----产生一个迭代器的表达方式\na.是生成器，能够保存生成0-9中所有数字的算法\n```python\na = (x for x in range (10))\n    print(a,type(a))\n    a = (x*2 for x in range(10))\n    a = (char for char in 'a1b0cd1' if '0' <= char <= '9')\n```\n###### 2.生成器和迭代器都是通过next来获取里面的数据\n\n```python\n    print(next(a))\n    print(next(a))\n    print(next(a))\n```\n######  3.将生成器转换成列表\n通过将生成式产生的迭代器转换成了一个列表\n```python\nlist1 = [x for x in range(10)]\n    print(list1)\n```\n###### 4.将生成器转换成字典\n注意：容器类型的元素是元组，并且元素中有且只有2个元素，才能转换成字典\n```python\ndict1 =dict((x,x*2) for x in range(10))\n    print(dict1)\n```\n+ 用一句代码转换一个字典中的key和value的值.{'a';1,'b';2}\n```python\n方法一：\n    dict2 = dict((value,key) for key,value in {'a':1,'b':2}.items())\n    print(dict2)\n方法二：\n    old = {'a':1,'b':2}\n    dict3 = dict((old[key],key) for key in old )\n    print(dict3)\n```\n#### 十二、生成器\n```python\n def func1():\n        for x in range(10):\n            return x\n```\n```python\n结果：\n 0 <class 'int'> < class 'function' >\n    # print(func1(),type(func1()),type(func1))\n```\n+ 1.yield\n  只要函数中有yield关键字，那么这个函数就会变成一个生成器\n   +  a.有yield的函数，在调用函数的时候不再是获取返回值，\n       而是产生一个生成器对象，生成器对象中保留的是函数体\n   +  b.当通过next获取生成器中数据的时候，才会去执行函数体，执行到yield为止，并且将yield后面的结果作为生成的数据返回。同事记录结束的 位置，下次再调用next的时候，从上次结束的位置，继续往后执行\n```python\n    def func2():\n        for x in range(10):\n            print('asd')\n            yield x\n            print('aa')\n\n    # print(func2(), type(func2()), type(func2))\n    # 注意：函数中只要有yield，不管yield会不会执行到，函数的结果都是一个生成器\n    # 这儿的func2（）是一个生成器\n    # gen = func2()\n    # print(next(gen))\n    # print(next(gen))\n    # print(next(gen))\n```\n写一个生成器，可以无限产生斐波那契数列\n```python\n    def list3():\n        yield 1\n        yield 1\n        x = 1\n        y = 1\n        while True:\n            yield x + y\n            x,y = y , x +y\n\n    gen = list3()\n    print(next(gen))\n    print(next(gen))\n    print(next(gen))\n    print(next(gen))\n    print(next(gen))\n    print(next(gen))\n    print('===============')\n```\n写一个生成器，可以产生一个等差数列\n```python\n def list4():\n        yield 1\n        x = 1\n        y = 2\n        while True:\n            yield x + y\n            x,y = x + y,y\n    Cha = list4()\n    print(next(Cha))\n    print(next(Cha))\n    print(next(Cha))\n    print(next(Cha))\n    print(next(Cha))\n    print(next(Cha))\n    print(next(Cha))\n    print('===============')\n```\n+ 2.生成器和生成式产生的对象就是迭代器\n  将列表转换成迭代器（iter）\n```python\n iter1 = iter([1,2,3,4])\n    print(iter1)\n    print(next(iter1))\n    for item in iter1:\n        print(item)\n```\n\n","source":"_posts/python/python-summary.md","raw":"---\ntitle: python-summary\ndate: 2018-11-01 10:01:14\nauthor: smile\ncategories: Python\ntags: \n  - 函数\n---\n\n##  函数\n\n#### 一、认识函数\n\n+ 没有函数的时候问题是什么？\n  1.同样的代码需要写多次\n  2.一个功能的需求发生改变，需要修改多个地方\n+ 怎么解决以上问题？\n  使用函数：提高代码的复用度，让程序更简洁，封装\n#### 二、函数的声明和调用\n+ 1.什么是函数：函数就是对实现某一特定功能的代码段封装\n\n+ 2.函数的分类：内置函数和自定义函数\n  内置函数：系统写好，可以直接使用的函数。例如：print函数、input函数、sum函数、len函数ect.\n  自定义函数：程序员自己去创建的函数\n\n+ 3.函数的声明（定义）\n  a.固定格式\n\n  ```python\n  def 函数名（参数列表）：\n  \t函数的说明文档\n  \t函数体\n  ```\n\n  b.说明：\n  def：python中声明函数的关键字\n  函数名：标识符，不能是关键字；PEP8（所有字母小写，多个单词用下划线隔开），见名知义\n  （）：固定格式，并且必须写\n  参数列表：参数名1，参数名2，参数名3....    参数可以有多个，也可以没有。这儿的参数也叫形参，参数是用来从函数的外面，向函数里面传值用的（将数据从函数的外面传递到函数的里面）\n  函数体：实现函数功能的代码段。函数体中可能会包含return语句\n  c.初学者声明函数的过程\n  第一步：确定函数的功能\n  第二步：根据功能确定函数名\n  第三步：确定参数（确定有没有，确定有几个），看实现函数的功能，需不需要从函数外面传递数据进来。需要几个就定义几个参数\n  第四步：实现函数功能\n  第五步：确定返回值\n\n+ 4.注意：函数体只在调用的时候才会执行（特别重要）\n\n+ 5.函数调用\n  a.固定格式：函数名（实参列表）\n  b.说明：\n  函数名：你要调用哪个函数，就写对应的函数名。函数只能是先声明好的才能调用\n  实参列表：就是用来给形参赋值的\n  ——写一个函数，打印两个数的和\n```python\ndef sum2(num1,num2):\n    print('==========')\n    print(num1+num2)\n\n# 调用函数sum2\nsum2(100, 11)\nprint('~~~~~~~~~~')\n# 函数可以多次调用\nsum2(50, 2)\n```\n+ 6.函数的调用过程（必须掌握）\n  a.回到函数声明的位置\n  b.使用实参给形参赋值（传参）---传参的时候一定要保证每个形参都有值\n  c.执行函数体\n  d.将返回值返回给函数调用者\n  e.回到函数调用的地方，接着往后执行\n  ——练习：写一个函数，打印一个整数的阶乘\n```python\ndef fac(number3):\n    sum = 1\n    for x in range(1,number3 + 1):\n        sum *= x\n    print('%d!是：%d' % (x,sum))\n\nfac(2)\nfac(10)\n```\n#### 三、函数的参数\n+ 参数：声明函数的时候的参数列表中的参数叫形参；调用函数的时候，参数列表中的参数叫实参\n+ 传参：传参的过程就是使用实参给形参赋值的过程。一定保证每个形参都要有值\n\n######实参\n+ 1.位置参数：传参的时候和形参的位置一一对应（第一个实参传给第一个形参，第二个实参传给第二个形参...)\n+ 2.关键字参数：函数调用的时候通过'形参名= 实参'的形式来传参\n```python\n 关键字参数\ndef func1(a,b,c):\n    print(a,b,c)\n\n1.位置参数\nfunc1('abc',10,True)\n2.关键字参数\nfunc1(b='abc',a=10,c=True)\n3.关键字参数和位置参数结合\nfunc1(10,20,c=30)\n```\n+ 3.参数的默认值\n  a.在声明函数的时候，可以给参数赋默认值（可以给全部参数赋默认值，也可以给部分参数赋默认值）\n  给部分参数赋默认值的时候，要求有默认值的参数必须放到参数列表最后\n  b.调用参数默认值的函数的时候，，没有默认值的参数必须传参，有默认值的参数可以传参也可以不传参\n```python\n 声明函数的时候每个参数都有默认值\ndef func2(a=100,b='a',c=True):\n    print(a,b,c)\n\n3.1所有的参数都不传参，全部使用默认值\nfunc2()\n\n3.2给部分参数传参\nfunc2(10)\nfunc2(b='abc')\n\n3.3参数列表中，部分参数有默认值（有默认值的参数必须放到最后）\ndef func3(a,b,c=10):\n    print(a,b,c)\n\nfunc3(100,200)\nfunc3(b=100,a=200)\n#  func3(b=100)     错误，a没有值\nfunc3(200,b=100)\n```\n+ 4.不定个数参数\n  python中通过在形参名前加*号，让这个形参变成元组，来让这个形参同时接受多个实参，多个包含0\n```python\n写一个函数，计算多个数的和\ndef sum2(*nums):\n    print(nums,type(nums))\n    sum1=0\n    for item in nums:\n        sum1 += item\n        print(sum1)\n\nsum2()\nsum2(5)\nsum2(1,2,3,4,5,6,7,8,9,10)\n\n 写一个函数，统计指定班级中所有学生的成绩\ndef class_info(class_name,ID,*scores,):\n   #   def class_info(class_name,ID='ID',*scores):\n    print(class_name,ID,scores)\n\nclass_info('python1806',95,85,95,90,75,88)\nclass_info('班级名','ID',90,80,95,87,77)\n```\n+ 5.对参数的类型进行说明\n  Python不能直接约束一个变量的类型，但是可以通过说明，来提示用户调用函数的时候，参数类型\n```\ndef func4(name:str,age:int,study_id:str):\n    print(name,age)\n    # print(study_id.ljust())\n\nfunc4('abc','10','001')\n```\n#### 五、函数的返回值\n\n```python\ndef download(ID):\n    \"\"\"\n    通过地址下载    （函数功能的描述）\n    :param ID:str,下载数据的地址\n    :return: None/下载到的数据\n    \"\"\"\n    pass\n    # 判断是否有网\n    # 如果没有网络：\n    #     return\n    # 下载数据\n    # 解析数据\n    # 存储数据\n```\n\n\n\n+ 1.返回值：函数的返回值就是return关键字后面的表达式的值。就是函数调用表达式的结果\n+ 2.Python中所有的函数都有返回值，默认是None(没有return)\n  说明：\n  a.如果函数体中没有return，函数的返回值就是None\n  b.调用函数的语句就是函数调用表达式\n```python\n 1.没有renturn\n——写一个函数，打印'hello'\ndef say_hello():\n    print('hello')\n\n 声明一个变量re，来保存函数调用后的结果\nsay_hello\nre = say_hello()\nprint(re)\n```\n 2.return关键字（return只能写在函数体中）\na.确定返回值\nb.结束函数（函数中只要遇到return，函数就直接结束）\nc.单独的return相当于return None\n\n```python\ndef func1(n):\n    print(n)\n    return  100      # return后面的函数体不执行了\n    print('=====')\n\nre = func1(10)\nprint(re)\n\n—— 练习：下面的函数的返回值是多少\ndef func2():\n    if False:\n        return 200\nprint(func2())     # None\n```\n+ 注意：看一个函数的返回值是多少，不是看函数中有没有return,而是看函数执行的过程中遇没遇到return。\n  遇到了return，就是return后面的结果，没遇到就是None\n```python\n练习：写一个函数判断一个数是否是偶数，如果是返回True，否则返回False\ndef number(x):\n    if x % 2 ==0:\n        return True\n    else:\n        return False\n    #   return bool(number %2 == 0)\neven = number(10)\nprint(number(10))\nprint(even)\n```\n什么时候函数需要返回值？\n——只要实现函数功能会产生新的数据，就通过返回值将新的数据返回，进行其他操作，而不是打印\n——练习：写一个函数，统计一个列表中浮点数的个数\n\n```python\ndef count_of_float(list1:list):\n    #  统计个数\n    count = 0\n    for item in list1:\n        #  判断每个元素是否是浮点数\n        if isinstance(item,float):\n            count += 1\n    return count\n\ncount = count_of_float([10.0,1,2,0.5,0.1,])\nprint(count)\nprint('这个列表中浮点数的个数是%d'% (count))\n```\n——练习：将一个数字列表中所有的元素的值都变成原来的2倍\n```python\ndef two_list(list2:list):\n    for index in range(len(list2)):\n        list2[index] *= 2\n    return list2\nlist2 = [1,2,3,4,5]\ntwo_list(list2)\nprint(list2)\n\nresult = two_list([11,22,33])\nprint(result)\n```\n——练习：写一个函数，获取指定元素对应的下标\n\n```python\ndef indexs(list3:list,item):\n    index_list = []\n    for index in range(len(list3)):\n        if list3[index] == item:\n            index_list.append(index)\n    return index_list\nindexs([1,1,2,3,4,5,6,1],1)\nall_index = indexs([1,1,2,3,4,5,6,1],1)\nprint(all_index)\n```\n+ 补充：判断一个值是否是指定类型\n\n  ```python\n  isinstance（值，类型）\n  print（isinstance(10,int)）\n  ```\n\n#### 六、匿名函数\n&emsp;&emsp;匿名函数本质还是函数，之前函数所有的内容都适用于它\n&emsp;1.匿名函数的声明\n函数名=lambda   参数列表：返回值\n&emsp;2.说明\n函数名 = 变量名\n\n- lambda:声明匿名函数的关键字\n- 参数列表：参数名1，参数名2，参数名3....\n- 冒号：固定写法\n- 返回值：表达式，表达式的值就是返回值\n\n&emsp;3.调用\n匿名函数的调用和普通函数一样\n函数名（实参列表）\n\n#####  写一个匿名函数，计算两个数的和\n```python\n# 声明一个匿名函数\nmy_sum = lambda x,y: x + y\n# 匿名函数\nresult = my_sum(10,20)\nprint(result)\n```\n##### 下面这个函数和my_sum = lambda x,y: x + y等价的\n```python\ndef my_sum(x,y):\n    result = x+ y\nprint(result)\n```\n##### 练习：写一个匿名函数，获取指定数字列表指定下标的值的1/2\n######  匿名函数的参数可以设默认值\n```python\nfigure = lambda list1,index1=0:list1[index1]/2\n```\n##### 位置参数\n```python\nprint(figure([1,2,3,4,5,6],3))\nprint(figure([1,2,3,4,5,6]))\nprint(figure(list1 = [1,2,3,4,5,6],index1=1))\n# result = list1[index]\n```\n###### 获取一个列表的所有元素的和和平均值\n```python\nlist_operation = lambda list2:(sum(list2),sum(list2)/len(list2))\n\nsum1,average = list_operation([1,2,3,4,5,6])\nprint(sum1,average)\n```\n+ 补充：Python中的函数可以有多个返回值，就是在return返回多个值，多个值之间用逗号隔开\n```python\ndef list_operation2(list2):\n    return sum(list2),sum(list2)/len(list2)          # 最终是多个返回值放到一个元组中返回\nprint(list_operation([1,2,3,4,5,6]))\n\n变量名 = lamdba 参数列表：返回值 function\n\n```\n#### 七、变量的作用域\n- 1.函数的调用过程是一个压栈的过程：\n  每次调用一个函数，系统就会在内存区域中的栈区间，保存函数调用过程中产生的数据。\n  当函数调用完成后，对应的栈区间会自动销毁\n  函数调用时产生的栈区间中保存的数据：形参、在函数中声明的变量\n\n```python\ndef func1(a,b):\n    '''\n    赋值\n    :param a: 20\n    :param b: 30\n    :return: 20，30，100\n    '''\n    # 调用完后会被销毁\n    c = 100\n    print(a,b,c)\n\nfunc1(20,30)\n```\n- 2.什么是作用域：\n  指的是一个变量能够使用的范围\n\n- 3.全局变量和局部变量\n  a.全局变量：声明在函数和类的外面的变量都是全局变量\n  全局变量的作用域：从声明开始到文件结束（任何地方都可以使用）\n\n```python\na = 100       # 全局变量\nif a > 10:\n    b = 20   #  全局变量\n# x 也是全局变量\nfor x in range(10):\n    print(x)\n```\n&emsp;b.局部变量：声明在函数中或者类中的变量就是局部变量\n局部变量的作用域：从声明开始到函数结束或者是从声明开始到类结束\n\n+ 注意：函数的参数是声明在函数中的局部变量\n```python\ndef func3(x1,y1):\n    z = 'abc'\n    print(x1,y1,z)\n\nfunc3('a','b')\n—— 局部变量只能在声明的那个函数中使用，不能在函数外面使用\n# print(z)          NameError: name 'z' is not defined\nc.global关键字：是在函数中声明一个全局变量\nnonlocal  不声明局部变量\nnum1 = 1   # 全局变量\ndef func4():\n    # 局部变量\n    num1 = 200\n    print(num1)   # 如果全局变量和局部变量的同名，那局部变量的作用域内是使用的局部变量的值\n    # 想要在局部变量区域内修改全局变量的值\n    global num2        # 说明从这句开始后面num2都是全局变量\n    global num3        # 直接在局部区域声明一个全局变量\n    anum3 = 'aaa'\n\n    num2 = 199\n    print(num2)\n\nfunc4()\nprint(num1)\n\ndef func5():\n    # 局部变量\n    nn = 10\n    print('func5',nn )\n    # 函数中可以声明函数\n    def func6 ():\n        nonlocal nn  # 在局部的局部中修改局部变量的值\n        nn = 20\n        print('func6',nn)\n    func6()\n\n    print('func5',nn)\nfunc5()\n\n\ndef func():\n    a = []\n    for i in range(5):\n        a.append(lambda x:x*i)\n    return a\naa = func()\nprint(aa[0](2),aa[2](2),aa[3](2))\n```\n#### 八、递归函数\n- 1.什么是递归函数？\n  就是在函数的函数体中调用函数本身，这样的函数就是递归函数\n\n- 2.递归的特点\n  while循环能做的事情，递归都可以做\n\n```python\n# 这儿的func1就是递归函数\ndef func1():\n    print('aaa')\n    func1()\n\n# func1()\n```\n- 3.怎么写递归函数\n  第一步：找临界值（找到让循环结束的值/找到能够确定函数结果的值）\n  第二步：假设函数的功能已经实现的前提下，找关系（找f(n)和f(n-1)/当次循环和上次循环的关系）\n  第三步：根据f(n)和f(n-1）的关系，来f(n-1)实现f(n)的效果\n\n```python\n# 1+2+3+4+...+100\nsum1 = 0\nfor x in range(101):\n    sum1 += x\nprint(sum1)\n# 用递归实现1+2+3+。。。+n\ndef sum2(n):\n    # 1.找临界值（在临界值的位置一定要让函数结束）\n    if n == 1:\n        return 1\n    # 找关系f(n)和f(n-1)\n    # sum2(n):sum2(n-1)+n\n    # 3.使用f(n-1)实现f(n)的效果\n    return sum2(n-1) + n\n\nprint(sum2(5))\n```\n过程：\n\n```\nsum2(5) n = 5   return  sum2(4) + 5       0+1+2+3+4+5\nsum2(4) n = 4   return  sum2(3) + 4       0+1+2+3+4\nsum2(3) n = 3   return  sum2(2) + 3       0+1+2+3\nsum2(2) n = 2   return  sum2(1) + 2       0+1+2\nsum2(1) n = 1   return  sum2(0) + 1       0+1\nsum2(0) n = 0   return  0\n```\n\n+ 练习：使用递归计算1，1，2，3，5，8，。。。\n```python\ndef number(n):\n    # 临界值\n    if n == 1 or n == 2:\n        return 1\n    # 循环规律\n    return number(n-2) + number(n-1)\n\nprint(number(6))\n\n```\n```python\n+  练习：\n'''\nn = 3\n***\n**\n*\n\nn = 5\n*****\n****\n***\n**\n*\n'''\ndef star(n):\n    if n == 1:\n        print('*')\n        return\n    print('*'*n)\n    star(n-1)\n\nstar(5)\n```\n- 4.实际开发中，递归是能不用就不要用，递归消耗大量资源是循环的n倍\n  递归需要不断调用函数，开辟空间，消耗内存\n\n#### 九、模块和包的使用\n封装：\n1.函数：对实现某一特定功能的代码段的封装\n2.模块：将多个变量、函数和类进行封装\n模块：一个py文件就是一个模块\n```python\ndef multiply(*numbers):\n    sum1 = 1\n    # 取出numbers中的每一个元素\n    for item in numbers:\n        sum1 *= item\n    return sum1\n\nprint(multiply(1,2,5))\n```\n1.怎么使用其他模块中的内容\na.import 模块\nb.from 模块 import 模块中的内容\n可以直接使用模块中的内容\nc.from 模块 import * ---->将模块中的所有的内容都导入\n##### my_list\n```python\nempty = []\n\ndef count(list1,item):\n    '''\n    统计指定列表中指定元素的个数\n    :param list1: 指定的列表\n    :param item: 指定元素\n    :return: 个数\n    '''\n    count = 0\n    for x in list1:\n        if x == item:\n            count += 1\n    return count\n```\n#####  my_model\n```python\na = 10\n\ndef func1():\n    print('good!')\n\nfor x in range(10):\n    print('!!',a)\n# 将不希望被别的模块导入（执行）的代码放到模块的这个if语句中\nif __name__=='__main__':\n    print('!!',a)\n    for x in range(10):\n        print('!!',x)\n\n```\n```python\na.\n# # 导入系统模块\n# import math\n# print(math.pi)\n# #导入自定模块my_list\n# import my_list\n# print(my_list.empty)\n# number = my_list.count([1, 2, 3, 4, 1, 1, 5],1)\n# print(number)\n# b.\nfrom my_list import count\nprint(count([23,12,42,52,1,5,2,1,12,12,12],12))\n\n# c.\nfrom math import *\nprint(pi)\nprint(sqrt(4))\n\n```\n2.重命名\nimport 模块 as 新名字\nfrom 模块 import 内容 as 新名字\n```python\nimport random as RAN\nprint(RAN.randint(1,10))\nfrom datetime import date as Date,datetime as TIME\nprint(Date.today())\nprint(TIME.now())\n```\n&emsp;&emsp;每一个模块都有一个__name__属性，这个属性的默认就是当前模块的文件名。\n&emsp;&emsp;当前模块正在被执行（直接在当前这个模块中点了run）的时候，__name__属性的值就是'__main__'\n\n&emsp;&emsp;在一个模块中，将不希望被其他模块导入的代码写在if __name__ '__main__'中，希望被导入的放到这个if外面\n\n建议：函数的声明，类的声明一般写在if的外面，其他的写在if里面。（想要被外部使用的全局变量也可以写在外面）\n```python\nimport my_model\n# from my_model import func1\n# print(func1())\n\n```\n\n#### 十、函数作为变量\n\n###### 1.在python中，函数就是一种特殊的类型，声明函数的时候，其实就是在声明类型是function的变量\n\n变量能做的事情，函数都可以做\n\n```python\nif __name__ == '__main__':\n    # 1.使用一个变量给另一个变量赋值\n    a = 10\n    b = a\n    # 声明一个函数func1(声明了一个变量func1，func1就是一个变量）\n    def func1():\n        print('hello python')\n\n    # c也是一个函数\n    c = func1\n    func1()\n    c()\n```\n######  2.函数作为列表的元素\n```python\n    list2 = []\n    list3 = []\n    for x in range (10):\n        def func2(y):\n            print(x + y)\n        list2.append(func2)\n        list3.append(func2(x))\n\n    # list2中每个元素的值都是函数\n    print(list2)\n    print(list3)\n    # list2[0]就是一个函数\n    list2[0]\n    func = list2[0]\n    print(func(100))\n\n    list2[1](10)\n\n    # 直接将函数作为列表的元素\n    funcs = [func1]\n    funcs[0]()\n```\n###### 3.将函数作为字典的值\n```python\n    def sub(*nums):\n        '''\n        累计求差\n        :param nums: 求差的数\n        :return: 差\n        '''\n        if not nums:\n            return 0\n        # 默认是第一个数\n        sum1 = nums[0]\n        for item in nums[1:]:\n            sum1 -= item\n        return sum1\n    operation ={'+':lambda x,y:x+y,'-':lambda x,y:x-y,'*':lambda x,y:x*y}\n    result = operation['*'](10,20)\n    print(result)\n```\n###### 4.函数作为函数的参数（回调函数）\n```python\n    def clean_kitchen(time):\n        print('在%s,打扫厨房' % time)\n        print('收费200元')\n    def clean_floor(time):\n        print('在%s,清洁地板' % time)\n        print('收费100元')\n    # 在指定的时间，叫指定的服务\n    def call_service(time,service):\n        service(time)\n    # 将函数作为参数，传给其他函数使用\n    call_service('上午10点',clean_kitchen)\n    print('===============')\n    # 函数作为函数的返回值\n    def operation(operator:str):\n        if operator == '+':\n            def my_sum (*nums):\n                sum1 = 0\n                for num in nums:\n                    sum += num\n            # 将求和的函数返回\n            return my_sum()\n        elif operator == '*':\n            def my_sum(*nums):\n                sum1 = 1\n                for num in nums:\n                    sum1 *= num\n                print(sum1)\n            # 将求乘的函数返回\n            return my_sum\n    # operation('*')的结果是函数\n    operation('*')(1,2,3)\n```\n#### 十一、生成器和生成式\n可以把迭代器看成一种容器，类似列表。生成器就是来生成迭代器\n###### 1.生成式-----产生一个迭代器的表达方式\na.是生成器，能够保存生成0-9中所有数字的算法\n```python\na = (x for x in range (10))\n    print(a,type(a))\n    a = (x*2 for x in range(10))\n    a = (char for char in 'a1b0cd1' if '0' <= char <= '9')\n```\n###### 2.生成器和迭代器都是通过next来获取里面的数据\n\n```python\n    print(next(a))\n    print(next(a))\n    print(next(a))\n```\n######  3.将生成器转换成列表\n通过将生成式产生的迭代器转换成了一个列表\n```python\nlist1 = [x for x in range(10)]\n    print(list1)\n```\n###### 4.将生成器转换成字典\n注意：容器类型的元素是元组，并且元素中有且只有2个元素，才能转换成字典\n```python\ndict1 =dict((x,x*2) for x in range(10))\n    print(dict1)\n```\n+ 用一句代码转换一个字典中的key和value的值.{'a';1,'b';2}\n```python\n方法一：\n    dict2 = dict((value,key) for key,value in {'a':1,'b':2}.items())\n    print(dict2)\n方法二：\n    old = {'a':1,'b':2}\n    dict3 = dict((old[key],key) for key in old )\n    print(dict3)\n```\n#### 十二、生成器\n```python\n def func1():\n        for x in range(10):\n            return x\n```\n```python\n结果：\n 0 <class 'int'> < class 'function' >\n    # print(func1(),type(func1()),type(func1))\n```\n+ 1.yield\n  只要函数中有yield关键字，那么这个函数就会变成一个生成器\n   +  a.有yield的函数，在调用函数的时候不再是获取返回值，\n       而是产生一个生成器对象，生成器对象中保留的是函数体\n   +  b.当通过next获取生成器中数据的时候，才会去执行函数体，执行到yield为止，并且将yield后面的结果作为生成的数据返回。同事记录结束的 位置，下次再调用next的时候，从上次结束的位置，继续往后执行\n```python\n    def func2():\n        for x in range(10):\n            print('asd')\n            yield x\n            print('aa')\n\n    # print(func2(), type(func2()), type(func2))\n    # 注意：函数中只要有yield，不管yield会不会执行到，函数的结果都是一个生成器\n    # 这儿的func2（）是一个生成器\n    # gen = func2()\n    # print(next(gen))\n    # print(next(gen))\n    # print(next(gen))\n```\n写一个生成器，可以无限产生斐波那契数列\n```python\n    def list3():\n        yield 1\n        yield 1\n        x = 1\n        y = 1\n        while True:\n            yield x + y\n            x,y = y , x +y\n\n    gen = list3()\n    print(next(gen))\n    print(next(gen))\n    print(next(gen))\n    print(next(gen))\n    print(next(gen))\n    print(next(gen))\n    print('===============')\n```\n写一个生成器，可以产生一个等差数列\n```python\n def list4():\n        yield 1\n        x = 1\n        y = 2\n        while True:\n            yield x + y\n            x,y = x + y,y\n    Cha = list4()\n    print(next(Cha))\n    print(next(Cha))\n    print(next(Cha))\n    print(next(Cha))\n    print(next(Cha))\n    print(next(Cha))\n    print(next(Cha))\n    print('===============')\n```\n+ 2.生成器和生成式产生的对象就是迭代器\n  将列表转换成迭代器（iter）\n```python\n iter1 = iter([1,2,3,4])\n    print(iter1)\n    print(next(iter1))\n    for item in iter1:\n        print(item)\n```\n\n","slug":"python/python-summary","published":1,"updated":"2019-01-17T06:40:06.239Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjt87kqim001or8r6ign0cod4","content":"<h2 id=\"函数\"><a href=\"#函数\" class=\"headerlink\" title=\"函数\"></a>函数</h2><h4 id=\"一、认识函数\"><a href=\"#一、认识函数\" class=\"headerlink\" title=\"一、认识函数\"></a>一、认识函数</h4><ul>\n<li>没有函数的时候问题是什么？<br>1.同样的代码需要写多次<br>2.一个功能的需求发生改变，需要修改多个地方</li>\n<li>怎么解决以上问题？<br>使用函数：提高代码的复用度，让程序更简洁，封装<h4 id=\"二、函数的声明和调用\"><a href=\"#二、函数的声明和调用\" class=\"headerlink\" title=\"二、函数的声明和调用\"></a>二、函数的声明和调用</h4></li>\n<li><p>1.什么是函数：函数就是对实现某一特定功能的代码段封装</p>\n</li>\n<li><p>2.函数的分类：内置函数和自定义函数<br>内置函数：系统写好，可以直接使用的函数。例如：print函数、input函数、sum函数、len函数ect.<br>自定义函数：程序员自己去创建的函数</p>\n</li>\n<li><p>3.函数的声明（定义）<br>a.固定格式</p>\n<pre class=\" language-python\"><code class=\"language-python\"><span class=\"token keyword\">def</span> 函数名（参数列表）：\n    函数的说明文档\n    函数体\n</code></pre>\n<p>b.说明：<br>def：python中声明函数的关键字<br>函数名：标识符，不能是关键字；PEP8（所有字母小写，多个单词用下划线隔开），见名知义<br>（）：固定格式，并且必须写<br>参数列表：参数名1，参数名2，参数名3….    参数可以有多个，也可以没有。这儿的参数也叫形参，参数是用来从函数的外面，向函数里面传值用的（将数据从函数的外面传递到函数的里面）<br>函数体：实现函数功能的代码段。函数体中可能会包含return语句<br>c.初学者声明函数的过程<br>第一步：确定函数的功能<br>第二步：根据功能确定函数名<br>第三步：确定参数（确定有没有，确定有几个），看实现函数的功能，需不需要从函数外面传递数据进来。需要几个就定义几个参数<br>第四步：实现函数功能<br>第五步：确定返回值</p>\n</li>\n<li><p>4.注意：函数体只在调用的时候才会执行（特别重要）</p>\n</li>\n<li><p>5.函数调用<br>a.固定格式：函数名（实参列表）<br>b.说明：<br>函数名：你要调用哪个函数，就写对应的函数名。函数只能是先声明好的才能调用<br>实参列表：就是用来给形参赋值的<br>——写一个函数，打印两个数的和<br><code>`</code>python<br>def sum2(num1,num2):<br>  print(‘==========’)<br>  print(num1+num2)</p>\n</li>\n</ul>\n<h1 id=\"调用函数sum2\"><a href=\"#调用函数sum2\" class=\"headerlink\" title=\"调用函数sum2\"></a>调用函数sum2</h1><p>sum2(100, 11)<br>print(‘<del>~</del><del>~</del>‘)</p>\n<h1 id=\"函数可以多次调用\"><a href=\"#函数可以多次调用\" class=\"headerlink\" title=\"函数可以多次调用\"></a>函数可以多次调用</h1><p>sum2(50, 2)</p>\n<pre><code>+ 6.函数的调用过程（必须掌握）\n  a.回到函数声明的位置\n  b.使用实参给形参赋值（传参）---传参的时候一定要保证每个形参都有值\n  c.执行函数体\n  d.将返回值返回给函数调用者\n  e.回到函数调用的地方，接着往后执行\n  ——练习：写一个函数，打印一个整数的阶乘\n```python\ndef fac(number3):\n    sum = 1\n    for x in range(1,number3 + 1):\n        sum *= x\n    print(&#39;%d!是：%d&#39; % (x,sum))\n\nfac(2)\nfac(10)\n</code></pre><h4 id=\"三、函数的参数\"><a href=\"#三、函数的参数\" class=\"headerlink\" title=\"三、函数的参数\"></a>三、函数的参数</h4><ul>\n<li>参数：声明函数的时候的参数列表中的参数叫形参；调用函数的时候，参数列表中的参数叫实参</li>\n<li>传参：传参的过程就是使用实参给形参赋值的过程。一定保证每个形参都要有值</li>\n</ul>\n<p>######实参</p>\n<ul>\n<li>1.位置参数：传参的时候和形参的位置一一对应（第一个实参传给第一个形参，第二个实参传给第二个形参…)</li>\n<li>2.关键字参数：函数调用的时候通过’形参名= 实参’的形式来传参<br><code>`</code>python<br>关键字参数<br>def func1(a,b,c):<br>  print(a,b,c)</li>\n</ul>\n<p>1.位置参数<br>func1(‘abc’,10,True)<br>2.关键字参数<br>func1(b=’abc’,a=10,c=True)<br>3.关键字参数和位置参数结合<br>func1(10,20,c=30)</p>\n<pre><code>+ 3.参数的默认值\n  a.在声明函数的时候，可以给参数赋默认值（可以给全部参数赋默认值，也可以给部分参数赋默认值）\n  给部分参数赋默认值的时候，要求有默认值的参数必须放到参数列表最后\n  b.调用参数默认值的函数的时候，，没有默认值的参数必须传参，有默认值的参数可以传参也可以不传参\n```python\n 声明函数的时候每个参数都有默认值\ndef func2(a=100,b=&#39;a&#39;,c=True):\n    print(a,b,c)\n\n3.1所有的参数都不传参，全部使用默认值\nfunc2()\n\n3.2给部分参数传参\nfunc2(10)\nfunc2(b=&#39;abc&#39;)\n\n3.3参数列表中，部分参数有默认值（有默认值的参数必须放到最后）\ndef func3(a,b,c=10):\n    print(a,b,c)\n\nfunc3(100,200)\nfunc3(b=100,a=200)\n#  func3(b=100)     错误，a没有值\nfunc3(200,b=100)\n</code></pre><ul>\n<li>4.不定个数参数<br>python中通过在形参名前加<em>号，让这个形参变成元组，来让这个形参同时接受多个实参，多个包含0<br><code>`</code>python<br>写一个函数，计算多个数的和<br>def sum2(</em>nums):<br>  print(nums,type(nums))<br>  sum1=0<br>  for item in nums:<pre><code>  sum1 += item\n  print(sum1)\n</code></pre></li>\n</ul>\n<p>sum2()<br>sum2(5)<br>sum2(1,2,3,4,5,6,7,8,9,10)</p>\n<p> 写一个函数，统计指定班级中所有学生的成绩<br>def class_info(class_name,ID,*scores,):</p>\n<h1 id=\"def-class-info-class-name-ID-’ID’-scores\"><a href=\"#def-class-info-class-name-ID-’ID’-scores\" class=\"headerlink\" title=\"def class_info(class_name,ID=’ID’,*scores):\"></a>def class_info(class_name,ID=’ID’,*scores):</h1><pre><code>print(class_name,ID,scores)\n</code></pre><p>class_info(‘python1806’,95,85,95,90,75,88)<br>class_info(‘班级名’,’ID’,90,80,95,87,77)</p>\n<pre><code>+ 5.对参数的类型进行说明\n  Python不能直接约束一个变量的类型，但是可以通过说明，来提示用户调用函数的时候，参数类型\n</code></pre><p>def func4(name:str,age:int,study_id:str):<br>    print(name,age)</p>\n<pre><code># print(study_id.ljust())\n</code></pre><p>func4(‘abc’,’10’,’001’)</p>\n<pre><code>#### 五、函数的返回值\n\n```python\ndef download(ID):\n    &quot;&quot;&quot;\n    通过地址下载    （函数功能的描述）\n    :param ID:str,下载数据的地址\n    :return: None/下载到的数据\n    &quot;&quot;&quot;\n    pass\n    # 判断是否有网\n    # 如果没有网络：\n    #     return\n    # 下载数据\n    # 解析数据\n    # 存储数据\n</code></pre><ul>\n<li>1.返回值：函数的返回值就是return关键字后面的表达式的值。就是函数调用表达式的结果</li>\n<li><p>2.Python中所有的函数都有返回值，默认是None(没有return)<br>说明：<br>a.如果函数体中没有return，函数的返回值就是None<br>b.调用函数的语句就是函数调用表达式</p>\n<pre class=\" language-python\"><code class=\"language-python\"><span class=\"token number\">1</span><span class=\"token punctuation\">.</span>没有renturn\n——写一个函数，打印<span class=\"token string\">'hello'</span>\n<span class=\"token keyword\">def</span> <span class=\"token function\">say_hello</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n  <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string\">'hello'</span><span class=\"token punctuation\">)</span>\n\n声明一个变量re，来保存函数调用后的结果\nsay_hello\nre <span class=\"token operator\">=</span> say_hello<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>re<span class=\"token punctuation\">)</span>\n</code></pre>\n<p>2.return关键字（return只能写在函数体中）<br>a.确定返回值<br>b.结束函数（函数中只要遇到return，函数就直接结束）<br>c.单独的return相当于return None</p>\n</li>\n</ul>\n<pre class=\" language-python\"><code class=\"language-python\"><span class=\"token keyword\">def</span> <span class=\"token function\">func1</span><span class=\"token punctuation\">(</span>n<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>n<span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">return</span>  <span class=\"token number\">100</span>      <span class=\"token comment\" spellcheck=\"true\"># return后面的函数体不执行了</span>\n    <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string\">'====='</span><span class=\"token punctuation\">)</span>\n\nre <span class=\"token operator\">=</span> func1<span class=\"token punctuation\">(</span><span class=\"token number\">10</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>re<span class=\"token punctuation\">)</span>\n\n—— 练习：下面的函数的返回值是多少\n<span class=\"token keyword\">def</span> <span class=\"token function\">func2</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    <span class=\"token keyword\">if</span> <span class=\"token boolean\">False</span><span class=\"token punctuation\">:</span>\n        <span class=\"token keyword\">return</span> <span class=\"token number\">200</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>func2<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>     <span class=\"token comment\" spellcheck=\"true\"># None</span>\n</code></pre>\n<ul>\n<li>注意：看一个函数的返回值是多少，不是看函数中有没有return,而是看函数执行的过程中遇没遇到return。<br>遇到了return，就是return后面的结果，没遇到就是None<pre class=\" language-python\"><code class=\"language-python\">练习：写一个函数判断一个数是否是偶数，如果是返回<span class=\"token boolean\">True</span>，否则返回<span class=\"token boolean\">False</span>\n<span class=\"token keyword\">def</span> <span class=\"token function\">number</span><span class=\"token punctuation\">(</span>x<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n  <span class=\"token keyword\">if</span> x <span class=\"token operator\">%</span> <span class=\"token number\">2</span> <span class=\"token operator\">==</span><span class=\"token number\">0</span><span class=\"token punctuation\">:</span>\n      <span class=\"token keyword\">return</span> <span class=\"token boolean\">True</span>\n  <span class=\"token keyword\">else</span><span class=\"token punctuation\">:</span>\n      <span class=\"token keyword\">return</span> <span class=\"token boolean\">False</span>\n  <span class=\"token comment\" spellcheck=\"true\">#   return bool(number %2 == 0)</span>\neven <span class=\"token operator\">=</span> number<span class=\"token punctuation\">(</span><span class=\"token number\">10</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>number<span class=\"token punctuation\">(</span><span class=\"token number\">10</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>even<span class=\"token punctuation\">)</span>\n</code></pre>\n什么时候函数需要返回值？<br>——只要实现函数功能会产生新的数据，就通过返回值将新的数据返回，进行其他操作，而不是打印<br>——练习：写一个函数，统计一个列表中浮点数的个数</li>\n</ul>\n<pre class=\" language-python\"><code class=\"language-python\"><span class=\"token keyword\">def</span> <span class=\"token function\">count_of_float</span><span class=\"token punctuation\">(</span>list1<span class=\"token punctuation\">:</span>list<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    <span class=\"token comment\" spellcheck=\"true\">#  统计个数</span>\n    count <span class=\"token operator\">=</span> <span class=\"token number\">0</span>\n    <span class=\"token keyword\">for</span> item <span class=\"token keyword\">in</span> list1<span class=\"token punctuation\">:</span>\n        <span class=\"token comment\" spellcheck=\"true\">#  判断每个元素是否是浮点数</span>\n        <span class=\"token keyword\">if</span> isinstance<span class=\"token punctuation\">(</span>item<span class=\"token punctuation\">,</span>float<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n            count <span class=\"token operator\">+=</span> <span class=\"token number\">1</span>\n    <span class=\"token keyword\">return</span> count\n\ncount <span class=\"token operator\">=</span> count_of_float<span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span><span class=\"token number\">10.0</span><span class=\"token punctuation\">,</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span><span class=\"token number\">2</span><span class=\"token punctuation\">,</span><span class=\"token number\">0.5</span><span class=\"token punctuation\">,</span><span class=\"token number\">0.1</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>count<span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string\">'这个列表中浮点数的个数是%d'</span><span class=\"token operator\">%</span> <span class=\"token punctuation\">(</span>count<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n</code></pre>\n<p>——练习：将一个数字列表中所有的元素的值都变成原来的2倍</p>\n<pre class=\" language-python\"><code class=\"language-python\"><span class=\"token keyword\">def</span> <span class=\"token function\">two_list</span><span class=\"token punctuation\">(</span>list2<span class=\"token punctuation\">:</span>list<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    <span class=\"token keyword\">for</span> index <span class=\"token keyword\">in</span> range<span class=\"token punctuation\">(</span>len<span class=\"token punctuation\">(</span>list2<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n        list2<span class=\"token punctuation\">[</span>index<span class=\"token punctuation\">]</span> <span class=\"token operator\">*=</span> <span class=\"token number\">2</span>\n    <span class=\"token keyword\">return</span> list2\nlist2 <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span><span class=\"token number\">2</span><span class=\"token punctuation\">,</span><span class=\"token number\">3</span><span class=\"token punctuation\">,</span><span class=\"token number\">4</span><span class=\"token punctuation\">,</span><span class=\"token number\">5</span><span class=\"token punctuation\">]</span>\ntwo_list<span class=\"token punctuation\">(</span>list2<span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>list2<span class=\"token punctuation\">)</span>\n\nresult <span class=\"token operator\">=</span> two_list<span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span><span class=\"token number\">11</span><span class=\"token punctuation\">,</span><span class=\"token number\">22</span><span class=\"token punctuation\">,</span><span class=\"token number\">33</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>result<span class=\"token punctuation\">)</span>\n</code></pre>\n<p>——练习：写一个函数，获取指定元素对应的下标</p>\n<pre class=\" language-python\"><code class=\"language-python\"><span class=\"token keyword\">def</span> <span class=\"token function\">indexs</span><span class=\"token punctuation\">(</span>list3<span class=\"token punctuation\">:</span>list<span class=\"token punctuation\">,</span>item<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    index_list <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span>\n    <span class=\"token keyword\">for</span> index <span class=\"token keyword\">in</span> range<span class=\"token punctuation\">(</span>len<span class=\"token punctuation\">(</span>list3<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n        <span class=\"token keyword\">if</span> list3<span class=\"token punctuation\">[</span>index<span class=\"token punctuation\">]</span> <span class=\"token operator\">==</span> item<span class=\"token punctuation\">:</span>\n            index_list<span class=\"token punctuation\">.</span>append<span class=\"token punctuation\">(</span>index<span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">return</span> index_list\nindexs<span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span><span class=\"token number\">2</span><span class=\"token punctuation\">,</span><span class=\"token number\">3</span><span class=\"token punctuation\">,</span><span class=\"token number\">4</span><span class=\"token punctuation\">,</span><span class=\"token number\">5</span><span class=\"token punctuation\">,</span><span class=\"token number\">6</span><span class=\"token punctuation\">,</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span>\nall_index <span class=\"token operator\">=</span> indexs<span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span><span class=\"token number\">2</span><span class=\"token punctuation\">,</span><span class=\"token number\">3</span><span class=\"token punctuation\">,</span><span class=\"token number\">4</span><span class=\"token punctuation\">,</span><span class=\"token number\">5</span><span class=\"token punctuation\">,</span><span class=\"token number\">6</span><span class=\"token punctuation\">,</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>all_index<span class=\"token punctuation\">)</span>\n</code></pre>\n<ul>\n<li><p>补充：判断一个值是否是指定类型</p>\n<pre class=\" language-python\"><code class=\"language-python\">isinstance（值，类型）\n<span class=\"token keyword\">print</span>（isinstance<span class=\"token punctuation\">(</span><span class=\"token number\">10</span><span class=\"token punctuation\">,</span>int<span class=\"token punctuation\">)</span>）\n</code></pre>\n</li>\n</ul>\n<h4 id=\"六、匿名函数\"><a href=\"#六、匿名函数\" class=\"headerlink\" title=\"六、匿名函数\"></a>六、匿名函数</h4><p>&emsp;&emsp;匿名函数本质还是函数，之前函数所有的内容都适用于它<br>&emsp;1.匿名函数的声明<br>函数名=lambda   参数列表：返回值<br>&emsp;2.说明<br>函数名 = 变量名</p>\n<ul>\n<li>lambda:声明匿名函数的关键字</li>\n<li>参数列表：参数名1，参数名2，参数名3….</li>\n<li>冒号：固定写法</li>\n<li>返回值：表达式，表达式的值就是返回值</li>\n</ul>\n<p>&emsp;3.调用<br>匿名函数的调用和普通函数一样<br>函数名（实参列表）</p>\n<h5 id=\"写一个匿名函数，计算两个数的和\"><a href=\"#写一个匿名函数，计算两个数的和\" class=\"headerlink\" title=\"写一个匿名函数，计算两个数的和\"></a>写一个匿名函数，计算两个数的和</h5><pre class=\" language-python\"><code class=\"language-python\"><span class=\"token comment\" spellcheck=\"true\"># 声明一个匿名函数</span>\nmy_sum <span class=\"token operator\">=</span> <span class=\"token keyword\">lambda</span> x<span class=\"token punctuation\">,</span>y<span class=\"token punctuation\">:</span> x <span class=\"token operator\">+</span> y\n<span class=\"token comment\" spellcheck=\"true\"># 匿名函数</span>\nresult <span class=\"token operator\">=</span> my_sum<span class=\"token punctuation\">(</span><span class=\"token number\">10</span><span class=\"token punctuation\">,</span><span class=\"token number\">20</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>result<span class=\"token punctuation\">)</span>\n</code></pre>\n<h5 id=\"下面这个函数和my-sum-lambda-x-y-x-y等价的\"><a href=\"#下面这个函数和my-sum-lambda-x-y-x-y等价的\" class=\"headerlink\" title=\"下面这个函数和my_sum = lambda x,y: x + y等价的\"></a>下面这个函数和my_sum = lambda x,y: x + y等价的</h5><pre class=\" language-python\"><code class=\"language-python\"><span class=\"token keyword\">def</span> <span class=\"token function\">my_sum</span><span class=\"token punctuation\">(</span>x<span class=\"token punctuation\">,</span>y<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    result <span class=\"token operator\">=</span> x<span class=\"token operator\">+</span> y\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>result<span class=\"token punctuation\">)</span>\n</code></pre>\n<h5 id=\"练习：写一个匿名函数，获取指定数字列表指定下标的值的1-2\"><a href=\"#练习：写一个匿名函数，获取指定数字列表指定下标的值的1-2\" class=\"headerlink\" title=\"练习：写一个匿名函数，获取指定数字列表指定下标的值的1/2\"></a>练习：写一个匿名函数，获取指定数字列表指定下标的值的1/2</h5><h6 id=\"匿名函数的参数可以设默认值\"><a href=\"#匿名函数的参数可以设默认值\" class=\"headerlink\" title=\"匿名函数的参数可以设默认值\"></a>匿名函数的参数可以设默认值</h6><pre class=\" language-python\"><code class=\"language-python\">figure <span class=\"token operator\">=</span> <span class=\"token keyword\">lambda</span> list1<span class=\"token punctuation\">,</span>index1<span class=\"token operator\">=</span><span class=\"token number\">0</span><span class=\"token punctuation\">:</span>list1<span class=\"token punctuation\">[</span>index1<span class=\"token punctuation\">]</span><span class=\"token operator\">/</span><span class=\"token number\">2</span>\n</code></pre>\n<h5 id=\"位置参数\"><a href=\"#位置参数\" class=\"headerlink\" title=\"位置参数\"></a>位置参数</h5><pre class=\" language-python\"><code class=\"language-python\"><span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>figure<span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span><span class=\"token number\">2</span><span class=\"token punctuation\">,</span><span class=\"token number\">3</span><span class=\"token punctuation\">,</span><span class=\"token number\">4</span><span class=\"token punctuation\">,</span><span class=\"token number\">5</span><span class=\"token punctuation\">,</span><span class=\"token number\">6</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span><span class=\"token number\">3</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>figure<span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span><span class=\"token number\">2</span><span class=\"token punctuation\">,</span><span class=\"token number\">3</span><span class=\"token punctuation\">,</span><span class=\"token number\">4</span><span class=\"token punctuation\">,</span><span class=\"token number\">5</span><span class=\"token punctuation\">,</span><span class=\"token number\">6</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>figure<span class=\"token punctuation\">(</span>list1 <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span><span class=\"token number\">2</span><span class=\"token punctuation\">,</span><span class=\"token number\">3</span><span class=\"token punctuation\">,</span><span class=\"token number\">4</span><span class=\"token punctuation\">,</span><span class=\"token number\">5</span><span class=\"token punctuation\">,</span><span class=\"token number\">6</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>index1<span class=\"token operator\">=</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n<span class=\"token comment\" spellcheck=\"true\"># result = list1[index]</span>\n</code></pre>\n<h6 id=\"获取一个列表的所有元素的和和平均值\"><a href=\"#获取一个列表的所有元素的和和平均值\" class=\"headerlink\" title=\"获取一个列表的所有元素的和和平均值\"></a>获取一个列表的所有元素的和和平均值</h6><pre class=\" language-python\"><code class=\"language-python\">list_operation <span class=\"token operator\">=</span> <span class=\"token keyword\">lambda</span> list2<span class=\"token punctuation\">:</span><span class=\"token punctuation\">(</span>sum<span class=\"token punctuation\">(</span>list2<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>sum<span class=\"token punctuation\">(</span>list2<span class=\"token punctuation\">)</span><span class=\"token operator\">/</span>len<span class=\"token punctuation\">(</span>list2<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n\nsum1<span class=\"token punctuation\">,</span>average <span class=\"token operator\">=</span> list_operation<span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span><span class=\"token number\">2</span><span class=\"token punctuation\">,</span><span class=\"token number\">3</span><span class=\"token punctuation\">,</span><span class=\"token number\">4</span><span class=\"token punctuation\">,</span><span class=\"token number\">5</span><span class=\"token punctuation\">,</span><span class=\"token number\">6</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>sum1<span class=\"token punctuation\">,</span>average<span class=\"token punctuation\">)</span>\n</code></pre>\n<ul>\n<li>补充：Python中的函数可以有多个返回值，就是在return返回多个值，多个值之间用逗号隔开<br><code>`</code>python<br>def list_operation2(list2):<br>  return sum(list2),sum(list2)/len(list2)          # 最终是多个返回值放到一个元组中返回<br>print(list_operation([1,2,3,4,5,6]))</li>\n</ul>\n<p>变量名 = lamdba 参数列表：返回值 function</p>\n<pre><code>#### 七、变量的作用域\n- 1.函数的调用过程是一个压栈的过程：\n  每次调用一个函数，系统就会在内存区域中的栈区间，保存函数调用过程中产生的数据。\n  当函数调用完成后，对应的栈区间会自动销毁\n  函数调用时产生的栈区间中保存的数据：形参、在函数中声明的变量\n\n```python\ndef func1(a,b):\n    &#39;&#39;&#39;\n    赋值\n    :param a: 20\n    :param b: 30\n    :return: 20，30，100\n    &#39;&#39;&#39;\n    # 调用完后会被销毁\n    c = 100\n    print(a,b,c)\n\nfunc1(20,30)\n</code></pre><ul>\n<li><p>2.什么是作用域：<br>指的是一个变量能够使用的范围</p>\n</li>\n<li><p>3.全局变量和局部变量<br>a.全局变量：声明在函数和类的外面的变量都是全局变量<br>全局变量的作用域：从声明开始到文件结束（任何地方都可以使用）</p>\n</li>\n</ul>\n<pre class=\" language-python\"><code class=\"language-python\">a <span class=\"token operator\">=</span> <span class=\"token number\">100</span>       <span class=\"token comment\" spellcheck=\"true\"># 全局变量</span>\n<span class=\"token keyword\">if</span> a <span class=\"token operator\">></span> <span class=\"token number\">10</span><span class=\"token punctuation\">:</span>\n    b <span class=\"token operator\">=</span> <span class=\"token number\">20</span>   <span class=\"token comment\" spellcheck=\"true\">#  全局变量</span>\n<span class=\"token comment\" spellcheck=\"true\"># x 也是全局变量</span>\n<span class=\"token keyword\">for</span> x <span class=\"token keyword\">in</span> range<span class=\"token punctuation\">(</span><span class=\"token number\">10</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>x<span class=\"token punctuation\">)</span>\n</code></pre>\n<p>&emsp;b.局部变量：声明在函数中或者类中的变量就是局部变量<br>局部变量的作用域：从声明开始到函数结束或者是从声明开始到类结束</p>\n<ul>\n<li>注意：函数的参数是声明在函数中的局部变量<br><code>`</code>python<br>def func3(x1,y1):<br>  z = ‘abc’<br>  print(x1,y1,z)</li>\n</ul>\n<p>func3(‘a’,’b’)<br>—— 局部变量只能在声明的那个函数中使用，不能在函数外面使用</p>\n<h1 id=\"print-z-NameError-name-‘z’-is-not-defined\"><a href=\"#print-z-NameError-name-‘z’-is-not-defined\" class=\"headerlink\" title=\"print(z)          NameError: name ‘z’ is not defined\"></a>print(z)          NameError: name ‘z’ is not defined</h1><p>c.global关键字：是在函数中声明一个全局变量<br>nonlocal  不声明局部变量<br>num1 = 1   # 全局变量<br>def func4():</p>\n<pre><code># 局部变量\nnum1 = 200\nprint(num1)   # 如果全局变量和局部变量的同名，那局部变量的作用域内是使用的局部变量的值\n# 想要在局部变量区域内修改全局变量的值\nglobal num2        # 说明从这句开始后面num2都是全局变量\nglobal num3        # 直接在局部区域声明一个全局变量\nanum3 = &#39;aaa&#39;\n\nnum2 = 199\nprint(num2)\n</code></pre><p>func4()<br>print(num1)</p>\n<p>def func5():</p>\n<pre><code># 局部变量\nnn = 10\nprint(&#39;func5&#39;,nn )\n# 函数中可以声明函数\ndef func6 ():\n    nonlocal nn  # 在局部的局部中修改局部变量的值\n    nn = 20\n    print(&#39;func6&#39;,nn)\nfunc6()\n\nprint(&#39;func5&#39;,nn)\n</code></pre><p>func5()</p>\n<p>def func():<br>    a = []<br>    for i in range(5):<br>        a.append(lambda x:x*i)<br>    return a<br>aa = func()<br>print(aa<a href=\"2\">0</a>,aa<a href=\"2\">2</a>,aa<a href=\"2\">3</a>)</p>\n<pre><code>#### 八、递归函数\n- 1.什么是递归函数？\n  就是在函数的函数体中调用函数本身，这样的函数就是递归函数\n\n- 2.递归的特点\n  while循环能做的事情，递归都可以做\n\n```python\n# 这儿的func1就是递归函数\ndef func1():\n    print(&#39;aaa&#39;)\n    func1()\n\n# func1()\n</code></pre><ul>\n<li>3.怎么写递归函数<br>第一步：找临界值（找到让循环结束的值/找到能够确定函数结果的值）<br>第二步：假设函数的功能已经实现的前提下，找关系（找f(n)和f(n-1)/当次循环和上次循环的关系）<br>第三步：根据f(n)和f(n-1）的关系，来f(n-1)实现f(n)的效果</li>\n</ul>\n<pre class=\" language-python\"><code class=\"language-python\"><span class=\"token comment\" spellcheck=\"true\"># 1+2+3+4+...+100</span>\nsum1 <span class=\"token operator\">=</span> <span class=\"token number\">0</span>\n<span class=\"token keyword\">for</span> x <span class=\"token keyword\">in</span> range<span class=\"token punctuation\">(</span><span class=\"token number\">101</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    sum1 <span class=\"token operator\">+=</span> x\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>sum1<span class=\"token punctuation\">)</span>\n<span class=\"token comment\" spellcheck=\"true\"># 用递归实现1+2+3+。。。+n</span>\n<span class=\"token keyword\">def</span> <span class=\"token function\">sum2</span><span class=\"token punctuation\">(</span>n<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    <span class=\"token comment\" spellcheck=\"true\"># 1.找临界值（在临界值的位置一定要让函数结束）</span>\n    <span class=\"token keyword\">if</span> n <span class=\"token operator\">==</span> <span class=\"token number\">1</span><span class=\"token punctuation\">:</span>\n        <span class=\"token keyword\">return</span> <span class=\"token number\">1</span>\n    <span class=\"token comment\" spellcheck=\"true\"># 找关系f(n)和f(n-1)</span>\n    <span class=\"token comment\" spellcheck=\"true\"># sum2(n):sum2(n-1)+n</span>\n    <span class=\"token comment\" spellcheck=\"true\"># 3.使用f(n-1)实现f(n)的效果</span>\n    <span class=\"token keyword\">return</span> sum2<span class=\"token punctuation\">(</span>n<span class=\"token number\">-1</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">+</span> n\n\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>sum2<span class=\"token punctuation\">(</span><span class=\"token number\">5</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n</code></pre>\n<p>过程：</p>\n<pre><code>sum2(5) n = 5   return  sum2(4) + 5       0+1+2+3+4+5\nsum2(4) n = 4   return  sum2(3) + 4       0+1+2+3+4\nsum2(3) n = 3   return  sum2(2) + 3       0+1+2+3\nsum2(2) n = 2   return  sum2(1) + 2       0+1+2\nsum2(1) n = 1   return  sum2(0) + 1       0+1\nsum2(0) n = 0   return  0\n</code></pre><ul>\n<li>练习：使用递归计算1，1，2，3，5，8，。。。<br><code>`</code>python<br>def number(n):<h1 id=\"临界值\"><a href=\"#临界值\" class=\"headerlink\" title=\"临界值\"></a>临界值</h1>  if n == 1 or n == 2:<pre><code>  return 1\n</code></pre><h1 id=\"循环规律\"><a href=\"#循环规律\" class=\"headerlink\" title=\"循环规律\"></a>循环规律</h1>  return number(n-2) + number(n-1)</li>\n</ul>\n<p>print(number(6))</p>\n<pre><code>```python\n+  练习：\n&#39;&#39;&#39;\nn = 3\n***\n**\n*\n\nn = 5\n*****\n****\n***\n**\n*\n&#39;&#39;&#39;\ndef star(n):\n    if n == 1:\n        print(&#39;*&#39;)\n        return\n    print(&#39;*&#39;*n)\n    star(n-1)\n\nstar(5)\n</code></pre><ul>\n<li>4.实际开发中，递归是能不用就不要用，递归消耗大量资源是循环的n倍<br>递归需要不断调用函数，开辟空间，消耗内存</li>\n</ul>\n<h4 id=\"九、模块和包的使用\"><a href=\"#九、模块和包的使用\" class=\"headerlink\" title=\"九、模块和包的使用\"></a>九、模块和包的使用</h4><p>封装：<br>1.函数：对实现某一特定功能的代码段的封装<br>2.模块：将多个变量、函数和类进行封装<br>模块：一个py文件就是一个模块</p>\n<pre class=\" language-python\"><code class=\"language-python\"><span class=\"token keyword\">def</span> <span class=\"token function\">multiply</span><span class=\"token punctuation\">(</span><span class=\"token operator\">*</span>numbers<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    sum1 <span class=\"token operator\">=</span> <span class=\"token number\">1</span>\n    <span class=\"token comment\" spellcheck=\"true\"># 取出numbers中的每一个元素</span>\n    <span class=\"token keyword\">for</span> item <span class=\"token keyword\">in</span> numbers<span class=\"token punctuation\">:</span>\n        sum1 <span class=\"token operator\">*=</span> item\n    <span class=\"token keyword\">return</span> sum1\n\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>multiply<span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span><span class=\"token number\">2</span><span class=\"token punctuation\">,</span><span class=\"token number\">5</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n</code></pre>\n<p>1.怎么使用其他模块中的内容<br>a.import 模块<br>b.from 模块 import 模块中的内容<br>可以直接使用模块中的内容<br>c.from 模块 import * —-&gt;将模块中的所有的内容都导入</p>\n<h5 id=\"my-list\"><a href=\"#my-list\" class=\"headerlink\" title=\"my_list\"></a>my_list</h5><pre class=\" language-python\"><code class=\"language-python\">empty <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span>\n\n<span class=\"token keyword\">def</span> <span class=\"token function\">count</span><span class=\"token punctuation\">(</span>list1<span class=\"token punctuation\">,</span>item<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    <span class=\"token triple-quoted-string string\">'''\n    统计指定列表中指定元素的个数\n    :param list1: 指定的列表\n    :param item: 指定元素\n    :return: 个数\n    '''</span>\n    count <span class=\"token operator\">=</span> <span class=\"token number\">0</span>\n    <span class=\"token keyword\">for</span> x <span class=\"token keyword\">in</span> list1<span class=\"token punctuation\">:</span>\n        <span class=\"token keyword\">if</span> x <span class=\"token operator\">==</span> item<span class=\"token punctuation\">:</span>\n            count <span class=\"token operator\">+=</span> <span class=\"token number\">1</span>\n    <span class=\"token keyword\">return</span> count\n</code></pre>\n<h5 id=\"my-model\"><a href=\"#my-model\" class=\"headerlink\" title=\"my_model\"></a>my_model</h5><pre class=\" language-python\"><code class=\"language-python\">a <span class=\"token operator\">=</span> <span class=\"token number\">10</span>\n\n<span class=\"token keyword\">def</span> <span class=\"token function\">func1</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string\">'good!'</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token keyword\">for</span> x <span class=\"token keyword\">in</span> range<span class=\"token punctuation\">(</span><span class=\"token number\">10</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string\">'!!'</span><span class=\"token punctuation\">,</span>a<span class=\"token punctuation\">)</span>\n<span class=\"token comment\" spellcheck=\"true\"># 将不希望被别的模块导入（执行）的代码放到模块的这个if语句中</span>\n<span class=\"token keyword\">if</span> __name__<span class=\"token operator\">==</span><span class=\"token string\">'__main__'</span><span class=\"token punctuation\">:</span>\n    <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string\">'!!'</span><span class=\"token punctuation\">,</span>a<span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">for</span> x <span class=\"token keyword\">in</span> range<span class=\"token punctuation\">(</span><span class=\"token number\">10</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n        <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string\">'!!'</span><span class=\"token punctuation\">,</span>x<span class=\"token punctuation\">)</span>\n\n</code></pre>\n<pre class=\" language-python\"><code class=\"language-python\">a<span class=\"token punctuation\">.</span>\n<span class=\"token comment\" spellcheck=\"true\"># # 导入系统模块</span>\n<span class=\"token comment\" spellcheck=\"true\"># import math</span>\n<span class=\"token comment\" spellcheck=\"true\"># print(math.pi)</span>\n<span class=\"token comment\" spellcheck=\"true\"># #导入自定模块my_list</span>\n<span class=\"token comment\" spellcheck=\"true\"># import my_list</span>\n<span class=\"token comment\" spellcheck=\"true\"># print(my_list.empty)</span>\n<span class=\"token comment\" spellcheck=\"true\"># number = my_list.count([1, 2, 3, 4, 1, 1, 5],1)</span>\n<span class=\"token comment\" spellcheck=\"true\"># print(number)</span>\n<span class=\"token comment\" spellcheck=\"true\"># b.</span>\n<span class=\"token keyword\">from</span> my_list <span class=\"token keyword\">import</span> count\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>count<span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span><span class=\"token number\">23</span><span class=\"token punctuation\">,</span><span class=\"token number\">12</span><span class=\"token punctuation\">,</span><span class=\"token number\">42</span><span class=\"token punctuation\">,</span><span class=\"token number\">52</span><span class=\"token punctuation\">,</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span><span class=\"token number\">5</span><span class=\"token punctuation\">,</span><span class=\"token number\">2</span><span class=\"token punctuation\">,</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span><span class=\"token number\">12</span><span class=\"token punctuation\">,</span><span class=\"token number\">12</span><span class=\"token punctuation\">,</span><span class=\"token number\">12</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span><span class=\"token number\">12</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token comment\" spellcheck=\"true\"># c.</span>\n<span class=\"token keyword\">from</span> math <span class=\"token keyword\">import</span> <span class=\"token operator\">*</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>pi<span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>sqrt<span class=\"token punctuation\">(</span><span class=\"token number\">4</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n\n</code></pre>\n<p>2.重命名<br>import 模块 as 新名字<br>from 模块 import 内容 as 新名字</p>\n<pre class=\" language-python\"><code class=\"language-python\"><span class=\"token keyword\">import</span> random <span class=\"token keyword\">as</span> RAN\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>RAN<span class=\"token punctuation\">.</span>randint<span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span><span class=\"token number\">10</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">from</span> datetime <span class=\"token keyword\">import</span> date <span class=\"token keyword\">as</span> Date<span class=\"token punctuation\">,</span>datetime <span class=\"token keyword\">as</span> TIME\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>Date<span class=\"token punctuation\">.</span>today<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>TIME<span class=\"token punctuation\">.</span>now<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n</code></pre>\n<p>&emsp;&emsp;每一个模块都有一个<strong>name</strong>属性，这个属性的默认就是当前模块的文件名。<br>&emsp;&emsp;当前模块正在被执行（直接在当前这个模块中点了run）的时候，<strong>name</strong>属性的值就是’<strong>main</strong>‘</p>\n<p>&emsp;&emsp;在一个模块中，将不希望被其他模块导入的代码写在if <strong>name</strong> ‘<strong>main</strong>‘中，希望被导入的放到这个if外面</p>\n<p>建议：函数的声明，类的声明一般写在if的外面，其他的写在if里面。（想要被外部使用的全局变量也可以写在外面）</p>\n<pre class=\" language-python\"><code class=\"language-python\"><span class=\"token keyword\">import</span> my_model\n<span class=\"token comment\" spellcheck=\"true\"># from my_model import func1</span>\n<span class=\"token comment\" spellcheck=\"true\"># print(func1())</span>\n\n</code></pre>\n<h4 id=\"十、函数作为变量\"><a href=\"#十、函数作为变量\" class=\"headerlink\" title=\"十、函数作为变量\"></a>十、函数作为变量</h4><h6 id=\"1-在python中，函数就是一种特殊的类型，声明函数的时候，其实就是在声明类型是function的变量\"><a href=\"#1-在python中，函数就是一种特殊的类型，声明函数的时候，其实就是在声明类型是function的变量\" class=\"headerlink\" title=\"1.在python中，函数就是一种特殊的类型，声明函数的时候，其实就是在声明类型是function的变量\"></a>1.在python中，函数就是一种特殊的类型，声明函数的时候，其实就是在声明类型是function的变量</h6><p>变量能做的事情，函数都可以做</p>\n<pre class=\" language-python\"><code class=\"language-python\"><span class=\"token keyword\">if</span> __name__ <span class=\"token operator\">==</span> <span class=\"token string\">'__main__'</span><span class=\"token punctuation\">:</span>\n    <span class=\"token comment\" spellcheck=\"true\"># 1.使用一个变量给另一个变量赋值</span>\n    a <span class=\"token operator\">=</span> <span class=\"token number\">10</span>\n    b <span class=\"token operator\">=</span> a\n    <span class=\"token comment\" spellcheck=\"true\"># 声明一个函数func1(声明了一个变量func1，func1就是一个变量）</span>\n    <span class=\"token keyword\">def</span> <span class=\"token function\">func1</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n        <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string\">'hello python'</span><span class=\"token punctuation\">)</span>\n\n    <span class=\"token comment\" spellcheck=\"true\"># c也是一个函数</span>\n    c <span class=\"token operator\">=</span> func1\n    func1<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    c<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n</code></pre>\n<h6 id=\"2-函数作为列表的元素\"><a href=\"#2-函数作为列表的元素\" class=\"headerlink\" title=\"2.函数作为列表的元素\"></a>2.函数作为列表的元素</h6><pre class=\" language-python\"><code class=\"language-python\">    list2 <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span>\n    list3 <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span>\n    <span class=\"token keyword\">for</span> x <span class=\"token keyword\">in</span> range <span class=\"token punctuation\">(</span><span class=\"token number\">10</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n        <span class=\"token keyword\">def</span> <span class=\"token function\">func2</span><span class=\"token punctuation\">(</span>y<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n            <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>x <span class=\"token operator\">+</span> y<span class=\"token punctuation\">)</span>\n        list2<span class=\"token punctuation\">.</span>append<span class=\"token punctuation\">(</span>func2<span class=\"token punctuation\">)</span>\n        list3<span class=\"token punctuation\">.</span>append<span class=\"token punctuation\">(</span>func2<span class=\"token punctuation\">(</span>x<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n\n    <span class=\"token comment\" spellcheck=\"true\"># list2中每个元素的值都是函数</span>\n    <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>list2<span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>list3<span class=\"token punctuation\">)</span>\n    <span class=\"token comment\" spellcheck=\"true\"># list2[0]就是一个函数</span>\n    list2<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span>\n    func <span class=\"token operator\">=</span> list2<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span>\n    <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>func<span class=\"token punctuation\">(</span><span class=\"token number\">100</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n\n    list2<span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">(</span><span class=\"token number\">10</span><span class=\"token punctuation\">)</span>\n\n    <span class=\"token comment\" spellcheck=\"true\"># 直接将函数作为列表的元素</span>\n    funcs <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span>func1<span class=\"token punctuation\">]</span>\n    funcs<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n</code></pre>\n<h6 id=\"3-将函数作为字典的值\"><a href=\"#3-将函数作为字典的值\" class=\"headerlink\" title=\"3.将函数作为字典的值\"></a>3.将函数作为字典的值</h6><pre class=\" language-python\"><code class=\"language-python\">    <span class=\"token keyword\">def</span> <span class=\"token function\">sub</span><span class=\"token punctuation\">(</span><span class=\"token operator\">*</span>nums<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n        <span class=\"token triple-quoted-string string\">'''\n        累计求差\n        :param nums: 求差的数\n        :return: 差\n        '''</span>\n        <span class=\"token keyword\">if</span> <span class=\"token operator\">not</span> nums<span class=\"token punctuation\">:</span>\n            <span class=\"token keyword\">return</span> <span class=\"token number\">0</span>\n        <span class=\"token comment\" spellcheck=\"true\"># 默认是第一个数</span>\n        sum1 <span class=\"token operator\">=</span> nums<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span>\n        <span class=\"token keyword\">for</span> item <span class=\"token keyword\">in</span> nums<span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">:</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">:</span>\n            sum1 <span class=\"token operator\">-=</span> item\n        <span class=\"token keyword\">return</span> sum1\n    operation <span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token string\">'+'</span><span class=\"token punctuation\">:</span><span class=\"token keyword\">lambda</span> x<span class=\"token punctuation\">,</span>y<span class=\"token punctuation\">:</span>x<span class=\"token operator\">+</span>y<span class=\"token punctuation\">,</span><span class=\"token string\">'-'</span><span class=\"token punctuation\">:</span><span class=\"token keyword\">lambda</span> x<span class=\"token punctuation\">,</span>y<span class=\"token punctuation\">:</span>x<span class=\"token operator\">-</span>y<span class=\"token punctuation\">,</span><span class=\"token string\">'*'</span><span class=\"token punctuation\">:</span><span class=\"token keyword\">lambda</span> x<span class=\"token punctuation\">,</span>y<span class=\"token punctuation\">:</span>x<span class=\"token operator\">*</span>y<span class=\"token punctuation\">}</span>\n    result <span class=\"token operator\">=</span> operation<span class=\"token punctuation\">[</span><span class=\"token string\">'*'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">(</span><span class=\"token number\">10</span><span class=\"token punctuation\">,</span><span class=\"token number\">20</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>result<span class=\"token punctuation\">)</span>\n</code></pre>\n<h6 id=\"4-函数作为函数的参数（回调函数）\"><a href=\"#4-函数作为函数的参数（回调函数）\" class=\"headerlink\" title=\"4.函数作为函数的参数（回调函数）\"></a>4.函数作为函数的参数（回调函数）</h6><pre class=\" language-python\"><code class=\"language-python\">    <span class=\"token keyword\">def</span> <span class=\"token function\">clean_kitchen</span><span class=\"token punctuation\">(</span>time<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n        <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string\">'在%s,打扫厨房'</span> <span class=\"token operator\">%</span> time<span class=\"token punctuation\">)</span>\n        <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string\">'收费200元'</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">def</span> <span class=\"token function\">clean_floor</span><span class=\"token punctuation\">(</span>time<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n        <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string\">'在%s,清洁地板'</span> <span class=\"token operator\">%</span> time<span class=\"token punctuation\">)</span>\n        <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string\">'收费100元'</span><span class=\"token punctuation\">)</span>\n    <span class=\"token comment\" spellcheck=\"true\"># 在指定的时间，叫指定的服务</span>\n    <span class=\"token keyword\">def</span> <span class=\"token function\">call_service</span><span class=\"token punctuation\">(</span>time<span class=\"token punctuation\">,</span>service<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n        service<span class=\"token punctuation\">(</span>time<span class=\"token punctuation\">)</span>\n    <span class=\"token comment\" spellcheck=\"true\"># 将函数作为参数，传给其他函数使用</span>\n    call_service<span class=\"token punctuation\">(</span><span class=\"token string\">'上午10点'</span><span class=\"token punctuation\">,</span>clean_kitchen<span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string\">'==============='</span><span class=\"token punctuation\">)</span>\n    <span class=\"token comment\" spellcheck=\"true\"># 函数作为函数的返回值</span>\n    <span class=\"token keyword\">def</span> <span class=\"token function\">operation</span><span class=\"token punctuation\">(</span>operator<span class=\"token punctuation\">:</span>str<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n        <span class=\"token keyword\">if</span> operator <span class=\"token operator\">==</span> <span class=\"token string\">'+'</span><span class=\"token punctuation\">:</span>\n            <span class=\"token keyword\">def</span> my_sum <span class=\"token punctuation\">(</span><span class=\"token operator\">*</span>nums<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n                sum1 <span class=\"token operator\">=</span> <span class=\"token number\">0</span>\n                <span class=\"token keyword\">for</span> num <span class=\"token keyword\">in</span> nums<span class=\"token punctuation\">:</span>\n                    sum <span class=\"token operator\">+=</span> num\n            <span class=\"token comment\" spellcheck=\"true\"># 将求和的函数返回</span>\n            <span class=\"token keyword\">return</span> my_sum<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n        <span class=\"token keyword\">elif</span> operator <span class=\"token operator\">==</span> <span class=\"token string\">'*'</span><span class=\"token punctuation\">:</span>\n            <span class=\"token keyword\">def</span> <span class=\"token function\">my_sum</span><span class=\"token punctuation\">(</span><span class=\"token operator\">*</span>nums<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n                sum1 <span class=\"token operator\">=</span> <span class=\"token number\">1</span>\n                <span class=\"token keyword\">for</span> num <span class=\"token keyword\">in</span> nums<span class=\"token punctuation\">:</span>\n                    sum1 <span class=\"token operator\">*=</span> num\n                <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>sum1<span class=\"token punctuation\">)</span>\n            <span class=\"token comment\" spellcheck=\"true\"># 将求乘的函数返回</span>\n            <span class=\"token keyword\">return</span> my_sum\n    <span class=\"token comment\" spellcheck=\"true\"># operation('*')的结果是函数</span>\n    operation<span class=\"token punctuation\">(</span><span class=\"token string\">'*'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span><span class=\"token number\">2</span><span class=\"token punctuation\">,</span><span class=\"token number\">3</span><span class=\"token punctuation\">)</span>\n</code></pre>\n<h4 id=\"十一、生成器和生成式\"><a href=\"#十一、生成器和生成式\" class=\"headerlink\" title=\"十一、生成器和生成式\"></a>十一、生成器和生成式</h4><p>可以把迭代器看成一种容器，类似列表。生成器就是来生成迭代器</p>\n<h6 id=\"1-生成式—–产生一个迭代器的表达方式\"><a href=\"#1-生成式—–产生一个迭代器的表达方式\" class=\"headerlink\" title=\"1.生成式—–产生一个迭代器的表达方式\"></a>1.生成式—–产生一个迭代器的表达方式</h6><p>a.是生成器，能够保存生成0-9中所有数字的算法</p>\n<pre class=\" language-python\"><code class=\"language-python\">a <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span>x <span class=\"token keyword\">for</span> x <span class=\"token keyword\">in</span> range <span class=\"token punctuation\">(</span><span class=\"token number\">10</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>a<span class=\"token punctuation\">,</span>type<span class=\"token punctuation\">(</span>a<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n    a <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span>x<span class=\"token operator\">*</span><span class=\"token number\">2</span> <span class=\"token keyword\">for</span> x <span class=\"token keyword\">in</span> range<span class=\"token punctuation\">(</span><span class=\"token number\">10</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n    a <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span>char <span class=\"token keyword\">for</span> char <span class=\"token keyword\">in</span> <span class=\"token string\">'a1b0cd1'</span> <span class=\"token keyword\">if</span> <span class=\"token string\">'0'</span> <span class=\"token operator\">&lt;=</span> char <span class=\"token operator\">&lt;=</span> <span class=\"token string\">'9'</span><span class=\"token punctuation\">)</span>\n</code></pre>\n<h6 id=\"2-生成器和迭代器都是通过next来获取里面的数据\"><a href=\"#2-生成器和迭代器都是通过next来获取里面的数据\" class=\"headerlink\" title=\"2.生成器和迭代器都是通过next来获取里面的数据\"></a>2.生成器和迭代器都是通过next来获取里面的数据</h6><pre class=\" language-python\"><code class=\"language-python\">    <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>next<span class=\"token punctuation\">(</span>a<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>next<span class=\"token punctuation\">(</span>a<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>next<span class=\"token punctuation\">(</span>a<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n</code></pre>\n<h6 id=\"3-将生成器转换成列表\"><a href=\"#3-将生成器转换成列表\" class=\"headerlink\" title=\"3.将生成器转换成列表\"></a>3.将生成器转换成列表</h6><p>通过将生成式产生的迭代器转换成了一个列表</p>\n<pre class=\" language-python\"><code class=\"language-python\">list1 <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span>x <span class=\"token keyword\">for</span> x <span class=\"token keyword\">in</span> range<span class=\"token punctuation\">(</span><span class=\"token number\">10</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">]</span>\n    <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>list1<span class=\"token punctuation\">)</span>\n</code></pre>\n<h6 id=\"4-将生成器转换成字典\"><a href=\"#4-将生成器转换成字典\" class=\"headerlink\" title=\"4.将生成器转换成字典\"></a>4.将生成器转换成字典</h6><p>注意：容器类型的元素是元组，并且元素中有且只有2个元素，才能转换成字典</p>\n<pre class=\" language-python\"><code class=\"language-python\">dict1 <span class=\"token operator\">=</span>dict<span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span>x<span class=\"token punctuation\">,</span>x<span class=\"token operator\">*</span><span class=\"token number\">2</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">for</span> x <span class=\"token keyword\">in</span> range<span class=\"token punctuation\">(</span><span class=\"token number\">10</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>dict1<span class=\"token punctuation\">)</span>\n</code></pre>\n<ul>\n<li>用一句代码转换一个字典中的key和value的值.{‘a’;1,’b’;2}<pre class=\" language-python\"><code class=\"language-python\">方法一：\n  dict2 <span class=\"token operator\">=</span> dict<span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span>value<span class=\"token punctuation\">,</span>key<span class=\"token punctuation\">)</span> <span class=\"token keyword\">for</span> key<span class=\"token punctuation\">,</span>value <span class=\"token keyword\">in</span> <span class=\"token punctuation\">{</span><span class=\"token string\">'a'</span><span class=\"token punctuation\">:</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span><span class=\"token string\">'b'</span><span class=\"token punctuation\">:</span><span class=\"token number\">2</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">.</span>items<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n  <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>dict2<span class=\"token punctuation\">)</span>\n方法二：\n  old <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span><span class=\"token string\">'a'</span><span class=\"token punctuation\">:</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span><span class=\"token string\">'b'</span><span class=\"token punctuation\">:</span><span class=\"token number\">2</span><span class=\"token punctuation\">}</span>\n  dict3 <span class=\"token operator\">=</span> dict<span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span>old<span class=\"token punctuation\">[</span>key<span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>key<span class=\"token punctuation\">)</span> <span class=\"token keyword\">for</span> key <span class=\"token keyword\">in</span> old <span class=\"token punctuation\">)</span>\n  <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>dict3<span class=\"token punctuation\">)</span>\n</code></pre>\n<h4 id=\"十二、生成器\"><a href=\"#十二、生成器\" class=\"headerlink\" title=\"十二、生成器\"></a>十二、生成器</h4><pre class=\" language-python\"><code class=\"language-python\"><span class=\"token keyword\">def</span> <span class=\"token function\">func1</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n      <span class=\"token keyword\">for</span> x <span class=\"token keyword\">in</span> range<span class=\"token punctuation\">(</span><span class=\"token number\">10</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n          <span class=\"token keyword\">return</span> x\n</code></pre>\n<pre class=\" language-python\"><code class=\"language-python\">结果：\n<span class=\"token number\">0</span> <span class=\"token operator\">&lt;</span><span class=\"token keyword\">class</span> <span class=\"token string\">'int'</span><span class=\"token operator\">></span> <span class=\"token operator\">&lt;</span> <span class=\"token keyword\">class</span> <span class=\"token string\">'function'</span> <span class=\"token operator\">></span>\n  <span class=\"token comment\" spellcheck=\"true\"># print(func1(),type(func1()),type(func1))</span>\n</code></pre>\n</li>\n<li><p>1.yield<br>只要函数中有yield关键字，那么这个函数就会变成一个生成器</p>\n<ul>\n<li>a.有yield的函数，在调用函数的时候不再是获取返回值，<br> 而是产生一个生成器对象，生成器对象中保留的是函数体</li>\n<li><p>b.当通过next获取生成器中数据的时候，才会去执行函数体，执行到yield为止，并且将yield后面的结果作为生成的数据返回。同事记录结束的 位置，下次再调用next的时候，从上次结束的位置，继续往后执行</p>\n<pre class=\" language-python\"><code class=\"language-python\"><span class=\"token keyword\">def</span> <span class=\"token function\">func2</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n  <span class=\"token keyword\">for</span> x <span class=\"token keyword\">in</span> range<span class=\"token punctuation\">(</span><span class=\"token number\">10</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n      <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string\">'asd'</span><span class=\"token punctuation\">)</span>\n      <span class=\"token keyword\">yield</span> x\n      <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string\">'aa'</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token comment\" spellcheck=\"true\"># print(func2(), type(func2()), type(func2))</span>\n<span class=\"token comment\" spellcheck=\"true\"># 注意：函数中只要有yield，不管yield会不会执行到，函数的结果都是一个生成器</span>\n<span class=\"token comment\" spellcheck=\"true\"># 这儿的func2（）是一个生成器</span>\n<span class=\"token comment\" spellcheck=\"true\"># gen = func2()</span>\n<span class=\"token comment\" spellcheck=\"true\"># print(next(gen))</span>\n<span class=\"token comment\" spellcheck=\"true\"># print(next(gen))</span>\n<span class=\"token comment\" spellcheck=\"true\"># print(next(gen))</span>\n</code></pre>\n<p>写一个生成器，可以无限产生斐波那契数列</p>\n<pre class=\" language-python\"><code class=\"language-python\"><span class=\"token keyword\">def</span> <span class=\"token function\">list3</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n  <span class=\"token keyword\">yield</span> <span class=\"token number\">1</span>\n  <span class=\"token keyword\">yield</span> <span class=\"token number\">1</span>\n  x <span class=\"token operator\">=</span> <span class=\"token number\">1</span>\n  y <span class=\"token operator\">=</span> <span class=\"token number\">1</span>\n  <span class=\"token keyword\">while</span> <span class=\"token boolean\">True</span><span class=\"token punctuation\">:</span>\n      <span class=\"token keyword\">yield</span> x <span class=\"token operator\">+</span> y\n      x<span class=\"token punctuation\">,</span>y <span class=\"token operator\">=</span> y <span class=\"token punctuation\">,</span> x <span class=\"token operator\">+</span>y\n\ngen <span class=\"token operator\">=</span> list3<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>next<span class=\"token punctuation\">(</span>gen<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>next<span class=\"token punctuation\">(</span>gen<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>next<span class=\"token punctuation\">(</span>gen<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>next<span class=\"token punctuation\">(</span>gen<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>next<span class=\"token punctuation\">(</span>gen<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>next<span class=\"token punctuation\">(</span>gen<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string\">'==============='</span><span class=\"token punctuation\">)</span>\n</code></pre>\n<p>写一个生成器，可以产生一个等差数列</p>\n<pre class=\" language-python\"><code class=\"language-python\"><span class=\"token keyword\">def</span> <span class=\"token function\">list4</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n  <span class=\"token keyword\">yield</span> <span class=\"token number\">1</span>\n  x <span class=\"token operator\">=</span> <span class=\"token number\">1</span>\n  y <span class=\"token operator\">=</span> <span class=\"token number\">2</span>\n  <span class=\"token keyword\">while</span> <span class=\"token boolean\">True</span><span class=\"token punctuation\">:</span>\n      <span class=\"token keyword\">yield</span> x <span class=\"token operator\">+</span> y\n      x<span class=\"token punctuation\">,</span>y <span class=\"token operator\">=</span> x <span class=\"token operator\">+</span> y<span class=\"token punctuation\">,</span>y\nCha <span class=\"token operator\">=</span> list4<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>next<span class=\"token punctuation\">(</span>Cha<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>next<span class=\"token punctuation\">(</span>Cha<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>next<span class=\"token punctuation\">(</span>Cha<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>next<span class=\"token punctuation\">(</span>Cha<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>next<span class=\"token punctuation\">(</span>Cha<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>next<span class=\"token punctuation\">(</span>Cha<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>next<span class=\"token punctuation\">(</span>Cha<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string\">'==============='</span><span class=\"token punctuation\">)</span>\n</code></pre>\n</li>\n</ul>\n</li>\n<li>2.生成器和生成式产生的对象就是迭代器<br>将列表转换成迭代器（iter）<pre class=\" language-python\"><code class=\"language-python\">iter1 <span class=\"token operator\">=</span> iter<span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span><span class=\"token number\">2</span><span class=\"token punctuation\">,</span><span class=\"token number\">3</span><span class=\"token punctuation\">,</span><span class=\"token number\">4</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>\n  <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>iter1<span class=\"token punctuation\">)</span>\n  <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>next<span class=\"token punctuation\">(</span>iter1<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n  <span class=\"token keyword\">for</span> item <span class=\"token keyword\">in</span> iter1<span class=\"token punctuation\">:</span>\n      <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>item<span class=\"token punctuation\">)</span>\n</code></pre>\n</li>\n</ul>\n","site":{"data":{}},"excerpt":"","more":"<h2 id=\"函数\"><a href=\"#函数\" class=\"headerlink\" title=\"函数\"></a>函数</h2><h4 id=\"一、认识函数\"><a href=\"#一、认识函数\" class=\"headerlink\" title=\"一、认识函数\"></a>一、认识函数</h4><ul>\n<li>没有函数的时候问题是什么？<br>1.同样的代码需要写多次<br>2.一个功能的需求发生改变，需要修改多个地方</li>\n<li>怎么解决以上问题？<br>使用函数：提高代码的复用度，让程序更简洁，封装<h4 id=\"二、函数的声明和调用\"><a href=\"#二、函数的声明和调用\" class=\"headerlink\" title=\"二、函数的声明和调用\"></a>二、函数的声明和调用</h4></li>\n<li><p>1.什么是函数：函数就是对实现某一特定功能的代码段封装</p>\n</li>\n<li><p>2.函数的分类：内置函数和自定义函数<br>内置函数：系统写好，可以直接使用的函数。例如：print函数、input函数、sum函数、len函数ect.<br>自定义函数：程序员自己去创建的函数</p>\n</li>\n<li><p>3.函数的声明（定义）<br>a.固定格式</p>\n<pre><code class=\"python\">def 函数名（参数列表）：\n    函数的说明文档\n    函数体\n</code></pre>\n<p>b.说明：<br>def：python中声明函数的关键字<br>函数名：标识符，不能是关键字；PEP8（所有字母小写，多个单词用下划线隔开），见名知义<br>（）：固定格式，并且必须写<br>参数列表：参数名1，参数名2，参数名3….    参数可以有多个，也可以没有。这儿的参数也叫形参，参数是用来从函数的外面，向函数里面传值用的（将数据从函数的外面传递到函数的里面）<br>函数体：实现函数功能的代码段。函数体中可能会包含return语句<br>c.初学者声明函数的过程<br>第一步：确定函数的功能<br>第二步：根据功能确定函数名<br>第三步：确定参数（确定有没有，确定有几个），看实现函数的功能，需不需要从函数外面传递数据进来。需要几个就定义几个参数<br>第四步：实现函数功能<br>第五步：确定返回值</p>\n</li>\n<li><p>4.注意：函数体只在调用的时候才会执行（特别重要）</p>\n</li>\n<li><p>5.函数调用<br>a.固定格式：函数名（实参列表）<br>b.说明：<br>函数名：你要调用哪个函数，就写对应的函数名。函数只能是先声明好的才能调用<br>实参列表：就是用来给形参赋值的<br>——写一个函数，打印两个数的和<br><code>`</code>python<br>def sum2(num1,num2):<br>  print(‘==========’)<br>  print(num1+num2)</p>\n</li>\n</ul>\n<h1 id=\"调用函数sum2\"><a href=\"#调用函数sum2\" class=\"headerlink\" title=\"调用函数sum2\"></a>调用函数sum2</h1><p>sum2(100, 11)<br>print(‘<del>~</del><del>~</del>‘)</p>\n<h1 id=\"函数可以多次调用\"><a href=\"#函数可以多次调用\" class=\"headerlink\" title=\"函数可以多次调用\"></a>函数可以多次调用</h1><p>sum2(50, 2)</p>\n<pre><code>+ 6.函数的调用过程（必须掌握）\n  a.回到函数声明的位置\n  b.使用实参给形参赋值（传参）---传参的时候一定要保证每个形参都有值\n  c.执行函数体\n  d.将返回值返回给函数调用者\n  e.回到函数调用的地方，接着往后执行\n  ——练习：写一个函数，打印一个整数的阶乘\n```python\ndef fac(number3):\n    sum = 1\n    for x in range(1,number3 + 1):\n        sum *= x\n    print(&#39;%d!是：%d&#39; % (x,sum))\n\nfac(2)\nfac(10)\n</code></pre><h4 id=\"三、函数的参数\"><a href=\"#三、函数的参数\" class=\"headerlink\" title=\"三、函数的参数\"></a>三、函数的参数</h4><ul>\n<li>参数：声明函数的时候的参数列表中的参数叫形参；调用函数的时候，参数列表中的参数叫实参</li>\n<li>传参：传参的过程就是使用实参给形参赋值的过程。一定保证每个形参都要有值</li>\n</ul>\n<p>######实参</p>\n<ul>\n<li>1.位置参数：传参的时候和形参的位置一一对应（第一个实参传给第一个形参，第二个实参传给第二个形参…)</li>\n<li>2.关键字参数：函数调用的时候通过’形参名= 实参’的形式来传参<br><code>`</code>python<br>关键字参数<br>def func1(a,b,c):<br>  print(a,b,c)</li>\n</ul>\n<p>1.位置参数<br>func1(‘abc’,10,True)<br>2.关键字参数<br>func1(b=’abc’,a=10,c=True)<br>3.关键字参数和位置参数结合<br>func1(10,20,c=30)</p>\n<pre><code>+ 3.参数的默认值\n  a.在声明函数的时候，可以给参数赋默认值（可以给全部参数赋默认值，也可以给部分参数赋默认值）\n  给部分参数赋默认值的时候，要求有默认值的参数必须放到参数列表最后\n  b.调用参数默认值的函数的时候，，没有默认值的参数必须传参，有默认值的参数可以传参也可以不传参\n```python\n 声明函数的时候每个参数都有默认值\ndef func2(a=100,b=&#39;a&#39;,c=True):\n    print(a,b,c)\n\n3.1所有的参数都不传参，全部使用默认值\nfunc2()\n\n3.2给部分参数传参\nfunc2(10)\nfunc2(b=&#39;abc&#39;)\n\n3.3参数列表中，部分参数有默认值（有默认值的参数必须放到最后）\ndef func3(a,b,c=10):\n    print(a,b,c)\n\nfunc3(100,200)\nfunc3(b=100,a=200)\n#  func3(b=100)     错误，a没有值\nfunc3(200,b=100)\n</code></pre><ul>\n<li>4.不定个数参数<br>python中通过在形参名前加<em>号，让这个形参变成元组，来让这个形参同时接受多个实参，多个包含0<br><code>`</code>python<br>写一个函数，计算多个数的和<br>def sum2(</em>nums):<br>  print(nums,type(nums))<br>  sum1=0<br>  for item in nums:<pre><code>  sum1 += item\n  print(sum1)\n</code></pre></li>\n</ul>\n<p>sum2()<br>sum2(5)<br>sum2(1,2,3,4,5,6,7,8,9,10)</p>\n<p> 写一个函数，统计指定班级中所有学生的成绩<br>def class_info(class_name,ID,*scores,):</p>\n<h1 id=\"def-class-info-class-name-ID-’ID’-scores\"><a href=\"#def-class-info-class-name-ID-’ID’-scores\" class=\"headerlink\" title=\"def class_info(class_name,ID=’ID’,*scores):\"></a>def class_info(class_name,ID=’ID’,*scores):</h1><pre><code>print(class_name,ID,scores)\n</code></pre><p>class_info(‘python1806’,95,85,95,90,75,88)<br>class_info(‘班级名’,’ID’,90,80,95,87,77)</p>\n<pre><code>+ 5.对参数的类型进行说明\n  Python不能直接约束一个变量的类型，但是可以通过说明，来提示用户调用函数的时候，参数类型\n</code></pre><p>def func4(name:str,age:int,study_id:str):<br>    print(name,age)</p>\n<pre><code># print(study_id.ljust())\n</code></pre><p>func4(‘abc’,’10’,’001’)</p>\n<pre><code>#### 五、函数的返回值\n\n```python\ndef download(ID):\n    &quot;&quot;&quot;\n    通过地址下载    （函数功能的描述）\n    :param ID:str,下载数据的地址\n    :return: None/下载到的数据\n    &quot;&quot;&quot;\n    pass\n    # 判断是否有网\n    # 如果没有网络：\n    #     return\n    # 下载数据\n    # 解析数据\n    # 存储数据\n</code></pre><ul>\n<li>1.返回值：函数的返回值就是return关键字后面的表达式的值。就是函数调用表达式的结果</li>\n<li><p>2.Python中所有的函数都有返回值，默认是None(没有return)<br>说明：<br>a.如果函数体中没有return，函数的返回值就是None<br>b.调用函数的语句就是函数调用表达式</p>\n<pre><code class=\"python\">1.没有renturn\n——写一个函数，打印&#39;hello&#39;\ndef say_hello():\n  print(&#39;hello&#39;)\n\n声明一个变量re，来保存函数调用后的结果\nsay_hello\nre = say_hello()\nprint(re)\n</code></pre>\n<p>2.return关键字（return只能写在函数体中）<br>a.确定返回值<br>b.结束函数（函数中只要遇到return，函数就直接结束）<br>c.单独的return相当于return None</p>\n</li>\n</ul>\n<pre><code class=\"python\">def func1(n):\n    print(n)\n    return  100      # return后面的函数体不执行了\n    print(&#39;=====&#39;)\n\nre = func1(10)\nprint(re)\n\n—— 练习：下面的函数的返回值是多少\ndef func2():\n    if False:\n        return 200\nprint(func2())     # None\n</code></pre>\n<ul>\n<li>注意：看一个函数的返回值是多少，不是看函数中有没有return,而是看函数执行的过程中遇没遇到return。<br>遇到了return，就是return后面的结果，没遇到就是None<pre><code class=\"python\">练习：写一个函数判断一个数是否是偶数，如果是返回True，否则返回False\ndef number(x):\n  if x % 2 ==0:\n      return True\n  else:\n      return False\n  #   return bool(number %2 == 0)\neven = number(10)\nprint(number(10))\nprint(even)\n</code></pre>\n什么时候函数需要返回值？<br>——只要实现函数功能会产生新的数据，就通过返回值将新的数据返回，进行其他操作，而不是打印<br>——练习：写一个函数，统计一个列表中浮点数的个数</li>\n</ul>\n<pre><code class=\"python\">def count_of_float(list1:list):\n    #  统计个数\n    count = 0\n    for item in list1:\n        #  判断每个元素是否是浮点数\n        if isinstance(item,float):\n            count += 1\n    return count\n\ncount = count_of_float([10.0,1,2,0.5,0.1,])\nprint(count)\nprint(&#39;这个列表中浮点数的个数是%d&#39;% (count))\n</code></pre>\n<p>——练习：将一个数字列表中所有的元素的值都变成原来的2倍</p>\n<pre><code class=\"python\">def two_list(list2:list):\n    for index in range(len(list2)):\n        list2[index] *= 2\n    return list2\nlist2 = [1,2,3,4,5]\ntwo_list(list2)\nprint(list2)\n\nresult = two_list([11,22,33])\nprint(result)\n</code></pre>\n<p>——练习：写一个函数，获取指定元素对应的下标</p>\n<pre><code class=\"python\">def indexs(list3:list,item):\n    index_list = []\n    for index in range(len(list3)):\n        if list3[index] == item:\n            index_list.append(index)\n    return index_list\nindexs([1,1,2,3,4,5,6,1],1)\nall_index = indexs([1,1,2,3,4,5,6,1],1)\nprint(all_index)\n</code></pre>\n<ul>\n<li><p>补充：判断一个值是否是指定类型</p>\n<pre><code class=\"python\">isinstance（值，类型）\nprint（isinstance(10,int)）\n</code></pre>\n</li>\n</ul>\n<h4 id=\"六、匿名函数\"><a href=\"#六、匿名函数\" class=\"headerlink\" title=\"六、匿名函数\"></a>六、匿名函数</h4><p>&emsp;&emsp;匿名函数本质还是函数，之前函数所有的内容都适用于它<br>&emsp;1.匿名函数的声明<br>函数名=lambda   参数列表：返回值<br>&emsp;2.说明<br>函数名 = 变量名</p>\n<ul>\n<li>lambda:声明匿名函数的关键字</li>\n<li>参数列表：参数名1，参数名2，参数名3….</li>\n<li>冒号：固定写法</li>\n<li>返回值：表达式，表达式的值就是返回值</li>\n</ul>\n<p>&emsp;3.调用<br>匿名函数的调用和普通函数一样<br>函数名（实参列表）</p>\n<h5 id=\"写一个匿名函数，计算两个数的和\"><a href=\"#写一个匿名函数，计算两个数的和\" class=\"headerlink\" title=\"写一个匿名函数，计算两个数的和\"></a>写一个匿名函数，计算两个数的和</h5><pre><code class=\"python\"># 声明一个匿名函数\nmy_sum = lambda x,y: x + y\n# 匿名函数\nresult = my_sum(10,20)\nprint(result)\n</code></pre>\n<h5 id=\"下面这个函数和my-sum-lambda-x-y-x-y等价的\"><a href=\"#下面这个函数和my-sum-lambda-x-y-x-y等价的\" class=\"headerlink\" title=\"下面这个函数和my_sum = lambda x,y: x + y等价的\"></a>下面这个函数和my_sum = lambda x,y: x + y等价的</h5><pre><code class=\"python\">def my_sum(x,y):\n    result = x+ y\nprint(result)\n</code></pre>\n<h5 id=\"练习：写一个匿名函数，获取指定数字列表指定下标的值的1-2\"><a href=\"#练习：写一个匿名函数，获取指定数字列表指定下标的值的1-2\" class=\"headerlink\" title=\"练习：写一个匿名函数，获取指定数字列表指定下标的值的1/2\"></a>练习：写一个匿名函数，获取指定数字列表指定下标的值的1/2</h5><h6 id=\"匿名函数的参数可以设默认值\"><a href=\"#匿名函数的参数可以设默认值\" class=\"headerlink\" title=\"匿名函数的参数可以设默认值\"></a>匿名函数的参数可以设默认值</h6><pre><code class=\"python\">figure = lambda list1,index1=0:list1[index1]/2\n</code></pre>\n<h5 id=\"位置参数\"><a href=\"#位置参数\" class=\"headerlink\" title=\"位置参数\"></a>位置参数</h5><pre><code class=\"python\">print(figure([1,2,3,4,5,6],3))\nprint(figure([1,2,3,4,5,6]))\nprint(figure(list1 = [1,2,3,4,5,6],index1=1))\n# result = list1[index]\n</code></pre>\n<h6 id=\"获取一个列表的所有元素的和和平均值\"><a href=\"#获取一个列表的所有元素的和和平均值\" class=\"headerlink\" title=\"获取一个列表的所有元素的和和平均值\"></a>获取一个列表的所有元素的和和平均值</h6><pre><code class=\"python\">list_operation = lambda list2:(sum(list2),sum(list2)/len(list2))\n\nsum1,average = list_operation([1,2,3,4,5,6])\nprint(sum1,average)\n</code></pre>\n<ul>\n<li>补充：Python中的函数可以有多个返回值，就是在return返回多个值，多个值之间用逗号隔开<br><code>`</code>python<br>def list_operation2(list2):<br>  return sum(list2),sum(list2)/len(list2)          # 最终是多个返回值放到一个元组中返回<br>print(list_operation([1,2,3,4,5,6]))</li>\n</ul>\n<p>变量名 = lamdba 参数列表：返回值 function</p>\n<pre><code>#### 七、变量的作用域\n- 1.函数的调用过程是一个压栈的过程：\n  每次调用一个函数，系统就会在内存区域中的栈区间，保存函数调用过程中产生的数据。\n  当函数调用完成后，对应的栈区间会自动销毁\n  函数调用时产生的栈区间中保存的数据：形参、在函数中声明的变量\n\n```python\ndef func1(a,b):\n    &#39;&#39;&#39;\n    赋值\n    :param a: 20\n    :param b: 30\n    :return: 20，30，100\n    &#39;&#39;&#39;\n    # 调用完后会被销毁\n    c = 100\n    print(a,b,c)\n\nfunc1(20,30)\n</code></pre><ul>\n<li><p>2.什么是作用域：<br>指的是一个变量能够使用的范围</p>\n</li>\n<li><p>3.全局变量和局部变量<br>a.全局变量：声明在函数和类的外面的变量都是全局变量<br>全局变量的作用域：从声明开始到文件结束（任何地方都可以使用）</p>\n</li>\n</ul>\n<pre><code class=\"python\">a = 100       # 全局变量\nif a &gt; 10:\n    b = 20   #  全局变量\n# x 也是全局变量\nfor x in range(10):\n    print(x)\n</code></pre>\n<p>&emsp;b.局部变量：声明在函数中或者类中的变量就是局部变量<br>局部变量的作用域：从声明开始到函数结束或者是从声明开始到类结束</p>\n<ul>\n<li>注意：函数的参数是声明在函数中的局部变量<br><code>`</code>python<br>def func3(x1,y1):<br>  z = ‘abc’<br>  print(x1,y1,z)</li>\n</ul>\n<p>func3(‘a’,’b’)<br>—— 局部变量只能在声明的那个函数中使用，不能在函数外面使用</p>\n<h1 id=\"print-z-NameError-name-‘z’-is-not-defined\"><a href=\"#print-z-NameError-name-‘z’-is-not-defined\" class=\"headerlink\" title=\"print(z)          NameError: name ‘z’ is not defined\"></a>print(z)          NameError: name ‘z’ is not defined</h1><p>c.global关键字：是在函数中声明一个全局变量<br>nonlocal  不声明局部变量<br>num1 = 1   # 全局变量<br>def func4():</p>\n<pre><code># 局部变量\nnum1 = 200\nprint(num1)   # 如果全局变量和局部变量的同名，那局部变量的作用域内是使用的局部变量的值\n# 想要在局部变量区域内修改全局变量的值\nglobal num2        # 说明从这句开始后面num2都是全局变量\nglobal num3        # 直接在局部区域声明一个全局变量\nanum3 = &#39;aaa&#39;\n\nnum2 = 199\nprint(num2)\n</code></pre><p>func4()<br>print(num1)</p>\n<p>def func5():</p>\n<pre><code># 局部变量\nnn = 10\nprint(&#39;func5&#39;,nn )\n# 函数中可以声明函数\ndef func6 ():\n    nonlocal nn  # 在局部的局部中修改局部变量的值\n    nn = 20\n    print(&#39;func6&#39;,nn)\nfunc6()\n\nprint(&#39;func5&#39;,nn)\n</code></pre><p>func5()</p>\n<p>def func():<br>    a = []<br>    for i in range(5):<br>        a.append(lambda x:x*i)<br>    return a<br>aa = func()<br>print(aa<a href=\"2\">0</a>,aa<a href=\"2\">2</a>,aa<a href=\"2\">3</a>)</p>\n<pre><code>#### 八、递归函数\n- 1.什么是递归函数？\n  就是在函数的函数体中调用函数本身，这样的函数就是递归函数\n\n- 2.递归的特点\n  while循环能做的事情，递归都可以做\n\n```python\n# 这儿的func1就是递归函数\ndef func1():\n    print(&#39;aaa&#39;)\n    func1()\n\n# func1()\n</code></pre><ul>\n<li>3.怎么写递归函数<br>第一步：找临界值（找到让循环结束的值/找到能够确定函数结果的值）<br>第二步：假设函数的功能已经实现的前提下，找关系（找f(n)和f(n-1)/当次循环和上次循环的关系）<br>第三步：根据f(n)和f(n-1）的关系，来f(n-1)实现f(n)的效果</li>\n</ul>\n<pre><code class=\"python\"># 1+2+3+4+...+100\nsum1 = 0\nfor x in range(101):\n    sum1 += x\nprint(sum1)\n# 用递归实现1+2+3+。。。+n\ndef sum2(n):\n    # 1.找临界值（在临界值的位置一定要让函数结束）\n    if n == 1:\n        return 1\n    # 找关系f(n)和f(n-1)\n    # sum2(n):sum2(n-1)+n\n    # 3.使用f(n-1)实现f(n)的效果\n    return sum2(n-1) + n\n\nprint(sum2(5))\n</code></pre>\n<p>过程：</p>\n<pre><code>sum2(5) n = 5   return  sum2(4) + 5       0+1+2+3+4+5\nsum2(4) n = 4   return  sum2(3) + 4       0+1+2+3+4\nsum2(3) n = 3   return  sum2(2) + 3       0+1+2+3\nsum2(2) n = 2   return  sum2(1) + 2       0+1+2\nsum2(1) n = 1   return  sum2(0) + 1       0+1\nsum2(0) n = 0   return  0\n</code></pre><ul>\n<li>练习：使用递归计算1，1，2，3，5，8，。。。<br><code>`</code>python<br>def number(n):<h1 id=\"临界值\"><a href=\"#临界值\" class=\"headerlink\" title=\"临界值\"></a>临界值</h1>  if n == 1 or n == 2:<pre><code>  return 1\n</code></pre><h1 id=\"循环规律\"><a href=\"#循环规律\" class=\"headerlink\" title=\"循环规律\"></a>循环规律</h1>  return number(n-2) + number(n-1)</li>\n</ul>\n<p>print(number(6))</p>\n<pre><code>```python\n+  练习：\n&#39;&#39;&#39;\nn = 3\n***\n**\n*\n\nn = 5\n*****\n****\n***\n**\n*\n&#39;&#39;&#39;\ndef star(n):\n    if n == 1:\n        print(&#39;*&#39;)\n        return\n    print(&#39;*&#39;*n)\n    star(n-1)\n\nstar(5)\n</code></pre><ul>\n<li>4.实际开发中，递归是能不用就不要用，递归消耗大量资源是循环的n倍<br>递归需要不断调用函数，开辟空间，消耗内存</li>\n</ul>\n<h4 id=\"九、模块和包的使用\"><a href=\"#九、模块和包的使用\" class=\"headerlink\" title=\"九、模块和包的使用\"></a>九、模块和包的使用</h4><p>封装：<br>1.函数：对实现某一特定功能的代码段的封装<br>2.模块：将多个变量、函数和类进行封装<br>模块：一个py文件就是一个模块</p>\n<pre><code class=\"python\">def multiply(*numbers):\n    sum1 = 1\n    # 取出numbers中的每一个元素\n    for item in numbers:\n        sum1 *= item\n    return sum1\n\nprint(multiply(1,2,5))\n</code></pre>\n<p>1.怎么使用其他模块中的内容<br>a.import 模块<br>b.from 模块 import 模块中的内容<br>可以直接使用模块中的内容<br>c.from 模块 import * —-&gt;将模块中的所有的内容都导入</p>\n<h5 id=\"my-list\"><a href=\"#my-list\" class=\"headerlink\" title=\"my_list\"></a>my_list</h5><pre><code class=\"python\">empty = []\n\ndef count(list1,item):\n    &#39;&#39;&#39;\n    统计指定列表中指定元素的个数\n    :param list1: 指定的列表\n    :param item: 指定元素\n    :return: 个数\n    &#39;&#39;&#39;\n    count = 0\n    for x in list1:\n        if x == item:\n            count += 1\n    return count\n</code></pre>\n<h5 id=\"my-model\"><a href=\"#my-model\" class=\"headerlink\" title=\"my_model\"></a>my_model</h5><pre><code class=\"python\">a = 10\n\ndef func1():\n    print(&#39;good!&#39;)\n\nfor x in range(10):\n    print(&#39;!!&#39;,a)\n# 将不希望被别的模块导入（执行）的代码放到模块的这个if语句中\nif __name__==&#39;__main__&#39;:\n    print(&#39;!!&#39;,a)\n    for x in range(10):\n        print(&#39;!!&#39;,x)\n\n</code></pre>\n<pre><code class=\"python\">a.\n# # 导入系统模块\n# import math\n# print(math.pi)\n# #导入自定模块my_list\n# import my_list\n# print(my_list.empty)\n# number = my_list.count([1, 2, 3, 4, 1, 1, 5],1)\n# print(number)\n# b.\nfrom my_list import count\nprint(count([23,12,42,52,1,5,2,1,12,12,12],12))\n\n# c.\nfrom math import *\nprint(pi)\nprint(sqrt(4))\n\n</code></pre>\n<p>2.重命名<br>import 模块 as 新名字<br>from 模块 import 内容 as 新名字</p>\n<pre><code class=\"python\">import random as RAN\nprint(RAN.randint(1,10))\nfrom datetime import date as Date,datetime as TIME\nprint(Date.today())\nprint(TIME.now())\n</code></pre>\n<p>&emsp;&emsp;每一个模块都有一个<strong>name</strong>属性，这个属性的默认就是当前模块的文件名。<br>&emsp;&emsp;当前模块正在被执行（直接在当前这个模块中点了run）的时候，<strong>name</strong>属性的值就是’<strong>main</strong>‘</p>\n<p>&emsp;&emsp;在一个模块中，将不希望被其他模块导入的代码写在if <strong>name</strong> ‘<strong>main</strong>‘中，希望被导入的放到这个if外面</p>\n<p>建议：函数的声明，类的声明一般写在if的外面，其他的写在if里面。（想要被外部使用的全局变量也可以写在外面）</p>\n<pre><code class=\"python\">import my_model\n# from my_model import func1\n# print(func1())\n\n</code></pre>\n<h4 id=\"十、函数作为变量\"><a href=\"#十、函数作为变量\" class=\"headerlink\" title=\"十、函数作为变量\"></a>十、函数作为变量</h4><h6 id=\"1-在python中，函数就是一种特殊的类型，声明函数的时候，其实就是在声明类型是function的变量\"><a href=\"#1-在python中，函数就是一种特殊的类型，声明函数的时候，其实就是在声明类型是function的变量\" class=\"headerlink\" title=\"1.在python中，函数就是一种特殊的类型，声明函数的时候，其实就是在声明类型是function的变量\"></a>1.在python中，函数就是一种特殊的类型，声明函数的时候，其实就是在声明类型是function的变量</h6><p>变量能做的事情，函数都可以做</p>\n<pre><code class=\"python\">if __name__ == &#39;__main__&#39;:\n    # 1.使用一个变量给另一个变量赋值\n    a = 10\n    b = a\n    # 声明一个函数func1(声明了一个变量func1，func1就是一个变量）\n    def func1():\n        print(&#39;hello python&#39;)\n\n    # c也是一个函数\n    c = func1\n    func1()\n    c()\n</code></pre>\n<h6 id=\"2-函数作为列表的元素\"><a href=\"#2-函数作为列表的元素\" class=\"headerlink\" title=\"2.函数作为列表的元素\"></a>2.函数作为列表的元素</h6><pre><code class=\"python\">    list2 = []\n    list3 = []\n    for x in range (10):\n        def func2(y):\n            print(x + y)\n        list2.append(func2)\n        list3.append(func2(x))\n\n    # list2中每个元素的值都是函数\n    print(list2)\n    print(list3)\n    # list2[0]就是一个函数\n    list2[0]\n    func = list2[0]\n    print(func(100))\n\n    list2[1](10)\n\n    # 直接将函数作为列表的元素\n    funcs = [func1]\n    funcs[0]()\n</code></pre>\n<h6 id=\"3-将函数作为字典的值\"><a href=\"#3-将函数作为字典的值\" class=\"headerlink\" title=\"3.将函数作为字典的值\"></a>3.将函数作为字典的值</h6><pre><code class=\"python\">    def sub(*nums):\n        &#39;&#39;&#39;\n        累计求差\n        :param nums: 求差的数\n        :return: 差\n        &#39;&#39;&#39;\n        if not nums:\n            return 0\n        # 默认是第一个数\n        sum1 = nums[0]\n        for item in nums[1:]:\n            sum1 -= item\n        return sum1\n    operation ={&#39;+&#39;:lambda x,y:x+y,&#39;-&#39;:lambda x,y:x-y,&#39;*&#39;:lambda x,y:x*y}\n    result = operation[&#39;*&#39;](10,20)\n    print(result)\n</code></pre>\n<h6 id=\"4-函数作为函数的参数（回调函数）\"><a href=\"#4-函数作为函数的参数（回调函数）\" class=\"headerlink\" title=\"4.函数作为函数的参数（回调函数）\"></a>4.函数作为函数的参数（回调函数）</h6><pre><code class=\"python\">    def clean_kitchen(time):\n        print(&#39;在%s,打扫厨房&#39; % time)\n        print(&#39;收费200元&#39;)\n    def clean_floor(time):\n        print(&#39;在%s,清洁地板&#39; % time)\n        print(&#39;收费100元&#39;)\n    # 在指定的时间，叫指定的服务\n    def call_service(time,service):\n        service(time)\n    # 将函数作为参数，传给其他函数使用\n    call_service(&#39;上午10点&#39;,clean_kitchen)\n    print(&#39;===============&#39;)\n    # 函数作为函数的返回值\n    def operation(operator:str):\n        if operator == &#39;+&#39;:\n            def my_sum (*nums):\n                sum1 = 0\n                for num in nums:\n                    sum += num\n            # 将求和的函数返回\n            return my_sum()\n        elif operator == &#39;*&#39;:\n            def my_sum(*nums):\n                sum1 = 1\n                for num in nums:\n                    sum1 *= num\n                print(sum1)\n            # 将求乘的函数返回\n            return my_sum\n    # operation(&#39;*&#39;)的结果是函数\n    operation(&#39;*&#39;)(1,2,3)\n</code></pre>\n<h4 id=\"十一、生成器和生成式\"><a href=\"#十一、生成器和生成式\" class=\"headerlink\" title=\"十一、生成器和生成式\"></a>十一、生成器和生成式</h4><p>可以把迭代器看成一种容器，类似列表。生成器就是来生成迭代器</p>\n<h6 id=\"1-生成式—–产生一个迭代器的表达方式\"><a href=\"#1-生成式—–产生一个迭代器的表达方式\" class=\"headerlink\" title=\"1.生成式—–产生一个迭代器的表达方式\"></a>1.生成式—–产生一个迭代器的表达方式</h6><p>a.是生成器，能够保存生成0-9中所有数字的算法</p>\n<pre><code class=\"python\">a = (x for x in range (10))\n    print(a,type(a))\n    a = (x*2 for x in range(10))\n    a = (char for char in &#39;a1b0cd1&#39; if &#39;0&#39; &lt;= char &lt;= &#39;9&#39;)\n</code></pre>\n<h6 id=\"2-生成器和迭代器都是通过next来获取里面的数据\"><a href=\"#2-生成器和迭代器都是通过next来获取里面的数据\" class=\"headerlink\" title=\"2.生成器和迭代器都是通过next来获取里面的数据\"></a>2.生成器和迭代器都是通过next来获取里面的数据</h6><pre><code class=\"python\">    print(next(a))\n    print(next(a))\n    print(next(a))\n</code></pre>\n<h6 id=\"3-将生成器转换成列表\"><a href=\"#3-将生成器转换成列表\" class=\"headerlink\" title=\"3.将生成器转换成列表\"></a>3.将生成器转换成列表</h6><p>通过将生成式产生的迭代器转换成了一个列表</p>\n<pre><code class=\"python\">list1 = [x for x in range(10)]\n    print(list1)\n</code></pre>\n<h6 id=\"4-将生成器转换成字典\"><a href=\"#4-将生成器转换成字典\" class=\"headerlink\" title=\"4.将生成器转换成字典\"></a>4.将生成器转换成字典</h6><p>注意：容器类型的元素是元组，并且元素中有且只有2个元素，才能转换成字典</p>\n<pre><code class=\"python\">dict1 =dict((x,x*2) for x in range(10))\n    print(dict1)\n</code></pre>\n<ul>\n<li>用一句代码转换一个字典中的key和value的值.{‘a’;1,’b’;2}<pre><code class=\"python\">方法一：\n  dict2 = dict((value,key) for key,value in {&#39;a&#39;:1,&#39;b&#39;:2}.items())\n  print(dict2)\n方法二：\n  old = {&#39;a&#39;:1,&#39;b&#39;:2}\n  dict3 = dict((old[key],key) for key in old )\n  print(dict3)\n</code></pre>\n<h4 id=\"十二、生成器\"><a href=\"#十二、生成器\" class=\"headerlink\" title=\"十二、生成器\"></a>十二、生成器</h4><pre><code class=\"python\">def func1():\n      for x in range(10):\n          return x\n</code></pre>\n<pre><code class=\"python\">结果：\n0 &lt;class &#39;int&#39;&gt; &lt; class &#39;function&#39; &gt;\n  # print(func1(),type(func1()),type(func1))\n</code></pre>\n</li>\n<li><p>1.yield<br>只要函数中有yield关键字，那么这个函数就会变成一个生成器</p>\n<ul>\n<li>a.有yield的函数，在调用函数的时候不再是获取返回值，<br> 而是产生一个生成器对象，生成器对象中保留的是函数体</li>\n<li><p>b.当通过next获取生成器中数据的时候，才会去执行函数体，执行到yield为止，并且将yield后面的结果作为生成的数据返回。同事记录结束的 位置，下次再调用next的时候，从上次结束的位置，继续往后执行</p>\n<pre><code class=\"python\">def func2():\n  for x in range(10):\n      print(&#39;asd&#39;)\n      yield x\n      print(&#39;aa&#39;)\n\n# print(func2(), type(func2()), type(func2))\n# 注意：函数中只要有yield，不管yield会不会执行到，函数的结果都是一个生成器\n# 这儿的func2（）是一个生成器\n# gen = func2()\n# print(next(gen))\n# print(next(gen))\n# print(next(gen))\n</code></pre>\n<p>写一个生成器，可以无限产生斐波那契数列</p>\n<pre><code class=\"python\">def list3():\n  yield 1\n  yield 1\n  x = 1\n  y = 1\n  while True:\n      yield x + y\n      x,y = y , x +y\n\ngen = list3()\nprint(next(gen))\nprint(next(gen))\nprint(next(gen))\nprint(next(gen))\nprint(next(gen))\nprint(next(gen))\nprint(&#39;===============&#39;)\n</code></pre>\n<p>写一个生成器，可以产生一个等差数列</p>\n<pre><code class=\"python\">def list4():\n  yield 1\n  x = 1\n  y = 2\n  while True:\n      yield x + y\n      x,y = x + y,y\nCha = list4()\nprint(next(Cha))\nprint(next(Cha))\nprint(next(Cha))\nprint(next(Cha))\nprint(next(Cha))\nprint(next(Cha))\nprint(next(Cha))\nprint(&#39;===============&#39;)\n</code></pre>\n</li>\n</ul>\n</li>\n<li>2.生成器和生成式产生的对象就是迭代器<br>将列表转换成迭代器（iter）<pre><code class=\"python\">iter1 = iter([1,2,3,4])\n  print(iter1)\n  print(next(iter1))\n  for item in iter1:\n      print(item)\n</code></pre>\n</li>\n</ul>\n"},{"title":"python-summary2","date":"2018-11-01T06:23:21.000Z","author":"smile","_content":"\n## 文件操作\n\n####  一、文件的读和写\n+ 1.程序中不管操作任何文件，不管怎么操作，过程都是一样的\n  过程：打开文件--》操作（读/写）--》关闭文件\n+ 2.做数据持久化、本地化，都要使用文件来保存数据\n  （数据库文件、txt文档、json文件、plist、xml文件等、二进制文件（图片、视频、音频等））\n\n程序中通过变量、列表、字典等保存的数据，在程序结束后都会被销毁的。\n###### 1.打开文件\n    open(文件地址file,打开方式mode，encoding = 编码方式)\n+ a.文件地址：告诉open要打开的是哪个文件，填文件路径（可以填绝对路径，也可以填相对路径）\n  绝对路径：C:/Users/Administrator/Desktop/txt.txt\n  相对路径：./相对路径（相对于当前文件所在的目录）    ../相对路径（相对于当前文件所在的目录的上一层目录）\n    一次向外扩展\n+ b.打开方式：获取文件的内容以读的形式打开，往文件中写内容就以写的形式打开\n   ‘r’--》读（默认值），读出来的内容以文本（str)的形式返回\n    'rb'/'br'--》读，读出来的内容以二进制（bytes)的形式返回\n    ‘w'--》写，写文本到文件中\n    ‘wb'/'bw'--》写，写二进制数据到文本中\n    ‘a'--》写，追加\n + c.编码方式：以文本的形式读和写的时候才需要设置编码方式\n    utf-8:万国码\n    gbk:只支持中文\n + d.open函数的返回值是被打开的文件对象\n\n###### 2.关闭文件\n文件对象.close\n```python\n # 1.打开文件\n # f1 = open('D:/编程Python/Python代码/我的python/08-31函数和文件操作','rb')\n    f1= open('./程序员.txt','rb')\n # 2.文件关闭  \n \tf1.close()\n```\n #####  3.操作文件\n ######  a.读操作\n```python\n    read():从文件的开头读到文件结束\n    readline():读一行\n\n # 打开文件，f就是被打开的文件对象\n    f = open('./程序员.txt','r',encoding = 'utf-8')\n # 获取文件中所有内容，将结果返回给content保存\n    content = f.read()\n    print(content)\n # 前面已经读完了，接着往后读，读不到内容\n    print('!!!:',f.readline())\n    f.close()\n    print('=========================')\n    f1 = open('./程序员.txt','r',encoding='utf-8')\n # 从文件开始读到第一行结束\n    content = f1.readline()\n    print(content)\n # 从文件第二行开始，读到第二行结束\n    print(f1.readline())\n # 从第三行开始，读到文件结束\n    print(f1.read())\n    f1.close()\n```\n###### 练习：读文件中的内容，一行一行的读，读完为止\n```python\nprint('```````````')\n    f2 = open('./程序员.txt', 'r', encoding='utf-8')\n    content = f2.readline()\n    while content:\n        print('line:', content)\n        content = f2.readline()\n    f2.close()\n```\n###### b.操作\n```python\nwrite(写的内容）\n'w'-->写操作，完全覆盖原文件的内容\n'a'-->写操作，在原文件的内容后去追加新的内容\n\n# f3 = open('./test.txt','a',encoding = 'utf-8')\n# f3.write('程序员的诗')\n# f3.close()\n```\n#### 4.文件不存在的情况\n当以读的形式打开文件的时候，如果文件不存在，程序会崩溃\n当以写的形式打开一个不存在的文件的时候，会自动创建一个新的文件\n```python\n# f4 = open('./test2.txt','w',encoding = 'utf-8')\n    # f4.write('你好,初次见面请多关照')\n    # f4.close()\n```\n###### 练习：统计一个模块的执行次数\n```python\n# def num1():\n    # while True:\n    f5 = open('./test2.txt', 'r', encoding='utf-8')\n    content = int(f5.read())\n    print(content)\n    f5.close()\n\n    f5 = open('./test2.txt', 'w', encoding='utf-8')\n    content += 1\n    f5.write(str(content))\n    print(content)\n    f.close()\n```\n\n#### 对文件进行操作后，文件自动关闭\n\n```python\nif __name__ == '__main__':\n    # 读二进制（上传文件）\n    with open('./filess/8.jpg','rb') as  f:\n        # bytes是Python中内置的数据类型，用来表示二进制数据\n        content = f.read()\n        print(type(content))\n        print(content)\n    # 将二进制数据写入文件（下载图片）\n    with open('./filess/r.jpg','wb') as ff:\n            ff.write(content)\n```\n\n#### 二、对json文件的操作\n\n```python\njson是有特定格式的一种文本形式，它有自己的语法\njson文件就是后缀是.json的文本\n1.json格式应的数据类型及其表现\na.一个json文件中只能存一个数据，这个数据的类型必须是以下类型中的一个\n对象类型，数组，数字，字符串，布尔，null\n类型：                                  格式                          意义\n对象（object）:                      {\"a\":10,\"b\":[1,2]}             相当于字典\n数组（array）                      [100,\"a10bc\"true,[1,2]]         相当于列表，里面的元素可以是任何类型\n数字（number）                       0,100,30,3.14,-100               包含整数和小数1\n字符串（string）                     \"abc\",\"hello jason\"\n布尔：                               true/false                       是（真）/否（假）\nnull：                               null                             空值\n\n2.Python对json数据的支持\njson---python\n对象               字典（dict)\n数组               列表list)\n数字               整数（int)和浮点数（float)\n布尔/true,false    布尔（bool)/True,False\nnull               None\n\n```\njson 模块是Python中，内置的，专门用来处理json的数据文件\n1.load(json文件对象）：以json的格式，获取原文件中的内容。将文件内容转换成相应的Python数据\n2.loads(json格式内容的字符串)，编码方式）：获取的是二进制的文件，将json格式的字符串，转换成Python对应数据\n3.dump（需要写入json文件中的Python数据，json文件对象）：将原文件写入json中\n4.dumps（需要转换成json格式字符串的Python数据）：将文件以二进制方式写入json文件中\n\n```python\nimport json\nif __name__ == '__main__':\n    # 1.josn转python数据\n    with open('./filess/json1.json','r',encoding = 'utf-8') as f:\n        content = json.load(f)\n        print(content)\n        print(type(content))\n\n    content1 = json.loads('\"abc\"', encoding='utf-8')\n    print(content1,type(content1))\n```\n```\npython --->             json\n    字典                    对象\n    列表、元组               数组\n    整数/浮点数              数字\n    布尔/True,False         true,false\n    字符串                   字符串（双引号）\n    None                     null\n```\n```python\n with open('./filess/new.json','w',encoding='utf-8') as f:\n        json.dump({'a':100,'h':200},f)\n        # json.dump([1,2,3,'abc'],f)\n        # json.dump((1,2,'abc',100,True),f)\n        # 注意：Python中的集合不能转换成json数据\n        # json.dump({11,22,'aa'},f)\n```\n\n+ 练习，用json文件来保存一个班的班级信息，包括班级名和班上的所有的学生（名字、年龄和电话）\n  输入学生信息，添加学生\n  根据姓名删除学生\n  (做到数据持久化）\n```python\njson文件的数据格式\n{\n    \"class_name\":\"班级名\"\n    \"all_students\":[\n        {\"name\":\"名字\"，\"age\":\"年龄\",\"tel\":\"电话\"},\n        {\"name\":\"名字\"，\"age\":\"年龄\",\"tel\":\"电话\"},\n        {\"name\":\"名字\"，\"age\":\"年龄\",\"tel\":\"电话\"}\n    ]\n}\n\n# 1.读出保存班级信息对应的json文件中的内容\nwith open('./filess/class_info.json','r',encoding='utf-8') as f:\n    class_content = json.load(f)\n    print(class_content)\n    # 输入添加信息\nname = input('请输入姓名：')\nage = input('请输入年龄：')\ntel = input('请输入电话：')\nstu = {\"name\":name,\"age\":int(age),\"tel\":tel}\nclass_content['all_student'].append(stu)\n\nclass_info = {\n    'class_name': 'python1806',\n    'all_student':[\n        stu\n    ]\n}\n\n# 将最新的数据写入文件中\nwith open('./filess/class_info.json','w',encoding='utf-8') as f:\n    json.dump(class_content,f)\n\n数据的持久化：\n1.将数据从文件中读出来\n2.修改数据（增、删、改）\n3.将新的数据在写入文件中\n```\n\n#### 三、异常捕获\n\n1.为什么要使用异常捕获\n异常：程序崩溃了，报错了\n程序出现异常，但不想因为这个异常而让这个程序崩溃，这个时候就可以使用异常捕获机制\n2.怎么捕获异常\n形式1：捕获try后代码块里面所有的异常\ntry:\n——需要捕获异常的代码块（可能会出现异常的代码块）\nexcept:\n——出现异常后执行的代码块\n\n执行过程：执行try后面的代码块，一旦遇到异常，就马上执行except后面的代码块，执行完后再执行其他语句\n​          如果try里面的代码块没有异常，就不执行except后面的代码块，而是直接执行其他语句\n\nb.形式2：\ntry:\n——需要捕获异常的代码块（可能会出现异常的代码块）\nexcept 错误类型:\n——出现异常后执行的代码块\n\n执行过程：执行try后面的代码块，一旦遇到指定的错误类型的异常，就马上执行except后面的代码块，执行完后再执行其他语句\n​          如果try里面的代码块没有遇到指定的异常，就不执行except后面的代码块，而是直接执行其他语句\nc.形式3\ntry:\n——需要捕获异常的代码块（可能会出现异常的代码块）\nexcept （错误类型1，错误类型2.....):\n——出现异常后执行的代码块\n\nd.形式4\ntry:\n——需要捕获异常的代码块（可能会出现异常的代码块）\nexcept 错误类型1:\n——执行语句1\nexcept 错误类型2:\n——执行语句2\n\ne.形式5\ntry:\n——需要捕获异常的代码块（可能会出现异常的代码块）\n​    （在这而做程序异常退出的善后，一般做保存数据和进度的工作）\nexcept:\n——出现异常后执行的代码块\nfinally:\n——不管有没有异常，都会执行（就算崩溃了，也会执行）\n```python\nif __name__ == '__main__':\n    # 1.什么情况时使用\n    # a.输入两个数，让后求这两个数的商是多少\n    # num1 = float(input('除数：'))\n    # num2 = float(input('被除数：'))\n    # print('%f /%f = %f' % (num1,num2,num1/num2))\n    try:\n        num1 = float(input('除数：'))\n        num2 = float(input('被除数：'))\n        print('%f /%f = %f' % (num1, num2, num1 / num2))\n    except :\n        print('输入错误，请重新输入')\n\n    # b.打开一个不存在的文件，不希望程序崩溃，只是让读出的内容为空\n    import json\n    # with open('./files/info.json','r',encoding= 'utf-8') as f:\n    #     content = json.load(f)\n    try:\n        with open('./files/info.json', 'r', encoding='utf-8') as f:\n            content = json.load(f)\n    except FileNotFoundError:\n        print('文件不存在')\n\n    # 2.捕获异常\n    # a = [1,2,3,4,5]\n    # try:\n    #     print(a[6])\n    # except:\n    #     print('捕获到异常')\n    # print('==========')\n    #\n    # dict1 = {'a':1,'b':2}\n    # try:\n    #     dict1['c']\n    #     print(a[6])\n    # except IndexError:\n    #     print('下标越界')\n    # except KeyError:\n    #     print('key错误')\n\n# 3.抛出异常（后面补充）\n    num = input('请输入一个奇数：')\n    if int(num) % 2 == 0:\n        raise ValueError\n```\n\n","source":"_posts/python/python-summary2.md","raw":"---\ntitle: python-summary2\ndate: 2018-11-01 14:23:21\nauthor: smile\ncategories: Python\ntags:\n  - 文件操作\n---\n\n## 文件操作\n\n####  一、文件的读和写\n+ 1.程序中不管操作任何文件，不管怎么操作，过程都是一样的\n  过程：打开文件--》操作（读/写）--》关闭文件\n+ 2.做数据持久化、本地化，都要使用文件来保存数据\n  （数据库文件、txt文档、json文件、plist、xml文件等、二进制文件（图片、视频、音频等））\n\n程序中通过变量、列表、字典等保存的数据，在程序结束后都会被销毁的。\n###### 1.打开文件\n    open(文件地址file,打开方式mode，encoding = 编码方式)\n+ a.文件地址：告诉open要打开的是哪个文件，填文件路径（可以填绝对路径，也可以填相对路径）\n  绝对路径：C:/Users/Administrator/Desktop/txt.txt\n  相对路径：./相对路径（相对于当前文件所在的目录）    ../相对路径（相对于当前文件所在的目录的上一层目录）\n    一次向外扩展\n+ b.打开方式：获取文件的内容以读的形式打开，往文件中写内容就以写的形式打开\n   ‘r’--》读（默认值），读出来的内容以文本（str)的形式返回\n    'rb'/'br'--》读，读出来的内容以二进制（bytes)的形式返回\n    ‘w'--》写，写文本到文件中\n    ‘wb'/'bw'--》写，写二进制数据到文本中\n    ‘a'--》写，追加\n + c.编码方式：以文本的形式读和写的时候才需要设置编码方式\n    utf-8:万国码\n    gbk:只支持中文\n + d.open函数的返回值是被打开的文件对象\n\n###### 2.关闭文件\n文件对象.close\n```python\n # 1.打开文件\n # f1 = open('D:/编程Python/Python代码/我的python/08-31函数和文件操作','rb')\n    f1= open('./程序员.txt','rb')\n # 2.文件关闭  \n \tf1.close()\n```\n #####  3.操作文件\n ######  a.读操作\n```python\n    read():从文件的开头读到文件结束\n    readline():读一行\n\n # 打开文件，f就是被打开的文件对象\n    f = open('./程序员.txt','r',encoding = 'utf-8')\n # 获取文件中所有内容，将结果返回给content保存\n    content = f.read()\n    print(content)\n # 前面已经读完了，接着往后读，读不到内容\n    print('!!!:',f.readline())\n    f.close()\n    print('=========================')\n    f1 = open('./程序员.txt','r',encoding='utf-8')\n # 从文件开始读到第一行结束\n    content = f1.readline()\n    print(content)\n # 从文件第二行开始，读到第二行结束\n    print(f1.readline())\n # 从第三行开始，读到文件结束\n    print(f1.read())\n    f1.close()\n```\n###### 练习：读文件中的内容，一行一行的读，读完为止\n```python\nprint('```````````')\n    f2 = open('./程序员.txt', 'r', encoding='utf-8')\n    content = f2.readline()\n    while content:\n        print('line:', content)\n        content = f2.readline()\n    f2.close()\n```\n###### b.操作\n```python\nwrite(写的内容）\n'w'-->写操作，完全覆盖原文件的内容\n'a'-->写操作，在原文件的内容后去追加新的内容\n\n# f3 = open('./test.txt','a',encoding = 'utf-8')\n# f3.write('程序员的诗')\n# f3.close()\n```\n#### 4.文件不存在的情况\n当以读的形式打开文件的时候，如果文件不存在，程序会崩溃\n当以写的形式打开一个不存在的文件的时候，会自动创建一个新的文件\n```python\n# f4 = open('./test2.txt','w',encoding = 'utf-8')\n    # f4.write('你好,初次见面请多关照')\n    # f4.close()\n```\n###### 练习：统计一个模块的执行次数\n```python\n# def num1():\n    # while True:\n    f5 = open('./test2.txt', 'r', encoding='utf-8')\n    content = int(f5.read())\n    print(content)\n    f5.close()\n\n    f5 = open('./test2.txt', 'w', encoding='utf-8')\n    content += 1\n    f5.write(str(content))\n    print(content)\n    f.close()\n```\n\n#### 对文件进行操作后，文件自动关闭\n\n```python\nif __name__ == '__main__':\n    # 读二进制（上传文件）\n    with open('./filess/8.jpg','rb') as  f:\n        # bytes是Python中内置的数据类型，用来表示二进制数据\n        content = f.read()\n        print(type(content))\n        print(content)\n    # 将二进制数据写入文件（下载图片）\n    with open('./filess/r.jpg','wb') as ff:\n            ff.write(content)\n```\n\n#### 二、对json文件的操作\n\n```python\njson是有特定格式的一种文本形式，它有自己的语法\njson文件就是后缀是.json的文本\n1.json格式应的数据类型及其表现\na.一个json文件中只能存一个数据，这个数据的类型必须是以下类型中的一个\n对象类型，数组，数字，字符串，布尔，null\n类型：                                  格式                          意义\n对象（object）:                      {\"a\":10,\"b\":[1,2]}             相当于字典\n数组（array）                      [100,\"a10bc\"true,[1,2]]         相当于列表，里面的元素可以是任何类型\n数字（number）                       0,100,30,3.14,-100               包含整数和小数1\n字符串（string）                     \"abc\",\"hello jason\"\n布尔：                               true/false                       是（真）/否（假）\nnull：                               null                             空值\n\n2.Python对json数据的支持\njson---python\n对象               字典（dict)\n数组               列表list)\n数字               整数（int)和浮点数（float)\n布尔/true,false    布尔（bool)/True,False\nnull               None\n\n```\njson 模块是Python中，内置的，专门用来处理json的数据文件\n1.load(json文件对象）：以json的格式，获取原文件中的内容。将文件内容转换成相应的Python数据\n2.loads(json格式内容的字符串)，编码方式）：获取的是二进制的文件，将json格式的字符串，转换成Python对应数据\n3.dump（需要写入json文件中的Python数据，json文件对象）：将原文件写入json中\n4.dumps（需要转换成json格式字符串的Python数据）：将文件以二进制方式写入json文件中\n\n```python\nimport json\nif __name__ == '__main__':\n    # 1.josn转python数据\n    with open('./filess/json1.json','r',encoding = 'utf-8') as f:\n        content = json.load(f)\n        print(content)\n        print(type(content))\n\n    content1 = json.loads('\"abc\"', encoding='utf-8')\n    print(content1,type(content1))\n```\n```\npython --->             json\n    字典                    对象\n    列表、元组               数组\n    整数/浮点数              数字\n    布尔/True,False         true,false\n    字符串                   字符串（双引号）\n    None                     null\n```\n```python\n with open('./filess/new.json','w',encoding='utf-8') as f:\n        json.dump({'a':100,'h':200},f)\n        # json.dump([1,2,3,'abc'],f)\n        # json.dump((1,2,'abc',100,True),f)\n        # 注意：Python中的集合不能转换成json数据\n        # json.dump({11,22,'aa'},f)\n```\n\n+ 练习，用json文件来保存一个班的班级信息，包括班级名和班上的所有的学生（名字、年龄和电话）\n  输入学生信息，添加学生\n  根据姓名删除学生\n  (做到数据持久化）\n```python\njson文件的数据格式\n{\n    \"class_name\":\"班级名\"\n    \"all_students\":[\n        {\"name\":\"名字\"，\"age\":\"年龄\",\"tel\":\"电话\"},\n        {\"name\":\"名字\"，\"age\":\"年龄\",\"tel\":\"电话\"},\n        {\"name\":\"名字\"，\"age\":\"年龄\",\"tel\":\"电话\"}\n    ]\n}\n\n# 1.读出保存班级信息对应的json文件中的内容\nwith open('./filess/class_info.json','r',encoding='utf-8') as f:\n    class_content = json.load(f)\n    print(class_content)\n    # 输入添加信息\nname = input('请输入姓名：')\nage = input('请输入年龄：')\ntel = input('请输入电话：')\nstu = {\"name\":name,\"age\":int(age),\"tel\":tel}\nclass_content['all_student'].append(stu)\n\nclass_info = {\n    'class_name': 'python1806',\n    'all_student':[\n        stu\n    ]\n}\n\n# 将最新的数据写入文件中\nwith open('./filess/class_info.json','w',encoding='utf-8') as f:\n    json.dump(class_content,f)\n\n数据的持久化：\n1.将数据从文件中读出来\n2.修改数据（增、删、改）\n3.将新的数据在写入文件中\n```\n\n#### 三、异常捕获\n\n1.为什么要使用异常捕获\n异常：程序崩溃了，报错了\n程序出现异常，但不想因为这个异常而让这个程序崩溃，这个时候就可以使用异常捕获机制\n2.怎么捕获异常\n形式1：捕获try后代码块里面所有的异常\ntry:\n——需要捕获异常的代码块（可能会出现异常的代码块）\nexcept:\n——出现异常后执行的代码块\n\n执行过程：执行try后面的代码块，一旦遇到异常，就马上执行except后面的代码块，执行完后再执行其他语句\n​          如果try里面的代码块没有异常，就不执行except后面的代码块，而是直接执行其他语句\n\nb.形式2：\ntry:\n——需要捕获异常的代码块（可能会出现异常的代码块）\nexcept 错误类型:\n——出现异常后执行的代码块\n\n执行过程：执行try后面的代码块，一旦遇到指定的错误类型的异常，就马上执行except后面的代码块，执行完后再执行其他语句\n​          如果try里面的代码块没有遇到指定的异常，就不执行except后面的代码块，而是直接执行其他语句\nc.形式3\ntry:\n——需要捕获异常的代码块（可能会出现异常的代码块）\nexcept （错误类型1，错误类型2.....):\n——出现异常后执行的代码块\n\nd.形式4\ntry:\n——需要捕获异常的代码块（可能会出现异常的代码块）\nexcept 错误类型1:\n——执行语句1\nexcept 错误类型2:\n——执行语句2\n\ne.形式5\ntry:\n——需要捕获异常的代码块（可能会出现异常的代码块）\n​    （在这而做程序异常退出的善后，一般做保存数据和进度的工作）\nexcept:\n——出现异常后执行的代码块\nfinally:\n——不管有没有异常，都会执行（就算崩溃了，也会执行）\n```python\nif __name__ == '__main__':\n    # 1.什么情况时使用\n    # a.输入两个数，让后求这两个数的商是多少\n    # num1 = float(input('除数：'))\n    # num2 = float(input('被除数：'))\n    # print('%f /%f = %f' % (num1,num2,num1/num2))\n    try:\n        num1 = float(input('除数：'))\n        num2 = float(input('被除数：'))\n        print('%f /%f = %f' % (num1, num2, num1 / num2))\n    except :\n        print('输入错误，请重新输入')\n\n    # b.打开一个不存在的文件，不希望程序崩溃，只是让读出的内容为空\n    import json\n    # with open('./files/info.json','r',encoding= 'utf-8') as f:\n    #     content = json.load(f)\n    try:\n        with open('./files/info.json', 'r', encoding='utf-8') as f:\n            content = json.load(f)\n    except FileNotFoundError:\n        print('文件不存在')\n\n    # 2.捕获异常\n    # a = [1,2,3,4,5]\n    # try:\n    #     print(a[6])\n    # except:\n    #     print('捕获到异常')\n    # print('==========')\n    #\n    # dict1 = {'a':1,'b':2}\n    # try:\n    #     dict1['c']\n    #     print(a[6])\n    # except IndexError:\n    #     print('下标越界')\n    # except KeyError:\n    #     print('key错误')\n\n# 3.抛出异常（后面补充）\n    num = input('请输入一个奇数：')\n    if int(num) % 2 == 0:\n        raise ValueError\n```\n\n","slug":"python/python-summary2","published":1,"updated":"2019-01-19T09:53:50.668Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjt87kqit001rr8r60xo08vxs","content":"<h2 id=\"文件操作\"><a href=\"#文件操作\" class=\"headerlink\" title=\"文件操作\"></a>文件操作</h2><h4 id=\"一、文件的读和写\"><a href=\"#一、文件的读和写\" class=\"headerlink\" title=\"一、文件的读和写\"></a>一、文件的读和写</h4><ul>\n<li>1.程序中不管操作任何文件，不管怎么操作，过程都是一样的<br>过程：打开文件–》操作（读/写）–》关闭文件</li>\n<li>2.做数据持久化、本地化，都要使用文件来保存数据<br>（数据库文件、txt文档、json文件、plist、xml文件等、二进制文件（图片、视频、音频等））</li>\n</ul>\n<p>程序中通过变量、列表、字典等保存的数据，在程序结束后都会被销毁的。</p>\n<h6 id=\"1-打开文件\"><a href=\"#1-打开文件\" class=\"headerlink\" title=\"1.打开文件\"></a>1.打开文件</h6><pre><code>open(文件地址file,打开方式mode，encoding = 编码方式)\n</code></pre><ul>\n<li>a.文件地址：告诉open要打开的是哪个文件，填文件路径（可以填绝对路径，也可以填相对路径）<br>绝对路径：C:/Users/Administrator/Desktop/txt.txt<br>相对路径：./相对路径（相对于当前文件所在的目录）    ../相对路径（相对于当前文件所在的目录的上一层目录）<br>  一次向外扩展</li>\n<li>b.打开方式：获取文件的内容以读的形式打开，往文件中写内容就以写的形式打开<br> ‘r’–》读（默认值），读出来的内容以文本（str)的形式返回<br>  ‘rb’/‘br’–》读，读出来的内容以二进制（bytes)的形式返回<br>  ‘w’–》写，写文本到文件中<br>  ‘wb’/‘bw’–》写，写二进制数据到文本中<br>  ‘a’–》写，追加<ul>\n<li>c.编码方式：以文本的形式读和写的时候才需要设置编码方式<br>utf-8:万国码<br>gbk:只支持中文</li>\n<li>d.open函数的返回值是被打开的文件对象</li>\n</ul>\n</li>\n</ul>\n<h6 id=\"2-关闭文件\"><a href=\"#2-关闭文件\" class=\"headerlink\" title=\"2.关闭文件\"></a>2.关闭文件</h6><p>文件对象.close</p>\n<pre class=\" language-python\"><code class=\"language-python\"> <span class=\"token comment\" spellcheck=\"true\"># 1.打开文件</span>\n <span class=\"token comment\" spellcheck=\"true\"># f1 = open('D:/编程Python/Python代码/我的python/08-31函数和文件操作','rb')</span>\n    f1<span class=\"token operator\">=</span> open<span class=\"token punctuation\">(</span><span class=\"token string\">'./程序员.txt'</span><span class=\"token punctuation\">,</span><span class=\"token string\">'rb'</span><span class=\"token punctuation\">)</span>\n <span class=\"token comment\" spellcheck=\"true\"># 2.文件关闭  </span>\n     f1<span class=\"token punctuation\">.</span>close<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n</code></pre>\n<h5 id=\"3-操作文件\"><a href=\"#3-操作文件\" class=\"headerlink\" title=\"3.操作文件\"></a>3.操作文件</h5><h6 id=\"a-读操作\"><a href=\"#a-读操作\" class=\"headerlink\" title=\"a.读操作\"></a>a.读操作</h6><pre class=\" language-python\"><code class=\"language-python\">    read<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>从文件的开头读到文件结束\n    readline<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>读一行\n\n <span class=\"token comment\" spellcheck=\"true\"># 打开文件，f就是被打开的文件对象</span>\n    f <span class=\"token operator\">=</span> open<span class=\"token punctuation\">(</span><span class=\"token string\">'./程序员.txt'</span><span class=\"token punctuation\">,</span><span class=\"token string\">'r'</span><span class=\"token punctuation\">,</span>encoding <span class=\"token operator\">=</span> <span class=\"token string\">'utf-8'</span><span class=\"token punctuation\">)</span>\n <span class=\"token comment\" spellcheck=\"true\"># 获取文件中所有内容，将结果返回给content保存</span>\n    content <span class=\"token operator\">=</span> f<span class=\"token punctuation\">.</span>read<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>content<span class=\"token punctuation\">)</span>\n <span class=\"token comment\" spellcheck=\"true\"># 前面已经读完了，接着往后读，读不到内容</span>\n    <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string\">'!!!:'</span><span class=\"token punctuation\">,</span>f<span class=\"token punctuation\">.</span>readline<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n    f<span class=\"token punctuation\">.</span>close<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string\">'========================='</span><span class=\"token punctuation\">)</span>\n    f1 <span class=\"token operator\">=</span> open<span class=\"token punctuation\">(</span><span class=\"token string\">'./程序员.txt'</span><span class=\"token punctuation\">,</span><span class=\"token string\">'r'</span><span class=\"token punctuation\">,</span>encoding<span class=\"token operator\">=</span><span class=\"token string\">'utf-8'</span><span class=\"token punctuation\">)</span>\n <span class=\"token comment\" spellcheck=\"true\"># 从文件开始读到第一行结束</span>\n    content <span class=\"token operator\">=</span> f1<span class=\"token punctuation\">.</span>readline<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>content<span class=\"token punctuation\">)</span>\n <span class=\"token comment\" spellcheck=\"true\"># 从文件第二行开始，读到第二行结束</span>\n    <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>f1<span class=\"token punctuation\">.</span>readline<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n <span class=\"token comment\" spellcheck=\"true\"># 从第三行开始，读到文件结束</span>\n    <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>f1<span class=\"token punctuation\">.</span>read<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n    f1<span class=\"token punctuation\">.</span>close<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n</code></pre>\n<h6 id=\"练习：读文件中的内容，一行一行的读，读完为止\"><a href=\"#练习：读文件中的内容，一行一行的读，读完为止\" class=\"headerlink\" title=\"练习：读文件中的内容，一行一行的读，读完为止\"></a>练习：读文件中的内容，一行一行的读，读完为止</h6><pre class=\" language-python\"><code class=\"language-python\"><span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string\">'```````````'</span><span class=\"token punctuation\">)</span>\n    f2 <span class=\"token operator\">=</span> open<span class=\"token punctuation\">(</span><span class=\"token string\">'./程序员.txt'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'r'</span><span class=\"token punctuation\">,</span> encoding<span class=\"token operator\">=</span><span class=\"token string\">'utf-8'</span><span class=\"token punctuation\">)</span>\n    content <span class=\"token operator\">=</span> f2<span class=\"token punctuation\">.</span>readline<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">while</span> content<span class=\"token punctuation\">:</span>\n        <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string\">'line:'</span><span class=\"token punctuation\">,</span> content<span class=\"token punctuation\">)</span>\n        content <span class=\"token operator\">=</span> f2<span class=\"token punctuation\">.</span>readline<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    f2<span class=\"token punctuation\">.</span>close<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n</code></pre>\n<h6 id=\"b-操作\"><a href=\"#b-操作\" class=\"headerlink\" title=\"b.操作\"></a>b.操作</h6><pre class=\" language-python\"><code class=\"language-python\">write<span class=\"token punctuation\">(</span>写的内容）\n<span class=\"token string\">'w'</span><span class=\"token operator\">-</span><span class=\"token operator\">-</span><span class=\"token operator\">></span>写操作，完全覆盖原文件的内容\n<span class=\"token string\">'a'</span><span class=\"token operator\">-</span><span class=\"token operator\">-</span><span class=\"token operator\">></span>写操作，在原文件的内容后去追加新的内容\n\n<span class=\"token comment\" spellcheck=\"true\"># f3 = open('./test.txt','a',encoding = 'utf-8')</span>\n<span class=\"token comment\" spellcheck=\"true\"># f3.write('程序员的诗')</span>\n<span class=\"token comment\" spellcheck=\"true\"># f3.close()</span>\n</code></pre>\n<h4 id=\"4-文件不存在的情况\"><a href=\"#4-文件不存在的情况\" class=\"headerlink\" title=\"4.文件不存在的情况\"></a>4.文件不存在的情况</h4><p>当以读的形式打开文件的时候，如果文件不存在，程序会崩溃<br>当以写的形式打开一个不存在的文件的时候，会自动创建一个新的文件</p>\n<pre class=\" language-python\"><code class=\"language-python\"><span class=\"token comment\" spellcheck=\"true\"># f4 = open('./test2.txt','w',encoding = 'utf-8')</span>\n    <span class=\"token comment\" spellcheck=\"true\"># f4.write('你好,初次见面请多关照')</span>\n    <span class=\"token comment\" spellcheck=\"true\"># f4.close()</span>\n</code></pre>\n<h6 id=\"练习：统计一个模块的执行次数\"><a href=\"#练习：统计一个模块的执行次数\" class=\"headerlink\" title=\"练习：统计一个模块的执行次数\"></a>练习：统计一个模块的执行次数</h6><pre class=\" language-python\"><code class=\"language-python\"><span class=\"token comment\" spellcheck=\"true\"># def num1():</span>\n    <span class=\"token comment\" spellcheck=\"true\"># while True:</span>\n    f5 <span class=\"token operator\">=</span> open<span class=\"token punctuation\">(</span><span class=\"token string\">'./test2.txt'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'r'</span><span class=\"token punctuation\">,</span> encoding<span class=\"token operator\">=</span><span class=\"token string\">'utf-8'</span><span class=\"token punctuation\">)</span>\n    content <span class=\"token operator\">=</span> int<span class=\"token punctuation\">(</span>f5<span class=\"token punctuation\">.</span>read<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>content<span class=\"token punctuation\">)</span>\n    f5<span class=\"token punctuation\">.</span>close<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n\n    f5 <span class=\"token operator\">=</span> open<span class=\"token punctuation\">(</span><span class=\"token string\">'./test2.txt'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'w'</span><span class=\"token punctuation\">,</span> encoding<span class=\"token operator\">=</span><span class=\"token string\">'utf-8'</span><span class=\"token punctuation\">)</span>\n    content <span class=\"token operator\">+=</span> <span class=\"token number\">1</span>\n    f5<span class=\"token punctuation\">.</span>write<span class=\"token punctuation\">(</span>str<span class=\"token punctuation\">(</span>content<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>content<span class=\"token punctuation\">)</span>\n    f<span class=\"token punctuation\">.</span>close<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n</code></pre>\n<h4 id=\"对文件进行操作后，文件自动关闭\"><a href=\"#对文件进行操作后，文件自动关闭\" class=\"headerlink\" title=\"对文件进行操作后，文件自动关闭\"></a>对文件进行操作后，文件自动关闭</h4><pre class=\" language-python\"><code class=\"language-python\"><span class=\"token keyword\">if</span> __name__ <span class=\"token operator\">==</span> <span class=\"token string\">'__main__'</span><span class=\"token punctuation\">:</span>\n    <span class=\"token comment\" spellcheck=\"true\"># 读二进制（上传文件）</span>\n    <span class=\"token keyword\">with</span> open<span class=\"token punctuation\">(</span><span class=\"token string\">'./filess/8.jpg'</span><span class=\"token punctuation\">,</span><span class=\"token string\">'rb'</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">as</span>  f<span class=\"token punctuation\">:</span>\n        <span class=\"token comment\" spellcheck=\"true\"># bytes是Python中内置的数据类型，用来表示二进制数据</span>\n        content <span class=\"token operator\">=</span> f<span class=\"token punctuation\">.</span>read<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n        <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>type<span class=\"token punctuation\">(</span>content<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n        <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>content<span class=\"token punctuation\">)</span>\n    <span class=\"token comment\" spellcheck=\"true\"># 将二进制数据写入文件（下载图片）</span>\n    <span class=\"token keyword\">with</span> open<span class=\"token punctuation\">(</span><span class=\"token string\">'./filess/r.jpg'</span><span class=\"token punctuation\">,</span><span class=\"token string\">'wb'</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">as</span> ff<span class=\"token punctuation\">:</span>\n            ff<span class=\"token punctuation\">.</span>write<span class=\"token punctuation\">(</span>content<span class=\"token punctuation\">)</span>\n</code></pre>\n<h4 id=\"二、对json文件的操作\"><a href=\"#二、对json文件的操作\" class=\"headerlink\" title=\"二、对json文件的操作\"></a>二、对json文件的操作</h4><pre class=\" language-python\"><code class=\"language-python\">json是有特定格式的一种文本形式，它有自己的语法\njson文件就是后缀是<span class=\"token punctuation\">.</span>json的文本\n<span class=\"token number\">1.</span>json格式应的数据类型及其表现\na<span class=\"token punctuation\">.</span>一个json文件中只能存一个数据，这个数据的类型必须是以下类型中的一个\n对象类型，数组，数字，字符串，布尔，null\n类型：                                  格式                          意义\n对象（object）<span class=\"token punctuation\">:</span>                      <span class=\"token punctuation\">{</span><span class=\"token string\">\"a\"</span><span class=\"token punctuation\">:</span><span class=\"token number\">10</span><span class=\"token punctuation\">,</span><span class=\"token string\">\"b\"</span><span class=\"token punctuation\">:</span><span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span><span class=\"token number\">2</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">}</span>             相当于字典\n数组（array）                      <span class=\"token punctuation\">[</span><span class=\"token number\">100</span><span class=\"token punctuation\">,</span><span class=\"token string\">\"a10bc\"</span>true<span class=\"token punctuation\">,</span><span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span><span class=\"token number\">2</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">]</span>         相当于列表，里面的元素可以是任何类型\n数字（number）                       <span class=\"token number\">0</span><span class=\"token punctuation\">,</span><span class=\"token number\">100</span><span class=\"token punctuation\">,</span><span class=\"token number\">30</span><span class=\"token punctuation\">,</span><span class=\"token number\">3.14</span><span class=\"token punctuation\">,</span><span class=\"token operator\">-</span><span class=\"token number\">100</span>               包含整数和小数<span class=\"token number\">1</span>\n字符串（string）                     <span class=\"token string\">\"abc\"</span><span class=\"token punctuation\">,</span><span class=\"token string\">\"hello jason\"</span>\n布尔：                               true<span class=\"token operator\">/</span>false                       是（真）<span class=\"token operator\">/</span>否（假）\nnull：                               null                             空值\n\n<span class=\"token number\">2.</span>Python对json数据的支持\njson<span class=\"token operator\">-</span><span class=\"token operator\">-</span><span class=\"token operator\">-</span>python\n对象               字典（dict<span class=\"token punctuation\">)</span>\n数组               列表list<span class=\"token punctuation\">)</span>\n数字               整数（int<span class=\"token punctuation\">)</span>和浮点数（float<span class=\"token punctuation\">)</span>\n布尔<span class=\"token operator\">/</span>true<span class=\"token punctuation\">,</span>false    布尔（bool<span class=\"token punctuation\">)</span><span class=\"token operator\">/</span><span class=\"token boolean\">True</span><span class=\"token punctuation\">,</span><span class=\"token boolean\">False</span>\nnull               None\n\n</code></pre>\n<p>json 模块是Python中，内置的，专门用来处理json的数据文件<br>1.load(json文件对象）：以json的格式，获取原文件中的内容。将文件内容转换成相应的Python数据<br>2.loads(json格式内容的字符串)，编码方式）：获取的是二进制的文件，将json格式的字符串，转换成Python对应数据<br>3.dump（需要写入json文件中的Python数据，json文件对象）：将原文件写入json中<br>4.dumps（需要转换成json格式字符串的Python数据）：将文件以二进制方式写入json文件中</p>\n<pre class=\" language-python\"><code class=\"language-python\"><span class=\"token keyword\">import</span> json\n<span class=\"token keyword\">if</span> __name__ <span class=\"token operator\">==</span> <span class=\"token string\">'__main__'</span><span class=\"token punctuation\">:</span>\n    <span class=\"token comment\" spellcheck=\"true\"># 1.josn转python数据</span>\n    <span class=\"token keyword\">with</span> open<span class=\"token punctuation\">(</span><span class=\"token string\">'./filess/json1.json'</span><span class=\"token punctuation\">,</span><span class=\"token string\">'r'</span><span class=\"token punctuation\">,</span>encoding <span class=\"token operator\">=</span> <span class=\"token string\">'utf-8'</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">as</span> f<span class=\"token punctuation\">:</span>\n        content <span class=\"token operator\">=</span> json<span class=\"token punctuation\">.</span>load<span class=\"token punctuation\">(</span>f<span class=\"token punctuation\">)</span>\n        <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>content<span class=\"token punctuation\">)</span>\n        <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>type<span class=\"token punctuation\">(</span>content<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n\n    content1 <span class=\"token operator\">=</span> json<span class=\"token punctuation\">.</span>loads<span class=\"token punctuation\">(</span><span class=\"token string\">'\"abc\"'</span><span class=\"token punctuation\">,</span> encoding<span class=\"token operator\">=</span><span class=\"token string\">'utf-8'</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>content1<span class=\"token punctuation\">,</span>type<span class=\"token punctuation\">(</span>content1<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n</code></pre>\n<pre><code>python ---&gt;             json\n    字典                    对象\n    列表、元组               数组\n    整数/浮点数              数字\n    布尔/True,False         true,false\n    字符串                   字符串（双引号）\n    None                     null\n</code></pre><pre class=\" language-python\"><code class=\"language-python\"> <span class=\"token keyword\">with</span> open<span class=\"token punctuation\">(</span><span class=\"token string\">'./filess/new.json'</span><span class=\"token punctuation\">,</span><span class=\"token string\">'w'</span><span class=\"token punctuation\">,</span>encoding<span class=\"token operator\">=</span><span class=\"token string\">'utf-8'</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">as</span> f<span class=\"token punctuation\">:</span>\n        json<span class=\"token punctuation\">.</span>dump<span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span><span class=\"token string\">'a'</span><span class=\"token punctuation\">:</span><span class=\"token number\">100</span><span class=\"token punctuation\">,</span><span class=\"token string\">'h'</span><span class=\"token punctuation\">:</span><span class=\"token number\">200</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>f<span class=\"token punctuation\">)</span>\n        <span class=\"token comment\" spellcheck=\"true\"># json.dump([1,2,3,'abc'],f)</span>\n        <span class=\"token comment\" spellcheck=\"true\"># json.dump((1,2,'abc',100,True),f)</span>\n        <span class=\"token comment\" spellcheck=\"true\"># 注意：Python中的集合不能转换成json数据</span>\n        <span class=\"token comment\" spellcheck=\"true\"># json.dump({11,22,'aa'},f)</span>\n</code></pre>\n<ul>\n<li>练习，用json文件来保存一个班的班级信息，包括班级名和班上的所有的学生（名字、年龄和电话）<br>输入学生信息，添加学生<br>根据姓名删除学生<br>(做到数据持久化）<br><code>`</code>python<br>json文件的数据格式<br>{<br>  “class_name”:”班级名”<br>  “all_students”:[<pre><code>  {&quot;name&quot;:&quot;名字&quot;，&quot;age&quot;:&quot;年龄&quot;,&quot;tel&quot;:&quot;电话&quot;},\n  {&quot;name&quot;:&quot;名字&quot;，&quot;age&quot;:&quot;年龄&quot;,&quot;tel&quot;:&quot;电话&quot;},\n  {&quot;name&quot;:&quot;名字&quot;，&quot;age&quot;:&quot;年龄&quot;,&quot;tel&quot;:&quot;电话&quot;}\n</code></pre>  ]<br>}</li>\n</ul>\n<h1 id=\"1-读出保存班级信息对应的json文件中的内容\"><a href=\"#1-读出保存班级信息对应的json文件中的内容\" class=\"headerlink\" title=\"1.读出保存班级信息对应的json文件中的内容\"></a>1.读出保存班级信息对应的json文件中的内容</h1><p>with open(‘./filess/class_info.json’,’r’,encoding=’utf-8’) as f:<br>    class_content = json.load(f)<br>    print(class_content)</p>\n<pre><code># 输入添加信息\n</code></pre><p>name = input(‘请输入姓名：’)<br>age = input(‘请输入年龄：’)<br>tel = input(‘请输入电话：’)<br>stu = {“name”:name,”age”:int(age),”tel”:tel}<br>class_content[‘all_student’].append(stu)</p>\n<p>class_info = {<br>    ‘class_name’: ‘python1806’,<br>    ‘all_student’:[<br>        stu<br>    ]<br>}</p>\n<h1 id=\"将最新的数据写入文件中\"><a href=\"#将最新的数据写入文件中\" class=\"headerlink\" title=\"将最新的数据写入文件中\"></a>将最新的数据写入文件中</h1><p>with open(‘./filess/class_info.json’,’w’,encoding=’utf-8’) as f:<br>    json.dump(class_content,f)</p>\n<p>数据的持久化：<br>1.将数据从文件中读出来<br>2.修改数据（增、删、改）<br>3.将新的数据在写入文件中</p>\n<pre><code>\n#### 三、异常捕获\n\n1.为什么要使用异常捕获\n异常：程序崩溃了，报错了\n程序出现异常，但不想因为这个异常而让这个程序崩溃，这个时候就可以使用异常捕获机制\n2.怎么捕获异常\n形式1：捕获try后代码块里面所有的异常\ntry:\n——需要捕获异常的代码块（可能会出现异常的代码块）\nexcept:\n——出现异常后执行的代码块\n\n执行过程：执行try后面的代码块，一旦遇到异常，就马上执行except后面的代码块，执行完后再执行其他语句\n​          如果try里面的代码块没有异常，就不执行except后面的代码块，而是直接执行其他语句\n\nb.形式2：\ntry:\n——需要捕获异常的代码块（可能会出现异常的代码块）\nexcept 错误类型:\n——出现异常后执行的代码块\n\n执行过程：执行try后面的代码块，一旦遇到指定的错误类型的异常，就马上执行except后面的代码块，执行完后再执行其他语句\n​          如果try里面的代码块没有遇到指定的异常，就不执行except后面的代码块，而是直接执行其他语句\nc.形式3\ntry:\n——需要捕获异常的代码块（可能会出现异常的代码块）\nexcept （错误类型1，错误类型2.....):\n——出现异常后执行的代码块\n\nd.形式4\ntry:\n——需要捕获异常的代码块（可能会出现异常的代码块）\nexcept 错误类型1:\n——执行语句1\nexcept 错误类型2:\n——执行语句2\n\ne.形式5\ntry:\n——需要捕获异常的代码块（可能会出现异常的代码块）\n​    （在这而做程序异常退出的善后，一般做保存数据和进度的工作）\nexcept:\n——出现异常后执行的代码块\nfinally:\n——不管有没有异常，都会执行（就算崩溃了，也会执行）\n```python\nif __name__ == &#39;__main__&#39;:\n    # 1.什么情况时使用\n    # a.输入两个数，让后求这两个数的商是多少\n    # num1 = float(input(&#39;除数：&#39;))\n    # num2 = float(input(&#39;被除数：&#39;))\n    # print(&#39;%f /%f = %f&#39; % (num1,num2,num1/num2))\n    try:\n        num1 = float(input(&#39;除数：&#39;))\n        num2 = float(input(&#39;被除数：&#39;))\n        print(&#39;%f /%f = %f&#39; % (num1, num2, num1 / num2))\n    except :\n        print(&#39;输入错误，请重新输入&#39;)\n\n    # b.打开一个不存在的文件，不希望程序崩溃，只是让读出的内容为空\n    import json\n    # with open(&#39;./files/info.json&#39;,&#39;r&#39;,encoding= &#39;utf-8&#39;) as f:\n    #     content = json.load(f)\n    try:\n        with open(&#39;./files/info.json&#39;, &#39;r&#39;, encoding=&#39;utf-8&#39;) as f:\n            content = json.load(f)\n    except FileNotFoundError:\n        print(&#39;文件不存在&#39;)\n\n    # 2.捕获异常\n    # a = [1,2,3,4,5]\n    # try:\n    #     print(a[6])\n    # except:\n    #     print(&#39;捕获到异常&#39;)\n    # print(&#39;==========&#39;)\n    #\n    # dict1 = {&#39;a&#39;:1,&#39;b&#39;:2}\n    # try:\n    #     dict1[&#39;c&#39;]\n    #     print(a[6])\n    # except IndexError:\n    #     print(&#39;下标越界&#39;)\n    # except KeyError:\n    #     print(&#39;key错误&#39;)\n\n# 3.抛出异常（后面补充）\n    num = input(&#39;请输入一个奇数：&#39;)\n    if int(num) % 2 == 0:\n        raise ValueError\n</code></pre>","site":{"data":{}},"excerpt":"","more":"<h2 id=\"文件操作\"><a href=\"#文件操作\" class=\"headerlink\" title=\"文件操作\"></a>文件操作</h2><h4 id=\"一、文件的读和写\"><a href=\"#一、文件的读和写\" class=\"headerlink\" title=\"一、文件的读和写\"></a>一、文件的读和写</h4><ul>\n<li>1.程序中不管操作任何文件，不管怎么操作，过程都是一样的<br>过程：打开文件–》操作（读/写）–》关闭文件</li>\n<li>2.做数据持久化、本地化，都要使用文件来保存数据<br>（数据库文件、txt文档、json文件、plist、xml文件等、二进制文件（图片、视频、音频等））</li>\n</ul>\n<p>程序中通过变量、列表、字典等保存的数据，在程序结束后都会被销毁的。</p>\n<h6 id=\"1-打开文件\"><a href=\"#1-打开文件\" class=\"headerlink\" title=\"1.打开文件\"></a>1.打开文件</h6><pre><code>open(文件地址file,打开方式mode，encoding = 编码方式)\n</code></pre><ul>\n<li>a.文件地址：告诉open要打开的是哪个文件，填文件路径（可以填绝对路径，也可以填相对路径）<br>绝对路径：C:/Users/Administrator/Desktop/txt.txt<br>相对路径：./相对路径（相对于当前文件所在的目录）    ../相对路径（相对于当前文件所在的目录的上一层目录）<br>  一次向外扩展</li>\n<li>b.打开方式：获取文件的内容以读的形式打开，往文件中写内容就以写的形式打开<br> ‘r’–》读（默认值），读出来的内容以文本（str)的形式返回<br>  ‘rb’/‘br’–》读，读出来的内容以二进制（bytes)的形式返回<br>  ‘w’–》写，写文本到文件中<br>  ‘wb’/‘bw’–》写，写二进制数据到文本中<br>  ‘a’–》写，追加<ul>\n<li>c.编码方式：以文本的形式读和写的时候才需要设置编码方式<br>utf-8:万国码<br>gbk:只支持中文</li>\n<li>d.open函数的返回值是被打开的文件对象</li>\n</ul>\n</li>\n</ul>\n<h6 id=\"2-关闭文件\"><a href=\"#2-关闭文件\" class=\"headerlink\" title=\"2.关闭文件\"></a>2.关闭文件</h6><p>文件对象.close</p>\n<pre><code class=\"python\"> # 1.打开文件\n # f1 = open(&#39;D:/编程Python/Python代码/我的python/08-31函数和文件操作&#39;,&#39;rb&#39;)\n    f1= open(&#39;./程序员.txt&#39;,&#39;rb&#39;)\n # 2.文件关闭  \n     f1.close()\n</code></pre>\n<h5 id=\"3-操作文件\"><a href=\"#3-操作文件\" class=\"headerlink\" title=\"3.操作文件\"></a>3.操作文件</h5><h6 id=\"a-读操作\"><a href=\"#a-读操作\" class=\"headerlink\" title=\"a.读操作\"></a>a.读操作</h6><pre><code class=\"python\">    read():从文件的开头读到文件结束\n    readline():读一行\n\n # 打开文件，f就是被打开的文件对象\n    f = open(&#39;./程序员.txt&#39;,&#39;r&#39;,encoding = &#39;utf-8&#39;)\n # 获取文件中所有内容，将结果返回给content保存\n    content = f.read()\n    print(content)\n # 前面已经读完了，接着往后读，读不到内容\n    print(&#39;!!!:&#39;,f.readline())\n    f.close()\n    print(&#39;=========================&#39;)\n    f1 = open(&#39;./程序员.txt&#39;,&#39;r&#39;,encoding=&#39;utf-8&#39;)\n # 从文件开始读到第一行结束\n    content = f1.readline()\n    print(content)\n # 从文件第二行开始，读到第二行结束\n    print(f1.readline())\n # 从第三行开始，读到文件结束\n    print(f1.read())\n    f1.close()\n</code></pre>\n<h6 id=\"练习：读文件中的内容，一行一行的读，读完为止\"><a href=\"#练习：读文件中的内容，一行一行的读，读完为止\" class=\"headerlink\" title=\"练习：读文件中的内容，一行一行的读，读完为止\"></a>练习：读文件中的内容，一行一行的读，读完为止</h6><pre><code class=\"python\">print(&#39;```````````&#39;)\n    f2 = open(&#39;./程序员.txt&#39;, &#39;r&#39;, encoding=&#39;utf-8&#39;)\n    content = f2.readline()\n    while content:\n        print(&#39;line:&#39;, content)\n        content = f2.readline()\n    f2.close()\n</code></pre>\n<h6 id=\"b-操作\"><a href=\"#b-操作\" class=\"headerlink\" title=\"b.操作\"></a>b.操作</h6><pre><code class=\"python\">write(写的内容）\n&#39;w&#39;--&gt;写操作，完全覆盖原文件的内容\n&#39;a&#39;--&gt;写操作，在原文件的内容后去追加新的内容\n\n# f3 = open(&#39;./test.txt&#39;,&#39;a&#39;,encoding = &#39;utf-8&#39;)\n# f3.write(&#39;程序员的诗&#39;)\n# f3.close()\n</code></pre>\n<h4 id=\"4-文件不存在的情况\"><a href=\"#4-文件不存在的情况\" class=\"headerlink\" title=\"4.文件不存在的情况\"></a>4.文件不存在的情况</h4><p>当以读的形式打开文件的时候，如果文件不存在，程序会崩溃<br>当以写的形式打开一个不存在的文件的时候，会自动创建一个新的文件</p>\n<pre><code class=\"python\"># f4 = open(&#39;./test2.txt&#39;,&#39;w&#39;,encoding = &#39;utf-8&#39;)\n    # f4.write(&#39;你好,初次见面请多关照&#39;)\n    # f4.close()\n</code></pre>\n<h6 id=\"练习：统计一个模块的执行次数\"><a href=\"#练习：统计一个模块的执行次数\" class=\"headerlink\" title=\"练习：统计一个模块的执行次数\"></a>练习：统计一个模块的执行次数</h6><pre><code class=\"python\"># def num1():\n    # while True:\n    f5 = open(&#39;./test2.txt&#39;, &#39;r&#39;, encoding=&#39;utf-8&#39;)\n    content = int(f5.read())\n    print(content)\n    f5.close()\n\n    f5 = open(&#39;./test2.txt&#39;, &#39;w&#39;, encoding=&#39;utf-8&#39;)\n    content += 1\n    f5.write(str(content))\n    print(content)\n    f.close()\n</code></pre>\n<h4 id=\"对文件进行操作后，文件自动关闭\"><a href=\"#对文件进行操作后，文件自动关闭\" class=\"headerlink\" title=\"对文件进行操作后，文件自动关闭\"></a>对文件进行操作后，文件自动关闭</h4><pre><code class=\"python\">if __name__ == &#39;__main__&#39;:\n    # 读二进制（上传文件）\n    with open(&#39;./filess/8.jpg&#39;,&#39;rb&#39;) as  f:\n        # bytes是Python中内置的数据类型，用来表示二进制数据\n        content = f.read()\n        print(type(content))\n        print(content)\n    # 将二进制数据写入文件（下载图片）\n    with open(&#39;./filess/r.jpg&#39;,&#39;wb&#39;) as ff:\n            ff.write(content)\n</code></pre>\n<h4 id=\"二、对json文件的操作\"><a href=\"#二、对json文件的操作\" class=\"headerlink\" title=\"二、对json文件的操作\"></a>二、对json文件的操作</h4><pre><code class=\"python\">json是有特定格式的一种文本形式，它有自己的语法\njson文件就是后缀是.json的文本\n1.json格式应的数据类型及其表现\na.一个json文件中只能存一个数据，这个数据的类型必须是以下类型中的一个\n对象类型，数组，数字，字符串，布尔，null\n类型：                                  格式                          意义\n对象（object）:                      {&quot;a&quot;:10,&quot;b&quot;:[1,2]}             相当于字典\n数组（array）                      [100,&quot;a10bc&quot;true,[1,2]]         相当于列表，里面的元素可以是任何类型\n数字（number）                       0,100,30,3.14,-100               包含整数和小数1\n字符串（string）                     &quot;abc&quot;,&quot;hello jason&quot;\n布尔：                               true/false                       是（真）/否（假）\nnull：                               null                             空值\n\n2.Python对json数据的支持\njson---python\n对象               字典（dict)\n数组               列表list)\n数字               整数（int)和浮点数（float)\n布尔/true,false    布尔（bool)/True,False\nnull               None\n\n</code></pre>\n<p>json 模块是Python中，内置的，专门用来处理json的数据文件<br>1.load(json文件对象）：以json的格式，获取原文件中的内容。将文件内容转换成相应的Python数据<br>2.loads(json格式内容的字符串)，编码方式）：获取的是二进制的文件，将json格式的字符串，转换成Python对应数据<br>3.dump（需要写入json文件中的Python数据，json文件对象）：将原文件写入json中<br>4.dumps（需要转换成json格式字符串的Python数据）：将文件以二进制方式写入json文件中</p>\n<pre><code class=\"python\">import json\nif __name__ == &#39;__main__&#39;:\n    # 1.josn转python数据\n    with open(&#39;./filess/json1.json&#39;,&#39;r&#39;,encoding = &#39;utf-8&#39;) as f:\n        content = json.load(f)\n        print(content)\n        print(type(content))\n\n    content1 = json.loads(&#39;&quot;abc&quot;&#39;, encoding=&#39;utf-8&#39;)\n    print(content1,type(content1))\n</code></pre>\n<pre><code>python ---&gt;             json\n    字典                    对象\n    列表、元组               数组\n    整数/浮点数              数字\n    布尔/True,False         true,false\n    字符串                   字符串（双引号）\n    None                     null\n</code></pre><pre><code class=\"python\"> with open(&#39;./filess/new.json&#39;,&#39;w&#39;,encoding=&#39;utf-8&#39;) as f:\n        json.dump({&#39;a&#39;:100,&#39;h&#39;:200},f)\n        # json.dump([1,2,3,&#39;abc&#39;],f)\n        # json.dump((1,2,&#39;abc&#39;,100,True),f)\n        # 注意：Python中的集合不能转换成json数据\n        # json.dump({11,22,&#39;aa&#39;},f)\n</code></pre>\n<ul>\n<li>练习，用json文件来保存一个班的班级信息，包括班级名和班上的所有的学生（名字、年龄和电话）<br>输入学生信息，添加学生<br>根据姓名删除学生<br>(做到数据持久化）<br><code>`</code>python<br>json文件的数据格式<br>{<br>  “class_name”:”班级名”<br>  “all_students”:[<pre><code>  {&quot;name&quot;:&quot;名字&quot;，&quot;age&quot;:&quot;年龄&quot;,&quot;tel&quot;:&quot;电话&quot;},\n  {&quot;name&quot;:&quot;名字&quot;，&quot;age&quot;:&quot;年龄&quot;,&quot;tel&quot;:&quot;电话&quot;},\n  {&quot;name&quot;:&quot;名字&quot;，&quot;age&quot;:&quot;年龄&quot;,&quot;tel&quot;:&quot;电话&quot;}\n</code></pre>  ]<br>}</li>\n</ul>\n<h1 id=\"1-读出保存班级信息对应的json文件中的内容\"><a href=\"#1-读出保存班级信息对应的json文件中的内容\" class=\"headerlink\" title=\"1.读出保存班级信息对应的json文件中的内容\"></a>1.读出保存班级信息对应的json文件中的内容</h1><p>with open(‘./filess/class_info.json’,’r’,encoding=’utf-8’) as f:<br>    class_content = json.load(f)<br>    print(class_content)</p>\n<pre><code># 输入添加信息\n</code></pre><p>name = input(‘请输入姓名：’)<br>age = input(‘请输入年龄：’)<br>tel = input(‘请输入电话：’)<br>stu = {“name”:name,”age”:int(age),”tel”:tel}<br>class_content[‘all_student’].append(stu)</p>\n<p>class_info = {<br>    ‘class_name’: ‘python1806’,<br>    ‘all_student’:[<br>        stu<br>    ]<br>}</p>\n<h1 id=\"将最新的数据写入文件中\"><a href=\"#将最新的数据写入文件中\" class=\"headerlink\" title=\"将最新的数据写入文件中\"></a>将最新的数据写入文件中</h1><p>with open(‘./filess/class_info.json’,’w’,encoding=’utf-8’) as f:<br>    json.dump(class_content,f)</p>\n<p>数据的持久化：<br>1.将数据从文件中读出来<br>2.修改数据（增、删、改）<br>3.将新的数据在写入文件中</p>\n<pre><code>\n#### 三、异常捕获\n\n1.为什么要使用异常捕获\n异常：程序崩溃了，报错了\n程序出现异常，但不想因为这个异常而让这个程序崩溃，这个时候就可以使用异常捕获机制\n2.怎么捕获异常\n形式1：捕获try后代码块里面所有的异常\ntry:\n——需要捕获异常的代码块（可能会出现异常的代码块）\nexcept:\n——出现异常后执行的代码块\n\n执行过程：执行try后面的代码块，一旦遇到异常，就马上执行except后面的代码块，执行完后再执行其他语句\n​          如果try里面的代码块没有异常，就不执行except后面的代码块，而是直接执行其他语句\n\nb.形式2：\ntry:\n——需要捕获异常的代码块（可能会出现异常的代码块）\nexcept 错误类型:\n——出现异常后执行的代码块\n\n执行过程：执行try后面的代码块，一旦遇到指定的错误类型的异常，就马上执行except后面的代码块，执行完后再执行其他语句\n​          如果try里面的代码块没有遇到指定的异常，就不执行except后面的代码块，而是直接执行其他语句\nc.形式3\ntry:\n——需要捕获异常的代码块（可能会出现异常的代码块）\nexcept （错误类型1，错误类型2.....):\n——出现异常后执行的代码块\n\nd.形式4\ntry:\n——需要捕获异常的代码块（可能会出现异常的代码块）\nexcept 错误类型1:\n——执行语句1\nexcept 错误类型2:\n——执行语句2\n\ne.形式5\ntry:\n——需要捕获异常的代码块（可能会出现异常的代码块）\n​    （在这而做程序异常退出的善后，一般做保存数据和进度的工作）\nexcept:\n——出现异常后执行的代码块\nfinally:\n——不管有没有异常，都会执行（就算崩溃了，也会执行）\n```python\nif __name__ == &#39;__main__&#39;:\n    # 1.什么情况时使用\n    # a.输入两个数，让后求这两个数的商是多少\n    # num1 = float(input(&#39;除数：&#39;))\n    # num2 = float(input(&#39;被除数：&#39;))\n    # print(&#39;%f /%f = %f&#39; % (num1,num2,num1/num2))\n    try:\n        num1 = float(input(&#39;除数：&#39;))\n        num2 = float(input(&#39;被除数：&#39;))\n        print(&#39;%f /%f = %f&#39; % (num1, num2, num1 / num2))\n    except :\n        print(&#39;输入错误，请重新输入&#39;)\n\n    # b.打开一个不存在的文件，不希望程序崩溃，只是让读出的内容为空\n    import json\n    # with open(&#39;./files/info.json&#39;,&#39;r&#39;,encoding= &#39;utf-8&#39;) as f:\n    #     content = json.load(f)\n    try:\n        with open(&#39;./files/info.json&#39;, &#39;r&#39;, encoding=&#39;utf-8&#39;) as f:\n            content = json.load(f)\n    except FileNotFoundError:\n        print(&#39;文件不存在&#39;)\n\n    # 2.捕获异常\n    # a = [1,2,3,4,5]\n    # try:\n    #     print(a[6])\n    # except:\n    #     print(&#39;捕获到异常&#39;)\n    # print(&#39;==========&#39;)\n    #\n    # dict1 = {&#39;a&#39;:1,&#39;b&#39;:2}\n    # try:\n    #     dict1[&#39;c&#39;]\n    #     print(a[6])\n    # except IndexError:\n    #     print(&#39;下标越界&#39;)\n    # except KeyError:\n    #     print(&#39;key错误&#39;)\n\n# 3.抛出异常（后面补充）\n    num = input(&#39;请输入一个奇数：&#39;)\n    if int(num) % 2 == 0:\n        raise ValueError\n</code></pre>"},{"title":"基础语法","date":"2017-03-07T12:47:01.000Z","author":"smile","_content":"\n###（一）基础\n1.快捷键：\n control+/      注释/取消注释\n control+s      保存（养成习惯）\n control+c      复制、拷贝\n control+v      粘贴\n control+x      剪切\n control+b      编译（编译执行——sublime）\n control+r      编译执行（暂时不用）\n control+a      全选\n control+z      撤销\n control+y（control+shift+z）      反撤销\n control+f      查找\n control+n      新建（文件）\n control+shift+n       新建（工程）\n 按住shift点鼠标，可以选中部分内容\n\n 2.注意\n + ###写代码的时候，一定是在英文输入的状态下\n```python\nprint就是python中的打印函数，功能是在控制台将括号中的内容输出\nprint('hello world !')\n```\n### (二)基础语法\n####1.注释\n 注释是不会参与代码的编译和执行的，只是对代码进行解释和说明的文字。（写注释养成习惯）\n 单行注释就是在注释文字前加#\n多行注释如下\n```python\n'''\n这是多行注释\n这是多行注释\n这是多行注释\n'''\n\"\"\"\n这是多行注释\n这是多行注释\n这是多行注释\n\"\"\"\n```\n或者再多行前加#\n#### 2.标识符\n a.是由字母数字下划线组成（只能少不能多）\n b.数字不能开头\n c.大小写敏感（大小写的表示不一样，例如：abc、ABC不一样）\n+  python3以后，标识中可以包含非ASCII码（可以包含中文）,但是在实际开发中不建议使用\n +  版本A.B.C    A-大版本，重大修改    B-增加功能     C-修复BUG\n```python\nnb = 90\na1 = 10\na1_ = 10\n姓名 = 900\n_hs = 100\n```\n\n```python\n错误表示：\n\n a'sh = 100\n h%10 = 100\n 9 = 100\n 1abc = 100\n```\n#### 3.关键字（保留字）\n python中保留用来作为特殊语法和拥有特殊功能的一些单词\n```python\n'False', 'None', 'True', 'and', 'as', 'assert', 'break', \n'class', 'continue', 'def', 'del', 'elif', 'else', 'except', \n'finally', 'for', 'from', 'global', 'if', 'import', 'in', 'is', 'lambda',\n 'nonlocal', 'not', 'or', 'pass', 'raise', 'return', 'try', 'while', 'with', 'yield'\n```\n\n```python\nimport keyword\nprint(keyword.kwlist)\n```\n#### 4.行与缩进\n #####缩进要求：\n'''\na.同一级的代码必须保持同一缩进。(统一使用tab来产生缩进)\nb.通过缩进来产生代码块（类似于其他语言中的{}）\n'''\n##### 行的规范\na.声明函数的前后必须有两个换行\nb.声明类的前后也需要两个换行\nc.多个功能模块间用换行隔开\n```python\na = 10\nb = 20\nif a > 10:\n   print('abc')\n   print('123')\n```\n#### 5.多行显示(一句代码多行显示)\n a.在需要换行的地方加入\\，然后在后面换行。换行后缩进不受限制\n```python\na = 10000 + 10000 - 1000\\\n * 1000 + 10000 /1000\\\n  *2000 - 10000\nprint (a)\n```\n b.列表、字典、元祖和集合的字面量换行不用加\\\n```python\n[\n      120,\n      23,\n      'asd',\n      278,\n      'skda',\n      8444\n]\n```\n #### 6.字面量(具体的值)\n a.数字字面量：10,12.5,-10,+12,2e2(e表示10，e2表示10的平方),10j\n b.布尔值：True(真),False（假）\n c.字符串：'(all),asdj121'或者\"hhea11120\"\n d.列表：[10,20,'python','java']\n e.字典:{'a':10,'name':'XXX'}\n 7.python中的基本数据类型\n a.数字相关的:int(整型)，float(浮点型)，complex(复数)\n b.布尔（bool）：只有True和False两个值\n c.str(字符串)\n d.list(列表)\n e.dict(字典)\n f.tuple(元祖)\n g.set(集合)\n h.function(函数)\n i.bytes(字节)\n\n### (三)变量\n声明变量就是在内存中开辟 空间存储数据。（变量就是用来存储数据的）\n#####python是动态语言\n####1. 怎么声明变量\n#####格式：变量=值\n#####说明\n+ 类型:\n  python声明变量的时候不需要确定类型\n+ 变量名：\n  标识符，不能是关键字；见名知义，PEP8命名规范（所有的字母都是小写，多个单词之间用_隔开）\n+ =：\n  赋值符号，将右边的值赋值给左边的变量\n+ 值：\n  表达式（就是有结果的，例如：字面量，运算表达式（20+1），其他变量）\n####2.声明一个变量name,赋值为‘路飞’。使用name的时候，就相当于在使用‘路飞’\n```python\nname = '路飞'\nprint（name）\n```\n#### 3.声明一个变量class_name,保存'python1806'\n```python\nclass_name = 'python1806'   (驼峰式：className)\nnumber = 100\n```\n#### 4.声明一个变量，可以存储不同类型的数据\n```python\nnumber = '娜美'\nprint(number)\n```\n#### 5.python中每条语句结束可以不用加分号。但是如果一行要写多条语句，就用分号隔开\n```python\nnumber = 10;number = 10e2\n```\n#### 6.同时声明两个变量，并且赋值一样\n```python\nstr1 = str2 = str3 = 'abc'\n```\n#### 7.id函数\n####id（变量）————查看变量地址\n####python声明变量，和给变量赋值的原理：先在内存中开辟空间存储数据，然后再将变量名作为数据存储空间的名字\n```python\na = 10\nprint(id(a))\na = 100\nprint(id(a))\n\na = 10\nb = 10\nprint(id(a)),print(id(b))\nb = 20\nprint(id(b))\n```\n输出结果\n```python\n1835101488\n1835104368\n1835101488\n1835101488\n1835101808\n```\n#### python 中的声明变量与JAVA中声明变量的区别：\npython是先存储数据，然后再给这个存储空间命名。（数据决定空间位置）\n JAVA是先给空间命名，然后再存储数据。（变量决定空间位置）\n### (四)数字和布尔\n#### 1.int(整型)\n 所有的整数都是整型，python3中的整型只有int,python2中有int和long\n```python\nnum1 = 10\nnum2 = -100\n```\n #####内置函数：type（）--获取括号中数据的类型\n```python\nprint(type(num1),type(num2))\n```\n#### 2.float(浮点型)\n 所有带小数点的数，都是浮点型。python中的浮点型只有float\n```python\nnum3 = 0.12\nnum4 = +100.0\nnum5 = 2e2\nnum6 = -3.145\nprint(type(num3),\\\n\ttype(num4),\\\n\ttype(num5),\\\n\ttype(num6))\n```\n #### 3.布尔类型\n布尔只有True和false\n```python\nbool1 = True \nbool2 = False\nprint(type(bool2),type(bool1))\n```\n### (五)运算符\n####1.数学运算符：+(加)，-（减），*（乘），/（除），//(整除)，%（取余），**（幂运算）\n##### a.+，-，*，/，%和数学中的加、减、乘、除、求余的功能是一样的。\n```python\na = 10 + 10\nprint(10+20)\nprint(100-20)\nprint(2*3.5)\nprint(5/2)\nprint(3%2)\n```\n结果\n```python\n30\n80\n7\n2.5\n1\n```\n #####b.//(整除)\n求商，商只取整数部分\n```python\nprint(5//2)\nprint(6.3//2)\n```\n结果\n```python\n2\n3\n```\n #####c.**(幂运算)\n x**y--x的y次方\n```python\nprint(2**3)\nprint(9**0.5)\n```\n结果\n```python\n8\n3\n```\n 取出一个4位整数的百位上的数。例如，取出3512中的5\n```python\nnumber = 3512\nprint((number%1000)//100)\n```\n`5`\n#### 2.比较运算：>（大于），<（小于），==（等于），!=（不等于），>=(大于等于)\n 所有的比较运算的结果都是布尔值\n```python\nprint(10>20)\nprint(10<20)\nprint(10==20)\nprint(10!=20)\n```\n结果\n```python\nfalse\ntrue\nfalse\ntrue\n```\n#### 3.逻辑运算符：and（与），or(或),not(非)\n 逻辑运算符操作的数据是布尔值，输出的结果也是布尔值\n #####a.and(与)--和、并且\n```python\n  两个都是Ture结果才是True，只要有一个False，结果就是False\nprint(True and True)      True\nprint(True and False)     False\nprint(False and False)    False\n```\n```python\n  要求学习成绩在3.5以上，并且操评分不低于90\nscore1 = 4.0\nscore2 = 80\nprint(score1>3.5 and score2>90)   False\n```\n###### 什么时候使用 ：要求两个或者多个条件同时满足 \n\n##### b.or(或)--或者\n```python\n只要有一个True结果就是True。两个都是False结果才是False\nprint(score1>3.5 or score2>=90)   True\n```\n ######什么时候使用：要求有两个或者两个以上，满足一个就行\n\n##### c.not(非)\n```python\nTrue变成False,False就变成True\nage = 20\n年龄不小于18\nprint(not age<18)\nprint(age>=18)\n```\n ####4.赋值运算符：=（赋值），+=，-=，*=，/=，%=，//=，**=\n 赋值符号的左边必须是变量；运算顺序是（先算赋值符号右边的值，然后再将右边的值赋给左边）\n##### a.变量 = 值\n```python\na = 10\nb = 10 + 10\nc = a + b\nd = a > 10\nprint(d)\n```\n##### b.变量 += 值\n+  这儿的变量必须是已经声明过的变量\n```python\na += 2   相当于 a = a + 2\nprint(a)\nb -= 2   相当于 b = b - 2\n```\n+  补充：变量必须先声明，再使用\n```python\nnum1(错误表示，没有先定义)\nnum1 = 10;num2 = 20\nnum1\n```\n#### 5.运算符的优先级\n 数学运算符 > 比较运算符 > 逻辑运算符 > 赋值运算符\n 数学运算符：** > (*,/,//,%) > (+,-)\n 先计算优先级高的，优先级一样，从左往右依次计算。可以通过加括号改变优先级\n```python\nprint(10 * 20 + (30 < 40) / 2 - 100)\n\nprint(2*2**3//8%2)\n```\n### (六)进制\n######计算机中常用的进制：二进制、八进制、十进制、十六进制\n\n ####十进制\n 1.基数：0,1,2,3,4,5,6,7,8,9\n 2.进位：逢10进1\n 3.十进制数上的每一位：123 = 10^2*1+10^1*2+10^0*3\n\n#### 二进制\n 1.基数：0,1   例如：110,1010\n 2.进位：逢2进1\n 3.二进制数上的每一位：1011 = 2^0*1 + 2^1*1 + 2^2*0 + 2^3*1 = 11\n\n#### 八进制\n 1.基数：0,1,2，3,4,5,6,7\n 2.进位：逢8进1\n 3.八进制数的每一位：123 = 8^0*3 + 8^1*2+8^2*1 = 83\n\n#### 十六进制\n 1.基数：0-9，a-f(A-F)--a(10)~f(15)    例如：1af\n 2.进位：逢16进1\n 3.十六进制数的每一位：123 = 19^0*3 + 16^1*2 + 16^2*1 = 291\n\n ####进制间的转换\n 1.二进制、八进制、十六进制--->十进制\n 进制数^位数（从0开始）*每一位上的值的和\n\n 2.八进制、十六进制---->二进制\n 将一位的八进制转换成3位的二进制。将一位的十六进制转换成4位的二进制\n```python\n 123（8）--->001 010 011 --->001010011（2）\n 123（16）-->0001 0010 0011 -->000100100011(2)\n 10(16)-->0001 0000-->00010000\n```\n 3.二进制--->八进制、十六进制\n 将三位的二进制转换成一位的八进制，将四位的二进制转换成一位的十六进制\n```python\n 001 010 011(2)-->123(8)\n```\n 4.十进制--->二进制 ： 相除取余\n\n python进制的支持\n python支持整数的二进制、八进制、十六进制\n\n+ python中二进制、八进制、十六进制的表示\n+ ##### 二进制：0b\n```python\nprint(0b11)\nprint(11)\n\nprint(bin(20))        将其他的数据转换成二进制   bin()\nprint(bin(0x20))\n```\n+ ##### 八进制：0o\n  print(0o11)\n```python\nprint(oct(20))        将其他的数据转换成八进制   oct()\nprint(oct(0b11011))\n```\n + #####十六进制：0x\n```python\nprint(0xaf)\nprint(hex(20))        将其他的数据转换成十六进制 hex()\n```\n\n## （七）字符\n\n- 常见的转义字符：\n\n  - \\n --------- 换行\n\n  - \\t ---------- 制表符（相当于tab）\n\n  - \\ --------- ,隔开\n\n  - ‘ ------------ ’\n\n  - “ ----------- ”\n\n    在计算字符长度的时候，转义字符的长度是1","source":"_posts/python/基础语法.md","raw":"---\ntitle: 基础语法\ndate: 2017-03-07 20:47:01\nauthor: smile\ncategories: Python\ntags: \n  - python\n---\n\n###（一）基础\n1.快捷键：\n control+/      注释/取消注释\n control+s      保存（养成习惯）\n control+c      复制、拷贝\n control+v      粘贴\n control+x      剪切\n control+b      编译（编译执行——sublime）\n control+r      编译执行（暂时不用）\n control+a      全选\n control+z      撤销\n control+y（control+shift+z）      反撤销\n control+f      查找\n control+n      新建（文件）\n control+shift+n       新建（工程）\n 按住shift点鼠标，可以选中部分内容\n\n 2.注意\n + ###写代码的时候，一定是在英文输入的状态下\n```python\nprint就是python中的打印函数，功能是在控制台将括号中的内容输出\nprint('hello world !')\n```\n### (二)基础语法\n####1.注释\n 注释是不会参与代码的编译和执行的，只是对代码进行解释和说明的文字。（写注释养成习惯）\n 单行注释就是在注释文字前加#\n多行注释如下\n```python\n'''\n这是多行注释\n这是多行注释\n这是多行注释\n'''\n\"\"\"\n这是多行注释\n这是多行注释\n这是多行注释\n\"\"\"\n```\n或者再多行前加#\n#### 2.标识符\n a.是由字母数字下划线组成（只能少不能多）\n b.数字不能开头\n c.大小写敏感（大小写的表示不一样，例如：abc、ABC不一样）\n+  python3以后，标识中可以包含非ASCII码（可以包含中文）,但是在实际开发中不建议使用\n +  版本A.B.C    A-大版本，重大修改    B-增加功能     C-修复BUG\n```python\nnb = 90\na1 = 10\na1_ = 10\n姓名 = 900\n_hs = 100\n```\n\n```python\n错误表示：\n\n a'sh = 100\n h%10 = 100\n 9 = 100\n 1abc = 100\n```\n#### 3.关键字（保留字）\n python中保留用来作为特殊语法和拥有特殊功能的一些单词\n```python\n'False', 'None', 'True', 'and', 'as', 'assert', 'break', \n'class', 'continue', 'def', 'del', 'elif', 'else', 'except', \n'finally', 'for', 'from', 'global', 'if', 'import', 'in', 'is', 'lambda',\n 'nonlocal', 'not', 'or', 'pass', 'raise', 'return', 'try', 'while', 'with', 'yield'\n```\n\n```python\nimport keyword\nprint(keyword.kwlist)\n```\n#### 4.行与缩进\n #####缩进要求：\n'''\na.同一级的代码必须保持同一缩进。(统一使用tab来产生缩进)\nb.通过缩进来产生代码块（类似于其他语言中的{}）\n'''\n##### 行的规范\na.声明函数的前后必须有两个换行\nb.声明类的前后也需要两个换行\nc.多个功能模块间用换行隔开\n```python\na = 10\nb = 20\nif a > 10:\n   print('abc')\n   print('123')\n```\n#### 5.多行显示(一句代码多行显示)\n a.在需要换行的地方加入\\，然后在后面换行。换行后缩进不受限制\n```python\na = 10000 + 10000 - 1000\\\n * 1000 + 10000 /1000\\\n  *2000 - 10000\nprint (a)\n```\n b.列表、字典、元祖和集合的字面量换行不用加\\\n```python\n[\n      120,\n      23,\n      'asd',\n      278,\n      'skda',\n      8444\n]\n```\n #### 6.字面量(具体的值)\n a.数字字面量：10,12.5,-10,+12,2e2(e表示10，e2表示10的平方),10j\n b.布尔值：True(真),False（假）\n c.字符串：'(all),asdj121'或者\"hhea11120\"\n d.列表：[10,20,'python','java']\n e.字典:{'a':10,'name':'XXX'}\n 7.python中的基本数据类型\n a.数字相关的:int(整型)，float(浮点型)，complex(复数)\n b.布尔（bool）：只有True和False两个值\n c.str(字符串)\n d.list(列表)\n e.dict(字典)\n f.tuple(元祖)\n g.set(集合)\n h.function(函数)\n i.bytes(字节)\n\n### (三)变量\n声明变量就是在内存中开辟 空间存储数据。（变量就是用来存储数据的）\n#####python是动态语言\n####1. 怎么声明变量\n#####格式：变量=值\n#####说明\n+ 类型:\n  python声明变量的时候不需要确定类型\n+ 变量名：\n  标识符，不能是关键字；见名知义，PEP8命名规范（所有的字母都是小写，多个单词之间用_隔开）\n+ =：\n  赋值符号，将右边的值赋值给左边的变量\n+ 值：\n  表达式（就是有结果的，例如：字面量，运算表达式（20+1），其他变量）\n####2.声明一个变量name,赋值为‘路飞’。使用name的时候，就相当于在使用‘路飞’\n```python\nname = '路飞'\nprint（name）\n```\n#### 3.声明一个变量class_name,保存'python1806'\n```python\nclass_name = 'python1806'   (驼峰式：className)\nnumber = 100\n```\n#### 4.声明一个变量，可以存储不同类型的数据\n```python\nnumber = '娜美'\nprint(number)\n```\n#### 5.python中每条语句结束可以不用加分号。但是如果一行要写多条语句，就用分号隔开\n```python\nnumber = 10;number = 10e2\n```\n#### 6.同时声明两个变量，并且赋值一样\n```python\nstr1 = str2 = str3 = 'abc'\n```\n#### 7.id函数\n####id（变量）————查看变量地址\n####python声明变量，和给变量赋值的原理：先在内存中开辟空间存储数据，然后再将变量名作为数据存储空间的名字\n```python\na = 10\nprint(id(a))\na = 100\nprint(id(a))\n\na = 10\nb = 10\nprint(id(a)),print(id(b))\nb = 20\nprint(id(b))\n```\n输出结果\n```python\n1835101488\n1835104368\n1835101488\n1835101488\n1835101808\n```\n#### python 中的声明变量与JAVA中声明变量的区别：\npython是先存储数据，然后再给这个存储空间命名。（数据决定空间位置）\n JAVA是先给空间命名，然后再存储数据。（变量决定空间位置）\n### (四)数字和布尔\n#### 1.int(整型)\n 所有的整数都是整型，python3中的整型只有int,python2中有int和long\n```python\nnum1 = 10\nnum2 = -100\n```\n #####内置函数：type（）--获取括号中数据的类型\n```python\nprint(type(num1),type(num2))\n```\n#### 2.float(浮点型)\n 所有带小数点的数，都是浮点型。python中的浮点型只有float\n```python\nnum3 = 0.12\nnum4 = +100.0\nnum5 = 2e2\nnum6 = -3.145\nprint(type(num3),\\\n\ttype(num4),\\\n\ttype(num5),\\\n\ttype(num6))\n```\n #### 3.布尔类型\n布尔只有True和false\n```python\nbool1 = True \nbool2 = False\nprint(type(bool2),type(bool1))\n```\n### (五)运算符\n####1.数学运算符：+(加)，-（减），*（乘），/（除），//(整除)，%（取余），**（幂运算）\n##### a.+，-，*，/，%和数学中的加、减、乘、除、求余的功能是一样的。\n```python\na = 10 + 10\nprint(10+20)\nprint(100-20)\nprint(2*3.5)\nprint(5/2)\nprint(3%2)\n```\n结果\n```python\n30\n80\n7\n2.5\n1\n```\n #####b.//(整除)\n求商，商只取整数部分\n```python\nprint(5//2)\nprint(6.3//2)\n```\n结果\n```python\n2\n3\n```\n #####c.**(幂运算)\n x**y--x的y次方\n```python\nprint(2**3)\nprint(9**0.5)\n```\n结果\n```python\n8\n3\n```\n 取出一个4位整数的百位上的数。例如，取出3512中的5\n```python\nnumber = 3512\nprint((number%1000)//100)\n```\n`5`\n#### 2.比较运算：>（大于），<（小于），==（等于），!=（不等于），>=(大于等于)\n 所有的比较运算的结果都是布尔值\n```python\nprint(10>20)\nprint(10<20)\nprint(10==20)\nprint(10!=20)\n```\n结果\n```python\nfalse\ntrue\nfalse\ntrue\n```\n#### 3.逻辑运算符：and（与），or(或),not(非)\n 逻辑运算符操作的数据是布尔值，输出的结果也是布尔值\n #####a.and(与)--和、并且\n```python\n  两个都是Ture结果才是True，只要有一个False，结果就是False\nprint(True and True)      True\nprint(True and False)     False\nprint(False and False)    False\n```\n```python\n  要求学习成绩在3.5以上，并且操评分不低于90\nscore1 = 4.0\nscore2 = 80\nprint(score1>3.5 and score2>90)   False\n```\n###### 什么时候使用 ：要求两个或者多个条件同时满足 \n\n##### b.or(或)--或者\n```python\n只要有一个True结果就是True。两个都是False结果才是False\nprint(score1>3.5 or score2>=90)   True\n```\n ######什么时候使用：要求有两个或者两个以上，满足一个就行\n\n##### c.not(非)\n```python\nTrue变成False,False就变成True\nage = 20\n年龄不小于18\nprint(not age<18)\nprint(age>=18)\n```\n ####4.赋值运算符：=（赋值），+=，-=，*=，/=，%=，//=，**=\n 赋值符号的左边必须是变量；运算顺序是（先算赋值符号右边的值，然后再将右边的值赋给左边）\n##### a.变量 = 值\n```python\na = 10\nb = 10 + 10\nc = a + b\nd = a > 10\nprint(d)\n```\n##### b.变量 += 值\n+  这儿的变量必须是已经声明过的变量\n```python\na += 2   相当于 a = a + 2\nprint(a)\nb -= 2   相当于 b = b - 2\n```\n+  补充：变量必须先声明，再使用\n```python\nnum1(错误表示，没有先定义)\nnum1 = 10;num2 = 20\nnum1\n```\n#### 5.运算符的优先级\n 数学运算符 > 比较运算符 > 逻辑运算符 > 赋值运算符\n 数学运算符：** > (*,/,//,%) > (+,-)\n 先计算优先级高的，优先级一样，从左往右依次计算。可以通过加括号改变优先级\n```python\nprint(10 * 20 + (30 < 40) / 2 - 100)\n\nprint(2*2**3//8%2)\n```\n### (六)进制\n######计算机中常用的进制：二进制、八进制、十进制、十六进制\n\n ####十进制\n 1.基数：0,1,2,3,4,5,6,7,8,9\n 2.进位：逢10进1\n 3.十进制数上的每一位：123 = 10^2*1+10^1*2+10^0*3\n\n#### 二进制\n 1.基数：0,1   例如：110,1010\n 2.进位：逢2进1\n 3.二进制数上的每一位：1011 = 2^0*1 + 2^1*1 + 2^2*0 + 2^3*1 = 11\n\n#### 八进制\n 1.基数：0,1,2，3,4,5,6,7\n 2.进位：逢8进1\n 3.八进制数的每一位：123 = 8^0*3 + 8^1*2+8^2*1 = 83\n\n#### 十六进制\n 1.基数：0-9，a-f(A-F)--a(10)~f(15)    例如：1af\n 2.进位：逢16进1\n 3.十六进制数的每一位：123 = 19^0*3 + 16^1*2 + 16^2*1 = 291\n\n ####进制间的转换\n 1.二进制、八进制、十六进制--->十进制\n 进制数^位数（从0开始）*每一位上的值的和\n\n 2.八进制、十六进制---->二进制\n 将一位的八进制转换成3位的二进制。将一位的十六进制转换成4位的二进制\n```python\n 123（8）--->001 010 011 --->001010011（2）\n 123（16）-->0001 0010 0011 -->000100100011(2)\n 10(16)-->0001 0000-->00010000\n```\n 3.二进制--->八进制、十六进制\n 将三位的二进制转换成一位的八进制，将四位的二进制转换成一位的十六进制\n```python\n 001 010 011(2)-->123(8)\n```\n 4.十进制--->二进制 ： 相除取余\n\n python进制的支持\n python支持整数的二进制、八进制、十六进制\n\n+ python中二进制、八进制、十六进制的表示\n+ ##### 二进制：0b\n```python\nprint(0b11)\nprint(11)\n\nprint(bin(20))        将其他的数据转换成二进制   bin()\nprint(bin(0x20))\n```\n+ ##### 八进制：0o\n  print(0o11)\n```python\nprint(oct(20))        将其他的数据转换成八进制   oct()\nprint(oct(0b11011))\n```\n + #####十六进制：0x\n```python\nprint(0xaf)\nprint(hex(20))        将其他的数据转换成十六进制 hex()\n```\n\n## （七）字符\n\n- 常见的转义字符：\n\n  - \\n --------- 换行\n\n  - \\t ---------- 制表符（相当于tab）\n\n  - \\ --------- ,隔开\n\n  - ‘ ------------ ’\n\n  - “ ----------- ”\n\n    在计算字符长度的时候，转义字符的长度是1","slug":"python/基础语法","published":1,"updated":"2019-03-14T01:42:57.744Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjt87kqiz001ur8r64crgub1d","content":"<p>###（一）基础<br>1.快捷键：<br> control+/      注释/取消注释<br> control+s      保存（养成习惯）<br> control+c      复制、拷贝<br> control+v      粘贴<br> control+x      剪切<br> control+b      编译（编译执行——sublime）<br> control+r      编译执行（暂时不用）<br> control+a      全选<br> control+z      撤销<br> control+y（control+shift+z）      反撤销<br> control+f      查找<br> control+n      新建（文件）<br> control+shift+n       新建（工程）<br> 按住shift点鼠标，可以选中部分内容</p>\n<p> 2.注意</p>\n<ul>\n<li>###写代码的时候，一定是在英文输入的状态下<pre class=\" language-python\"><code class=\"language-python\"><span class=\"token keyword\">print</span>就是python中的打印函数，功能是在控制台将括号中的内容输出\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string\">'hello world !'</span><span class=\"token punctuation\">)</span>\n</code></pre>\n<h3 id=\"二-基础语法\"><a href=\"#二-基础语法\" class=\"headerlink\" title=\"(二)基础语法\"></a>(二)基础语法</h3>####1.注释<br>注释是不会参与代码的编译和执行的，只是对代码进行解释和说明的文字。（写注释养成习惯）<br>单行注释就是在注释文字前加#<br>多行注释如下<pre class=\" language-python\"><code class=\"language-python\"><span class=\"token triple-quoted-string string\">'''\n这是多行注释\n这是多行注释\n这是多行注释\n'''</span>\n<span class=\"token triple-quoted-string string\">\"\"\"\n这是多行注释\n这是多行注释\n这是多行注释\n\"\"\"</span>\n</code></pre>\n或者再多行前加#<h4 id=\"2-标识符\"><a href=\"#2-标识符\" class=\"headerlink\" title=\"2.标识符\"></a>2.标识符</h4>a.是由字母数字下划线组成（只能少不能多）<br>b.数字不能开头<br>c.大小写敏感（大小写的表示不一样，例如：abc、ABC不一样）<ul>\n<li>python3以后，标识中可以包含非ASCII码（可以包含中文）,但是在实际开发中不建议使用</li>\n</ul>\n</li>\n<li>版本A.B.C    A-大版本，重大修改    B-增加功能     C-修复BUG<pre class=\" language-python\"><code class=\"language-python\">nb <span class=\"token operator\">=</span> <span class=\"token number\">90</span>\na1 <span class=\"token operator\">=</span> <span class=\"token number\">10</span>\na1_ <span class=\"token operator\">=</span> <span class=\"token number\">10</span>\n姓名 <span class=\"token operator\">=</span> <span class=\"token number\">900</span>\n_hs <span class=\"token operator\">=</span> <span class=\"token number\">100</span>\n</code></pre>\n</li>\n</ul>\n<pre class=\" language-python\"><code class=\"language-python\">错误表示：\n\n a'sh <span class=\"token operator\">=</span> <span class=\"token number\">100</span>\n h<span class=\"token operator\">%</span><span class=\"token number\">10</span> <span class=\"token operator\">=</span> <span class=\"token number\">100</span>\n <span class=\"token number\">9</span> <span class=\"token operator\">=</span> <span class=\"token number\">100</span>\n <span class=\"token number\">1abc</span> <span class=\"token operator\">=</span> <span class=\"token number\">100</span>\n</code></pre>\n<h4 id=\"3-关键字（保留字）\"><a href=\"#3-关键字（保留字）\" class=\"headerlink\" title=\"3.关键字（保留字）\"></a>3.关键字（保留字）</h4><p> python中保留用来作为特殊语法和拥有特殊功能的一些单词</p>\n<pre class=\" language-python\"><code class=\"language-python\"><span class=\"token string\">'False'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'None'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'True'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'and'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'as'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'assert'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'break'</span><span class=\"token punctuation\">,</span> \n<span class=\"token string\">'class'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'continue'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'def'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'del'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'elif'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'else'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'except'</span><span class=\"token punctuation\">,</span> \n<span class=\"token string\">'finally'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'for'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'from'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'global'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'if'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'import'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'in'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'is'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'lambda'</span><span class=\"token punctuation\">,</span>\n <span class=\"token string\">'nonlocal'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'not'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'or'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'pass'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'raise'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'return'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'try'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'while'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'with'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'yield'</span>\n</code></pre>\n<pre class=\" language-python\"><code class=\"language-python\"><span class=\"token keyword\">import</span> keyword\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>keyword<span class=\"token punctuation\">.</span>kwlist<span class=\"token punctuation\">)</span>\n</code></pre>\n<h4 id=\"4-行与缩进\"><a href=\"#4-行与缩进\" class=\"headerlink\" title=\"4.行与缩进\"></a>4.行与缩进</h4><p> #####缩进要求：<br>‘’’<br>a.同一级的代码必须保持同一缩进。(统一使用tab来产生缩进)<br>b.通过缩进来产生代码块（类似于其他语言中的{}）<br>‘’’</p>\n<h5 id=\"行的规范\"><a href=\"#行的规范\" class=\"headerlink\" title=\"行的规范\"></a>行的规范</h5><p>a.声明函数的前后必须有两个换行<br>b.声明类的前后也需要两个换行<br>c.多个功能模块间用换行隔开</p>\n<pre class=\" language-python\"><code class=\"language-python\">a <span class=\"token operator\">=</span> <span class=\"token number\">10</span>\nb <span class=\"token operator\">=</span> <span class=\"token number\">20</span>\n<span class=\"token keyword\">if</span> a <span class=\"token operator\">></span> <span class=\"token number\">10</span><span class=\"token punctuation\">:</span>\n   <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string\">'abc'</span><span class=\"token punctuation\">)</span>\n   <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string\">'123'</span><span class=\"token punctuation\">)</span>\n</code></pre>\n<h4 id=\"5-多行显示-一句代码多行显示\"><a href=\"#5-多行显示-一句代码多行显示\" class=\"headerlink\" title=\"5.多行显示(一句代码多行显示)\"></a>5.多行显示(一句代码多行显示)</h4><p> a.在需要换行的地方加入\\，然后在后面换行。换行后缩进不受限制</p>\n<pre class=\" language-python\"><code class=\"language-python\">a <span class=\"token operator\">=</span> <span class=\"token number\">10000</span> <span class=\"token operator\">+</span> <span class=\"token number\">10000</span> <span class=\"token operator\">-</span> <span class=\"token number\">1000</span>\\\n <span class=\"token operator\">*</span> <span class=\"token number\">1000</span> <span class=\"token operator\">+</span> <span class=\"token number\">10000</span> <span class=\"token operator\">/</span><span class=\"token number\">1000</span>\\\n  <span class=\"token operator\">*</span><span class=\"token number\">2000</span> <span class=\"token operator\">-</span> <span class=\"token number\">10000</span>\n<span class=\"token keyword\">print</span> <span class=\"token punctuation\">(</span>a<span class=\"token punctuation\">)</span>\n</code></pre>\n<p> b.列表、字典、元祖和集合的字面量换行不用加\\</p>\n<pre class=\" language-python\"><code class=\"language-python\"><span class=\"token punctuation\">[</span>\n      <span class=\"token number\">120</span><span class=\"token punctuation\">,</span>\n      <span class=\"token number\">23</span><span class=\"token punctuation\">,</span>\n      <span class=\"token string\">'asd'</span><span class=\"token punctuation\">,</span>\n      <span class=\"token number\">278</span><span class=\"token punctuation\">,</span>\n      <span class=\"token string\">'skda'</span><span class=\"token punctuation\">,</span>\n      <span class=\"token number\">8444</span>\n<span class=\"token punctuation\">]</span>\n</code></pre>\n<h4 id=\"6-字面量-具体的值\"><a href=\"#6-字面量-具体的值\" class=\"headerlink\" title=\"6.字面量(具体的值)\"></a>6.字面量(具体的值)</h4><p> a.数字字面量：10,12.5,-10,+12,2e2(e表示10，e2表示10的平方),10j<br> b.布尔值：True(真),False（假）<br> c.字符串：’(all),asdj121’或者”hhea11120”<br> d.列表：[10,20,’python’,’java’]<br> e.字典:{‘a’:10,’name’:’XXX’}<br> 7.python中的基本数据类型<br> a.数字相关的:int(整型)，float(浮点型)，complex(复数)<br> b.布尔（bool）：只有True和False两个值<br> c.str(字符串)<br> d.list(列表)<br> e.dict(字典)<br> f.tuple(元祖)<br> g.set(集合)<br> h.function(函数)<br> i.bytes(字节)</p>\n<h3 id=\"三-变量\"><a href=\"#三-变量\" class=\"headerlink\" title=\"(三)变量\"></a>(三)变量</h3><p>声明变量就是在内存中开辟 空间存储数据。（变量就是用来存储数据的）</p>\n<p>#####python是动态语言</p>\n<p>####1. 怎么声明变量</p>\n<p>#####格式：变量=值</p>\n<p>#####说明</p>\n<ul>\n<li>类型:<br>python声明变量的时候不需要确定类型</li>\n<li>变量名：<br>标识符，不能是关键字；见名知义，PEP8命名规范（所有的字母都是小写，多个单词之间用_隔开）</li>\n<li>=：<br>赋值符号，将右边的值赋值给左边的变量</li>\n<li>值：<br>表达式（就是有结果的，例如：字面量，运算表达式（20+1），其他变量）<br>####2.声明一个变量name,赋值为‘路飞’。使用name的时候，就相当于在使用‘路飞’<pre class=\" language-python\"><code class=\"language-python\">name <span class=\"token operator\">=</span> <span class=\"token string\">'路飞'</span>\n<span class=\"token keyword\">print</span>（name）\n</code></pre>\n<h4 id=\"3-声明一个变量class-name-保存’python1806’\"><a href=\"#3-声明一个变量class-name-保存’python1806’\" class=\"headerlink\" title=\"3.声明一个变量class_name,保存’python1806’\"></a>3.声明一个变量class_name,保存’python1806’</h4><pre class=\" language-python\"><code class=\"language-python\">class_name <span class=\"token operator\">=</span> <span class=\"token string\">'python1806'</span>   <span class=\"token punctuation\">(</span>驼峰式：className<span class=\"token punctuation\">)</span>\nnumber <span class=\"token operator\">=</span> <span class=\"token number\">100</span>\n</code></pre>\n<h4 id=\"4-声明一个变量，可以存储不同类型的数据\"><a href=\"#4-声明一个变量，可以存储不同类型的数据\" class=\"headerlink\" title=\"4.声明一个变量，可以存储不同类型的数据\"></a>4.声明一个变量，可以存储不同类型的数据</h4><pre class=\" language-python\"><code class=\"language-python\">number <span class=\"token operator\">=</span> <span class=\"token string\">'娜美'</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>number<span class=\"token punctuation\">)</span>\n</code></pre>\n<h4 id=\"5-python中每条语句结束可以不用加分号。但是如果一行要写多条语句，就用分号隔开\"><a href=\"#5-python中每条语句结束可以不用加分号。但是如果一行要写多条语句，就用分号隔开\" class=\"headerlink\" title=\"5.python中每条语句结束可以不用加分号。但是如果一行要写多条语句，就用分号隔开\"></a>5.python中每条语句结束可以不用加分号。但是如果一行要写多条语句，就用分号隔开</h4><pre class=\" language-python\"><code class=\"language-python\">number <span class=\"token operator\">=</span> <span class=\"token number\">10</span><span class=\"token punctuation\">;</span>number <span class=\"token operator\">=</span> <span class=\"token number\">10e2</span>\n</code></pre>\n<h4 id=\"6-同时声明两个变量，并且赋值一样\"><a href=\"#6-同时声明两个变量，并且赋值一样\" class=\"headerlink\" title=\"6.同时声明两个变量，并且赋值一样\"></a>6.同时声明两个变量，并且赋值一样</h4><pre class=\" language-python\"><code class=\"language-python\">str1 <span class=\"token operator\">=</span> str2 <span class=\"token operator\">=</span> str3 <span class=\"token operator\">=</span> <span class=\"token string\">'abc'</span>\n</code></pre>\n<h4 id=\"7-id函数\"><a href=\"#7-id函数\" class=\"headerlink\" title=\"7.id函数\"></a>7.id函数</h4>####id（变量）————查看变量地址<br>####python声明变量，和给变量赋值的原理：先在内存中开辟空间存储数据，然后再将变量名作为数据存储空间的名字<br><code>`</code>python<br>a = 10<br>print(id(a))<br>a = 100<br>print(id(a))</li>\n</ul>\n<p>a = 10<br>b = 10<br>print(id(a)),print(id(b))<br>b = 20<br>print(id(b))</p>\n<pre><code>输出结果\n```python\n1835101488\n1835104368\n1835101488\n1835101488\n1835101808\n</code></pre><h4 id=\"python-中的声明变量与JAVA中声明变量的区别：\"><a href=\"#python-中的声明变量与JAVA中声明变量的区别：\" class=\"headerlink\" title=\"python 中的声明变量与JAVA中声明变量的区别：\"></a>python 中的声明变量与JAVA中声明变量的区别：</h4><p>python是先存储数据，然后再给这个存储空间命名。（数据决定空间位置）<br> JAVA是先给空间命名，然后再存储数据。（变量决定空间位置）</p>\n<h3 id=\"四-数字和布尔\"><a href=\"#四-数字和布尔\" class=\"headerlink\" title=\"(四)数字和布尔\"></a>(四)数字和布尔</h3><h4 id=\"1-int-整型\"><a href=\"#1-int-整型\" class=\"headerlink\" title=\"1.int(整型)\"></a>1.int(整型)</h4><p> 所有的整数都是整型，python3中的整型只有int,python2中有int和long</p>\n<pre class=\" language-python\"><code class=\"language-python\">num1 <span class=\"token operator\">=</span> <span class=\"token number\">10</span>\nnum2 <span class=\"token operator\">=</span> <span class=\"token operator\">-</span><span class=\"token number\">100</span>\n</code></pre>\n<p> #####内置函数：type（）–获取括号中数据的类型</p>\n<pre class=\" language-python\"><code class=\"language-python\"><span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>type<span class=\"token punctuation\">(</span>num1<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>type<span class=\"token punctuation\">(</span>num2<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n</code></pre>\n<h4 id=\"2-float-浮点型\"><a href=\"#2-float-浮点型\" class=\"headerlink\" title=\"2.float(浮点型)\"></a>2.float(浮点型)</h4><p> 所有带小数点的数，都是浮点型。python中的浮点型只有float</p>\n<pre class=\" language-python\"><code class=\"language-python\">num3 <span class=\"token operator\">=</span> <span class=\"token number\">0.12</span>\nnum4 <span class=\"token operator\">=</span> <span class=\"token operator\">+</span><span class=\"token number\">100.0</span>\nnum5 <span class=\"token operator\">=</span> <span class=\"token number\">2e2</span>\nnum6 <span class=\"token operator\">=</span> <span class=\"token operator\">-</span><span class=\"token number\">3.145</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>type<span class=\"token punctuation\">(</span>num3<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\\\n    type<span class=\"token punctuation\">(</span>num4<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\\\n    type<span class=\"token punctuation\">(</span>num5<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\\\n    type<span class=\"token punctuation\">(</span>num6<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n</code></pre>\n<h4 id=\"3-布尔类型\"><a href=\"#3-布尔类型\" class=\"headerlink\" title=\"3.布尔类型\"></a>3.布尔类型</h4><p>布尔只有True和false</p>\n<pre class=\" language-python\"><code class=\"language-python\">bool1 <span class=\"token operator\">=</span> <span class=\"token boolean\">True</span> \nbool2 <span class=\"token operator\">=</span> <span class=\"token boolean\">False</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>type<span class=\"token punctuation\">(</span>bool2<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>type<span class=\"token punctuation\">(</span>bool1<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n</code></pre>\n<h3 id=\"五-运算符\"><a href=\"#五-运算符\" class=\"headerlink\" title=\"(五)运算符\"></a>(五)运算符</h3><p>####1.数学运算符：+(加)，-（减），*（乘），/（除），//(整除)，%（取余），**（幂运算）</p>\n<h5 id=\"a-，-，-，-，-和数学中的加、减、乘、除、求余的功能是一样的。\"><a href=\"#a-，-，-，-，-和数学中的加、减、乘、除、求余的功能是一样的。\" class=\"headerlink\" title=\"a.+，-，*，/，%和数学中的加、减、乘、除、求余的功能是一样的。\"></a>a.+，-，*，/，%和数学中的加、减、乘、除、求余的功能是一样的。</h5><pre class=\" language-python\"><code class=\"language-python\">a <span class=\"token operator\">=</span> <span class=\"token number\">10</span> <span class=\"token operator\">+</span> <span class=\"token number\">10</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token number\">10</span><span class=\"token operator\">+</span><span class=\"token number\">20</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token number\">100</span><span class=\"token operator\">-</span><span class=\"token number\">20</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token number\">2</span><span class=\"token operator\">*</span><span class=\"token number\">3.5</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token number\">5</span><span class=\"token operator\">/</span><span class=\"token number\">2</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token number\">3</span><span class=\"token operator\">%</span><span class=\"token number\">2</span><span class=\"token punctuation\">)</span>\n</code></pre>\n<p>结果</p>\n<pre class=\" language-python\"><code class=\"language-python\"><span class=\"token number\">30</span>\n<span class=\"token number\">80</span>\n<span class=\"token number\">7</span>\n<span class=\"token number\">2.5</span>\n<span class=\"token number\">1</span>\n</code></pre>\n<p> #####b.//(整除)<br>求商，商只取整数部分</p>\n<pre class=\" language-python\"><code class=\"language-python\"><span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token number\">5</span><span class=\"token operator\">//</span><span class=\"token number\">2</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token number\">6.3</span><span class=\"token operator\">//</span><span class=\"token number\">2</span><span class=\"token punctuation\">)</span>\n</code></pre>\n<p>结果</p>\n<pre class=\" language-python\"><code class=\"language-python\"><span class=\"token number\">2</span>\n<span class=\"token number\">3</span>\n</code></pre>\n<p> #####c.<strong>(幂运算)<br> x</strong>y–x的y次方</p>\n<pre class=\" language-python\"><code class=\"language-python\"><span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token number\">2</span><span class=\"token operator\">**</span><span class=\"token number\">3</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token number\">9</span><span class=\"token operator\">**</span><span class=\"token number\">0.5</span><span class=\"token punctuation\">)</span>\n</code></pre>\n<p>结果</p>\n<pre class=\" language-python\"><code class=\"language-python\"><span class=\"token number\">8</span>\n<span class=\"token number\">3</span>\n</code></pre>\n<p> 取出一个4位整数的百位上的数。例如，取出3512中的5</p>\n<pre class=\" language-python\"><code class=\"language-python\">number <span class=\"token operator\">=</span> <span class=\"token number\">3512</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span>number<span class=\"token operator\">%</span><span class=\"token number\">1000</span><span class=\"token punctuation\">)</span><span class=\"token operator\">//</span><span class=\"token number\">100</span><span class=\"token punctuation\">)</span>\n</code></pre>\n<p><code>5</code></p>\n<h4 id=\"2-比较运算：-gt-（大于），-lt-（小于），-（等于），-（不等于），-gt-大于等于\"><a href=\"#2-比较运算：-gt-（大于），-lt-（小于），-（等于），-（不等于），-gt-大于等于\" class=\"headerlink\" title=\"2.比较运算：&gt;（大于），&lt;（小于），==（等于），!=（不等于），&gt;=(大于等于)\"></a>2.比较运算：&gt;（大于），&lt;（小于），==（等于），!=（不等于），&gt;=(大于等于)</h4><p> 所有的比较运算的结果都是布尔值</p>\n<pre class=\" language-python\"><code class=\"language-python\"><span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token number\">10</span><span class=\"token operator\">></span><span class=\"token number\">20</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token number\">10</span><span class=\"token operator\">&lt;</span><span class=\"token number\">20</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token number\">10</span><span class=\"token operator\">==</span><span class=\"token number\">20</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token number\">10</span><span class=\"token operator\">!=</span><span class=\"token number\">20</span><span class=\"token punctuation\">)</span>\n</code></pre>\n<p>结果</p>\n<pre class=\" language-python\"><code class=\"language-python\">false\ntrue\nfalse\ntrue\n</code></pre>\n<h4 id=\"3-逻辑运算符：and（与），or-或-not-非\"><a href=\"#3-逻辑运算符：and（与），or-或-not-非\" class=\"headerlink\" title=\"3.逻辑运算符：and（与），or(或),not(非)\"></a>3.逻辑运算符：and（与），or(或),not(非)</h4><p> 逻辑运算符操作的数据是布尔值，输出的结果也是布尔值</p>\n<p> #####a.and(与)–和、并且</p>\n<pre class=\" language-python\"><code class=\"language-python\">  两个都是Ture结果才是<span class=\"token boolean\">True</span>，只要有一个<span class=\"token boolean\">False</span>，结果就是<span class=\"token boolean\">False</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token boolean\">True</span> <span class=\"token operator\">and</span> <span class=\"token boolean\">True</span><span class=\"token punctuation\">)</span>      <span class=\"token boolean\">True</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token boolean\">True</span> <span class=\"token operator\">and</span> <span class=\"token boolean\">False</span><span class=\"token punctuation\">)</span>     <span class=\"token boolean\">False</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token boolean\">False</span> <span class=\"token operator\">and</span> <span class=\"token boolean\">False</span><span class=\"token punctuation\">)</span>    <span class=\"token boolean\">False</span>\n</code></pre>\n<pre class=\" language-python\"><code class=\"language-python\">  要求学习成绩在<span class=\"token number\">3.5</span>以上，并且操评分不低于<span class=\"token number\">90</span>\nscore1 <span class=\"token operator\">=</span> <span class=\"token number\">4.0</span>\nscore2 <span class=\"token operator\">=</span> <span class=\"token number\">80</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>score1<span class=\"token operator\">></span><span class=\"token number\">3.5</span> <span class=\"token operator\">and</span> score2<span class=\"token operator\">></span><span class=\"token number\">90</span><span class=\"token punctuation\">)</span>   <span class=\"token boolean\">False</span>\n</code></pre>\n<h6 id=\"什么时候使用-：要求两个或者多个条件同时满足\"><a href=\"#什么时候使用-：要求两个或者多个条件同时满足\" class=\"headerlink\" title=\"什么时候使用 ：要求两个或者多个条件同时满足\"></a>什么时候使用 ：要求两个或者多个条件同时满足</h6><h5 id=\"b-or-或-–或者\"><a href=\"#b-or-或-–或者\" class=\"headerlink\" title=\"b.or(或)–或者\"></a>b.or(或)–或者</h5><pre class=\" language-python\"><code class=\"language-python\">只要有一个<span class=\"token boolean\">True</span>结果就是<span class=\"token boolean\">True</span>。两个都是<span class=\"token boolean\">False</span>结果才是<span class=\"token boolean\">False</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>score1<span class=\"token operator\">></span><span class=\"token number\">3.5</span> <span class=\"token operator\">or</span> score2<span class=\"token operator\">>=</span><span class=\"token number\">90</span><span class=\"token punctuation\">)</span>   <span class=\"token boolean\">True</span>\n</code></pre>\n<p> ######什么时候使用：要求有两个或者两个以上，满足一个就行</p>\n<h5 id=\"c-not-非\"><a href=\"#c-not-非\" class=\"headerlink\" title=\"c.not(非)\"></a>c.not(非)</h5><pre class=\" language-python\"><code class=\"language-python\"><span class=\"token boolean\">True</span>变成<span class=\"token boolean\">False</span><span class=\"token punctuation\">,</span><span class=\"token boolean\">False</span>就变成<span class=\"token boolean\">True</span>\nage <span class=\"token operator\">=</span> <span class=\"token number\">20</span>\n年龄不小于<span class=\"token number\">18</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token operator\">not</span> age<span class=\"token operator\">&lt;</span><span class=\"token number\">18</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>age<span class=\"token operator\">>=</span><span class=\"token number\">18</span><span class=\"token punctuation\">)</span>\n</code></pre>\n<p> ####4.赋值运算符：=（赋值），+=，-=，*=，/=，%=，//=，**=<br> 赋值符号的左边必须是变量；运算顺序是（先算赋值符号右边的值，然后再将右边的值赋给左边）</p>\n<h5 id=\"a-变量-值\"><a href=\"#a-变量-值\" class=\"headerlink\" title=\"a.变量 = 值\"></a>a.变量 = 值</h5><pre class=\" language-python\"><code class=\"language-python\">a <span class=\"token operator\">=</span> <span class=\"token number\">10</span>\nb <span class=\"token operator\">=</span> <span class=\"token number\">10</span> <span class=\"token operator\">+</span> <span class=\"token number\">10</span>\nc <span class=\"token operator\">=</span> a <span class=\"token operator\">+</span> b\nd <span class=\"token operator\">=</span> a <span class=\"token operator\">></span> <span class=\"token number\">10</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>d<span class=\"token punctuation\">)</span>\n</code></pre>\n<h5 id=\"b-变量-值\"><a href=\"#b-变量-值\" class=\"headerlink\" title=\"b.变量 += 值\"></a>b.变量 += 值</h5><ul>\n<li>这儿的变量必须是已经声明过的变量<pre class=\" language-python\"><code class=\"language-python\">a <span class=\"token operator\">+=</span> <span class=\"token number\">2</span>   相当于 a <span class=\"token operator\">=</span> a <span class=\"token operator\">+</span> <span class=\"token number\">2</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>a<span class=\"token punctuation\">)</span>\nb <span class=\"token operator\">-=</span> <span class=\"token number\">2</span>   相当于 b <span class=\"token operator\">=</span> b <span class=\"token operator\">-</span> <span class=\"token number\">2</span>\n</code></pre>\n</li>\n<li>补充：变量必须先声明，再使用<pre class=\" language-python\"><code class=\"language-python\">num1<span class=\"token punctuation\">(</span>错误表示，没有先定义<span class=\"token punctuation\">)</span>\nnum1 <span class=\"token operator\">=</span> <span class=\"token number\">10</span><span class=\"token punctuation\">;</span>num2 <span class=\"token operator\">=</span> <span class=\"token number\">20</span>\nnum1\n</code></pre>\n<h4 id=\"5-运算符的优先级\"><a href=\"#5-运算符的优先级\" class=\"headerlink\" title=\"5.运算符的优先级\"></a>5.运算符的优先级</h4>数学运算符 &gt; 比较运算符 &gt; 逻辑运算符 &gt; 赋值运算符<br>数学运算符：*<em> &gt; (</em>,/,//,%) &gt; (+,-)<br>先计算优先级高的，优先级一样，从左往右依次计算。可以通过加括号改变优先级<br><code>`</code>python<br>print(10 * 20 + (30 &lt; 40) / 2 - 100)</li>\n</ul>\n<p>print(2*2**3//8%2)</p>\n<pre><code>### (六)进制\n######计算机中常用的进制：二进制、八进制、十进制、十六进制\n\n ####十进制\n 1.基数：0,1,2,3,4,5,6,7,8,9\n 2.进位：逢10进1\n 3.十进制数上的每一位：123 = 10^2*1+10^1*2+10^0*3\n\n#### 二进制\n 1.基数：0,1   例如：110,1010\n 2.进位：逢2进1\n 3.二进制数上的每一位：1011 = 2^0*1 + 2^1*1 + 2^2*0 + 2^3*1 = 11\n\n#### 八进制\n 1.基数：0,1,2，3,4,5,6,7\n 2.进位：逢8进1\n 3.八进制数的每一位：123 = 8^0*3 + 8^1*2+8^2*1 = 83\n\n#### 十六进制\n 1.基数：0-9，a-f(A-F)--a(10)~f(15)    例如：1af\n 2.进位：逢16进1\n 3.十六进制数的每一位：123 = 19^0*3 + 16^1*2 + 16^2*1 = 291\n\n ####进制间的转换\n 1.二进制、八进制、十六进制---&gt;十进制\n 进制数^位数（从0开始）*每一位上的值的和\n\n 2.八进制、十六进制----&gt;二进制\n 将一位的八进制转换成3位的二进制。将一位的十六进制转换成4位的二进制\n```python\n 123（8）---&gt;001 010 011 ---&gt;001010011（2）\n 123（16）--&gt;0001 0010 0011 --&gt;000100100011(2)\n 10(16)--&gt;0001 0000--&gt;00010000\n</code></pre><p> 3.二进制—&gt;八进制、十六进制<br> 将三位的二进制转换成一位的八进制，将四位的二进制转换成一位的十六进制</p>\n<pre class=\" language-python\"><code class=\"language-python\"> <span class=\"token number\">001</span> <span class=\"token number\">010</span> <span class=\"token number\">011</span><span class=\"token punctuation\">(</span><span class=\"token number\">2</span><span class=\"token punctuation\">)</span><span class=\"token operator\">-</span><span class=\"token operator\">-</span><span class=\"token operator\">></span><span class=\"token number\">123</span><span class=\"token punctuation\">(</span><span class=\"token number\">8</span><span class=\"token punctuation\">)</span>\n</code></pre>\n<p> 4.十进制—&gt;二进制 ： 相除取余</p>\n<p> python进制的支持<br> python支持整数的二进制、八进制、十六进制</p>\n<ul>\n<li>python中二进制、八进制、十六进制的表示</li>\n<li><h5 id=\"二进制：0b\"><a href=\"#二进制：0b\" class=\"headerlink\" title=\"二进制：0b\"></a>二进制：0b</h5><code>`</code>python<br>print(0b11)<br>print(11)</li>\n</ul>\n<p>print(bin(20))        将其他的数据转换成二进制   bin()<br>print(bin(0x20))</p>\n<pre><code>+ ##### 八进制：0o\n  print(0o11)\n```python\nprint(oct(20))        将其他的数据转换成八进制   oct()\nprint(oct(0b11011))\n</code></pre><ul>\n<li>#####十六进制：0x<pre class=\" language-python\"><code class=\"language-python\"><span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token number\">0xaf</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>hex<span class=\"token punctuation\">(</span><span class=\"token number\">20</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>        将其他的数据转换成十六进制 hex<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n</code></pre>\n</li>\n</ul>\n<h2 id=\"（七）字符\"><a href=\"#（七）字符\" class=\"headerlink\" title=\"（七）字符\"></a>（七）字符</h2><ul>\n<li><p>常见的转义字符：</p>\n<ul>\n<li><p>\\n ——— 换行</p>\n</li>\n<li><p>\\t ———- 制表符（相当于tab）</p>\n</li>\n<li><p>\\ ——— ,隔开</p>\n</li>\n<li><p>‘ ———— ’</p>\n</li>\n<li><p>“ ———– ”</p>\n<p>在计算字符长度的时候，转义字符的长度是1</p>\n</li>\n</ul>\n</li>\n</ul>\n","site":{"data":{}},"excerpt":"","more":"<p>###（一）基础<br>1.快捷键：<br> control+/      注释/取消注释<br> control+s      保存（养成习惯）<br> control+c      复制、拷贝<br> control+v      粘贴<br> control+x      剪切<br> control+b      编译（编译执行——sublime）<br> control+r      编译执行（暂时不用）<br> control+a      全选<br> control+z      撤销<br> control+y（control+shift+z）      反撤销<br> control+f      查找<br> control+n      新建（文件）<br> control+shift+n       新建（工程）<br> 按住shift点鼠标，可以选中部分内容</p>\n<p> 2.注意</p>\n<ul>\n<li>###写代码的时候，一定是在英文输入的状态下<pre><code class=\"python\">print就是python中的打印函数，功能是在控制台将括号中的内容输出\nprint(&#39;hello world !&#39;)\n</code></pre>\n<h3 id=\"二-基础语法\"><a href=\"#二-基础语法\" class=\"headerlink\" title=\"(二)基础语法\"></a>(二)基础语法</h3>####1.注释<br>注释是不会参与代码的编译和执行的，只是对代码进行解释和说明的文字。（写注释养成习惯）<br>单行注释就是在注释文字前加#<br>多行注释如下<pre><code class=\"python\">&#39;&#39;&#39;\n这是多行注释\n这是多行注释\n这是多行注释\n&#39;&#39;&#39;\n&quot;&quot;&quot;\n这是多行注释\n这是多行注释\n这是多行注释\n&quot;&quot;&quot;\n</code></pre>\n或者再多行前加#<h4 id=\"2-标识符\"><a href=\"#2-标识符\" class=\"headerlink\" title=\"2.标识符\"></a>2.标识符</h4>a.是由字母数字下划线组成（只能少不能多）<br>b.数字不能开头<br>c.大小写敏感（大小写的表示不一样，例如：abc、ABC不一样）<ul>\n<li>python3以后，标识中可以包含非ASCII码（可以包含中文）,但是在实际开发中不建议使用</li>\n</ul>\n</li>\n<li>版本A.B.C    A-大版本，重大修改    B-增加功能     C-修复BUG<pre><code class=\"python\">nb = 90\na1 = 10\na1_ = 10\n姓名 = 900\n_hs = 100\n</code></pre>\n</li>\n</ul>\n<pre><code class=\"python\">错误表示：\n\n a&#39;sh = 100\n h%10 = 100\n 9 = 100\n 1abc = 100\n</code></pre>\n<h4 id=\"3-关键字（保留字）\"><a href=\"#3-关键字（保留字）\" class=\"headerlink\" title=\"3.关键字（保留字）\"></a>3.关键字（保留字）</h4><p> python中保留用来作为特殊语法和拥有特殊功能的一些单词</p>\n<pre><code class=\"python\">&#39;False&#39;, &#39;None&#39;, &#39;True&#39;, &#39;and&#39;, &#39;as&#39;, &#39;assert&#39;, &#39;break&#39;, \n&#39;class&#39;, &#39;continue&#39;, &#39;def&#39;, &#39;del&#39;, &#39;elif&#39;, &#39;else&#39;, &#39;except&#39;, \n&#39;finally&#39;, &#39;for&#39;, &#39;from&#39;, &#39;global&#39;, &#39;if&#39;, &#39;import&#39;, &#39;in&#39;, &#39;is&#39;, &#39;lambda&#39;,\n &#39;nonlocal&#39;, &#39;not&#39;, &#39;or&#39;, &#39;pass&#39;, &#39;raise&#39;, &#39;return&#39;, &#39;try&#39;, &#39;while&#39;, &#39;with&#39;, &#39;yield&#39;\n</code></pre>\n<pre><code class=\"python\">import keyword\nprint(keyword.kwlist)\n</code></pre>\n<h4 id=\"4-行与缩进\"><a href=\"#4-行与缩进\" class=\"headerlink\" title=\"4.行与缩进\"></a>4.行与缩进</h4><p> #####缩进要求：<br>‘’’<br>a.同一级的代码必须保持同一缩进。(统一使用tab来产生缩进)<br>b.通过缩进来产生代码块（类似于其他语言中的{}）<br>‘’’</p>\n<h5 id=\"行的规范\"><a href=\"#行的规范\" class=\"headerlink\" title=\"行的规范\"></a>行的规范</h5><p>a.声明函数的前后必须有两个换行<br>b.声明类的前后也需要两个换行<br>c.多个功能模块间用换行隔开</p>\n<pre><code class=\"python\">a = 10\nb = 20\nif a &gt; 10:\n   print(&#39;abc&#39;)\n   print(&#39;123&#39;)\n</code></pre>\n<h4 id=\"5-多行显示-一句代码多行显示\"><a href=\"#5-多行显示-一句代码多行显示\" class=\"headerlink\" title=\"5.多行显示(一句代码多行显示)\"></a>5.多行显示(一句代码多行显示)</h4><p> a.在需要换行的地方加入\\，然后在后面换行。换行后缩进不受限制</p>\n<pre><code class=\"python\">a = 10000 + 10000 - 1000\\\n * 1000 + 10000 /1000\\\n  *2000 - 10000\nprint (a)\n</code></pre>\n<p> b.列表、字典、元祖和集合的字面量换行不用加\\</p>\n<pre><code class=\"python\">[\n      120,\n      23,\n      &#39;asd&#39;,\n      278,\n      &#39;skda&#39;,\n      8444\n]\n</code></pre>\n<h4 id=\"6-字面量-具体的值\"><a href=\"#6-字面量-具体的值\" class=\"headerlink\" title=\"6.字面量(具体的值)\"></a>6.字面量(具体的值)</h4><p> a.数字字面量：10,12.5,-10,+12,2e2(e表示10，e2表示10的平方),10j<br> b.布尔值：True(真),False（假）<br> c.字符串：’(all),asdj121’或者”hhea11120”<br> d.列表：[10,20,’python’,’java’]<br> e.字典:{‘a’:10,’name’:’XXX’}<br> 7.python中的基本数据类型<br> a.数字相关的:int(整型)，float(浮点型)，complex(复数)<br> b.布尔（bool）：只有True和False两个值<br> c.str(字符串)<br> d.list(列表)<br> e.dict(字典)<br> f.tuple(元祖)<br> g.set(集合)<br> h.function(函数)<br> i.bytes(字节)</p>\n<h3 id=\"三-变量\"><a href=\"#三-变量\" class=\"headerlink\" title=\"(三)变量\"></a>(三)变量</h3><p>声明变量就是在内存中开辟 空间存储数据。（变量就是用来存储数据的）</p>\n<p>#####python是动态语言</p>\n<p>####1. 怎么声明变量</p>\n<p>#####格式：变量=值</p>\n<p>#####说明</p>\n<ul>\n<li>类型:<br>python声明变量的时候不需要确定类型</li>\n<li>变量名：<br>标识符，不能是关键字；见名知义，PEP8命名规范（所有的字母都是小写，多个单词之间用_隔开）</li>\n<li>=：<br>赋值符号，将右边的值赋值给左边的变量</li>\n<li>值：<br>表达式（就是有结果的，例如：字面量，运算表达式（20+1），其他变量）<br>####2.声明一个变量name,赋值为‘路飞’。使用name的时候，就相当于在使用‘路飞’<pre><code class=\"python\">name = &#39;路飞&#39;\nprint（name）\n</code></pre>\n<h4 id=\"3-声明一个变量class-name-保存’python1806’\"><a href=\"#3-声明一个变量class-name-保存’python1806’\" class=\"headerlink\" title=\"3.声明一个变量class_name,保存’python1806’\"></a>3.声明一个变量class_name,保存’python1806’</h4><pre><code class=\"python\">class_name = &#39;python1806&#39;   (驼峰式：className)\nnumber = 100\n</code></pre>\n<h4 id=\"4-声明一个变量，可以存储不同类型的数据\"><a href=\"#4-声明一个变量，可以存储不同类型的数据\" class=\"headerlink\" title=\"4.声明一个变量，可以存储不同类型的数据\"></a>4.声明一个变量，可以存储不同类型的数据</h4><pre><code class=\"python\">number = &#39;娜美&#39;\nprint(number)\n</code></pre>\n<h4 id=\"5-python中每条语句结束可以不用加分号。但是如果一行要写多条语句，就用分号隔开\"><a href=\"#5-python中每条语句结束可以不用加分号。但是如果一行要写多条语句，就用分号隔开\" class=\"headerlink\" title=\"5.python中每条语句结束可以不用加分号。但是如果一行要写多条语句，就用分号隔开\"></a>5.python中每条语句结束可以不用加分号。但是如果一行要写多条语句，就用分号隔开</h4><pre><code class=\"python\">number = 10;number = 10e2\n</code></pre>\n<h4 id=\"6-同时声明两个变量，并且赋值一样\"><a href=\"#6-同时声明两个变量，并且赋值一样\" class=\"headerlink\" title=\"6.同时声明两个变量，并且赋值一样\"></a>6.同时声明两个变量，并且赋值一样</h4><pre><code class=\"python\">str1 = str2 = str3 = &#39;abc&#39;\n</code></pre>\n<h4 id=\"7-id函数\"><a href=\"#7-id函数\" class=\"headerlink\" title=\"7.id函数\"></a>7.id函数</h4>####id（变量）————查看变量地址<br>####python声明变量，和给变量赋值的原理：先在内存中开辟空间存储数据，然后再将变量名作为数据存储空间的名字<br><code>`</code>python<br>a = 10<br>print(id(a))<br>a = 100<br>print(id(a))</li>\n</ul>\n<p>a = 10<br>b = 10<br>print(id(a)),print(id(b))<br>b = 20<br>print(id(b))</p>\n<pre><code>输出结果\n```python\n1835101488\n1835104368\n1835101488\n1835101488\n1835101808\n</code></pre><h4 id=\"python-中的声明变量与JAVA中声明变量的区别：\"><a href=\"#python-中的声明变量与JAVA中声明变量的区别：\" class=\"headerlink\" title=\"python 中的声明变量与JAVA中声明变量的区别：\"></a>python 中的声明变量与JAVA中声明变量的区别：</h4><p>python是先存储数据，然后再给这个存储空间命名。（数据决定空间位置）<br> JAVA是先给空间命名，然后再存储数据。（变量决定空间位置）</p>\n<h3 id=\"四-数字和布尔\"><a href=\"#四-数字和布尔\" class=\"headerlink\" title=\"(四)数字和布尔\"></a>(四)数字和布尔</h3><h4 id=\"1-int-整型\"><a href=\"#1-int-整型\" class=\"headerlink\" title=\"1.int(整型)\"></a>1.int(整型)</h4><p> 所有的整数都是整型，python3中的整型只有int,python2中有int和long</p>\n<pre><code class=\"python\">num1 = 10\nnum2 = -100\n</code></pre>\n<p> #####内置函数：type（）–获取括号中数据的类型</p>\n<pre><code class=\"python\">print(type(num1),type(num2))\n</code></pre>\n<h4 id=\"2-float-浮点型\"><a href=\"#2-float-浮点型\" class=\"headerlink\" title=\"2.float(浮点型)\"></a>2.float(浮点型)</h4><p> 所有带小数点的数，都是浮点型。python中的浮点型只有float</p>\n<pre><code class=\"python\">num3 = 0.12\nnum4 = +100.0\nnum5 = 2e2\nnum6 = -3.145\nprint(type(num3),\\\n    type(num4),\\\n    type(num5),\\\n    type(num6))\n</code></pre>\n<h4 id=\"3-布尔类型\"><a href=\"#3-布尔类型\" class=\"headerlink\" title=\"3.布尔类型\"></a>3.布尔类型</h4><p>布尔只有True和false</p>\n<pre><code class=\"python\">bool1 = True \nbool2 = False\nprint(type(bool2),type(bool1))\n</code></pre>\n<h3 id=\"五-运算符\"><a href=\"#五-运算符\" class=\"headerlink\" title=\"(五)运算符\"></a>(五)运算符</h3><p>####1.数学运算符：+(加)，-（减），*（乘），/（除），//(整除)，%（取余），**（幂运算）</p>\n<h5 id=\"a-，-，-，-，-和数学中的加、减、乘、除、求余的功能是一样的。\"><a href=\"#a-，-，-，-，-和数学中的加、减、乘、除、求余的功能是一样的。\" class=\"headerlink\" title=\"a.+，-，*，/，%和数学中的加、减、乘、除、求余的功能是一样的。\"></a>a.+，-，*，/，%和数学中的加、减、乘、除、求余的功能是一样的。</h5><pre><code class=\"python\">a = 10 + 10\nprint(10+20)\nprint(100-20)\nprint(2*3.5)\nprint(5/2)\nprint(3%2)\n</code></pre>\n<p>结果</p>\n<pre><code class=\"python\">30\n80\n7\n2.5\n1\n</code></pre>\n<p> #####b.//(整除)<br>求商，商只取整数部分</p>\n<pre><code class=\"python\">print(5//2)\nprint(6.3//2)\n</code></pre>\n<p>结果</p>\n<pre><code class=\"python\">2\n3\n</code></pre>\n<p> #####c.<strong>(幂运算)<br> x</strong>y–x的y次方</p>\n<pre><code class=\"python\">print(2**3)\nprint(9**0.5)\n</code></pre>\n<p>结果</p>\n<pre><code class=\"python\">8\n3\n</code></pre>\n<p> 取出一个4位整数的百位上的数。例如，取出3512中的5</p>\n<pre><code class=\"python\">number = 3512\nprint((number%1000)//100)\n</code></pre>\n<p><code>5</code></p>\n<h4 id=\"2-比较运算：-gt-（大于），-lt-（小于），-（等于），-（不等于），-gt-大于等于\"><a href=\"#2-比较运算：-gt-（大于），-lt-（小于），-（等于），-（不等于），-gt-大于等于\" class=\"headerlink\" title=\"2.比较运算：&gt;（大于），&lt;（小于），==（等于），!=（不等于），&gt;=(大于等于)\"></a>2.比较运算：&gt;（大于），&lt;（小于），==（等于），!=（不等于），&gt;=(大于等于)</h4><p> 所有的比较运算的结果都是布尔值</p>\n<pre><code class=\"python\">print(10&gt;20)\nprint(10&lt;20)\nprint(10==20)\nprint(10!=20)\n</code></pre>\n<p>结果</p>\n<pre><code class=\"python\">false\ntrue\nfalse\ntrue\n</code></pre>\n<h4 id=\"3-逻辑运算符：and（与），or-或-not-非\"><a href=\"#3-逻辑运算符：and（与），or-或-not-非\" class=\"headerlink\" title=\"3.逻辑运算符：and（与），or(或),not(非)\"></a>3.逻辑运算符：and（与），or(或),not(非)</h4><p> 逻辑运算符操作的数据是布尔值，输出的结果也是布尔值</p>\n<p> #####a.and(与)–和、并且</p>\n<pre><code class=\"python\">  两个都是Ture结果才是True，只要有一个False，结果就是False\nprint(True and True)      True\nprint(True and False)     False\nprint(False and False)    False\n</code></pre>\n<pre><code class=\"python\">  要求学习成绩在3.5以上，并且操评分不低于90\nscore1 = 4.0\nscore2 = 80\nprint(score1&gt;3.5 and score2&gt;90)   False\n</code></pre>\n<h6 id=\"什么时候使用-：要求两个或者多个条件同时满足\"><a href=\"#什么时候使用-：要求两个或者多个条件同时满足\" class=\"headerlink\" title=\"什么时候使用 ：要求两个或者多个条件同时满足\"></a>什么时候使用 ：要求两个或者多个条件同时满足</h6><h5 id=\"b-or-或-–或者\"><a href=\"#b-or-或-–或者\" class=\"headerlink\" title=\"b.or(或)–或者\"></a>b.or(或)–或者</h5><pre><code class=\"python\">只要有一个True结果就是True。两个都是False结果才是False\nprint(score1&gt;3.5 or score2&gt;=90)   True\n</code></pre>\n<p> ######什么时候使用：要求有两个或者两个以上，满足一个就行</p>\n<h5 id=\"c-not-非\"><a href=\"#c-not-非\" class=\"headerlink\" title=\"c.not(非)\"></a>c.not(非)</h5><pre><code class=\"python\">True变成False,False就变成True\nage = 20\n年龄不小于18\nprint(not age&lt;18)\nprint(age&gt;=18)\n</code></pre>\n<p> ####4.赋值运算符：=（赋值），+=，-=，*=，/=，%=，//=，**=<br> 赋值符号的左边必须是变量；运算顺序是（先算赋值符号右边的值，然后再将右边的值赋给左边）</p>\n<h5 id=\"a-变量-值\"><a href=\"#a-变量-值\" class=\"headerlink\" title=\"a.变量 = 值\"></a>a.变量 = 值</h5><pre><code class=\"python\">a = 10\nb = 10 + 10\nc = a + b\nd = a &gt; 10\nprint(d)\n</code></pre>\n<h5 id=\"b-变量-值\"><a href=\"#b-变量-值\" class=\"headerlink\" title=\"b.变量 += 值\"></a>b.变量 += 值</h5><ul>\n<li>这儿的变量必须是已经声明过的变量<pre><code class=\"python\">a += 2   相当于 a = a + 2\nprint(a)\nb -= 2   相当于 b = b - 2\n</code></pre>\n</li>\n<li>补充：变量必须先声明，再使用<pre><code class=\"python\">num1(错误表示，没有先定义)\nnum1 = 10;num2 = 20\nnum1\n</code></pre>\n<h4 id=\"5-运算符的优先级\"><a href=\"#5-运算符的优先级\" class=\"headerlink\" title=\"5.运算符的优先级\"></a>5.运算符的优先级</h4>数学运算符 &gt; 比较运算符 &gt; 逻辑运算符 &gt; 赋值运算符<br>数学运算符：*<em> &gt; (</em>,/,//,%) &gt; (+,-)<br>先计算优先级高的，优先级一样，从左往右依次计算。可以通过加括号改变优先级<br><code>`</code>python<br>print(10 * 20 + (30 &lt; 40) / 2 - 100)</li>\n</ul>\n<p>print(2*2**3//8%2)</p>\n<pre><code>### (六)进制\n######计算机中常用的进制：二进制、八进制、十进制、十六进制\n\n ####十进制\n 1.基数：0,1,2,3,4,5,6,7,8,9\n 2.进位：逢10进1\n 3.十进制数上的每一位：123 = 10^2*1+10^1*2+10^0*3\n\n#### 二进制\n 1.基数：0,1   例如：110,1010\n 2.进位：逢2进1\n 3.二进制数上的每一位：1011 = 2^0*1 + 2^1*1 + 2^2*0 + 2^3*1 = 11\n\n#### 八进制\n 1.基数：0,1,2，3,4,5,6,7\n 2.进位：逢8进1\n 3.八进制数的每一位：123 = 8^0*3 + 8^1*2+8^2*1 = 83\n\n#### 十六进制\n 1.基数：0-9，a-f(A-F)--a(10)~f(15)    例如：1af\n 2.进位：逢16进1\n 3.十六进制数的每一位：123 = 19^0*3 + 16^1*2 + 16^2*1 = 291\n\n ####进制间的转换\n 1.二进制、八进制、十六进制---&gt;十进制\n 进制数^位数（从0开始）*每一位上的值的和\n\n 2.八进制、十六进制----&gt;二进制\n 将一位的八进制转换成3位的二进制。将一位的十六进制转换成4位的二进制\n```python\n 123（8）---&gt;001 010 011 ---&gt;001010011（2）\n 123（16）--&gt;0001 0010 0011 --&gt;000100100011(2)\n 10(16)--&gt;0001 0000--&gt;00010000\n</code></pre><p> 3.二进制—&gt;八进制、十六进制<br> 将三位的二进制转换成一位的八进制，将四位的二进制转换成一位的十六进制</p>\n<pre><code class=\"python\"> 001 010 011(2)--&gt;123(8)\n</code></pre>\n<p> 4.十进制—&gt;二进制 ： 相除取余</p>\n<p> python进制的支持<br> python支持整数的二进制、八进制、十六进制</p>\n<ul>\n<li>python中二进制、八进制、十六进制的表示</li>\n<li><h5 id=\"二进制：0b\"><a href=\"#二进制：0b\" class=\"headerlink\" title=\"二进制：0b\"></a>二进制：0b</h5><code>`</code>python<br>print(0b11)<br>print(11)</li>\n</ul>\n<p>print(bin(20))        将其他的数据转换成二进制   bin()<br>print(bin(0x20))</p>\n<pre><code>+ ##### 八进制：0o\n  print(0o11)\n```python\nprint(oct(20))        将其他的数据转换成八进制   oct()\nprint(oct(0b11011))\n</code></pre><ul>\n<li>#####十六进制：0x<pre><code class=\"python\">print(0xaf)\nprint(hex(20))        将其他的数据转换成十六进制 hex()\n</code></pre>\n</li>\n</ul>\n<h2 id=\"（七）字符\"><a href=\"#（七）字符\" class=\"headerlink\" title=\"（七）字符\"></a>（七）字符</h2><ul>\n<li><p>常见的转义字符：</p>\n<ul>\n<li><p>\\n ——— 换行</p>\n</li>\n<li><p>\\t ———- 制表符（相当于tab）</p>\n</li>\n<li><p>\\ ——— ,隔开</p>\n</li>\n<li><p>‘ ———— ’</p>\n</li>\n<li><p>“ ———– ”</p>\n<p>在计算字符长度的时候，转义字符的长度是1</p>\n</li>\n</ul>\n</li>\n</ul>\n"},{"title":"多线程","date":"2017-11-10T12:35:41.000Z","author":"smile","_content":"\n#### 01-多线程技术\n1.主线程\n每个进程默认都会有一个线程，这个线程我们一般叫作主线程\n默认情况下，我们所有的代码都在主线程中执行的\n2.子线程\n一个进程可以有多个线程，除了主线程以外，其它的线程需要手动添加\n3.threading是Python中的一个内置模块，用来支持多线程\na.Thread类\nThread类的对象就是线程对象，需要线程的时候，就创建这个类或者这个类的子类对象\nb.threading.currentThread()---》用来获取当前线程对象\n```python\n\nimport threading\nimport datetime\nimport time\n# 下载两个电影\ndef download(file):\n    print(file + '开始下载：', datetime.datetime.now())\n    # 让线程阻塞10秒\n    time.sleep(10)\n    print(file+'下载结束', datetime.datetime.now())\n\nif __name__ == '__main__':\n    # threading.Thread\n    print('主线程中的代码')\n\n    print(threading.currentThread())\n\n    # 1.在主线程中下载两个电影：用时20s\n    # download('西虹市首富')\n    download('沉默的羔羊')\n\n    # 2.在子线程中下载两个电影:用时10s\n    '''\n    Tread(target,args)\n    target:需要在子线程中调用的函数的函数名\n    args:函数的实参\n    返回值：创建好的线程对象\n    '''\n    t1 = threading.Thread(target= download,args=('西虹市首富',))\n    # 开始执行t1对应的线程任务\n    t1.start()\n\n    # t2 = threading.Thread(target= download,args=('沉默的羔羊',))\n    # # 想要在子线程中执行任务，必须通过线程对象调用start方法才行\n    # t2.start()\n    print('==========')\n```\n#### 02-面向对象的多线程技术\n- 1.声明一个类继承自Thread类\n\n- 2.将需要在子线程中执行的任务放到run方法中\n\n- 3.在需要子线程的位置去创建这个类的对象，然后用对象调用start方法去执行run中的任务\n\n```python\nfrom threading import Thread\nimport datetime\nimport time\nfrom random import randint\n\n注意：继承的时候可以继承自己写的类，也可以继承别人写的类或者系统写的类\nclass DownloadThread(Thread):\n    '''下载线程类'''\n    def __init__(self,file):\n        super().__init__()\n        self.file = file\n\n    def run(self):\n        print(self.file + '开始下载：',datetime.datetime.now())\n        time.sleep(randint(5,10))\n        print(self.file + '下载结束：',datetime.datetime.now())\n\nif __name__ == '__main__':\n    print('==========')\n    t1 = DownloadThread('西虹市首富')\n    t1.start()\n\n    t2 = DownloadThread('黑客帝国')\n    t2.start()\n\n    print('+-+-+-+-+-')\n```\n#### 03-join方法的使用\n如果希望某个线程结束后才进行的操作，就用那个线程调用join函数\n```python\nfrom threading import Thread\nfrom random import randint\nimport time\nimport datetime\n\nclass DownloadThread(Thread):\n    def __init__(self,file):\n        super().__init__()\n        self.file = file\n\n    def run(self):\n        print(self.file+'开始下载',datetime.datetime.now())\n        time.sleep(randint(5,15))\n        print(self.file+'下载结束',datetime.datetime.now())\n\n\nif __name__ == '__main__':\n\n    t1 = DownloadThread('美丽人生')\n    t2 = DownloadThread('怦然心动')\n\n    start = time.time()\n\n    tim1 = t1.start()\n    tim2 = t2.start()\n\n# 在两个子线程中下载两个电影，在主线程中统计两个电影下载的总时间\n\n# 系统t1和t2中的代码结束后才执行下面的代码\n    t1.join()  # 这句代码后面的代码在t1对应的线程结束后才执行\n    t2.join()\n    end = time.time()\n    print(end-start)\n```\n#### 04-线程间的数据共享\n同步锁（RLock）和互斥锁(Lock)\n模拟多个人对同一个账号进行操作\n```python\nimport time\nfrom threading import Thread,Lock\n\nclass Account:\n    '''账号类'''\n    def __init__(self,balance):\n        # 余额\n        self.balance = balance\n        # 创建锁的对象\n        self.lock = Lock()\n\n    # 存钱过程：读出原来的余额，确定钱的一系列操作，将原来的余额加上存的钱，产生新的余额，再保存\n    def save_money(self,amount):\n        '''存钱'''\n        print('开始存钱')\n        加锁\n        self.lock.acquire()\n        # 获取原来的余额\n        old_amount =  self.balance\n        # 模拟时间消耗\n        time.sleep(5)\n        # 修改余额\n        self.balance = old_amount + amount\n        print('存钱成功，余额是：',self.balance)\n        解锁\n        self.lock.release()\n\n    def get_money(self,amount):\n        '''取钱'''\n        print('开始取钱')\n        加锁\n        self.lock.acquire()\n        # 获取原来的余额\n        old_amount = self.balance\n        if old_amount < amount:\n            print('余额不足')\n            return\n        time.sleep(5)\n        self.balance = old_amount - amount\n        print('取钱成功,余额是：',self.balance)\n        解锁\n        self.lock.release()\n\n    def show_balance(self):\n        print('当前余额：%d'% self.balance)\n\nif __name__ == '__main__':\n    # 创建账号\n    account = Account(1000)\n\n    # account.save_money(200)\n    # account.save_money(100)\n    # account.show_balance()\n    当多个线程对一个数据进行操作时，可能会出现数据混乱的问题\n  \n    t1 = Thread(target= account.save_money,args= (200,))\n    t2 = Thread(target=account.save_money, args=(300,))\n\n    t1.start()\n    t2.start()\n\n```","source":"_posts/python/多线程.md","raw":"---\ntitle: 多线程\ndate: 2017-11-10 20:35:41\nauthor: smile\ncategories: Python\ntags:\n---\n\n#### 01-多线程技术\n1.主线程\n每个进程默认都会有一个线程，这个线程我们一般叫作主线程\n默认情况下，我们所有的代码都在主线程中执行的\n2.子线程\n一个进程可以有多个线程，除了主线程以外，其它的线程需要手动添加\n3.threading是Python中的一个内置模块，用来支持多线程\na.Thread类\nThread类的对象就是线程对象，需要线程的时候，就创建这个类或者这个类的子类对象\nb.threading.currentThread()---》用来获取当前线程对象\n```python\n\nimport threading\nimport datetime\nimport time\n# 下载两个电影\ndef download(file):\n    print(file + '开始下载：', datetime.datetime.now())\n    # 让线程阻塞10秒\n    time.sleep(10)\n    print(file+'下载结束', datetime.datetime.now())\n\nif __name__ == '__main__':\n    # threading.Thread\n    print('主线程中的代码')\n\n    print(threading.currentThread())\n\n    # 1.在主线程中下载两个电影：用时20s\n    # download('西虹市首富')\n    download('沉默的羔羊')\n\n    # 2.在子线程中下载两个电影:用时10s\n    '''\n    Tread(target,args)\n    target:需要在子线程中调用的函数的函数名\n    args:函数的实参\n    返回值：创建好的线程对象\n    '''\n    t1 = threading.Thread(target= download,args=('西虹市首富',))\n    # 开始执行t1对应的线程任务\n    t1.start()\n\n    # t2 = threading.Thread(target= download,args=('沉默的羔羊',))\n    # # 想要在子线程中执行任务，必须通过线程对象调用start方法才行\n    # t2.start()\n    print('==========')\n```\n#### 02-面向对象的多线程技术\n- 1.声明一个类继承自Thread类\n\n- 2.将需要在子线程中执行的任务放到run方法中\n\n- 3.在需要子线程的位置去创建这个类的对象，然后用对象调用start方法去执行run中的任务\n\n```python\nfrom threading import Thread\nimport datetime\nimport time\nfrom random import randint\n\n注意：继承的时候可以继承自己写的类，也可以继承别人写的类或者系统写的类\nclass DownloadThread(Thread):\n    '''下载线程类'''\n    def __init__(self,file):\n        super().__init__()\n        self.file = file\n\n    def run(self):\n        print(self.file + '开始下载：',datetime.datetime.now())\n        time.sleep(randint(5,10))\n        print(self.file + '下载结束：',datetime.datetime.now())\n\nif __name__ == '__main__':\n    print('==========')\n    t1 = DownloadThread('西虹市首富')\n    t1.start()\n\n    t2 = DownloadThread('黑客帝国')\n    t2.start()\n\n    print('+-+-+-+-+-')\n```\n#### 03-join方法的使用\n如果希望某个线程结束后才进行的操作，就用那个线程调用join函数\n```python\nfrom threading import Thread\nfrom random import randint\nimport time\nimport datetime\n\nclass DownloadThread(Thread):\n    def __init__(self,file):\n        super().__init__()\n        self.file = file\n\n    def run(self):\n        print(self.file+'开始下载',datetime.datetime.now())\n        time.sleep(randint(5,15))\n        print(self.file+'下载结束',datetime.datetime.now())\n\n\nif __name__ == '__main__':\n\n    t1 = DownloadThread('美丽人生')\n    t2 = DownloadThread('怦然心动')\n\n    start = time.time()\n\n    tim1 = t1.start()\n    tim2 = t2.start()\n\n# 在两个子线程中下载两个电影，在主线程中统计两个电影下载的总时间\n\n# 系统t1和t2中的代码结束后才执行下面的代码\n    t1.join()  # 这句代码后面的代码在t1对应的线程结束后才执行\n    t2.join()\n    end = time.time()\n    print(end-start)\n```\n#### 04-线程间的数据共享\n同步锁（RLock）和互斥锁(Lock)\n模拟多个人对同一个账号进行操作\n```python\nimport time\nfrom threading import Thread,Lock\n\nclass Account:\n    '''账号类'''\n    def __init__(self,balance):\n        # 余额\n        self.balance = balance\n        # 创建锁的对象\n        self.lock = Lock()\n\n    # 存钱过程：读出原来的余额，确定钱的一系列操作，将原来的余额加上存的钱，产生新的余额，再保存\n    def save_money(self,amount):\n        '''存钱'''\n        print('开始存钱')\n        加锁\n        self.lock.acquire()\n        # 获取原来的余额\n        old_amount =  self.balance\n        # 模拟时间消耗\n        time.sleep(5)\n        # 修改余额\n        self.balance = old_amount + amount\n        print('存钱成功，余额是：',self.balance)\n        解锁\n        self.lock.release()\n\n    def get_money(self,amount):\n        '''取钱'''\n        print('开始取钱')\n        加锁\n        self.lock.acquire()\n        # 获取原来的余额\n        old_amount = self.balance\n        if old_amount < amount:\n            print('余额不足')\n            return\n        time.sleep(5)\n        self.balance = old_amount - amount\n        print('取钱成功,余额是：',self.balance)\n        解锁\n        self.lock.release()\n\n    def show_balance(self):\n        print('当前余额：%d'% self.balance)\n\nif __name__ == '__main__':\n    # 创建账号\n    account = Account(1000)\n\n    # account.save_money(200)\n    # account.save_money(100)\n    # account.show_balance()\n    当多个线程对一个数据进行操作时，可能会出现数据混乱的问题\n  \n    t1 = Thread(target= account.save_money,args= (200,))\n    t2 = Thread(target=account.save_money, args=(300,))\n\n    t1.start()\n    t2.start()\n\n```","slug":"python/多线程","published":1,"updated":"2019-03-14T01:43:12.407Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjt87kqj8001xr8r6t7851olk","content":"<h4 id=\"01-多线程技术\"><a href=\"#01-多线程技术\" class=\"headerlink\" title=\"01-多线程技术\"></a>01-多线程技术</h4><p>1.主线程<br>每个进程默认都会有一个线程，这个线程我们一般叫作主线程<br>默认情况下，我们所有的代码都在主线程中执行的<br>2.子线程<br>一个进程可以有多个线程，除了主线程以外，其它的线程需要手动添加<br>3.threading是Python中的一个内置模块，用来支持多线程<br>a.Thread类<br>Thread类的对象就是线程对象，需要线程的时候，就创建这个类或者这个类的子类对象<br>b.threading.currentThread()—》用来获取当前线程对象</p>\n<pre class=\" language-python\"><code class=\"language-python\">\n<span class=\"token keyword\">import</span> threading\n<span class=\"token keyword\">import</span> datetime\n<span class=\"token keyword\">import</span> time\n<span class=\"token comment\" spellcheck=\"true\"># 下载两个电影</span>\n<span class=\"token keyword\">def</span> <span class=\"token function\">download</span><span class=\"token punctuation\">(</span>file<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>file <span class=\"token operator\">+</span> <span class=\"token string\">'开始下载：'</span><span class=\"token punctuation\">,</span> datetime<span class=\"token punctuation\">.</span>datetime<span class=\"token punctuation\">.</span>now<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n    <span class=\"token comment\" spellcheck=\"true\"># 让线程阻塞10秒</span>\n    time<span class=\"token punctuation\">.</span>sleep<span class=\"token punctuation\">(</span><span class=\"token number\">10</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>file<span class=\"token operator\">+</span><span class=\"token string\">'下载结束'</span><span class=\"token punctuation\">,</span> datetime<span class=\"token punctuation\">.</span>datetime<span class=\"token punctuation\">.</span>now<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token keyword\">if</span> __name__ <span class=\"token operator\">==</span> <span class=\"token string\">'__main__'</span><span class=\"token punctuation\">:</span>\n    <span class=\"token comment\" spellcheck=\"true\"># threading.Thread</span>\n    <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string\">'主线程中的代码'</span><span class=\"token punctuation\">)</span>\n\n    <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>threading<span class=\"token punctuation\">.</span>currentThread<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n\n    <span class=\"token comment\" spellcheck=\"true\"># 1.在主线程中下载两个电影：用时20s</span>\n    <span class=\"token comment\" spellcheck=\"true\"># download('西虹市首富')</span>\n    download<span class=\"token punctuation\">(</span><span class=\"token string\">'沉默的羔羊'</span><span class=\"token punctuation\">)</span>\n\n    <span class=\"token comment\" spellcheck=\"true\"># 2.在子线程中下载两个电影:用时10s</span>\n    <span class=\"token triple-quoted-string string\">'''\n    Tread(target,args)\n    target:需要在子线程中调用的函数的函数名\n    args:函数的实参\n    返回值：创建好的线程对象\n    '''</span>\n    t1 <span class=\"token operator\">=</span> threading<span class=\"token punctuation\">.</span>Thread<span class=\"token punctuation\">(</span>target<span class=\"token operator\">=</span> download<span class=\"token punctuation\">,</span>args<span class=\"token operator\">=</span><span class=\"token punctuation\">(</span><span class=\"token string\">'西虹市首富'</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n    <span class=\"token comment\" spellcheck=\"true\"># 开始执行t1对应的线程任务</span>\n    t1<span class=\"token punctuation\">.</span>start<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n\n    <span class=\"token comment\" spellcheck=\"true\"># t2 = threading.Thread(target= download,args=('沉默的羔羊',))</span>\n    <span class=\"token comment\" spellcheck=\"true\"># # 想要在子线程中执行任务，必须通过线程对象调用start方法才行</span>\n    <span class=\"token comment\" spellcheck=\"true\"># t2.start()</span>\n    <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string\">'=========='</span><span class=\"token punctuation\">)</span>\n</code></pre>\n<h4 id=\"02-面向对象的多线程技术\"><a href=\"#02-面向对象的多线程技术\" class=\"headerlink\" title=\"02-面向对象的多线程技术\"></a>02-面向对象的多线程技术</h4><ul>\n<li><p>1.声明一个类继承自Thread类</p>\n</li>\n<li><p>2.将需要在子线程中执行的任务放到run方法中</p>\n</li>\n<li><p>3.在需要子线程的位置去创建这个类的对象，然后用对象调用start方法去执行run中的任务</p>\n</li>\n</ul>\n<pre class=\" language-python\"><code class=\"language-python\"><span class=\"token keyword\">from</span> threading <span class=\"token keyword\">import</span> Thread\n<span class=\"token keyword\">import</span> datetime\n<span class=\"token keyword\">import</span> time\n<span class=\"token keyword\">from</span> random <span class=\"token keyword\">import</span> randint\n\n注意：继承的时候可以继承自己写的类，也可以继承别人写的类或者系统写的类\n<span class=\"token keyword\">class</span> <span class=\"token class-name\">DownloadThread</span><span class=\"token punctuation\">(</span>Thread<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    <span class=\"token triple-quoted-string string\">'''下载线程类'''</span>\n    <span class=\"token keyword\">def</span> <span class=\"token function\">__init__</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">,</span>file<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n        super<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>__init__<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n        self<span class=\"token punctuation\">.</span>file <span class=\"token operator\">=</span> file\n\n    <span class=\"token keyword\">def</span> <span class=\"token function\">run</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n        <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">.</span>file <span class=\"token operator\">+</span> <span class=\"token string\">'开始下载：'</span><span class=\"token punctuation\">,</span>datetime<span class=\"token punctuation\">.</span>datetime<span class=\"token punctuation\">.</span>now<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n        time<span class=\"token punctuation\">.</span>sleep<span class=\"token punctuation\">(</span>randint<span class=\"token punctuation\">(</span><span class=\"token number\">5</span><span class=\"token punctuation\">,</span><span class=\"token number\">10</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n        <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">.</span>file <span class=\"token operator\">+</span> <span class=\"token string\">'下载结束：'</span><span class=\"token punctuation\">,</span>datetime<span class=\"token punctuation\">.</span>datetime<span class=\"token punctuation\">.</span>now<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token keyword\">if</span> __name__ <span class=\"token operator\">==</span> <span class=\"token string\">'__main__'</span><span class=\"token punctuation\">:</span>\n    <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string\">'=========='</span><span class=\"token punctuation\">)</span>\n    t1 <span class=\"token operator\">=</span> DownloadThread<span class=\"token punctuation\">(</span><span class=\"token string\">'西虹市首富'</span><span class=\"token punctuation\">)</span>\n    t1<span class=\"token punctuation\">.</span>start<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n\n    t2 <span class=\"token operator\">=</span> DownloadThread<span class=\"token punctuation\">(</span><span class=\"token string\">'黑客帝国'</span><span class=\"token punctuation\">)</span>\n    t2<span class=\"token punctuation\">.</span>start<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n\n    <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string\">'+-+-+-+-+-'</span><span class=\"token punctuation\">)</span>\n</code></pre>\n<h4 id=\"03-join方法的使用\"><a href=\"#03-join方法的使用\" class=\"headerlink\" title=\"03-join方法的使用\"></a>03-join方法的使用</h4><p>如果希望某个线程结束后才进行的操作，就用那个线程调用join函数</p>\n<pre class=\" language-python\"><code class=\"language-python\"><span class=\"token keyword\">from</span> threading <span class=\"token keyword\">import</span> Thread\n<span class=\"token keyword\">from</span> random <span class=\"token keyword\">import</span> randint\n<span class=\"token keyword\">import</span> time\n<span class=\"token keyword\">import</span> datetime\n\n<span class=\"token keyword\">class</span> <span class=\"token class-name\">DownloadThread</span><span class=\"token punctuation\">(</span>Thread<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    <span class=\"token keyword\">def</span> <span class=\"token function\">__init__</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">,</span>file<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n        super<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>__init__<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n        self<span class=\"token punctuation\">.</span>file <span class=\"token operator\">=</span> file\n\n    <span class=\"token keyword\">def</span> <span class=\"token function\">run</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n        <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">.</span>file<span class=\"token operator\">+</span><span class=\"token string\">'开始下载'</span><span class=\"token punctuation\">,</span>datetime<span class=\"token punctuation\">.</span>datetime<span class=\"token punctuation\">.</span>now<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n        time<span class=\"token punctuation\">.</span>sleep<span class=\"token punctuation\">(</span>randint<span class=\"token punctuation\">(</span><span class=\"token number\">5</span><span class=\"token punctuation\">,</span><span class=\"token number\">15</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n        <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">.</span>file<span class=\"token operator\">+</span><span class=\"token string\">'下载结束'</span><span class=\"token punctuation\">,</span>datetime<span class=\"token punctuation\">.</span>datetime<span class=\"token punctuation\">.</span>now<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n\n\n<span class=\"token keyword\">if</span> __name__ <span class=\"token operator\">==</span> <span class=\"token string\">'__main__'</span><span class=\"token punctuation\">:</span>\n\n    t1 <span class=\"token operator\">=</span> DownloadThread<span class=\"token punctuation\">(</span><span class=\"token string\">'美丽人生'</span><span class=\"token punctuation\">)</span>\n    t2 <span class=\"token operator\">=</span> DownloadThread<span class=\"token punctuation\">(</span><span class=\"token string\">'怦然心动'</span><span class=\"token punctuation\">)</span>\n\n    start <span class=\"token operator\">=</span> time<span class=\"token punctuation\">.</span>time<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n\n    tim1 <span class=\"token operator\">=</span> t1<span class=\"token punctuation\">.</span>start<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    tim2 <span class=\"token operator\">=</span> t2<span class=\"token punctuation\">.</span>start<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token comment\" spellcheck=\"true\"># 在两个子线程中下载两个电影，在主线程中统计两个电影下载的总时间</span>\n\n<span class=\"token comment\" spellcheck=\"true\"># 系统t1和t2中的代码结束后才执行下面的代码</span>\n    t1<span class=\"token punctuation\">.</span>join<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>  <span class=\"token comment\" spellcheck=\"true\"># 这句代码后面的代码在t1对应的线程结束后才执行</span>\n    t2<span class=\"token punctuation\">.</span>join<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    end <span class=\"token operator\">=</span> time<span class=\"token punctuation\">.</span>time<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>end<span class=\"token operator\">-</span>start<span class=\"token punctuation\">)</span>\n</code></pre>\n<h4 id=\"04-线程间的数据共享\"><a href=\"#04-线程间的数据共享\" class=\"headerlink\" title=\"04-线程间的数据共享\"></a>04-线程间的数据共享</h4><p>同步锁（RLock）和互斥锁(Lock)<br>模拟多个人对同一个账号进行操作</p>\n<pre class=\" language-python\"><code class=\"language-python\"><span class=\"token keyword\">import</span> time\n<span class=\"token keyword\">from</span> threading <span class=\"token keyword\">import</span> Thread<span class=\"token punctuation\">,</span>Lock\n\n<span class=\"token keyword\">class</span> <span class=\"token class-name\">Account</span><span class=\"token punctuation\">:</span>\n    <span class=\"token triple-quoted-string string\">'''账号类'''</span>\n    <span class=\"token keyword\">def</span> <span class=\"token function\">__init__</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">,</span>balance<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n        <span class=\"token comment\" spellcheck=\"true\"># 余额</span>\n        self<span class=\"token punctuation\">.</span>balance <span class=\"token operator\">=</span> balance\n        <span class=\"token comment\" spellcheck=\"true\"># 创建锁的对象</span>\n        self<span class=\"token punctuation\">.</span>lock <span class=\"token operator\">=</span> Lock<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n\n    <span class=\"token comment\" spellcheck=\"true\"># 存钱过程：读出原来的余额，确定钱的一系列操作，将原来的余额加上存的钱，产生新的余额，再保存</span>\n    <span class=\"token keyword\">def</span> <span class=\"token function\">save_money</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">,</span>amount<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n        <span class=\"token triple-quoted-string string\">'''存钱'''</span>\n        <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string\">'开始存钱'</span><span class=\"token punctuation\">)</span>\n        加锁\n        self<span class=\"token punctuation\">.</span>lock<span class=\"token punctuation\">.</span>acquire<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n        <span class=\"token comment\" spellcheck=\"true\"># 获取原来的余额</span>\n        old_amount <span class=\"token operator\">=</span>  self<span class=\"token punctuation\">.</span>balance\n        <span class=\"token comment\" spellcheck=\"true\"># 模拟时间消耗</span>\n        time<span class=\"token punctuation\">.</span>sleep<span class=\"token punctuation\">(</span><span class=\"token number\">5</span><span class=\"token punctuation\">)</span>\n        <span class=\"token comment\" spellcheck=\"true\"># 修改余额</span>\n        self<span class=\"token punctuation\">.</span>balance <span class=\"token operator\">=</span> old_amount <span class=\"token operator\">+</span> amount\n        <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string\">'存钱成功，余额是：'</span><span class=\"token punctuation\">,</span>self<span class=\"token punctuation\">.</span>balance<span class=\"token punctuation\">)</span>\n        解锁\n        self<span class=\"token punctuation\">.</span>lock<span class=\"token punctuation\">.</span>release<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n\n    <span class=\"token keyword\">def</span> <span class=\"token function\">get_money</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">,</span>amount<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n        <span class=\"token triple-quoted-string string\">'''取钱'''</span>\n        <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string\">'开始取钱'</span><span class=\"token punctuation\">)</span>\n        加锁\n        self<span class=\"token punctuation\">.</span>lock<span class=\"token punctuation\">.</span>acquire<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n        <span class=\"token comment\" spellcheck=\"true\"># 获取原来的余额</span>\n        old_amount <span class=\"token operator\">=</span> self<span class=\"token punctuation\">.</span>balance\n        <span class=\"token keyword\">if</span> old_amount <span class=\"token operator\">&lt;</span> amount<span class=\"token punctuation\">:</span>\n            <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string\">'余额不足'</span><span class=\"token punctuation\">)</span>\n            <span class=\"token keyword\">return</span>\n        time<span class=\"token punctuation\">.</span>sleep<span class=\"token punctuation\">(</span><span class=\"token number\">5</span><span class=\"token punctuation\">)</span>\n        self<span class=\"token punctuation\">.</span>balance <span class=\"token operator\">=</span> old_amount <span class=\"token operator\">-</span> amount\n        <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string\">'取钱成功,余额是：'</span><span class=\"token punctuation\">,</span>self<span class=\"token punctuation\">.</span>balance<span class=\"token punctuation\">)</span>\n        解锁\n        self<span class=\"token punctuation\">.</span>lock<span class=\"token punctuation\">.</span>release<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n\n    <span class=\"token keyword\">def</span> <span class=\"token function\">show_balance</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n        <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string\">'当前余额：%d'</span><span class=\"token operator\">%</span> self<span class=\"token punctuation\">.</span>balance<span class=\"token punctuation\">)</span>\n\n<span class=\"token keyword\">if</span> __name__ <span class=\"token operator\">==</span> <span class=\"token string\">'__main__'</span><span class=\"token punctuation\">:</span>\n    <span class=\"token comment\" spellcheck=\"true\"># 创建账号</span>\n    account <span class=\"token operator\">=</span> Account<span class=\"token punctuation\">(</span><span class=\"token number\">1000</span><span class=\"token punctuation\">)</span>\n\n    <span class=\"token comment\" spellcheck=\"true\"># account.save_money(200)</span>\n    <span class=\"token comment\" spellcheck=\"true\"># account.save_money(100)</span>\n    <span class=\"token comment\" spellcheck=\"true\"># account.show_balance()</span>\n    当多个线程对一个数据进行操作时，可能会出现数据混乱的问题\n\n    t1 <span class=\"token operator\">=</span> Thread<span class=\"token punctuation\">(</span>target<span class=\"token operator\">=</span> account<span class=\"token punctuation\">.</span>save_money<span class=\"token punctuation\">,</span>args<span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token number\">200</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n    t2 <span class=\"token operator\">=</span> Thread<span class=\"token punctuation\">(</span>target<span class=\"token operator\">=</span>account<span class=\"token punctuation\">.</span>save_money<span class=\"token punctuation\">,</span> args<span class=\"token operator\">=</span><span class=\"token punctuation\">(</span><span class=\"token number\">300</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n\n    t1<span class=\"token punctuation\">.</span>start<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    t2<span class=\"token punctuation\">.</span>start<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n\n</code></pre>\n","site":{"data":{}},"excerpt":"","more":"<h4 id=\"01-多线程技术\"><a href=\"#01-多线程技术\" class=\"headerlink\" title=\"01-多线程技术\"></a>01-多线程技术</h4><p>1.主线程<br>每个进程默认都会有一个线程，这个线程我们一般叫作主线程<br>默认情况下，我们所有的代码都在主线程中执行的<br>2.子线程<br>一个进程可以有多个线程，除了主线程以外，其它的线程需要手动添加<br>3.threading是Python中的一个内置模块，用来支持多线程<br>a.Thread类<br>Thread类的对象就是线程对象，需要线程的时候，就创建这个类或者这个类的子类对象<br>b.threading.currentThread()—》用来获取当前线程对象</p>\n<pre><code class=\"python\">\nimport threading\nimport datetime\nimport time\n# 下载两个电影\ndef download(file):\n    print(file + &#39;开始下载：&#39;, datetime.datetime.now())\n    # 让线程阻塞10秒\n    time.sleep(10)\n    print(file+&#39;下载结束&#39;, datetime.datetime.now())\n\nif __name__ == &#39;__main__&#39;:\n    # threading.Thread\n    print(&#39;主线程中的代码&#39;)\n\n    print(threading.currentThread())\n\n    # 1.在主线程中下载两个电影：用时20s\n    # download(&#39;西虹市首富&#39;)\n    download(&#39;沉默的羔羊&#39;)\n\n    # 2.在子线程中下载两个电影:用时10s\n    &#39;&#39;&#39;\n    Tread(target,args)\n    target:需要在子线程中调用的函数的函数名\n    args:函数的实参\n    返回值：创建好的线程对象\n    &#39;&#39;&#39;\n    t1 = threading.Thread(target= download,args=(&#39;西虹市首富&#39;,))\n    # 开始执行t1对应的线程任务\n    t1.start()\n\n    # t2 = threading.Thread(target= download,args=(&#39;沉默的羔羊&#39;,))\n    # # 想要在子线程中执行任务，必须通过线程对象调用start方法才行\n    # t2.start()\n    print(&#39;==========&#39;)\n</code></pre>\n<h4 id=\"02-面向对象的多线程技术\"><a href=\"#02-面向对象的多线程技术\" class=\"headerlink\" title=\"02-面向对象的多线程技术\"></a>02-面向对象的多线程技术</h4><ul>\n<li><p>1.声明一个类继承自Thread类</p>\n</li>\n<li><p>2.将需要在子线程中执行的任务放到run方法中</p>\n</li>\n<li><p>3.在需要子线程的位置去创建这个类的对象，然后用对象调用start方法去执行run中的任务</p>\n</li>\n</ul>\n<pre><code class=\"python\">from threading import Thread\nimport datetime\nimport time\nfrom random import randint\n\n注意：继承的时候可以继承自己写的类，也可以继承别人写的类或者系统写的类\nclass DownloadThread(Thread):\n    &#39;&#39;&#39;下载线程类&#39;&#39;&#39;\n    def __init__(self,file):\n        super().__init__()\n        self.file = file\n\n    def run(self):\n        print(self.file + &#39;开始下载：&#39;,datetime.datetime.now())\n        time.sleep(randint(5,10))\n        print(self.file + &#39;下载结束：&#39;,datetime.datetime.now())\n\nif __name__ == &#39;__main__&#39;:\n    print(&#39;==========&#39;)\n    t1 = DownloadThread(&#39;西虹市首富&#39;)\n    t1.start()\n\n    t2 = DownloadThread(&#39;黑客帝国&#39;)\n    t2.start()\n\n    print(&#39;+-+-+-+-+-&#39;)\n</code></pre>\n<h4 id=\"03-join方法的使用\"><a href=\"#03-join方法的使用\" class=\"headerlink\" title=\"03-join方法的使用\"></a>03-join方法的使用</h4><p>如果希望某个线程结束后才进行的操作，就用那个线程调用join函数</p>\n<pre><code class=\"python\">from threading import Thread\nfrom random import randint\nimport time\nimport datetime\n\nclass DownloadThread(Thread):\n    def __init__(self,file):\n        super().__init__()\n        self.file = file\n\n    def run(self):\n        print(self.file+&#39;开始下载&#39;,datetime.datetime.now())\n        time.sleep(randint(5,15))\n        print(self.file+&#39;下载结束&#39;,datetime.datetime.now())\n\n\nif __name__ == &#39;__main__&#39;:\n\n    t1 = DownloadThread(&#39;美丽人生&#39;)\n    t2 = DownloadThread(&#39;怦然心动&#39;)\n\n    start = time.time()\n\n    tim1 = t1.start()\n    tim2 = t2.start()\n\n# 在两个子线程中下载两个电影，在主线程中统计两个电影下载的总时间\n\n# 系统t1和t2中的代码结束后才执行下面的代码\n    t1.join()  # 这句代码后面的代码在t1对应的线程结束后才执行\n    t2.join()\n    end = time.time()\n    print(end-start)\n</code></pre>\n<h4 id=\"04-线程间的数据共享\"><a href=\"#04-线程间的数据共享\" class=\"headerlink\" title=\"04-线程间的数据共享\"></a>04-线程间的数据共享</h4><p>同步锁（RLock）和互斥锁(Lock)<br>模拟多个人对同一个账号进行操作</p>\n<pre><code class=\"python\">import time\nfrom threading import Thread,Lock\n\nclass Account:\n    &#39;&#39;&#39;账号类&#39;&#39;&#39;\n    def __init__(self,balance):\n        # 余额\n        self.balance = balance\n        # 创建锁的对象\n        self.lock = Lock()\n\n    # 存钱过程：读出原来的余额，确定钱的一系列操作，将原来的余额加上存的钱，产生新的余额，再保存\n    def save_money(self,amount):\n        &#39;&#39;&#39;存钱&#39;&#39;&#39;\n        print(&#39;开始存钱&#39;)\n        加锁\n        self.lock.acquire()\n        # 获取原来的余额\n        old_amount =  self.balance\n        # 模拟时间消耗\n        time.sleep(5)\n        # 修改余额\n        self.balance = old_amount + amount\n        print(&#39;存钱成功，余额是：&#39;,self.balance)\n        解锁\n        self.lock.release()\n\n    def get_money(self,amount):\n        &#39;&#39;&#39;取钱&#39;&#39;&#39;\n        print(&#39;开始取钱&#39;)\n        加锁\n        self.lock.acquire()\n        # 获取原来的余额\n        old_amount = self.balance\n        if old_amount &lt; amount:\n            print(&#39;余额不足&#39;)\n            return\n        time.sleep(5)\n        self.balance = old_amount - amount\n        print(&#39;取钱成功,余额是：&#39;,self.balance)\n        解锁\n        self.lock.release()\n\n    def show_balance(self):\n        print(&#39;当前余额：%d&#39;% self.balance)\n\nif __name__ == &#39;__main__&#39;:\n    # 创建账号\n    account = Account(1000)\n\n    # account.save_money(200)\n    # account.save_money(100)\n    # account.show_balance()\n    当多个线程对一个数据进行操作时，可能会出现数据混乱的问题\n\n    t1 = Thread(target= account.save_money,args= (200,))\n    t2 = Thread(target=account.save_money, args=(300,))\n\n    t1.start()\n    t2.start()\n\n</code></pre>\n"},{"title":"字典与集合","date":"2017-03-21T11:44:26.000Z","author":"smile","_content":"\n#### 一、recode\n###### 1.列表\n+ 1.一个列表可以保存多个数据。容器类型，有序（下标），可变的（增删改）\n  [元素，元素]---> 元素可以是任意类型的数据\n+ 2.声明列表\n+ 3.元素的增删改查\n+ 4.遍历列表\n+ 5.列表存储（存地址，除了int、bool、float、str存的是值，其它的全是引用，存的是地址）\n+ 6.列表的相关方法\n+ 7.元组（元组是不可变的列表）\n  （元素，元素）-->(元素）\n  查找单个，切片、遍历、in/not in 、+ 、* 、len()\n  颜色值（255,0,0），（0,255,0）坐标（100,200）\n#### 二、字典\n##### 1.字典（dict)是容器类型（也是序列），以键值对作为元素（字典里面存的数据全是以键值对的形式出现的）\n`{key1:value1,key2:walue2,...}`\n##### 2.键值对：键：值（key:value)\n+ 键（key):要唯一，不可变的（数字、布尔、字符串和元组，推荐使用字符串）\n+ 值（value):可以不唯一，可以是任何类型的数据\n\n##### 3.字典是可变的（增删改）--- 可变的是字典里键值对的值和个数可变\n```python\n# 1.声明字典\ndict1 = {2:20,'a':54,True:20,(10,10):'begain','a':[1,2]}\nprint(dict1)\nperson1 = ['smile',20,0]         # 列表存数据不明确\n```\n+  声明一个字典，有三个键值对，key分别是：name，age和work_age\n  `person2 = {'name':'smile','age':20,'work_age':0}`\n#####  2.查（获取值）\n+  获取字典的元素对应的值（字典存数据，实质还是存的value,key是获取value的手段）\n+  字典[key]---通过key获取值，反着不可以\n```python\nprint(person2['name'],person2['age'])\ndict2 = {}    # 空的字典\nprint(type(dict2))\n```\n+  通过字典[key]获取value的时候，如果不存在会发生KeyError异常\n  `# print(person2['sex'])     #  KeyError: 'sex'\n  `\n#####  b.字典.get(key)\n`print(person2.get('age'))`\n\n+  字典.get(key)，如果key不存在不会报错，返回None\n```\nprint(person2.get('sex'))       # None--python中的特殊值，代表没有\n```\n#####  总结：确定key值肯定存在的时候用[]语法获取value。\n+  key值可能不存在，不存在的时候不希望报错，而是想要自己对它进行特殊处理的时候用get获取value\n```python\nperson = {'name': '张启灵','age':36,'face_grade':90 }\n# 想要获取性别sex，如果没有就默认'男’\nif person.get('sex'):\n    print(person['sex'])\nelse:\n    print('男')\n```\n#####  c.遍历\n```python\ndog = {'name': '旺财', 'color': 'yellow', 'age': 5}\nfor key in dog:\n    # 打印key\n    print(key)\n    print(dog[key])\n```\n#####  3.改（修改key对应的value）\n+  字典[key] = 新值       （key是本来就存在）\n  `dog['name'] = '大黄'\n  print(dog)`\n#####  4.增（添加键值对）\n+  字典[key] = 值        （key本来不存在）\n  `dog['type'] = '拉布拉多'\n  print(dog)`\n#####  5.删（删除键值对）\n+  a.del 字典[key]\n  `del dog['color']\n  print(dog)\n  `\n+  b.字典.pop(key)\n  `age = dog.pop(key)\n  print(dog,age)`\n#### 三、字典相关的运算\n##### 1.字典不支持'+'和'*'\n##### 2.in 和 not in\n```python\ncomputer = {'color':'write','brand':'联想'}\nprint('color' in computer)\n```\n##### 3.len()\n`print(len(computer))`\n#####  4.字典.clear():删除字典里所有的元素（键值对）\n```python\ncomputer.clear()\nprint(computer)\n```\n#####  5.字典.copy():拷贝字典中所有的元素，放到一个新的字典中\n```python\ndict1 = {'a': 1, 'b': 2}\ndict2 = dict1      # 将dict1中的地址赋给dict2，两个变量指向同一块内存区域\ndict3 = dict1.copy()  # 将dict1中的内容复制到一个新的内存区域中，然后将新的地址给dict3\ndict1['a'] = 100\nprint(dict2)      #{'a': 100, 'b': 2}\nprint(dict3)      #{'a': 1, 'b': 2}\n```\n#####  6.dict.fromkeys(序列，默认值 = None)\n+ 将序列中的每个值作为key，默认值为value创建一个新的字典\n##### 注意：默认值可以不写，写的话只能写一个\n```python\nprint(dict.fromkeys('abc',0))   #{'a': 0, 'b': 0, 'c': 0}\nprint(dict.fromkeys(['name','age','sex'],[1,2]))\n```\n#####  7.字典.key()\n+  获取字典中所有的key，以dict_keys的形式返回\n```python\nall_key = dict.keys()\nfor key in all_key:\n    print(all_key)\n```\n#####  8.字典.values(了解)\n+   获取字典中所有的value\n```python\nprint(dict1)\nall_value = dict1.values()\nprint(all_value)\n```\n#####  9.字典.items()\n```python\nprint(dict1.items())\nfor key,value in dict1.items():\n    print(key,value)\n```\n#####  10.字典.setdefault(key,默认值 = None)\n+  给字典添加键值对.如果key本身就存在，这个方法五作为\n```python\ndict1.setdefault('ab','abc')\ndict1.setdefault('dd')\nprint(dict1)\n```\n#####  11.字典1.update(字典2）\n+  将字典2中的键值对更新到字典1中\n+  更新方式：如果字典2的key，在字典1重视存在的，就字典2中的值去更新字典1中的值，不存在就添加到字典1中\n```python\ndict1 = {'aa':1,'bb':'abc','cc':True}\ndict1.update({'aa':99,'bb':'你好'})\nprint(dict1)\n```\n#### 四、字典和列表的组合\n```python\n# 学生管理系统\n# 1.一个系统可以存储多个学生\n#   系统应该是一个容器：列表、字典\n# 2.一个学生可以存储：姓名，电话，籍贯，专业，学号ect.\n# 3.添加学生\n   # 元组不能用\n# 4.删除学生\n# 5.修改学生的信息\n#。。。。\n```\n##### 什么时候使用列表，什么时候使用字典？\n##### 1.保存的多个数据是同一个类型的时候，用列表\n+ 例如：声明一个变量保存所有的数学成绩，声明一个变量保存所有的学生的信息\n##### 2.保存的多个数据的类型不同，就使用字典\n+  声明一个变量保存一个学生的信息\n+  列表中有字典\n```python\nstudent_system = [{'name':'stu1','age':'20','tel':110},\n                  {'name':'stui2','age':18,'tel':120}]\n#   字典中有列表\npy_class = {'class':'python1806','students':[\n            {'name':'stu1','age':20,'id':110},\n            {'name':'stu2','age':18,'id':120}\n]}\nprint(py_class['class'])\n# 取出第二个学生的名字\nprint(py_class['students'][1]['name'])\n```\n+  练习：在班级python1806中添加一个学生，学生的信息自己输入，名字、年龄和id\n```python\nname1 = input('姓名：')\nage1 = int(input('年龄：'))\nid1 = input('id：')\nstudent = {'name': name1,'age': age1, 'id': id1}\n# 将学生对应的字典添加到列表中\npy_class['students'].append(student)\nprint(py_class)\n```\n+ 练习2：输入一个学生的姓名，根据姓名删除对应学生\n  name2 = input('请输入需要删除的学生姓名：')\n```python\n# 获取班级所有的学生\nall_student = py_class['students']\n# 遍历取出每个学生对应的字典\nfor student_dict in all_student:\n    # 判断name2与取出的学生的姓名一样\n    if student_dict['name'] == name2:\n        all_student.remove(student_dict)\nprint(py_class)\n```\n#### 五、集合\n+ 集合（set）\n##### 集合是python中的一种容器类型：无序的，可变的,值唯一，和数学中的集合差不多\n##### 1.声明一个集合\n```python\nset1 = {1,2,'a'}\nprint(set1,type(set1))\n```\n+  将其他的序列转换成集合，自带一个去重的功能\n```python\nset2 = set('asjbdauhaicasbja')\nprint(set2)\n\nset3 = {10,True,'abc',52.01}\nprint(set3)\n```\n#####  2.查（获取集合中的元素）\n+  集合石不能单独获取其中的某一个元素的\n```python\n# 遍历获取每一个元素\nfor iteem in set3:\n    print(iteem)\n```\n#####  3.增（添加元素）\n+  a.集合.add(元素)\n```python\nset3.add('good')\nprint(set3)\n```\n+  b.集合1.update（集合2）:将集合2中的元素，添加到集合1中\n```python\nset3.update({11,1111,2121})\nprint(set3)\n```\n#####  4.删\n+  集合.remove(元素)\n```python\nset3.remove(1111)\nprint(set3)\n\n# 删除所有的元素\nset3.clear()\nprint(set3)\n```\n##### 5.改（改不了）\n#####  6.数学相关的集合运算\n+ a.判断包含情况：\n+ 集合１>=　集合２：判断集合１中是否包含集合２\n- 集合1 <=  集合2 ：判断集合2中是否包含集合1\n\n`print({1,2,3}>= {1})`\n\n+  b.求并集：|\n```python\nset1 = {1,2,3,5,7}\nset2 = {3,4,2,6,8}\nprint(set1 | set2)\n```\n+  c.求交集：&\n  `print(set1 & set2)`\n+  d.求差集：-\n  `print(set1 - set2)`\n+  e.求补集：^\n   求两个集合中除了公共部分以外的部分\n```python\nprint(set1 ^ set2)\n\nlist1 = [1,2,2,3,4,5,6]\nlist2 = [5,2,100,20,56]\nresult = list(set(list1) & set(list2))\nprint(result)\n```\n#### 练习\n```python\nfrom tkinter import *\nfrom tkinter import messagebox\nimport random\n\n\nroot = Tk()\nroot.title('表白你，做我女票吧')\nroot.geometry('700x700+400+400')\na = Button(root, text=\"不同意\",bg='red')\n\ndef call():\n    messagebox._show(\"你的眼光还是不错的！\")\n    root.destroy()\n\nb = Button(root,text='同意',command = call,bg='green')\n\ndef callback(event):\n    #print(\"clicked at\", event.x, event.y)\n    i = random.randint(1, 9)\n    j = random.randint(1,9)\n    a.place(relx=(0.1*i),rely=(0.1*j))\n    root.update()\n\ndef quit():\n    messagebox.showwarning('警告', '快做选择！')\nroot.bind(\"<Button-1>\", callback)\nroot.bind('Destroy',call)\nb.pack(side='left',padx=10)\na.pack(side='right',padx=10)\nc=Label(text='同意我，退出程序！',font='Arial-10')\nc.pack()\n#a.pack()\nroot.protocol(\"WM_DELETE_WINDOW\", quit)\n\nroot.mainloop()\n```\n\n","source":"_posts/python/字典与集合.md","raw":"---\ntitle: 字典与集合\ndate: 2017-03-21 19:44:26\nauthor: smile\ncategories: Python\ntags:\n  - dict\n  - set\n---\n\n#### 一、recode\n###### 1.列表\n+ 1.一个列表可以保存多个数据。容器类型，有序（下标），可变的（增删改）\n  [元素，元素]---> 元素可以是任意类型的数据\n+ 2.声明列表\n+ 3.元素的增删改查\n+ 4.遍历列表\n+ 5.列表存储（存地址，除了int、bool、float、str存的是值，其它的全是引用，存的是地址）\n+ 6.列表的相关方法\n+ 7.元组（元组是不可变的列表）\n  （元素，元素）-->(元素）\n  查找单个，切片、遍历、in/not in 、+ 、* 、len()\n  颜色值（255,0,0），（0,255,0）坐标（100,200）\n#### 二、字典\n##### 1.字典（dict)是容器类型（也是序列），以键值对作为元素（字典里面存的数据全是以键值对的形式出现的）\n`{key1:value1,key2:walue2,...}`\n##### 2.键值对：键：值（key:value)\n+ 键（key):要唯一，不可变的（数字、布尔、字符串和元组，推荐使用字符串）\n+ 值（value):可以不唯一，可以是任何类型的数据\n\n##### 3.字典是可变的（增删改）--- 可变的是字典里键值对的值和个数可变\n```python\n# 1.声明字典\ndict1 = {2:20,'a':54,True:20,(10,10):'begain','a':[1,2]}\nprint(dict1)\nperson1 = ['smile',20,0]         # 列表存数据不明确\n```\n+  声明一个字典，有三个键值对，key分别是：name，age和work_age\n  `person2 = {'name':'smile','age':20,'work_age':0}`\n#####  2.查（获取值）\n+  获取字典的元素对应的值（字典存数据，实质还是存的value,key是获取value的手段）\n+  字典[key]---通过key获取值，反着不可以\n```python\nprint(person2['name'],person2['age'])\ndict2 = {}    # 空的字典\nprint(type(dict2))\n```\n+  通过字典[key]获取value的时候，如果不存在会发生KeyError异常\n  `# print(person2['sex'])     #  KeyError: 'sex'\n  `\n#####  b.字典.get(key)\n`print(person2.get('age'))`\n\n+  字典.get(key)，如果key不存在不会报错，返回None\n```\nprint(person2.get('sex'))       # None--python中的特殊值，代表没有\n```\n#####  总结：确定key值肯定存在的时候用[]语法获取value。\n+  key值可能不存在，不存在的时候不希望报错，而是想要自己对它进行特殊处理的时候用get获取value\n```python\nperson = {'name': '张启灵','age':36,'face_grade':90 }\n# 想要获取性别sex，如果没有就默认'男’\nif person.get('sex'):\n    print(person['sex'])\nelse:\n    print('男')\n```\n#####  c.遍历\n```python\ndog = {'name': '旺财', 'color': 'yellow', 'age': 5}\nfor key in dog:\n    # 打印key\n    print(key)\n    print(dog[key])\n```\n#####  3.改（修改key对应的value）\n+  字典[key] = 新值       （key是本来就存在）\n  `dog['name'] = '大黄'\n  print(dog)`\n#####  4.增（添加键值对）\n+  字典[key] = 值        （key本来不存在）\n  `dog['type'] = '拉布拉多'\n  print(dog)`\n#####  5.删（删除键值对）\n+  a.del 字典[key]\n  `del dog['color']\n  print(dog)\n  `\n+  b.字典.pop(key)\n  `age = dog.pop(key)\n  print(dog,age)`\n#### 三、字典相关的运算\n##### 1.字典不支持'+'和'*'\n##### 2.in 和 not in\n```python\ncomputer = {'color':'write','brand':'联想'}\nprint('color' in computer)\n```\n##### 3.len()\n`print(len(computer))`\n#####  4.字典.clear():删除字典里所有的元素（键值对）\n```python\ncomputer.clear()\nprint(computer)\n```\n#####  5.字典.copy():拷贝字典中所有的元素，放到一个新的字典中\n```python\ndict1 = {'a': 1, 'b': 2}\ndict2 = dict1      # 将dict1中的地址赋给dict2，两个变量指向同一块内存区域\ndict3 = dict1.copy()  # 将dict1中的内容复制到一个新的内存区域中，然后将新的地址给dict3\ndict1['a'] = 100\nprint(dict2)      #{'a': 100, 'b': 2}\nprint(dict3)      #{'a': 1, 'b': 2}\n```\n#####  6.dict.fromkeys(序列，默认值 = None)\n+ 将序列中的每个值作为key，默认值为value创建一个新的字典\n##### 注意：默认值可以不写，写的话只能写一个\n```python\nprint(dict.fromkeys('abc',0))   #{'a': 0, 'b': 0, 'c': 0}\nprint(dict.fromkeys(['name','age','sex'],[1,2]))\n```\n#####  7.字典.key()\n+  获取字典中所有的key，以dict_keys的形式返回\n```python\nall_key = dict.keys()\nfor key in all_key:\n    print(all_key)\n```\n#####  8.字典.values(了解)\n+   获取字典中所有的value\n```python\nprint(dict1)\nall_value = dict1.values()\nprint(all_value)\n```\n#####  9.字典.items()\n```python\nprint(dict1.items())\nfor key,value in dict1.items():\n    print(key,value)\n```\n#####  10.字典.setdefault(key,默认值 = None)\n+  给字典添加键值对.如果key本身就存在，这个方法五作为\n```python\ndict1.setdefault('ab','abc')\ndict1.setdefault('dd')\nprint(dict1)\n```\n#####  11.字典1.update(字典2）\n+  将字典2中的键值对更新到字典1中\n+  更新方式：如果字典2的key，在字典1重视存在的，就字典2中的值去更新字典1中的值，不存在就添加到字典1中\n```python\ndict1 = {'aa':1,'bb':'abc','cc':True}\ndict1.update({'aa':99,'bb':'你好'})\nprint(dict1)\n```\n#### 四、字典和列表的组合\n```python\n# 学生管理系统\n# 1.一个系统可以存储多个学生\n#   系统应该是一个容器：列表、字典\n# 2.一个学生可以存储：姓名，电话，籍贯，专业，学号ect.\n# 3.添加学生\n   # 元组不能用\n# 4.删除学生\n# 5.修改学生的信息\n#。。。。\n```\n##### 什么时候使用列表，什么时候使用字典？\n##### 1.保存的多个数据是同一个类型的时候，用列表\n+ 例如：声明一个变量保存所有的数学成绩，声明一个变量保存所有的学生的信息\n##### 2.保存的多个数据的类型不同，就使用字典\n+  声明一个变量保存一个学生的信息\n+  列表中有字典\n```python\nstudent_system = [{'name':'stu1','age':'20','tel':110},\n                  {'name':'stui2','age':18,'tel':120}]\n#   字典中有列表\npy_class = {'class':'python1806','students':[\n            {'name':'stu1','age':20,'id':110},\n            {'name':'stu2','age':18,'id':120}\n]}\nprint(py_class['class'])\n# 取出第二个学生的名字\nprint(py_class['students'][1]['name'])\n```\n+  练习：在班级python1806中添加一个学生，学生的信息自己输入，名字、年龄和id\n```python\nname1 = input('姓名：')\nage1 = int(input('年龄：'))\nid1 = input('id：')\nstudent = {'name': name1,'age': age1, 'id': id1}\n# 将学生对应的字典添加到列表中\npy_class['students'].append(student)\nprint(py_class)\n```\n+ 练习2：输入一个学生的姓名，根据姓名删除对应学生\n  name2 = input('请输入需要删除的学生姓名：')\n```python\n# 获取班级所有的学生\nall_student = py_class['students']\n# 遍历取出每个学生对应的字典\nfor student_dict in all_student:\n    # 判断name2与取出的学生的姓名一样\n    if student_dict['name'] == name2:\n        all_student.remove(student_dict)\nprint(py_class)\n```\n#### 五、集合\n+ 集合（set）\n##### 集合是python中的一种容器类型：无序的，可变的,值唯一，和数学中的集合差不多\n##### 1.声明一个集合\n```python\nset1 = {1,2,'a'}\nprint(set1,type(set1))\n```\n+  将其他的序列转换成集合，自带一个去重的功能\n```python\nset2 = set('asjbdauhaicasbja')\nprint(set2)\n\nset3 = {10,True,'abc',52.01}\nprint(set3)\n```\n#####  2.查（获取集合中的元素）\n+  集合石不能单独获取其中的某一个元素的\n```python\n# 遍历获取每一个元素\nfor iteem in set3:\n    print(iteem)\n```\n#####  3.增（添加元素）\n+  a.集合.add(元素)\n```python\nset3.add('good')\nprint(set3)\n```\n+  b.集合1.update（集合2）:将集合2中的元素，添加到集合1中\n```python\nset3.update({11,1111,2121})\nprint(set3)\n```\n#####  4.删\n+  集合.remove(元素)\n```python\nset3.remove(1111)\nprint(set3)\n\n# 删除所有的元素\nset3.clear()\nprint(set3)\n```\n##### 5.改（改不了）\n#####  6.数学相关的集合运算\n+ a.判断包含情况：\n+ 集合１>=　集合２：判断集合１中是否包含集合２\n- 集合1 <=  集合2 ：判断集合2中是否包含集合1\n\n`print({1,2,3}>= {1})`\n\n+  b.求并集：|\n```python\nset1 = {1,2,3,5,7}\nset2 = {3,4,2,6,8}\nprint(set1 | set2)\n```\n+  c.求交集：&\n  `print(set1 & set2)`\n+  d.求差集：-\n  `print(set1 - set2)`\n+  e.求补集：^\n   求两个集合中除了公共部分以外的部分\n```python\nprint(set1 ^ set2)\n\nlist1 = [1,2,2,3,4,5,6]\nlist2 = [5,2,100,20,56]\nresult = list(set(list1) & set(list2))\nprint(result)\n```\n#### 练习\n```python\nfrom tkinter import *\nfrom tkinter import messagebox\nimport random\n\n\nroot = Tk()\nroot.title('表白你，做我女票吧')\nroot.geometry('700x700+400+400')\na = Button(root, text=\"不同意\",bg='red')\n\ndef call():\n    messagebox._show(\"你的眼光还是不错的！\")\n    root.destroy()\n\nb = Button(root,text='同意',command = call,bg='green')\n\ndef callback(event):\n    #print(\"clicked at\", event.x, event.y)\n    i = random.randint(1, 9)\n    j = random.randint(1,9)\n    a.place(relx=(0.1*i),rely=(0.1*j))\n    root.update()\n\ndef quit():\n    messagebox.showwarning('警告', '快做选择！')\nroot.bind(\"<Button-1>\", callback)\nroot.bind('Destroy',call)\nb.pack(side='left',padx=10)\na.pack(side='right',padx=10)\nc=Label(text='同意我，退出程序！',font='Arial-10')\nc.pack()\n#a.pack()\nroot.protocol(\"WM_DELETE_WINDOW\", quit)\n\nroot.mainloop()\n```\n\n","slug":"python/字典与集合","published":1,"updated":"2019-03-14T01:41:13.075Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjt87kqjf0020r8r68bcwslcy","content":"<h4 id=\"一、recode\"><a href=\"#一、recode\" class=\"headerlink\" title=\"一、recode\"></a>一、recode</h4><h6 id=\"1-列表\"><a href=\"#1-列表\" class=\"headerlink\" title=\"1.列表\"></a>1.列表</h6><ul>\n<li>1.一个列表可以保存多个数据。容器类型，有序（下标），可变的（增删改）<br>[元素，元素]—&gt; 元素可以是任意类型的数据</li>\n<li>2.声明列表</li>\n<li>3.元素的增删改查</li>\n<li>4.遍历列表</li>\n<li>5.列表存储（存地址，除了int、bool、float、str存的是值，其它的全是引用，存的是地址）</li>\n<li>6.列表的相关方法</li>\n<li>7.元组（元组是不可变的列表）<br>（元素，元素）–&gt;(元素）<br>查找单个，切片、遍历、in/not in 、+ 、* 、len()<br>颜色值（255,0,0），（0,255,0）坐标（100,200）<h4 id=\"二、字典\"><a href=\"#二、字典\" class=\"headerlink\" title=\"二、字典\"></a>二、字典</h4><h5 id=\"1-字典（dict-是容器类型（也是序列），以键值对作为元素（字典里面存的数据全是以键值对的形式出现的）\"><a href=\"#1-字典（dict-是容器类型（也是序列），以键值对作为元素（字典里面存的数据全是以键值对的形式出现的）\" class=\"headerlink\" title=\"1.字典（dict)是容器类型（也是序列），以键值对作为元素（字典里面存的数据全是以键值对的形式出现的）\"></a>1.字典（dict)是容器类型（也是序列），以键值对作为元素（字典里面存的数据全是以键值对的形式出现的）</h5><code>{key1:value1,key2:walue2,...}</code><h5 id=\"2-键值对：键：值（key-value\"><a href=\"#2-键值对：键：值（key-value\" class=\"headerlink\" title=\"2.键值对：键：值（key:value)\"></a>2.键值对：键：值（key:value)</h5></li>\n<li>键（key):要唯一，不可变的（数字、布尔、字符串和元组，推荐使用字符串）</li>\n<li>值（value):可以不唯一，可以是任何类型的数据</li>\n</ul>\n<h5 id=\"3-字典是可变的（增删改）—-可变的是字典里键值对的值和个数可变\"><a href=\"#3-字典是可变的（增删改）—-可变的是字典里键值对的值和个数可变\" class=\"headerlink\" title=\"3.字典是可变的（增删改）— 可变的是字典里键值对的值和个数可变\"></a>3.字典是可变的（增删改）— 可变的是字典里键值对的值和个数可变</h5><pre class=\" language-python\"><code class=\"language-python\"><span class=\"token comment\" spellcheck=\"true\"># 1.声明字典</span>\ndict1 <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span><span class=\"token number\">2</span><span class=\"token punctuation\">:</span><span class=\"token number\">20</span><span class=\"token punctuation\">,</span><span class=\"token string\">'a'</span><span class=\"token punctuation\">:</span><span class=\"token number\">54</span><span class=\"token punctuation\">,</span><span class=\"token boolean\">True</span><span class=\"token punctuation\">:</span><span class=\"token number\">20</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">(</span><span class=\"token number\">10</span><span class=\"token punctuation\">,</span><span class=\"token number\">10</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span><span class=\"token string\">'begain'</span><span class=\"token punctuation\">,</span><span class=\"token string\">'a'</span><span class=\"token punctuation\">:</span><span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span><span class=\"token number\">2</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">}</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>dict1<span class=\"token punctuation\">)</span>\nperson1 <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token string\">'smile'</span><span class=\"token punctuation\">,</span><span class=\"token number\">20</span><span class=\"token punctuation\">,</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span>         <span class=\"token comment\" spellcheck=\"true\"># 列表存数据不明确</span>\n</code></pre>\n<ul>\n<li>声明一个字典，有三个键值对，key分别是：name，age和work_age<br><code>person2 = {&#39;name&#39;:&#39;smile&#39;,&#39;age&#39;:20,&#39;work_age&#39;:0}</code><h5 id=\"2-查（获取值）\"><a href=\"#2-查（获取值）\" class=\"headerlink\" title=\"2.查（获取值）\"></a>2.查（获取值）</h5></li>\n<li>获取字典的元素对应的值（字典存数据，实质还是存的value,key是获取value的手段）</li>\n<li>字典[key]—通过key获取值，反着不可以<pre class=\" language-python\"><code class=\"language-python\"><span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>person2<span class=\"token punctuation\">[</span><span class=\"token string\">'name'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>person2<span class=\"token punctuation\">[</span><span class=\"token string\">'age'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>\ndict2 <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span>    <span class=\"token comment\" spellcheck=\"true\"># 空的字典</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>type<span class=\"token punctuation\">(</span>dict2<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n</code></pre>\n</li>\n<li><p>通过字典[key]获取value的时候，如果不存在会发生KeyError异常<br><code># print(person2[&#39;sex&#39;])     #  KeyError: &#39;sex&#39;</code></p>\n<h5 id=\"b-字典-get-key\"><a href=\"#b-字典-get-key\" class=\"headerlink\" title=\"b.字典.get(key)\"></a>b.字典.get(key)</h5><p><code>print(person2.get(&#39;age&#39;))</code></p>\n</li>\n<li><p>字典.get(key)，如果key不存在不会报错，返回None</p>\n<pre><code>print(person2.get(&#39;sex&#39;))       # None--python中的特殊值，代表没有\n</code></pre><h5 id=\"总结：确定key值肯定存在的时候用-语法获取value。\"><a href=\"#总结：确定key值肯定存在的时候用-语法获取value。\" class=\"headerlink\" title=\"总结：确定key值肯定存在的时候用[]语法获取value。\"></a>总结：确定key值肯定存在的时候用[]语法获取value。</h5></li>\n<li>key值可能不存在，不存在的时候不希望报错，而是想要自己对它进行特殊处理的时候用get获取value<pre class=\" language-python\"><code class=\"language-python\">person <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span><span class=\"token string\">'name'</span><span class=\"token punctuation\">:</span> <span class=\"token string\">'张启灵'</span><span class=\"token punctuation\">,</span><span class=\"token string\">'age'</span><span class=\"token punctuation\">:</span><span class=\"token number\">36</span><span class=\"token punctuation\">,</span><span class=\"token string\">'face_grade'</span><span class=\"token punctuation\">:</span><span class=\"token number\">90</span> <span class=\"token punctuation\">}</span>\n<span class=\"token comment\" spellcheck=\"true\"># 想要获取性别sex，如果没有就默认'男’</span>\n<span class=\"token keyword\">if</span> person<span class=\"token punctuation\">.</span>get<span class=\"token punctuation\">(</span><span class=\"token string\">'sex'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>person<span class=\"token punctuation\">[</span><span class=\"token string\">'sex'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">else</span><span class=\"token punctuation\">:</span>\n <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string\">'男'</span><span class=\"token punctuation\">)</span>\n</code></pre>\n<h5 id=\"c-遍历\"><a href=\"#c-遍历\" class=\"headerlink\" title=\"c.遍历\"></a>c.遍历</h5><pre class=\" language-python\"><code class=\"language-python\">dog <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span><span class=\"token string\">'name'</span><span class=\"token punctuation\">:</span> <span class=\"token string\">'旺财'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'color'</span><span class=\"token punctuation\">:</span> <span class=\"token string\">'yellow'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'age'</span><span class=\"token punctuation\">:</span> <span class=\"token number\">5</span><span class=\"token punctuation\">}</span>\n<span class=\"token keyword\">for</span> key <span class=\"token keyword\">in</span> dog<span class=\"token punctuation\">:</span>\n <span class=\"token comment\" spellcheck=\"true\"># 打印key</span>\n <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>key<span class=\"token punctuation\">)</span>\n <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>dog<span class=\"token punctuation\">[</span>key<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>\n</code></pre>\n<h5 id=\"3-改（修改key对应的value）\"><a href=\"#3-改（修改key对应的value）\" class=\"headerlink\" title=\"3.改（修改key对应的value）\"></a>3.改（修改key对应的value）</h5></li>\n<li>字典[key] = 新值       （key是本来就存在）<br><code>dog[&#39;name&#39;] = &#39;大黄&#39;\nprint(dog)</code><h5 id=\"4-增（添加键值对）\"><a href=\"#4-增（添加键值对）\" class=\"headerlink\" title=\"4.增（添加键值对）\"></a>4.增（添加键值对）</h5></li>\n<li>字典[key] = 值        （key本来不存在）<br><code>dog[&#39;type&#39;] = &#39;拉布拉多&#39;\nprint(dog)</code><h5 id=\"5-删（删除键值对）\"><a href=\"#5-删（删除键值对）\" class=\"headerlink\" title=\"5.删（删除键值对）\"></a>5.删（删除键值对）</h5></li>\n<li>a.del 字典[key]<br><code>del dog[&#39;color&#39;]\nprint(dog)</code></li>\n<li>b.字典.pop(key)<br><code>age = dog.pop(key)\nprint(dog,age)</code><h4 id=\"三、字典相关的运算\"><a href=\"#三、字典相关的运算\" class=\"headerlink\" title=\"三、字典相关的运算\"></a>三、字典相关的运算</h4><h5 id=\"1-字典不支持’-’和’-’\"><a href=\"#1-字典不支持’-’和’-’\" class=\"headerlink\" title=\"1.字典不支持’+’和’*’\"></a>1.字典不支持’+’和’*’</h5><h5 id=\"2-in-和-not-in\"><a href=\"#2-in-和-not-in\" class=\"headerlink\" title=\"2.in 和 not in\"></a>2.in 和 not in</h5><pre class=\" language-python\"><code class=\"language-python\">computer <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span><span class=\"token string\">'color'</span><span class=\"token punctuation\">:</span><span class=\"token string\">'write'</span><span class=\"token punctuation\">,</span><span class=\"token string\">'brand'</span><span class=\"token punctuation\">:</span><span class=\"token string\">'联想'</span><span class=\"token punctuation\">}</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string\">'color'</span> <span class=\"token keyword\">in</span> computer<span class=\"token punctuation\">)</span>\n</code></pre>\n<h5 id=\"3-len\"><a href=\"#3-len\" class=\"headerlink\" title=\"3.len()\"></a>3.len()</h5><code>print(len(computer))</code><h5 id=\"4-字典-clear-删除字典里所有的元素（键值对）\"><a href=\"#4-字典-clear-删除字典里所有的元素（键值对）\" class=\"headerlink\" title=\"4.字典.clear():删除字典里所有的元素（键值对）\"></a>4.字典.clear():删除字典里所有的元素（键值对）</h5><pre class=\" language-python\"><code class=\"language-python\">computer<span class=\"token punctuation\">.</span>clear<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>computer<span class=\"token punctuation\">)</span>\n</code></pre>\n<h5 id=\"5-字典-copy-拷贝字典中所有的元素，放到一个新的字典中\"><a href=\"#5-字典-copy-拷贝字典中所有的元素，放到一个新的字典中\" class=\"headerlink\" title=\"5.字典.copy():拷贝字典中所有的元素，放到一个新的字典中\"></a>5.字典.copy():拷贝字典中所有的元素，放到一个新的字典中</h5><pre class=\" language-python\"><code class=\"language-python\">dict1 <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span><span class=\"token string\">'a'</span><span class=\"token punctuation\">:</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'b'</span><span class=\"token punctuation\">:</span> <span class=\"token number\">2</span><span class=\"token punctuation\">}</span>\ndict2 <span class=\"token operator\">=</span> dict1      <span class=\"token comment\" spellcheck=\"true\"># 将dict1中的地址赋给dict2，两个变量指向同一块内存区域</span>\ndict3 <span class=\"token operator\">=</span> dict1<span class=\"token punctuation\">.</span>copy<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>  <span class=\"token comment\" spellcheck=\"true\"># 将dict1中的内容复制到一个新的内存区域中，然后将新的地址给dict3</span>\ndict1<span class=\"token punctuation\">[</span><span class=\"token string\">'a'</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token number\">100</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>dict2<span class=\"token punctuation\">)</span>      <span class=\"token comment\" spellcheck=\"true\">#{'a': 100, 'b': 2}</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>dict3<span class=\"token punctuation\">)</span>      <span class=\"token comment\" spellcheck=\"true\">#{'a': 1, 'b': 2}</span>\n</code></pre>\n<h5 id=\"6-dict-fromkeys-序列，默认值-None\"><a href=\"#6-dict-fromkeys-序列，默认值-None\" class=\"headerlink\" title=\"6.dict.fromkeys(序列，默认值 = None)\"></a>6.dict.fromkeys(序列，默认值 = None)</h5></li>\n<li>将序列中的每个值作为key，默认值为value创建一个新的字典<h5 id=\"注意：默认值可以不写，写的话只能写一个\"><a href=\"#注意：默认值可以不写，写的话只能写一个\" class=\"headerlink\" title=\"注意：默认值可以不写，写的话只能写一个\"></a>注意：默认值可以不写，写的话只能写一个</h5><pre class=\" language-python\"><code class=\"language-python\"><span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>dict<span class=\"token punctuation\">.</span>fromkeys<span class=\"token punctuation\">(</span><span class=\"token string\">'abc'</span><span class=\"token punctuation\">,</span><span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>   <span class=\"token comment\" spellcheck=\"true\">#{'a': 0, 'b': 0, 'c': 0}</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>dict<span class=\"token punctuation\">.</span>fromkeys<span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span><span class=\"token string\">'name'</span><span class=\"token punctuation\">,</span><span class=\"token string\">'age'</span><span class=\"token punctuation\">,</span><span class=\"token string\">'sex'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span><span class=\"token number\">2</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n</code></pre>\n<h5 id=\"7-字典-key\"><a href=\"#7-字典-key\" class=\"headerlink\" title=\"7.字典.key()\"></a>7.字典.key()</h5></li>\n<li>获取字典中所有的key，以dict_keys的形式返回<pre class=\" language-python\"><code class=\"language-python\">all_key <span class=\"token operator\">=</span> dict<span class=\"token punctuation\">.</span>keys<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">for</span> key <span class=\"token keyword\">in</span> all_key<span class=\"token punctuation\">:</span>\n <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>all_key<span class=\"token punctuation\">)</span>\n</code></pre>\n<h5 id=\"8-字典-values-了解\"><a href=\"#8-字典-values-了解\" class=\"headerlink\" title=\"8.字典.values(了解)\"></a>8.字典.values(了解)</h5></li>\n<li>获取字典中所有的value<pre class=\" language-python\"><code class=\"language-python\"><span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>dict1<span class=\"token punctuation\">)</span>\nall_value <span class=\"token operator\">=</span> dict1<span class=\"token punctuation\">.</span>values<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>all_value<span class=\"token punctuation\">)</span>\n</code></pre>\n<h5 id=\"9-字典-items\"><a href=\"#9-字典-items\" class=\"headerlink\" title=\"9.字典.items()\"></a>9.字典.items()</h5><pre class=\" language-python\"><code class=\"language-python\"><span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>dict1<span class=\"token punctuation\">.</span>items<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">for</span> key<span class=\"token punctuation\">,</span>value <span class=\"token keyword\">in</span> dict1<span class=\"token punctuation\">.</span>items<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>key<span class=\"token punctuation\">,</span>value<span class=\"token punctuation\">)</span>\n</code></pre>\n<h5 id=\"10-字典-setdefault-key-默认值-None\"><a href=\"#10-字典-setdefault-key-默认值-None\" class=\"headerlink\" title=\"10.字典.setdefault(key,默认值 = None)\"></a>10.字典.setdefault(key,默认值 = None)</h5></li>\n<li>给字典添加键值对.如果key本身就存在，这个方法五作为<pre class=\" language-python\"><code class=\"language-python\">dict1<span class=\"token punctuation\">.</span>setdefault<span class=\"token punctuation\">(</span><span class=\"token string\">'ab'</span><span class=\"token punctuation\">,</span><span class=\"token string\">'abc'</span><span class=\"token punctuation\">)</span>\ndict1<span class=\"token punctuation\">.</span>setdefault<span class=\"token punctuation\">(</span><span class=\"token string\">'dd'</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>dict1<span class=\"token punctuation\">)</span>\n</code></pre>\n<h5 id=\"11-字典1-update-字典2）\"><a href=\"#11-字典1-update-字典2）\" class=\"headerlink\" title=\"11.字典1.update(字典2）\"></a>11.字典1.update(字典2）</h5></li>\n<li>将字典2中的键值对更新到字典1中</li>\n<li>更新方式：如果字典2的key，在字典1重视存在的，就字典2中的值去更新字典1中的值，不存在就添加到字典1中<pre class=\" language-python\"><code class=\"language-python\">dict1 <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span><span class=\"token string\">'aa'</span><span class=\"token punctuation\">:</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span><span class=\"token string\">'bb'</span><span class=\"token punctuation\">:</span><span class=\"token string\">'abc'</span><span class=\"token punctuation\">,</span><span class=\"token string\">'cc'</span><span class=\"token punctuation\">:</span><span class=\"token boolean\">True</span><span class=\"token punctuation\">}</span>\ndict1<span class=\"token punctuation\">.</span>update<span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span><span class=\"token string\">'aa'</span><span class=\"token punctuation\">:</span><span class=\"token number\">99</span><span class=\"token punctuation\">,</span><span class=\"token string\">'bb'</span><span class=\"token punctuation\">:</span><span class=\"token string\">'你好'</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>dict1<span class=\"token punctuation\">)</span>\n</code></pre>\n<h4 id=\"四、字典和列表的组合\"><a href=\"#四、字典和列表的组合\" class=\"headerlink\" title=\"四、字典和列表的组合\"></a>四、字典和列表的组合</h4><pre class=\" language-python\"><code class=\"language-python\"><span class=\"token comment\" spellcheck=\"true\"># 学生管理系统</span>\n<span class=\"token comment\" spellcheck=\"true\"># 1.一个系统可以存储多个学生</span>\n<span class=\"token comment\" spellcheck=\"true\">#   系统应该是一个容器：列表、字典</span>\n<span class=\"token comment\" spellcheck=\"true\"># 2.一个学生可以存储：姓名，电话，籍贯，专业，学号ect.</span>\n<span class=\"token comment\" spellcheck=\"true\"># 3.添加学生</span>\n<span class=\"token comment\" spellcheck=\"true\"># 元组不能用</span>\n<span class=\"token comment\" spellcheck=\"true\"># 4.删除学生</span>\n<span class=\"token comment\" spellcheck=\"true\"># 5.修改学生的信息</span>\n<span class=\"token comment\" spellcheck=\"true\">#。。。。</span>\n</code></pre>\n<h5 id=\"什么时候使用列表，什么时候使用字典？\"><a href=\"#什么时候使用列表，什么时候使用字典？\" class=\"headerlink\" title=\"什么时候使用列表，什么时候使用字典？\"></a>什么时候使用列表，什么时候使用字典？</h5><h5 id=\"1-保存的多个数据是同一个类型的时候，用列表\"><a href=\"#1-保存的多个数据是同一个类型的时候，用列表\" class=\"headerlink\" title=\"1.保存的多个数据是同一个类型的时候，用列表\"></a>1.保存的多个数据是同一个类型的时候，用列表</h5></li>\n<li>例如：声明一个变量保存所有的数学成绩，声明一个变量保存所有的学生的信息<h5 id=\"2-保存的多个数据的类型不同，就使用字典\"><a href=\"#2-保存的多个数据的类型不同，就使用字典\" class=\"headerlink\" title=\"2.保存的多个数据的类型不同，就使用字典\"></a>2.保存的多个数据的类型不同，就使用字典</h5></li>\n<li>声明一个变量保存一个学生的信息</li>\n<li>列表中有字典<pre class=\" language-python\"><code class=\"language-python\">student_system <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">{</span><span class=\"token string\">'name'</span><span class=\"token punctuation\">:</span><span class=\"token string\">'stu1'</span><span class=\"token punctuation\">,</span><span class=\"token string\">'age'</span><span class=\"token punctuation\">:</span><span class=\"token string\">'20'</span><span class=\"token punctuation\">,</span><span class=\"token string\">'tel'</span><span class=\"token punctuation\">:</span><span class=\"token number\">110</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n               <span class=\"token punctuation\">{</span><span class=\"token string\">'name'</span><span class=\"token punctuation\">:</span><span class=\"token string\">'stui2'</span><span class=\"token punctuation\">,</span><span class=\"token string\">'age'</span><span class=\"token punctuation\">:</span><span class=\"token number\">18</span><span class=\"token punctuation\">,</span><span class=\"token string\">'tel'</span><span class=\"token punctuation\">:</span><span class=\"token number\">120</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">]</span>\n<span class=\"token comment\" spellcheck=\"true\">#   字典中有列表</span>\npy_class <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span><span class=\"token string\">'class'</span><span class=\"token punctuation\">:</span><span class=\"token string\">'python1806'</span><span class=\"token punctuation\">,</span><span class=\"token string\">'students'</span><span class=\"token punctuation\">:</span><span class=\"token punctuation\">[</span>\n         <span class=\"token punctuation\">{</span><span class=\"token string\">'name'</span><span class=\"token punctuation\">:</span><span class=\"token string\">'stu1'</span><span class=\"token punctuation\">,</span><span class=\"token string\">'age'</span><span class=\"token punctuation\">:</span><span class=\"token number\">20</span><span class=\"token punctuation\">,</span><span class=\"token string\">'id'</span><span class=\"token punctuation\">:</span><span class=\"token number\">110</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n         <span class=\"token punctuation\">{</span><span class=\"token string\">'name'</span><span class=\"token punctuation\">:</span><span class=\"token string\">'stu2'</span><span class=\"token punctuation\">,</span><span class=\"token string\">'age'</span><span class=\"token punctuation\">:</span><span class=\"token number\">18</span><span class=\"token punctuation\">,</span><span class=\"token string\">'id'</span><span class=\"token punctuation\">:</span><span class=\"token number\">120</span><span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">]</span><span class=\"token punctuation\">}</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>py_class<span class=\"token punctuation\">[</span><span class=\"token string\">'class'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>\n<span class=\"token comment\" spellcheck=\"true\"># 取出第二个学生的名字</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>py_class<span class=\"token punctuation\">[</span><span class=\"token string\">'students'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">[</span><span class=\"token string\">'name'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>\n</code></pre>\n</li>\n<li>练习：在班级python1806中添加一个学生，学生的信息自己输入，名字、年龄和id<pre class=\" language-python\"><code class=\"language-python\">name1 <span class=\"token operator\">=</span> input<span class=\"token punctuation\">(</span><span class=\"token string\">'姓名：'</span><span class=\"token punctuation\">)</span>\nage1 <span class=\"token operator\">=</span> int<span class=\"token punctuation\">(</span>input<span class=\"token punctuation\">(</span><span class=\"token string\">'年龄：'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\nid1 <span class=\"token operator\">=</span> input<span class=\"token punctuation\">(</span><span class=\"token string\">'id：'</span><span class=\"token punctuation\">)</span>\nstudent <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span><span class=\"token string\">'name'</span><span class=\"token punctuation\">:</span> name1<span class=\"token punctuation\">,</span><span class=\"token string\">'age'</span><span class=\"token punctuation\">:</span> age1<span class=\"token punctuation\">,</span> <span class=\"token string\">'id'</span><span class=\"token punctuation\">:</span> id1<span class=\"token punctuation\">}</span>\n<span class=\"token comment\" spellcheck=\"true\"># 将学生对应的字典添加到列表中</span>\npy_class<span class=\"token punctuation\">[</span><span class=\"token string\">'students'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span>append<span class=\"token punctuation\">(</span>student<span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>py_class<span class=\"token punctuation\">)</span>\n</code></pre>\n</li>\n<li>练习2：输入一个学生的姓名，根据姓名删除对应学生<br>name2 = input(‘请输入需要删除的学生姓名：’)<pre class=\" language-python\"><code class=\"language-python\"><span class=\"token comment\" spellcheck=\"true\"># 获取班级所有的学生</span>\nall_student <span class=\"token operator\">=</span> py_class<span class=\"token punctuation\">[</span><span class=\"token string\">'students'</span><span class=\"token punctuation\">]</span>\n<span class=\"token comment\" spellcheck=\"true\"># 遍历取出每个学生对应的字典</span>\n<span class=\"token keyword\">for</span> student_dict <span class=\"token keyword\">in</span> all_student<span class=\"token punctuation\">:</span>\n  <span class=\"token comment\" spellcheck=\"true\"># 判断name2与取出的学生的姓名一样</span>\n  <span class=\"token keyword\">if</span> student_dict<span class=\"token punctuation\">[</span><span class=\"token string\">'name'</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">==</span> name2<span class=\"token punctuation\">:</span>\n      all_student<span class=\"token punctuation\">.</span>remove<span class=\"token punctuation\">(</span>student_dict<span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>py_class<span class=\"token punctuation\">)</span>\n</code></pre>\n<h4 id=\"五、集合\"><a href=\"#五、集合\" class=\"headerlink\" title=\"五、集合\"></a>五、集合</h4></li>\n<li>集合（set）<h5 id=\"集合是python中的一种容器类型：无序的，可变的-值唯一，和数学中的集合差不多\"><a href=\"#集合是python中的一种容器类型：无序的，可变的-值唯一，和数学中的集合差不多\" class=\"headerlink\" title=\"集合是python中的一种容器类型：无序的，可变的,值唯一，和数学中的集合差不多\"></a>集合是python中的一种容器类型：无序的，可变的,值唯一，和数学中的集合差不多</h5><h5 id=\"1-声明一个集合\"><a href=\"#1-声明一个集合\" class=\"headerlink\" title=\"1.声明一个集合\"></a>1.声明一个集合</h5><pre class=\" language-python\"><code class=\"language-python\">set1 <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span><span class=\"token number\">2</span><span class=\"token punctuation\">,</span><span class=\"token string\">'a'</span><span class=\"token punctuation\">}</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>set1<span class=\"token punctuation\">,</span>type<span class=\"token punctuation\">(</span>set1<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n</code></pre>\n</li>\n<li>将其他的序列转换成集合，自带一个去重的功能<br><code>`</code>python<br>set2 = set(‘asjbdauhaicasbja’)<br>print(set2)</li>\n</ul>\n<p>set3 = {10,True,’abc’,52.01}<br>print(set3)</p>\n<pre><code>#####  2.查（获取集合中的元素）\n+  集合石不能单独获取其中的某一个元素的\n```python\n# 遍历获取每一个元素\nfor iteem in set3:\n    print(iteem)\n</code></pre><h5 id=\"3-增（添加元素）\"><a href=\"#3-增（添加元素）\" class=\"headerlink\" title=\"3.增（添加元素）\"></a>3.增（添加元素）</h5><ul>\n<li>a.集合.add(元素)<pre class=\" language-python\"><code class=\"language-python\">set3<span class=\"token punctuation\">.</span>add<span class=\"token punctuation\">(</span><span class=\"token string\">'good'</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>set3<span class=\"token punctuation\">)</span>\n</code></pre>\n</li>\n<li>b.集合1.update（集合2）:将集合2中的元素，添加到集合1中<pre class=\" language-python\"><code class=\"language-python\">set3<span class=\"token punctuation\">.</span>update<span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span><span class=\"token number\">11</span><span class=\"token punctuation\">,</span><span class=\"token number\">1111</span><span class=\"token punctuation\">,</span><span class=\"token number\">2121</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>set3<span class=\"token punctuation\">)</span>\n</code></pre>\n<h5 id=\"4-删\"><a href=\"#4-删\" class=\"headerlink\" title=\"4.删\"></a>4.删</h5></li>\n<li>集合.remove(元素)<br><code>`</code>python<br>set3.remove(1111)<br>print(set3)</li>\n</ul>\n<h1 id=\"删除所有的元素\"><a href=\"#删除所有的元素\" class=\"headerlink\" title=\"删除所有的元素\"></a>删除所有的元素</h1><p>set3.clear()<br>print(set3)</p>\n<pre><code>##### 5.改（改不了）\n#####  6.数学相关的集合运算\n+ a.判断包含情况：\n+ 集合１&gt;=　集合２：判断集合１中是否包含集合２\n- 集合1 &lt;=  集合2 ：判断集合2中是否包含集合1\n\n`print({1,2,3}&gt;= {1})`\n\n+  b.求并集：|\n```python\nset1 = {1,2,3,5,7}\nset2 = {3,4,2,6,8}\nprint(set1 | set2)\n</code></pre><ul>\n<li>c.求交集：&amp;<br><code>print(set1 &amp; set2)</code></li>\n<li>d.求差集：-<br><code>print(set1 - set2)</code></li>\n<li>e.求补集：^<br>求两个集合中除了公共部分以外的部分<br><code>`</code>python<br>print(set1 ^ set2)</li>\n</ul>\n<p>list1 = [1,2,2,3,4,5,6]<br>list2 = [5,2,100,20,56]<br>result = list(set(list1) &amp; set(list2))<br>print(result)</p>\n<pre><code>#### 练习\n```python\nfrom tkinter import *\nfrom tkinter import messagebox\nimport random\n\n\nroot = Tk()\nroot.title(&#39;表白你，做我女票吧&#39;)\nroot.geometry(&#39;700x700+400+400&#39;)\na = Button(root, text=&quot;不同意&quot;,bg=&#39;red&#39;)\n\ndef call():\n    messagebox._show(&quot;你的眼光还是不错的！&quot;)\n    root.destroy()\n\nb = Button(root,text=&#39;同意&#39;,command = call,bg=&#39;green&#39;)\n\ndef callback(event):\n    #print(&quot;clicked at&quot;, event.x, event.y)\n    i = random.randint(1, 9)\n    j = random.randint(1,9)\n    a.place(relx=(0.1*i),rely=(0.1*j))\n    root.update()\n\ndef quit():\n    messagebox.showwarning(&#39;警告&#39;, &#39;快做选择！&#39;)\nroot.bind(&quot;&lt;Button-1&gt;&quot;, callback)\nroot.bind(&#39;Destroy&#39;,call)\nb.pack(side=&#39;left&#39;,padx=10)\na.pack(side=&#39;right&#39;,padx=10)\nc=Label(text=&#39;同意我，退出程序！&#39;,font=&#39;Arial-10&#39;)\nc.pack()\n#a.pack()\nroot.protocol(&quot;WM_DELETE_WINDOW&quot;, quit)\n\nroot.mainloop()\n</code></pre>","site":{"data":{}},"excerpt":"","more":"<h4 id=\"一、recode\"><a href=\"#一、recode\" class=\"headerlink\" title=\"一、recode\"></a>一、recode</h4><h6 id=\"1-列表\"><a href=\"#1-列表\" class=\"headerlink\" title=\"1.列表\"></a>1.列表</h6><ul>\n<li>1.一个列表可以保存多个数据。容器类型，有序（下标），可变的（增删改）<br>[元素，元素]—&gt; 元素可以是任意类型的数据</li>\n<li>2.声明列表</li>\n<li>3.元素的增删改查</li>\n<li>4.遍历列表</li>\n<li>5.列表存储（存地址，除了int、bool、float、str存的是值，其它的全是引用，存的是地址）</li>\n<li>6.列表的相关方法</li>\n<li>7.元组（元组是不可变的列表）<br>（元素，元素）–&gt;(元素）<br>查找单个，切片、遍历、in/not in 、+ 、* 、len()<br>颜色值（255,0,0），（0,255,0）坐标（100,200）<h4 id=\"二、字典\"><a href=\"#二、字典\" class=\"headerlink\" title=\"二、字典\"></a>二、字典</h4><h5 id=\"1-字典（dict-是容器类型（也是序列），以键值对作为元素（字典里面存的数据全是以键值对的形式出现的）\"><a href=\"#1-字典（dict-是容器类型（也是序列），以键值对作为元素（字典里面存的数据全是以键值对的形式出现的）\" class=\"headerlink\" title=\"1.字典（dict)是容器类型（也是序列），以键值对作为元素（字典里面存的数据全是以键值对的形式出现的）\"></a>1.字典（dict)是容器类型（也是序列），以键值对作为元素（字典里面存的数据全是以键值对的形式出现的）</h5><code>{key1:value1,key2:walue2,...}</code><h5 id=\"2-键值对：键：值（key-value\"><a href=\"#2-键值对：键：值（key-value\" class=\"headerlink\" title=\"2.键值对：键：值（key:value)\"></a>2.键值对：键：值（key:value)</h5></li>\n<li>键（key):要唯一，不可变的（数字、布尔、字符串和元组，推荐使用字符串）</li>\n<li>值（value):可以不唯一，可以是任何类型的数据</li>\n</ul>\n<h5 id=\"3-字典是可变的（增删改）—-可变的是字典里键值对的值和个数可变\"><a href=\"#3-字典是可变的（增删改）—-可变的是字典里键值对的值和个数可变\" class=\"headerlink\" title=\"3.字典是可变的（增删改）— 可变的是字典里键值对的值和个数可变\"></a>3.字典是可变的（增删改）— 可变的是字典里键值对的值和个数可变</h5><pre><code class=\"python\"># 1.声明字典\ndict1 = {2:20,&#39;a&#39;:54,True:20,(10,10):&#39;begain&#39;,&#39;a&#39;:[1,2]}\nprint(dict1)\nperson1 = [&#39;smile&#39;,20,0]         # 列表存数据不明确\n</code></pre>\n<ul>\n<li>声明一个字典，有三个键值对，key分别是：name，age和work_age<br><code>person2 = {&#39;name&#39;:&#39;smile&#39;,&#39;age&#39;:20,&#39;work_age&#39;:0}</code><h5 id=\"2-查（获取值）\"><a href=\"#2-查（获取值）\" class=\"headerlink\" title=\"2.查（获取值）\"></a>2.查（获取值）</h5></li>\n<li>获取字典的元素对应的值（字典存数据，实质还是存的value,key是获取value的手段）</li>\n<li>字典[key]—通过key获取值，反着不可以<pre><code class=\"python\">print(person2[&#39;name&#39;],person2[&#39;age&#39;])\ndict2 = {}    # 空的字典\nprint(type(dict2))\n</code></pre>\n</li>\n<li><p>通过字典[key]获取value的时候，如果不存在会发生KeyError异常<br><code># print(person2[&#39;sex&#39;])     #  KeyError: &#39;sex&#39;</code></p>\n<h5 id=\"b-字典-get-key\"><a href=\"#b-字典-get-key\" class=\"headerlink\" title=\"b.字典.get(key)\"></a>b.字典.get(key)</h5><p><code>print(person2.get(&#39;age&#39;))</code></p>\n</li>\n<li><p>字典.get(key)，如果key不存在不会报错，返回None</p>\n<pre><code>print(person2.get(&#39;sex&#39;))       # None--python中的特殊值，代表没有\n</code></pre><h5 id=\"总结：确定key值肯定存在的时候用-语法获取value。\"><a href=\"#总结：确定key值肯定存在的时候用-语法获取value。\" class=\"headerlink\" title=\"总结：确定key值肯定存在的时候用[]语法获取value。\"></a>总结：确定key值肯定存在的时候用[]语法获取value。</h5></li>\n<li>key值可能不存在，不存在的时候不希望报错，而是想要自己对它进行特殊处理的时候用get获取value<pre><code class=\"python\">person = {&#39;name&#39;: &#39;张启灵&#39;,&#39;age&#39;:36,&#39;face_grade&#39;:90 }\n# 想要获取性别sex，如果没有就默认&#39;男’\nif person.get(&#39;sex&#39;):\n print(person[&#39;sex&#39;])\nelse:\n print(&#39;男&#39;)\n</code></pre>\n<h5 id=\"c-遍历\"><a href=\"#c-遍历\" class=\"headerlink\" title=\"c.遍历\"></a>c.遍历</h5><pre><code class=\"python\">dog = {&#39;name&#39;: &#39;旺财&#39;, &#39;color&#39;: &#39;yellow&#39;, &#39;age&#39;: 5}\nfor key in dog:\n # 打印key\n print(key)\n print(dog[key])\n</code></pre>\n<h5 id=\"3-改（修改key对应的value）\"><a href=\"#3-改（修改key对应的value）\" class=\"headerlink\" title=\"3.改（修改key对应的value）\"></a>3.改（修改key对应的value）</h5></li>\n<li>字典[key] = 新值       （key是本来就存在）<br><code>dog[&#39;name&#39;] = &#39;大黄&#39;\nprint(dog)</code><h5 id=\"4-增（添加键值对）\"><a href=\"#4-增（添加键值对）\" class=\"headerlink\" title=\"4.增（添加键值对）\"></a>4.增（添加键值对）</h5></li>\n<li>字典[key] = 值        （key本来不存在）<br><code>dog[&#39;type&#39;] = &#39;拉布拉多&#39;\nprint(dog)</code><h5 id=\"5-删（删除键值对）\"><a href=\"#5-删（删除键值对）\" class=\"headerlink\" title=\"5.删（删除键值对）\"></a>5.删（删除键值对）</h5></li>\n<li>a.del 字典[key]<br><code>del dog[&#39;color&#39;]\nprint(dog)</code></li>\n<li>b.字典.pop(key)<br><code>age = dog.pop(key)\nprint(dog,age)</code><h4 id=\"三、字典相关的运算\"><a href=\"#三、字典相关的运算\" class=\"headerlink\" title=\"三、字典相关的运算\"></a>三、字典相关的运算</h4><h5 id=\"1-字典不支持’-’和’-’\"><a href=\"#1-字典不支持’-’和’-’\" class=\"headerlink\" title=\"1.字典不支持’+’和’*’\"></a>1.字典不支持’+’和’*’</h5><h5 id=\"2-in-和-not-in\"><a href=\"#2-in-和-not-in\" class=\"headerlink\" title=\"2.in 和 not in\"></a>2.in 和 not in</h5><pre><code class=\"python\">computer = {&#39;color&#39;:&#39;write&#39;,&#39;brand&#39;:&#39;联想&#39;}\nprint(&#39;color&#39; in computer)\n</code></pre>\n<h5 id=\"3-len\"><a href=\"#3-len\" class=\"headerlink\" title=\"3.len()\"></a>3.len()</h5><code>print(len(computer))</code><h5 id=\"4-字典-clear-删除字典里所有的元素（键值对）\"><a href=\"#4-字典-clear-删除字典里所有的元素（键值对）\" class=\"headerlink\" title=\"4.字典.clear():删除字典里所有的元素（键值对）\"></a>4.字典.clear():删除字典里所有的元素（键值对）</h5><pre><code class=\"python\">computer.clear()\nprint(computer)\n</code></pre>\n<h5 id=\"5-字典-copy-拷贝字典中所有的元素，放到一个新的字典中\"><a href=\"#5-字典-copy-拷贝字典中所有的元素，放到一个新的字典中\" class=\"headerlink\" title=\"5.字典.copy():拷贝字典中所有的元素，放到一个新的字典中\"></a>5.字典.copy():拷贝字典中所有的元素，放到一个新的字典中</h5><pre><code class=\"python\">dict1 = {&#39;a&#39;: 1, &#39;b&#39;: 2}\ndict2 = dict1      # 将dict1中的地址赋给dict2，两个变量指向同一块内存区域\ndict3 = dict1.copy()  # 将dict1中的内容复制到一个新的内存区域中，然后将新的地址给dict3\ndict1[&#39;a&#39;] = 100\nprint(dict2)      #{&#39;a&#39;: 100, &#39;b&#39;: 2}\nprint(dict3)      #{&#39;a&#39;: 1, &#39;b&#39;: 2}\n</code></pre>\n<h5 id=\"6-dict-fromkeys-序列，默认值-None\"><a href=\"#6-dict-fromkeys-序列，默认值-None\" class=\"headerlink\" title=\"6.dict.fromkeys(序列，默认值 = None)\"></a>6.dict.fromkeys(序列，默认值 = None)</h5></li>\n<li>将序列中的每个值作为key，默认值为value创建一个新的字典<h5 id=\"注意：默认值可以不写，写的话只能写一个\"><a href=\"#注意：默认值可以不写，写的话只能写一个\" class=\"headerlink\" title=\"注意：默认值可以不写，写的话只能写一个\"></a>注意：默认值可以不写，写的话只能写一个</h5><pre><code class=\"python\">print(dict.fromkeys(&#39;abc&#39;,0))   #{&#39;a&#39;: 0, &#39;b&#39;: 0, &#39;c&#39;: 0}\nprint(dict.fromkeys([&#39;name&#39;,&#39;age&#39;,&#39;sex&#39;],[1,2]))\n</code></pre>\n<h5 id=\"7-字典-key\"><a href=\"#7-字典-key\" class=\"headerlink\" title=\"7.字典.key()\"></a>7.字典.key()</h5></li>\n<li>获取字典中所有的key，以dict_keys的形式返回<pre><code class=\"python\">all_key = dict.keys()\nfor key in all_key:\n print(all_key)\n</code></pre>\n<h5 id=\"8-字典-values-了解\"><a href=\"#8-字典-values-了解\" class=\"headerlink\" title=\"8.字典.values(了解)\"></a>8.字典.values(了解)</h5></li>\n<li>获取字典中所有的value<pre><code class=\"python\">print(dict1)\nall_value = dict1.values()\nprint(all_value)\n</code></pre>\n<h5 id=\"9-字典-items\"><a href=\"#9-字典-items\" class=\"headerlink\" title=\"9.字典.items()\"></a>9.字典.items()</h5><pre><code class=\"python\">print(dict1.items())\nfor key,value in dict1.items():\nprint(key,value)\n</code></pre>\n<h5 id=\"10-字典-setdefault-key-默认值-None\"><a href=\"#10-字典-setdefault-key-默认值-None\" class=\"headerlink\" title=\"10.字典.setdefault(key,默认值 = None)\"></a>10.字典.setdefault(key,默认值 = None)</h5></li>\n<li>给字典添加键值对.如果key本身就存在，这个方法五作为<pre><code class=\"python\">dict1.setdefault(&#39;ab&#39;,&#39;abc&#39;)\ndict1.setdefault(&#39;dd&#39;)\nprint(dict1)\n</code></pre>\n<h5 id=\"11-字典1-update-字典2）\"><a href=\"#11-字典1-update-字典2）\" class=\"headerlink\" title=\"11.字典1.update(字典2）\"></a>11.字典1.update(字典2）</h5></li>\n<li>将字典2中的键值对更新到字典1中</li>\n<li>更新方式：如果字典2的key，在字典1重视存在的，就字典2中的值去更新字典1中的值，不存在就添加到字典1中<pre><code class=\"python\">dict1 = {&#39;aa&#39;:1,&#39;bb&#39;:&#39;abc&#39;,&#39;cc&#39;:True}\ndict1.update({&#39;aa&#39;:99,&#39;bb&#39;:&#39;你好&#39;})\nprint(dict1)\n</code></pre>\n<h4 id=\"四、字典和列表的组合\"><a href=\"#四、字典和列表的组合\" class=\"headerlink\" title=\"四、字典和列表的组合\"></a>四、字典和列表的组合</h4><pre><code class=\"python\"># 学生管理系统\n# 1.一个系统可以存储多个学生\n#   系统应该是一个容器：列表、字典\n# 2.一个学生可以存储：姓名，电话，籍贯，专业，学号ect.\n# 3.添加学生\n# 元组不能用\n# 4.删除学生\n# 5.修改学生的信息\n#。。。。\n</code></pre>\n<h5 id=\"什么时候使用列表，什么时候使用字典？\"><a href=\"#什么时候使用列表，什么时候使用字典？\" class=\"headerlink\" title=\"什么时候使用列表，什么时候使用字典？\"></a>什么时候使用列表，什么时候使用字典？</h5><h5 id=\"1-保存的多个数据是同一个类型的时候，用列表\"><a href=\"#1-保存的多个数据是同一个类型的时候，用列表\" class=\"headerlink\" title=\"1.保存的多个数据是同一个类型的时候，用列表\"></a>1.保存的多个数据是同一个类型的时候，用列表</h5></li>\n<li>例如：声明一个变量保存所有的数学成绩，声明一个变量保存所有的学生的信息<h5 id=\"2-保存的多个数据的类型不同，就使用字典\"><a href=\"#2-保存的多个数据的类型不同，就使用字典\" class=\"headerlink\" title=\"2.保存的多个数据的类型不同，就使用字典\"></a>2.保存的多个数据的类型不同，就使用字典</h5></li>\n<li>声明一个变量保存一个学生的信息</li>\n<li>列表中有字典<pre><code class=\"python\">student_system = [{&#39;name&#39;:&#39;stu1&#39;,&#39;age&#39;:&#39;20&#39;,&#39;tel&#39;:110},\n               {&#39;name&#39;:&#39;stui2&#39;,&#39;age&#39;:18,&#39;tel&#39;:120}]\n#   字典中有列表\npy_class = {&#39;class&#39;:&#39;python1806&#39;,&#39;students&#39;:[\n         {&#39;name&#39;:&#39;stu1&#39;,&#39;age&#39;:20,&#39;id&#39;:110},\n         {&#39;name&#39;:&#39;stu2&#39;,&#39;age&#39;:18,&#39;id&#39;:120}\n]}\nprint(py_class[&#39;class&#39;])\n# 取出第二个学生的名字\nprint(py_class[&#39;students&#39;][1][&#39;name&#39;])\n</code></pre>\n</li>\n<li>练习：在班级python1806中添加一个学生，学生的信息自己输入，名字、年龄和id<pre><code class=\"python\">name1 = input(&#39;姓名：&#39;)\nage1 = int(input(&#39;年龄：&#39;))\nid1 = input(&#39;id：&#39;)\nstudent = {&#39;name&#39;: name1,&#39;age&#39;: age1, &#39;id&#39;: id1}\n# 将学生对应的字典添加到列表中\npy_class[&#39;students&#39;].append(student)\nprint(py_class)\n</code></pre>\n</li>\n<li>练习2：输入一个学生的姓名，根据姓名删除对应学生<br>name2 = input(‘请输入需要删除的学生姓名：’)<pre><code class=\"python\"># 获取班级所有的学生\nall_student = py_class[&#39;students&#39;]\n# 遍历取出每个学生对应的字典\nfor student_dict in all_student:\n  # 判断name2与取出的学生的姓名一样\n  if student_dict[&#39;name&#39;] == name2:\n      all_student.remove(student_dict)\nprint(py_class)\n</code></pre>\n<h4 id=\"五、集合\"><a href=\"#五、集合\" class=\"headerlink\" title=\"五、集合\"></a>五、集合</h4></li>\n<li>集合（set）<h5 id=\"集合是python中的一种容器类型：无序的，可变的-值唯一，和数学中的集合差不多\"><a href=\"#集合是python中的一种容器类型：无序的，可变的-值唯一，和数学中的集合差不多\" class=\"headerlink\" title=\"集合是python中的一种容器类型：无序的，可变的,值唯一，和数学中的集合差不多\"></a>集合是python中的一种容器类型：无序的，可变的,值唯一，和数学中的集合差不多</h5><h5 id=\"1-声明一个集合\"><a href=\"#1-声明一个集合\" class=\"headerlink\" title=\"1.声明一个集合\"></a>1.声明一个集合</h5><pre><code class=\"python\">set1 = {1,2,&#39;a&#39;}\nprint(set1,type(set1))\n</code></pre>\n</li>\n<li>将其他的序列转换成集合，自带一个去重的功能<br><code>`</code>python<br>set2 = set(‘asjbdauhaicasbja’)<br>print(set2)</li>\n</ul>\n<p>set3 = {10,True,’abc’,52.01}<br>print(set3)</p>\n<pre><code>#####  2.查（获取集合中的元素）\n+  集合石不能单独获取其中的某一个元素的\n```python\n# 遍历获取每一个元素\nfor iteem in set3:\n    print(iteem)\n</code></pre><h5 id=\"3-增（添加元素）\"><a href=\"#3-增（添加元素）\" class=\"headerlink\" title=\"3.增（添加元素）\"></a>3.增（添加元素）</h5><ul>\n<li>a.集合.add(元素)<pre><code class=\"python\">set3.add(&#39;good&#39;)\nprint(set3)\n</code></pre>\n</li>\n<li>b.集合1.update（集合2）:将集合2中的元素，添加到集合1中<pre><code class=\"python\">set3.update({11,1111,2121})\nprint(set3)\n</code></pre>\n<h5 id=\"4-删\"><a href=\"#4-删\" class=\"headerlink\" title=\"4.删\"></a>4.删</h5></li>\n<li>集合.remove(元素)<br><code>`</code>python<br>set3.remove(1111)<br>print(set3)</li>\n</ul>\n<h1 id=\"删除所有的元素\"><a href=\"#删除所有的元素\" class=\"headerlink\" title=\"删除所有的元素\"></a>删除所有的元素</h1><p>set3.clear()<br>print(set3)</p>\n<pre><code>##### 5.改（改不了）\n#####  6.数学相关的集合运算\n+ a.判断包含情况：\n+ 集合１&gt;=　集合２：判断集合１中是否包含集合２\n- 集合1 &lt;=  集合2 ：判断集合2中是否包含集合1\n\n`print({1,2,3}&gt;= {1})`\n\n+  b.求并集：|\n```python\nset1 = {1,2,3,5,7}\nset2 = {3,4,2,6,8}\nprint(set1 | set2)\n</code></pre><ul>\n<li>c.求交集：&amp;<br><code>print(set1 &amp; set2)</code></li>\n<li>d.求差集：-<br><code>print(set1 - set2)</code></li>\n<li>e.求补集：^<br>求两个集合中除了公共部分以外的部分<br><code>`</code>python<br>print(set1 ^ set2)</li>\n</ul>\n<p>list1 = [1,2,2,3,4,5,6]<br>list2 = [5,2,100,20,56]<br>result = list(set(list1) &amp; set(list2))<br>print(result)</p>\n<pre><code>#### 练习\n```python\nfrom tkinter import *\nfrom tkinter import messagebox\nimport random\n\n\nroot = Tk()\nroot.title(&#39;表白你，做我女票吧&#39;)\nroot.geometry(&#39;700x700+400+400&#39;)\na = Button(root, text=&quot;不同意&quot;,bg=&#39;red&#39;)\n\ndef call():\n    messagebox._show(&quot;你的眼光还是不错的！&quot;)\n    root.destroy()\n\nb = Button(root,text=&#39;同意&#39;,command = call,bg=&#39;green&#39;)\n\ndef callback(event):\n    #print(&quot;clicked at&quot;, event.x, event.y)\n    i = random.randint(1, 9)\n    j = random.randint(1,9)\n    a.place(relx=(0.1*i),rely=(0.1*j))\n    root.update()\n\ndef quit():\n    messagebox.showwarning(&#39;警告&#39;, &#39;快做选择！&#39;)\nroot.bind(&quot;&lt;Button-1&gt;&quot;, callback)\nroot.bind(&#39;Destroy&#39;,call)\nb.pack(side=&#39;left&#39;,padx=10)\na.pack(side=&#39;right&#39;,padx=10)\nc=Label(text=&#39;同意我，退出程序！&#39;,font=&#39;Arial-10&#39;)\nc.pack()\n#a.pack()\nroot.protocol(&quot;WM_DELETE_WINDOW&quot;, quit)\n\nroot.mainloop()\n</code></pre>"},{"title":"容器","date":"2017-05-05T11:37:23.000Z","author":"smile","_content":"\n#### 一、复习\n##### 1.注释\n##### a.由字母数字下划线组成，python3中可以是中文。b.数字不能开头。c.大小写敏感\n##### 3.行与缩进：python中对缩进有严格的要求\n##### 4.多行显示：加反斜杠\n##### 5.python中的基本数据类型：类型（int）、浮点类型（float）、布尔（bool）、字符串（str)ect.\n```python\nste = 123 + 425\\\n      + 15552\n```\n######  变量的声明\n+ 1.变量名 = 值\n+ 2.变量名：标识符，不能是关键字，PEP8：（字母全是小写，多个单词之间用下划线隔开），见名知义\n+ 3.变量生命的写法\n+ 4.声明变量/给变量赋值的原理\n```python\na = 100\na = b = 10\na = 10;b = 20\na,b = 10,20   #元组\n```\n#####  运算符\n```python\n+，-，*，/，%，//，**\n>,<,==,>=,<=,!=\nand,or,not\n=,+=,-=,*=,/=,%=,//=,**=\n运算符的优先级：可以通过括号改变 \n```\n#####  字符串\n```python\n1.字符串长什么样\n2.字符编码（Unicodde),chr(),ord()\n3.获取单个或者部分字符：字符串[index],字符串[下标1：下标2：步进]\n4.字符串的相关的运算：+，*，比较运算，in，not in,len()\n5.相关的方法\n```\n#####  分支\n+ 1.if 条件语句:\n  ​    执行语句\n\n+ 2.if-else 条件语句：\n  ​    执行语句1\n  ​    else：\n  ​        执行语句2\n\n+ 3.if-elif-else：\n   elif 条件语句：\n#####  循环结构\n+ 1.for 循环\n   for 变量名 in 序列：\n   ​    循环体\n\n   执行过程：\n+ 2.while 循环\n   while 条件语句：\n   ​    循环体\n   else：\n   执行过程：\n+ 3.break，continue,else\n  break和continue写在循环体中的，else写在循环外（循环中遇到break，else的语句不会执行）\n#### 二、认识列表\n`list1 = [1,2,3]`\n##### list (列表)\n+ a.列表是python中的容器类型。有序的，可变的容器(可变指的是列表中的元素位置，个数可变的)\n  有序--> 可以通过下标来获取元素\n  可变-->列表中的元素可以（增删改查）\n+ b.元素：指的是列表中的每一个内容(列表中的元素可以是任意类型的数据)\n######  1.列表的声明\n+  a.声明变量赋一个列表值\n```python\n   声明了一个列表，列表中有5个元素，分别是90,80,97,67,55\nscores = [90,80,97,67,55]\nprint(scores,type(scores))\n```\n```python\n 声明了一个列表，列表中有三个元素，分别是'sth',16,'男'（一个列表中的内容类型可以不一样）\nperson = ['sth',16,'男']\nprint(person)\n\nname = '索隆'\nage = 24\nperson1 = [name,age,'男']\nprint(person1)\n```\n```python\n[]---> 代表一个空的列表\nnames = []\nprint(names,type(names))\n```\n\n\n\n+ b.将其他的数据类型转换成列表(只有序列才能转换成列表：字符串和range，字典、元组、集合、生成式和迭代器）\n\n```python\nchars = list ('123456')\nprint(chars)\n\nnumbers = list (range(10))\nprint(numbers)\n\nlist1  = ['静夜思  李白  床前明月光  疑是地上霜  举头望明月  低头思故乡']\nprint(list1)\n\n```","source":"_posts/python/容器.md","raw":"---\ntitle: 容器\ndate: 2017-05-05 19:37:23\nauthor: smile\ncategories: Python\ntags:\n---\n\n#### 一、复习\n##### 1.注释\n##### a.由字母数字下划线组成，python3中可以是中文。b.数字不能开头。c.大小写敏感\n##### 3.行与缩进：python中对缩进有严格的要求\n##### 4.多行显示：加反斜杠\n##### 5.python中的基本数据类型：类型（int）、浮点类型（float）、布尔（bool）、字符串（str)ect.\n```python\nste = 123 + 425\\\n      + 15552\n```\n######  变量的声明\n+ 1.变量名 = 值\n+ 2.变量名：标识符，不能是关键字，PEP8：（字母全是小写，多个单词之间用下划线隔开），见名知义\n+ 3.变量生命的写法\n+ 4.声明变量/给变量赋值的原理\n```python\na = 100\na = b = 10\na = 10;b = 20\na,b = 10,20   #元组\n```\n#####  运算符\n```python\n+，-，*，/，%，//，**\n>,<,==,>=,<=,!=\nand,or,not\n=,+=,-=,*=,/=,%=,//=,**=\n运算符的优先级：可以通过括号改变 \n```\n#####  字符串\n```python\n1.字符串长什么样\n2.字符编码（Unicodde),chr(),ord()\n3.获取单个或者部分字符：字符串[index],字符串[下标1：下标2：步进]\n4.字符串的相关的运算：+，*，比较运算，in，not in,len()\n5.相关的方法\n```\n#####  分支\n+ 1.if 条件语句:\n  ​    执行语句\n\n+ 2.if-else 条件语句：\n  ​    执行语句1\n  ​    else：\n  ​        执行语句2\n\n+ 3.if-elif-else：\n   elif 条件语句：\n#####  循环结构\n+ 1.for 循环\n   for 变量名 in 序列：\n   ​    循环体\n\n   执行过程：\n+ 2.while 循环\n   while 条件语句：\n   ​    循环体\n   else：\n   执行过程：\n+ 3.break，continue,else\n  break和continue写在循环体中的，else写在循环外（循环中遇到break，else的语句不会执行）\n#### 二、认识列表\n`list1 = [1,2,3]`\n##### list (列表)\n+ a.列表是python中的容器类型。有序的，可变的容器(可变指的是列表中的元素位置，个数可变的)\n  有序--> 可以通过下标来获取元素\n  可变-->列表中的元素可以（增删改查）\n+ b.元素：指的是列表中的每一个内容(列表中的元素可以是任意类型的数据)\n######  1.列表的声明\n+  a.声明变量赋一个列表值\n```python\n   声明了一个列表，列表中有5个元素，分别是90,80,97,67,55\nscores = [90,80,97,67,55]\nprint(scores,type(scores))\n```\n```python\n 声明了一个列表，列表中有三个元素，分别是'sth',16,'男'（一个列表中的内容类型可以不一样）\nperson = ['sth',16,'男']\nprint(person)\n\nname = '索隆'\nage = 24\nperson1 = [name,age,'男']\nprint(person1)\n```\n```python\n[]---> 代表一个空的列表\nnames = []\nprint(names,type(names))\n```\n\n\n\n+ b.将其他的数据类型转换成列表(只有序列才能转换成列表：字符串和range，字典、元组、集合、生成式和迭代器）\n\n```python\nchars = list ('123456')\nprint(chars)\n\nnumbers = list (range(10))\nprint(numbers)\n\nlist1  = ['静夜思  李白  床前明月光  疑是地上霜  举头望明月  低头思故乡']\nprint(list1)\n\n```","slug":"python/容器","published":1,"updated":"2019-03-14T01:42:21.599Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjt87kqjn0023r8r64fglhh6w","content":"<h4 id=\"一、复习\"><a href=\"#一、复习\" class=\"headerlink\" title=\"一、复习\"></a>一、复习</h4><h5 id=\"1-注释\"><a href=\"#1-注释\" class=\"headerlink\" title=\"1.注释\"></a>1.注释</h5><h5 id=\"a-由字母数字下划线组成，python3中可以是中文。b-数字不能开头。c-大小写敏感\"><a href=\"#a-由字母数字下划线组成，python3中可以是中文。b-数字不能开头。c-大小写敏感\" class=\"headerlink\" title=\"a.由字母数字下划线组成，python3中可以是中文。b.数字不能开头。c.大小写敏感\"></a>a.由字母数字下划线组成，python3中可以是中文。b.数字不能开头。c.大小写敏感</h5><h5 id=\"3-行与缩进：python中对缩进有严格的要求\"><a href=\"#3-行与缩进：python中对缩进有严格的要求\" class=\"headerlink\" title=\"3.行与缩进：python中对缩进有严格的要求\"></a>3.行与缩进：python中对缩进有严格的要求</h5><h5 id=\"4-多行显示：加反斜杠\"><a href=\"#4-多行显示：加反斜杠\" class=\"headerlink\" title=\"4.多行显示：加反斜杠\"></a>4.多行显示：加反斜杠</h5><h5 id=\"5-python中的基本数据类型：类型（int）、浮点类型（float）、布尔（bool）、字符串（str-ect\"><a href=\"#5-python中的基本数据类型：类型（int）、浮点类型（float）、布尔（bool）、字符串（str-ect\" class=\"headerlink\" title=\"5.python中的基本数据类型：类型（int）、浮点类型（float）、布尔（bool）、字符串（str)ect.\"></a>5.python中的基本数据类型：类型（int）、浮点类型（float）、布尔（bool）、字符串（str)ect.</h5><pre class=\" language-python\"><code class=\"language-python\">ste <span class=\"token operator\">=</span> <span class=\"token number\">123</span> <span class=\"token operator\">+</span> <span class=\"token number\">425</span>\\\n      <span class=\"token operator\">+</span> <span class=\"token number\">15552</span>\n</code></pre>\n<h6 id=\"变量的声明\"><a href=\"#变量的声明\" class=\"headerlink\" title=\"变量的声明\"></a>变量的声明</h6><ul>\n<li>1.变量名 = 值</li>\n<li>2.变量名：标识符，不能是关键字，PEP8：（字母全是小写，多个单词之间用下划线隔开），见名知义</li>\n<li>3.变量生命的写法</li>\n<li>4.声明变量/给变量赋值的原理<pre class=\" language-python\"><code class=\"language-python\">a <span class=\"token operator\">=</span> <span class=\"token number\">100</span>\na <span class=\"token operator\">=</span> b <span class=\"token operator\">=</span> <span class=\"token number\">10</span>\na <span class=\"token operator\">=</span> <span class=\"token number\">10</span><span class=\"token punctuation\">;</span>b <span class=\"token operator\">=</span> <span class=\"token number\">20</span>\na<span class=\"token punctuation\">,</span>b <span class=\"token operator\">=</span> <span class=\"token number\">10</span><span class=\"token punctuation\">,</span><span class=\"token number\">20</span>   <span class=\"token comment\" spellcheck=\"true\">#元组</span>\n</code></pre>\n<h5 id=\"运算符\"><a href=\"#运算符\" class=\"headerlink\" title=\"运算符\"></a>运算符</h5><pre class=\" language-python\"><code class=\"language-python\"><span class=\"token operator\">+</span>，<span class=\"token operator\">-</span>，<span class=\"token operator\">*</span>，<span class=\"token operator\">/</span>，<span class=\"token operator\">%</span>，<span class=\"token operator\">//</span>，<span class=\"token operator\">**</span>\n<span class=\"token operator\">></span><span class=\"token punctuation\">,</span><span class=\"token operator\">&lt;</span><span class=\"token punctuation\">,</span><span class=\"token operator\">==</span><span class=\"token punctuation\">,</span><span class=\"token operator\">>=</span><span class=\"token punctuation\">,</span><span class=\"token operator\">&lt;=</span><span class=\"token punctuation\">,</span><span class=\"token operator\">!=</span>\n<span class=\"token operator\">and</span><span class=\"token punctuation\">,</span><span class=\"token operator\">or</span><span class=\"token punctuation\">,</span><span class=\"token operator\">not</span>\n<span class=\"token operator\">=</span><span class=\"token punctuation\">,</span><span class=\"token operator\">+=</span><span class=\"token punctuation\">,</span><span class=\"token operator\">-=</span><span class=\"token punctuation\">,</span><span class=\"token operator\">*=</span><span class=\"token punctuation\">,</span><span class=\"token operator\">/=</span><span class=\"token punctuation\">,</span><span class=\"token operator\">%=</span><span class=\"token punctuation\">,</span><span class=\"token operator\">//=</span><span class=\"token punctuation\">,</span><span class=\"token operator\">**=</span>\n运算符的优先级：可以通过括号改变 \n</code></pre>\n<h5 id=\"字符串\"><a href=\"#字符串\" class=\"headerlink\" title=\"字符串\"></a>字符串</h5><pre class=\" language-python\"><code class=\"language-python\"><span class=\"token number\">1</span><span class=\"token punctuation\">.</span>字符串长什么样\n<span class=\"token number\">2</span><span class=\"token punctuation\">.</span>字符编码（Unicodde<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>chr<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>ord<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n<span class=\"token number\">3</span><span class=\"token punctuation\">.</span>获取单个或者部分字符：字符串<span class=\"token punctuation\">[</span>index<span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>字符串<span class=\"token punctuation\">[</span>下标<span class=\"token number\">1</span>：下标<span class=\"token number\">2</span>：步进<span class=\"token punctuation\">]</span>\n<span class=\"token number\">4</span><span class=\"token punctuation\">.</span>字符串的相关的运算：<span class=\"token operator\">+</span>，<span class=\"token operator\">*</span>，比较运算，<span class=\"token keyword\">in</span>，<span class=\"token operator\">not</span> <span class=\"token keyword\">in</span><span class=\"token punctuation\">,</span>len<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n<span class=\"token number\">5</span><span class=\"token punctuation\">.</span>相关的方法\n</code></pre>\n<h5 id=\"分支\"><a href=\"#分支\" class=\"headerlink\" title=\"分支\"></a>分支</h5></li>\n<li><p>1.if 条件语句:<br>​    执行语句</p>\n</li>\n<li><p>2.if-else 条件语句：<br>​    执行语句1<br>​    else：<br>​        执行语句2</p>\n</li>\n<li><p>3.if-elif-else：<br> elif 条件语句：</p>\n<h5 id=\"循环结构\"><a href=\"#循环结构\" class=\"headerlink\" title=\"循环结构\"></a>循环结构</h5></li>\n<li><p>1.for 循环<br> for 变量名 in 序列：<br> ​    循环体</p>\n<p> 执行过程：</p>\n</li>\n<li>2.while 循环<br> while 条件语句：<br> ​    循环体<br> else：<br> 执行过程：</li>\n<li>3.break，continue,else<br>break和continue写在循环体中的，else写在循环外（循环中遇到break，else的语句不会执行）<h4 id=\"二、认识列表\"><a href=\"#二、认识列表\" class=\"headerlink\" title=\"二、认识列表\"></a>二、认识列表</h4><code>list1 = [1,2,3]</code><h5 id=\"list-列表\"><a href=\"#list-列表\" class=\"headerlink\" title=\"list (列表)\"></a>list (列表)</h5></li>\n<li>a.列表是python中的容器类型。有序的，可变的容器(可变指的是列表中的元素位置，个数可变的)<br>有序–&gt; 可以通过下标来获取元素<br>可变–&gt;列表中的元素可以（增删改查）</li>\n<li>b.元素：指的是列表中的每一个内容(列表中的元素可以是任意类型的数据)<h6 id=\"1-列表的声明\"><a href=\"#1-列表的声明\" class=\"headerlink\" title=\"1.列表的声明\"></a>1.列表的声明</h6></li>\n<li>a.声明变量赋一个列表值<pre class=\" language-python\"><code class=\"language-python\">声明了一个列表，列表中有<span class=\"token number\">5</span>个元素，分别是<span class=\"token number\">90</span><span class=\"token punctuation\">,</span><span class=\"token number\">80</span><span class=\"token punctuation\">,</span><span class=\"token number\">97</span><span class=\"token punctuation\">,</span><span class=\"token number\">67</span><span class=\"token punctuation\">,</span><span class=\"token number\">55</span>\nscores <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token number\">90</span><span class=\"token punctuation\">,</span><span class=\"token number\">80</span><span class=\"token punctuation\">,</span><span class=\"token number\">97</span><span class=\"token punctuation\">,</span><span class=\"token number\">67</span><span class=\"token punctuation\">,</span><span class=\"token number\">55</span><span class=\"token punctuation\">]</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>scores<span class=\"token punctuation\">,</span>type<span class=\"token punctuation\">(</span>scores<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n</code></pre>\n<code>`</code>python<br>声明了一个列表，列表中有三个元素，分别是’sth’,16,’男’（一个列表中的内容类型可以不一样）<br>person = [‘sth’,16,’男’]<br>print(person)</li>\n</ul>\n<p>name = ‘索隆’<br>age = 24<br>person1 = [name,age,’男’]<br>print(person1)</p>\n<pre><code>```python\n[]---&gt; 代表一个空的列表\nnames = []\nprint(names,type(names))\n</code></pre><ul>\n<li>b.将其他的数据类型转换成列表(只有序列才能转换成列表：字符串和range，字典、元组、集合、生成式和迭代器）</li>\n</ul>\n<pre class=\" language-python\"><code class=\"language-python\">chars <span class=\"token operator\">=</span> list <span class=\"token punctuation\">(</span><span class=\"token string\">'123456'</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>chars<span class=\"token punctuation\">)</span>\n\nnumbers <span class=\"token operator\">=</span> list <span class=\"token punctuation\">(</span>range<span class=\"token punctuation\">(</span><span class=\"token number\">10</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>numbers<span class=\"token punctuation\">)</span>\n\nlist1  <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token string\">'静夜思  李白  床前明月光  疑是地上霜  举头望明月  低头思故乡'</span><span class=\"token punctuation\">]</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>list1<span class=\"token punctuation\">)</span>\n\n</code></pre>\n","site":{"data":{}},"excerpt":"","more":"<h4 id=\"一、复习\"><a href=\"#一、复习\" class=\"headerlink\" title=\"一、复习\"></a>一、复习</h4><h5 id=\"1-注释\"><a href=\"#1-注释\" class=\"headerlink\" title=\"1.注释\"></a>1.注释</h5><h5 id=\"a-由字母数字下划线组成，python3中可以是中文。b-数字不能开头。c-大小写敏感\"><a href=\"#a-由字母数字下划线组成，python3中可以是中文。b-数字不能开头。c-大小写敏感\" class=\"headerlink\" title=\"a.由字母数字下划线组成，python3中可以是中文。b.数字不能开头。c.大小写敏感\"></a>a.由字母数字下划线组成，python3中可以是中文。b.数字不能开头。c.大小写敏感</h5><h5 id=\"3-行与缩进：python中对缩进有严格的要求\"><a href=\"#3-行与缩进：python中对缩进有严格的要求\" class=\"headerlink\" title=\"3.行与缩进：python中对缩进有严格的要求\"></a>3.行与缩进：python中对缩进有严格的要求</h5><h5 id=\"4-多行显示：加反斜杠\"><a href=\"#4-多行显示：加反斜杠\" class=\"headerlink\" title=\"4.多行显示：加反斜杠\"></a>4.多行显示：加反斜杠</h5><h5 id=\"5-python中的基本数据类型：类型（int）、浮点类型（float）、布尔（bool）、字符串（str-ect\"><a href=\"#5-python中的基本数据类型：类型（int）、浮点类型（float）、布尔（bool）、字符串（str-ect\" class=\"headerlink\" title=\"5.python中的基本数据类型：类型（int）、浮点类型（float）、布尔（bool）、字符串（str)ect.\"></a>5.python中的基本数据类型：类型（int）、浮点类型（float）、布尔（bool）、字符串（str)ect.</h5><pre><code class=\"python\">ste = 123 + 425\\\n      + 15552\n</code></pre>\n<h6 id=\"变量的声明\"><a href=\"#变量的声明\" class=\"headerlink\" title=\"变量的声明\"></a>变量的声明</h6><ul>\n<li>1.变量名 = 值</li>\n<li>2.变量名：标识符，不能是关键字，PEP8：（字母全是小写，多个单词之间用下划线隔开），见名知义</li>\n<li>3.变量生命的写法</li>\n<li>4.声明变量/给变量赋值的原理<pre><code class=\"python\">a = 100\na = b = 10\na = 10;b = 20\na,b = 10,20   #元组\n</code></pre>\n<h5 id=\"运算符\"><a href=\"#运算符\" class=\"headerlink\" title=\"运算符\"></a>运算符</h5><pre><code class=\"python\">+，-，*，/，%，//，**\n&gt;,&lt;,==,&gt;=,&lt;=,!=\nand,or,not\n=,+=,-=,*=,/=,%=,//=,**=\n运算符的优先级：可以通过括号改变 \n</code></pre>\n<h5 id=\"字符串\"><a href=\"#字符串\" class=\"headerlink\" title=\"字符串\"></a>字符串</h5><pre><code class=\"python\">1.字符串长什么样\n2.字符编码（Unicodde),chr(),ord()\n3.获取单个或者部分字符：字符串[index],字符串[下标1：下标2：步进]\n4.字符串的相关的运算：+，*，比较运算，in，not in,len()\n5.相关的方法\n</code></pre>\n<h5 id=\"分支\"><a href=\"#分支\" class=\"headerlink\" title=\"分支\"></a>分支</h5></li>\n<li><p>1.if 条件语句:<br>​    执行语句</p>\n</li>\n<li><p>2.if-else 条件语句：<br>​    执行语句1<br>​    else：<br>​        执行语句2</p>\n</li>\n<li><p>3.if-elif-else：<br> elif 条件语句：</p>\n<h5 id=\"循环结构\"><a href=\"#循环结构\" class=\"headerlink\" title=\"循环结构\"></a>循环结构</h5></li>\n<li><p>1.for 循环<br> for 变量名 in 序列：<br> ​    循环体</p>\n<p> 执行过程：</p>\n</li>\n<li>2.while 循环<br> while 条件语句：<br> ​    循环体<br> else：<br> 执行过程：</li>\n<li>3.break，continue,else<br>break和continue写在循环体中的，else写在循环外（循环中遇到break，else的语句不会执行）<h4 id=\"二、认识列表\"><a href=\"#二、认识列表\" class=\"headerlink\" title=\"二、认识列表\"></a>二、认识列表</h4><code>list1 = [1,2,3]</code><h5 id=\"list-列表\"><a href=\"#list-列表\" class=\"headerlink\" title=\"list (列表)\"></a>list (列表)</h5></li>\n<li>a.列表是python中的容器类型。有序的，可变的容器(可变指的是列表中的元素位置，个数可变的)<br>有序–&gt; 可以通过下标来获取元素<br>可变–&gt;列表中的元素可以（增删改查）</li>\n<li>b.元素：指的是列表中的每一个内容(列表中的元素可以是任意类型的数据)<h6 id=\"1-列表的声明\"><a href=\"#1-列表的声明\" class=\"headerlink\" title=\"1.列表的声明\"></a>1.列表的声明</h6></li>\n<li>a.声明变量赋一个列表值<pre><code class=\"python\">声明了一个列表，列表中有5个元素，分别是90,80,97,67,55\nscores = [90,80,97,67,55]\nprint(scores,type(scores))\n</code></pre>\n<code>`</code>python<br>声明了一个列表，列表中有三个元素，分别是’sth’,16,’男’（一个列表中的内容类型可以不一样）<br>person = [‘sth’,16,’男’]<br>print(person)</li>\n</ul>\n<p>name = ‘索隆’<br>age = 24<br>person1 = [name,age,’男’]<br>print(person1)</p>\n<pre><code>```python\n[]---&gt; 代表一个空的列表\nnames = []\nprint(names,type(names))\n</code></pre><ul>\n<li>b.将其他的数据类型转换成列表(只有序列才能转换成列表：字符串和range，字典、元组、集合、生成式和迭代器）</li>\n</ul>\n<pre><code class=\"python\">chars = list (&#39;123456&#39;)\nprint(chars)\n\nnumbers = list (range(10))\nprint(numbers)\n\nlist1  = [&#39;静夜思  李白  床前明月光  疑是地上霜  举头望明月  低头思故乡&#39;]\nprint(list1)\n\n</code></pre>\n"},{"title":"循环和分支","date":"2017-04-20T11:20:45.000Z","author":"smile","_content":"\n## 一、数据类型转换\n\n#### 1.数据类型自动转换\n```python\na = 10                    整型（in）\nb = 12.5                  浮点型（float）\nresult = a + b            会自动将a转换成浮点型，再计算\nprint (type(result))\n\nresult2 = a + True        会自动将布尔型转换成1\nprint (result2,type(result2))\n```\n运行\n```python\n<class 'float'>\n11 <class 'int'>\n```\n####  2.强制转换 \n+ 基本语法：类型名（需要转换的数据）\n######   a.将其他数据转换成int型：浮点型、布尔和部分字符串\n```python\nprint (int(12.5))        float--->int:去掉小数点和小数点后面的数\nprint (int(True),int(False))    bool--->int: 1   0\n```\n运行\n```python\n12\n1 0\n```\n+ 去掉字符串的引号后，字符串的内容本身就是一个整数的时候，才能被转换成整型\n```python\nprint (int('123'))\nprint (int('-123'))\nprint (int('122.5'))     错误\nprint (int('123a'))      错误\n```\n运行\n```python\n123\n-123\n```\n######  b.将其他的数据类型转换成flaot类型：整数、布尔和部分字符串\n```python\nprint (float(10))             i\nnt---->float:在整数后加.0\nprint (float(True))           bool--->float:True:1.0,False:0.1\n```\n+ 去掉括号后，字符串的内容本身就是一个整数或者浮点数的时候，才能被转换成浮点型\n```python\nprint (float('2e3'),float('-12.3'),float('10'))\n```\n######  c.将其他数据类型转换成bool：\n+   所有的数据类型都可以转换成bool\n+   数字中：除0是False,其他都是True\n +   字符串中：除了空串是False，其他都是True\n\n+   总结：所有为空、为0的值全是False,否则就是True\n```python\nprint (bool(1),bool(-1),bool(1.1),bool(-1.25))\nprint (bool(0),bool(0.0))\nprint (bool(None),bool([]))\n```\n#####  d.其他数据类型转换成字符串，转换的时候就是在数据外面加引号\n```python\nprint (str(100),str(1.2),str(True),str([1,2,3]))\n```\n##  二、if语句\n\npython中的分支结构只有一种：if分支结构\n#### 1.if\n语法：\n if 条件语句：\n ——执行语句块\n其他语句\n\n 说明：\n+  a.if：python中的关键字，‘如果’的意思，用来做判断的\n +  b.条件语句：最终结果会转换成布尔值\n +  c.冒号：冒号是固定语法，必须写！\n +  d.执行语句块：可以是多行语句，但是每行语句必须和前面的if保持一个缩进（一个tab/制表符）\n\n+  执行过程：先判断条件语句的结果是否为True，如果是就执行冒号后面的语句块。否则，直接执行if模块后的其他语句\n```python\n练习：用一个变量保存一个学生的成绩，要求：大学生\n     成绩大于90的时候，打印优秀，无论成绩多少，都打印\ngrade = 100\nif grade > 90:\n\tprint('优秀')\nprint ('%d' % (grade))\n```\n#### 2.if——else\n语法：\n if 条件语句：\n——执行语句块1\n else：\n——执行语句块2\n 其他语句\n\n 说明：\n+  else：关键字（else后边的冒号不能省）\n+  执行过程：先判断条件语句的结果是否为Ture，如果是就执行语句块1，然后再执行其他语句； 如果为False，就执行语句块2，然后再执行其他语句\n```python\nage = 20\nif age >= 18:\n\tprint ('成年')\n\tprint ('可以进网吧')\nelse:\n    print ('未成年')\n\n```\n#### 3.if_elif_else\n语法：\n if 条件语句1：\n——语句块1\n elif条件语句2：\n——语句块2\n elif 条件语句3：\n ——语句块3\n​      。。。\nelse:\n——语句块\n其他语句\n```python\n+要求成绩大于90分打印优秀，80-90打印良好，60-79打印及格，60以下不及格\ngrade = 80\nif grade > 90:\n\tprint ('优秀')\n\nelif grade >=80:\n\tprint ('良好')\n\nelif grade >=60:\n\tprint ('及格')\n\nelse:\n\tprint ('不及格')\n​````\n```\n 练习\n\n```python\nage = 20\nif age >= 18:\n\tprint ('成年')\n\tprint ('可以进网吧')\nelse:\n    print ('未成年')\n```\n\n####   4.if语句的嵌套\n+ 每个if分支中都可以嵌套其他的if语句\n if 条件1：\n——执行语句1\n——if 条件2：\n\t——执行语句2\n——else：\n\t——执行语句3\n else：\n——执行语句4\n```python\n成绩和年龄：如果成绩大于90并且年龄是18以上 就获奖100万；\n\t\t\t  年龄小于18岁，就获取奖金200万\n\t\t\t  成绩小于90，打印没有奖金\ngrade = 90\nage = 18\nif grade >= 90:\n\tif age >=18:\n\t\tprint ('100万')\n\telse:\n\t\tprint ('200万')\nelse:\n\tprint ('没有奖金')\n```\n+ 练习：产生一个随机数(0-100)，判断随机数是否是偶数，如果是打印偶数，否则打印奇数；如果能被4整除，再打印能被4整除\n\n```python\nimport random\nnumber = random.randint(0,100)\nprint ('随机数是：%d' % (number))\nif number % 2 == 0:\n\tprint ('偶数')\n\tif number % 4 == 0:\n\t\tprint ('能被4整除')\nelse:\n\tprint ('奇数')\n```\n+ 补充：\n\n   import是python中导入模块或者模块中内容的关键字\n   random是python内置的产生随机数模块\n```python\nimport random\nnumber = random.randint(10,20)    产生一个10到20的随机数，并且存到number中\nprint (number)\n```\n##  三、条件语句的简写\n\n + 判断一个数是否是偶数的两种写法\n```python\nnumber = 10\nif number %2 == 0:\n\tprint ('偶数')\n```\n+  推荐\n```python\nif not number %2 :\n\tprint ('偶数')\n\nif number %2:\n\tprint ('奇数')\n```\n+ 判断一个字符串是否是空串\n```python\nstr1 = 'abc'\nif str =='':\n\tprint ('空串')\nelse:\n\tprint ('不是空串')\n```\n+ 推荐\n```python\nif str:\n\tprint ('不是空串')\nelse:\n\tprint ('是空串')\n```\n## 四、for的循环\n\n在完成某个功能的时候，如果需要重复某个操作，就可以使用循环\n\npython中的循环结构：for循环和while循环\n\n###### 1.for循环的结构：\nfor 变量名 in 序列：\n——循环体\n\n说明：\n\na.for:关键字\n\nb.变量名：和声明变量时的变量名的要求一样\n\nc.in:关键字\n\nd.序列：容器（数据本身是有多个数据组成），例如：字符串、列表、字典、元祖、range、生成式和生成器\n\ne.循环体：需要重复执行的代码\n\n执行过程：让变量去序列中一个一个取数据，取完为止。每取一次数据，执行一次循环体\n\n```python\nfor x in ('123'):\n\tprint (x)\n```\nrange函数是python中内置函数，作用是产生指定范围中的数字\n\nxrange是python2中的函数，python3中用range来代替\n**range(N):产生0~N-1的所有整数**\n**range(N,M):产生N~M-1的所有整数**\n**range(N,M,step):产生从N开始，每step产生一个整数，到M之前**\n\n```python\nprint ('==========')\nfor x in range (10):\n\tprint (x)\n\nprint ('==========')\nfor n in range (10,15):\n\tprint (n)\n\nprint ('=========')\nfor x in range (1,11,2):\n\tprint (x)\n```\n+ 练习：计算1+2+3+。。。+100\n```python\nnumber = 0\nfor x in range (1,101):\n\tnumber += x\n\tprint (number)\n```\n+ 练习：统计1~1000中能够被三整除的数的个数\n\n```python\nste = 0\nfor x in range (1,1001):\n\tif x %3 == 0:\n\t\tprint ('%d 可以被三整除' % (x))\n\t\tste += 1\nprint ('1~1000中能被三整除的个数：%d' % (ste))\n```\n+  注意：for 循环中用来获取序列值的变量，在循环体不是一定要使用. 如果不用，那么变量名可以声明为_\n 打印50行\"***\"\n```python\nfor _ in range(50):\n\tprint ('***')\n```\n+ 1~10000中能被5整除的个数\n```python\nsum = 0\nfor x in range (1,10001):\n\tif x %5 ==0:\n\t\tsum += 1\nprint ('1~10000中能被5整除的数的个数是：%d' % (sum))\n```\n\n```python\n (1,200)     7     个数\n\ndob = 0\nfor x in range (1,201):\n\tif x %7 == 0:\n\t\tdob += 1\nprint (dob)\n```\n## 五、while循环\n\n![QQ截图20180823160402.png](https://upload-images.jianshu.io/upload_images/13692239-896ce7deb5a34539.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\n###### 1.结构：\nwhile 条件语句:\n​\t循环体\n\n###### 2.说明：\nwhile: 关键字\n条件语句：结果是True或者False\n循环体：要重复执行代码\n\n###### 3.执行过程：\n\t判断条件语句的结果是否为True，如果为True就执行循环体，执行完循环体再判断条件语句是否为True。。。。。，直到结果为False为止\n```python\n 1+2+3+...+100\nn = 0\nx = 1\nwhile x <= 100:\n\tn += x\n\tx += 1\nprint (n)\n```\n\n```python\nx = 1,n = 0\n1 <= 100   True;n += x  0+1=n;x+=1  1+x=2\nx = 2,n = 0+1\n2 <=100    True;n=0+1+x=0+1+2;x=1+x=3\n。。。\nx = 100，n = 0+1+2+...+99\nx <= 100   True;n=0+1+。。。+100；x=1+x=101\n```\n+ 练习：循环结束，x的值和n的值，分别是多少     x = 6, n = 2+3+4+5+6\n```python\nx = 1\nn = 0\nwhile x <= 5:\n\tx += 1\n\tn += x\nprint (n,x)\n```\n for 循环与while循环的比较\n **for循环的循环次数是有限的，并且是确定的；while循环的循环次数不确定\n** for循环：1.遍历序列中的值 2. 循环次数确定\n while循环：1.死循环 2.循环次数不确定\n\n+ 练习：找大于10000的数中，第一个能够被23整除的数\n```python\nx = 10001\nwhile x %23 != 0:\n\tx += 1\nprint (x)\n\n```\n","source":"_posts/python/循环和分支.md","raw":"---\ntitle: 循环和分支\ndate: 2017-04-20 19:20:45\nauthor: smile\ncategories: Python\ntags: \n  - 循环\n  - 判断\n---\n\n## 一、数据类型转换\n\n#### 1.数据类型自动转换\n```python\na = 10                    整型（in）\nb = 12.5                  浮点型（float）\nresult = a + b            会自动将a转换成浮点型，再计算\nprint (type(result))\n\nresult2 = a + True        会自动将布尔型转换成1\nprint (result2,type(result2))\n```\n运行\n```python\n<class 'float'>\n11 <class 'int'>\n```\n####  2.强制转换 \n+ 基本语法：类型名（需要转换的数据）\n######   a.将其他数据转换成int型：浮点型、布尔和部分字符串\n```python\nprint (int(12.5))        float--->int:去掉小数点和小数点后面的数\nprint (int(True),int(False))    bool--->int: 1   0\n```\n运行\n```python\n12\n1 0\n```\n+ 去掉字符串的引号后，字符串的内容本身就是一个整数的时候，才能被转换成整型\n```python\nprint (int('123'))\nprint (int('-123'))\nprint (int('122.5'))     错误\nprint (int('123a'))      错误\n```\n运行\n```python\n123\n-123\n```\n######  b.将其他的数据类型转换成flaot类型：整数、布尔和部分字符串\n```python\nprint (float(10))             i\nnt---->float:在整数后加.0\nprint (float(True))           bool--->float:True:1.0,False:0.1\n```\n+ 去掉括号后，字符串的内容本身就是一个整数或者浮点数的时候，才能被转换成浮点型\n```python\nprint (float('2e3'),float('-12.3'),float('10'))\n```\n######  c.将其他数据类型转换成bool：\n+   所有的数据类型都可以转换成bool\n+   数字中：除0是False,其他都是True\n +   字符串中：除了空串是False，其他都是True\n\n+   总结：所有为空、为0的值全是False,否则就是True\n```python\nprint (bool(1),bool(-1),bool(1.1),bool(-1.25))\nprint (bool(0),bool(0.0))\nprint (bool(None),bool([]))\n```\n#####  d.其他数据类型转换成字符串，转换的时候就是在数据外面加引号\n```python\nprint (str(100),str(1.2),str(True),str([1,2,3]))\n```\n##  二、if语句\n\npython中的分支结构只有一种：if分支结构\n#### 1.if\n语法：\n if 条件语句：\n ——执行语句块\n其他语句\n\n 说明：\n+  a.if：python中的关键字，‘如果’的意思，用来做判断的\n +  b.条件语句：最终结果会转换成布尔值\n +  c.冒号：冒号是固定语法，必须写！\n +  d.执行语句块：可以是多行语句，但是每行语句必须和前面的if保持一个缩进（一个tab/制表符）\n\n+  执行过程：先判断条件语句的结果是否为True，如果是就执行冒号后面的语句块。否则，直接执行if模块后的其他语句\n```python\n练习：用一个变量保存一个学生的成绩，要求：大学生\n     成绩大于90的时候，打印优秀，无论成绩多少，都打印\ngrade = 100\nif grade > 90:\n\tprint('优秀')\nprint ('%d' % (grade))\n```\n#### 2.if——else\n语法：\n if 条件语句：\n——执行语句块1\n else：\n——执行语句块2\n 其他语句\n\n 说明：\n+  else：关键字（else后边的冒号不能省）\n+  执行过程：先判断条件语句的结果是否为Ture，如果是就执行语句块1，然后再执行其他语句； 如果为False，就执行语句块2，然后再执行其他语句\n```python\nage = 20\nif age >= 18:\n\tprint ('成年')\n\tprint ('可以进网吧')\nelse:\n    print ('未成年')\n\n```\n#### 3.if_elif_else\n语法：\n if 条件语句1：\n——语句块1\n elif条件语句2：\n——语句块2\n elif 条件语句3：\n ——语句块3\n​      。。。\nelse:\n——语句块\n其他语句\n```python\n+要求成绩大于90分打印优秀，80-90打印良好，60-79打印及格，60以下不及格\ngrade = 80\nif grade > 90:\n\tprint ('优秀')\n\nelif grade >=80:\n\tprint ('良好')\n\nelif grade >=60:\n\tprint ('及格')\n\nelse:\n\tprint ('不及格')\n​````\n```\n 练习\n\n```python\nage = 20\nif age >= 18:\n\tprint ('成年')\n\tprint ('可以进网吧')\nelse:\n    print ('未成年')\n```\n\n####   4.if语句的嵌套\n+ 每个if分支中都可以嵌套其他的if语句\n if 条件1：\n——执行语句1\n——if 条件2：\n\t——执行语句2\n——else：\n\t——执行语句3\n else：\n——执行语句4\n```python\n成绩和年龄：如果成绩大于90并且年龄是18以上 就获奖100万；\n\t\t\t  年龄小于18岁，就获取奖金200万\n\t\t\t  成绩小于90，打印没有奖金\ngrade = 90\nage = 18\nif grade >= 90:\n\tif age >=18:\n\t\tprint ('100万')\n\telse:\n\t\tprint ('200万')\nelse:\n\tprint ('没有奖金')\n```\n+ 练习：产生一个随机数(0-100)，判断随机数是否是偶数，如果是打印偶数，否则打印奇数；如果能被4整除，再打印能被4整除\n\n```python\nimport random\nnumber = random.randint(0,100)\nprint ('随机数是：%d' % (number))\nif number % 2 == 0:\n\tprint ('偶数')\n\tif number % 4 == 0:\n\t\tprint ('能被4整除')\nelse:\n\tprint ('奇数')\n```\n+ 补充：\n\n   import是python中导入模块或者模块中内容的关键字\n   random是python内置的产生随机数模块\n```python\nimport random\nnumber = random.randint(10,20)    产生一个10到20的随机数，并且存到number中\nprint (number)\n```\n##  三、条件语句的简写\n\n + 判断一个数是否是偶数的两种写法\n```python\nnumber = 10\nif number %2 == 0:\n\tprint ('偶数')\n```\n+  推荐\n```python\nif not number %2 :\n\tprint ('偶数')\n\nif number %2:\n\tprint ('奇数')\n```\n+ 判断一个字符串是否是空串\n```python\nstr1 = 'abc'\nif str =='':\n\tprint ('空串')\nelse:\n\tprint ('不是空串')\n```\n+ 推荐\n```python\nif str:\n\tprint ('不是空串')\nelse:\n\tprint ('是空串')\n```\n## 四、for的循环\n\n在完成某个功能的时候，如果需要重复某个操作，就可以使用循环\n\npython中的循环结构：for循环和while循环\n\n###### 1.for循环的结构：\nfor 变量名 in 序列：\n——循环体\n\n说明：\n\na.for:关键字\n\nb.变量名：和声明变量时的变量名的要求一样\n\nc.in:关键字\n\nd.序列：容器（数据本身是有多个数据组成），例如：字符串、列表、字典、元祖、range、生成式和生成器\n\ne.循环体：需要重复执行的代码\n\n执行过程：让变量去序列中一个一个取数据，取完为止。每取一次数据，执行一次循环体\n\n```python\nfor x in ('123'):\n\tprint (x)\n```\nrange函数是python中内置函数，作用是产生指定范围中的数字\n\nxrange是python2中的函数，python3中用range来代替\n**range(N):产生0~N-1的所有整数**\n**range(N,M):产生N~M-1的所有整数**\n**range(N,M,step):产生从N开始，每step产生一个整数，到M之前**\n\n```python\nprint ('==========')\nfor x in range (10):\n\tprint (x)\n\nprint ('==========')\nfor n in range (10,15):\n\tprint (n)\n\nprint ('=========')\nfor x in range (1,11,2):\n\tprint (x)\n```\n+ 练习：计算1+2+3+。。。+100\n```python\nnumber = 0\nfor x in range (1,101):\n\tnumber += x\n\tprint (number)\n```\n+ 练习：统计1~1000中能够被三整除的数的个数\n\n```python\nste = 0\nfor x in range (1,1001):\n\tif x %3 == 0:\n\t\tprint ('%d 可以被三整除' % (x))\n\t\tste += 1\nprint ('1~1000中能被三整除的个数：%d' % (ste))\n```\n+  注意：for 循环中用来获取序列值的变量，在循环体不是一定要使用. 如果不用，那么变量名可以声明为_\n 打印50行\"***\"\n```python\nfor _ in range(50):\n\tprint ('***')\n```\n+ 1~10000中能被5整除的个数\n```python\nsum = 0\nfor x in range (1,10001):\n\tif x %5 ==0:\n\t\tsum += 1\nprint ('1~10000中能被5整除的数的个数是：%d' % (sum))\n```\n\n```python\n (1,200)     7     个数\n\ndob = 0\nfor x in range (1,201):\n\tif x %7 == 0:\n\t\tdob += 1\nprint (dob)\n```\n## 五、while循环\n\n![QQ截图20180823160402.png](https://upload-images.jianshu.io/upload_images/13692239-896ce7deb5a34539.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\n###### 1.结构：\nwhile 条件语句:\n​\t循环体\n\n###### 2.说明：\nwhile: 关键字\n条件语句：结果是True或者False\n循环体：要重复执行代码\n\n###### 3.执行过程：\n\t判断条件语句的结果是否为True，如果为True就执行循环体，执行完循环体再判断条件语句是否为True。。。。。，直到结果为False为止\n```python\n 1+2+3+...+100\nn = 0\nx = 1\nwhile x <= 100:\n\tn += x\n\tx += 1\nprint (n)\n```\n\n```python\nx = 1,n = 0\n1 <= 100   True;n += x  0+1=n;x+=1  1+x=2\nx = 2,n = 0+1\n2 <=100    True;n=0+1+x=0+1+2;x=1+x=3\n。。。\nx = 100，n = 0+1+2+...+99\nx <= 100   True;n=0+1+。。。+100；x=1+x=101\n```\n+ 练习：循环结束，x的值和n的值，分别是多少     x = 6, n = 2+3+4+5+6\n```python\nx = 1\nn = 0\nwhile x <= 5:\n\tx += 1\n\tn += x\nprint (n,x)\n```\n for 循环与while循环的比较\n **for循环的循环次数是有限的，并且是确定的；while循环的循环次数不确定\n** for循环：1.遍历序列中的值 2. 循环次数确定\n while循环：1.死循环 2.循环次数不确定\n\n+ 练习：找大于10000的数中，第一个能够被23整除的数\n```python\nx = 10001\nwhile x %23 != 0:\n\tx += 1\nprint (x)\n\n```\n","slug":"python/循环和分支","published":1,"updated":"2019-03-14T01:41:48.340Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjt87kqkg0026r8r6lvtkxccu","content":"<h2 id=\"一、数据类型转换\"><a href=\"#一、数据类型转换\" class=\"headerlink\" title=\"一、数据类型转换\"></a>一、数据类型转换</h2><h4 id=\"1-数据类型自动转换\"><a href=\"#1-数据类型自动转换\" class=\"headerlink\" title=\"1.数据类型自动转换\"></a>1.数据类型自动转换</h4><pre class=\" language-python\"><code class=\"language-python\">a <span class=\"token operator\">=</span> <span class=\"token number\">10</span>                    整型（<span class=\"token keyword\">in</span>）\nb <span class=\"token operator\">=</span> <span class=\"token number\">12.5</span>                  浮点型（float）\nresult <span class=\"token operator\">=</span> a <span class=\"token operator\">+</span> b            会自动将a转换成浮点型，再计算\n<span class=\"token keyword\">print</span> <span class=\"token punctuation\">(</span>type<span class=\"token punctuation\">(</span>result<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n\nresult2 <span class=\"token operator\">=</span> a <span class=\"token operator\">+</span> <span class=\"token boolean\">True</span>        会自动将布尔型转换成<span class=\"token number\">1</span>\n<span class=\"token keyword\">print</span> <span class=\"token punctuation\">(</span>result2<span class=\"token punctuation\">,</span>type<span class=\"token punctuation\">(</span>result2<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n</code></pre>\n<p>运行</p>\n<pre class=\" language-python\"><code class=\"language-python\"><span class=\"token operator\">&lt;</span><span class=\"token keyword\">class</span> <span class=\"token string\">'float'</span><span class=\"token operator\">></span>\n<span class=\"token number\">11</span> <span class=\"token operator\">&lt;</span><span class=\"token keyword\">class</span> <span class=\"token string\">'int'</span><span class=\"token operator\">></span>\n</code></pre>\n<h4 id=\"2-强制转换\"><a href=\"#2-强制转换\" class=\"headerlink\" title=\"2.强制转换\"></a>2.强制转换</h4><ul>\n<li>基本语法：类型名（需要转换的数据）<h6 id=\"a-将其他数据转换成int型：浮点型、布尔和部分字符串\"><a href=\"#a-将其他数据转换成int型：浮点型、布尔和部分字符串\" class=\"headerlink\" title=\"a.将其他数据转换成int型：浮点型、布尔和部分字符串\"></a>a.将其他数据转换成int型：浮点型、布尔和部分字符串</h6><pre class=\" language-python\"><code class=\"language-python\"><span class=\"token keyword\">print</span> <span class=\"token punctuation\">(</span>int<span class=\"token punctuation\">(</span><span class=\"token number\">12.5</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>        float<span class=\"token operator\">-</span><span class=\"token operator\">-</span><span class=\"token operator\">-</span><span class=\"token operator\">></span>int<span class=\"token punctuation\">:</span>去掉小数点和小数点后面的数\n<span class=\"token keyword\">print</span> <span class=\"token punctuation\">(</span>int<span class=\"token punctuation\">(</span><span class=\"token boolean\">True</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>int<span class=\"token punctuation\">(</span><span class=\"token boolean\">False</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>    bool<span class=\"token operator\">-</span><span class=\"token operator\">-</span><span class=\"token operator\">-</span><span class=\"token operator\">></span>int<span class=\"token punctuation\">:</span> <span class=\"token number\">1</span>   <span class=\"token number\">0</span>\n</code></pre>\n运行<pre class=\" language-python\"><code class=\"language-python\"><span class=\"token number\">12</span>\n<span class=\"token number\">1</span> <span class=\"token number\">0</span>\n</code></pre>\n</li>\n<li>去掉字符串的引号后，字符串的内容本身就是一个整数的时候，才能被转换成整型<pre class=\" language-python\"><code class=\"language-python\"><span class=\"token keyword\">print</span> <span class=\"token punctuation\">(</span>int<span class=\"token punctuation\">(</span><span class=\"token string\">'123'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">print</span> <span class=\"token punctuation\">(</span>int<span class=\"token punctuation\">(</span><span class=\"token string\">'-123'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">print</span> <span class=\"token punctuation\">(</span>int<span class=\"token punctuation\">(</span><span class=\"token string\">'122.5'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>     错误\n<span class=\"token keyword\">print</span> <span class=\"token punctuation\">(</span>int<span class=\"token punctuation\">(</span><span class=\"token string\">'123a'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>      错误\n</code></pre>\n运行<pre class=\" language-python\"><code class=\"language-python\"><span class=\"token number\">123</span>\n<span class=\"token operator\">-</span><span class=\"token number\">123</span>\n</code></pre>\n<h6 id=\"b-将其他的数据类型转换成flaot类型：整数、布尔和部分字符串\"><a href=\"#b-将其他的数据类型转换成flaot类型：整数、布尔和部分字符串\" class=\"headerlink\" title=\"b.将其他的数据类型转换成flaot类型：整数、布尔和部分字符串\"></a>b.将其他的数据类型转换成flaot类型：整数、布尔和部分字符串</h6><pre class=\" language-python\"><code class=\"language-python\"><span class=\"token keyword\">print</span> <span class=\"token punctuation\">(</span>float<span class=\"token punctuation\">(</span><span class=\"token number\">10</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>             i\nnt<span class=\"token operator\">-</span><span class=\"token operator\">-</span><span class=\"token operator\">-</span><span class=\"token operator\">-</span><span class=\"token operator\">></span>float<span class=\"token punctuation\">:</span>在整数后加<span class=\"token punctuation\">.</span><span class=\"token number\">0</span>\n<span class=\"token keyword\">print</span> <span class=\"token punctuation\">(</span>float<span class=\"token punctuation\">(</span><span class=\"token boolean\">True</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>           bool<span class=\"token operator\">-</span><span class=\"token operator\">-</span><span class=\"token operator\">-</span><span class=\"token operator\">></span>float<span class=\"token punctuation\">:</span><span class=\"token boolean\">True</span><span class=\"token punctuation\">:</span><span class=\"token number\">1.0</span><span class=\"token punctuation\">,</span><span class=\"token boolean\">False</span><span class=\"token punctuation\">:</span><span class=\"token number\">0.1</span>\n</code></pre>\n</li>\n<li>去掉括号后，字符串的内容本身就是一个整数或者浮点数的时候，才能被转换成浮点型<pre class=\" language-python\"><code class=\"language-python\"><span class=\"token keyword\">print</span> <span class=\"token punctuation\">(</span>float<span class=\"token punctuation\">(</span><span class=\"token string\">'2e3'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>float<span class=\"token punctuation\">(</span><span class=\"token string\">'-12.3'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>float<span class=\"token punctuation\">(</span><span class=\"token string\">'10'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n</code></pre>\n<h6 id=\"c-将其他数据类型转换成bool：\"><a href=\"#c-将其他数据类型转换成bool：\" class=\"headerlink\" title=\"c.将其他数据类型转换成bool：\"></a>c.将其他数据类型转换成bool：</h6></li>\n<li>所有的数据类型都可以转换成bool</li>\n<li><p>数字中：除0是False,其他都是True</p>\n<ul>\n<li>字符串中：除了空串是False，其他都是True</li>\n</ul>\n</li>\n<li><p>总结：所有为空、为0的值全是False,否则就是True</p>\n<pre class=\" language-python\"><code class=\"language-python\"><span class=\"token keyword\">print</span> <span class=\"token punctuation\">(</span>bool<span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>bool<span class=\"token punctuation\">(</span><span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>bool<span class=\"token punctuation\">(</span><span class=\"token number\">1.1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>bool<span class=\"token punctuation\">(</span><span class=\"token operator\">-</span><span class=\"token number\">1.25</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">print</span> <span class=\"token punctuation\">(</span>bool<span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>bool<span class=\"token punctuation\">(</span><span class=\"token number\">0.0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">print</span> <span class=\"token punctuation\">(</span>bool<span class=\"token punctuation\">(</span>None<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>bool<span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n</code></pre>\n<h5 id=\"d-其他数据类型转换成字符串，转换的时候就是在数据外面加引号\"><a href=\"#d-其他数据类型转换成字符串，转换的时候就是在数据外面加引号\" class=\"headerlink\" title=\"d.其他数据类型转换成字符串，转换的时候就是在数据外面加引号\"></a>d.其他数据类型转换成字符串，转换的时候就是在数据外面加引号</h5><pre class=\" language-python\"><code class=\"language-python\"><span class=\"token keyword\">print</span> <span class=\"token punctuation\">(</span>str<span class=\"token punctuation\">(</span><span class=\"token number\">100</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>str<span class=\"token punctuation\">(</span><span class=\"token number\">1.2</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>str<span class=\"token punctuation\">(</span><span class=\"token boolean\">True</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>str<span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span><span class=\"token number\">2</span><span class=\"token punctuation\">,</span><span class=\"token number\">3</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n</code></pre>\n<h2 id=\"二、if语句\"><a href=\"#二、if语句\" class=\"headerlink\" title=\"二、if语句\"></a>二、if语句</h2></li>\n</ul>\n<p>python中的分支结构只有一种：if分支结构</p>\n<h4 id=\"1-if\"><a href=\"#1-if\" class=\"headerlink\" title=\"1.if\"></a>1.if</h4><p>语法：<br> if 条件语句：<br> ——执行语句块<br>其他语句</p>\n<p> 说明：</p>\n<ul>\n<li><p>a.if：python中的关键字，‘如果’的意思，用来做判断的</p>\n<ul>\n<li>b.条件语句：最终结果会转换成布尔值</li>\n<li>c.冒号：冒号是固定语法，必须写！</li>\n<li>d.执行语句块：可以是多行语句，但是每行语句必须和前面的if保持一个缩进（一个tab/制表符）</li>\n</ul>\n</li>\n<li><p>执行过程：先判断条件语句的结果是否为True，如果是就执行冒号后面的语句块。否则，直接执行if模块后的其他语句</p>\n<pre class=\" language-python\"><code class=\"language-python\">练习：用一个变量保存一个学生的成绩，要求：大学生\n  成绩大于<span class=\"token number\">90</span>的时候，打印优秀，无论成绩多少，都打印\ngrade <span class=\"token operator\">=</span> <span class=\"token number\">100</span>\n<span class=\"token keyword\">if</span> grade <span class=\"token operator\">></span> <span class=\"token number\">90</span><span class=\"token punctuation\">:</span>\n <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string\">'优秀'</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">print</span> <span class=\"token punctuation\">(</span><span class=\"token string\">'%d'</span> <span class=\"token operator\">%</span> <span class=\"token punctuation\">(</span>grade<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n</code></pre>\n<h4 id=\"2-if——else\"><a href=\"#2-if——else\" class=\"headerlink\" title=\"2.if——else\"></a>2.if——else</h4><p>语法：<br>if 条件语句：<br>——执行语句块1<br>else：<br>——执行语句块2<br>其他语句</p>\n<p>说明：</p>\n</li>\n<li>else：关键字（else后边的冒号不能省）</li>\n<li>执行过程：先判断条件语句的结果是否为Ture，如果是就执行语句块1，然后再执行其他语句； 如果为False，就执行语句块2，然后再执行其他语句<br><code>`</code>python<br>age = 20<br>if age &gt;= 18:<br> print (‘成年’)<br> print (‘可以进网吧’)<br>else:<br> print (‘未成年’)</li>\n</ul>\n<pre><code>#### 3.if_elif_else\n语法：\n if 条件语句1：\n——语句块1\n elif条件语句2：\n——语句块2\n elif 条件语句3：\n ——语句块3\n​      。。。\nelse:\n——语句块\n其他语句\n```python\n+要求成绩大于90分打印优秀，80-90打印良好，60-79打印及格，60以下不及格\ngrade = 80\nif grade &gt; 90:\n    print (&#39;优秀&#39;)\n\nelif grade &gt;=80:\n    print (&#39;良好&#39;)\n\nelif grade &gt;=60:\n    print (&#39;及格&#39;)\n\nelse:\n    print (&#39;不及格&#39;)\n​`\n</code></pre><pre><code> 练习\n\n```python\nage = 20\nif age &gt;= 18:\n    print (&#39;成年&#39;)\n    print (&#39;可以进网吧&#39;)\nelse:\n    print (&#39;未成年&#39;)\n</code></pre><h4 id=\"4-if语句的嵌套\"><a href=\"#4-if语句的嵌套\" class=\"headerlink\" title=\"4.if语句的嵌套\"></a>4.if语句的嵌套</h4><ul>\n<li>每个if分支中都可以嵌套其他的if语句<br>if 条件1：<br>——执行语句1<br>——if 条件2：<br>  ——执行语句2<br>——else：<br>  ——执行语句3<br>else：<br>——执行语句4<pre class=\" language-python\"><code class=\"language-python\">成绩和年龄：如果成绩大于<span class=\"token number\">90</span>并且年龄是<span class=\"token number\">18</span>以上 就获奖<span class=\"token number\">100</span>万；\n            年龄小于<span class=\"token number\">18</span>岁，就获取奖金<span class=\"token number\">200</span>万\n            成绩小于<span class=\"token number\">90</span>，打印没有奖金\ngrade <span class=\"token operator\">=</span> <span class=\"token number\">90</span>\nage <span class=\"token operator\">=</span> <span class=\"token number\">18</span>\n<span class=\"token keyword\">if</span> grade <span class=\"token operator\">>=</span> <span class=\"token number\">90</span><span class=\"token punctuation\">:</span>\n  <span class=\"token keyword\">if</span> age <span class=\"token operator\">>=</span><span class=\"token number\">18</span><span class=\"token punctuation\">:</span>\n      <span class=\"token keyword\">print</span> <span class=\"token punctuation\">(</span><span class=\"token string\">'100万'</span><span class=\"token punctuation\">)</span>\n  <span class=\"token keyword\">else</span><span class=\"token punctuation\">:</span>\n      <span class=\"token keyword\">print</span> <span class=\"token punctuation\">(</span><span class=\"token string\">'200万'</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">else</span><span class=\"token punctuation\">:</span>\n  <span class=\"token keyword\">print</span> <span class=\"token punctuation\">(</span><span class=\"token string\">'没有奖金'</span><span class=\"token punctuation\">)</span>\n</code></pre>\n</li>\n<li>练习：产生一个随机数(0-100)，判断随机数是否是偶数，如果是打印偶数，否则打印奇数；如果能被4整除，再打印能被4整除</li>\n</ul>\n<pre class=\" language-python\"><code class=\"language-python\"><span class=\"token keyword\">import</span> random\nnumber <span class=\"token operator\">=</span> random<span class=\"token punctuation\">.</span>randint<span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span><span class=\"token number\">100</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">print</span> <span class=\"token punctuation\">(</span><span class=\"token string\">'随机数是：%d'</span> <span class=\"token operator\">%</span> <span class=\"token punctuation\">(</span>number<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">if</span> number <span class=\"token operator\">%</span> <span class=\"token number\">2</span> <span class=\"token operator\">==</span> <span class=\"token number\">0</span><span class=\"token punctuation\">:</span>\n    <span class=\"token keyword\">print</span> <span class=\"token punctuation\">(</span><span class=\"token string\">'偶数'</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">if</span> number <span class=\"token operator\">%</span> <span class=\"token number\">4</span> <span class=\"token operator\">==</span> <span class=\"token number\">0</span><span class=\"token punctuation\">:</span>\n        <span class=\"token keyword\">print</span> <span class=\"token punctuation\">(</span><span class=\"token string\">'能被4整除'</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">else</span><span class=\"token punctuation\">:</span>\n    <span class=\"token keyword\">print</span> <span class=\"token punctuation\">(</span><span class=\"token string\">'奇数'</span><span class=\"token punctuation\">)</span>\n</code></pre>\n<ul>\n<li><p>补充：</p>\n<p> import是python中导入模块或者模块中内容的关键字<br> random是python内置的产生随机数模块</p>\n<pre class=\" language-python\"><code class=\"language-python\"><span class=\"token keyword\">import</span> random\nnumber <span class=\"token operator\">=</span> random<span class=\"token punctuation\">.</span>randint<span class=\"token punctuation\">(</span><span class=\"token number\">10</span><span class=\"token punctuation\">,</span><span class=\"token number\">20</span><span class=\"token punctuation\">)</span>    产生一个<span class=\"token number\">10</span>到<span class=\"token number\">20</span>的随机数，并且存到number中\n<span class=\"token keyword\">print</span> <span class=\"token punctuation\">(</span>number<span class=\"token punctuation\">)</span>\n</code></pre>\n<h2 id=\"三、条件语句的简写\"><a href=\"#三、条件语句的简写\" class=\"headerlink\" title=\"三、条件语句的简写\"></a>三、条件语句的简写</h2><ul>\n<li>判断一个数是否是偶数的两种写法<pre class=\" language-python\"><code class=\"language-python\">number <span class=\"token operator\">=</span> <span class=\"token number\">10</span>\n<span class=\"token keyword\">if</span> number <span class=\"token operator\">%</span><span class=\"token number\">2</span> <span class=\"token operator\">==</span> <span class=\"token number\">0</span><span class=\"token punctuation\">:</span>\n<span class=\"token keyword\">print</span> <span class=\"token punctuation\">(</span><span class=\"token string\">'偶数'</span><span class=\"token punctuation\">)</span>\n</code></pre>\n</li>\n</ul>\n</li>\n<li>推荐<br><code>`</code>python<br>if not number %2 :<br> print (‘偶数’)</li>\n</ul>\n<p>if number %2:<br>    print (‘奇数’)</p>\n<pre><code>+ 判断一个字符串是否是空串\n```python\nstr1 = &#39;abc&#39;\nif str ==&#39;&#39;:\n    print (&#39;空串&#39;)\nelse:\n    print (&#39;不是空串&#39;)\n</code></pre><ul>\n<li>推荐<pre class=\" language-python\"><code class=\"language-python\"><span class=\"token keyword\">if</span> str<span class=\"token punctuation\">:</span>\n  <span class=\"token keyword\">print</span> <span class=\"token punctuation\">(</span><span class=\"token string\">'不是空串'</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">else</span><span class=\"token punctuation\">:</span>\n  <span class=\"token keyword\">print</span> <span class=\"token punctuation\">(</span><span class=\"token string\">'是空串'</span><span class=\"token punctuation\">)</span>\n</code></pre>\n<h2 id=\"四、for的循环\"><a href=\"#四、for的循环\" class=\"headerlink\" title=\"四、for的循环\"></a>四、for的循环</h2></li>\n</ul>\n<p>在完成某个功能的时候，如果需要重复某个操作，就可以使用循环</p>\n<p>python中的循环结构：for循环和while循环</p>\n<h6 id=\"1-for循环的结构：\"><a href=\"#1-for循环的结构：\" class=\"headerlink\" title=\"1.for循环的结构：\"></a>1.for循环的结构：</h6><p>for 变量名 in 序列：<br>——循环体</p>\n<p>说明：</p>\n<p>a.for:关键字</p>\n<p>b.变量名：和声明变量时的变量名的要求一样</p>\n<p>c.in:关键字</p>\n<p>d.序列：容器（数据本身是有多个数据组成），例如：字符串、列表、字典、元祖、range、生成式和生成器</p>\n<p>e.循环体：需要重复执行的代码</p>\n<p>执行过程：让变量去序列中一个一个取数据，取完为止。每取一次数据，执行一次循环体</p>\n<pre class=\" language-python\"><code class=\"language-python\"><span class=\"token keyword\">for</span> x <span class=\"token keyword\">in</span> <span class=\"token punctuation\">(</span><span class=\"token string\">'123'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    <span class=\"token keyword\">print</span> <span class=\"token punctuation\">(</span>x<span class=\"token punctuation\">)</span>\n</code></pre>\n<p>range函数是python中内置函数，作用是产生指定范围中的数字</p>\n<p>xrange是python2中的函数，python3中用range来代替<br><strong>range(N):产生0~N-1的所有整数</strong><br><strong>range(N,M):产生N~M-1的所有整数</strong><br><strong>range(N,M,step):产生从N开始，每step产生一个整数，到M之前</strong></p>\n<pre class=\" language-python\"><code class=\"language-python\"><span class=\"token keyword\">print</span> <span class=\"token punctuation\">(</span><span class=\"token string\">'=========='</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">for</span> x <span class=\"token keyword\">in</span> range <span class=\"token punctuation\">(</span><span class=\"token number\">10</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    <span class=\"token keyword\">print</span> <span class=\"token punctuation\">(</span>x<span class=\"token punctuation\">)</span>\n\n<span class=\"token keyword\">print</span> <span class=\"token punctuation\">(</span><span class=\"token string\">'=========='</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">for</span> n <span class=\"token keyword\">in</span> range <span class=\"token punctuation\">(</span><span class=\"token number\">10</span><span class=\"token punctuation\">,</span><span class=\"token number\">15</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    <span class=\"token keyword\">print</span> <span class=\"token punctuation\">(</span>n<span class=\"token punctuation\">)</span>\n\n<span class=\"token keyword\">print</span> <span class=\"token punctuation\">(</span><span class=\"token string\">'========='</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">for</span> x <span class=\"token keyword\">in</span> range <span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span><span class=\"token number\">11</span><span class=\"token punctuation\">,</span><span class=\"token number\">2</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    <span class=\"token keyword\">print</span> <span class=\"token punctuation\">(</span>x<span class=\"token punctuation\">)</span>\n</code></pre>\n<ul>\n<li>练习：计算1+2+3+。。。+100<pre class=\" language-python\"><code class=\"language-python\">number <span class=\"token operator\">=</span> <span class=\"token number\">0</span>\n<span class=\"token keyword\">for</span> x <span class=\"token keyword\">in</span> range <span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span><span class=\"token number\">101</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n  number <span class=\"token operator\">+=</span> x\n  <span class=\"token keyword\">print</span> <span class=\"token punctuation\">(</span>number<span class=\"token punctuation\">)</span>\n</code></pre>\n</li>\n<li>练习：统计1~1000中能够被三整除的数的个数</li>\n</ul>\n<pre class=\" language-python\"><code class=\"language-python\">ste <span class=\"token operator\">=</span> <span class=\"token number\">0</span>\n<span class=\"token keyword\">for</span> x <span class=\"token keyword\">in</span> range <span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span><span class=\"token number\">1001</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    <span class=\"token keyword\">if</span> x <span class=\"token operator\">%</span><span class=\"token number\">3</span> <span class=\"token operator\">==</span> <span class=\"token number\">0</span><span class=\"token punctuation\">:</span>\n        <span class=\"token keyword\">print</span> <span class=\"token punctuation\">(</span><span class=\"token string\">'%d 可以被三整除'</span> <span class=\"token operator\">%</span> <span class=\"token punctuation\">(</span>x<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n        ste <span class=\"token operator\">+=</span> <span class=\"token number\">1</span>\n<span class=\"token keyword\">print</span> <span class=\"token punctuation\">(</span><span class=\"token string\">'1~1000中能被三整除的个数：%d'</span> <span class=\"token operator\">%</span> <span class=\"token punctuation\">(</span>ste<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n</code></pre>\n<ul>\n<li>注意：for 循环中用来获取序列值的变量，在循环体不是一定要使用. 如果不用，那么变量名可以声明为_<br>打印50行”***”<pre class=\" language-python\"><code class=\"language-python\"><span class=\"token keyword\">for</span> _ <span class=\"token keyword\">in</span> range<span class=\"token punctuation\">(</span><span class=\"token number\">50</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n <span class=\"token keyword\">print</span> <span class=\"token punctuation\">(</span><span class=\"token string\">'***'</span><span class=\"token punctuation\">)</span>\n</code></pre>\n</li>\n<li>1~10000中能被5整除的个数<pre class=\" language-python\"><code class=\"language-python\">sum <span class=\"token operator\">=</span> <span class=\"token number\">0</span>\n<span class=\"token keyword\">for</span> x <span class=\"token keyword\">in</span> range <span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span><span class=\"token number\">10001</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n  <span class=\"token keyword\">if</span> x <span class=\"token operator\">%</span><span class=\"token number\">5</span> <span class=\"token operator\">==</span><span class=\"token number\">0</span><span class=\"token punctuation\">:</span>\n      sum <span class=\"token operator\">+=</span> <span class=\"token number\">1</span>\n<span class=\"token keyword\">print</span> <span class=\"token punctuation\">(</span><span class=\"token string\">'1~10000中能被5整除的数的个数是：%d'</span> <span class=\"token operator\">%</span> <span class=\"token punctuation\">(</span>sum<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n</code></pre>\n</li>\n</ul>\n<pre class=\" language-python\"><code class=\"language-python\"> <span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span><span class=\"token number\">200</span><span class=\"token punctuation\">)</span>     <span class=\"token number\">7</span>     个数\n\ndob <span class=\"token operator\">=</span> <span class=\"token number\">0</span>\n<span class=\"token keyword\">for</span> x <span class=\"token keyword\">in</span> range <span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span><span class=\"token number\">201</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    <span class=\"token keyword\">if</span> x <span class=\"token operator\">%</span><span class=\"token number\">7</span> <span class=\"token operator\">==</span> <span class=\"token number\">0</span><span class=\"token punctuation\">:</span>\n        dob <span class=\"token operator\">+=</span> <span class=\"token number\">1</span>\n<span class=\"token keyword\">print</span> <span class=\"token punctuation\">(</span>dob<span class=\"token punctuation\">)</span>\n</code></pre>\n<h2 id=\"五、while循环\"><a href=\"#五、while循环\" class=\"headerlink\" title=\"五、while循环\"></a>五、while循环</h2><p><img src=\"https://upload-images.jianshu.io/upload_images/13692239-896ce7deb5a34539.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240\" alt=\"QQ截图20180823160402.png\"></p>\n<h6 id=\"1-结构：\"><a href=\"#1-结构：\" class=\"headerlink\" title=\"1.结构：\"></a>1.结构：</h6><p>while 条件语句:<br>​    循环体</p>\n<h6 id=\"2-说明：\"><a href=\"#2-说明：\" class=\"headerlink\" title=\"2.说明：\"></a>2.说明：</h6><p>while: 关键字<br>条件语句：结果是True或者False<br>循环体：要重复执行代码</p>\n<h6 id=\"3-执行过程：\"><a href=\"#3-执行过程：\" class=\"headerlink\" title=\"3.执行过程：\"></a>3.执行过程：</h6><pre><code>判断条件语句的结果是否为True，如果为True就执行循环体，执行完循环体再判断条件语句是否为True。。。。。，直到结果为False为止\n</code></pre><pre class=\" language-python\"><code class=\"language-python\"> <span class=\"token number\">1</span><span class=\"token operator\">+</span><span class=\"token number\">2</span><span class=\"token operator\">+</span><span class=\"token number\">3</span><span class=\"token operator\">+</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token operator\">+</span><span class=\"token number\">100</span>\nn <span class=\"token operator\">=</span> <span class=\"token number\">0</span>\nx <span class=\"token operator\">=</span> <span class=\"token number\">1</span>\n<span class=\"token keyword\">while</span> x <span class=\"token operator\">&lt;=</span> <span class=\"token number\">100</span><span class=\"token punctuation\">:</span>\n    n <span class=\"token operator\">+=</span> x\n    x <span class=\"token operator\">+=</span> <span class=\"token number\">1</span>\n<span class=\"token keyword\">print</span> <span class=\"token punctuation\">(</span>n<span class=\"token punctuation\">)</span>\n</code></pre>\n<pre class=\" language-python\"><code class=\"language-python\">x <span class=\"token operator\">=</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span>n <span class=\"token operator\">=</span> <span class=\"token number\">0</span>\n<span class=\"token number\">1</span> <span class=\"token operator\">&lt;=</span> <span class=\"token number\">100</span>   <span class=\"token boolean\">True</span><span class=\"token punctuation\">;</span>n <span class=\"token operator\">+=</span> x  <span class=\"token number\">0</span><span class=\"token operator\">+</span><span class=\"token number\">1</span><span class=\"token operator\">=</span>n<span class=\"token punctuation\">;</span>x<span class=\"token operator\">+=</span><span class=\"token number\">1</span>  <span class=\"token number\">1</span><span class=\"token operator\">+</span>x<span class=\"token operator\">=</span><span class=\"token number\">2</span>\nx <span class=\"token operator\">=</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span>n <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token operator\">+</span><span class=\"token number\">1</span>\n<span class=\"token number\">2</span> <span class=\"token operator\">&lt;=</span><span class=\"token number\">100</span>    <span class=\"token boolean\">True</span><span class=\"token punctuation\">;</span>n<span class=\"token operator\">=</span><span class=\"token number\">0</span><span class=\"token operator\">+</span><span class=\"token number\">1</span><span class=\"token operator\">+</span>x<span class=\"token operator\">=</span><span class=\"token number\">0</span><span class=\"token operator\">+</span><span class=\"token number\">1</span><span class=\"token operator\">+</span><span class=\"token number\">2</span><span class=\"token punctuation\">;</span>x<span class=\"token operator\">=</span><span class=\"token number\">1</span><span class=\"token operator\">+</span>x<span class=\"token operator\">=</span><span class=\"token number\">3</span>\n。。。\nx <span class=\"token operator\">=</span> <span class=\"token number\">100</span>，n <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token operator\">+</span><span class=\"token number\">1</span><span class=\"token operator\">+</span><span class=\"token number\">2</span><span class=\"token operator\">+</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token operator\">+</span><span class=\"token number\">99</span>\nx <span class=\"token operator\">&lt;=</span> <span class=\"token number\">100</span>   <span class=\"token boolean\">True</span><span class=\"token punctuation\">;</span>n<span class=\"token operator\">=</span><span class=\"token number\">0</span><span class=\"token operator\">+</span><span class=\"token number\">1</span><span class=\"token operator\">+</span>。。。<span class=\"token operator\">+</span><span class=\"token number\">100</span>；x<span class=\"token operator\">=</span><span class=\"token number\">1</span><span class=\"token operator\">+</span>x<span class=\"token operator\">=</span><span class=\"token number\">101</span>\n</code></pre>\n<ul>\n<li><p>练习：循环结束，x的值和n的值，分别是多少     x = 6, n = 2+3+4+5+6</p>\n<pre class=\" language-python\"><code class=\"language-python\">x <span class=\"token operator\">=</span> <span class=\"token number\">1</span>\nn <span class=\"token operator\">=</span> <span class=\"token number\">0</span>\n<span class=\"token keyword\">while</span> x <span class=\"token operator\">&lt;=</span> <span class=\"token number\">5</span><span class=\"token punctuation\">:</span>\n  x <span class=\"token operator\">+=</span> <span class=\"token number\">1</span>\n  n <span class=\"token operator\">+=</span> x\n<span class=\"token keyword\">print</span> <span class=\"token punctuation\">(</span>n<span class=\"token punctuation\">,</span>x<span class=\"token punctuation\">)</span>\n</code></pre>\n<p>for 循环与while循环的比较<br><strong>for循环的循环次数是有限的，并且是确定的；while循环的循环次数不确定\n</strong> for循环：1.遍历序列中的值 2. 循环次数确定<br>while循环：1.死循环 2.循环次数不确定</p>\n</li>\n<li><p>练习：找大于10000的数中，第一个能够被23整除的数<br><code>`</code>python<br>x = 10001<br>while x %23 != 0:<br>  x += 1<br>print (x)</p>\n</li>\n</ul>\n<p><code>`</code></p>\n","site":{"data":{}},"excerpt":"","more":"<h2 id=\"一、数据类型转换\"><a href=\"#一、数据类型转换\" class=\"headerlink\" title=\"一、数据类型转换\"></a>一、数据类型转换</h2><h4 id=\"1-数据类型自动转换\"><a href=\"#1-数据类型自动转换\" class=\"headerlink\" title=\"1.数据类型自动转换\"></a>1.数据类型自动转换</h4><pre><code class=\"python\">a = 10                    整型（in）\nb = 12.5                  浮点型（float）\nresult = a + b            会自动将a转换成浮点型，再计算\nprint (type(result))\n\nresult2 = a + True        会自动将布尔型转换成1\nprint (result2,type(result2))\n</code></pre>\n<p>运行</p>\n<pre><code class=\"python\">&lt;class &#39;float&#39;&gt;\n11 &lt;class &#39;int&#39;&gt;\n</code></pre>\n<h4 id=\"2-强制转换\"><a href=\"#2-强制转换\" class=\"headerlink\" title=\"2.强制转换\"></a>2.强制转换</h4><ul>\n<li>基本语法：类型名（需要转换的数据）<h6 id=\"a-将其他数据转换成int型：浮点型、布尔和部分字符串\"><a href=\"#a-将其他数据转换成int型：浮点型、布尔和部分字符串\" class=\"headerlink\" title=\"a.将其他数据转换成int型：浮点型、布尔和部分字符串\"></a>a.将其他数据转换成int型：浮点型、布尔和部分字符串</h6><pre><code class=\"python\">print (int(12.5))        float---&gt;int:去掉小数点和小数点后面的数\nprint (int(True),int(False))    bool---&gt;int: 1   0\n</code></pre>\n运行<pre><code class=\"python\">12\n1 0\n</code></pre>\n</li>\n<li>去掉字符串的引号后，字符串的内容本身就是一个整数的时候，才能被转换成整型<pre><code class=\"python\">print (int(&#39;123&#39;))\nprint (int(&#39;-123&#39;))\nprint (int(&#39;122.5&#39;))     错误\nprint (int(&#39;123a&#39;))      错误\n</code></pre>\n运行<pre><code class=\"python\">123\n-123\n</code></pre>\n<h6 id=\"b-将其他的数据类型转换成flaot类型：整数、布尔和部分字符串\"><a href=\"#b-将其他的数据类型转换成flaot类型：整数、布尔和部分字符串\" class=\"headerlink\" title=\"b.将其他的数据类型转换成flaot类型：整数、布尔和部分字符串\"></a>b.将其他的数据类型转换成flaot类型：整数、布尔和部分字符串</h6><pre><code class=\"python\">print (float(10))             i\nnt----&gt;float:在整数后加.0\nprint (float(True))           bool---&gt;float:True:1.0,False:0.1\n</code></pre>\n</li>\n<li>去掉括号后，字符串的内容本身就是一个整数或者浮点数的时候，才能被转换成浮点型<pre><code class=\"python\">print (float(&#39;2e3&#39;),float(&#39;-12.3&#39;),float(&#39;10&#39;))\n</code></pre>\n<h6 id=\"c-将其他数据类型转换成bool：\"><a href=\"#c-将其他数据类型转换成bool：\" class=\"headerlink\" title=\"c.将其他数据类型转换成bool：\"></a>c.将其他数据类型转换成bool：</h6></li>\n<li>所有的数据类型都可以转换成bool</li>\n<li><p>数字中：除0是False,其他都是True</p>\n<ul>\n<li>字符串中：除了空串是False，其他都是True</li>\n</ul>\n</li>\n<li><p>总结：所有为空、为0的值全是False,否则就是True</p>\n<pre><code class=\"python\">print (bool(1),bool(-1),bool(1.1),bool(-1.25))\nprint (bool(0),bool(0.0))\nprint (bool(None),bool([]))\n</code></pre>\n<h5 id=\"d-其他数据类型转换成字符串，转换的时候就是在数据外面加引号\"><a href=\"#d-其他数据类型转换成字符串，转换的时候就是在数据外面加引号\" class=\"headerlink\" title=\"d.其他数据类型转换成字符串，转换的时候就是在数据外面加引号\"></a>d.其他数据类型转换成字符串，转换的时候就是在数据外面加引号</h5><pre><code class=\"python\">print (str(100),str(1.2),str(True),str([1,2,3]))\n</code></pre>\n<h2 id=\"二、if语句\"><a href=\"#二、if语句\" class=\"headerlink\" title=\"二、if语句\"></a>二、if语句</h2></li>\n</ul>\n<p>python中的分支结构只有一种：if分支结构</p>\n<h4 id=\"1-if\"><a href=\"#1-if\" class=\"headerlink\" title=\"1.if\"></a>1.if</h4><p>语法：<br> if 条件语句：<br> ——执行语句块<br>其他语句</p>\n<p> 说明：</p>\n<ul>\n<li><p>a.if：python中的关键字，‘如果’的意思，用来做判断的</p>\n<ul>\n<li>b.条件语句：最终结果会转换成布尔值</li>\n<li>c.冒号：冒号是固定语法，必须写！</li>\n<li>d.执行语句块：可以是多行语句，但是每行语句必须和前面的if保持一个缩进（一个tab/制表符）</li>\n</ul>\n</li>\n<li><p>执行过程：先判断条件语句的结果是否为True，如果是就执行冒号后面的语句块。否则，直接执行if模块后的其他语句</p>\n<pre><code class=\"python\">练习：用一个变量保存一个学生的成绩，要求：大学生\n  成绩大于90的时候，打印优秀，无论成绩多少，都打印\ngrade = 100\nif grade &gt; 90:\n print(&#39;优秀&#39;)\nprint (&#39;%d&#39; % (grade))\n</code></pre>\n<h4 id=\"2-if——else\"><a href=\"#2-if——else\" class=\"headerlink\" title=\"2.if——else\"></a>2.if——else</h4><p>语法：<br>if 条件语句：<br>——执行语句块1<br>else：<br>——执行语句块2<br>其他语句</p>\n<p>说明：</p>\n</li>\n<li>else：关键字（else后边的冒号不能省）</li>\n<li>执行过程：先判断条件语句的结果是否为Ture，如果是就执行语句块1，然后再执行其他语句； 如果为False，就执行语句块2，然后再执行其他语句<br><code>`</code>python<br>age = 20<br>if age &gt;= 18:<br> print (‘成年’)<br> print (‘可以进网吧’)<br>else:<br> print (‘未成年’)</li>\n</ul>\n<pre><code>#### 3.if_elif_else\n语法：\n if 条件语句1：\n——语句块1\n elif条件语句2：\n——语句块2\n elif 条件语句3：\n ——语句块3\n​      。。。\nelse:\n——语句块\n其他语句\n```python\n+要求成绩大于90分打印优秀，80-90打印良好，60-79打印及格，60以下不及格\ngrade = 80\nif grade &gt; 90:\n    print (&#39;优秀&#39;)\n\nelif grade &gt;=80:\n    print (&#39;良好&#39;)\n\nelif grade &gt;=60:\n    print (&#39;及格&#39;)\n\nelse:\n    print (&#39;不及格&#39;)\n​`\n</code></pre><pre><code> 练习\n\n```python\nage = 20\nif age &gt;= 18:\n    print (&#39;成年&#39;)\n    print (&#39;可以进网吧&#39;)\nelse:\n    print (&#39;未成年&#39;)\n</code></pre><h4 id=\"4-if语句的嵌套\"><a href=\"#4-if语句的嵌套\" class=\"headerlink\" title=\"4.if语句的嵌套\"></a>4.if语句的嵌套</h4><ul>\n<li>每个if分支中都可以嵌套其他的if语句<br>if 条件1：<br>——执行语句1<br>——if 条件2：<br>  ——执行语句2<br>——else：<br>  ——执行语句3<br>else：<br>——执行语句4<pre><code class=\"python\">成绩和年龄：如果成绩大于90并且年龄是18以上 就获奖100万；\n            年龄小于18岁，就获取奖金200万\n            成绩小于90，打印没有奖金\ngrade = 90\nage = 18\nif grade &gt;= 90:\n  if age &gt;=18:\n      print (&#39;100万&#39;)\n  else:\n      print (&#39;200万&#39;)\nelse:\n  print (&#39;没有奖金&#39;)\n</code></pre>\n</li>\n<li>练习：产生一个随机数(0-100)，判断随机数是否是偶数，如果是打印偶数，否则打印奇数；如果能被4整除，再打印能被4整除</li>\n</ul>\n<pre><code class=\"python\">import random\nnumber = random.randint(0,100)\nprint (&#39;随机数是：%d&#39; % (number))\nif number % 2 == 0:\n    print (&#39;偶数&#39;)\n    if number % 4 == 0:\n        print (&#39;能被4整除&#39;)\nelse:\n    print (&#39;奇数&#39;)\n</code></pre>\n<ul>\n<li><p>补充：</p>\n<p> import是python中导入模块或者模块中内容的关键字<br> random是python内置的产生随机数模块</p>\n<pre><code class=\"python\">import random\nnumber = random.randint(10,20)    产生一个10到20的随机数，并且存到number中\nprint (number)\n</code></pre>\n<h2 id=\"三、条件语句的简写\"><a href=\"#三、条件语句的简写\" class=\"headerlink\" title=\"三、条件语句的简写\"></a>三、条件语句的简写</h2><ul>\n<li>判断一个数是否是偶数的两种写法<pre><code class=\"python\">number = 10\nif number %2 == 0:\nprint (&#39;偶数&#39;)\n</code></pre>\n</li>\n</ul>\n</li>\n<li>推荐<br><code>`</code>python<br>if not number %2 :<br> print (‘偶数’)</li>\n</ul>\n<p>if number %2:<br>    print (‘奇数’)</p>\n<pre><code>+ 判断一个字符串是否是空串\n```python\nstr1 = &#39;abc&#39;\nif str ==&#39;&#39;:\n    print (&#39;空串&#39;)\nelse:\n    print (&#39;不是空串&#39;)\n</code></pre><ul>\n<li>推荐<pre><code class=\"python\">if str:\n  print (&#39;不是空串&#39;)\nelse:\n  print (&#39;是空串&#39;)\n</code></pre>\n<h2 id=\"四、for的循环\"><a href=\"#四、for的循环\" class=\"headerlink\" title=\"四、for的循环\"></a>四、for的循环</h2></li>\n</ul>\n<p>在完成某个功能的时候，如果需要重复某个操作，就可以使用循环</p>\n<p>python中的循环结构：for循环和while循环</p>\n<h6 id=\"1-for循环的结构：\"><a href=\"#1-for循环的结构：\" class=\"headerlink\" title=\"1.for循环的结构：\"></a>1.for循环的结构：</h6><p>for 变量名 in 序列：<br>——循环体</p>\n<p>说明：</p>\n<p>a.for:关键字</p>\n<p>b.变量名：和声明变量时的变量名的要求一样</p>\n<p>c.in:关键字</p>\n<p>d.序列：容器（数据本身是有多个数据组成），例如：字符串、列表、字典、元祖、range、生成式和生成器</p>\n<p>e.循环体：需要重复执行的代码</p>\n<p>执行过程：让变量去序列中一个一个取数据，取完为止。每取一次数据，执行一次循环体</p>\n<pre><code class=\"python\">for x in (&#39;123&#39;):\n    print (x)\n</code></pre>\n<p>range函数是python中内置函数，作用是产生指定范围中的数字</p>\n<p>xrange是python2中的函数，python3中用range来代替<br><strong>range(N):产生0~N-1的所有整数</strong><br><strong>range(N,M):产生N~M-1的所有整数</strong><br><strong>range(N,M,step):产生从N开始，每step产生一个整数，到M之前</strong></p>\n<pre><code class=\"python\">print (&#39;==========&#39;)\nfor x in range (10):\n    print (x)\n\nprint (&#39;==========&#39;)\nfor n in range (10,15):\n    print (n)\n\nprint (&#39;=========&#39;)\nfor x in range (1,11,2):\n    print (x)\n</code></pre>\n<ul>\n<li>练习：计算1+2+3+。。。+100<pre><code class=\"python\">number = 0\nfor x in range (1,101):\n  number += x\n  print (number)\n</code></pre>\n</li>\n<li>练习：统计1~1000中能够被三整除的数的个数</li>\n</ul>\n<pre><code class=\"python\">ste = 0\nfor x in range (1,1001):\n    if x %3 == 0:\n        print (&#39;%d 可以被三整除&#39; % (x))\n        ste += 1\nprint (&#39;1~1000中能被三整除的个数：%d&#39; % (ste))\n</code></pre>\n<ul>\n<li>注意：for 循环中用来获取序列值的变量，在循环体不是一定要使用. 如果不用，那么变量名可以声明为_<br>打印50行”***”<pre><code class=\"python\">for _ in range(50):\n print (&#39;***&#39;)\n</code></pre>\n</li>\n<li>1~10000中能被5整除的个数<pre><code class=\"python\">sum = 0\nfor x in range (1,10001):\n  if x %5 ==0:\n      sum += 1\nprint (&#39;1~10000中能被5整除的数的个数是：%d&#39; % (sum))\n</code></pre>\n</li>\n</ul>\n<pre><code class=\"python\"> (1,200)     7     个数\n\ndob = 0\nfor x in range (1,201):\n    if x %7 == 0:\n        dob += 1\nprint (dob)\n</code></pre>\n<h2 id=\"五、while循环\"><a href=\"#五、while循环\" class=\"headerlink\" title=\"五、while循环\"></a>五、while循环</h2><p><img src=\"https://upload-images.jianshu.io/upload_images/13692239-896ce7deb5a34539.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240\" alt=\"QQ截图20180823160402.png\"></p>\n<h6 id=\"1-结构：\"><a href=\"#1-结构：\" class=\"headerlink\" title=\"1.结构：\"></a>1.结构：</h6><p>while 条件语句:<br>​    循环体</p>\n<h6 id=\"2-说明：\"><a href=\"#2-说明：\" class=\"headerlink\" title=\"2.说明：\"></a>2.说明：</h6><p>while: 关键字<br>条件语句：结果是True或者False<br>循环体：要重复执行代码</p>\n<h6 id=\"3-执行过程：\"><a href=\"#3-执行过程：\" class=\"headerlink\" title=\"3.执行过程：\"></a>3.执行过程：</h6><pre><code>判断条件语句的结果是否为True，如果为True就执行循环体，执行完循环体再判断条件语句是否为True。。。。。，直到结果为False为止\n</code></pre><pre><code class=\"python\"> 1+2+3+...+100\nn = 0\nx = 1\nwhile x &lt;= 100:\n    n += x\n    x += 1\nprint (n)\n</code></pre>\n<pre><code class=\"python\">x = 1,n = 0\n1 &lt;= 100   True;n += x  0+1=n;x+=1  1+x=2\nx = 2,n = 0+1\n2 &lt;=100    True;n=0+1+x=0+1+2;x=1+x=3\n。。。\nx = 100，n = 0+1+2+...+99\nx &lt;= 100   True;n=0+1+。。。+100；x=1+x=101\n</code></pre>\n<ul>\n<li><p>练习：循环结束，x的值和n的值，分别是多少     x = 6, n = 2+3+4+5+6</p>\n<pre><code class=\"python\">x = 1\nn = 0\nwhile x &lt;= 5:\n  x += 1\n  n += x\nprint (n,x)\n</code></pre>\n<p>for 循环与while循环的比较<br><strong>for循环的循环次数是有限的，并且是确定的；while循环的循环次数不确定\n</strong> for循环：1.遍历序列中的值 2. 循环次数确定<br>while循环：1.死循环 2.循环次数不确定</p>\n</li>\n<li><p>练习：找大于10000的数中，第一个能够被23整除的数<br><code>`</code>python<br>x = 10001<br>while x %23 != 0:<br>  x += 1<br>print (x)</p>\n</li>\n</ul>\n<p><code>`</code></p>\n"},{"title":"正则表达式","date":"2017-03-26T12:08:29.000Z","author":"smile","_content":"\n#### 正则表达式\n+ 正则表达式就是检测字符串是否满足某种规则的工具\n  例如：账号是手机号/邮箱/多少位由什么东西组成的ect\n\n1.正则语法\n2.Python对正则表达式的支持，提供了一个内置模块：re\nfullmatch(正则表达式，字符串）：判断字符串是否符合正则表达式的规则\n\n+ 匹配任意字符\n  匹配一个字符串，只有一个字符并且是任意字符\n\n```python\nre_str = r'.'\nresult = fullmatch(re_str,'a')\nprint(result)\n```\n+ 匹配一个字符串，有两个任意字符\n\n```python\nre_str = r'..'\nresult = fullmatch(re_str,'an')\nprint(result)\n```\n+ 匹配一个字符串，前三位分别是abc，最后一位是任意字符\n\n```python\nre_str = r'abc.'\nresult = fullmatch(re_str,'abc@')\nprint(result)\n```\n+ \\w匹配字母数字下划线\n  匹配一个前三分别是abc，最后一位是字母数字，下划线其中的一种的字符串\n\n```python\nre_str = r'abc\\w'\nresult = fullmatch(re_str,'abc_')\nprint(result)\n```\n+ \\W匹配非字母数字下划线\n  匹配一个前三分别是abc，最后一位非字母数字，下划线的字符串\n\n```python\nre_str = r'abc\\W'\nresult = fullmatch(re_str,'abc_')\nprint(result)\n```\n+ \\s匹配空白字符（空白指空格、回车、制表符等所有你能产生空白的字符）\n  匹配一个字符串，前三个是字母数字下划线中的任意一种，最后一位是一个空白字符\n\n```python\nre_str = r'\\w\\w\\w\\s'\nresult = fullmatch(re_str,'a1_\\t')\nprint(result)\n```\n+ \\S匹配非空白字符（空白指空格、回车、制表符等所有你能产生空白的字符）\n  匹配一个字符串，前三个是字母数字下划线中的任意一种，最后一位非空白字符\n\n```python\nre_str = r'\\w\\w\\w\\S'\nresult = fullmatch(re_str,'a1_9')\nprint(result)\n```\n+ \\d匹配一个数字字符\n  匹配一个字符串，前三位是数字字符，最后一位是任意字符\n\n```python\nre_str = r'\\d\\d\\d.'\nresult = fullmatch(re_str,'151h')\nprint(result)\n```\n+ \\D匹配一个非数字字符\n  匹配一个字符串，前三位是非数字字符，最后一位是任意字符\n\n```python\nre_str = r'\\d\\d\\d.'\nresult = fullmatch(re_str,'acd1')\nprint(result)\n```\n+ \\b检测是否是单词边界（单词的开头 ，单词的结尾、单词和单词之间的标点，空格ect\n  注意：正则中遇到\\b，匹配的时候先不管他，匹配成功后再回头看\\b的位置是不是边界。\n  匹配一个字符串，前四位是when第五位是空白，空白后边是where，并且第四位n后面是单词边界\n\n```python\nre_str = r'when\\b\\swhere'\nresult = fullmatch(re_str,'when where')\nprint(result)\n```\n+ ^检测字符串是否是以给定的正则表达式,匹配字符串的开头\n\n```python\nre_str = r'\\d\\d\\d.'\nresult = fullmatch(re_str,'151h')\nprint(result)\nre_str = r'^m\\d\\d'\nresult = fullmatch(re_str,'m14')\nprint(result)\n```\n+ $检测字符串是否以给定的正则表达式结束\n  匹配一个字符串a数字，并且a数字是字符串的结尾\n\n```python\nre_str = r'a\\d$'\nresult = fullmatch(re_str,'a2')\nprint(result)\n\nresult = search(re_str,'a9aaa8')\nprint(result)\n```\n\n+ \\B检测非单词边界\n\n```python\nre_str = r'any\\Bwhere'\nresult = fullmatch(re_str,'anywhere')\nprint(result)\n```\n+ []匹配中括号出现的任意字符\n  注意：一个中括号只匹配一个字符\n  匹配一个三位的字符串，第一位是a或者b或者或者+，后面两位是数字\n\n```python\nre_str = r'[abc+]\\d\\d'\nresult = fullmatch(re_str,'+12')\nprint(result)\n```\n+ -在正则表达式中的中括号中的应用：如果将减号放到两个字符的中间代表的是谁到谁。如果想要表示'-'符号本身，就放到开头或者末尾\n  [1-8]代表的是：12345678\n  [-18]或者[18-]代表的是'1','-','8'\n  要求一个字符串中的第一位是1-8中的一个，后面两位是小写字母\n\n```python\nre_str = r'[1-8][a-z][a-z]'\nresult = fullmatch(re_str,'1bg')\nprint(result)\n\nre_str = r'[+!-][A-Z]'\nresult = fullmatch(re_str,'+A',)\nresult = fullmatch(re_str,'-B',)\nresult = fullmatch(re_str,'!C',)\nprint(result)\n```\n+ [^字符集]匹配不在[]字符集中的任意一个字符\n  匹配一个四位的字符串，第一位不是大写字母也不是数字，后三位是abc\n\n```python\nre_str = r'[^A-Z\\d]abc'\nresult = fullmatch(re_str,'+abc')\nprint(result)\n```\n+ *匹配0次或者多次\n\n```python\nre_str = r'a*b'   # 'b','ab','aab',.....以此类推\nresult = fullmatch(re_str,'aaaaaaaaaaab')\nre_str = r'\\d*'\nre_str = r'[abc]*'   # 'a','abbccbaababa',''\nprint(result)\n```\n+ +匹配一次或者多次，与* 类似\n  判断一个字符串是否是无符号的正整数\n\n```python\nre_str = r'[1-9]+\\d*'\nresult = fullmatch(re_str,'110')\nprint(result)\n```\n+ ？ 匹配0次或者一次\n\n```python\nre_str = r'@?\\d+'\nresult = fullmatch(re_str,'@16723')\nprint(result)\n```\n+ 判断一个字符串是否是整数\n\n```python\nre_str = r'[+-]?[0-9]\\d*'\nresult = fullmatch(re_str,'0')\nprint(result)\n```\n+ {N}匹配N次,就只有N位字符\n\n```python\nre_str = r'\\d{3}'\nresult = fullmatch(re_str,'123')\nprint(result)\n```\n+ {N,} 至少匹配N次\n\n```python\nre_str = r'\\w{3,}'\nresult = fullmatch(re_str,'1234sda__')\nprint(result)\n```\n+ {,N} 最多匹配N次\n\n```python\nre_str = r'a{,2}b'\nresult = fullmatch(re_str,'b')\nresult = fullmatch(re_str,'ab')\nresult = fullmatch(re_str,'aab')\nresult = fullmatch(re_str,'aaab')\nprint(result)\n```\n+ {M,N} 匹配至少M次，最多N次（M<N）\n\n```python\nre_str = r'a{1,2}b'\nresult = fullmatch(re_str,'ab')\nprint(result)\n```\n注意：次数相关的操作，都是约束的次数符号前的一个字符\n+ | 分支（相当于逻辑运算中的or）\n  匹配一个字符串是三个字母，或者是三个数字\n\n```python\nre_str = r'[A-Za-z]{3}|\\d{3}'\nre_str1 = r'\\d{3}[A-Za-z]{3}|\\d{3}'\n# \\d{3}[A-Za-z]当做分支的一个整体的条件，|分支的左边部分是一个整体，右边是一个整体\nresult = fullmatch(re_str,'abg')\nprint(result)\n```\n 正则中分支有短路操作：如果使用|去连接多个条件，前面的条件已经符合，就不会使用后面的条件再去匹配了\n#####   练习：写一个正则表达式，能够匹配出字符串中所有的数字（包括整数和小数）\n```python\n# re_str = r'[1-9]\\d*[.]?\\d*|0[.]\\d+'\n# result = fullmatch(re_str,'0.12')\n# print(result)\nstr1 = 'absx12.2ss2.03s40,60aas50,asd6.23,952asd'\nre_str = r'[\\d.]+'\n# '\\d+[.]\\d+' 与'[1-9]\\d*'的位置不同，输出的结果也有可能不一样\nresult = findall(re_str,str1)\nprint('======================')\nprint(result)\n```\n+ 分组\n  通过加（）来对正则条件进行分组\n  两位数字两位字母出现三次\n\n```python\nre_str = r'([a-z]{2}\\d{2}){3}'\nresult = fullmatch(re_str,'as12df52er63')\nprint(result)\n```\n+ 重复\n  可以通过\\数字来重复匹配前面的括号中匹配的结果.数字的值代表前面的第几个分组\n\n```python\nre_str = r'(\\d{2}[A-Z])=%\\1\\1'\nresult = fullmatch(re_str,'23B=%23B23B')\nprint(result)\nre_str = r'(\\d{2})\\+(\\w)\\1{2}\\2'\nresult = fullmatch(re_str,'12+a1212a')\nprint('++++++++++++++++++++')\nprint(result)\n```\n+ 捕获\n  按照完整的正则表达式去匹配，只捕获（）中的内容，只有在findall中有效\n\n```python\nre_str = r'a(\\d{3})b'\nresult = fullmatch(re_str,'a786b')\nprint(result)\nprint(findall(re_str,'a786b'))\n```\n```python\n# 用户名由字母数字下划线组成的6-20位\nuser= input('用户名：')\nQQ = input('qq:')\nre_str = r'\\w{6,20}'\nresult = fullmatch(re_str,user)\nif result == None:\n    print('用户名不合格，请重新输入')\nelse:\n    print('用户名：%s 合格'% user)\n\n# QQ由数字组成并且第一位不能是0\nre_str = r'[1,9]+\\d{4,11}'\nresult = fullmatch(re_str,QQ)\nif result == None:\n    print('用户名不合格，请重新输入')\nelse:\n    print('用户名：%s 合格'% QQ)\n```\n####  正则中的转义\n\n1.正则表达式中的转义和字符串中的转义字符没有任何关系，\n在Python中的字符串前加r阻止的是字符串的转义，不能阻止正则表达式的转义\n2.在正则表达式中，可以通过在特殊意义的符号前加\\来表示符号本身\n\\+  \\.  \\*  \\?   \\\\  \\( \\)   \\[ \\]  \\^  \\$  \\|\n注意：\na. - 号只有在中括号中的两个字符之间才有特殊的意义\nb.如果特殊符号放到[]中，作为字符集的内容，那么除了- 号在两个字符之间以外，其他的都不需要转义\nc.\\ 不管在哪都需要转义，^放到 中括号的最前需要转义\n\n```python\nre_str = r'a\\+}'\nresult = fullmatch(re_str,'a\\+')\nprint(result)\n\nre_str = r'\\+a'\nresult = fullmatch(re_str,'+a')\nprint(result)\n\nre_str = r'\\\\w-a'\nresult = fullmatch(re_str,'\\w-a')\nprint(result)\n\nre_str = r'\\(\\d{3}'\nresult = fullmatch(re_str,'(234')\nprint(result)\n```\n####  re模块\n1.compile(正则表达式)：将正则表达式转换成正则表达式对象\n```python\nre_str = r'\\d+'\nre_object = re.compile(re_str)\nprint(re_object)\n```\n```python\n# 不转成对象，调用相应的函数\nre.match(re_str,'78hj')\n# 转换成对象，调用相应的方法\nre_object.fullmatch('78hj')\n```\n2.match(正则表达式，字符串)和fullmatch\n判断字符串的开头是否能够和正则表达式匹配\nfullmatch：判断整个字符串是否能够和正则表达式匹配\n```python\nre_str = r'abc\\d{3}'\nresult1 = re.match(re_str,'abc234dafdad')\nresult2 = re.fullmatch(re_str,'abc234')\nprint(result1)\nprint(result2)\n```\n```python\n# a.匹配范围,匹配结果字符的下标范围:（起始下标，结束下标）---- 结束下标取不到\nprint(result2.span())\n# 获取起点\nprint(result1.start())\n# 获取终点\nprint(result1.end())\n```\n注意：group参数，用来指定分组对应的相应的结果\n```python\nre_str = r'(\\d{3})\\+([A-z]{3})'\nmatch1 = re.match(re_str,'123+abcgg')\nprint(match1)\nprint(match1.span())\n# 在匹配中，获取第一个分组的范围\nprint(match1.span(1))\n# 在匹配中，获取第二个分组的范围\nprint(match1.span(2))\n\n# 在匹配结果中，获取第二个分组的起始下标\nprint(match1.start(2))\n\n# b.获取匹配结果对应的字符串\nprint(match1.group())\nprint(match1.group(1))\n\n# c.获取被匹配的原字符串\nprint(match1.string)\n```\n+ search（正则表达式，字符串）\n  在字符串中去查找第一个满足正则表达式的子串，如果找到就返回匹配对象，找不到返回None\n\n```python\nsearch1 = re.search(r'\\d+aa','he9aasda 78aadvsf world')\nprint(search1)\nif search1:\n    print(search1.span())\n```\n练习：使用search将一个字符串所有的数字字符串全部找到\n ’工资10000元，年龄18岁，身高180，颜值100‘\n```python\nstr1 = '工资10000元，年龄18岁，身高180，颜值100'\nre_str = r'[1-9]\\d*'\nsearch1 = re.search(re_str,str1)\nwhile search1:\n    print(search1.group())\n    end = search1.end()\n    str1 = str1[end:]\n    search1 = re.search(re_str,str1)\n```\n+ split（正则表达式，字符串）\n  按满足正则表达式的子串去切割字符串\n\n```python\nstr1 = '床前明月光，疑是地上霜。举头望明月，低头思故乡！'\nresult = re.split(r'[,。，！]',str1)\nresult = re.split(r'\\W',str1)\nprint(result)\n```\n中文也在\\w的范围内\n+ sub（正则表达式，替换字符串，被替换的字符串）\n\n```python\nword = '你丫是傻叉吗？我草拟大爷的，Fuck you'\nresult2 = re.sub(r'傻叉|草|大爷|Fuck|傻逼','*',word)\nprint(result2)\n```\n+ findall（正则表达式，字符串）\n\n```python\n# 获取字符串中所有满足正则表达式的子串\n# 返回值是列表\n# 注意：分组中的捕获效果在这儿有效\nresult = re.findall(r'\\d([a-z])+','数据的恐怖残5and,125name按贷款')\n# 取的字符串是正则表达式最后一个字符\nresult1 = re.findall(r'\\d([a-z]+)','数据的恐怖残5and,125name按贷款')\n# 取的字符串是正则表达式中的后一个分组\nprint(result)\nprint(result1)\n```","source":"_posts/python/正则表达式.md","raw":"---\ntitle: 正则表达式\ndate: 2017-03-26 20:08:29\nauthor: smile\ncategories: Python\ntags:\n---\n\n#### 正则表达式\n+ 正则表达式就是检测字符串是否满足某种规则的工具\n  例如：账号是手机号/邮箱/多少位由什么东西组成的ect\n\n1.正则语法\n2.Python对正则表达式的支持，提供了一个内置模块：re\nfullmatch(正则表达式，字符串）：判断字符串是否符合正则表达式的规则\n\n+ 匹配任意字符\n  匹配一个字符串，只有一个字符并且是任意字符\n\n```python\nre_str = r'.'\nresult = fullmatch(re_str,'a')\nprint(result)\n```\n+ 匹配一个字符串，有两个任意字符\n\n```python\nre_str = r'..'\nresult = fullmatch(re_str,'an')\nprint(result)\n```\n+ 匹配一个字符串，前三位分别是abc，最后一位是任意字符\n\n```python\nre_str = r'abc.'\nresult = fullmatch(re_str,'abc@')\nprint(result)\n```\n+ \\w匹配字母数字下划线\n  匹配一个前三分别是abc，最后一位是字母数字，下划线其中的一种的字符串\n\n```python\nre_str = r'abc\\w'\nresult = fullmatch(re_str,'abc_')\nprint(result)\n```\n+ \\W匹配非字母数字下划线\n  匹配一个前三分别是abc，最后一位非字母数字，下划线的字符串\n\n```python\nre_str = r'abc\\W'\nresult = fullmatch(re_str,'abc_')\nprint(result)\n```\n+ \\s匹配空白字符（空白指空格、回车、制表符等所有你能产生空白的字符）\n  匹配一个字符串，前三个是字母数字下划线中的任意一种，最后一位是一个空白字符\n\n```python\nre_str = r'\\w\\w\\w\\s'\nresult = fullmatch(re_str,'a1_\\t')\nprint(result)\n```\n+ \\S匹配非空白字符（空白指空格、回车、制表符等所有你能产生空白的字符）\n  匹配一个字符串，前三个是字母数字下划线中的任意一种，最后一位非空白字符\n\n```python\nre_str = r'\\w\\w\\w\\S'\nresult = fullmatch(re_str,'a1_9')\nprint(result)\n```\n+ \\d匹配一个数字字符\n  匹配一个字符串，前三位是数字字符，最后一位是任意字符\n\n```python\nre_str = r'\\d\\d\\d.'\nresult = fullmatch(re_str,'151h')\nprint(result)\n```\n+ \\D匹配一个非数字字符\n  匹配一个字符串，前三位是非数字字符，最后一位是任意字符\n\n```python\nre_str = r'\\d\\d\\d.'\nresult = fullmatch(re_str,'acd1')\nprint(result)\n```\n+ \\b检测是否是单词边界（单词的开头 ，单词的结尾、单词和单词之间的标点，空格ect\n  注意：正则中遇到\\b，匹配的时候先不管他，匹配成功后再回头看\\b的位置是不是边界。\n  匹配一个字符串，前四位是when第五位是空白，空白后边是where，并且第四位n后面是单词边界\n\n```python\nre_str = r'when\\b\\swhere'\nresult = fullmatch(re_str,'when where')\nprint(result)\n```\n+ ^检测字符串是否是以给定的正则表达式,匹配字符串的开头\n\n```python\nre_str = r'\\d\\d\\d.'\nresult = fullmatch(re_str,'151h')\nprint(result)\nre_str = r'^m\\d\\d'\nresult = fullmatch(re_str,'m14')\nprint(result)\n```\n+ $检测字符串是否以给定的正则表达式结束\n  匹配一个字符串a数字，并且a数字是字符串的结尾\n\n```python\nre_str = r'a\\d$'\nresult = fullmatch(re_str,'a2')\nprint(result)\n\nresult = search(re_str,'a9aaa8')\nprint(result)\n```\n\n+ \\B检测非单词边界\n\n```python\nre_str = r'any\\Bwhere'\nresult = fullmatch(re_str,'anywhere')\nprint(result)\n```\n+ []匹配中括号出现的任意字符\n  注意：一个中括号只匹配一个字符\n  匹配一个三位的字符串，第一位是a或者b或者或者+，后面两位是数字\n\n```python\nre_str = r'[abc+]\\d\\d'\nresult = fullmatch(re_str,'+12')\nprint(result)\n```\n+ -在正则表达式中的中括号中的应用：如果将减号放到两个字符的中间代表的是谁到谁。如果想要表示'-'符号本身，就放到开头或者末尾\n  [1-8]代表的是：12345678\n  [-18]或者[18-]代表的是'1','-','8'\n  要求一个字符串中的第一位是1-8中的一个，后面两位是小写字母\n\n```python\nre_str = r'[1-8][a-z][a-z]'\nresult = fullmatch(re_str,'1bg')\nprint(result)\n\nre_str = r'[+!-][A-Z]'\nresult = fullmatch(re_str,'+A',)\nresult = fullmatch(re_str,'-B',)\nresult = fullmatch(re_str,'!C',)\nprint(result)\n```\n+ [^字符集]匹配不在[]字符集中的任意一个字符\n  匹配一个四位的字符串，第一位不是大写字母也不是数字，后三位是abc\n\n```python\nre_str = r'[^A-Z\\d]abc'\nresult = fullmatch(re_str,'+abc')\nprint(result)\n```\n+ *匹配0次或者多次\n\n```python\nre_str = r'a*b'   # 'b','ab','aab',.....以此类推\nresult = fullmatch(re_str,'aaaaaaaaaaab')\nre_str = r'\\d*'\nre_str = r'[abc]*'   # 'a','abbccbaababa',''\nprint(result)\n```\n+ +匹配一次或者多次，与* 类似\n  判断一个字符串是否是无符号的正整数\n\n```python\nre_str = r'[1-9]+\\d*'\nresult = fullmatch(re_str,'110')\nprint(result)\n```\n+ ？ 匹配0次或者一次\n\n```python\nre_str = r'@?\\d+'\nresult = fullmatch(re_str,'@16723')\nprint(result)\n```\n+ 判断一个字符串是否是整数\n\n```python\nre_str = r'[+-]?[0-9]\\d*'\nresult = fullmatch(re_str,'0')\nprint(result)\n```\n+ {N}匹配N次,就只有N位字符\n\n```python\nre_str = r'\\d{3}'\nresult = fullmatch(re_str,'123')\nprint(result)\n```\n+ {N,} 至少匹配N次\n\n```python\nre_str = r'\\w{3,}'\nresult = fullmatch(re_str,'1234sda__')\nprint(result)\n```\n+ {,N} 最多匹配N次\n\n```python\nre_str = r'a{,2}b'\nresult = fullmatch(re_str,'b')\nresult = fullmatch(re_str,'ab')\nresult = fullmatch(re_str,'aab')\nresult = fullmatch(re_str,'aaab')\nprint(result)\n```\n+ {M,N} 匹配至少M次，最多N次（M<N）\n\n```python\nre_str = r'a{1,2}b'\nresult = fullmatch(re_str,'ab')\nprint(result)\n```\n注意：次数相关的操作，都是约束的次数符号前的一个字符\n+ | 分支（相当于逻辑运算中的or）\n  匹配一个字符串是三个字母，或者是三个数字\n\n```python\nre_str = r'[A-Za-z]{3}|\\d{3}'\nre_str1 = r'\\d{3}[A-Za-z]{3}|\\d{3}'\n# \\d{3}[A-Za-z]当做分支的一个整体的条件，|分支的左边部分是一个整体，右边是一个整体\nresult = fullmatch(re_str,'abg')\nprint(result)\n```\n 正则中分支有短路操作：如果使用|去连接多个条件，前面的条件已经符合，就不会使用后面的条件再去匹配了\n#####   练习：写一个正则表达式，能够匹配出字符串中所有的数字（包括整数和小数）\n```python\n# re_str = r'[1-9]\\d*[.]?\\d*|0[.]\\d+'\n# result = fullmatch(re_str,'0.12')\n# print(result)\nstr1 = 'absx12.2ss2.03s40,60aas50,asd6.23,952asd'\nre_str = r'[\\d.]+'\n# '\\d+[.]\\d+' 与'[1-9]\\d*'的位置不同，输出的结果也有可能不一样\nresult = findall(re_str,str1)\nprint('======================')\nprint(result)\n```\n+ 分组\n  通过加（）来对正则条件进行分组\n  两位数字两位字母出现三次\n\n```python\nre_str = r'([a-z]{2}\\d{2}){3}'\nresult = fullmatch(re_str,'as12df52er63')\nprint(result)\n```\n+ 重复\n  可以通过\\数字来重复匹配前面的括号中匹配的结果.数字的值代表前面的第几个分组\n\n```python\nre_str = r'(\\d{2}[A-Z])=%\\1\\1'\nresult = fullmatch(re_str,'23B=%23B23B')\nprint(result)\nre_str = r'(\\d{2})\\+(\\w)\\1{2}\\2'\nresult = fullmatch(re_str,'12+a1212a')\nprint('++++++++++++++++++++')\nprint(result)\n```\n+ 捕获\n  按照完整的正则表达式去匹配，只捕获（）中的内容，只有在findall中有效\n\n```python\nre_str = r'a(\\d{3})b'\nresult = fullmatch(re_str,'a786b')\nprint(result)\nprint(findall(re_str,'a786b'))\n```\n```python\n# 用户名由字母数字下划线组成的6-20位\nuser= input('用户名：')\nQQ = input('qq:')\nre_str = r'\\w{6,20}'\nresult = fullmatch(re_str,user)\nif result == None:\n    print('用户名不合格，请重新输入')\nelse:\n    print('用户名：%s 合格'% user)\n\n# QQ由数字组成并且第一位不能是0\nre_str = r'[1,9]+\\d{4,11}'\nresult = fullmatch(re_str,QQ)\nif result == None:\n    print('用户名不合格，请重新输入')\nelse:\n    print('用户名：%s 合格'% QQ)\n```\n####  正则中的转义\n\n1.正则表达式中的转义和字符串中的转义字符没有任何关系，\n在Python中的字符串前加r阻止的是字符串的转义，不能阻止正则表达式的转义\n2.在正则表达式中，可以通过在特殊意义的符号前加\\来表示符号本身\n\\+  \\.  \\*  \\?   \\\\  \\( \\)   \\[ \\]  \\^  \\$  \\|\n注意：\na. - 号只有在中括号中的两个字符之间才有特殊的意义\nb.如果特殊符号放到[]中，作为字符集的内容，那么除了- 号在两个字符之间以外，其他的都不需要转义\nc.\\ 不管在哪都需要转义，^放到 中括号的最前需要转义\n\n```python\nre_str = r'a\\+}'\nresult = fullmatch(re_str,'a\\+')\nprint(result)\n\nre_str = r'\\+a'\nresult = fullmatch(re_str,'+a')\nprint(result)\n\nre_str = r'\\\\w-a'\nresult = fullmatch(re_str,'\\w-a')\nprint(result)\n\nre_str = r'\\(\\d{3}'\nresult = fullmatch(re_str,'(234')\nprint(result)\n```\n####  re模块\n1.compile(正则表达式)：将正则表达式转换成正则表达式对象\n```python\nre_str = r'\\d+'\nre_object = re.compile(re_str)\nprint(re_object)\n```\n```python\n# 不转成对象，调用相应的函数\nre.match(re_str,'78hj')\n# 转换成对象，调用相应的方法\nre_object.fullmatch('78hj')\n```\n2.match(正则表达式，字符串)和fullmatch\n判断字符串的开头是否能够和正则表达式匹配\nfullmatch：判断整个字符串是否能够和正则表达式匹配\n```python\nre_str = r'abc\\d{3}'\nresult1 = re.match(re_str,'abc234dafdad')\nresult2 = re.fullmatch(re_str,'abc234')\nprint(result1)\nprint(result2)\n```\n```python\n# a.匹配范围,匹配结果字符的下标范围:（起始下标，结束下标）---- 结束下标取不到\nprint(result2.span())\n# 获取起点\nprint(result1.start())\n# 获取终点\nprint(result1.end())\n```\n注意：group参数，用来指定分组对应的相应的结果\n```python\nre_str = r'(\\d{3})\\+([A-z]{3})'\nmatch1 = re.match(re_str,'123+abcgg')\nprint(match1)\nprint(match1.span())\n# 在匹配中，获取第一个分组的范围\nprint(match1.span(1))\n# 在匹配中，获取第二个分组的范围\nprint(match1.span(2))\n\n# 在匹配结果中，获取第二个分组的起始下标\nprint(match1.start(2))\n\n# b.获取匹配结果对应的字符串\nprint(match1.group())\nprint(match1.group(1))\n\n# c.获取被匹配的原字符串\nprint(match1.string)\n```\n+ search（正则表达式，字符串）\n  在字符串中去查找第一个满足正则表达式的子串，如果找到就返回匹配对象，找不到返回None\n\n```python\nsearch1 = re.search(r'\\d+aa','he9aasda 78aadvsf world')\nprint(search1)\nif search1:\n    print(search1.span())\n```\n练习：使用search将一个字符串所有的数字字符串全部找到\n ’工资10000元，年龄18岁，身高180，颜值100‘\n```python\nstr1 = '工资10000元，年龄18岁，身高180，颜值100'\nre_str = r'[1-9]\\d*'\nsearch1 = re.search(re_str,str1)\nwhile search1:\n    print(search1.group())\n    end = search1.end()\n    str1 = str1[end:]\n    search1 = re.search(re_str,str1)\n```\n+ split（正则表达式，字符串）\n  按满足正则表达式的子串去切割字符串\n\n```python\nstr1 = '床前明月光，疑是地上霜。举头望明月，低头思故乡！'\nresult = re.split(r'[,。，！]',str1)\nresult = re.split(r'\\W',str1)\nprint(result)\n```\n中文也在\\w的范围内\n+ sub（正则表达式，替换字符串，被替换的字符串）\n\n```python\nword = '你丫是傻叉吗？我草拟大爷的，Fuck you'\nresult2 = re.sub(r'傻叉|草|大爷|Fuck|傻逼','*',word)\nprint(result2)\n```\n+ findall（正则表达式，字符串）\n\n```python\n# 获取字符串中所有满足正则表达式的子串\n# 返回值是列表\n# 注意：分组中的捕获效果在这儿有效\nresult = re.findall(r'\\d([a-z])+','数据的恐怖残5and,125name按贷款')\n# 取的字符串是正则表达式最后一个字符\nresult1 = re.findall(r'\\d([a-z]+)','数据的恐怖残5and,125name按贷款')\n# 取的字符串是正则表达式中的后一个分组\nprint(result)\nprint(result1)\n```","slug":"python/正则表达式","published":1,"updated":"2019-03-14T01:41:31.053Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjt87kqkm0029r8r6728t3usx","content":"<h4 id=\"正则表达式\"><a href=\"#正则表达式\" class=\"headerlink\" title=\"正则表达式\"></a>正则表达式</h4><ul>\n<li>正则表达式就是检测字符串是否满足某种规则的工具<br>例如：账号是手机号/邮箱/多少位由什么东西组成的ect</li>\n</ul>\n<p>1.正则语法<br>2.Python对正则表达式的支持，提供了一个内置模块：re<br>fullmatch(正则表达式，字符串）：判断字符串是否符合正则表达式的规则</p>\n<ul>\n<li>匹配任意字符<br>匹配一个字符串，只有一个字符并且是任意字符</li>\n</ul>\n<pre class=\" language-python\"><code class=\"language-python\">re_str <span class=\"token operator\">=</span> r<span class=\"token string\">'.'</span>\nresult <span class=\"token operator\">=</span> fullmatch<span class=\"token punctuation\">(</span>re_str<span class=\"token punctuation\">,</span><span class=\"token string\">'a'</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>result<span class=\"token punctuation\">)</span>\n</code></pre>\n<ul>\n<li>匹配一个字符串，有两个任意字符</li>\n</ul>\n<pre class=\" language-python\"><code class=\"language-python\">re_str <span class=\"token operator\">=</span> r<span class=\"token string\">'..'</span>\nresult <span class=\"token operator\">=</span> fullmatch<span class=\"token punctuation\">(</span>re_str<span class=\"token punctuation\">,</span><span class=\"token string\">'an'</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>result<span class=\"token punctuation\">)</span>\n</code></pre>\n<ul>\n<li>匹配一个字符串，前三位分别是abc，最后一位是任意字符</li>\n</ul>\n<pre class=\" language-python\"><code class=\"language-python\">re_str <span class=\"token operator\">=</span> r<span class=\"token string\">'abc.'</span>\nresult <span class=\"token operator\">=</span> fullmatch<span class=\"token punctuation\">(</span>re_str<span class=\"token punctuation\">,</span><span class=\"token string\">'abc@'</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>result<span class=\"token punctuation\">)</span>\n</code></pre>\n<ul>\n<li>\\w匹配字母数字下划线<br>匹配一个前三分别是abc，最后一位是字母数字，下划线其中的一种的字符串</li>\n</ul>\n<pre class=\" language-python\"><code class=\"language-python\">re_str <span class=\"token operator\">=</span> r<span class=\"token string\">'abc\\w'</span>\nresult <span class=\"token operator\">=</span> fullmatch<span class=\"token punctuation\">(</span>re_str<span class=\"token punctuation\">,</span><span class=\"token string\">'abc_'</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>result<span class=\"token punctuation\">)</span>\n</code></pre>\n<ul>\n<li>\\W匹配非字母数字下划线<br>匹配一个前三分别是abc，最后一位非字母数字，下划线的字符串</li>\n</ul>\n<pre class=\" language-python\"><code class=\"language-python\">re_str <span class=\"token operator\">=</span> r<span class=\"token string\">'abc\\W'</span>\nresult <span class=\"token operator\">=</span> fullmatch<span class=\"token punctuation\">(</span>re_str<span class=\"token punctuation\">,</span><span class=\"token string\">'abc_'</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>result<span class=\"token punctuation\">)</span>\n</code></pre>\n<ul>\n<li>\\s匹配空白字符（空白指空格、回车、制表符等所有你能产生空白的字符）<br>匹配一个字符串，前三个是字母数字下划线中的任意一种，最后一位是一个空白字符</li>\n</ul>\n<pre class=\" language-python\"><code class=\"language-python\">re_str <span class=\"token operator\">=</span> r<span class=\"token string\">'\\w\\w\\w\\s'</span>\nresult <span class=\"token operator\">=</span> fullmatch<span class=\"token punctuation\">(</span>re_str<span class=\"token punctuation\">,</span><span class=\"token string\">'a1_\\t'</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>result<span class=\"token punctuation\">)</span>\n</code></pre>\n<ul>\n<li>\\S匹配非空白字符（空白指空格、回车、制表符等所有你能产生空白的字符）<br>匹配一个字符串，前三个是字母数字下划线中的任意一种，最后一位非空白字符</li>\n</ul>\n<pre class=\" language-python\"><code class=\"language-python\">re_str <span class=\"token operator\">=</span> r<span class=\"token string\">'\\w\\w\\w\\S'</span>\nresult <span class=\"token operator\">=</span> fullmatch<span class=\"token punctuation\">(</span>re_str<span class=\"token punctuation\">,</span><span class=\"token string\">'a1_9'</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>result<span class=\"token punctuation\">)</span>\n</code></pre>\n<ul>\n<li>\\d匹配一个数字字符<br>匹配一个字符串，前三位是数字字符，最后一位是任意字符</li>\n</ul>\n<pre class=\" language-python\"><code class=\"language-python\">re_str <span class=\"token operator\">=</span> r<span class=\"token string\">'\\d\\d\\d.'</span>\nresult <span class=\"token operator\">=</span> fullmatch<span class=\"token punctuation\">(</span>re_str<span class=\"token punctuation\">,</span><span class=\"token string\">'151h'</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>result<span class=\"token punctuation\">)</span>\n</code></pre>\n<ul>\n<li>\\D匹配一个非数字字符<br>匹配一个字符串，前三位是非数字字符，最后一位是任意字符</li>\n</ul>\n<pre class=\" language-python\"><code class=\"language-python\">re_str <span class=\"token operator\">=</span> r<span class=\"token string\">'\\d\\d\\d.'</span>\nresult <span class=\"token operator\">=</span> fullmatch<span class=\"token punctuation\">(</span>re_str<span class=\"token punctuation\">,</span><span class=\"token string\">'acd1'</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>result<span class=\"token punctuation\">)</span>\n</code></pre>\n<ul>\n<li>\\b检测是否是单词边界（单词的开头 ，单词的结尾、单词和单词之间的标点，空格ect<br>注意：正则中遇到\\b，匹配的时候先不管他，匹配成功后再回头看\\b的位置是不是边界。<br>匹配一个字符串，前四位是when第五位是空白，空白后边是where，并且第四位n后面是单词边界</li>\n</ul>\n<pre class=\" language-python\"><code class=\"language-python\">re_str <span class=\"token operator\">=</span> r<span class=\"token string\">'when\\b\\swhere'</span>\nresult <span class=\"token operator\">=</span> fullmatch<span class=\"token punctuation\">(</span>re_str<span class=\"token punctuation\">,</span><span class=\"token string\">'when where'</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>result<span class=\"token punctuation\">)</span>\n</code></pre>\n<ul>\n<li>^检测字符串是否是以给定的正则表达式,匹配字符串的开头</li>\n</ul>\n<pre class=\" language-python\"><code class=\"language-python\">re_str <span class=\"token operator\">=</span> r<span class=\"token string\">'\\d\\d\\d.'</span>\nresult <span class=\"token operator\">=</span> fullmatch<span class=\"token punctuation\">(</span>re_str<span class=\"token punctuation\">,</span><span class=\"token string\">'151h'</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>result<span class=\"token punctuation\">)</span>\nre_str <span class=\"token operator\">=</span> r<span class=\"token string\">'^m\\d\\d'</span>\nresult <span class=\"token operator\">=</span> fullmatch<span class=\"token punctuation\">(</span>re_str<span class=\"token punctuation\">,</span><span class=\"token string\">'m14'</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>result<span class=\"token punctuation\">)</span>\n</code></pre>\n<ul>\n<li>$检测字符串是否以给定的正则表达式结束<br>匹配一个字符串a数字，并且a数字是字符串的结尾</li>\n</ul>\n<pre class=\" language-python\"><code class=\"language-python\">re_str <span class=\"token operator\">=</span> r<span class=\"token string\">'a\\d$'</span>\nresult <span class=\"token operator\">=</span> fullmatch<span class=\"token punctuation\">(</span>re_str<span class=\"token punctuation\">,</span><span class=\"token string\">'a2'</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>result<span class=\"token punctuation\">)</span>\n\nresult <span class=\"token operator\">=</span> search<span class=\"token punctuation\">(</span>re_str<span class=\"token punctuation\">,</span><span class=\"token string\">'a9aaa8'</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>result<span class=\"token punctuation\">)</span>\n</code></pre>\n<ul>\n<li>\\B检测非单词边界</li>\n</ul>\n<pre class=\" language-python\"><code class=\"language-python\">re_str <span class=\"token operator\">=</span> r<span class=\"token string\">'any\\Bwhere'</span>\nresult <span class=\"token operator\">=</span> fullmatch<span class=\"token punctuation\">(</span>re_str<span class=\"token punctuation\">,</span><span class=\"token string\">'anywhere'</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>result<span class=\"token punctuation\">)</span>\n</code></pre>\n<ul>\n<li>[]匹配中括号出现的任意字符<br>注意：一个中括号只匹配一个字符<br>匹配一个三位的字符串，第一位是a或者b或者或者+，后面两位是数字</li>\n</ul>\n<pre class=\" language-python\"><code class=\"language-python\">re_str <span class=\"token operator\">=</span> r<span class=\"token string\">'[abc+]\\d\\d'</span>\nresult <span class=\"token operator\">=</span> fullmatch<span class=\"token punctuation\">(</span>re_str<span class=\"token punctuation\">,</span><span class=\"token string\">'+12'</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>result<span class=\"token punctuation\">)</span>\n</code></pre>\n<ul>\n<li>-在正则表达式中的中括号中的应用：如果将减号放到两个字符的中间代表的是谁到谁。如果想要表示’-‘符号本身，就放到开头或者末尾<br>[1-8]代表的是：12345678<br>[-18]或者[18-]代表的是’1’,’-‘,’8’<br>要求一个字符串中的第一位是1-8中的一个，后面两位是小写字母</li>\n</ul>\n<pre class=\" language-python\"><code class=\"language-python\">re_str <span class=\"token operator\">=</span> r<span class=\"token string\">'[1-8][a-z][a-z]'</span>\nresult <span class=\"token operator\">=</span> fullmatch<span class=\"token punctuation\">(</span>re_str<span class=\"token punctuation\">,</span><span class=\"token string\">'1bg'</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>result<span class=\"token punctuation\">)</span>\n\nre_str <span class=\"token operator\">=</span> r<span class=\"token string\">'[+!-][A-Z]'</span>\nresult <span class=\"token operator\">=</span> fullmatch<span class=\"token punctuation\">(</span>re_str<span class=\"token punctuation\">,</span><span class=\"token string\">'+A'</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">)</span>\nresult <span class=\"token operator\">=</span> fullmatch<span class=\"token punctuation\">(</span>re_str<span class=\"token punctuation\">,</span><span class=\"token string\">'-B'</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">)</span>\nresult <span class=\"token operator\">=</span> fullmatch<span class=\"token punctuation\">(</span>re_str<span class=\"token punctuation\">,</span><span class=\"token string\">'!C'</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>result<span class=\"token punctuation\">)</span>\n</code></pre>\n<ul>\n<li>[^字符集]匹配不在[]字符集中的任意一个字符<br>匹配一个四位的字符串，第一位不是大写字母也不是数字，后三位是abc</li>\n</ul>\n<pre class=\" language-python\"><code class=\"language-python\">re_str <span class=\"token operator\">=</span> r<span class=\"token string\">'[^A-Z\\d]abc'</span>\nresult <span class=\"token operator\">=</span> fullmatch<span class=\"token punctuation\">(</span>re_str<span class=\"token punctuation\">,</span><span class=\"token string\">'+abc'</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>result<span class=\"token punctuation\">)</span>\n</code></pre>\n<ul>\n<li>*匹配0次或者多次</li>\n</ul>\n<pre class=\" language-python\"><code class=\"language-python\">re_str <span class=\"token operator\">=</span> r<span class=\"token string\">'a*b'</span>   <span class=\"token comment\" spellcheck=\"true\"># 'b','ab','aab',.....以此类推</span>\nresult <span class=\"token operator\">=</span> fullmatch<span class=\"token punctuation\">(</span>re_str<span class=\"token punctuation\">,</span><span class=\"token string\">'aaaaaaaaaaab'</span><span class=\"token punctuation\">)</span>\nre_str <span class=\"token operator\">=</span> r<span class=\"token string\">'\\d*'</span>\nre_str <span class=\"token operator\">=</span> r<span class=\"token string\">'[abc]*'</span>   <span class=\"token comment\" spellcheck=\"true\"># 'a','abbccbaababa',''</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>result<span class=\"token punctuation\">)</span>\n</code></pre>\n<ul>\n<li>+匹配一次或者多次，与* 类似<br>判断一个字符串是否是无符号的正整数</li>\n</ul>\n<pre class=\" language-python\"><code class=\"language-python\">re_str <span class=\"token operator\">=</span> r<span class=\"token string\">'[1-9]+\\d*'</span>\nresult <span class=\"token operator\">=</span> fullmatch<span class=\"token punctuation\">(</span>re_str<span class=\"token punctuation\">,</span><span class=\"token string\">'110'</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>result<span class=\"token punctuation\">)</span>\n</code></pre>\n<ul>\n<li>？ 匹配0次或者一次</li>\n</ul>\n<pre class=\" language-python\"><code class=\"language-python\">re_str <span class=\"token operator\">=</span> r<span class=\"token string\">'@?\\d+'</span>\nresult <span class=\"token operator\">=</span> fullmatch<span class=\"token punctuation\">(</span>re_str<span class=\"token punctuation\">,</span><span class=\"token string\">'@16723'</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>result<span class=\"token punctuation\">)</span>\n</code></pre>\n<ul>\n<li>判断一个字符串是否是整数</li>\n</ul>\n<pre class=\" language-python\"><code class=\"language-python\">re_str <span class=\"token operator\">=</span> r<span class=\"token string\">'[+-]?[0-9]\\d*'</span>\nresult <span class=\"token operator\">=</span> fullmatch<span class=\"token punctuation\">(</span>re_str<span class=\"token punctuation\">,</span><span class=\"token string\">'0'</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>result<span class=\"token punctuation\">)</span>\n</code></pre>\n<ul>\n<li>{N}匹配N次,就只有N位字符</li>\n</ul>\n<pre class=\" language-python\"><code class=\"language-python\">re_str <span class=\"token operator\">=</span> r<span class=\"token string\">'\\d{3}'</span>\nresult <span class=\"token operator\">=</span> fullmatch<span class=\"token punctuation\">(</span>re_str<span class=\"token punctuation\">,</span><span class=\"token string\">'123'</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>result<span class=\"token punctuation\">)</span>\n</code></pre>\n<ul>\n<li>{N,} 至少匹配N次</li>\n</ul>\n<pre class=\" language-python\"><code class=\"language-python\">re_str <span class=\"token operator\">=</span> r<span class=\"token string\">'\\w{3,}'</span>\nresult <span class=\"token operator\">=</span> fullmatch<span class=\"token punctuation\">(</span>re_str<span class=\"token punctuation\">,</span><span class=\"token string\">'1234sda__'</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>result<span class=\"token punctuation\">)</span>\n</code></pre>\n<ul>\n<li>{,N} 最多匹配N次</li>\n</ul>\n<pre class=\" language-python\"><code class=\"language-python\">re_str <span class=\"token operator\">=</span> r<span class=\"token string\">'a{,2}b'</span>\nresult <span class=\"token operator\">=</span> fullmatch<span class=\"token punctuation\">(</span>re_str<span class=\"token punctuation\">,</span><span class=\"token string\">'b'</span><span class=\"token punctuation\">)</span>\nresult <span class=\"token operator\">=</span> fullmatch<span class=\"token punctuation\">(</span>re_str<span class=\"token punctuation\">,</span><span class=\"token string\">'ab'</span><span class=\"token punctuation\">)</span>\nresult <span class=\"token operator\">=</span> fullmatch<span class=\"token punctuation\">(</span>re_str<span class=\"token punctuation\">,</span><span class=\"token string\">'aab'</span><span class=\"token punctuation\">)</span>\nresult <span class=\"token operator\">=</span> fullmatch<span class=\"token punctuation\">(</span>re_str<span class=\"token punctuation\">,</span><span class=\"token string\">'aaab'</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>result<span class=\"token punctuation\">)</span>\n</code></pre>\n<ul>\n<li>{M,N} 匹配至少M次，最多N次（M&lt;N）</li>\n</ul>\n<pre class=\" language-python\"><code class=\"language-python\">re_str <span class=\"token operator\">=</span> r<span class=\"token string\">'a{1,2}b'</span>\nresult <span class=\"token operator\">=</span> fullmatch<span class=\"token punctuation\">(</span>re_str<span class=\"token punctuation\">,</span><span class=\"token string\">'ab'</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>result<span class=\"token punctuation\">)</span>\n</code></pre>\n<p>注意：次数相关的操作，都是约束的次数符号前的一个字符</p>\n<ul>\n<li>| 分支（相当于逻辑运算中的or）<br>匹配一个字符串是三个字母，或者是三个数字</li>\n</ul>\n<pre class=\" language-python\"><code class=\"language-python\">re_str <span class=\"token operator\">=</span> r<span class=\"token string\">'[A-Za-z]{3}|\\d{3}'</span>\nre_str1 <span class=\"token operator\">=</span> r<span class=\"token string\">'\\d{3}[A-Za-z]{3}|\\d{3}'</span>\n<span class=\"token comment\" spellcheck=\"true\"># \\d{3}[A-Za-z]当做分支的一个整体的条件，|分支的左边部分是一个整体，右边是一个整体</span>\nresult <span class=\"token operator\">=</span> fullmatch<span class=\"token punctuation\">(</span>re_str<span class=\"token punctuation\">,</span><span class=\"token string\">'abg'</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>result<span class=\"token punctuation\">)</span>\n</code></pre>\n<p> 正则中分支有短路操作：如果使用|去连接多个条件，前面的条件已经符合，就不会使用后面的条件再去匹配了</p>\n<h5 id=\"练习：写一个正则表达式，能够匹配出字符串中所有的数字（包括整数和小数）\"><a href=\"#练习：写一个正则表达式，能够匹配出字符串中所有的数字（包括整数和小数）\" class=\"headerlink\" title=\"练习：写一个正则表达式，能够匹配出字符串中所有的数字（包括整数和小数）\"></a>练习：写一个正则表达式，能够匹配出字符串中所有的数字（包括整数和小数）</h5><pre class=\" language-python\"><code class=\"language-python\"><span class=\"token comment\" spellcheck=\"true\"># re_str = r'[1-9]\\d*[.]?\\d*|0[.]\\d+'</span>\n<span class=\"token comment\" spellcheck=\"true\"># result = fullmatch(re_str,'0.12')</span>\n<span class=\"token comment\" spellcheck=\"true\"># print(result)</span>\nstr1 <span class=\"token operator\">=</span> <span class=\"token string\">'absx12.2ss2.03s40,60aas50,asd6.23,952asd'</span>\nre_str <span class=\"token operator\">=</span> r<span class=\"token string\">'[\\d.]+'</span>\n<span class=\"token comment\" spellcheck=\"true\"># '\\d+[.]\\d+' 与'[1-9]\\d*'的位置不同，输出的结果也有可能不一样</span>\nresult <span class=\"token operator\">=</span> findall<span class=\"token punctuation\">(</span>re_str<span class=\"token punctuation\">,</span>str1<span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string\">'======================'</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>result<span class=\"token punctuation\">)</span>\n</code></pre>\n<ul>\n<li>分组<br>通过加（）来对正则条件进行分组<br>两位数字两位字母出现三次</li>\n</ul>\n<pre class=\" language-python\"><code class=\"language-python\">re_str <span class=\"token operator\">=</span> r<span class=\"token string\">'([a-z]{2}\\d{2}){3}'</span>\nresult <span class=\"token operator\">=</span> fullmatch<span class=\"token punctuation\">(</span>re_str<span class=\"token punctuation\">,</span><span class=\"token string\">'as12df52er63'</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>result<span class=\"token punctuation\">)</span>\n</code></pre>\n<ul>\n<li>重复<br>可以通过\\数字来重复匹配前面的括号中匹配的结果.数字的值代表前面的第几个分组</li>\n</ul>\n<pre class=\" language-python\"><code class=\"language-python\">re_str <span class=\"token operator\">=</span> r<span class=\"token string\">'(\\d{2}[A-Z])=%\\1\\1'</span>\nresult <span class=\"token operator\">=</span> fullmatch<span class=\"token punctuation\">(</span>re_str<span class=\"token punctuation\">,</span><span class=\"token string\">'23B=%23B23B'</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>result<span class=\"token punctuation\">)</span>\nre_str <span class=\"token operator\">=</span> r<span class=\"token string\">'(\\d{2})\\+(\\w)\\1{2}\\2'</span>\nresult <span class=\"token operator\">=</span> fullmatch<span class=\"token punctuation\">(</span>re_str<span class=\"token punctuation\">,</span><span class=\"token string\">'12+a1212a'</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string\">'++++++++++++++++++++'</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>result<span class=\"token punctuation\">)</span>\n</code></pre>\n<ul>\n<li>捕获<br>按照完整的正则表达式去匹配，只捕获（）中的内容，只有在findall中有效</li>\n</ul>\n<pre class=\" language-python\"><code class=\"language-python\">re_str <span class=\"token operator\">=</span> r<span class=\"token string\">'a(\\d{3})b'</span>\nresult <span class=\"token operator\">=</span> fullmatch<span class=\"token punctuation\">(</span>re_str<span class=\"token punctuation\">,</span><span class=\"token string\">'a786b'</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>result<span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>findall<span class=\"token punctuation\">(</span>re_str<span class=\"token punctuation\">,</span><span class=\"token string\">'a786b'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n</code></pre>\n<pre class=\" language-python\"><code class=\"language-python\"><span class=\"token comment\" spellcheck=\"true\"># 用户名由字母数字下划线组成的6-20位</span>\nuser<span class=\"token operator\">=</span> input<span class=\"token punctuation\">(</span><span class=\"token string\">'用户名：'</span><span class=\"token punctuation\">)</span>\nQQ <span class=\"token operator\">=</span> input<span class=\"token punctuation\">(</span><span class=\"token string\">'qq:'</span><span class=\"token punctuation\">)</span>\nre_str <span class=\"token operator\">=</span> r<span class=\"token string\">'\\w{6,20}'</span>\nresult <span class=\"token operator\">=</span> fullmatch<span class=\"token punctuation\">(</span>re_str<span class=\"token punctuation\">,</span>user<span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">if</span> result <span class=\"token operator\">==</span> None<span class=\"token punctuation\">:</span>\n    <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string\">'用户名不合格，请重新输入'</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">else</span><span class=\"token punctuation\">:</span>\n    <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string\">'用户名：%s 合格'</span><span class=\"token operator\">%</span> user<span class=\"token punctuation\">)</span>\n\n<span class=\"token comment\" spellcheck=\"true\"># QQ由数字组成并且第一位不能是0</span>\nre_str <span class=\"token operator\">=</span> r<span class=\"token string\">'[1,9]+\\d{4,11}'</span>\nresult <span class=\"token operator\">=</span> fullmatch<span class=\"token punctuation\">(</span>re_str<span class=\"token punctuation\">,</span>QQ<span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">if</span> result <span class=\"token operator\">==</span> None<span class=\"token punctuation\">:</span>\n    <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string\">'用户名不合格，请重新输入'</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">else</span><span class=\"token punctuation\">:</span>\n    <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string\">'用户名：%s 合格'</span><span class=\"token operator\">%</span> QQ<span class=\"token punctuation\">)</span>\n</code></pre>\n<h4 id=\"正则中的转义\"><a href=\"#正则中的转义\" class=\"headerlink\" title=\"正则中的转义\"></a>正则中的转义</h4><p>1.正则表达式中的转义和字符串中的转义字符没有任何关系，<br>在Python中的字符串前加r阻止的是字符串的转义，不能阻止正则表达式的转义<br>2.在正则表达式中，可以通过在特殊意义的符号前加\\来表示符号本身<br>+  .  *  \\?   \\  ( )   [ ]  \\^  \\$  |<br>注意：<br>a. - 号只有在中括号中的两个字符之间才有特殊的意义<br>b.如果特殊符号放到[]中，作为字符集的内容，那么除了- 号在两个字符之间以外，其他的都不需要转义<br>c.\\ 不管在哪都需要转义，^放到 中括号的最前需要转义</p>\n<pre class=\" language-python\"><code class=\"language-python\">re_str <span class=\"token operator\">=</span> r<span class=\"token string\">'a\\+}'</span>\nresult <span class=\"token operator\">=</span> fullmatch<span class=\"token punctuation\">(</span>re_str<span class=\"token punctuation\">,</span><span class=\"token string\">'a\\+'</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>result<span class=\"token punctuation\">)</span>\n\nre_str <span class=\"token operator\">=</span> r<span class=\"token string\">'\\+a'</span>\nresult <span class=\"token operator\">=</span> fullmatch<span class=\"token punctuation\">(</span>re_str<span class=\"token punctuation\">,</span><span class=\"token string\">'+a'</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>result<span class=\"token punctuation\">)</span>\n\nre_str <span class=\"token operator\">=</span> r<span class=\"token string\">'\\\\w-a'</span>\nresult <span class=\"token operator\">=</span> fullmatch<span class=\"token punctuation\">(</span>re_str<span class=\"token punctuation\">,</span><span class=\"token string\">'\\w-a'</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>result<span class=\"token punctuation\">)</span>\n\nre_str <span class=\"token operator\">=</span> r<span class=\"token string\">'\\(\\d{3}'</span>\nresult <span class=\"token operator\">=</span> fullmatch<span class=\"token punctuation\">(</span>re_str<span class=\"token punctuation\">,</span><span class=\"token string\">'(234'</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>result<span class=\"token punctuation\">)</span>\n</code></pre>\n<h4 id=\"re模块\"><a href=\"#re模块\" class=\"headerlink\" title=\"re模块\"></a>re模块</h4><p>1.compile(正则表达式)：将正则表达式转换成正则表达式对象</p>\n<pre class=\" language-python\"><code class=\"language-python\">re_str <span class=\"token operator\">=</span> r<span class=\"token string\">'\\d+'</span>\nre_object <span class=\"token operator\">=</span> re<span class=\"token punctuation\">.</span>compile<span class=\"token punctuation\">(</span>re_str<span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>re_object<span class=\"token punctuation\">)</span>\n</code></pre>\n<pre class=\" language-python\"><code class=\"language-python\"><span class=\"token comment\" spellcheck=\"true\"># 不转成对象，调用相应的函数</span>\nre<span class=\"token punctuation\">.</span>match<span class=\"token punctuation\">(</span>re_str<span class=\"token punctuation\">,</span><span class=\"token string\">'78hj'</span><span class=\"token punctuation\">)</span>\n<span class=\"token comment\" spellcheck=\"true\"># 转换成对象，调用相应的方法</span>\nre_object<span class=\"token punctuation\">.</span>fullmatch<span class=\"token punctuation\">(</span><span class=\"token string\">'78hj'</span><span class=\"token punctuation\">)</span>\n</code></pre>\n<p>2.match(正则表达式，字符串)和fullmatch<br>判断字符串的开头是否能够和正则表达式匹配<br>fullmatch：判断整个字符串是否能够和正则表达式匹配</p>\n<pre class=\" language-python\"><code class=\"language-python\">re_str <span class=\"token operator\">=</span> r<span class=\"token string\">'abc\\d{3}'</span>\nresult1 <span class=\"token operator\">=</span> re<span class=\"token punctuation\">.</span>match<span class=\"token punctuation\">(</span>re_str<span class=\"token punctuation\">,</span><span class=\"token string\">'abc234dafdad'</span><span class=\"token punctuation\">)</span>\nresult2 <span class=\"token operator\">=</span> re<span class=\"token punctuation\">.</span>fullmatch<span class=\"token punctuation\">(</span>re_str<span class=\"token punctuation\">,</span><span class=\"token string\">'abc234'</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>result1<span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>result2<span class=\"token punctuation\">)</span>\n</code></pre>\n<pre class=\" language-python\"><code class=\"language-python\"><span class=\"token comment\" spellcheck=\"true\"># a.匹配范围,匹配结果字符的下标范围:（起始下标，结束下标）---- 结束下标取不到</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>result2<span class=\"token punctuation\">.</span>span<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n<span class=\"token comment\" spellcheck=\"true\"># 获取起点</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>result1<span class=\"token punctuation\">.</span>start<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n<span class=\"token comment\" spellcheck=\"true\"># 获取终点</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>result1<span class=\"token punctuation\">.</span>end<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n</code></pre>\n<p>注意：group参数，用来指定分组对应的相应的结果</p>\n<pre class=\" language-python\"><code class=\"language-python\">re_str <span class=\"token operator\">=</span> r<span class=\"token string\">'(\\d{3})\\+([A-z]{3})'</span>\nmatch1 <span class=\"token operator\">=</span> re<span class=\"token punctuation\">.</span>match<span class=\"token punctuation\">(</span>re_str<span class=\"token punctuation\">,</span><span class=\"token string\">'123+abcgg'</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>match1<span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>match1<span class=\"token punctuation\">.</span>span<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n<span class=\"token comment\" spellcheck=\"true\"># 在匹配中，获取第一个分组的范围</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>match1<span class=\"token punctuation\">.</span>span<span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n<span class=\"token comment\" spellcheck=\"true\"># 在匹配中，获取第二个分组的范围</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>match1<span class=\"token punctuation\">.</span>span<span class=\"token punctuation\">(</span><span class=\"token number\">2</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token comment\" spellcheck=\"true\"># 在匹配结果中，获取第二个分组的起始下标</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>match1<span class=\"token punctuation\">.</span>start<span class=\"token punctuation\">(</span><span class=\"token number\">2</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token comment\" spellcheck=\"true\"># b.获取匹配结果对应的字符串</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>match1<span class=\"token punctuation\">.</span>group<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>match1<span class=\"token punctuation\">.</span>group<span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token comment\" spellcheck=\"true\"># c.获取被匹配的原字符串</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>match1<span class=\"token punctuation\">.</span>string<span class=\"token punctuation\">)</span>\n</code></pre>\n<ul>\n<li>search（正则表达式，字符串）<br>在字符串中去查找第一个满足正则表达式的子串，如果找到就返回匹配对象，找不到返回None</li>\n</ul>\n<pre class=\" language-python\"><code class=\"language-python\">search1 <span class=\"token operator\">=</span> re<span class=\"token punctuation\">.</span>search<span class=\"token punctuation\">(</span>r<span class=\"token string\">'\\d+aa'</span><span class=\"token punctuation\">,</span><span class=\"token string\">'he9aasda 78aadvsf world'</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>search1<span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">if</span> search1<span class=\"token punctuation\">:</span>\n    <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>search1<span class=\"token punctuation\">.</span>span<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n</code></pre>\n<p>练习：使用search将一个字符串所有的数字字符串全部找到<br> ’工资10000元，年龄18岁，身高180，颜值100‘</p>\n<pre class=\" language-python\"><code class=\"language-python\">str1 <span class=\"token operator\">=</span> <span class=\"token string\">'工资10000元，年龄18岁，身高180，颜值100'</span>\nre_str <span class=\"token operator\">=</span> r<span class=\"token string\">'[1-9]\\d*'</span>\nsearch1 <span class=\"token operator\">=</span> re<span class=\"token punctuation\">.</span>search<span class=\"token punctuation\">(</span>re_str<span class=\"token punctuation\">,</span>str1<span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">while</span> search1<span class=\"token punctuation\">:</span>\n    <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>search1<span class=\"token punctuation\">.</span>group<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n    end <span class=\"token operator\">=</span> search1<span class=\"token punctuation\">.</span>end<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    str1 <span class=\"token operator\">=</span> str1<span class=\"token punctuation\">[</span>end<span class=\"token punctuation\">:</span><span class=\"token punctuation\">]</span>\n    search1 <span class=\"token operator\">=</span> re<span class=\"token punctuation\">.</span>search<span class=\"token punctuation\">(</span>re_str<span class=\"token punctuation\">,</span>str1<span class=\"token punctuation\">)</span>\n</code></pre>\n<ul>\n<li>split（正则表达式，字符串）<br>按满足正则表达式的子串去切割字符串</li>\n</ul>\n<pre class=\" language-python\"><code class=\"language-python\">str1 <span class=\"token operator\">=</span> <span class=\"token string\">'床前明月光，疑是地上霜。举头望明月，低头思故乡！'</span>\nresult <span class=\"token operator\">=</span> re<span class=\"token punctuation\">.</span>split<span class=\"token punctuation\">(</span>r<span class=\"token string\">'[,。，！]'</span><span class=\"token punctuation\">,</span>str1<span class=\"token punctuation\">)</span>\nresult <span class=\"token operator\">=</span> re<span class=\"token punctuation\">.</span>split<span class=\"token punctuation\">(</span>r<span class=\"token string\">'\\W'</span><span class=\"token punctuation\">,</span>str1<span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>result<span class=\"token punctuation\">)</span>\n</code></pre>\n<p>中文也在\\w的范围内</p>\n<ul>\n<li>sub（正则表达式，替换字符串，被替换的字符串）</li>\n</ul>\n<pre class=\" language-python\"><code class=\"language-python\">word <span class=\"token operator\">=</span> <span class=\"token string\">'你丫是傻叉吗？我草拟大爷的，Fuck you'</span>\nresult2 <span class=\"token operator\">=</span> re<span class=\"token punctuation\">.</span>sub<span class=\"token punctuation\">(</span>r<span class=\"token string\">'傻叉|草|大爷|Fuck|傻逼'</span><span class=\"token punctuation\">,</span><span class=\"token string\">'*'</span><span class=\"token punctuation\">,</span>word<span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>result2<span class=\"token punctuation\">)</span>\n</code></pre>\n<ul>\n<li>findall（正则表达式，字符串）</li>\n</ul>\n<pre class=\" language-python\"><code class=\"language-python\"><span class=\"token comment\" spellcheck=\"true\"># 获取字符串中所有满足正则表达式的子串</span>\n<span class=\"token comment\" spellcheck=\"true\"># 返回值是列表</span>\n<span class=\"token comment\" spellcheck=\"true\"># 注意：分组中的捕获效果在这儿有效</span>\nresult <span class=\"token operator\">=</span> re<span class=\"token punctuation\">.</span>findall<span class=\"token punctuation\">(</span>r<span class=\"token string\">'\\d([a-z])+'</span><span class=\"token punctuation\">,</span><span class=\"token string\">'数据的恐怖残5and,125name按贷款'</span><span class=\"token punctuation\">)</span>\n<span class=\"token comment\" spellcheck=\"true\"># 取的字符串是正则表达式最后一个字符</span>\nresult1 <span class=\"token operator\">=</span> re<span class=\"token punctuation\">.</span>findall<span class=\"token punctuation\">(</span>r<span class=\"token string\">'\\d([a-z]+)'</span><span class=\"token punctuation\">,</span><span class=\"token string\">'数据的恐怖残5and,125name按贷款'</span><span class=\"token punctuation\">)</span>\n<span class=\"token comment\" spellcheck=\"true\"># 取的字符串是正则表达式中的后一个分组</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>result<span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>result1<span class=\"token punctuation\">)</span>\n</code></pre>\n","site":{"data":{}},"excerpt":"","more":"<h4 id=\"正则表达式\"><a href=\"#正则表达式\" class=\"headerlink\" title=\"正则表达式\"></a>正则表达式</h4><ul>\n<li>正则表达式就是检测字符串是否满足某种规则的工具<br>例如：账号是手机号/邮箱/多少位由什么东西组成的ect</li>\n</ul>\n<p>1.正则语法<br>2.Python对正则表达式的支持，提供了一个内置模块：re<br>fullmatch(正则表达式，字符串）：判断字符串是否符合正则表达式的规则</p>\n<ul>\n<li>匹配任意字符<br>匹配一个字符串，只有一个字符并且是任意字符</li>\n</ul>\n<pre><code class=\"python\">re_str = r&#39;.&#39;\nresult = fullmatch(re_str,&#39;a&#39;)\nprint(result)\n</code></pre>\n<ul>\n<li>匹配一个字符串，有两个任意字符</li>\n</ul>\n<pre><code class=\"python\">re_str = r&#39;..&#39;\nresult = fullmatch(re_str,&#39;an&#39;)\nprint(result)\n</code></pre>\n<ul>\n<li>匹配一个字符串，前三位分别是abc，最后一位是任意字符</li>\n</ul>\n<pre><code class=\"python\">re_str = r&#39;abc.&#39;\nresult = fullmatch(re_str,&#39;abc@&#39;)\nprint(result)\n</code></pre>\n<ul>\n<li>\\w匹配字母数字下划线<br>匹配一个前三分别是abc，最后一位是字母数字，下划线其中的一种的字符串</li>\n</ul>\n<pre><code class=\"python\">re_str = r&#39;abc\\w&#39;\nresult = fullmatch(re_str,&#39;abc_&#39;)\nprint(result)\n</code></pre>\n<ul>\n<li>\\W匹配非字母数字下划线<br>匹配一个前三分别是abc，最后一位非字母数字，下划线的字符串</li>\n</ul>\n<pre><code class=\"python\">re_str = r&#39;abc\\W&#39;\nresult = fullmatch(re_str,&#39;abc_&#39;)\nprint(result)\n</code></pre>\n<ul>\n<li>\\s匹配空白字符（空白指空格、回车、制表符等所有你能产生空白的字符）<br>匹配一个字符串，前三个是字母数字下划线中的任意一种，最后一位是一个空白字符</li>\n</ul>\n<pre><code class=\"python\">re_str = r&#39;\\w\\w\\w\\s&#39;\nresult = fullmatch(re_str,&#39;a1_\\t&#39;)\nprint(result)\n</code></pre>\n<ul>\n<li>\\S匹配非空白字符（空白指空格、回车、制表符等所有你能产生空白的字符）<br>匹配一个字符串，前三个是字母数字下划线中的任意一种，最后一位非空白字符</li>\n</ul>\n<pre><code class=\"python\">re_str = r&#39;\\w\\w\\w\\S&#39;\nresult = fullmatch(re_str,&#39;a1_9&#39;)\nprint(result)\n</code></pre>\n<ul>\n<li>\\d匹配一个数字字符<br>匹配一个字符串，前三位是数字字符，最后一位是任意字符</li>\n</ul>\n<pre><code class=\"python\">re_str = r&#39;\\d\\d\\d.&#39;\nresult = fullmatch(re_str,&#39;151h&#39;)\nprint(result)\n</code></pre>\n<ul>\n<li>\\D匹配一个非数字字符<br>匹配一个字符串，前三位是非数字字符，最后一位是任意字符</li>\n</ul>\n<pre><code class=\"python\">re_str = r&#39;\\d\\d\\d.&#39;\nresult = fullmatch(re_str,&#39;acd1&#39;)\nprint(result)\n</code></pre>\n<ul>\n<li>\\b检测是否是单词边界（单词的开头 ，单词的结尾、单词和单词之间的标点，空格ect<br>注意：正则中遇到\\b，匹配的时候先不管他，匹配成功后再回头看\\b的位置是不是边界。<br>匹配一个字符串，前四位是when第五位是空白，空白后边是where，并且第四位n后面是单词边界</li>\n</ul>\n<pre><code class=\"python\">re_str = r&#39;when\\b\\swhere&#39;\nresult = fullmatch(re_str,&#39;when where&#39;)\nprint(result)\n</code></pre>\n<ul>\n<li>^检测字符串是否是以给定的正则表达式,匹配字符串的开头</li>\n</ul>\n<pre><code class=\"python\">re_str = r&#39;\\d\\d\\d.&#39;\nresult = fullmatch(re_str,&#39;151h&#39;)\nprint(result)\nre_str = r&#39;^m\\d\\d&#39;\nresult = fullmatch(re_str,&#39;m14&#39;)\nprint(result)\n</code></pre>\n<ul>\n<li>$检测字符串是否以给定的正则表达式结束<br>匹配一个字符串a数字，并且a数字是字符串的结尾</li>\n</ul>\n<pre><code class=\"python\">re_str = r&#39;a\\d$&#39;\nresult = fullmatch(re_str,&#39;a2&#39;)\nprint(result)\n\nresult = search(re_str,&#39;a9aaa8&#39;)\nprint(result)\n</code></pre>\n<ul>\n<li>\\B检测非单词边界</li>\n</ul>\n<pre><code class=\"python\">re_str = r&#39;any\\Bwhere&#39;\nresult = fullmatch(re_str,&#39;anywhere&#39;)\nprint(result)\n</code></pre>\n<ul>\n<li>[]匹配中括号出现的任意字符<br>注意：一个中括号只匹配一个字符<br>匹配一个三位的字符串，第一位是a或者b或者或者+，后面两位是数字</li>\n</ul>\n<pre><code class=\"python\">re_str = r&#39;[abc+]\\d\\d&#39;\nresult = fullmatch(re_str,&#39;+12&#39;)\nprint(result)\n</code></pre>\n<ul>\n<li>-在正则表达式中的中括号中的应用：如果将减号放到两个字符的中间代表的是谁到谁。如果想要表示’-‘符号本身，就放到开头或者末尾<br>[1-8]代表的是：12345678<br>[-18]或者[18-]代表的是’1’,’-‘,’8’<br>要求一个字符串中的第一位是1-8中的一个，后面两位是小写字母</li>\n</ul>\n<pre><code class=\"python\">re_str = r&#39;[1-8][a-z][a-z]&#39;\nresult = fullmatch(re_str,&#39;1bg&#39;)\nprint(result)\n\nre_str = r&#39;[+!-][A-Z]&#39;\nresult = fullmatch(re_str,&#39;+A&#39;,)\nresult = fullmatch(re_str,&#39;-B&#39;,)\nresult = fullmatch(re_str,&#39;!C&#39;,)\nprint(result)\n</code></pre>\n<ul>\n<li>[^字符集]匹配不在[]字符集中的任意一个字符<br>匹配一个四位的字符串，第一位不是大写字母也不是数字，后三位是abc</li>\n</ul>\n<pre><code class=\"python\">re_str = r&#39;[^A-Z\\d]abc&#39;\nresult = fullmatch(re_str,&#39;+abc&#39;)\nprint(result)\n</code></pre>\n<ul>\n<li>*匹配0次或者多次</li>\n</ul>\n<pre><code class=\"python\">re_str = r&#39;a*b&#39;   # &#39;b&#39;,&#39;ab&#39;,&#39;aab&#39;,.....以此类推\nresult = fullmatch(re_str,&#39;aaaaaaaaaaab&#39;)\nre_str = r&#39;\\d*&#39;\nre_str = r&#39;[abc]*&#39;   # &#39;a&#39;,&#39;abbccbaababa&#39;,&#39;&#39;\nprint(result)\n</code></pre>\n<ul>\n<li>+匹配一次或者多次，与* 类似<br>判断一个字符串是否是无符号的正整数</li>\n</ul>\n<pre><code class=\"python\">re_str = r&#39;[1-9]+\\d*&#39;\nresult = fullmatch(re_str,&#39;110&#39;)\nprint(result)\n</code></pre>\n<ul>\n<li>？ 匹配0次或者一次</li>\n</ul>\n<pre><code class=\"python\">re_str = r&#39;@?\\d+&#39;\nresult = fullmatch(re_str,&#39;@16723&#39;)\nprint(result)\n</code></pre>\n<ul>\n<li>判断一个字符串是否是整数</li>\n</ul>\n<pre><code class=\"python\">re_str = r&#39;[+-]?[0-9]\\d*&#39;\nresult = fullmatch(re_str,&#39;0&#39;)\nprint(result)\n</code></pre>\n<ul>\n<li>{N}匹配N次,就只有N位字符</li>\n</ul>\n<pre><code class=\"python\">re_str = r&#39;\\d{3}&#39;\nresult = fullmatch(re_str,&#39;123&#39;)\nprint(result)\n</code></pre>\n<ul>\n<li>{N,} 至少匹配N次</li>\n</ul>\n<pre><code class=\"python\">re_str = r&#39;\\w{3,}&#39;\nresult = fullmatch(re_str,&#39;1234sda__&#39;)\nprint(result)\n</code></pre>\n<ul>\n<li>{,N} 最多匹配N次</li>\n</ul>\n<pre><code class=\"python\">re_str = r&#39;a{,2}b&#39;\nresult = fullmatch(re_str,&#39;b&#39;)\nresult = fullmatch(re_str,&#39;ab&#39;)\nresult = fullmatch(re_str,&#39;aab&#39;)\nresult = fullmatch(re_str,&#39;aaab&#39;)\nprint(result)\n</code></pre>\n<ul>\n<li>{M,N} 匹配至少M次，最多N次（M&lt;N）</li>\n</ul>\n<pre><code class=\"python\">re_str = r&#39;a{1,2}b&#39;\nresult = fullmatch(re_str,&#39;ab&#39;)\nprint(result)\n</code></pre>\n<p>注意：次数相关的操作，都是约束的次数符号前的一个字符</p>\n<ul>\n<li>| 分支（相当于逻辑运算中的or）<br>匹配一个字符串是三个字母，或者是三个数字</li>\n</ul>\n<pre><code class=\"python\">re_str = r&#39;[A-Za-z]{3}|\\d{3}&#39;\nre_str1 = r&#39;\\d{3}[A-Za-z]{3}|\\d{3}&#39;\n# \\d{3}[A-Za-z]当做分支的一个整体的条件，|分支的左边部分是一个整体，右边是一个整体\nresult = fullmatch(re_str,&#39;abg&#39;)\nprint(result)\n</code></pre>\n<p> 正则中分支有短路操作：如果使用|去连接多个条件，前面的条件已经符合，就不会使用后面的条件再去匹配了</p>\n<h5 id=\"练习：写一个正则表达式，能够匹配出字符串中所有的数字（包括整数和小数）\"><a href=\"#练习：写一个正则表达式，能够匹配出字符串中所有的数字（包括整数和小数）\" class=\"headerlink\" title=\"练习：写一个正则表达式，能够匹配出字符串中所有的数字（包括整数和小数）\"></a>练习：写一个正则表达式，能够匹配出字符串中所有的数字（包括整数和小数）</h5><pre><code class=\"python\"># re_str = r&#39;[1-9]\\d*[.]?\\d*|0[.]\\d+&#39;\n# result = fullmatch(re_str,&#39;0.12&#39;)\n# print(result)\nstr1 = &#39;absx12.2ss2.03s40,60aas50,asd6.23,952asd&#39;\nre_str = r&#39;[\\d.]+&#39;\n# &#39;\\d+[.]\\d+&#39; 与&#39;[1-9]\\d*&#39;的位置不同，输出的结果也有可能不一样\nresult = findall(re_str,str1)\nprint(&#39;======================&#39;)\nprint(result)\n</code></pre>\n<ul>\n<li>分组<br>通过加（）来对正则条件进行分组<br>两位数字两位字母出现三次</li>\n</ul>\n<pre><code class=\"python\">re_str = r&#39;([a-z]{2}\\d{2}){3}&#39;\nresult = fullmatch(re_str,&#39;as12df52er63&#39;)\nprint(result)\n</code></pre>\n<ul>\n<li>重复<br>可以通过\\数字来重复匹配前面的括号中匹配的结果.数字的值代表前面的第几个分组</li>\n</ul>\n<pre><code class=\"python\">re_str = r&#39;(\\d{2}[A-Z])=%\\1\\1&#39;\nresult = fullmatch(re_str,&#39;23B=%23B23B&#39;)\nprint(result)\nre_str = r&#39;(\\d{2})\\+(\\w)\\1{2}\\2&#39;\nresult = fullmatch(re_str,&#39;12+a1212a&#39;)\nprint(&#39;++++++++++++++++++++&#39;)\nprint(result)\n</code></pre>\n<ul>\n<li>捕获<br>按照完整的正则表达式去匹配，只捕获（）中的内容，只有在findall中有效</li>\n</ul>\n<pre><code class=\"python\">re_str = r&#39;a(\\d{3})b&#39;\nresult = fullmatch(re_str,&#39;a786b&#39;)\nprint(result)\nprint(findall(re_str,&#39;a786b&#39;))\n</code></pre>\n<pre><code class=\"python\"># 用户名由字母数字下划线组成的6-20位\nuser= input(&#39;用户名：&#39;)\nQQ = input(&#39;qq:&#39;)\nre_str = r&#39;\\w{6,20}&#39;\nresult = fullmatch(re_str,user)\nif result == None:\n    print(&#39;用户名不合格，请重新输入&#39;)\nelse:\n    print(&#39;用户名：%s 合格&#39;% user)\n\n# QQ由数字组成并且第一位不能是0\nre_str = r&#39;[1,9]+\\d{4,11}&#39;\nresult = fullmatch(re_str,QQ)\nif result == None:\n    print(&#39;用户名不合格，请重新输入&#39;)\nelse:\n    print(&#39;用户名：%s 合格&#39;% QQ)\n</code></pre>\n<h4 id=\"正则中的转义\"><a href=\"#正则中的转义\" class=\"headerlink\" title=\"正则中的转义\"></a>正则中的转义</h4><p>1.正则表达式中的转义和字符串中的转义字符没有任何关系，<br>在Python中的字符串前加r阻止的是字符串的转义，不能阻止正则表达式的转义<br>2.在正则表达式中，可以通过在特殊意义的符号前加\\来表示符号本身<br>+  .  *  \\?   \\  ( )   [ ]  \\^  \\$  |<br>注意：<br>a. - 号只有在中括号中的两个字符之间才有特殊的意义<br>b.如果特殊符号放到[]中，作为字符集的内容，那么除了- 号在两个字符之间以外，其他的都不需要转义<br>c.\\ 不管在哪都需要转义，^放到 中括号的最前需要转义</p>\n<pre><code class=\"python\">re_str = r&#39;a\\+}&#39;\nresult = fullmatch(re_str,&#39;a\\+&#39;)\nprint(result)\n\nre_str = r&#39;\\+a&#39;\nresult = fullmatch(re_str,&#39;+a&#39;)\nprint(result)\n\nre_str = r&#39;\\\\w-a&#39;\nresult = fullmatch(re_str,&#39;\\w-a&#39;)\nprint(result)\n\nre_str = r&#39;\\(\\d{3}&#39;\nresult = fullmatch(re_str,&#39;(234&#39;)\nprint(result)\n</code></pre>\n<h4 id=\"re模块\"><a href=\"#re模块\" class=\"headerlink\" title=\"re模块\"></a>re模块</h4><p>1.compile(正则表达式)：将正则表达式转换成正则表达式对象</p>\n<pre><code class=\"python\">re_str = r&#39;\\d+&#39;\nre_object = re.compile(re_str)\nprint(re_object)\n</code></pre>\n<pre><code class=\"python\"># 不转成对象，调用相应的函数\nre.match(re_str,&#39;78hj&#39;)\n# 转换成对象，调用相应的方法\nre_object.fullmatch(&#39;78hj&#39;)\n</code></pre>\n<p>2.match(正则表达式，字符串)和fullmatch<br>判断字符串的开头是否能够和正则表达式匹配<br>fullmatch：判断整个字符串是否能够和正则表达式匹配</p>\n<pre><code class=\"python\">re_str = r&#39;abc\\d{3}&#39;\nresult1 = re.match(re_str,&#39;abc234dafdad&#39;)\nresult2 = re.fullmatch(re_str,&#39;abc234&#39;)\nprint(result1)\nprint(result2)\n</code></pre>\n<pre><code class=\"python\"># a.匹配范围,匹配结果字符的下标范围:（起始下标，结束下标）---- 结束下标取不到\nprint(result2.span())\n# 获取起点\nprint(result1.start())\n# 获取终点\nprint(result1.end())\n</code></pre>\n<p>注意：group参数，用来指定分组对应的相应的结果</p>\n<pre><code class=\"python\">re_str = r&#39;(\\d{3})\\+([A-z]{3})&#39;\nmatch1 = re.match(re_str,&#39;123+abcgg&#39;)\nprint(match1)\nprint(match1.span())\n# 在匹配中，获取第一个分组的范围\nprint(match1.span(1))\n# 在匹配中，获取第二个分组的范围\nprint(match1.span(2))\n\n# 在匹配结果中，获取第二个分组的起始下标\nprint(match1.start(2))\n\n# b.获取匹配结果对应的字符串\nprint(match1.group())\nprint(match1.group(1))\n\n# c.获取被匹配的原字符串\nprint(match1.string)\n</code></pre>\n<ul>\n<li>search（正则表达式，字符串）<br>在字符串中去查找第一个满足正则表达式的子串，如果找到就返回匹配对象，找不到返回None</li>\n</ul>\n<pre><code class=\"python\">search1 = re.search(r&#39;\\d+aa&#39;,&#39;he9aasda 78aadvsf world&#39;)\nprint(search1)\nif search1:\n    print(search1.span())\n</code></pre>\n<p>练习：使用search将一个字符串所有的数字字符串全部找到<br> ’工资10000元，年龄18岁，身高180，颜值100‘</p>\n<pre><code class=\"python\">str1 = &#39;工资10000元，年龄18岁，身高180，颜值100&#39;\nre_str = r&#39;[1-9]\\d*&#39;\nsearch1 = re.search(re_str,str1)\nwhile search1:\n    print(search1.group())\n    end = search1.end()\n    str1 = str1[end:]\n    search1 = re.search(re_str,str1)\n</code></pre>\n<ul>\n<li>split（正则表达式，字符串）<br>按满足正则表达式的子串去切割字符串</li>\n</ul>\n<pre><code class=\"python\">str1 = &#39;床前明月光，疑是地上霜。举头望明月，低头思故乡！&#39;\nresult = re.split(r&#39;[,。，！]&#39;,str1)\nresult = re.split(r&#39;\\W&#39;,str1)\nprint(result)\n</code></pre>\n<p>中文也在\\w的范围内</p>\n<ul>\n<li>sub（正则表达式，替换字符串，被替换的字符串）</li>\n</ul>\n<pre><code class=\"python\">word = &#39;你丫是傻叉吗？我草拟大爷的，Fuck you&#39;\nresult2 = re.sub(r&#39;傻叉|草|大爷|Fuck|傻逼&#39;,&#39;*&#39;,word)\nprint(result2)\n</code></pre>\n<ul>\n<li>findall（正则表达式，字符串）</li>\n</ul>\n<pre><code class=\"python\"># 获取字符串中所有满足正则表达式的子串\n# 返回值是列表\n# 注意：分组中的捕获效果在这儿有效\nresult = re.findall(r&#39;\\d([a-z])+&#39;,&#39;数据的恐怖残5and,125name按贷款&#39;)\n# 取的字符串是正则表达式最后一个字符\nresult1 = re.findall(r&#39;\\d([a-z]+)&#39;,&#39;数据的恐怖残5and,125name按贷款&#39;)\n# 取的字符串是正则表达式中的后一个分组\nprint(result)\nprint(result1)\n</code></pre>\n"},{"title":"网络基础","date":"2017-08-10T12:34:22.000Z","author":"smile","_content":"\n# 网络基础\n\n![QQ截图20180912091833.png](https://upload-images.jianshu.io/upload_images/13692239-d478d708a75bd47b.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\n\n# OSI模型\n\n![QQ截图20180912093725.png](https://upload-images.jianshu.io/upload_images/13692239-7b10f9a3fd852c9c.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\n\n# 协议\n\n![QQ截图20180912095634.png](https://upload-images.jianshu.io/upload_images/13692239-a678e0ce57d6eb5b.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\n\n# 数据解封\n![QQ截图20180912102845.png](https://upload-images.jianshu.io/upload_images/13692239-03a2038434a08310.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\n\n# 数据封装\n![QQ截图20180912102912.png](https://upload-images.jianshu.io/upload_images/13692239-2ba56eb24faf5b5a.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\n\n# TCP与UDP协议\n![QQ截图20180912103346.png](https://upload-images.jianshu.io/upload_images/13692239-27c665aaffa7841f.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\n\n# URL资源定位符\n![QQ截图20180912155858.png](https://upload-images.jianshu.io/upload_images/13692239-b6ca4b112783a7ea.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\n\n![QQ截图20180912160229.png](https://upload-images.jianshu.io/upload_images/13692239-d8527e8aec3c9697.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\n\n![QQ截图20180912162055.png](https://upload-images.jianshu.io/upload_images/13692239-0959a0f6d1b20836.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\n\n![QQ截图20180912163328.png](https://upload-images.jianshu.io/upload_images/13692239-10b24becca22a492.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\n\n![QQ截图20180912164450.png](https://upload-images.jianshu.io/upload_images/13692239-4882deba9c48224d.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\n\n![QQ截图20180912164737.png](https://upload-images.jianshu.io/upload_images/13692239-e8b1d32861e5ad6a.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\n\n\n\n#### 01-socket编程\n##### import socket\n\n+ socket又叫套接字，就是进行数据通信两端。分为服务端套接字和客户端套接字\n  套接字编程：自己写服务器或者客户端，进行数据传输\n  Python对socket编程的支持：提供一个socket的库（内置）\n```python\ndef creat_server():\n    '''写一个服务器'''\n    1.创建套接字对象\n    '''\n    socket(family,type)\n    a.family:  确定IP协议类型\n    AF_INET:  ipv4\n    AF_INET6:  ipv6\n    b.type:  传输协议类型\n    SOCK_STREAM:  TCP协议\n    SOCK_DGRAM:  UDP协议\n    '''\n    server = socket.socket()\n\n    2.绑定IP地址和端口\n    '''\n    bind((ip地址，端口))\n    端口：一台电脑上一个端口标记一个唯一的服务。\n    范围0-65535,0-1024是著名端口，专门用来标记一些特殊的服务，一般不用\n    但是，同一个端口同一时间只能绑定一个服务\n    '''\n    server.bind(('10.7.153.190', 2000))\n\n    3.开始监听（监听客户端的请求）\n    '''\n    listen(最大监听个数)\n    同一时间能够连接的客户端的个数\n    '''\n    server.listen(10)\n    connect, addr = server.accept()\n\n    4.让服务器处于运行状态\n    while True:\n        print('================')\n\n        5.连接客户端（建立连接）,返回连接对象和客户端地址\n        这句代码会阻塞线程。直到有客户端来请求当前服务器为止\n        print('监听状态')\n        print(addr)\n        print('================')\n\n        6.服务器给客户端发送消息\n        '''\n        send(data)\n        data:python3中要求类型是bytes，Python2可以是字符串\n        1.字符串(str)转换成二进制（bytes）\n        字符串.encode（编码方式） ----》 编码方式默认值是'utf-8'\n        bytes(字符串，编码方式)\n        '''\n        message = input('客户端：')\n        connect.send(message.encode())\n        connect.send(bytes(message,'utf-8'))\n\n        if message == '拜拜':\n            server.listen(10)\n            connect, addr = server.accept()\n            continue\n        print('=================')\n\n        7.接收从客户端发送过来的消息\n        注意：recv方法也会阻塞线程\n        '''\n        recv(bufsize)\n        bufsize:每次能够接收的最大的字节数\n        返回值：接收的数据，类型是bytes\n        \n        2.二进制转换字符串：\n        二进制.decode()\n        str(二进制，编码方式)\n        '''\n        recv_datd = connect.recv(1024)\n        print(recv_datd.decode())\n        # print(str(recv_datd,'utf-8'))\n\n    8.断开连接\n    connect.close()\n```\n#### 02-客户端\n```python\nimport socket\n\ndef creat_client():\n    1.创建套接字对象\n    client = socket.socket()\n\n    2.连接服务器\n    '''\n    connect(服务器地址)\n    '''\n    client.connect(('10.7.153.190', 2000))\n    while True:\n        3.接收服务器发送的消息\n        data = client.recv(1024)\n        print(data.decode(encoding='utf-8'))\n        print('================')\n\n        4.给服务器发送消息\n        message = input('服务器：')\n        client.send(message.encode())\n        if message == '拜拜':\n            break\n        print('================')\n\n    5.断开连接\n    client.close()\n\nif __name__ == '__main__':\n    creat_client()\n```\n#### 03-图片服务器\n```python\nimport socket\nif __name__ == '__main__':\n    1.创建套接字（）\n    server = socket.socket()\n\n    2.绑定地址（插电话线，绑定电话号码）\n    server.bind(('10.7.153.190', 2000))\n\n    3.监听（人坐在电话旁）\n    server.listen(512)\n\n    # 保证电话被打通\n    while True:\n\n        4.接收请求（接电话）\n        connect,addr = server.accept()\n        print(addr)\n\n        5.发送数据（讲电话）\n        with open('./files/ksnm.jpg','br') as f:\n            data = f.read()\n        connect.send(data)\n\n        6.接收数据（听对方讲话）\n        # connect.recv(1024)\n\n        7.关闭连接（挂电话）\n        connect.close()\n```\n#### 04-图片客户端\n```python\nimport socket\nif __name__ == '__main__':\n    client = socket.socket()\n    client.connect(('10.7.153.190', 2000))\n\n    创建一个空的二进制数据\n    all_data = bytes()\n\n    接收从服务器传回来的数据\n    data = client.recv(1024)\n    while data:\n        print('接收到数据')\n        all_data += data\n        data = client.recv(1024)\n\n    with open('./files/new.jpg','wb') as f:\n        f.write(all_data)\n    # print(all_data)\n    client.close()\n```\n#### 05-http请求\n```python\nimport requests\n\nif __name__ == '__main__':\n    1.准备url()\n    url = 'https://www.apiopen.top/satinApi?type=1&page=1'\n\n    2.发送请求\n    '''\n    get(url,参数对应的字典)\n    post(url,参数对应的字典)\n    返回值是服务器返回的响应\n    '''\n    response = requests.get(url)\n    # requests.get('https://www.apiopen.top/satinApi',{'type':1,'page':1})\n    print(response)\n\n    3.通过响应获取服务器返回的数据\n    a.获取字符串类型的数据\n    print(response.text)\n\n    b.获取json格式的数据\n    print(response.json())\n    print(response.json()['msg'])\n\n    c.获取二进制格式的数据\n    print(response.content)\n\n    4.获取响应头（了解）\n    print(response.headers)\n\n![QQ截图20180912091833.png](https://upload-images.jianshu.io/upload_images/13692239-087f21275d20c02a.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\n```","source":"_posts/python/网络基础.md","raw":"---\ntitle: 网络基础\ndate: 2017-08-10 20:34:22\nauthor: smile\ntags:\n  - 网络\n---\n\n# 网络基础\n\n![QQ截图20180912091833.png](https://upload-images.jianshu.io/upload_images/13692239-d478d708a75bd47b.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\n\n# OSI模型\n\n![QQ截图20180912093725.png](https://upload-images.jianshu.io/upload_images/13692239-7b10f9a3fd852c9c.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\n\n# 协议\n\n![QQ截图20180912095634.png](https://upload-images.jianshu.io/upload_images/13692239-a678e0ce57d6eb5b.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\n\n# 数据解封\n![QQ截图20180912102845.png](https://upload-images.jianshu.io/upload_images/13692239-03a2038434a08310.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\n\n# 数据封装\n![QQ截图20180912102912.png](https://upload-images.jianshu.io/upload_images/13692239-2ba56eb24faf5b5a.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\n\n# TCP与UDP协议\n![QQ截图20180912103346.png](https://upload-images.jianshu.io/upload_images/13692239-27c665aaffa7841f.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\n\n# URL资源定位符\n![QQ截图20180912155858.png](https://upload-images.jianshu.io/upload_images/13692239-b6ca4b112783a7ea.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\n\n![QQ截图20180912160229.png](https://upload-images.jianshu.io/upload_images/13692239-d8527e8aec3c9697.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\n\n![QQ截图20180912162055.png](https://upload-images.jianshu.io/upload_images/13692239-0959a0f6d1b20836.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\n\n![QQ截图20180912163328.png](https://upload-images.jianshu.io/upload_images/13692239-10b24becca22a492.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\n\n![QQ截图20180912164450.png](https://upload-images.jianshu.io/upload_images/13692239-4882deba9c48224d.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\n\n![QQ截图20180912164737.png](https://upload-images.jianshu.io/upload_images/13692239-e8b1d32861e5ad6a.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\n\n\n\n#### 01-socket编程\n##### import socket\n\n+ socket又叫套接字，就是进行数据通信两端。分为服务端套接字和客户端套接字\n  套接字编程：自己写服务器或者客户端，进行数据传输\n  Python对socket编程的支持：提供一个socket的库（内置）\n```python\ndef creat_server():\n    '''写一个服务器'''\n    1.创建套接字对象\n    '''\n    socket(family,type)\n    a.family:  确定IP协议类型\n    AF_INET:  ipv4\n    AF_INET6:  ipv6\n    b.type:  传输协议类型\n    SOCK_STREAM:  TCP协议\n    SOCK_DGRAM:  UDP协议\n    '''\n    server = socket.socket()\n\n    2.绑定IP地址和端口\n    '''\n    bind((ip地址，端口))\n    端口：一台电脑上一个端口标记一个唯一的服务。\n    范围0-65535,0-1024是著名端口，专门用来标记一些特殊的服务，一般不用\n    但是，同一个端口同一时间只能绑定一个服务\n    '''\n    server.bind(('10.7.153.190', 2000))\n\n    3.开始监听（监听客户端的请求）\n    '''\n    listen(最大监听个数)\n    同一时间能够连接的客户端的个数\n    '''\n    server.listen(10)\n    connect, addr = server.accept()\n\n    4.让服务器处于运行状态\n    while True:\n        print('================')\n\n        5.连接客户端（建立连接）,返回连接对象和客户端地址\n        这句代码会阻塞线程。直到有客户端来请求当前服务器为止\n        print('监听状态')\n        print(addr)\n        print('================')\n\n        6.服务器给客户端发送消息\n        '''\n        send(data)\n        data:python3中要求类型是bytes，Python2可以是字符串\n        1.字符串(str)转换成二进制（bytes）\n        字符串.encode（编码方式） ----》 编码方式默认值是'utf-8'\n        bytes(字符串，编码方式)\n        '''\n        message = input('客户端：')\n        connect.send(message.encode())\n        connect.send(bytes(message,'utf-8'))\n\n        if message == '拜拜':\n            server.listen(10)\n            connect, addr = server.accept()\n            continue\n        print('=================')\n\n        7.接收从客户端发送过来的消息\n        注意：recv方法也会阻塞线程\n        '''\n        recv(bufsize)\n        bufsize:每次能够接收的最大的字节数\n        返回值：接收的数据，类型是bytes\n        \n        2.二进制转换字符串：\n        二进制.decode()\n        str(二进制，编码方式)\n        '''\n        recv_datd = connect.recv(1024)\n        print(recv_datd.decode())\n        # print(str(recv_datd,'utf-8'))\n\n    8.断开连接\n    connect.close()\n```\n#### 02-客户端\n```python\nimport socket\n\ndef creat_client():\n    1.创建套接字对象\n    client = socket.socket()\n\n    2.连接服务器\n    '''\n    connect(服务器地址)\n    '''\n    client.connect(('10.7.153.190', 2000))\n    while True:\n        3.接收服务器发送的消息\n        data = client.recv(1024)\n        print(data.decode(encoding='utf-8'))\n        print('================')\n\n        4.给服务器发送消息\n        message = input('服务器：')\n        client.send(message.encode())\n        if message == '拜拜':\n            break\n        print('================')\n\n    5.断开连接\n    client.close()\n\nif __name__ == '__main__':\n    creat_client()\n```\n#### 03-图片服务器\n```python\nimport socket\nif __name__ == '__main__':\n    1.创建套接字（）\n    server = socket.socket()\n\n    2.绑定地址（插电话线，绑定电话号码）\n    server.bind(('10.7.153.190', 2000))\n\n    3.监听（人坐在电话旁）\n    server.listen(512)\n\n    # 保证电话被打通\n    while True:\n\n        4.接收请求（接电话）\n        connect,addr = server.accept()\n        print(addr)\n\n        5.发送数据（讲电话）\n        with open('./files/ksnm.jpg','br') as f:\n            data = f.read()\n        connect.send(data)\n\n        6.接收数据（听对方讲话）\n        # connect.recv(1024)\n\n        7.关闭连接（挂电话）\n        connect.close()\n```\n#### 04-图片客户端\n```python\nimport socket\nif __name__ == '__main__':\n    client = socket.socket()\n    client.connect(('10.7.153.190', 2000))\n\n    创建一个空的二进制数据\n    all_data = bytes()\n\n    接收从服务器传回来的数据\n    data = client.recv(1024)\n    while data:\n        print('接收到数据')\n        all_data += data\n        data = client.recv(1024)\n\n    with open('./files/new.jpg','wb') as f:\n        f.write(all_data)\n    # print(all_data)\n    client.close()\n```\n#### 05-http请求\n```python\nimport requests\n\nif __name__ == '__main__':\n    1.准备url()\n    url = 'https://www.apiopen.top/satinApi?type=1&page=1'\n\n    2.发送请求\n    '''\n    get(url,参数对应的字典)\n    post(url,参数对应的字典)\n    返回值是服务器返回的响应\n    '''\n    response = requests.get(url)\n    # requests.get('https://www.apiopen.top/satinApi',{'type':1,'page':1})\n    print(response)\n\n    3.通过响应获取服务器返回的数据\n    a.获取字符串类型的数据\n    print(response.text)\n\n    b.获取json格式的数据\n    print(response.json())\n    print(response.json()['msg'])\n\n    c.获取二进制格式的数据\n    print(response.content)\n\n    4.获取响应头（了解）\n    print(response.headers)\n\n![QQ截图20180912091833.png](https://upload-images.jianshu.io/upload_images/13692239-087f21275d20c02a.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\n```","slug":"python/网络基础","published":1,"updated":"2019-03-14T01:42:05.223Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjt87kqks002dr8r6xgzyy7lm","content":"<h1 id=\"网络基础\"><a href=\"#网络基础\" class=\"headerlink\" title=\"网络基础\"></a>网络基础</h1><p><img src=\"https://upload-images.jianshu.io/upload_images/13692239-d478d708a75bd47b.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240\" alt=\"QQ截图20180912091833.png\"></p>\n<h1 id=\"OSI模型\"><a href=\"#OSI模型\" class=\"headerlink\" title=\"OSI模型\"></a>OSI模型</h1><p><img src=\"https://upload-images.jianshu.io/upload_images/13692239-7b10f9a3fd852c9c.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240\" alt=\"QQ截图20180912093725.png\"></p>\n<h1 id=\"协议\"><a href=\"#协议\" class=\"headerlink\" title=\"协议\"></a>协议</h1><p><img src=\"https://upload-images.jianshu.io/upload_images/13692239-a678e0ce57d6eb5b.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240\" alt=\"QQ截图20180912095634.png\"></p>\n<h1 id=\"数据解封\"><a href=\"#数据解封\" class=\"headerlink\" title=\"数据解封\"></a>数据解封</h1><p><img src=\"https://upload-images.jianshu.io/upload_images/13692239-03a2038434a08310.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240\" alt=\"QQ截图20180912102845.png\"></p>\n<h1 id=\"数据封装\"><a href=\"#数据封装\" class=\"headerlink\" title=\"数据封装\"></a>数据封装</h1><p><img src=\"https://upload-images.jianshu.io/upload_images/13692239-2ba56eb24faf5b5a.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240\" alt=\"QQ截图20180912102912.png\"></p>\n<h1 id=\"TCP与UDP协议\"><a href=\"#TCP与UDP协议\" class=\"headerlink\" title=\"TCP与UDP协议\"></a>TCP与UDP协议</h1><p><img src=\"https://upload-images.jianshu.io/upload_images/13692239-27c665aaffa7841f.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240\" alt=\"QQ截图20180912103346.png\"></p>\n<h1 id=\"URL资源定位符\"><a href=\"#URL资源定位符\" class=\"headerlink\" title=\"URL资源定位符\"></a>URL资源定位符</h1><p><img src=\"https://upload-images.jianshu.io/upload_images/13692239-b6ca4b112783a7ea.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240\" alt=\"QQ截图20180912155858.png\"></p>\n<p><img src=\"https://upload-images.jianshu.io/upload_images/13692239-d8527e8aec3c9697.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240\" alt=\"QQ截图20180912160229.png\"></p>\n<p><img src=\"https://upload-images.jianshu.io/upload_images/13692239-0959a0f6d1b20836.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240\" alt=\"QQ截图20180912162055.png\"></p>\n<p><img src=\"https://upload-images.jianshu.io/upload_images/13692239-10b24becca22a492.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240\" alt=\"QQ截图20180912163328.png\"></p>\n<p><img src=\"https://upload-images.jianshu.io/upload_images/13692239-4882deba9c48224d.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240\" alt=\"QQ截图20180912164450.png\"></p>\n<p><img src=\"https://upload-images.jianshu.io/upload_images/13692239-e8b1d32861e5ad6a.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240\" alt=\"QQ截图20180912164737.png\"></p>\n<h4 id=\"01-socket编程\"><a href=\"#01-socket编程\" class=\"headerlink\" title=\"01-socket编程\"></a>01-socket编程</h4><h5 id=\"import-socket\"><a href=\"#import-socket\" class=\"headerlink\" title=\"import socket\"></a>import socket</h5><ul>\n<li><p>socket又叫套接字，就是进行数据通信两端。分为服务端套接字和客户端套接字<br>套接字编程：自己写服务器或者客户端，进行数据传输<br>Python对socket编程的支持：提供一个socket的库（内置）</p>\n<pre class=\" language-python\"><code class=\"language-python\"><span class=\"token keyword\">def</span> <span class=\"token function\">creat_server</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n  <span class=\"token triple-quoted-string string\">'''写一个服务器'''</span>\n  <span class=\"token number\">1</span><span class=\"token punctuation\">.</span>创建套接字对象\n  <span class=\"token triple-quoted-string string\">'''\n  socket(family,type)\n  a.family:  确定IP协议类型\n  AF_INET:  ipv4\n  AF_INET6:  ipv6\n  b.type:  传输协议类型\n  SOCK_STREAM:  TCP协议\n  SOCK_DGRAM:  UDP协议\n  '''</span>\n  server <span class=\"token operator\">=</span> socket<span class=\"token punctuation\">.</span>socket<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n\n  <span class=\"token number\">2</span><span class=\"token punctuation\">.</span>绑定IP地址和端口\n  <span class=\"token triple-quoted-string string\">'''\n  bind((ip地址，端口))\n  端口：一台电脑上一个端口标记一个唯一的服务。\n  范围0-65535,0-1024是著名端口，专门用来标记一些特殊的服务，一般不用\n  但是，同一个端口同一时间只能绑定一个服务\n  '''</span>\n  server<span class=\"token punctuation\">.</span>bind<span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token string\">'10.7.153.190'</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2000</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n\n  <span class=\"token number\">3</span><span class=\"token punctuation\">.</span>开始监听（监听客户端的请求）\n  <span class=\"token triple-quoted-string string\">'''\n  listen(最大监听个数)\n  同一时间能够连接的客户端的个数\n  '''</span>\n  server<span class=\"token punctuation\">.</span>listen<span class=\"token punctuation\">(</span><span class=\"token number\">10</span><span class=\"token punctuation\">)</span>\n  connect<span class=\"token punctuation\">,</span> addr <span class=\"token operator\">=</span> server<span class=\"token punctuation\">.</span>accept<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n\n  <span class=\"token number\">4</span><span class=\"token punctuation\">.</span>让服务器处于运行状态\n  <span class=\"token keyword\">while</span> <span class=\"token boolean\">True</span><span class=\"token punctuation\">:</span>\n      <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string\">'================'</span><span class=\"token punctuation\">)</span>\n\n      <span class=\"token number\">5</span><span class=\"token punctuation\">.</span>连接客户端（建立连接）<span class=\"token punctuation\">,</span>返回连接对象和客户端地址\n      这句代码会阻塞线程。直到有客户端来请求当前服务器为止\n      <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string\">'监听状态'</span><span class=\"token punctuation\">)</span>\n      <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>addr<span class=\"token punctuation\">)</span>\n      <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string\">'================'</span><span class=\"token punctuation\">)</span>\n\n      <span class=\"token number\">6</span><span class=\"token punctuation\">.</span>服务器给客户端发送消息\n      <span class=\"token triple-quoted-string string\">'''\n      send(data)\n      data:python3中要求类型是bytes，Python2可以是字符串\n      1.字符串(str)转换成二进制（bytes）\n      字符串.encode（编码方式） ----》 编码方式默认值是'utf-8'\n      bytes(字符串，编码方式)\n      '''</span>\n      message <span class=\"token operator\">=</span> input<span class=\"token punctuation\">(</span><span class=\"token string\">'客户端：'</span><span class=\"token punctuation\">)</span>\n      connect<span class=\"token punctuation\">.</span>send<span class=\"token punctuation\">(</span>message<span class=\"token punctuation\">.</span>encode<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n      connect<span class=\"token punctuation\">.</span>send<span class=\"token punctuation\">(</span>bytes<span class=\"token punctuation\">(</span>message<span class=\"token punctuation\">,</span><span class=\"token string\">'utf-8'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n\n      <span class=\"token keyword\">if</span> message <span class=\"token operator\">==</span> <span class=\"token string\">'拜拜'</span><span class=\"token punctuation\">:</span>\n          server<span class=\"token punctuation\">.</span>listen<span class=\"token punctuation\">(</span><span class=\"token number\">10</span><span class=\"token punctuation\">)</span>\n          connect<span class=\"token punctuation\">,</span> addr <span class=\"token operator\">=</span> server<span class=\"token punctuation\">.</span>accept<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n          <span class=\"token keyword\">continue</span>\n      <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string\">'================='</span><span class=\"token punctuation\">)</span>\n\n      <span class=\"token number\">7</span><span class=\"token punctuation\">.</span>接收从客户端发送过来的消息\n      注意：recv方法也会阻塞线程\n      <span class=\"token triple-quoted-string string\">'''\n      recv(bufsize)\n      bufsize:每次能够接收的最大的字节数\n      返回值：接收的数据，类型是bytes\n\n      2.二进制转换字符串：\n      二进制.decode()\n      str(二进制，编码方式)\n      '''</span>\n      recv_datd <span class=\"token operator\">=</span> connect<span class=\"token punctuation\">.</span>recv<span class=\"token punctuation\">(</span><span class=\"token number\">1024</span><span class=\"token punctuation\">)</span>\n      <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>recv_datd<span class=\"token punctuation\">.</span>decode<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n      <span class=\"token comment\" spellcheck=\"true\"># print(str(recv_datd,'utf-8'))</span>\n\n  <span class=\"token number\">8</span><span class=\"token punctuation\">.</span>断开连接\n  connect<span class=\"token punctuation\">.</span>close<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n</code></pre>\n<h4 id=\"02-客户端\"><a href=\"#02-客户端\" class=\"headerlink\" title=\"02-客户端\"></a>02-客户端</h4><p><code>`</code>python<br>import socket</p>\n</li>\n</ul>\n<p>def creat_client():<br>    1.创建套接字对象<br>    client = socket.socket()</p>\n<pre><code>2.连接服务器\n&#39;&#39;&#39;\nconnect(服务器地址)\n&#39;&#39;&#39;\nclient.connect((&#39;10.7.153.190&#39;, 2000))\nwhile True:\n    3.接收服务器发送的消息\n    data = client.recv(1024)\n    print(data.decode(encoding=&#39;utf-8&#39;))\n    print(&#39;================&#39;)\n\n    4.给服务器发送消息\n    message = input(&#39;服务器：&#39;)\n    client.send(message.encode())\n    if message == &#39;拜拜&#39;:\n        break\n    print(&#39;================&#39;)\n\n5.断开连接\nclient.close()\n</code></pre><p>if <strong>name</strong> == ‘<strong>main</strong>‘:<br>    creat_client()</p>\n<pre><code>#### 03-图片服务器\n```python\nimport socket\nif __name__ == &#39;__main__&#39;:\n    1.创建套接字（）\n    server = socket.socket()\n\n    2.绑定地址（插电话线，绑定电话号码）\n    server.bind((&#39;10.7.153.190&#39;, 2000))\n\n    3.监听（人坐在电话旁）\n    server.listen(512)\n\n    # 保证电话被打通\n    while True:\n\n        4.接收请求（接电话）\n        connect,addr = server.accept()\n        print(addr)\n\n        5.发送数据（讲电话）\n        with open(&#39;./files/ksnm.jpg&#39;,&#39;br&#39;) as f:\n            data = f.read()\n        connect.send(data)\n\n        6.接收数据（听对方讲话）\n        # connect.recv(1024)\n\n        7.关闭连接（挂电话）\n        connect.close()\n</code></pre><h4 id=\"04-图片客户端\"><a href=\"#04-图片客户端\" class=\"headerlink\" title=\"04-图片客户端\"></a>04-图片客户端</h4><pre class=\" language-python\"><code class=\"language-python\"><span class=\"token keyword\">import</span> socket\n<span class=\"token keyword\">if</span> __name__ <span class=\"token operator\">==</span> <span class=\"token string\">'__main__'</span><span class=\"token punctuation\">:</span>\n    client <span class=\"token operator\">=</span> socket<span class=\"token punctuation\">.</span>socket<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    client<span class=\"token punctuation\">.</span>connect<span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token string\">'10.7.153.190'</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2000</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n\n    创建一个空的二进制数据\n    all_data <span class=\"token operator\">=</span> bytes<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n\n    接收从服务器传回来的数据\n    data <span class=\"token operator\">=</span> client<span class=\"token punctuation\">.</span>recv<span class=\"token punctuation\">(</span><span class=\"token number\">1024</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">while</span> data<span class=\"token punctuation\">:</span>\n        <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string\">'接收到数据'</span><span class=\"token punctuation\">)</span>\n        all_data <span class=\"token operator\">+=</span> data\n        data <span class=\"token operator\">=</span> client<span class=\"token punctuation\">.</span>recv<span class=\"token punctuation\">(</span><span class=\"token number\">1024</span><span class=\"token punctuation\">)</span>\n\n    <span class=\"token keyword\">with</span> open<span class=\"token punctuation\">(</span><span class=\"token string\">'./files/new.jpg'</span><span class=\"token punctuation\">,</span><span class=\"token string\">'wb'</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">as</span> f<span class=\"token punctuation\">:</span>\n        f<span class=\"token punctuation\">.</span>write<span class=\"token punctuation\">(</span>all_data<span class=\"token punctuation\">)</span>\n    <span class=\"token comment\" spellcheck=\"true\"># print(all_data)</span>\n    client<span class=\"token punctuation\">.</span>close<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n</code></pre>\n<h4 id=\"05-http请求\"><a href=\"#05-http请求\" class=\"headerlink\" title=\"05-http请求\"></a>05-http请求</h4><pre class=\" language-python\"><code class=\"language-python\"><span class=\"token keyword\">import</span> requests\n\n<span class=\"token keyword\">if</span> __name__ <span class=\"token operator\">==</span> <span class=\"token string\">'__main__'</span><span class=\"token punctuation\">:</span>\n    <span class=\"token number\">1</span><span class=\"token punctuation\">.</span>准备url<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    url <span class=\"token operator\">=</span> <span class=\"token string\">'https://www.apiopen.top/satinApi?type=1&amp;page=1'</span>\n\n    <span class=\"token number\">2</span><span class=\"token punctuation\">.</span>发送请求\n    <span class=\"token triple-quoted-string string\">'''\n    get(url,参数对应的字典)\n    post(url,参数对应的字典)\n    返回值是服务器返回的响应\n    '''</span>\n    response <span class=\"token operator\">=</span> requests<span class=\"token punctuation\">.</span>get<span class=\"token punctuation\">(</span>url<span class=\"token punctuation\">)</span>\n    <span class=\"token comment\" spellcheck=\"true\"># requests.get('https://www.apiopen.top/satinApi',{'type':1,'page':1})</span>\n    <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>response<span class=\"token punctuation\">)</span>\n\n    <span class=\"token number\">3</span><span class=\"token punctuation\">.</span>通过响应获取服务器返回的数据\n    a<span class=\"token punctuation\">.</span>获取字符串类型的数据\n    <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>response<span class=\"token punctuation\">.</span>text<span class=\"token punctuation\">)</span>\n\n    b<span class=\"token punctuation\">.</span>获取json格式的数据\n    <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>response<span class=\"token punctuation\">.</span>json<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>response<span class=\"token punctuation\">.</span>json<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">[</span><span class=\"token string\">'msg'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>\n\n    c<span class=\"token punctuation\">.</span>获取二进制格式的数据\n    <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>response<span class=\"token punctuation\">.</span>content<span class=\"token punctuation\">)</span>\n\n    <span class=\"token number\">4</span><span class=\"token punctuation\">.</span>获取响应头（了解）\n    <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>response<span class=\"token punctuation\">.</span>headers<span class=\"token punctuation\">)</span>\n\n!<span class=\"token punctuation\">[</span>QQ截图<span class=\"token number\">20180912091833.</span>png<span class=\"token punctuation\">]</span><span class=\"token punctuation\">(</span>https<span class=\"token punctuation\">:</span><span class=\"token operator\">//</span>upload<span class=\"token operator\">-</span>images<span class=\"token punctuation\">.</span>jianshu<span class=\"token punctuation\">.</span>io<span class=\"token operator\">/</span>upload_images<span class=\"token operator\">/</span><span class=\"token number\">13692239</span><span class=\"token operator\">-</span><span class=\"token number\">087f21275d20c02a.</span>png?imageMogr2<span class=\"token operator\">/</span>auto<span class=\"token operator\">-</span>orient<span class=\"token operator\">/</span>strip<span class=\"token operator\">%</span>7CimageView2<span class=\"token operator\">/</span><span class=\"token number\">2</span><span class=\"token operator\">/</span>w<span class=\"token operator\">/</span><span class=\"token number\">1240</span><span class=\"token punctuation\">)</span>\n</code></pre>\n","site":{"data":{}},"excerpt":"","more":"<h1 id=\"网络基础\"><a href=\"#网络基础\" class=\"headerlink\" title=\"网络基础\"></a>网络基础</h1><p><img src=\"https://upload-images.jianshu.io/upload_images/13692239-d478d708a75bd47b.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240\" alt=\"QQ截图20180912091833.png\"></p>\n<h1 id=\"OSI模型\"><a href=\"#OSI模型\" class=\"headerlink\" title=\"OSI模型\"></a>OSI模型</h1><p><img src=\"https://upload-images.jianshu.io/upload_images/13692239-7b10f9a3fd852c9c.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240\" alt=\"QQ截图20180912093725.png\"></p>\n<h1 id=\"协议\"><a href=\"#协议\" class=\"headerlink\" title=\"协议\"></a>协议</h1><p><img src=\"https://upload-images.jianshu.io/upload_images/13692239-a678e0ce57d6eb5b.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240\" alt=\"QQ截图20180912095634.png\"></p>\n<h1 id=\"数据解封\"><a href=\"#数据解封\" class=\"headerlink\" title=\"数据解封\"></a>数据解封</h1><p><img src=\"https://upload-images.jianshu.io/upload_images/13692239-03a2038434a08310.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240\" alt=\"QQ截图20180912102845.png\"></p>\n<h1 id=\"数据封装\"><a href=\"#数据封装\" class=\"headerlink\" title=\"数据封装\"></a>数据封装</h1><p><img src=\"https://upload-images.jianshu.io/upload_images/13692239-2ba56eb24faf5b5a.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240\" alt=\"QQ截图20180912102912.png\"></p>\n<h1 id=\"TCP与UDP协议\"><a href=\"#TCP与UDP协议\" class=\"headerlink\" title=\"TCP与UDP协议\"></a>TCP与UDP协议</h1><p><img src=\"https://upload-images.jianshu.io/upload_images/13692239-27c665aaffa7841f.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240\" alt=\"QQ截图20180912103346.png\"></p>\n<h1 id=\"URL资源定位符\"><a href=\"#URL资源定位符\" class=\"headerlink\" title=\"URL资源定位符\"></a>URL资源定位符</h1><p><img src=\"https://upload-images.jianshu.io/upload_images/13692239-b6ca4b112783a7ea.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240\" alt=\"QQ截图20180912155858.png\"></p>\n<p><img src=\"https://upload-images.jianshu.io/upload_images/13692239-d8527e8aec3c9697.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240\" alt=\"QQ截图20180912160229.png\"></p>\n<p><img src=\"https://upload-images.jianshu.io/upload_images/13692239-0959a0f6d1b20836.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240\" alt=\"QQ截图20180912162055.png\"></p>\n<p><img src=\"https://upload-images.jianshu.io/upload_images/13692239-10b24becca22a492.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240\" alt=\"QQ截图20180912163328.png\"></p>\n<p><img src=\"https://upload-images.jianshu.io/upload_images/13692239-4882deba9c48224d.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240\" alt=\"QQ截图20180912164450.png\"></p>\n<p><img src=\"https://upload-images.jianshu.io/upload_images/13692239-e8b1d32861e5ad6a.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240\" alt=\"QQ截图20180912164737.png\"></p>\n<h4 id=\"01-socket编程\"><a href=\"#01-socket编程\" class=\"headerlink\" title=\"01-socket编程\"></a>01-socket编程</h4><h5 id=\"import-socket\"><a href=\"#import-socket\" class=\"headerlink\" title=\"import socket\"></a>import socket</h5><ul>\n<li><p>socket又叫套接字，就是进行数据通信两端。分为服务端套接字和客户端套接字<br>套接字编程：自己写服务器或者客户端，进行数据传输<br>Python对socket编程的支持：提供一个socket的库（内置）</p>\n<pre><code class=\"python\">def creat_server():\n  &#39;&#39;&#39;写一个服务器&#39;&#39;&#39;\n  1.创建套接字对象\n  &#39;&#39;&#39;\n  socket(family,type)\n  a.family:  确定IP协议类型\n  AF_INET:  ipv4\n  AF_INET6:  ipv6\n  b.type:  传输协议类型\n  SOCK_STREAM:  TCP协议\n  SOCK_DGRAM:  UDP协议\n  &#39;&#39;&#39;\n  server = socket.socket()\n\n  2.绑定IP地址和端口\n  &#39;&#39;&#39;\n  bind((ip地址，端口))\n  端口：一台电脑上一个端口标记一个唯一的服务。\n  范围0-65535,0-1024是著名端口，专门用来标记一些特殊的服务，一般不用\n  但是，同一个端口同一时间只能绑定一个服务\n  &#39;&#39;&#39;\n  server.bind((&#39;10.7.153.190&#39;, 2000))\n\n  3.开始监听（监听客户端的请求）\n  &#39;&#39;&#39;\n  listen(最大监听个数)\n  同一时间能够连接的客户端的个数\n  &#39;&#39;&#39;\n  server.listen(10)\n  connect, addr = server.accept()\n\n  4.让服务器处于运行状态\n  while True:\n      print(&#39;================&#39;)\n\n      5.连接客户端（建立连接）,返回连接对象和客户端地址\n      这句代码会阻塞线程。直到有客户端来请求当前服务器为止\n      print(&#39;监听状态&#39;)\n      print(addr)\n      print(&#39;================&#39;)\n\n      6.服务器给客户端发送消息\n      &#39;&#39;&#39;\n      send(data)\n      data:python3中要求类型是bytes，Python2可以是字符串\n      1.字符串(str)转换成二进制（bytes）\n      字符串.encode（编码方式） ----》 编码方式默认值是&#39;utf-8&#39;\n      bytes(字符串，编码方式)\n      &#39;&#39;&#39;\n      message = input(&#39;客户端：&#39;)\n      connect.send(message.encode())\n      connect.send(bytes(message,&#39;utf-8&#39;))\n\n      if message == &#39;拜拜&#39;:\n          server.listen(10)\n          connect, addr = server.accept()\n          continue\n      print(&#39;=================&#39;)\n\n      7.接收从客户端发送过来的消息\n      注意：recv方法也会阻塞线程\n      &#39;&#39;&#39;\n      recv(bufsize)\n      bufsize:每次能够接收的最大的字节数\n      返回值：接收的数据，类型是bytes\n\n      2.二进制转换字符串：\n      二进制.decode()\n      str(二进制，编码方式)\n      &#39;&#39;&#39;\n      recv_datd = connect.recv(1024)\n      print(recv_datd.decode())\n      # print(str(recv_datd,&#39;utf-8&#39;))\n\n  8.断开连接\n  connect.close()\n</code></pre>\n<h4 id=\"02-客户端\"><a href=\"#02-客户端\" class=\"headerlink\" title=\"02-客户端\"></a>02-客户端</h4><p><code>`</code>python<br>import socket</p>\n</li>\n</ul>\n<p>def creat_client():<br>    1.创建套接字对象<br>    client = socket.socket()</p>\n<pre><code>2.连接服务器\n&#39;&#39;&#39;\nconnect(服务器地址)\n&#39;&#39;&#39;\nclient.connect((&#39;10.7.153.190&#39;, 2000))\nwhile True:\n    3.接收服务器发送的消息\n    data = client.recv(1024)\n    print(data.decode(encoding=&#39;utf-8&#39;))\n    print(&#39;================&#39;)\n\n    4.给服务器发送消息\n    message = input(&#39;服务器：&#39;)\n    client.send(message.encode())\n    if message == &#39;拜拜&#39;:\n        break\n    print(&#39;================&#39;)\n\n5.断开连接\nclient.close()\n</code></pre><p>if <strong>name</strong> == ‘<strong>main</strong>‘:<br>    creat_client()</p>\n<pre><code>#### 03-图片服务器\n```python\nimport socket\nif __name__ == &#39;__main__&#39;:\n    1.创建套接字（）\n    server = socket.socket()\n\n    2.绑定地址（插电话线，绑定电话号码）\n    server.bind((&#39;10.7.153.190&#39;, 2000))\n\n    3.监听（人坐在电话旁）\n    server.listen(512)\n\n    # 保证电话被打通\n    while True:\n\n        4.接收请求（接电话）\n        connect,addr = server.accept()\n        print(addr)\n\n        5.发送数据（讲电话）\n        with open(&#39;./files/ksnm.jpg&#39;,&#39;br&#39;) as f:\n            data = f.read()\n        connect.send(data)\n\n        6.接收数据（听对方讲话）\n        # connect.recv(1024)\n\n        7.关闭连接（挂电话）\n        connect.close()\n</code></pre><h4 id=\"04-图片客户端\"><a href=\"#04-图片客户端\" class=\"headerlink\" title=\"04-图片客户端\"></a>04-图片客户端</h4><pre><code class=\"python\">import socket\nif __name__ == &#39;__main__&#39;:\n    client = socket.socket()\n    client.connect((&#39;10.7.153.190&#39;, 2000))\n\n    创建一个空的二进制数据\n    all_data = bytes()\n\n    接收从服务器传回来的数据\n    data = client.recv(1024)\n    while data:\n        print(&#39;接收到数据&#39;)\n        all_data += data\n        data = client.recv(1024)\n\n    with open(&#39;./files/new.jpg&#39;,&#39;wb&#39;) as f:\n        f.write(all_data)\n    # print(all_data)\n    client.close()\n</code></pre>\n<h4 id=\"05-http请求\"><a href=\"#05-http请求\" class=\"headerlink\" title=\"05-http请求\"></a>05-http请求</h4><pre><code class=\"python\">import requests\n\nif __name__ == &#39;__main__&#39;:\n    1.准备url()\n    url = &#39;https://www.apiopen.top/satinApi?type=1&amp;page=1&#39;\n\n    2.发送请求\n    &#39;&#39;&#39;\n    get(url,参数对应的字典)\n    post(url,参数对应的字典)\n    返回值是服务器返回的响应\n    &#39;&#39;&#39;\n    response = requests.get(url)\n    # requests.get(&#39;https://www.apiopen.top/satinApi&#39;,{&#39;type&#39;:1,&#39;page&#39;:1})\n    print(response)\n\n    3.通过响应获取服务器返回的数据\n    a.获取字符串类型的数据\n    print(response.text)\n\n    b.获取json格式的数据\n    print(response.json())\n    print(response.json()[&#39;msg&#39;])\n\n    c.获取二进制格式的数据\n    print(response.content)\n\n    4.获取响应头（了解）\n    print(response.headers)\n\n![QQ截图20180912091833.png](https://upload-images.jianshu.io/upload_images/13692239-087f21275d20c02a.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\n</code></pre>\n"},{"title":"类和对象","date":"2017-07-10T11:20:54.000Z","author":"smile","_content":"\n###  类和对象\n\n1.理论上的定义\n\n类：就是拥有相同功能和相同属性的对象的集合（类是抽象的）\n\n对象：类的实例（对象是具体的）\n\n2.从生活的角度\n\n如果说电脑是一个类，我桌上的这台电脑就是一个对象\n如果说车是一个类，具体的一辆车就是一个对象\n\n3.编程思想\n\n面向过程编程：以算法为工具\n\n函数式编程：以函数为工具\n\n面向对象编程：以类和对象为工具（面向生活）\n\n封装效果：一个类中可以对多个功能进行封装（多个函数），对多个属性进行封装\n\n###  类的声明\n\n1.类的声明格式\nclass 类名（父类列表）：\n——类的说明文档\n——类的内容\n2说明：\n\n- class：声明类的关键字\n- 类名：标识符，不能是关键字。驼峰式命名（第一个单词首字母小写，其它的单词首字母大写），首字母大写！！！，见名知义\n  ​    例如：Person、StudentSystem\n- (父类列表)：括号与括号里的内容可以省略，这个是继承语法\n- 冒号：固定的\n- 类的内容：包括类的方法和类的属性\n\n\n\n3.类中的方法\n方法：声明在类中的函数\n\n- a.对象方法：对象方法需要对象来调用，对象，函数名（）\n  直接写在类中的方法，自带一个self参数\n- b.类方法\n- c.静态方法\n\n4.创建对象\n创建类的时候，系统会默认给我们创建这个类对应的构造方法\n构造方法：类名（）--》创建类对应的对象\n\n```python\n\n# 创建一个类\nclass Person:\n    '''人类'''\n    def eat(self):\n        print('人吃饭')\n\n\n\nif __name__ == '__main__':\n    # 创建对象\n    p1 = Person()    # 创建Person类的对象，并且将对象地址存到p1中\n\n    # 一个类可以有多个对象\n    p2 = Person()\n    # 只有在调用构造方法的时候才会产生新的对象\n    p3 = p2\n    print(id(p1),id(p2),id(p3))\n\n    # 2.调用对象\n    # 通过对象调用对象方法，默认参数self不需要传参，系统自动传参\n    p1.eat()\n```\n### 构造方法和init方法\n\n1.构造方法：系统自动创建，方法名和类名一样，用来创建对象\n2.__init__:init方法的功能是用来做初始化和添加对象属性的\n当我们通过构造方法去创建对象的时候，系统会自动调用init方法(不用主动调用init方法)\n\n```python\nclass Dog:\n    def __init__(self):\n        print('init方法')\n\nclass Person:\n    # init方法可以添加参数\n    def __init__(self,name,age = 18):\n        print(name,age)\n        print('人类的init方法')\n\nif __name__ == '__main__':\n    # 创建对象的过程：调用构造方法在内存中开辟空间创造一个对象，然后用新建的这个对象去调用init方法，\n    #                 来初始化对象的属性，最后才将对象返回\n    dog1 = Dog()\n    dog2 = Dog()\n    # 如果类的init方法有参数，通过给构造方法传参类init方法传参\n    p1 = Person('小明')\n    p2 = Person('小红',20)\n    p3 = Person(age = 20,name = '东东')\n```\n### 对象属性\n\n类中的内容：属性和方法\n1.属性:(保存值的)\n\n- a.对象的属性：不同的对象，对应的值可能不一样，这样的属性就是对象属性属于对象\n  类中的对象属性是声明在init方法中的，并且声明格式：self.属性名 = 初值\n  对象属性的使用:对象，属性名\n- b.类的字段：属于类的，所有的对象对应的值是一样的\n\n\n\n2.方法：(保存功能的)\n\n- a.对象方法\n- b.类方法\n- c.静态方法\n\n```python\n\nclass Student:\n    '''学生类'''\n    def __init__(self):\n        # 声明对象属性name,age,id\n        self.name = '李青'\n        self.age = 0\n        self.id = '001'\n\nclass Dog:\n    '''狗类'''\n    # 创建Dog的对象的时候，必须传类型和颜色\n    def __init__(self,type1,color1):\n        self.type = type1\n        self.color = color1\n\nclass Computer:\n    '''电脑类'''\n    # 创建对象的时候可以使用默认值，也可以使用自己传的值\n    def __init__(self,color= '白色',memory= 0):\n        self.color = ''\n        self.memory = 1000\n\nclass  rectangle:\n    def __init__(self,long= 100,width= 50):\n        self.long = long\n        self.width = width\n\n\nif __name__ == '__main__':\n    # stu1就是Student类的对象\n    stu1 = Student()\n    # 通过对象去使用对象的属性\n    print(stu1.name,stu1.age,stu1.id)\n    # 通过对象去修改对象的属性\n    stu1.name = 'SB'\n    print(stu1.name)\n    dog1 = Dog('土狗','黄色')\n    print(dog1.type,dog1.color)\n    dog2 =Dog('斗狗','黑色')\n    print(dog2.type,dog2.color)\n\n\n    comp1 = Computer()\n    print(comp1.color,comp1.memory)\n    comp2 = Computer('黑色',512)\n    print(comp2.color,comp2.memory)\n\n    sq =  rectangle()\n    print(sq.long,sq.width)\n    sq =  rectangle(10,5)\n    print(sq.long,sq.width)\n```\n### 对象属性的增删改查\n\nPython是动态语言，Python中类的对象的属性可以进行增删的操作\n```python\nclass Person:\n    '''人类'''\n    def __init__(self):\n        self.name = '李四'\n        self.age = 18\n        self.height = 160\n```\n##### 1.查\n方法一：对象.属性\n方法二：def getattr(对象，属性名，default=None)\n方法三：对象._ _getattribute_ _('height')\n```python\nprint(p1.name)\n    # print(p1.nmae2)      # 属性不存在会报错\n\nprint(getattr(p1,'age2',0))    # 属性不存在可以通过设置默认值，让程序不崩溃，并且返回默认值\n\n height = p1.__getattribute__('height')\n    print(height)\n```\n##### 2.改（修改属性的值，属性存在）\n方法一：对象.属性 = 新值\n```python\np1.name = '张三'\n    print(p1.name)\n```\n方法二：def setattr(对象，属性名，新值）\n```python\nsetattr(p1,'age',20)\n    print(p1.age)\n```\n方法三：对象._ _setattr_ _(属性名，新值）\n```python\n p1.__setattr__('height',170)\n    print(p1.height)\n```\n##### 3.增（增加属性）\n注意：添加只能给某一个对象添加对应的属性\n方法一：对象.属性 = 新值\n```python\np1.sex = '女'\n    print(p1.sex)\n```\n方法二：def setattr(对象，属性名，新值)\n```python\n setattr(p1,'weight',55)\n    print(p1.weight)\n```\n方法三：对象.__setattr__(属性名，新值)\n```python\np1.__setattr__('color', '绿色')\n    print(p1.color)\n    # print(p2.sex)        # 添加只影响一个对象\n```\n##### 4.删（删除对象属性）\n注意：删除只针对指定的对象\n方法一：del 对象.属性\n```python\ndel p1.name\n    # print(p1.name)      可行\n```\n方法二：delattr(对象，属性名)\n```python\n delattr(p1,'age')\n    # print(p1.age)       可行\n```\n方法三：对象._ _delattr_ _(属性名）\n```python\n p1.__delattr__('height')\n    # print(p1.height)     可行\n    print(p2.name,p2.age)\n```\n### 对象方法\n\n1.对象方法：\n\n- a.什么样的方法是对象方法：直接声明在类里面的函数默认是对象方法，有一个默认参数self\n- b.对象方法要通过对象来调用：对象.对象方法（）\n- c.对象方法中的默认参数self不需要传参，因为在调用这个方法的时候，\n  系统会自动将当前对象传给self，那个对象调用方法，self就指向谁\n\n```python\nimport math\nclass Circle:\n    '''圆类'''\n    def __init__(self,radius1):\n        self.radius = radius1\n    # 声明了一个对象方法area\n    # 在这，self就是调用area方法的对象，对象能做的事情，self都可以做\n    def area(self):\n        # print(id(self))\n        # print('求圆的面积')\n        return math.pi * self.radius **2\n```\n+ 练习1：写一个矩形类，有属性长和宽,有两个功能，分别是求周长和面积\n```python\nclass Rectangle:\n    '''矩形类'''\n    def __init__(self,long,width):\n        self.long = long\n        self.width =width\n    # 对象方法是否需要额外参数，看实现函数的功能需不需要除了对象属性以外的其他数据\n    def area(self):\n        return self.long * self.width\n    def perimeter(self):\n        return (self.width + self.long) *2\n```\n+ 练习2：写一个班级类，班级里面有多个学生的一门成绩，班级名，可以获取班级成绩中的最高分\n```python\nclass Grade:\n    '''班级类'''\n    def __init__(self,class_name,*grade):\n        self.class_name = class_name\n        self.grade = grade\n        # self.grade = []\n    def top_score(self):\n        # if not self.grade:\n        #     return None\n        # max（序列）----》获取序列中元素的最大值\n        # min (序列）----》获取序列中元素的最小值\n        return max(self.grade)\n```\n```python\nif __name__ == '__main__':\n    c1 = Circle(3)\n    print(id(c1))\n    print('c1的面积',c1.area())\n\n\n    c2 = Circle(5)\n    print('c2的面积', c2.area())\n\n    g1 = Grade('python1806',90,80,70)\n    print(g1.class_name)\n    print(g1.top_score())\n\n    g2 = Rectangle(10,5)\n    print(g2.area())\n    print(g2.perimeter())\n```\n### 类的字段\n\n1.类的属性叫类的字段\n\n- a.什么是类的字段\n  类的字段就是声明在类的里面，方法的外面的变量\n- b.什么样的属性声明成类的字段：\n  属于类的，对于这个类的所有的对象来说，其值是一样的\n- c.怎么使用\n  通过类使用：类.字段\n\n```python\nclass Person:\n    # number就是类的字段\n    number = 10\n```\n练习：写一个球类，用一个属性来保存这个类的创建对象的个数\n```python\nclass Ball:\n     count = 0\n     # 每次创建球的对象都会调用init方法，所以调用init方法的次数就是Ball创建的对象的个数\n     def __init__(self):\n         Ball.count += 1\nball1 = Ball()\nball2 = Ball()\nprint(Ball.count)\n\nif __name__ == '__main__':\n    # 通过类获取类的字段的值\n    print(Person.number)\n\n    Person.number = 70\n    print(Person.number)\n```\n### 类的方法\n\n类中的方法\n+ 1.对象方法（实例方法）\n  声明的形式：直接声明在类中\n  特点：自带一个不需要主动传参的默认参数self，谁来调用指向谁\n+ 2.类方法\n  声明形式：声明方法前需要使用@classmethod\n  特点：自带一个参数cls,这个参数调用的时候不需要传值，系统自动传值，谁调用，传给谁！始终指向当前类\n  调用：通过类调用---》类.类方法（）\n+ 3.静态方法\n  声明的形式：声明方法前需要使用@staticmethod说明\n  特点：没有默认参数\n  调用：通过类来调用--》类.静态方法（）\n```python\nclass Class1:\n\n    # 类字段\n    number = 10\n    # 声明一个对象方法\n    def object_func(self):\n        print('对象方法')\n\n    # 声明一个类方法\n    @classmethod\n    def class_func(cls):\n        # 通过cls去使用类的字段\n        print('cls:',cls.number)\n        # 通过cls去创建对象\n        tc =cls()\n        tc.object_func()\n        print('这是一个类方法')\n\n    @staticmethod\n    def static_func():\n        print('这是一个静态方法')\n\nc1 = Class1()\n# 调用对象方法\nc1.object_func()\nprint(Class1.number)\n# 调用类方法\nClass1.class_func()\n# 调用静态方法\nClass1.static_func()\n```\n4.遇到问题怎么来选择使用那种方法：\n+ a.大前提：只要实现方法的功能需要用到对象的属性，我们就使用对象方法，否则就使用静态方法或者类方法\n+ b.不使用对象方法的前提下，如果实现功能需要类的字段就使用类方法\n+ c.实现功能既不需要对象的属性，又不需要类的字段就使用静态方法\n  注意：静态方法和类方法划分不严格，静态方法能做的，类方法可以做，反之成立\n```python\nclass Person:\n    # 类的字段，存储人类数量\n    number = 61\n\n    @classmethod\n    def show_number1(cls):\n        print('人类的数量是：%d亿'% cls.number)\n\n    @staticmethod\n    def show_number2():\n        print('人类的数量是：%d亿'% Person.number)\n\nPerson.show_number1()\nPerson.show_number2()\n```\n\n### 内置类属性\n\n内置类属性就是魔法属性\n魔法属性：属性名的前面和后面都有两个下划线\n魔法方法：方法的前后都有两个下划线\n```python\nimport datetime\nclass Person:\n    '''人的类'''\n    # 类的字段\n    number = 61\n    def __init__(self,name1,age1,height1):\n        # 对象的属性\n        self.name = name1\n        self.age = age1\n        self.height =height1\n\n    def run(self):\n        print('%s在跑步'% (self.name))\n\n    #类方法\n    @classmethod\n    def show_number(cls):\n        print('人类的数量为：%d亿'% (cls.number))\n\n    # 静态方法\n    @staticmethod\n    def destroy():\n        print('人类在破坏环境!')\n\nif __name__ == '__main__':\n    p1 = Person('张三丰',20,173)\n```\n #####  1.__name__属性  --- 类的名字（是字符串）\n```python\n    # 类的属性\n    name = Person.__name__\n    print(name,type(name))\n```\n#####  2.__class__属性 --- 获取对象对应类（是一个类）\n```python\n    # 对象的属性\n    # my_classs是一个类，之前类能做的事情他都能做\n    my_class = p1.__class__\n    p2 = my_class('小明',20,100)\n    print(p2.name)\n```\n#####  3.__dict__属性 --- 将对象和类的属性及其对应的值转换成键值对存到一个字典中\n```python \n    # print(Person.__class__)\n    print(p1.__dict__)     #  {'name': '张三丰', 'age': 20, 'height': 173}\n```\n##### 4.__doc__属性----获取类的说明文档\n\n```python\n    # 类的属性\n    doc = Person.__doc__\n    print(doc)\n```\n#####  5.__module__属性 ---- 获取所有模块对应的名字\n```python \n    print(Person.__module__)\n    print(datetime.datetime.__module__)\n```\n##### 6.__bases__属性 ---获取当前类的父类\n```python\n    # 类的属性\n    print(Person.__bases__)\n\n```\n###  slots魔法\n\n```python\nclass Person:\n    '''人的类'''\n    # 通过__slots__中存的元素的属性的值来约束当前这个类的对象的属性，对象的属性只能比元组中的少，不能多\n    __slots__ = ('name','age','face')\n    def __init__(self):\n        # 对象的属性\n        self.name = '张三丰'\n        self.age = 20\n        self.face = 80\n        # self.sex = 'boy'     # __slots__中并没有sex\n\nif __name__ == '__main__':\n    p1 = Person()\n    # p1.sex = 'girl'\n    # print(p1.sex)\n\n    # p1.name = '小明'\n    print(p1.name)\n\n    # 注意：一旦在类中给__slots__属性赋了值，那么这个类的对象的__dict__属性就不能使用了\n    # print(p1.__dict__)\n\n```\n###  私有化\n\npython中并没有真正的私有化\n1.私有化的语法\na.类中的属性和方法都可以通过在属性名和方法名前加两个下划线，来让属性和方法变成私有的\nb.私有的属性和方法只能在当前的类中使用\n2.私有化的原理\n在前面有两个下划线的属性名和方法名前添加了'_类名'来阻止外部直接访问属性名来使用属性\n\n```python \ncclass Dog:\n    # 字段\n    number = 100\n    __count = 200\n\n    def __init__(self):\n        # 对象的属性\n        self.color = '黄色'\n        self.age = 3\n        self.name = '大黄'\n        self.__sex = '公狗'\n\n    # 对象方法\n    def __eat(self):\n        print('%s啃骨头'% (self.name))\n\n    def eat(self):\n        # 在类中可以使用私有的属性\n        self.__eat()\n        print('%s在吃屎·' % (self.name))\n\n    # 类方法\n    @classmethod\n    def shout(cls):\n        print('count',cls.__count)\n        print('汪汪汪~~~')\n\n    # 静态方法\n    @staticmethod\n    def function():\n        print('看家!!')\n\n # python的类中默认的属性和方法是公开的\ndog1 = Dog()\nprint(Dog.number)\nprint(dog1.name,dog1.color,dog1.age)\ndog1.eat()\nDog.shout()\nDog.function()\n\n# 在类的外面不能使用私有属性\n# print(Dog.__count)                AttributeError: type object 'Dog' has no attribute '__count'\n# print(dog1.__sex)               AttributeError: 'Dog' object has no attribute '__sex'\ndog1.eat()\nprint(dog1.__dict__)\n```\n### 属性的getter和setter\n\n1.解释\n\n- a.保护类型的属性：就是在声明对象属性的时候在属性名前加一个下划线来代表这个属性是受保护的属性，\n  那么以后访问这个属性的时候就不要直接访问，要通过getter来获取这个属性的值，通过setter来给这个属性赋值\n- b.如果一个属性已经声明成保护类型的属性，那么我们就要给这个属性添加getter，也可以添加setter\n\n2.添加getter\n添加getter就是声明一个没有参数，有一个返回值的函数\n\n- a.格式：\n  @property\n  def 去掉下划线的属性名（self）：\n  ——函数体\n  ——将属性相关的值返回\n- b.使用场景\n  场景一：如果想要获取对象的某个属性的值之前，想要做其他处理，就可以给这个属性添加getter\n  场景二：想要拿到某个属性被使用的时刻\n\n3.添加setter\n添加setter就是声明一个有一个参数，但是没有返回值的参数，作用是给属性赋值\na.格式\nb.使用场景\n在给属性赋值前要进行其他操作，就给属性声明一个setter函数\n\n```python \nclass Car:\n\n    def __init__(self):\n        self.color = '黄色'\n        self.type = '自行车'\n        # price是保护类型\n        self._price = 2000\n\n    # 给_price属性添加getter\n    @property\n    def price(self):\n        print('在使用_price属性')\n        return self._price/1000\n\n    # 想要给一个属性添加setter，就必须先给这个属性添加getter\n    @price.setter\n    def price(self,price):\n        if isinstance(price,int) or isinstance(price,float):\n            self.price\n        else:\n            self._price = 0\n```\n##### 练习：声明一个员工类，其中一个属性是否已婚（bool），获取值之前根据存的值返回\"已婚\"/\"未婚\"\n```python\nclass Staff:\n    '''员工类'''\n    def __init__(self,name,age):\n        self.name =name\n        self.age = age\n        self._is_marry = False\n\n    @property\n    def is_marry(self):\n        print('在使用_price属性')\n        if self._is_marry:\n            return '已婚'\n        return '未婚'\n\n    @is_marry.setter\n    def is_marry(self, marry):\n        self._is_marry = marry\n\nif __name__ == '__main__':\n\n    car1 = Car()\n    print(car1.color,car1._price)\n    # 添加完getter后就通过getter去获取属性值，实质就是调用getter对应方法\n    # price就是属性_price的getter\n    print(car1.price,'k')\n\n    # 通过setter给属性赋值,实质是调用setter对应的方法\n    car1.price= 'abc'\n    print(car1.price)\n\n    s1 = Staff('张三', 20)\n    print(s1.is_marry)\n\n    s1.is_marry = True\n    print(s1.is_marry)\n```\n### 继承\n\npython中类可以继承，并且支持多继承\n程序中的继承：就是让子类字节拥有父类的属性和方法（继承父类中的内容不会因为被继承而减少）\n\n1.继承的语法\nclass 子类（父类）：\n​    类的内容\n注意：如果声明类的时候没有写继承，那么这个类会自动继承python中的基类，object;相当于class 类名（object）：\n​      python中所有的类都是直接和间接的继承自object\n2.能继承那些东西\na.所有的属性和方法都能继承\nb.__slots__的值不会继承，但是会影响子类对象的__dict__属性，不能获取父类继承下来的属性\n\n```python\nclass Person:\n    '''人类'''\n    # 字段\n    number = 61\n\n    # __slots__ = ('name','age')\n    # 对象属性\n    def __init__(self,name='张三',age=18):\n        self.name = name\n        self.age = age\n        self._height = 173\n\n    # 对象方法\n    def show_message(self):\n        print('姓名：%s 年龄：%d'% (self.name,self.age))\n\n    @classmethod\n    def show_number(cls):\n        print('人类的数量：%d亿'% cls.number)\n\n    @staticmethod\n    def show_message():\n        print('人类殴打小动物!')\n\nclass Student(Person):\n    '''学生类'''\n    pass\n\n#创建Person类的对象\np = Person()\n\n# 学生类\nstu1 = Student()\nprint(Student.number)\nprint(stu1.name)\nstu1.show_number()\nstu1.show_message()\nprint(stu1.__dict__)\n\nif __name__ == '__main__':\n    pass\n```\n### 方法的重写\n\n子类继承父类，拥有父类的属性和方法以后，还可以添加自己的属性和方法\n1.添加方法和类的字段\n直接在子类中声明相应的字段和方法\n\n2.添加对象属性\n对象的属性是通过继承父类的init方法而继承下来\n如果想要保留父类的对象的同时添加自己的对象属性，需要在子类的init方法中通过super（）去调用父类的init方法\n\n3.方法的重写\n在子类中重新实现父类的方法，就是重写\n方式一：直接覆盖父类的实现\n方式二：保留父类的功能再添加其他功能\n\n4.类中方法的调用过程\n先在当前这个中的去找，没有找到就去父类中找，还是没找到就去，就去父类的父类中去找，以此类推，如果在基类中也没找到，才崩溃\n在第一次找到的位置，去调用\n注意：使用super的时候必须通过super（）来代替父类或者是父类的对象\n\n```python\nclass Animal:\n    '''动物'''\n    def __init__(self):\n        self.age = 0\n        self.sex = '雌'\n\n    def shout(self):\n        print('嗷嗷叫')\n\nclass Cat(Animal):\n    '''猫'''\n    def __init__(self):\n        # 调用父类的init方法\n        super().__init__()\n        self.name = '小花'\n    food = '鱼'\n\n    def shout(self):\n        print('喵喵喵~~~')\n\nclass Dog(Animal):\n    '''狗'''\n    def shout(self):\n        # 通过super（）调用父类的方法，保留父类功能\n        super().shout()\n        print('汪汪汪~~~')\n\ncat1 = Cat()\nprint(cat1.name,cat1.age,cat1.sex)\ncat1.shout()\ndog1 = Dog()\ndog1.shout()\n\n```\n### init方法的重写\n\n练习：写一个人类，拥有属性name,age,sex。要求创建Person对象的时候必须给name和age赋值，sex可赋可不赋，再写一个Staff类继承自Person类，要求保留Person中所有的属性，并且添加新的属性salary，要求创建Staff类的对象的时候，只能给name赋值（必须赋）\n```python\nclass Person:\n    '''人类'''\n    def __init__(self,name,age,sex='boy'):\n        self.name = name\n        self.age =age\n        self.sex = sex\n\nclass Staff(Person):\n    def __init__(self,name):\n        super().__init__(name,20)\n        self.salary = '10000'\n\nif __name__ == '__main__':\n    p1 = Person('张三',20)\n    s1 = Staff('李四')\n```\n### 运算符的重载\n\n如果希望类的对象支持相应的运算符（+，-，*，/，>,<ect），就必须实现相应的魔法方法\n继承一样有用\n+ : __daa__\n> :__gt__\n> 一般情况需要对>或者<进行重载，重载后可以通过sort方法直接对对象的列表进行排序\n```python\nclass Student:\n    def __init__(self,name='',age=0,score=0):\n        self.name = name\n        self.age = age\n        self.score = score\n\n    # self:+ 前面的对象\n    # other:+ 后面的对象\n    def __add__(self, other):\n        return self.score + other.score\n\n    # 重载 > 符号\n    # 注意：重载>和<可以只重载一个，另一个对应的功能自动取反\n    def __gt__(self, other):\n        return self.age > other.age\n\n    # 重写魔法方法__str__，用来制定对象的打印样式\n    def __str__(self):\n        return 'Student:%s %d %d'% (self.name,self.age,self.score)\n\nif __name__ == '__main__':\n    stu1 = Student('小明',18,90)\n    stu2 = Student('老王',29,84)\n    stu3 = Student('项羽',24,70)\nprint(stu1 + stu2)\nprint(stu1 > stu2)\nprint(stu1 < stu2)\n\nall_student = [stu1,stu2,stu3]\nall_student.sort()\nfor stu in all_student:\n    print(stu.name,stu.age,stu.score)\nprint(stu1.__str__())\n```\n\n","source":"_posts/python/类和对象.md","raw":"---\ntitle: 类和对象\ndate: 2017-07-10 19:20:54\nauthor: smile\ncategories: Python\ntags:\n  - class\n---\n\n###  类和对象\n\n1.理论上的定义\n\n类：就是拥有相同功能和相同属性的对象的集合（类是抽象的）\n\n对象：类的实例（对象是具体的）\n\n2.从生活的角度\n\n如果说电脑是一个类，我桌上的这台电脑就是一个对象\n如果说车是一个类，具体的一辆车就是一个对象\n\n3.编程思想\n\n面向过程编程：以算法为工具\n\n函数式编程：以函数为工具\n\n面向对象编程：以类和对象为工具（面向生活）\n\n封装效果：一个类中可以对多个功能进行封装（多个函数），对多个属性进行封装\n\n###  类的声明\n\n1.类的声明格式\nclass 类名（父类列表）：\n——类的说明文档\n——类的内容\n2说明：\n\n- class：声明类的关键字\n- 类名：标识符，不能是关键字。驼峰式命名（第一个单词首字母小写，其它的单词首字母大写），首字母大写！！！，见名知义\n  ​    例如：Person、StudentSystem\n- (父类列表)：括号与括号里的内容可以省略，这个是继承语法\n- 冒号：固定的\n- 类的内容：包括类的方法和类的属性\n\n\n\n3.类中的方法\n方法：声明在类中的函数\n\n- a.对象方法：对象方法需要对象来调用，对象，函数名（）\n  直接写在类中的方法，自带一个self参数\n- b.类方法\n- c.静态方法\n\n4.创建对象\n创建类的时候，系统会默认给我们创建这个类对应的构造方法\n构造方法：类名（）--》创建类对应的对象\n\n```python\n\n# 创建一个类\nclass Person:\n    '''人类'''\n    def eat(self):\n        print('人吃饭')\n\n\n\nif __name__ == '__main__':\n    # 创建对象\n    p1 = Person()    # 创建Person类的对象，并且将对象地址存到p1中\n\n    # 一个类可以有多个对象\n    p2 = Person()\n    # 只有在调用构造方法的时候才会产生新的对象\n    p3 = p2\n    print(id(p1),id(p2),id(p3))\n\n    # 2.调用对象\n    # 通过对象调用对象方法，默认参数self不需要传参，系统自动传参\n    p1.eat()\n```\n### 构造方法和init方法\n\n1.构造方法：系统自动创建，方法名和类名一样，用来创建对象\n2.__init__:init方法的功能是用来做初始化和添加对象属性的\n当我们通过构造方法去创建对象的时候，系统会自动调用init方法(不用主动调用init方法)\n\n```python\nclass Dog:\n    def __init__(self):\n        print('init方法')\n\nclass Person:\n    # init方法可以添加参数\n    def __init__(self,name,age = 18):\n        print(name,age)\n        print('人类的init方法')\n\nif __name__ == '__main__':\n    # 创建对象的过程：调用构造方法在内存中开辟空间创造一个对象，然后用新建的这个对象去调用init方法，\n    #                 来初始化对象的属性，最后才将对象返回\n    dog1 = Dog()\n    dog2 = Dog()\n    # 如果类的init方法有参数，通过给构造方法传参类init方法传参\n    p1 = Person('小明')\n    p2 = Person('小红',20)\n    p3 = Person(age = 20,name = '东东')\n```\n### 对象属性\n\n类中的内容：属性和方法\n1.属性:(保存值的)\n\n- a.对象的属性：不同的对象，对应的值可能不一样，这样的属性就是对象属性属于对象\n  类中的对象属性是声明在init方法中的，并且声明格式：self.属性名 = 初值\n  对象属性的使用:对象，属性名\n- b.类的字段：属于类的，所有的对象对应的值是一样的\n\n\n\n2.方法：(保存功能的)\n\n- a.对象方法\n- b.类方法\n- c.静态方法\n\n```python\n\nclass Student:\n    '''学生类'''\n    def __init__(self):\n        # 声明对象属性name,age,id\n        self.name = '李青'\n        self.age = 0\n        self.id = '001'\n\nclass Dog:\n    '''狗类'''\n    # 创建Dog的对象的时候，必须传类型和颜色\n    def __init__(self,type1,color1):\n        self.type = type1\n        self.color = color1\n\nclass Computer:\n    '''电脑类'''\n    # 创建对象的时候可以使用默认值，也可以使用自己传的值\n    def __init__(self,color= '白色',memory= 0):\n        self.color = ''\n        self.memory = 1000\n\nclass  rectangle:\n    def __init__(self,long= 100,width= 50):\n        self.long = long\n        self.width = width\n\n\nif __name__ == '__main__':\n    # stu1就是Student类的对象\n    stu1 = Student()\n    # 通过对象去使用对象的属性\n    print(stu1.name,stu1.age,stu1.id)\n    # 通过对象去修改对象的属性\n    stu1.name = 'SB'\n    print(stu1.name)\n    dog1 = Dog('土狗','黄色')\n    print(dog1.type,dog1.color)\n    dog2 =Dog('斗狗','黑色')\n    print(dog2.type,dog2.color)\n\n\n    comp1 = Computer()\n    print(comp1.color,comp1.memory)\n    comp2 = Computer('黑色',512)\n    print(comp2.color,comp2.memory)\n\n    sq =  rectangle()\n    print(sq.long,sq.width)\n    sq =  rectangle(10,5)\n    print(sq.long,sq.width)\n```\n### 对象属性的增删改查\n\nPython是动态语言，Python中类的对象的属性可以进行增删的操作\n```python\nclass Person:\n    '''人类'''\n    def __init__(self):\n        self.name = '李四'\n        self.age = 18\n        self.height = 160\n```\n##### 1.查\n方法一：对象.属性\n方法二：def getattr(对象，属性名，default=None)\n方法三：对象._ _getattribute_ _('height')\n```python\nprint(p1.name)\n    # print(p1.nmae2)      # 属性不存在会报错\n\nprint(getattr(p1,'age2',0))    # 属性不存在可以通过设置默认值，让程序不崩溃，并且返回默认值\n\n height = p1.__getattribute__('height')\n    print(height)\n```\n##### 2.改（修改属性的值，属性存在）\n方法一：对象.属性 = 新值\n```python\np1.name = '张三'\n    print(p1.name)\n```\n方法二：def setattr(对象，属性名，新值）\n```python\nsetattr(p1,'age',20)\n    print(p1.age)\n```\n方法三：对象._ _setattr_ _(属性名，新值）\n```python\n p1.__setattr__('height',170)\n    print(p1.height)\n```\n##### 3.增（增加属性）\n注意：添加只能给某一个对象添加对应的属性\n方法一：对象.属性 = 新值\n```python\np1.sex = '女'\n    print(p1.sex)\n```\n方法二：def setattr(对象，属性名，新值)\n```python\n setattr(p1,'weight',55)\n    print(p1.weight)\n```\n方法三：对象.__setattr__(属性名，新值)\n```python\np1.__setattr__('color', '绿色')\n    print(p1.color)\n    # print(p2.sex)        # 添加只影响一个对象\n```\n##### 4.删（删除对象属性）\n注意：删除只针对指定的对象\n方法一：del 对象.属性\n```python\ndel p1.name\n    # print(p1.name)      可行\n```\n方法二：delattr(对象，属性名)\n```python\n delattr(p1,'age')\n    # print(p1.age)       可行\n```\n方法三：对象._ _delattr_ _(属性名）\n```python\n p1.__delattr__('height')\n    # print(p1.height)     可行\n    print(p2.name,p2.age)\n```\n### 对象方法\n\n1.对象方法：\n\n- a.什么样的方法是对象方法：直接声明在类里面的函数默认是对象方法，有一个默认参数self\n- b.对象方法要通过对象来调用：对象.对象方法（）\n- c.对象方法中的默认参数self不需要传参，因为在调用这个方法的时候，\n  系统会自动将当前对象传给self，那个对象调用方法，self就指向谁\n\n```python\nimport math\nclass Circle:\n    '''圆类'''\n    def __init__(self,radius1):\n        self.radius = radius1\n    # 声明了一个对象方法area\n    # 在这，self就是调用area方法的对象，对象能做的事情，self都可以做\n    def area(self):\n        # print(id(self))\n        # print('求圆的面积')\n        return math.pi * self.radius **2\n```\n+ 练习1：写一个矩形类，有属性长和宽,有两个功能，分别是求周长和面积\n```python\nclass Rectangle:\n    '''矩形类'''\n    def __init__(self,long,width):\n        self.long = long\n        self.width =width\n    # 对象方法是否需要额外参数，看实现函数的功能需不需要除了对象属性以外的其他数据\n    def area(self):\n        return self.long * self.width\n    def perimeter(self):\n        return (self.width + self.long) *2\n```\n+ 练习2：写一个班级类，班级里面有多个学生的一门成绩，班级名，可以获取班级成绩中的最高分\n```python\nclass Grade:\n    '''班级类'''\n    def __init__(self,class_name,*grade):\n        self.class_name = class_name\n        self.grade = grade\n        # self.grade = []\n    def top_score(self):\n        # if not self.grade:\n        #     return None\n        # max（序列）----》获取序列中元素的最大值\n        # min (序列）----》获取序列中元素的最小值\n        return max(self.grade)\n```\n```python\nif __name__ == '__main__':\n    c1 = Circle(3)\n    print(id(c1))\n    print('c1的面积',c1.area())\n\n\n    c2 = Circle(5)\n    print('c2的面积', c2.area())\n\n    g1 = Grade('python1806',90,80,70)\n    print(g1.class_name)\n    print(g1.top_score())\n\n    g2 = Rectangle(10,5)\n    print(g2.area())\n    print(g2.perimeter())\n```\n### 类的字段\n\n1.类的属性叫类的字段\n\n- a.什么是类的字段\n  类的字段就是声明在类的里面，方法的外面的变量\n- b.什么样的属性声明成类的字段：\n  属于类的，对于这个类的所有的对象来说，其值是一样的\n- c.怎么使用\n  通过类使用：类.字段\n\n```python\nclass Person:\n    # number就是类的字段\n    number = 10\n```\n练习：写一个球类，用一个属性来保存这个类的创建对象的个数\n```python\nclass Ball:\n     count = 0\n     # 每次创建球的对象都会调用init方法，所以调用init方法的次数就是Ball创建的对象的个数\n     def __init__(self):\n         Ball.count += 1\nball1 = Ball()\nball2 = Ball()\nprint(Ball.count)\n\nif __name__ == '__main__':\n    # 通过类获取类的字段的值\n    print(Person.number)\n\n    Person.number = 70\n    print(Person.number)\n```\n### 类的方法\n\n类中的方法\n+ 1.对象方法（实例方法）\n  声明的形式：直接声明在类中\n  特点：自带一个不需要主动传参的默认参数self，谁来调用指向谁\n+ 2.类方法\n  声明形式：声明方法前需要使用@classmethod\n  特点：自带一个参数cls,这个参数调用的时候不需要传值，系统自动传值，谁调用，传给谁！始终指向当前类\n  调用：通过类调用---》类.类方法（）\n+ 3.静态方法\n  声明的形式：声明方法前需要使用@staticmethod说明\n  特点：没有默认参数\n  调用：通过类来调用--》类.静态方法（）\n```python\nclass Class1:\n\n    # 类字段\n    number = 10\n    # 声明一个对象方法\n    def object_func(self):\n        print('对象方法')\n\n    # 声明一个类方法\n    @classmethod\n    def class_func(cls):\n        # 通过cls去使用类的字段\n        print('cls:',cls.number)\n        # 通过cls去创建对象\n        tc =cls()\n        tc.object_func()\n        print('这是一个类方法')\n\n    @staticmethod\n    def static_func():\n        print('这是一个静态方法')\n\nc1 = Class1()\n# 调用对象方法\nc1.object_func()\nprint(Class1.number)\n# 调用类方法\nClass1.class_func()\n# 调用静态方法\nClass1.static_func()\n```\n4.遇到问题怎么来选择使用那种方法：\n+ a.大前提：只要实现方法的功能需要用到对象的属性，我们就使用对象方法，否则就使用静态方法或者类方法\n+ b.不使用对象方法的前提下，如果实现功能需要类的字段就使用类方法\n+ c.实现功能既不需要对象的属性，又不需要类的字段就使用静态方法\n  注意：静态方法和类方法划分不严格，静态方法能做的，类方法可以做，反之成立\n```python\nclass Person:\n    # 类的字段，存储人类数量\n    number = 61\n\n    @classmethod\n    def show_number1(cls):\n        print('人类的数量是：%d亿'% cls.number)\n\n    @staticmethod\n    def show_number2():\n        print('人类的数量是：%d亿'% Person.number)\n\nPerson.show_number1()\nPerson.show_number2()\n```\n\n### 内置类属性\n\n内置类属性就是魔法属性\n魔法属性：属性名的前面和后面都有两个下划线\n魔法方法：方法的前后都有两个下划线\n```python\nimport datetime\nclass Person:\n    '''人的类'''\n    # 类的字段\n    number = 61\n    def __init__(self,name1,age1,height1):\n        # 对象的属性\n        self.name = name1\n        self.age = age1\n        self.height =height1\n\n    def run(self):\n        print('%s在跑步'% (self.name))\n\n    #类方法\n    @classmethod\n    def show_number(cls):\n        print('人类的数量为：%d亿'% (cls.number))\n\n    # 静态方法\n    @staticmethod\n    def destroy():\n        print('人类在破坏环境!')\n\nif __name__ == '__main__':\n    p1 = Person('张三丰',20,173)\n```\n #####  1.__name__属性  --- 类的名字（是字符串）\n```python\n    # 类的属性\n    name = Person.__name__\n    print(name,type(name))\n```\n#####  2.__class__属性 --- 获取对象对应类（是一个类）\n```python\n    # 对象的属性\n    # my_classs是一个类，之前类能做的事情他都能做\n    my_class = p1.__class__\n    p2 = my_class('小明',20,100)\n    print(p2.name)\n```\n#####  3.__dict__属性 --- 将对象和类的属性及其对应的值转换成键值对存到一个字典中\n```python \n    # print(Person.__class__)\n    print(p1.__dict__)     #  {'name': '张三丰', 'age': 20, 'height': 173}\n```\n##### 4.__doc__属性----获取类的说明文档\n\n```python\n    # 类的属性\n    doc = Person.__doc__\n    print(doc)\n```\n#####  5.__module__属性 ---- 获取所有模块对应的名字\n```python \n    print(Person.__module__)\n    print(datetime.datetime.__module__)\n```\n##### 6.__bases__属性 ---获取当前类的父类\n```python\n    # 类的属性\n    print(Person.__bases__)\n\n```\n###  slots魔法\n\n```python\nclass Person:\n    '''人的类'''\n    # 通过__slots__中存的元素的属性的值来约束当前这个类的对象的属性，对象的属性只能比元组中的少，不能多\n    __slots__ = ('name','age','face')\n    def __init__(self):\n        # 对象的属性\n        self.name = '张三丰'\n        self.age = 20\n        self.face = 80\n        # self.sex = 'boy'     # __slots__中并没有sex\n\nif __name__ == '__main__':\n    p1 = Person()\n    # p1.sex = 'girl'\n    # print(p1.sex)\n\n    # p1.name = '小明'\n    print(p1.name)\n\n    # 注意：一旦在类中给__slots__属性赋了值，那么这个类的对象的__dict__属性就不能使用了\n    # print(p1.__dict__)\n\n```\n###  私有化\n\npython中并没有真正的私有化\n1.私有化的语法\na.类中的属性和方法都可以通过在属性名和方法名前加两个下划线，来让属性和方法变成私有的\nb.私有的属性和方法只能在当前的类中使用\n2.私有化的原理\n在前面有两个下划线的属性名和方法名前添加了'_类名'来阻止外部直接访问属性名来使用属性\n\n```python \ncclass Dog:\n    # 字段\n    number = 100\n    __count = 200\n\n    def __init__(self):\n        # 对象的属性\n        self.color = '黄色'\n        self.age = 3\n        self.name = '大黄'\n        self.__sex = '公狗'\n\n    # 对象方法\n    def __eat(self):\n        print('%s啃骨头'% (self.name))\n\n    def eat(self):\n        # 在类中可以使用私有的属性\n        self.__eat()\n        print('%s在吃屎·' % (self.name))\n\n    # 类方法\n    @classmethod\n    def shout(cls):\n        print('count',cls.__count)\n        print('汪汪汪~~~')\n\n    # 静态方法\n    @staticmethod\n    def function():\n        print('看家!!')\n\n # python的类中默认的属性和方法是公开的\ndog1 = Dog()\nprint(Dog.number)\nprint(dog1.name,dog1.color,dog1.age)\ndog1.eat()\nDog.shout()\nDog.function()\n\n# 在类的外面不能使用私有属性\n# print(Dog.__count)                AttributeError: type object 'Dog' has no attribute '__count'\n# print(dog1.__sex)               AttributeError: 'Dog' object has no attribute '__sex'\ndog1.eat()\nprint(dog1.__dict__)\n```\n### 属性的getter和setter\n\n1.解释\n\n- a.保护类型的属性：就是在声明对象属性的时候在属性名前加一个下划线来代表这个属性是受保护的属性，\n  那么以后访问这个属性的时候就不要直接访问，要通过getter来获取这个属性的值，通过setter来给这个属性赋值\n- b.如果一个属性已经声明成保护类型的属性，那么我们就要给这个属性添加getter，也可以添加setter\n\n2.添加getter\n添加getter就是声明一个没有参数，有一个返回值的函数\n\n- a.格式：\n  @property\n  def 去掉下划线的属性名（self）：\n  ——函数体\n  ——将属性相关的值返回\n- b.使用场景\n  场景一：如果想要获取对象的某个属性的值之前，想要做其他处理，就可以给这个属性添加getter\n  场景二：想要拿到某个属性被使用的时刻\n\n3.添加setter\n添加setter就是声明一个有一个参数，但是没有返回值的参数，作用是给属性赋值\na.格式\nb.使用场景\n在给属性赋值前要进行其他操作，就给属性声明一个setter函数\n\n```python \nclass Car:\n\n    def __init__(self):\n        self.color = '黄色'\n        self.type = '自行车'\n        # price是保护类型\n        self._price = 2000\n\n    # 给_price属性添加getter\n    @property\n    def price(self):\n        print('在使用_price属性')\n        return self._price/1000\n\n    # 想要给一个属性添加setter，就必须先给这个属性添加getter\n    @price.setter\n    def price(self,price):\n        if isinstance(price,int) or isinstance(price,float):\n            self.price\n        else:\n            self._price = 0\n```\n##### 练习：声明一个员工类，其中一个属性是否已婚（bool），获取值之前根据存的值返回\"已婚\"/\"未婚\"\n```python\nclass Staff:\n    '''员工类'''\n    def __init__(self,name,age):\n        self.name =name\n        self.age = age\n        self._is_marry = False\n\n    @property\n    def is_marry(self):\n        print('在使用_price属性')\n        if self._is_marry:\n            return '已婚'\n        return '未婚'\n\n    @is_marry.setter\n    def is_marry(self, marry):\n        self._is_marry = marry\n\nif __name__ == '__main__':\n\n    car1 = Car()\n    print(car1.color,car1._price)\n    # 添加完getter后就通过getter去获取属性值，实质就是调用getter对应方法\n    # price就是属性_price的getter\n    print(car1.price,'k')\n\n    # 通过setter给属性赋值,实质是调用setter对应的方法\n    car1.price= 'abc'\n    print(car1.price)\n\n    s1 = Staff('张三', 20)\n    print(s1.is_marry)\n\n    s1.is_marry = True\n    print(s1.is_marry)\n```\n### 继承\n\npython中类可以继承，并且支持多继承\n程序中的继承：就是让子类字节拥有父类的属性和方法（继承父类中的内容不会因为被继承而减少）\n\n1.继承的语法\nclass 子类（父类）：\n​    类的内容\n注意：如果声明类的时候没有写继承，那么这个类会自动继承python中的基类，object;相当于class 类名（object）：\n​      python中所有的类都是直接和间接的继承自object\n2.能继承那些东西\na.所有的属性和方法都能继承\nb.__slots__的值不会继承，但是会影响子类对象的__dict__属性，不能获取父类继承下来的属性\n\n```python\nclass Person:\n    '''人类'''\n    # 字段\n    number = 61\n\n    # __slots__ = ('name','age')\n    # 对象属性\n    def __init__(self,name='张三',age=18):\n        self.name = name\n        self.age = age\n        self._height = 173\n\n    # 对象方法\n    def show_message(self):\n        print('姓名：%s 年龄：%d'% (self.name,self.age))\n\n    @classmethod\n    def show_number(cls):\n        print('人类的数量：%d亿'% cls.number)\n\n    @staticmethod\n    def show_message():\n        print('人类殴打小动物!')\n\nclass Student(Person):\n    '''学生类'''\n    pass\n\n#创建Person类的对象\np = Person()\n\n# 学生类\nstu1 = Student()\nprint(Student.number)\nprint(stu1.name)\nstu1.show_number()\nstu1.show_message()\nprint(stu1.__dict__)\n\nif __name__ == '__main__':\n    pass\n```\n### 方法的重写\n\n子类继承父类，拥有父类的属性和方法以后，还可以添加自己的属性和方法\n1.添加方法和类的字段\n直接在子类中声明相应的字段和方法\n\n2.添加对象属性\n对象的属性是通过继承父类的init方法而继承下来\n如果想要保留父类的对象的同时添加自己的对象属性，需要在子类的init方法中通过super（）去调用父类的init方法\n\n3.方法的重写\n在子类中重新实现父类的方法，就是重写\n方式一：直接覆盖父类的实现\n方式二：保留父类的功能再添加其他功能\n\n4.类中方法的调用过程\n先在当前这个中的去找，没有找到就去父类中找，还是没找到就去，就去父类的父类中去找，以此类推，如果在基类中也没找到，才崩溃\n在第一次找到的位置，去调用\n注意：使用super的时候必须通过super（）来代替父类或者是父类的对象\n\n```python\nclass Animal:\n    '''动物'''\n    def __init__(self):\n        self.age = 0\n        self.sex = '雌'\n\n    def shout(self):\n        print('嗷嗷叫')\n\nclass Cat(Animal):\n    '''猫'''\n    def __init__(self):\n        # 调用父类的init方法\n        super().__init__()\n        self.name = '小花'\n    food = '鱼'\n\n    def shout(self):\n        print('喵喵喵~~~')\n\nclass Dog(Animal):\n    '''狗'''\n    def shout(self):\n        # 通过super（）调用父类的方法，保留父类功能\n        super().shout()\n        print('汪汪汪~~~')\n\ncat1 = Cat()\nprint(cat1.name,cat1.age,cat1.sex)\ncat1.shout()\ndog1 = Dog()\ndog1.shout()\n\n```\n### init方法的重写\n\n练习：写一个人类，拥有属性name,age,sex。要求创建Person对象的时候必须给name和age赋值，sex可赋可不赋，再写一个Staff类继承自Person类，要求保留Person中所有的属性，并且添加新的属性salary，要求创建Staff类的对象的时候，只能给name赋值（必须赋）\n```python\nclass Person:\n    '''人类'''\n    def __init__(self,name,age,sex='boy'):\n        self.name = name\n        self.age =age\n        self.sex = sex\n\nclass Staff(Person):\n    def __init__(self,name):\n        super().__init__(name,20)\n        self.salary = '10000'\n\nif __name__ == '__main__':\n    p1 = Person('张三',20)\n    s1 = Staff('李四')\n```\n### 运算符的重载\n\n如果希望类的对象支持相应的运算符（+，-，*，/，>,<ect），就必须实现相应的魔法方法\n继承一样有用\n+ : __daa__\n> :__gt__\n> 一般情况需要对>或者<进行重载，重载后可以通过sort方法直接对对象的列表进行排序\n```python\nclass Student:\n    def __init__(self,name='',age=0,score=0):\n        self.name = name\n        self.age = age\n        self.score = score\n\n    # self:+ 前面的对象\n    # other:+ 后面的对象\n    def __add__(self, other):\n        return self.score + other.score\n\n    # 重载 > 符号\n    # 注意：重载>和<可以只重载一个，另一个对应的功能自动取反\n    def __gt__(self, other):\n        return self.age > other.age\n\n    # 重写魔法方法__str__，用来制定对象的打印样式\n    def __str__(self):\n        return 'Student:%s %d %d'% (self.name,self.age,self.score)\n\nif __name__ == '__main__':\n    stu1 = Student('小明',18,90)\n    stu2 = Student('老王',29,84)\n    stu3 = Student('项羽',24,70)\nprint(stu1 + stu2)\nprint(stu1 > stu2)\nprint(stu1 < stu2)\n\nall_student = [stu1,stu2,stu3]\nall_student.sort()\nfor stu in all_student:\n    print(stu.name,stu.age,stu.score)\nprint(stu1.__str__())\n```\n\n","slug":"python/类和对象","published":1,"updated":"2019-03-14T01:42:37.732Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjt87kqkz002gr8r6rilr9n8n","content":"<h3 id=\"类和对象\"><a href=\"#类和对象\" class=\"headerlink\" title=\"类和对象\"></a>类和对象</h3><p>1.理论上的定义</p>\n<p>类：就是拥有相同功能和相同属性的对象的集合（类是抽象的）</p>\n<p>对象：类的实例（对象是具体的）</p>\n<p>2.从生活的角度</p>\n<p>如果说电脑是一个类，我桌上的这台电脑就是一个对象<br>如果说车是一个类，具体的一辆车就是一个对象</p>\n<p>3.编程思想</p>\n<p>面向过程编程：以算法为工具</p>\n<p>函数式编程：以函数为工具</p>\n<p>面向对象编程：以类和对象为工具（面向生活）</p>\n<p>封装效果：一个类中可以对多个功能进行封装（多个函数），对多个属性进行封装</p>\n<h3 id=\"类的声明\"><a href=\"#类的声明\" class=\"headerlink\" title=\"类的声明\"></a>类的声明</h3><p>1.类的声明格式<br>class 类名（父类列表）：<br>——类的说明文档<br>——类的内容<br>2说明：</p>\n<ul>\n<li>class：声明类的关键字</li>\n<li>类名：标识符，不能是关键字。驼峰式命名（第一个单词首字母小写，其它的单词首字母大写），首字母大写！！！，见名知义<br>​    例如：Person、StudentSystem</li>\n<li>(父类列表)：括号与括号里的内容可以省略，这个是继承语法</li>\n<li>冒号：固定的</li>\n<li>类的内容：包括类的方法和类的属性</li>\n</ul>\n<p>3.类中的方法<br>方法：声明在类中的函数</p>\n<ul>\n<li>a.对象方法：对象方法需要对象来调用，对象，函数名（）<br>直接写在类中的方法，自带一个self参数</li>\n<li>b.类方法</li>\n<li>c.静态方法</li>\n</ul>\n<p>4.创建对象<br>创建类的时候，系统会默认给我们创建这个类对应的构造方法<br>构造方法：类名（）–》创建类对应的对象</p>\n<pre class=\" language-python\"><code class=\"language-python\">\n<span class=\"token comment\" spellcheck=\"true\"># 创建一个类</span>\n<span class=\"token keyword\">class</span> <span class=\"token class-name\">Person</span><span class=\"token punctuation\">:</span>\n    <span class=\"token triple-quoted-string string\">'''人类'''</span>\n    <span class=\"token keyword\">def</span> <span class=\"token function\">eat</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n        <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string\">'人吃饭'</span><span class=\"token punctuation\">)</span>\n\n\n\n<span class=\"token keyword\">if</span> __name__ <span class=\"token operator\">==</span> <span class=\"token string\">'__main__'</span><span class=\"token punctuation\">:</span>\n    <span class=\"token comment\" spellcheck=\"true\"># 创建对象</span>\n    p1 <span class=\"token operator\">=</span> Person<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>    <span class=\"token comment\" spellcheck=\"true\"># 创建Person类的对象，并且将对象地址存到p1中</span>\n\n    <span class=\"token comment\" spellcheck=\"true\"># 一个类可以有多个对象</span>\n    p2 <span class=\"token operator\">=</span> Person<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    <span class=\"token comment\" spellcheck=\"true\"># 只有在调用构造方法的时候才会产生新的对象</span>\n    p3 <span class=\"token operator\">=</span> p2\n    <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>id<span class=\"token punctuation\">(</span>p1<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>id<span class=\"token punctuation\">(</span>p2<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>id<span class=\"token punctuation\">(</span>p3<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n\n    <span class=\"token comment\" spellcheck=\"true\"># 2.调用对象</span>\n    <span class=\"token comment\" spellcheck=\"true\"># 通过对象调用对象方法，默认参数self不需要传参，系统自动传参</span>\n    p1<span class=\"token punctuation\">.</span>eat<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n</code></pre>\n<h3 id=\"构造方法和init方法\"><a href=\"#构造方法和init方法\" class=\"headerlink\" title=\"构造方法和init方法\"></a>构造方法和init方法</h3><p>1.构造方法：系统自动创建，方法名和类名一样，用来创建对象<br>2.<strong>init</strong>:init方法的功能是用来做初始化和添加对象属性的<br>当我们通过构造方法去创建对象的时候，系统会自动调用init方法(不用主动调用init方法)</p>\n<pre class=\" language-python\"><code class=\"language-python\"><span class=\"token keyword\">class</span> <span class=\"token class-name\">Dog</span><span class=\"token punctuation\">:</span>\n    <span class=\"token keyword\">def</span> <span class=\"token function\">__init__</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n        <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string\">'init方法'</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token keyword\">class</span> <span class=\"token class-name\">Person</span><span class=\"token punctuation\">:</span>\n    <span class=\"token comment\" spellcheck=\"true\"># init方法可以添加参数</span>\n    <span class=\"token keyword\">def</span> <span class=\"token function\">__init__</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">,</span>name<span class=\"token punctuation\">,</span>age <span class=\"token operator\">=</span> <span class=\"token number\">18</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n        <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>name<span class=\"token punctuation\">,</span>age<span class=\"token punctuation\">)</span>\n        <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string\">'人类的init方法'</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token keyword\">if</span> __name__ <span class=\"token operator\">==</span> <span class=\"token string\">'__main__'</span><span class=\"token punctuation\">:</span>\n    <span class=\"token comment\" spellcheck=\"true\"># 创建对象的过程：调用构造方法在内存中开辟空间创造一个对象，然后用新建的这个对象去调用init方法，</span>\n    <span class=\"token comment\" spellcheck=\"true\">#                 来初始化对象的属性，最后才将对象返回</span>\n    dog1 <span class=\"token operator\">=</span> Dog<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    dog2 <span class=\"token operator\">=</span> Dog<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    <span class=\"token comment\" spellcheck=\"true\"># 如果类的init方法有参数，通过给构造方法传参类init方法传参</span>\n    p1 <span class=\"token operator\">=</span> Person<span class=\"token punctuation\">(</span><span class=\"token string\">'小明'</span><span class=\"token punctuation\">)</span>\n    p2 <span class=\"token operator\">=</span> Person<span class=\"token punctuation\">(</span><span class=\"token string\">'小红'</span><span class=\"token punctuation\">,</span><span class=\"token number\">20</span><span class=\"token punctuation\">)</span>\n    p3 <span class=\"token operator\">=</span> Person<span class=\"token punctuation\">(</span>age <span class=\"token operator\">=</span> <span class=\"token number\">20</span><span class=\"token punctuation\">,</span>name <span class=\"token operator\">=</span> <span class=\"token string\">'东东'</span><span class=\"token punctuation\">)</span>\n</code></pre>\n<h3 id=\"对象属性\"><a href=\"#对象属性\" class=\"headerlink\" title=\"对象属性\"></a>对象属性</h3><p>类中的内容：属性和方法<br>1.属性:(保存值的)</p>\n<ul>\n<li>a.对象的属性：不同的对象，对应的值可能不一样，这样的属性就是对象属性属于对象<br>类中的对象属性是声明在init方法中的，并且声明格式：self.属性名 = 初值<br>对象属性的使用:对象，属性名</li>\n<li>b.类的字段：属于类的，所有的对象对应的值是一样的</li>\n</ul>\n<p>2.方法：(保存功能的)</p>\n<ul>\n<li>a.对象方法</li>\n<li>b.类方法</li>\n<li>c.静态方法</li>\n</ul>\n<pre class=\" language-python\"><code class=\"language-python\">\n<span class=\"token keyword\">class</span> <span class=\"token class-name\">Student</span><span class=\"token punctuation\">:</span>\n    <span class=\"token triple-quoted-string string\">'''学生类'''</span>\n    <span class=\"token keyword\">def</span> <span class=\"token function\">__init__</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n        <span class=\"token comment\" spellcheck=\"true\"># 声明对象属性name,age,id</span>\n        self<span class=\"token punctuation\">.</span>name <span class=\"token operator\">=</span> <span class=\"token string\">'李青'</span>\n        self<span class=\"token punctuation\">.</span>age <span class=\"token operator\">=</span> <span class=\"token number\">0</span>\n        self<span class=\"token punctuation\">.</span>id <span class=\"token operator\">=</span> <span class=\"token string\">'001'</span>\n\n<span class=\"token keyword\">class</span> <span class=\"token class-name\">Dog</span><span class=\"token punctuation\">:</span>\n    <span class=\"token triple-quoted-string string\">'''狗类'''</span>\n    <span class=\"token comment\" spellcheck=\"true\"># 创建Dog的对象的时候，必须传类型和颜色</span>\n    <span class=\"token keyword\">def</span> <span class=\"token function\">__init__</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">,</span>type1<span class=\"token punctuation\">,</span>color1<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n        self<span class=\"token punctuation\">.</span>type <span class=\"token operator\">=</span> type1\n        self<span class=\"token punctuation\">.</span>color <span class=\"token operator\">=</span> color1\n\n<span class=\"token keyword\">class</span> <span class=\"token class-name\">Computer</span><span class=\"token punctuation\">:</span>\n    <span class=\"token triple-quoted-string string\">'''电脑类'''</span>\n    <span class=\"token comment\" spellcheck=\"true\"># 创建对象的时候可以使用默认值，也可以使用自己传的值</span>\n    <span class=\"token keyword\">def</span> <span class=\"token function\">__init__</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">,</span>color<span class=\"token operator\">=</span> <span class=\"token string\">'白色'</span><span class=\"token punctuation\">,</span>memory<span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n        self<span class=\"token punctuation\">.</span>color <span class=\"token operator\">=</span> <span class=\"token string\">''</span>\n        self<span class=\"token punctuation\">.</span>memory <span class=\"token operator\">=</span> <span class=\"token number\">1000</span>\n\n<span class=\"token keyword\">class</span>  <span class=\"token class-name\">rectangle</span><span class=\"token punctuation\">:</span>\n    <span class=\"token keyword\">def</span> <span class=\"token function\">__init__</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">,</span>long<span class=\"token operator\">=</span> <span class=\"token number\">100</span><span class=\"token punctuation\">,</span>width<span class=\"token operator\">=</span> <span class=\"token number\">50</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n        self<span class=\"token punctuation\">.</span>long <span class=\"token operator\">=</span> long\n        self<span class=\"token punctuation\">.</span>width <span class=\"token operator\">=</span> width\n\n\n<span class=\"token keyword\">if</span> __name__ <span class=\"token operator\">==</span> <span class=\"token string\">'__main__'</span><span class=\"token punctuation\">:</span>\n    <span class=\"token comment\" spellcheck=\"true\"># stu1就是Student类的对象</span>\n    stu1 <span class=\"token operator\">=</span> Student<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    <span class=\"token comment\" spellcheck=\"true\"># 通过对象去使用对象的属性</span>\n    <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>stu1<span class=\"token punctuation\">.</span>name<span class=\"token punctuation\">,</span>stu1<span class=\"token punctuation\">.</span>age<span class=\"token punctuation\">,</span>stu1<span class=\"token punctuation\">.</span>id<span class=\"token punctuation\">)</span>\n    <span class=\"token comment\" spellcheck=\"true\"># 通过对象去修改对象的属性</span>\n    stu1<span class=\"token punctuation\">.</span>name <span class=\"token operator\">=</span> <span class=\"token string\">'SB'</span>\n    <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>stu1<span class=\"token punctuation\">.</span>name<span class=\"token punctuation\">)</span>\n    dog1 <span class=\"token operator\">=</span> Dog<span class=\"token punctuation\">(</span><span class=\"token string\">'土狗'</span><span class=\"token punctuation\">,</span><span class=\"token string\">'黄色'</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>dog1<span class=\"token punctuation\">.</span>type<span class=\"token punctuation\">,</span>dog1<span class=\"token punctuation\">.</span>color<span class=\"token punctuation\">)</span>\n    dog2 <span class=\"token operator\">=</span>Dog<span class=\"token punctuation\">(</span><span class=\"token string\">'斗狗'</span><span class=\"token punctuation\">,</span><span class=\"token string\">'黑色'</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>dog2<span class=\"token punctuation\">.</span>type<span class=\"token punctuation\">,</span>dog2<span class=\"token punctuation\">.</span>color<span class=\"token punctuation\">)</span>\n\n\n    comp1 <span class=\"token operator\">=</span> Computer<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>comp1<span class=\"token punctuation\">.</span>color<span class=\"token punctuation\">,</span>comp1<span class=\"token punctuation\">.</span>memory<span class=\"token punctuation\">)</span>\n    comp2 <span class=\"token operator\">=</span> Computer<span class=\"token punctuation\">(</span><span class=\"token string\">'黑色'</span><span class=\"token punctuation\">,</span><span class=\"token number\">512</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>comp2<span class=\"token punctuation\">.</span>color<span class=\"token punctuation\">,</span>comp2<span class=\"token punctuation\">.</span>memory<span class=\"token punctuation\">)</span>\n\n    sq <span class=\"token operator\">=</span>  rectangle<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>sq<span class=\"token punctuation\">.</span>long<span class=\"token punctuation\">,</span>sq<span class=\"token punctuation\">.</span>width<span class=\"token punctuation\">)</span>\n    sq <span class=\"token operator\">=</span>  rectangle<span class=\"token punctuation\">(</span><span class=\"token number\">10</span><span class=\"token punctuation\">,</span><span class=\"token number\">5</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>sq<span class=\"token punctuation\">.</span>long<span class=\"token punctuation\">,</span>sq<span class=\"token punctuation\">.</span>width<span class=\"token punctuation\">)</span>\n</code></pre>\n<h3 id=\"对象属性的增删改查\"><a href=\"#对象属性的增删改查\" class=\"headerlink\" title=\"对象属性的增删改查\"></a>对象属性的增删改查</h3><p>Python是动态语言，Python中类的对象的属性可以进行增删的操作</p>\n<pre class=\" language-python\"><code class=\"language-python\"><span class=\"token keyword\">class</span> <span class=\"token class-name\">Person</span><span class=\"token punctuation\">:</span>\n    <span class=\"token triple-quoted-string string\">'''人类'''</span>\n    <span class=\"token keyword\">def</span> <span class=\"token function\">__init__</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n        self<span class=\"token punctuation\">.</span>name <span class=\"token operator\">=</span> <span class=\"token string\">'李四'</span>\n        self<span class=\"token punctuation\">.</span>age <span class=\"token operator\">=</span> <span class=\"token number\">18</span>\n        self<span class=\"token punctuation\">.</span>height <span class=\"token operator\">=</span> <span class=\"token number\">160</span>\n</code></pre>\n<h5 id=\"1-查\"><a href=\"#1-查\" class=\"headerlink\" title=\"1.查\"></a>1.查</h5><p>方法一：对象.属性<br>方法二：def getattr(对象，属性名，default=None)<br>方法三：对象._ <em>getattribute</em> _(‘height’)</p>\n<pre class=\" language-python\"><code class=\"language-python\"><span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>p1<span class=\"token punctuation\">.</span>name<span class=\"token punctuation\">)</span>\n    <span class=\"token comment\" spellcheck=\"true\"># print(p1.nmae2)      # 属性不存在会报错</span>\n\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>getattr<span class=\"token punctuation\">(</span>p1<span class=\"token punctuation\">,</span><span class=\"token string\">'age2'</span><span class=\"token punctuation\">,</span><span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>    <span class=\"token comment\" spellcheck=\"true\"># 属性不存在可以通过设置默认值，让程序不崩溃，并且返回默认值</span>\n\n height <span class=\"token operator\">=</span> p1<span class=\"token punctuation\">.</span>__getattribute__<span class=\"token punctuation\">(</span><span class=\"token string\">'height'</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>height<span class=\"token punctuation\">)</span>\n</code></pre>\n<h5 id=\"2-改（修改属性的值，属性存在）\"><a href=\"#2-改（修改属性的值，属性存在）\" class=\"headerlink\" title=\"2.改（修改属性的值，属性存在）\"></a>2.改（修改属性的值，属性存在）</h5><p>方法一：对象.属性 = 新值</p>\n<pre class=\" language-python\"><code class=\"language-python\">p1<span class=\"token punctuation\">.</span>name <span class=\"token operator\">=</span> <span class=\"token string\">'张三'</span>\n    <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>p1<span class=\"token punctuation\">.</span>name<span class=\"token punctuation\">)</span>\n</code></pre>\n<p>方法二：def setattr(对象，属性名，新值）</p>\n<pre class=\" language-python\"><code class=\"language-python\">setattr<span class=\"token punctuation\">(</span>p1<span class=\"token punctuation\">,</span><span class=\"token string\">'age'</span><span class=\"token punctuation\">,</span><span class=\"token number\">20</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>p1<span class=\"token punctuation\">.</span>age<span class=\"token punctuation\">)</span>\n</code></pre>\n<p>方法三：对象._ <em>setattr</em> _(属性名，新值）</p>\n<pre class=\" language-python\"><code class=\"language-python\"> p1<span class=\"token punctuation\">.</span>__setattr__<span class=\"token punctuation\">(</span><span class=\"token string\">'height'</span><span class=\"token punctuation\">,</span><span class=\"token number\">170</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>p1<span class=\"token punctuation\">.</span>height<span class=\"token punctuation\">)</span>\n</code></pre>\n<h5 id=\"3-增（增加属性）\"><a href=\"#3-增（增加属性）\" class=\"headerlink\" title=\"3.增（增加属性）\"></a>3.增（增加属性）</h5><p>注意：添加只能给某一个对象添加对应的属性<br>方法一：对象.属性 = 新值</p>\n<pre class=\" language-python\"><code class=\"language-python\">p1<span class=\"token punctuation\">.</span>sex <span class=\"token operator\">=</span> <span class=\"token string\">'女'</span>\n    <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>p1<span class=\"token punctuation\">.</span>sex<span class=\"token punctuation\">)</span>\n</code></pre>\n<p>方法二：def setattr(对象，属性名，新值)</p>\n<pre class=\" language-python\"><code class=\"language-python\"> setattr<span class=\"token punctuation\">(</span>p1<span class=\"token punctuation\">,</span><span class=\"token string\">'weight'</span><span class=\"token punctuation\">,</span><span class=\"token number\">55</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>p1<span class=\"token punctuation\">.</span>weight<span class=\"token punctuation\">)</span>\n</code></pre>\n<p>方法三：对象.<strong>setattr</strong>(属性名，新值)</p>\n<pre class=\" language-python\"><code class=\"language-python\">p1<span class=\"token punctuation\">.</span>__setattr__<span class=\"token punctuation\">(</span><span class=\"token string\">'color'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'绿色'</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>p1<span class=\"token punctuation\">.</span>color<span class=\"token punctuation\">)</span>\n    <span class=\"token comment\" spellcheck=\"true\"># print(p2.sex)        # 添加只影响一个对象</span>\n</code></pre>\n<h5 id=\"4-删（删除对象属性）\"><a href=\"#4-删（删除对象属性）\" class=\"headerlink\" title=\"4.删（删除对象属性）\"></a>4.删（删除对象属性）</h5><p>注意：删除只针对指定的对象<br>方法一：del 对象.属性</p>\n<pre class=\" language-python\"><code class=\"language-python\"><span class=\"token keyword\">del</span> p1<span class=\"token punctuation\">.</span>name\n    <span class=\"token comment\" spellcheck=\"true\"># print(p1.name)      可行</span>\n</code></pre>\n<p>方法二：delattr(对象，属性名)</p>\n<pre class=\" language-python\"><code class=\"language-python\"> delattr<span class=\"token punctuation\">(</span>p1<span class=\"token punctuation\">,</span><span class=\"token string\">'age'</span><span class=\"token punctuation\">)</span>\n    <span class=\"token comment\" spellcheck=\"true\"># print(p1.age)       可行</span>\n</code></pre>\n<p>方法三：对象._ <em>delattr</em> _(属性名）</p>\n<pre class=\" language-python\"><code class=\"language-python\"> p1<span class=\"token punctuation\">.</span>__delattr__<span class=\"token punctuation\">(</span><span class=\"token string\">'height'</span><span class=\"token punctuation\">)</span>\n    <span class=\"token comment\" spellcheck=\"true\"># print(p1.height)     可行</span>\n    <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>p2<span class=\"token punctuation\">.</span>name<span class=\"token punctuation\">,</span>p2<span class=\"token punctuation\">.</span>age<span class=\"token punctuation\">)</span>\n</code></pre>\n<h3 id=\"对象方法\"><a href=\"#对象方法\" class=\"headerlink\" title=\"对象方法\"></a>对象方法</h3><p>1.对象方法：</p>\n<ul>\n<li>a.什么样的方法是对象方法：直接声明在类里面的函数默认是对象方法，有一个默认参数self</li>\n<li>b.对象方法要通过对象来调用：对象.对象方法（）</li>\n<li>c.对象方法中的默认参数self不需要传参，因为在调用这个方法的时候，<br>系统会自动将当前对象传给self，那个对象调用方法，self就指向谁</li>\n</ul>\n<pre class=\" language-python\"><code class=\"language-python\"><span class=\"token keyword\">import</span> math\n<span class=\"token keyword\">class</span> <span class=\"token class-name\">Circle</span><span class=\"token punctuation\">:</span>\n    <span class=\"token triple-quoted-string string\">'''圆类'''</span>\n    <span class=\"token keyword\">def</span> <span class=\"token function\">__init__</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">,</span>radius1<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n        self<span class=\"token punctuation\">.</span>radius <span class=\"token operator\">=</span> radius1\n    <span class=\"token comment\" spellcheck=\"true\"># 声明了一个对象方法area</span>\n    <span class=\"token comment\" spellcheck=\"true\"># 在这，self就是调用area方法的对象，对象能做的事情，self都可以做</span>\n    <span class=\"token keyword\">def</span> <span class=\"token function\">area</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n        <span class=\"token comment\" spellcheck=\"true\"># print(id(self))</span>\n        <span class=\"token comment\" spellcheck=\"true\"># print('求圆的面积')</span>\n        <span class=\"token keyword\">return</span> math<span class=\"token punctuation\">.</span>pi <span class=\"token operator\">*</span> self<span class=\"token punctuation\">.</span>radius <span class=\"token operator\">**</span><span class=\"token number\">2</span>\n</code></pre>\n<ul>\n<li>练习1：写一个矩形类，有属性长和宽,有两个功能，分别是求周长和面积<pre class=\" language-python\"><code class=\"language-python\"><span class=\"token keyword\">class</span> <span class=\"token class-name\">Rectangle</span><span class=\"token punctuation\">:</span>\n  <span class=\"token triple-quoted-string string\">'''矩形类'''</span>\n  <span class=\"token keyword\">def</span> <span class=\"token function\">__init__</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">,</span>long<span class=\"token punctuation\">,</span>width<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n      self<span class=\"token punctuation\">.</span>long <span class=\"token operator\">=</span> long\n      self<span class=\"token punctuation\">.</span>width <span class=\"token operator\">=</span>width\n  <span class=\"token comment\" spellcheck=\"true\"># 对象方法是否需要额外参数，看实现函数的功能需不需要除了对象属性以外的其他数据</span>\n  <span class=\"token keyword\">def</span> <span class=\"token function\">area</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n      <span class=\"token keyword\">return</span> self<span class=\"token punctuation\">.</span>long <span class=\"token operator\">*</span> self<span class=\"token punctuation\">.</span>width\n  <span class=\"token keyword\">def</span> <span class=\"token function\">perimeter</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n      <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">.</span>width <span class=\"token operator\">+</span> self<span class=\"token punctuation\">.</span>long<span class=\"token punctuation\">)</span> <span class=\"token operator\">*</span><span class=\"token number\">2</span>\n</code></pre>\n</li>\n<li>练习2：写一个班级类，班级里面有多个学生的一门成绩，班级名，可以获取班级成绩中的最高分<pre class=\" language-python\"><code class=\"language-python\"><span class=\"token keyword\">class</span> <span class=\"token class-name\">Grade</span><span class=\"token punctuation\">:</span>\n  <span class=\"token triple-quoted-string string\">'''班级类'''</span>\n  <span class=\"token keyword\">def</span> <span class=\"token function\">__init__</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">,</span>class_name<span class=\"token punctuation\">,</span><span class=\"token operator\">*</span>grade<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n      self<span class=\"token punctuation\">.</span>class_name <span class=\"token operator\">=</span> class_name\n      self<span class=\"token punctuation\">.</span>grade <span class=\"token operator\">=</span> grade\n      <span class=\"token comment\" spellcheck=\"true\"># self.grade = []</span>\n  <span class=\"token keyword\">def</span> <span class=\"token function\">top_score</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n      <span class=\"token comment\" spellcheck=\"true\"># if not self.grade:</span>\n      <span class=\"token comment\" spellcheck=\"true\">#     return None</span>\n      <span class=\"token comment\" spellcheck=\"true\"># max（序列）----》获取序列中元素的最大值</span>\n      <span class=\"token comment\" spellcheck=\"true\"># min (序列）----》获取序列中元素的最小值</span>\n      <span class=\"token keyword\">return</span> max<span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">.</span>grade<span class=\"token punctuation\">)</span>\n</code></pre>\n<code>`</code>python<br>if <strong>name</strong> == ‘<strong>main</strong>‘:<br>  c1 = Circle(3)<br>  print(id(c1))<br>  print(‘c1的面积’,c1.area())</li>\n</ul>\n<pre><code>c2 = Circle(5)\nprint(&#39;c2的面积&#39;, c2.area())\n\ng1 = Grade(&#39;python1806&#39;,90,80,70)\nprint(g1.class_name)\nprint(g1.top_score())\n\ng2 = Rectangle(10,5)\nprint(g2.area())\nprint(g2.perimeter())\n</code></pre><pre><code>### 类的字段\n\n1.类的属性叫类的字段\n\n- a.什么是类的字段\n  类的字段就是声明在类的里面，方法的外面的变量\n- b.什么样的属性声明成类的字段：\n  属于类的，对于这个类的所有的对象来说，其值是一样的\n- c.怎么使用\n  通过类使用：类.字段\n\n```python\nclass Person:\n    # number就是类的字段\n    number = 10\n</code></pre><p>练习：写一个球类，用一个属性来保存这个类的创建对象的个数</p>\n<pre class=\" language-python\"><code class=\"language-python\"><span class=\"token keyword\">class</span> <span class=\"token class-name\">Ball</span><span class=\"token punctuation\">:</span>\n     count <span class=\"token operator\">=</span> <span class=\"token number\">0</span>\n     <span class=\"token comment\" spellcheck=\"true\"># 每次创建球的对象都会调用init方法，所以调用init方法的次数就是Ball创建的对象的个数</span>\n     <span class=\"token keyword\">def</span> <span class=\"token function\">__init__</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n         Ball<span class=\"token punctuation\">.</span>count <span class=\"token operator\">+=</span> <span class=\"token number\">1</span>\nball1 <span class=\"token operator\">=</span> Ball<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\nball2 <span class=\"token operator\">=</span> Ball<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>Ball<span class=\"token punctuation\">.</span>count<span class=\"token punctuation\">)</span>\n\n<span class=\"token keyword\">if</span> __name__ <span class=\"token operator\">==</span> <span class=\"token string\">'__main__'</span><span class=\"token punctuation\">:</span>\n    <span class=\"token comment\" spellcheck=\"true\"># 通过类获取类的字段的值</span>\n    <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>Person<span class=\"token punctuation\">.</span>number<span class=\"token punctuation\">)</span>\n\n    Person<span class=\"token punctuation\">.</span>number <span class=\"token operator\">=</span> <span class=\"token number\">70</span>\n    <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>Person<span class=\"token punctuation\">.</span>number<span class=\"token punctuation\">)</span>\n</code></pre>\n<h3 id=\"类的方法\"><a href=\"#类的方法\" class=\"headerlink\" title=\"类的方法\"></a>类的方法</h3><p>类中的方法</p>\n<ul>\n<li>1.对象方法（实例方法）<br>声明的形式：直接声明在类中<br>特点：自带一个不需要主动传参的默认参数self，谁来调用指向谁</li>\n<li>2.类方法<br>声明形式：声明方法前需要使用@classmethod<br>特点：自带一个参数cls,这个参数调用的时候不需要传值，系统自动传值，谁调用，传给谁！始终指向当前类<br>调用：通过类调用—》类.类方法（）</li>\n<li><p>3.静态方法<br>声明的形式：声明方法前需要使用@staticmethod说明<br>特点：没有默认参数<br>调用：通过类来调用–》类.静态方法（）<br><code>`</code>python<br>class Class1:</p>\n<h1 id=\"类字段\"><a href=\"#类字段\" class=\"headerlink\" title=\"类字段\"></a>类字段</h1><p>  number = 10</p>\n<h1 id=\"声明一个对象方法\"><a href=\"#声明一个对象方法\" class=\"headerlink\" title=\"声明一个对象方法\"></a>声明一个对象方法</h1><p>  def object_func(self):</p>\n<pre><code>  print(&#39;对象方法&#39;)\n</code></pre><h1 id=\"声明一个类方法\"><a href=\"#声明一个类方法\" class=\"headerlink\" title=\"声明一个类方法\"></a>声明一个类方法</h1><p>  @classmethod<br>  def class_func(cls):</p>\n<pre><code>  # 通过cls去使用类的字段\n  print(&#39;cls:&#39;,cls.number)\n  # 通过cls去创建对象\n  tc =cls()\n  tc.object_func()\n  print(&#39;这是一个类方法&#39;)\n</code></pre><p>  @staticmethod<br>  def static_func():</p>\n<pre><code>  print(&#39;这是一个静态方法&#39;)\n</code></pre></li>\n</ul>\n<p>c1 = Class1()</p>\n<h1 id=\"调用对象方法\"><a href=\"#调用对象方法\" class=\"headerlink\" title=\"调用对象方法\"></a>调用对象方法</h1><p>c1.object_func()<br>print(Class1.number)</p>\n<h1 id=\"调用类方法\"><a href=\"#调用类方法\" class=\"headerlink\" title=\"调用类方法\"></a>调用类方法</h1><p>Class1.class_func()</p>\n<h1 id=\"调用静态方法\"><a href=\"#调用静态方法\" class=\"headerlink\" title=\"调用静态方法\"></a>调用静态方法</h1><p>Class1.static_func()</p>\n<pre><code>4.遇到问题怎么来选择使用那种方法：\n+ a.大前提：只要实现方法的功能需要用到对象的属性，我们就使用对象方法，否则就使用静态方法或者类方法\n+ b.不使用对象方法的前提下，如果实现功能需要类的字段就使用类方法\n+ c.实现功能既不需要对象的属性，又不需要类的字段就使用静态方法\n  注意：静态方法和类方法划分不严格，静态方法能做的，类方法可以做，反之成立\n```python\nclass Person:\n    # 类的字段，存储人类数量\n    number = 61\n\n    @classmethod\n    def show_number1(cls):\n        print(&#39;人类的数量是：%d亿&#39;% cls.number)\n\n    @staticmethod\n    def show_number2():\n        print(&#39;人类的数量是：%d亿&#39;% Person.number)\n\nPerson.show_number1()\nPerson.show_number2()\n</code></pre><h3 id=\"内置类属性\"><a href=\"#内置类属性\" class=\"headerlink\" title=\"内置类属性\"></a>内置类属性</h3><p>内置类属性就是魔法属性<br>魔法属性：属性名的前面和后面都有两个下划线<br>魔法方法：方法的前后都有两个下划线</p>\n<pre class=\" language-python\"><code class=\"language-python\"><span class=\"token keyword\">import</span> datetime\n<span class=\"token keyword\">class</span> <span class=\"token class-name\">Person</span><span class=\"token punctuation\">:</span>\n    <span class=\"token triple-quoted-string string\">'''人的类'''</span>\n    <span class=\"token comment\" spellcheck=\"true\"># 类的字段</span>\n    number <span class=\"token operator\">=</span> <span class=\"token number\">61</span>\n    <span class=\"token keyword\">def</span> <span class=\"token function\">__init__</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">,</span>name1<span class=\"token punctuation\">,</span>age1<span class=\"token punctuation\">,</span>height1<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n        <span class=\"token comment\" spellcheck=\"true\"># 对象的属性</span>\n        self<span class=\"token punctuation\">.</span>name <span class=\"token operator\">=</span> name1\n        self<span class=\"token punctuation\">.</span>age <span class=\"token operator\">=</span> age1\n        self<span class=\"token punctuation\">.</span>height <span class=\"token operator\">=</span>height1\n\n    <span class=\"token keyword\">def</span> <span class=\"token function\">run</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n        <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string\">'%s在跑步'</span><span class=\"token operator\">%</span> <span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">.</span>name<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n\n    <span class=\"token comment\" spellcheck=\"true\">#类方法</span>\n    @classmethod\n    <span class=\"token keyword\">def</span> <span class=\"token function\">show_number</span><span class=\"token punctuation\">(</span>cls<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n        <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string\">'人类的数量为：%d亿'</span><span class=\"token operator\">%</span> <span class=\"token punctuation\">(</span>cls<span class=\"token punctuation\">.</span>number<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n\n    <span class=\"token comment\" spellcheck=\"true\"># 静态方法</span>\n    @staticmethod\n    <span class=\"token keyword\">def</span> <span class=\"token function\">destroy</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n        <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string\">'人类在破坏环境!'</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token keyword\">if</span> __name__ <span class=\"token operator\">==</span> <span class=\"token string\">'__main__'</span><span class=\"token punctuation\">:</span>\n    p1 <span class=\"token operator\">=</span> Person<span class=\"token punctuation\">(</span><span class=\"token string\">'张三丰'</span><span class=\"token punctuation\">,</span><span class=\"token number\">20</span><span class=\"token punctuation\">,</span><span class=\"token number\">173</span><span class=\"token punctuation\">)</span>\n</code></pre>\n<h5 id=\"1-name属性-—-类的名字（是字符串）\"><a href=\"#1-name属性-—-类的名字（是字符串）\" class=\"headerlink\" title=\"1.name属性  — 类的名字（是字符串）\"></a>1.<strong>name</strong>属性  — 类的名字（是字符串）</h5><pre class=\" language-python\"><code class=\"language-python\">    <span class=\"token comment\" spellcheck=\"true\"># 类的属性</span>\n    name <span class=\"token operator\">=</span> Person<span class=\"token punctuation\">.</span>__name__\n    <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>name<span class=\"token punctuation\">,</span>type<span class=\"token punctuation\">(</span>name<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n</code></pre>\n<h5 id=\"2-class属性-—-获取对象对应类（是一个类）\"><a href=\"#2-class属性-—-获取对象对应类（是一个类）\" class=\"headerlink\" title=\"2.class属性 — 获取对象对应类（是一个类）\"></a>2.<strong>class</strong>属性 — 获取对象对应类（是一个类）</h5><pre class=\" language-python\"><code class=\"language-python\">    <span class=\"token comment\" spellcheck=\"true\"># 对象的属性</span>\n    <span class=\"token comment\" spellcheck=\"true\"># my_classs是一个类，之前类能做的事情他都能做</span>\n    my_class <span class=\"token operator\">=</span> p1<span class=\"token punctuation\">.</span>__class__\n    p2 <span class=\"token operator\">=</span> my_class<span class=\"token punctuation\">(</span><span class=\"token string\">'小明'</span><span class=\"token punctuation\">,</span><span class=\"token number\">20</span><span class=\"token punctuation\">,</span><span class=\"token number\">100</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>p2<span class=\"token punctuation\">.</span>name<span class=\"token punctuation\">)</span>\n</code></pre>\n<h5 id=\"3-dict属性-—-将对象和类的属性及其对应的值转换成键值对存到一个字典中\"><a href=\"#3-dict属性-—-将对象和类的属性及其对应的值转换成键值对存到一个字典中\" class=\"headerlink\" title=\"3.dict属性 — 将对象和类的属性及其对应的值转换成键值对存到一个字典中\"></a>3.<strong>dict</strong>属性 — 将对象和类的属性及其对应的值转换成键值对存到一个字典中</h5><pre class=\" language-python\"><code class=\"language-python\">    <span class=\"token comment\" spellcheck=\"true\"># print(Person.__class__)</span>\n    <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>p1<span class=\"token punctuation\">.</span>__dict__<span class=\"token punctuation\">)</span>     <span class=\"token comment\" spellcheck=\"true\">#  {'name': '张三丰', 'age': 20, 'height': 173}</span>\n</code></pre>\n<h5 id=\"4-doc属性—-获取类的说明文档\"><a href=\"#4-doc属性—-获取类的说明文档\" class=\"headerlink\" title=\"4.doc属性—-获取类的说明文档\"></a>4.<strong>doc</strong>属性—-获取类的说明文档</h5><pre class=\" language-python\"><code class=\"language-python\">    <span class=\"token comment\" spellcheck=\"true\"># 类的属性</span>\n    doc <span class=\"token operator\">=</span> Person<span class=\"token punctuation\">.</span>__doc__\n    <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>doc<span class=\"token punctuation\">)</span>\n</code></pre>\n<h5 id=\"5-module属性-—-获取所有模块对应的名字\"><a href=\"#5-module属性-—-获取所有模块对应的名字\" class=\"headerlink\" title=\"5.module属性 —- 获取所有模块对应的名字\"></a>5.<strong>module</strong>属性 —- 获取所有模块对应的名字</h5><pre class=\" language-python\"><code class=\"language-python\">    <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>Person<span class=\"token punctuation\">.</span>__module__<span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>datetime<span class=\"token punctuation\">.</span>datetime<span class=\"token punctuation\">.</span>__module__<span class=\"token punctuation\">)</span>\n</code></pre>\n<h5 id=\"6-bases属性-—获取当前类的父类\"><a href=\"#6-bases属性-—获取当前类的父类\" class=\"headerlink\" title=\"6.bases属性 —获取当前类的父类\"></a>6.<strong>bases</strong>属性 —获取当前类的父类</h5><pre class=\" language-python\"><code class=\"language-python\">    <span class=\"token comment\" spellcheck=\"true\"># 类的属性</span>\n    <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>Person<span class=\"token punctuation\">.</span>__bases__<span class=\"token punctuation\">)</span>\n\n</code></pre>\n<h3 id=\"slots魔法\"><a href=\"#slots魔法\" class=\"headerlink\" title=\"slots魔法\"></a>slots魔法</h3><pre class=\" language-python\"><code class=\"language-python\"><span class=\"token keyword\">class</span> <span class=\"token class-name\">Person</span><span class=\"token punctuation\">:</span>\n    <span class=\"token triple-quoted-string string\">'''人的类'''</span>\n    <span class=\"token comment\" spellcheck=\"true\"># 通过__slots__中存的元素的属性的值来约束当前这个类的对象的属性，对象的属性只能比元组中的少，不能多</span>\n    __slots__ <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token string\">'name'</span><span class=\"token punctuation\">,</span><span class=\"token string\">'age'</span><span class=\"token punctuation\">,</span><span class=\"token string\">'face'</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">def</span> <span class=\"token function\">__init__</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n        <span class=\"token comment\" spellcheck=\"true\"># 对象的属性</span>\n        self<span class=\"token punctuation\">.</span>name <span class=\"token operator\">=</span> <span class=\"token string\">'张三丰'</span>\n        self<span class=\"token punctuation\">.</span>age <span class=\"token operator\">=</span> <span class=\"token number\">20</span>\n        self<span class=\"token punctuation\">.</span>face <span class=\"token operator\">=</span> <span class=\"token number\">80</span>\n        <span class=\"token comment\" spellcheck=\"true\"># self.sex = 'boy'     # __slots__中并没有sex</span>\n\n<span class=\"token keyword\">if</span> __name__ <span class=\"token operator\">==</span> <span class=\"token string\">'__main__'</span><span class=\"token punctuation\">:</span>\n    p1 <span class=\"token operator\">=</span> Person<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    <span class=\"token comment\" spellcheck=\"true\"># p1.sex = 'girl'</span>\n    <span class=\"token comment\" spellcheck=\"true\"># print(p1.sex)</span>\n\n    <span class=\"token comment\" spellcheck=\"true\"># p1.name = '小明'</span>\n    <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>p1<span class=\"token punctuation\">.</span>name<span class=\"token punctuation\">)</span>\n\n    <span class=\"token comment\" spellcheck=\"true\"># 注意：一旦在类中给__slots__属性赋了值，那么这个类的对象的__dict__属性就不能使用了</span>\n    <span class=\"token comment\" spellcheck=\"true\"># print(p1.__dict__)</span>\n\n</code></pre>\n<h3 id=\"私有化\"><a href=\"#私有化\" class=\"headerlink\" title=\"私有化\"></a>私有化</h3><p>python中并没有真正的私有化<br>1.私有化的语法<br>a.类中的属性和方法都可以通过在属性名和方法名前加两个下划线，来让属性和方法变成私有的<br>b.私有的属性和方法只能在当前的类中使用<br>2.私有化的原理<br>在前面有两个下划线的属性名和方法名前添加了’_类名’来阻止外部直接访问属性名来使用属性</p>\n<pre class=\" language-python\"><code class=\"language-python\">cclass Dog<span class=\"token punctuation\">:</span>\n    <span class=\"token comment\" spellcheck=\"true\"># 字段</span>\n    number <span class=\"token operator\">=</span> <span class=\"token number\">100</span>\n    __count <span class=\"token operator\">=</span> <span class=\"token number\">200</span>\n\n    <span class=\"token keyword\">def</span> <span class=\"token function\">__init__</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n        <span class=\"token comment\" spellcheck=\"true\"># 对象的属性</span>\n        self<span class=\"token punctuation\">.</span>color <span class=\"token operator\">=</span> <span class=\"token string\">'黄色'</span>\n        self<span class=\"token punctuation\">.</span>age <span class=\"token operator\">=</span> <span class=\"token number\">3</span>\n        self<span class=\"token punctuation\">.</span>name <span class=\"token operator\">=</span> <span class=\"token string\">'大黄'</span>\n        self<span class=\"token punctuation\">.</span>__sex <span class=\"token operator\">=</span> <span class=\"token string\">'公狗'</span>\n\n    <span class=\"token comment\" spellcheck=\"true\"># 对象方法</span>\n    <span class=\"token keyword\">def</span> <span class=\"token function\">__eat</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n        <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string\">'%s啃骨头'</span><span class=\"token operator\">%</span> <span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">.</span>name<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n\n    <span class=\"token keyword\">def</span> <span class=\"token function\">eat</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n        <span class=\"token comment\" spellcheck=\"true\"># 在类中可以使用私有的属性</span>\n        self<span class=\"token punctuation\">.</span>__eat<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n        <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string\">'%s在吃屎·'</span> <span class=\"token operator\">%</span> <span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">.</span>name<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n\n    <span class=\"token comment\" spellcheck=\"true\"># 类方法</span>\n    @classmethod\n    <span class=\"token keyword\">def</span> <span class=\"token function\">shout</span><span class=\"token punctuation\">(</span>cls<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n        <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string\">'count'</span><span class=\"token punctuation\">,</span>cls<span class=\"token punctuation\">.</span>__count<span class=\"token punctuation\">)</span>\n        <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string\">'汪汪汪~~~'</span><span class=\"token punctuation\">)</span>\n\n    <span class=\"token comment\" spellcheck=\"true\"># 静态方法</span>\n    @staticmethod\n    <span class=\"token keyword\">def</span> <span class=\"token function\">function</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n        <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string\">'看家!!'</span><span class=\"token punctuation\">)</span>\n\n <span class=\"token comment\" spellcheck=\"true\"># python的类中默认的属性和方法是公开的</span>\ndog1 <span class=\"token operator\">=</span> Dog<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>Dog<span class=\"token punctuation\">.</span>number<span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>dog1<span class=\"token punctuation\">.</span>name<span class=\"token punctuation\">,</span>dog1<span class=\"token punctuation\">.</span>color<span class=\"token punctuation\">,</span>dog1<span class=\"token punctuation\">.</span>age<span class=\"token punctuation\">)</span>\ndog1<span class=\"token punctuation\">.</span>eat<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\nDog<span class=\"token punctuation\">.</span>shout<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\nDog<span class=\"token punctuation\">.</span>function<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token comment\" spellcheck=\"true\"># 在类的外面不能使用私有属性</span>\n<span class=\"token comment\" spellcheck=\"true\"># print(Dog.__count)                AttributeError: type object 'Dog' has no attribute '__count'</span>\n<span class=\"token comment\" spellcheck=\"true\"># print(dog1.__sex)               AttributeError: 'Dog' object has no attribute '__sex'</span>\ndog1<span class=\"token punctuation\">.</span>eat<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>dog1<span class=\"token punctuation\">.</span>__dict__<span class=\"token punctuation\">)</span>\n</code></pre>\n<h3 id=\"属性的getter和setter\"><a href=\"#属性的getter和setter\" class=\"headerlink\" title=\"属性的getter和setter\"></a>属性的getter和setter</h3><p>1.解释</p>\n<ul>\n<li>a.保护类型的属性：就是在声明对象属性的时候在属性名前加一个下划线来代表这个属性是受保护的属性，<br>那么以后访问这个属性的时候就不要直接访问，要通过getter来获取这个属性的值，通过setter来给这个属性赋值</li>\n<li>b.如果一个属性已经声明成保护类型的属性，那么我们就要给这个属性添加getter，也可以添加setter</li>\n</ul>\n<p>2.添加getter<br>添加getter就是声明一个没有参数，有一个返回值的函数</p>\n<ul>\n<li>a.格式：<br>@property<br>def 去掉下划线的属性名（self）：<br>——函数体<br>——将属性相关的值返回</li>\n<li>b.使用场景<br>场景一：如果想要获取对象的某个属性的值之前，想要做其他处理，就可以给这个属性添加getter<br>场景二：想要拿到某个属性被使用的时刻</li>\n</ul>\n<p>3.添加setter<br>添加setter就是声明一个有一个参数，但是没有返回值的参数，作用是给属性赋值<br>a.格式<br>b.使用场景<br>在给属性赋值前要进行其他操作，就给属性声明一个setter函数</p>\n<pre class=\" language-python\"><code class=\"language-python\"><span class=\"token keyword\">class</span> <span class=\"token class-name\">Car</span><span class=\"token punctuation\">:</span>\n\n    <span class=\"token keyword\">def</span> <span class=\"token function\">__init__</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n        self<span class=\"token punctuation\">.</span>color <span class=\"token operator\">=</span> <span class=\"token string\">'黄色'</span>\n        self<span class=\"token punctuation\">.</span>type <span class=\"token operator\">=</span> <span class=\"token string\">'自行车'</span>\n        <span class=\"token comment\" spellcheck=\"true\"># price是保护类型</span>\n        self<span class=\"token punctuation\">.</span>_price <span class=\"token operator\">=</span> <span class=\"token number\">2000</span>\n\n    <span class=\"token comment\" spellcheck=\"true\"># 给_price属性添加getter</span>\n    @property\n    <span class=\"token keyword\">def</span> <span class=\"token function\">price</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n        <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string\">'在使用_price属性'</span><span class=\"token punctuation\">)</span>\n        <span class=\"token keyword\">return</span> self<span class=\"token punctuation\">.</span>_price<span class=\"token operator\">/</span><span class=\"token number\">1000</span>\n\n    <span class=\"token comment\" spellcheck=\"true\"># 想要给一个属性添加setter，就必须先给这个属性添加getter</span>\n    @price<span class=\"token punctuation\">.</span>setter\n    <span class=\"token keyword\">def</span> <span class=\"token function\">price</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">,</span>price<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n        <span class=\"token keyword\">if</span> isinstance<span class=\"token punctuation\">(</span>price<span class=\"token punctuation\">,</span>int<span class=\"token punctuation\">)</span> <span class=\"token operator\">or</span> isinstance<span class=\"token punctuation\">(</span>price<span class=\"token punctuation\">,</span>float<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n            self<span class=\"token punctuation\">.</span>price\n        <span class=\"token keyword\">else</span><span class=\"token punctuation\">:</span>\n            self<span class=\"token punctuation\">.</span>_price <span class=\"token operator\">=</span> <span class=\"token number\">0</span>\n</code></pre>\n<h5 id=\"练习：声明一个员工类，其中一个属性是否已婚（bool），获取值之前根据存的值返回”已婚”-“未婚”\"><a href=\"#练习：声明一个员工类，其中一个属性是否已婚（bool），获取值之前根据存的值返回”已婚”-“未婚”\" class=\"headerlink\" title=\"练习：声明一个员工类，其中一个属性是否已婚（bool），获取值之前根据存的值返回”已婚”/“未婚”\"></a>练习：声明一个员工类，其中一个属性是否已婚（bool），获取值之前根据存的值返回”已婚”/“未婚”</h5><pre class=\" language-python\"><code class=\"language-python\"><span class=\"token keyword\">class</span> <span class=\"token class-name\">Staff</span><span class=\"token punctuation\">:</span>\n    <span class=\"token triple-quoted-string string\">'''员工类'''</span>\n    <span class=\"token keyword\">def</span> <span class=\"token function\">__init__</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">,</span>name<span class=\"token punctuation\">,</span>age<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n        self<span class=\"token punctuation\">.</span>name <span class=\"token operator\">=</span>name\n        self<span class=\"token punctuation\">.</span>age <span class=\"token operator\">=</span> age\n        self<span class=\"token punctuation\">.</span>_is_marry <span class=\"token operator\">=</span> <span class=\"token boolean\">False</span>\n\n    @property\n    <span class=\"token keyword\">def</span> <span class=\"token function\">is_marry</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n        <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string\">'在使用_price属性'</span><span class=\"token punctuation\">)</span>\n        <span class=\"token keyword\">if</span> self<span class=\"token punctuation\">.</span>_is_marry<span class=\"token punctuation\">:</span>\n            <span class=\"token keyword\">return</span> <span class=\"token string\">'已婚'</span>\n        <span class=\"token keyword\">return</span> <span class=\"token string\">'未婚'</span>\n\n    @is_marry<span class=\"token punctuation\">.</span>setter\n    <span class=\"token keyword\">def</span> <span class=\"token function\">is_marry</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">,</span> marry<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n        self<span class=\"token punctuation\">.</span>_is_marry <span class=\"token operator\">=</span> marry\n\n<span class=\"token keyword\">if</span> __name__ <span class=\"token operator\">==</span> <span class=\"token string\">'__main__'</span><span class=\"token punctuation\">:</span>\n\n    car1 <span class=\"token operator\">=</span> Car<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>car1<span class=\"token punctuation\">.</span>color<span class=\"token punctuation\">,</span>car1<span class=\"token punctuation\">.</span>_price<span class=\"token punctuation\">)</span>\n    <span class=\"token comment\" spellcheck=\"true\"># 添加完getter后就通过getter去获取属性值，实质就是调用getter对应方法</span>\n    <span class=\"token comment\" spellcheck=\"true\"># price就是属性_price的getter</span>\n    <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>car1<span class=\"token punctuation\">.</span>price<span class=\"token punctuation\">,</span><span class=\"token string\">'k'</span><span class=\"token punctuation\">)</span>\n\n    <span class=\"token comment\" spellcheck=\"true\"># 通过setter给属性赋值,实质是调用setter对应的方法</span>\n    car1<span class=\"token punctuation\">.</span>price<span class=\"token operator\">=</span> <span class=\"token string\">'abc'</span>\n    <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>car1<span class=\"token punctuation\">.</span>price<span class=\"token punctuation\">)</span>\n\n    s1 <span class=\"token operator\">=</span> Staff<span class=\"token punctuation\">(</span><span class=\"token string\">'张三'</span><span class=\"token punctuation\">,</span> <span class=\"token number\">20</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>s1<span class=\"token punctuation\">.</span>is_marry<span class=\"token punctuation\">)</span>\n\n    s1<span class=\"token punctuation\">.</span>is_marry <span class=\"token operator\">=</span> <span class=\"token boolean\">True</span>\n    <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>s1<span class=\"token punctuation\">.</span>is_marry<span class=\"token punctuation\">)</span>\n</code></pre>\n<h3 id=\"继承\"><a href=\"#继承\" class=\"headerlink\" title=\"继承\"></a>继承</h3><p>python中类可以继承，并且支持多继承<br>程序中的继承：就是让子类字节拥有父类的属性和方法（继承父类中的内容不会因为被继承而减少）</p>\n<p>1.继承的语法<br>class 子类（父类）：<br>​    类的内容<br>注意：如果声明类的时候没有写继承，那么这个类会自动继承python中的基类，object;相当于class 类名（object）：<br>​      python中所有的类都是直接和间接的继承自object<br>2.能继承那些东西<br>a.所有的属性和方法都能继承<br>b.<strong>slots</strong>的值不会继承，但是会影响子类对象的<strong>dict</strong>属性，不能获取父类继承下来的属性</p>\n<pre class=\" language-python\"><code class=\"language-python\"><span class=\"token keyword\">class</span> <span class=\"token class-name\">Person</span><span class=\"token punctuation\">:</span>\n    <span class=\"token triple-quoted-string string\">'''人类'''</span>\n    <span class=\"token comment\" spellcheck=\"true\"># 字段</span>\n    number <span class=\"token operator\">=</span> <span class=\"token number\">61</span>\n\n    <span class=\"token comment\" spellcheck=\"true\"># __slots__ = ('name','age')</span>\n    <span class=\"token comment\" spellcheck=\"true\"># 对象属性</span>\n    <span class=\"token keyword\">def</span> <span class=\"token function\">__init__</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">,</span>name<span class=\"token operator\">=</span><span class=\"token string\">'张三'</span><span class=\"token punctuation\">,</span>age<span class=\"token operator\">=</span><span class=\"token number\">18</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n        self<span class=\"token punctuation\">.</span>name <span class=\"token operator\">=</span> name\n        self<span class=\"token punctuation\">.</span>age <span class=\"token operator\">=</span> age\n        self<span class=\"token punctuation\">.</span>_height <span class=\"token operator\">=</span> <span class=\"token number\">173</span>\n\n    <span class=\"token comment\" spellcheck=\"true\"># 对象方法</span>\n    <span class=\"token keyword\">def</span> <span class=\"token function\">show_message</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n        <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string\">'姓名：%s 年龄：%d'</span><span class=\"token operator\">%</span> <span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">.</span>name<span class=\"token punctuation\">,</span>self<span class=\"token punctuation\">.</span>age<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n\n    @classmethod\n    <span class=\"token keyword\">def</span> <span class=\"token function\">show_number</span><span class=\"token punctuation\">(</span>cls<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n        <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string\">'人类的数量：%d亿'</span><span class=\"token operator\">%</span> cls<span class=\"token punctuation\">.</span>number<span class=\"token punctuation\">)</span>\n\n    @staticmethod\n    <span class=\"token keyword\">def</span> <span class=\"token function\">show_message</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n        <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string\">'人类殴打小动物!'</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token keyword\">class</span> <span class=\"token class-name\">Student</span><span class=\"token punctuation\">(</span>Person<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    <span class=\"token triple-quoted-string string\">'''学生类'''</span>\n    <span class=\"token keyword\">pass</span>\n\n<span class=\"token comment\" spellcheck=\"true\">#创建Person类的对象</span>\np <span class=\"token operator\">=</span> Person<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token comment\" spellcheck=\"true\"># 学生类</span>\nstu1 <span class=\"token operator\">=</span> Student<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>Student<span class=\"token punctuation\">.</span>number<span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>stu1<span class=\"token punctuation\">.</span>name<span class=\"token punctuation\">)</span>\nstu1<span class=\"token punctuation\">.</span>show_number<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\nstu1<span class=\"token punctuation\">.</span>show_message<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>stu1<span class=\"token punctuation\">.</span>__dict__<span class=\"token punctuation\">)</span>\n\n<span class=\"token keyword\">if</span> __name__ <span class=\"token operator\">==</span> <span class=\"token string\">'__main__'</span><span class=\"token punctuation\">:</span>\n    <span class=\"token keyword\">pass</span>\n</code></pre>\n<h3 id=\"方法的重写\"><a href=\"#方法的重写\" class=\"headerlink\" title=\"方法的重写\"></a>方法的重写</h3><p>子类继承父类，拥有父类的属性和方法以后，还可以添加自己的属性和方法<br>1.添加方法和类的字段<br>直接在子类中声明相应的字段和方法</p>\n<p>2.添加对象属性<br>对象的属性是通过继承父类的init方法而继承下来<br>如果想要保留父类的对象的同时添加自己的对象属性，需要在子类的init方法中通过super（）去调用父类的init方法</p>\n<p>3.方法的重写<br>在子类中重新实现父类的方法，就是重写<br>方式一：直接覆盖父类的实现<br>方式二：保留父类的功能再添加其他功能</p>\n<p>4.类中方法的调用过程<br>先在当前这个中的去找，没有找到就去父类中找，还是没找到就去，就去父类的父类中去找，以此类推，如果在基类中也没找到，才崩溃<br>在第一次找到的位置，去调用<br>注意：使用super的时候必须通过super（）来代替父类或者是父类的对象</p>\n<pre class=\" language-python\"><code class=\"language-python\"><span class=\"token keyword\">class</span> <span class=\"token class-name\">Animal</span><span class=\"token punctuation\">:</span>\n    <span class=\"token triple-quoted-string string\">'''动物'''</span>\n    <span class=\"token keyword\">def</span> <span class=\"token function\">__init__</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n        self<span class=\"token punctuation\">.</span>age <span class=\"token operator\">=</span> <span class=\"token number\">0</span>\n        self<span class=\"token punctuation\">.</span>sex <span class=\"token operator\">=</span> <span class=\"token string\">'雌'</span>\n\n    <span class=\"token keyword\">def</span> <span class=\"token function\">shout</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n        <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string\">'嗷嗷叫'</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token keyword\">class</span> <span class=\"token class-name\">Cat</span><span class=\"token punctuation\">(</span>Animal<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    <span class=\"token triple-quoted-string string\">'''猫'''</span>\n    <span class=\"token keyword\">def</span> <span class=\"token function\">__init__</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n        <span class=\"token comment\" spellcheck=\"true\"># 调用父类的init方法</span>\n        super<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>__init__<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n        self<span class=\"token punctuation\">.</span>name <span class=\"token operator\">=</span> <span class=\"token string\">'小花'</span>\n    food <span class=\"token operator\">=</span> <span class=\"token string\">'鱼'</span>\n\n    <span class=\"token keyword\">def</span> <span class=\"token function\">shout</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n        <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string\">'喵喵喵~~~'</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token keyword\">class</span> <span class=\"token class-name\">Dog</span><span class=\"token punctuation\">(</span>Animal<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    <span class=\"token triple-quoted-string string\">'''狗'''</span>\n    <span class=\"token keyword\">def</span> <span class=\"token function\">shout</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n        <span class=\"token comment\" spellcheck=\"true\"># 通过super（）调用父类的方法，保留父类功能</span>\n        super<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>shout<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n        <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string\">'汪汪汪~~~'</span><span class=\"token punctuation\">)</span>\n\ncat1 <span class=\"token operator\">=</span> Cat<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>cat1<span class=\"token punctuation\">.</span>name<span class=\"token punctuation\">,</span>cat1<span class=\"token punctuation\">.</span>age<span class=\"token punctuation\">,</span>cat1<span class=\"token punctuation\">.</span>sex<span class=\"token punctuation\">)</span>\ncat1<span class=\"token punctuation\">.</span>shout<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\ndog1 <span class=\"token operator\">=</span> Dog<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\ndog1<span class=\"token punctuation\">.</span>shout<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n\n</code></pre>\n<h3 id=\"init方法的重写\"><a href=\"#init方法的重写\" class=\"headerlink\" title=\"init方法的重写\"></a>init方法的重写</h3><p>练习：写一个人类，拥有属性name,age,sex。要求创建Person对象的时候必须给name和age赋值，sex可赋可不赋，再写一个Staff类继承自Person类，要求保留Person中所有的属性，并且添加新的属性salary，要求创建Staff类的对象的时候，只能给name赋值（必须赋）</p>\n<pre class=\" language-python\"><code class=\"language-python\"><span class=\"token keyword\">class</span> <span class=\"token class-name\">Person</span><span class=\"token punctuation\">:</span>\n    <span class=\"token triple-quoted-string string\">'''人类'''</span>\n    <span class=\"token keyword\">def</span> <span class=\"token function\">__init__</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">,</span>name<span class=\"token punctuation\">,</span>age<span class=\"token punctuation\">,</span>sex<span class=\"token operator\">=</span><span class=\"token string\">'boy'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n        self<span class=\"token punctuation\">.</span>name <span class=\"token operator\">=</span> name\n        self<span class=\"token punctuation\">.</span>age <span class=\"token operator\">=</span>age\n        self<span class=\"token punctuation\">.</span>sex <span class=\"token operator\">=</span> sex\n\n<span class=\"token keyword\">class</span> <span class=\"token class-name\">Staff</span><span class=\"token punctuation\">(</span>Person<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    <span class=\"token keyword\">def</span> <span class=\"token function\">__init__</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">,</span>name<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n        super<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>__init__<span class=\"token punctuation\">(</span>name<span class=\"token punctuation\">,</span><span class=\"token number\">20</span><span class=\"token punctuation\">)</span>\n        self<span class=\"token punctuation\">.</span>salary <span class=\"token operator\">=</span> <span class=\"token string\">'10000'</span>\n\n<span class=\"token keyword\">if</span> __name__ <span class=\"token operator\">==</span> <span class=\"token string\">'__main__'</span><span class=\"token punctuation\">:</span>\n    p1 <span class=\"token operator\">=</span> Person<span class=\"token punctuation\">(</span><span class=\"token string\">'张三'</span><span class=\"token punctuation\">,</span><span class=\"token number\">20</span><span class=\"token punctuation\">)</span>\n    s1 <span class=\"token operator\">=</span> Staff<span class=\"token punctuation\">(</span><span class=\"token string\">'李四'</span><span class=\"token punctuation\">)</span>\n</code></pre>\n<h3 id=\"运算符的重载\"><a href=\"#运算符的重载\" class=\"headerlink\" title=\"运算符的重载\"></a>运算符的重载</h3><p>如果希望类的对象支持相应的运算符（+，-，*，/，&gt;,&lt;ect），就必须实现相应的魔法方法<br>继承一样有用</p>\n<ul>\n<li><p>: <strong>daa</strong></p>\n<blockquote>\n<p>:<strong>gt</strong><br>一般情况需要对&gt;或者&lt;进行重载，重载后可以通过sort方法直接对对象的列表进行排序<br><code>`</code>python<br>class Student:<br>  def <strong>init</strong>(self,name=’’,age=0,score=0):</p>\n<pre><code>  self.name = name\n  self.age = age\n  self.score = score\n</code></pre></blockquote>\n<h1 id=\"self-前面的对象\"><a href=\"#self-前面的对象\" class=\"headerlink\" title=\"self:+ 前面的对象\"></a>self:+ 前面的对象</h1><h1 id=\"other-后面的对象\"><a href=\"#other-后面的对象\" class=\"headerlink\" title=\"other:+ 后面的对象\"></a>other:+ 后面的对象</h1><p>  def <strong>add</strong>(self, other):</p>\n<pre><code>  return self.score + other.score\n</code></pre><h1 id=\"重载-gt-符号\"><a href=\"#重载-gt-符号\" class=\"headerlink\" title=\"重载 &gt; 符号\"></a>重载 &gt; 符号</h1><h1 id=\"注意：重载-gt-和-lt-可以只重载一个，另一个对应的功能自动取反\"><a href=\"#注意：重载-gt-和-lt-可以只重载一个，另一个对应的功能自动取反\" class=\"headerlink\" title=\"注意：重载&gt;和&lt;可以只重载一个，另一个对应的功能自动取反\"></a>注意：重载&gt;和&lt;可以只重载一个，另一个对应的功能自动取反</h1><p>  def <strong>gt</strong>(self, other):</p>\n<pre><code>  return self.age &gt; other.age\n</code></pre><h1 id=\"重写魔法方法str，用来制定对象的打印样式\"><a href=\"#重写魔法方法str，用来制定对象的打印样式\" class=\"headerlink\" title=\"重写魔法方法str，用来制定对象的打印样式\"></a>重写魔法方法<strong>str</strong>，用来制定对象的打印样式</h1><p>  def <strong>str</strong>(self):</p>\n<pre><code>  return &#39;Student:%s %d %d&#39;% (self.name,self.age,self.score)\n</code></pre></li>\n</ul>\n<p>if <strong>name</strong> == ‘<strong>main</strong>‘:<br>    stu1 = Student(‘小明’,18,90)<br>    stu2 = Student(‘老王’,29,84)<br>    stu3 = Student(‘项羽’,24,70)<br>print(stu1 + stu2)<br>print(stu1 &gt; stu2)<br>print(stu1 &lt; stu2)</p>\n<p>all_student = [stu1,stu2,stu3]<br>all_student.sort()<br>for stu in all_student:<br>    print(stu.name,stu.age,stu.score)<br>print(stu1.<strong>str</strong>())<br><code>`</code></p>\n","site":{"data":{}},"excerpt":"","more":"<h3 id=\"类和对象\"><a href=\"#类和对象\" class=\"headerlink\" title=\"类和对象\"></a>类和对象</h3><p>1.理论上的定义</p>\n<p>类：就是拥有相同功能和相同属性的对象的集合（类是抽象的）</p>\n<p>对象：类的实例（对象是具体的）</p>\n<p>2.从生活的角度</p>\n<p>如果说电脑是一个类，我桌上的这台电脑就是一个对象<br>如果说车是一个类，具体的一辆车就是一个对象</p>\n<p>3.编程思想</p>\n<p>面向过程编程：以算法为工具</p>\n<p>函数式编程：以函数为工具</p>\n<p>面向对象编程：以类和对象为工具（面向生活）</p>\n<p>封装效果：一个类中可以对多个功能进行封装（多个函数），对多个属性进行封装</p>\n<h3 id=\"类的声明\"><a href=\"#类的声明\" class=\"headerlink\" title=\"类的声明\"></a>类的声明</h3><p>1.类的声明格式<br>class 类名（父类列表）：<br>——类的说明文档<br>——类的内容<br>2说明：</p>\n<ul>\n<li>class：声明类的关键字</li>\n<li>类名：标识符，不能是关键字。驼峰式命名（第一个单词首字母小写，其它的单词首字母大写），首字母大写！！！，见名知义<br>​    例如：Person、StudentSystem</li>\n<li>(父类列表)：括号与括号里的内容可以省略，这个是继承语法</li>\n<li>冒号：固定的</li>\n<li>类的内容：包括类的方法和类的属性</li>\n</ul>\n<p>3.类中的方法<br>方法：声明在类中的函数</p>\n<ul>\n<li>a.对象方法：对象方法需要对象来调用，对象，函数名（）<br>直接写在类中的方法，自带一个self参数</li>\n<li>b.类方法</li>\n<li>c.静态方法</li>\n</ul>\n<p>4.创建对象<br>创建类的时候，系统会默认给我们创建这个类对应的构造方法<br>构造方法：类名（）–》创建类对应的对象</p>\n<pre><code class=\"python\">\n# 创建一个类\nclass Person:\n    &#39;&#39;&#39;人类&#39;&#39;&#39;\n    def eat(self):\n        print(&#39;人吃饭&#39;)\n\n\n\nif __name__ == &#39;__main__&#39;:\n    # 创建对象\n    p1 = Person()    # 创建Person类的对象，并且将对象地址存到p1中\n\n    # 一个类可以有多个对象\n    p2 = Person()\n    # 只有在调用构造方法的时候才会产生新的对象\n    p3 = p2\n    print(id(p1),id(p2),id(p3))\n\n    # 2.调用对象\n    # 通过对象调用对象方法，默认参数self不需要传参，系统自动传参\n    p1.eat()\n</code></pre>\n<h3 id=\"构造方法和init方法\"><a href=\"#构造方法和init方法\" class=\"headerlink\" title=\"构造方法和init方法\"></a>构造方法和init方法</h3><p>1.构造方法：系统自动创建，方法名和类名一样，用来创建对象<br>2.<strong>init</strong>:init方法的功能是用来做初始化和添加对象属性的<br>当我们通过构造方法去创建对象的时候，系统会自动调用init方法(不用主动调用init方法)</p>\n<pre><code class=\"python\">class Dog:\n    def __init__(self):\n        print(&#39;init方法&#39;)\n\nclass Person:\n    # init方法可以添加参数\n    def __init__(self,name,age = 18):\n        print(name,age)\n        print(&#39;人类的init方法&#39;)\n\nif __name__ == &#39;__main__&#39;:\n    # 创建对象的过程：调用构造方法在内存中开辟空间创造一个对象，然后用新建的这个对象去调用init方法，\n    #                 来初始化对象的属性，最后才将对象返回\n    dog1 = Dog()\n    dog2 = Dog()\n    # 如果类的init方法有参数，通过给构造方法传参类init方法传参\n    p1 = Person(&#39;小明&#39;)\n    p2 = Person(&#39;小红&#39;,20)\n    p3 = Person(age = 20,name = &#39;东东&#39;)\n</code></pre>\n<h3 id=\"对象属性\"><a href=\"#对象属性\" class=\"headerlink\" title=\"对象属性\"></a>对象属性</h3><p>类中的内容：属性和方法<br>1.属性:(保存值的)</p>\n<ul>\n<li>a.对象的属性：不同的对象，对应的值可能不一样，这样的属性就是对象属性属于对象<br>类中的对象属性是声明在init方法中的，并且声明格式：self.属性名 = 初值<br>对象属性的使用:对象，属性名</li>\n<li>b.类的字段：属于类的，所有的对象对应的值是一样的</li>\n</ul>\n<p>2.方法：(保存功能的)</p>\n<ul>\n<li>a.对象方法</li>\n<li>b.类方法</li>\n<li>c.静态方法</li>\n</ul>\n<pre><code class=\"python\">\nclass Student:\n    &#39;&#39;&#39;学生类&#39;&#39;&#39;\n    def __init__(self):\n        # 声明对象属性name,age,id\n        self.name = &#39;李青&#39;\n        self.age = 0\n        self.id = &#39;001&#39;\n\nclass Dog:\n    &#39;&#39;&#39;狗类&#39;&#39;&#39;\n    # 创建Dog的对象的时候，必须传类型和颜色\n    def __init__(self,type1,color1):\n        self.type = type1\n        self.color = color1\n\nclass Computer:\n    &#39;&#39;&#39;电脑类&#39;&#39;&#39;\n    # 创建对象的时候可以使用默认值，也可以使用自己传的值\n    def __init__(self,color= &#39;白色&#39;,memory= 0):\n        self.color = &#39;&#39;\n        self.memory = 1000\n\nclass  rectangle:\n    def __init__(self,long= 100,width= 50):\n        self.long = long\n        self.width = width\n\n\nif __name__ == &#39;__main__&#39;:\n    # stu1就是Student类的对象\n    stu1 = Student()\n    # 通过对象去使用对象的属性\n    print(stu1.name,stu1.age,stu1.id)\n    # 通过对象去修改对象的属性\n    stu1.name = &#39;SB&#39;\n    print(stu1.name)\n    dog1 = Dog(&#39;土狗&#39;,&#39;黄色&#39;)\n    print(dog1.type,dog1.color)\n    dog2 =Dog(&#39;斗狗&#39;,&#39;黑色&#39;)\n    print(dog2.type,dog2.color)\n\n\n    comp1 = Computer()\n    print(comp1.color,comp1.memory)\n    comp2 = Computer(&#39;黑色&#39;,512)\n    print(comp2.color,comp2.memory)\n\n    sq =  rectangle()\n    print(sq.long,sq.width)\n    sq =  rectangle(10,5)\n    print(sq.long,sq.width)\n</code></pre>\n<h3 id=\"对象属性的增删改查\"><a href=\"#对象属性的增删改查\" class=\"headerlink\" title=\"对象属性的增删改查\"></a>对象属性的增删改查</h3><p>Python是动态语言，Python中类的对象的属性可以进行增删的操作</p>\n<pre><code class=\"python\">class Person:\n    &#39;&#39;&#39;人类&#39;&#39;&#39;\n    def __init__(self):\n        self.name = &#39;李四&#39;\n        self.age = 18\n        self.height = 160\n</code></pre>\n<h5 id=\"1-查\"><a href=\"#1-查\" class=\"headerlink\" title=\"1.查\"></a>1.查</h5><p>方法一：对象.属性<br>方法二：def getattr(对象，属性名，default=None)<br>方法三：对象._ <em>getattribute</em> _(‘height’)</p>\n<pre><code class=\"python\">print(p1.name)\n    # print(p1.nmae2)      # 属性不存在会报错\n\nprint(getattr(p1,&#39;age2&#39;,0))    # 属性不存在可以通过设置默认值，让程序不崩溃，并且返回默认值\n\n height = p1.__getattribute__(&#39;height&#39;)\n    print(height)\n</code></pre>\n<h5 id=\"2-改（修改属性的值，属性存在）\"><a href=\"#2-改（修改属性的值，属性存在）\" class=\"headerlink\" title=\"2.改（修改属性的值，属性存在）\"></a>2.改（修改属性的值，属性存在）</h5><p>方法一：对象.属性 = 新值</p>\n<pre><code class=\"python\">p1.name = &#39;张三&#39;\n    print(p1.name)\n</code></pre>\n<p>方法二：def setattr(对象，属性名，新值）</p>\n<pre><code class=\"python\">setattr(p1,&#39;age&#39;,20)\n    print(p1.age)\n</code></pre>\n<p>方法三：对象._ <em>setattr</em> _(属性名，新值）</p>\n<pre><code class=\"python\"> p1.__setattr__(&#39;height&#39;,170)\n    print(p1.height)\n</code></pre>\n<h5 id=\"3-增（增加属性）\"><a href=\"#3-增（增加属性）\" class=\"headerlink\" title=\"3.增（增加属性）\"></a>3.增（增加属性）</h5><p>注意：添加只能给某一个对象添加对应的属性<br>方法一：对象.属性 = 新值</p>\n<pre><code class=\"python\">p1.sex = &#39;女&#39;\n    print(p1.sex)\n</code></pre>\n<p>方法二：def setattr(对象，属性名，新值)</p>\n<pre><code class=\"python\"> setattr(p1,&#39;weight&#39;,55)\n    print(p1.weight)\n</code></pre>\n<p>方法三：对象.<strong>setattr</strong>(属性名，新值)</p>\n<pre><code class=\"python\">p1.__setattr__(&#39;color&#39;, &#39;绿色&#39;)\n    print(p1.color)\n    # print(p2.sex)        # 添加只影响一个对象\n</code></pre>\n<h5 id=\"4-删（删除对象属性）\"><a href=\"#4-删（删除对象属性）\" class=\"headerlink\" title=\"4.删（删除对象属性）\"></a>4.删（删除对象属性）</h5><p>注意：删除只针对指定的对象<br>方法一：del 对象.属性</p>\n<pre><code class=\"python\">del p1.name\n    # print(p1.name)      可行\n</code></pre>\n<p>方法二：delattr(对象，属性名)</p>\n<pre><code class=\"python\"> delattr(p1,&#39;age&#39;)\n    # print(p1.age)       可行\n</code></pre>\n<p>方法三：对象._ <em>delattr</em> _(属性名）</p>\n<pre><code class=\"python\"> p1.__delattr__(&#39;height&#39;)\n    # print(p1.height)     可行\n    print(p2.name,p2.age)\n</code></pre>\n<h3 id=\"对象方法\"><a href=\"#对象方法\" class=\"headerlink\" title=\"对象方法\"></a>对象方法</h3><p>1.对象方法：</p>\n<ul>\n<li>a.什么样的方法是对象方法：直接声明在类里面的函数默认是对象方法，有一个默认参数self</li>\n<li>b.对象方法要通过对象来调用：对象.对象方法（）</li>\n<li>c.对象方法中的默认参数self不需要传参，因为在调用这个方法的时候，<br>系统会自动将当前对象传给self，那个对象调用方法，self就指向谁</li>\n</ul>\n<pre><code class=\"python\">import math\nclass Circle:\n    &#39;&#39;&#39;圆类&#39;&#39;&#39;\n    def __init__(self,radius1):\n        self.radius = radius1\n    # 声明了一个对象方法area\n    # 在这，self就是调用area方法的对象，对象能做的事情，self都可以做\n    def area(self):\n        # print(id(self))\n        # print(&#39;求圆的面积&#39;)\n        return math.pi * self.radius **2\n</code></pre>\n<ul>\n<li>练习1：写一个矩形类，有属性长和宽,有两个功能，分别是求周长和面积<pre><code class=\"python\">class Rectangle:\n  &#39;&#39;&#39;矩形类&#39;&#39;&#39;\n  def __init__(self,long,width):\n      self.long = long\n      self.width =width\n  # 对象方法是否需要额外参数，看实现函数的功能需不需要除了对象属性以外的其他数据\n  def area(self):\n      return self.long * self.width\n  def perimeter(self):\n      return (self.width + self.long) *2\n</code></pre>\n</li>\n<li>练习2：写一个班级类，班级里面有多个学生的一门成绩，班级名，可以获取班级成绩中的最高分<pre><code class=\"python\">class Grade:\n  &#39;&#39;&#39;班级类&#39;&#39;&#39;\n  def __init__(self,class_name,*grade):\n      self.class_name = class_name\n      self.grade = grade\n      # self.grade = []\n  def top_score(self):\n      # if not self.grade:\n      #     return None\n      # max（序列）----》获取序列中元素的最大值\n      # min (序列）----》获取序列中元素的最小值\n      return max(self.grade)\n</code></pre>\n<code>`</code>python<br>if <strong>name</strong> == ‘<strong>main</strong>‘:<br>  c1 = Circle(3)<br>  print(id(c1))<br>  print(‘c1的面积’,c1.area())</li>\n</ul>\n<pre><code>c2 = Circle(5)\nprint(&#39;c2的面积&#39;, c2.area())\n\ng1 = Grade(&#39;python1806&#39;,90,80,70)\nprint(g1.class_name)\nprint(g1.top_score())\n\ng2 = Rectangle(10,5)\nprint(g2.area())\nprint(g2.perimeter())\n</code></pre><pre><code>### 类的字段\n\n1.类的属性叫类的字段\n\n- a.什么是类的字段\n  类的字段就是声明在类的里面，方法的外面的变量\n- b.什么样的属性声明成类的字段：\n  属于类的，对于这个类的所有的对象来说，其值是一样的\n- c.怎么使用\n  通过类使用：类.字段\n\n```python\nclass Person:\n    # number就是类的字段\n    number = 10\n</code></pre><p>练习：写一个球类，用一个属性来保存这个类的创建对象的个数</p>\n<pre><code class=\"python\">class Ball:\n     count = 0\n     # 每次创建球的对象都会调用init方法，所以调用init方法的次数就是Ball创建的对象的个数\n     def __init__(self):\n         Ball.count += 1\nball1 = Ball()\nball2 = Ball()\nprint(Ball.count)\n\nif __name__ == &#39;__main__&#39;:\n    # 通过类获取类的字段的值\n    print(Person.number)\n\n    Person.number = 70\n    print(Person.number)\n</code></pre>\n<h3 id=\"类的方法\"><a href=\"#类的方法\" class=\"headerlink\" title=\"类的方法\"></a>类的方法</h3><p>类中的方法</p>\n<ul>\n<li>1.对象方法（实例方法）<br>声明的形式：直接声明在类中<br>特点：自带一个不需要主动传参的默认参数self，谁来调用指向谁</li>\n<li>2.类方法<br>声明形式：声明方法前需要使用@classmethod<br>特点：自带一个参数cls,这个参数调用的时候不需要传值，系统自动传值，谁调用，传给谁！始终指向当前类<br>调用：通过类调用—》类.类方法（）</li>\n<li><p>3.静态方法<br>声明的形式：声明方法前需要使用@staticmethod说明<br>特点：没有默认参数<br>调用：通过类来调用–》类.静态方法（）<br><code>`</code>python<br>class Class1:</p>\n<h1 id=\"类字段\"><a href=\"#类字段\" class=\"headerlink\" title=\"类字段\"></a>类字段</h1><p>  number = 10</p>\n<h1 id=\"声明一个对象方法\"><a href=\"#声明一个对象方法\" class=\"headerlink\" title=\"声明一个对象方法\"></a>声明一个对象方法</h1><p>  def object_func(self):</p>\n<pre><code>  print(&#39;对象方法&#39;)\n</code></pre><h1 id=\"声明一个类方法\"><a href=\"#声明一个类方法\" class=\"headerlink\" title=\"声明一个类方法\"></a>声明一个类方法</h1><p>  @classmethod<br>  def class_func(cls):</p>\n<pre><code>  # 通过cls去使用类的字段\n  print(&#39;cls:&#39;,cls.number)\n  # 通过cls去创建对象\n  tc =cls()\n  tc.object_func()\n  print(&#39;这是一个类方法&#39;)\n</code></pre><p>  @staticmethod<br>  def static_func():</p>\n<pre><code>  print(&#39;这是一个静态方法&#39;)\n</code></pre></li>\n</ul>\n<p>c1 = Class1()</p>\n<h1 id=\"调用对象方法\"><a href=\"#调用对象方法\" class=\"headerlink\" title=\"调用对象方法\"></a>调用对象方法</h1><p>c1.object_func()<br>print(Class1.number)</p>\n<h1 id=\"调用类方法\"><a href=\"#调用类方法\" class=\"headerlink\" title=\"调用类方法\"></a>调用类方法</h1><p>Class1.class_func()</p>\n<h1 id=\"调用静态方法\"><a href=\"#调用静态方法\" class=\"headerlink\" title=\"调用静态方法\"></a>调用静态方法</h1><p>Class1.static_func()</p>\n<pre><code>4.遇到问题怎么来选择使用那种方法：\n+ a.大前提：只要实现方法的功能需要用到对象的属性，我们就使用对象方法，否则就使用静态方法或者类方法\n+ b.不使用对象方法的前提下，如果实现功能需要类的字段就使用类方法\n+ c.实现功能既不需要对象的属性，又不需要类的字段就使用静态方法\n  注意：静态方法和类方法划分不严格，静态方法能做的，类方法可以做，反之成立\n```python\nclass Person:\n    # 类的字段，存储人类数量\n    number = 61\n\n    @classmethod\n    def show_number1(cls):\n        print(&#39;人类的数量是：%d亿&#39;% cls.number)\n\n    @staticmethod\n    def show_number2():\n        print(&#39;人类的数量是：%d亿&#39;% Person.number)\n\nPerson.show_number1()\nPerson.show_number2()\n</code></pre><h3 id=\"内置类属性\"><a href=\"#内置类属性\" class=\"headerlink\" title=\"内置类属性\"></a>内置类属性</h3><p>内置类属性就是魔法属性<br>魔法属性：属性名的前面和后面都有两个下划线<br>魔法方法：方法的前后都有两个下划线</p>\n<pre><code class=\"python\">import datetime\nclass Person:\n    &#39;&#39;&#39;人的类&#39;&#39;&#39;\n    # 类的字段\n    number = 61\n    def __init__(self,name1,age1,height1):\n        # 对象的属性\n        self.name = name1\n        self.age = age1\n        self.height =height1\n\n    def run(self):\n        print(&#39;%s在跑步&#39;% (self.name))\n\n    #类方法\n    @classmethod\n    def show_number(cls):\n        print(&#39;人类的数量为：%d亿&#39;% (cls.number))\n\n    # 静态方法\n    @staticmethod\n    def destroy():\n        print(&#39;人类在破坏环境!&#39;)\n\nif __name__ == &#39;__main__&#39;:\n    p1 = Person(&#39;张三丰&#39;,20,173)\n</code></pre>\n<h5 id=\"1-name属性-—-类的名字（是字符串）\"><a href=\"#1-name属性-—-类的名字（是字符串）\" class=\"headerlink\" title=\"1.name属性  — 类的名字（是字符串）\"></a>1.<strong>name</strong>属性  — 类的名字（是字符串）</h5><pre><code class=\"python\">    # 类的属性\n    name = Person.__name__\n    print(name,type(name))\n</code></pre>\n<h5 id=\"2-class属性-—-获取对象对应类（是一个类）\"><a href=\"#2-class属性-—-获取对象对应类（是一个类）\" class=\"headerlink\" title=\"2.class属性 — 获取对象对应类（是一个类）\"></a>2.<strong>class</strong>属性 — 获取对象对应类（是一个类）</h5><pre><code class=\"python\">    # 对象的属性\n    # my_classs是一个类，之前类能做的事情他都能做\n    my_class = p1.__class__\n    p2 = my_class(&#39;小明&#39;,20,100)\n    print(p2.name)\n</code></pre>\n<h5 id=\"3-dict属性-—-将对象和类的属性及其对应的值转换成键值对存到一个字典中\"><a href=\"#3-dict属性-—-将对象和类的属性及其对应的值转换成键值对存到一个字典中\" class=\"headerlink\" title=\"3.dict属性 — 将对象和类的属性及其对应的值转换成键值对存到一个字典中\"></a>3.<strong>dict</strong>属性 — 将对象和类的属性及其对应的值转换成键值对存到一个字典中</h5><pre><code class=\"python\">    # print(Person.__class__)\n    print(p1.__dict__)     #  {&#39;name&#39;: &#39;张三丰&#39;, &#39;age&#39;: 20, &#39;height&#39;: 173}\n</code></pre>\n<h5 id=\"4-doc属性—-获取类的说明文档\"><a href=\"#4-doc属性—-获取类的说明文档\" class=\"headerlink\" title=\"4.doc属性—-获取类的说明文档\"></a>4.<strong>doc</strong>属性—-获取类的说明文档</h5><pre><code class=\"python\">    # 类的属性\n    doc = Person.__doc__\n    print(doc)\n</code></pre>\n<h5 id=\"5-module属性-—-获取所有模块对应的名字\"><a href=\"#5-module属性-—-获取所有模块对应的名字\" class=\"headerlink\" title=\"5.module属性 —- 获取所有模块对应的名字\"></a>5.<strong>module</strong>属性 —- 获取所有模块对应的名字</h5><pre><code class=\"python\">    print(Person.__module__)\n    print(datetime.datetime.__module__)\n</code></pre>\n<h5 id=\"6-bases属性-—获取当前类的父类\"><a href=\"#6-bases属性-—获取当前类的父类\" class=\"headerlink\" title=\"6.bases属性 —获取当前类的父类\"></a>6.<strong>bases</strong>属性 —获取当前类的父类</h5><pre><code class=\"python\">    # 类的属性\n    print(Person.__bases__)\n\n</code></pre>\n<h3 id=\"slots魔法\"><a href=\"#slots魔法\" class=\"headerlink\" title=\"slots魔法\"></a>slots魔法</h3><pre><code class=\"python\">class Person:\n    &#39;&#39;&#39;人的类&#39;&#39;&#39;\n    # 通过__slots__中存的元素的属性的值来约束当前这个类的对象的属性，对象的属性只能比元组中的少，不能多\n    __slots__ = (&#39;name&#39;,&#39;age&#39;,&#39;face&#39;)\n    def __init__(self):\n        # 对象的属性\n        self.name = &#39;张三丰&#39;\n        self.age = 20\n        self.face = 80\n        # self.sex = &#39;boy&#39;     # __slots__中并没有sex\n\nif __name__ == &#39;__main__&#39;:\n    p1 = Person()\n    # p1.sex = &#39;girl&#39;\n    # print(p1.sex)\n\n    # p1.name = &#39;小明&#39;\n    print(p1.name)\n\n    # 注意：一旦在类中给__slots__属性赋了值，那么这个类的对象的__dict__属性就不能使用了\n    # print(p1.__dict__)\n\n</code></pre>\n<h3 id=\"私有化\"><a href=\"#私有化\" class=\"headerlink\" title=\"私有化\"></a>私有化</h3><p>python中并没有真正的私有化<br>1.私有化的语法<br>a.类中的属性和方法都可以通过在属性名和方法名前加两个下划线，来让属性和方法变成私有的<br>b.私有的属性和方法只能在当前的类中使用<br>2.私有化的原理<br>在前面有两个下划线的属性名和方法名前添加了’_类名’来阻止外部直接访问属性名来使用属性</p>\n<pre><code class=\"python\">cclass Dog:\n    # 字段\n    number = 100\n    __count = 200\n\n    def __init__(self):\n        # 对象的属性\n        self.color = &#39;黄色&#39;\n        self.age = 3\n        self.name = &#39;大黄&#39;\n        self.__sex = &#39;公狗&#39;\n\n    # 对象方法\n    def __eat(self):\n        print(&#39;%s啃骨头&#39;% (self.name))\n\n    def eat(self):\n        # 在类中可以使用私有的属性\n        self.__eat()\n        print(&#39;%s在吃屎·&#39; % (self.name))\n\n    # 类方法\n    @classmethod\n    def shout(cls):\n        print(&#39;count&#39;,cls.__count)\n        print(&#39;汪汪汪~~~&#39;)\n\n    # 静态方法\n    @staticmethod\n    def function():\n        print(&#39;看家!!&#39;)\n\n # python的类中默认的属性和方法是公开的\ndog1 = Dog()\nprint(Dog.number)\nprint(dog1.name,dog1.color,dog1.age)\ndog1.eat()\nDog.shout()\nDog.function()\n\n# 在类的外面不能使用私有属性\n# print(Dog.__count)                AttributeError: type object &#39;Dog&#39; has no attribute &#39;__count&#39;\n# print(dog1.__sex)               AttributeError: &#39;Dog&#39; object has no attribute &#39;__sex&#39;\ndog1.eat()\nprint(dog1.__dict__)\n</code></pre>\n<h3 id=\"属性的getter和setter\"><a href=\"#属性的getter和setter\" class=\"headerlink\" title=\"属性的getter和setter\"></a>属性的getter和setter</h3><p>1.解释</p>\n<ul>\n<li>a.保护类型的属性：就是在声明对象属性的时候在属性名前加一个下划线来代表这个属性是受保护的属性，<br>那么以后访问这个属性的时候就不要直接访问，要通过getter来获取这个属性的值，通过setter来给这个属性赋值</li>\n<li>b.如果一个属性已经声明成保护类型的属性，那么我们就要给这个属性添加getter，也可以添加setter</li>\n</ul>\n<p>2.添加getter<br>添加getter就是声明一个没有参数，有一个返回值的函数</p>\n<ul>\n<li>a.格式：<br>@property<br>def 去掉下划线的属性名（self）：<br>——函数体<br>——将属性相关的值返回</li>\n<li>b.使用场景<br>场景一：如果想要获取对象的某个属性的值之前，想要做其他处理，就可以给这个属性添加getter<br>场景二：想要拿到某个属性被使用的时刻</li>\n</ul>\n<p>3.添加setter<br>添加setter就是声明一个有一个参数，但是没有返回值的参数，作用是给属性赋值<br>a.格式<br>b.使用场景<br>在给属性赋值前要进行其他操作，就给属性声明一个setter函数</p>\n<pre><code class=\"python\">class Car:\n\n    def __init__(self):\n        self.color = &#39;黄色&#39;\n        self.type = &#39;自行车&#39;\n        # price是保护类型\n        self._price = 2000\n\n    # 给_price属性添加getter\n    @property\n    def price(self):\n        print(&#39;在使用_price属性&#39;)\n        return self._price/1000\n\n    # 想要给一个属性添加setter，就必须先给这个属性添加getter\n    @price.setter\n    def price(self,price):\n        if isinstance(price,int) or isinstance(price,float):\n            self.price\n        else:\n            self._price = 0\n</code></pre>\n<h5 id=\"练习：声明一个员工类，其中一个属性是否已婚（bool），获取值之前根据存的值返回”已婚”-“未婚”\"><a href=\"#练习：声明一个员工类，其中一个属性是否已婚（bool），获取值之前根据存的值返回”已婚”-“未婚”\" class=\"headerlink\" title=\"练习：声明一个员工类，其中一个属性是否已婚（bool），获取值之前根据存的值返回”已婚”/“未婚”\"></a>练习：声明一个员工类，其中一个属性是否已婚（bool），获取值之前根据存的值返回”已婚”/“未婚”</h5><pre><code class=\"python\">class Staff:\n    &#39;&#39;&#39;员工类&#39;&#39;&#39;\n    def __init__(self,name,age):\n        self.name =name\n        self.age = age\n        self._is_marry = False\n\n    @property\n    def is_marry(self):\n        print(&#39;在使用_price属性&#39;)\n        if self._is_marry:\n            return &#39;已婚&#39;\n        return &#39;未婚&#39;\n\n    @is_marry.setter\n    def is_marry(self, marry):\n        self._is_marry = marry\n\nif __name__ == &#39;__main__&#39;:\n\n    car1 = Car()\n    print(car1.color,car1._price)\n    # 添加完getter后就通过getter去获取属性值，实质就是调用getter对应方法\n    # price就是属性_price的getter\n    print(car1.price,&#39;k&#39;)\n\n    # 通过setter给属性赋值,实质是调用setter对应的方法\n    car1.price= &#39;abc&#39;\n    print(car1.price)\n\n    s1 = Staff(&#39;张三&#39;, 20)\n    print(s1.is_marry)\n\n    s1.is_marry = True\n    print(s1.is_marry)\n</code></pre>\n<h3 id=\"继承\"><a href=\"#继承\" class=\"headerlink\" title=\"继承\"></a>继承</h3><p>python中类可以继承，并且支持多继承<br>程序中的继承：就是让子类字节拥有父类的属性和方法（继承父类中的内容不会因为被继承而减少）</p>\n<p>1.继承的语法<br>class 子类（父类）：<br>​    类的内容<br>注意：如果声明类的时候没有写继承，那么这个类会自动继承python中的基类，object;相当于class 类名（object）：<br>​      python中所有的类都是直接和间接的继承自object<br>2.能继承那些东西<br>a.所有的属性和方法都能继承<br>b.<strong>slots</strong>的值不会继承，但是会影响子类对象的<strong>dict</strong>属性，不能获取父类继承下来的属性</p>\n<pre><code class=\"python\">class Person:\n    &#39;&#39;&#39;人类&#39;&#39;&#39;\n    # 字段\n    number = 61\n\n    # __slots__ = (&#39;name&#39;,&#39;age&#39;)\n    # 对象属性\n    def __init__(self,name=&#39;张三&#39;,age=18):\n        self.name = name\n        self.age = age\n        self._height = 173\n\n    # 对象方法\n    def show_message(self):\n        print(&#39;姓名：%s 年龄：%d&#39;% (self.name,self.age))\n\n    @classmethod\n    def show_number(cls):\n        print(&#39;人类的数量：%d亿&#39;% cls.number)\n\n    @staticmethod\n    def show_message():\n        print(&#39;人类殴打小动物!&#39;)\n\nclass Student(Person):\n    &#39;&#39;&#39;学生类&#39;&#39;&#39;\n    pass\n\n#创建Person类的对象\np = Person()\n\n# 学生类\nstu1 = Student()\nprint(Student.number)\nprint(stu1.name)\nstu1.show_number()\nstu1.show_message()\nprint(stu1.__dict__)\n\nif __name__ == &#39;__main__&#39;:\n    pass\n</code></pre>\n<h3 id=\"方法的重写\"><a href=\"#方法的重写\" class=\"headerlink\" title=\"方法的重写\"></a>方法的重写</h3><p>子类继承父类，拥有父类的属性和方法以后，还可以添加自己的属性和方法<br>1.添加方法和类的字段<br>直接在子类中声明相应的字段和方法</p>\n<p>2.添加对象属性<br>对象的属性是通过继承父类的init方法而继承下来<br>如果想要保留父类的对象的同时添加自己的对象属性，需要在子类的init方法中通过super（）去调用父类的init方法</p>\n<p>3.方法的重写<br>在子类中重新实现父类的方法，就是重写<br>方式一：直接覆盖父类的实现<br>方式二：保留父类的功能再添加其他功能</p>\n<p>4.类中方法的调用过程<br>先在当前这个中的去找，没有找到就去父类中找，还是没找到就去，就去父类的父类中去找，以此类推，如果在基类中也没找到，才崩溃<br>在第一次找到的位置，去调用<br>注意：使用super的时候必须通过super（）来代替父类或者是父类的对象</p>\n<pre><code class=\"python\">class Animal:\n    &#39;&#39;&#39;动物&#39;&#39;&#39;\n    def __init__(self):\n        self.age = 0\n        self.sex = &#39;雌&#39;\n\n    def shout(self):\n        print(&#39;嗷嗷叫&#39;)\n\nclass Cat(Animal):\n    &#39;&#39;&#39;猫&#39;&#39;&#39;\n    def __init__(self):\n        # 调用父类的init方法\n        super().__init__()\n        self.name = &#39;小花&#39;\n    food = &#39;鱼&#39;\n\n    def shout(self):\n        print(&#39;喵喵喵~~~&#39;)\n\nclass Dog(Animal):\n    &#39;&#39;&#39;狗&#39;&#39;&#39;\n    def shout(self):\n        # 通过super（）调用父类的方法，保留父类功能\n        super().shout()\n        print(&#39;汪汪汪~~~&#39;)\n\ncat1 = Cat()\nprint(cat1.name,cat1.age,cat1.sex)\ncat1.shout()\ndog1 = Dog()\ndog1.shout()\n\n</code></pre>\n<h3 id=\"init方法的重写\"><a href=\"#init方法的重写\" class=\"headerlink\" title=\"init方法的重写\"></a>init方法的重写</h3><p>练习：写一个人类，拥有属性name,age,sex。要求创建Person对象的时候必须给name和age赋值，sex可赋可不赋，再写一个Staff类继承自Person类，要求保留Person中所有的属性，并且添加新的属性salary，要求创建Staff类的对象的时候，只能给name赋值（必须赋）</p>\n<pre><code class=\"python\">class Person:\n    &#39;&#39;&#39;人类&#39;&#39;&#39;\n    def __init__(self,name,age,sex=&#39;boy&#39;):\n        self.name = name\n        self.age =age\n        self.sex = sex\n\nclass Staff(Person):\n    def __init__(self,name):\n        super().__init__(name,20)\n        self.salary = &#39;10000&#39;\n\nif __name__ == &#39;__main__&#39;:\n    p1 = Person(&#39;张三&#39;,20)\n    s1 = Staff(&#39;李四&#39;)\n</code></pre>\n<h3 id=\"运算符的重载\"><a href=\"#运算符的重载\" class=\"headerlink\" title=\"运算符的重载\"></a>运算符的重载</h3><p>如果希望类的对象支持相应的运算符（+，-，*，/，&gt;,&lt;ect），就必须实现相应的魔法方法<br>继承一样有用</p>\n<ul>\n<li><p>: <strong>daa</strong></p>\n<blockquote>\n<p>:<strong>gt</strong><br>一般情况需要对&gt;或者&lt;进行重载，重载后可以通过sort方法直接对对象的列表进行排序<br><code>`</code>python<br>class Student:<br>  def <strong>init</strong>(self,name=’’,age=0,score=0):</p>\n<pre><code>  self.name = name\n  self.age = age\n  self.score = score\n</code></pre></blockquote>\n<h1 id=\"self-前面的对象\"><a href=\"#self-前面的对象\" class=\"headerlink\" title=\"self:+ 前面的对象\"></a>self:+ 前面的对象</h1><h1 id=\"other-后面的对象\"><a href=\"#other-后面的对象\" class=\"headerlink\" title=\"other:+ 后面的对象\"></a>other:+ 后面的对象</h1><p>  def <strong>add</strong>(self, other):</p>\n<pre><code>  return self.score + other.score\n</code></pre><h1 id=\"重载-gt-符号\"><a href=\"#重载-gt-符号\" class=\"headerlink\" title=\"重载 &gt; 符号\"></a>重载 &gt; 符号</h1><h1 id=\"注意：重载-gt-和-lt-可以只重载一个，另一个对应的功能自动取反\"><a href=\"#注意：重载-gt-和-lt-可以只重载一个，另一个对应的功能自动取反\" class=\"headerlink\" title=\"注意：重载&gt;和&lt;可以只重载一个，另一个对应的功能自动取反\"></a>注意：重载&gt;和&lt;可以只重载一个，另一个对应的功能自动取反</h1><p>  def <strong>gt</strong>(self, other):</p>\n<pre><code>  return self.age &gt; other.age\n</code></pre><h1 id=\"重写魔法方法str，用来制定对象的打印样式\"><a href=\"#重写魔法方法str，用来制定对象的打印样式\" class=\"headerlink\" title=\"重写魔法方法str，用来制定对象的打印样式\"></a>重写魔法方法<strong>str</strong>，用来制定对象的打印样式</h1><p>  def <strong>str</strong>(self):</p>\n<pre><code>  return &#39;Student:%s %d %d&#39;% (self.name,self.age,self.score)\n</code></pre></li>\n</ul>\n<p>if <strong>name</strong> == ‘<strong>main</strong>‘:<br>    stu1 = Student(‘小明’,18,90)<br>    stu2 = Student(‘老王’,29,84)<br>    stu3 = Student(‘项羽’,24,70)<br>print(stu1 + stu2)<br>print(stu1 &gt; stu2)<br>print(stu1 &lt; stu2)</p>\n<p>all_student = [stu1,stu2,stu3]<br>all_student.sort()<br>for stu in all_student:<br>    print(stu.name,stu.age,stu.score)<br>print(stu1.<strong>str</strong>())<br><code>`</code></p>\n"},{"title":"BeautifulSoup相关","date":"2018-05-24T07:15:06.000Z","author":"smile","img":"/images/KDA1.jpg","_content":"\n```python\n#获取直接子节点：contents、children\n#获取父节点：parent\n#获取兄弟节点：next_siblings、next_sibling、previous_siblings、previous_sibling\n'''\n<html>\n    <head>\n        <title>The Dormouse's story</title>\n    </head>\n    <body>\n        <p class=\"story\">\n            Once upon a time there were three little sisters; and their names were\n            <a href=\"http://example.com/elsie\" class=\"sister\" id=\"link1\">\n                <span>Elsie</span>\n            </a>\n            <a href=\"http://example.com/lacie\" class=\"sister\" id=\"link2\">Lacie</a>\n            and\n            <a href=\"http://example.com/tillie\" class=\"sister\" id=\"link3\">Tillie</a>\n            and they lived at the bottom of a well.\n        </p>\n        <p class=\"story\">...</p>                                                                           \n'''\n\nfrom bs4 import BeautifulSoup\nsoup=BeautifulSoup(html,'html.parser')\n# contents:获取直接子节点，返回list类型\nprint(soup.p.contents)\n# children,返回的是可以迭代的，直接打印输出None\nfor i in soup.p.children:\n    print(i)\nprint(soup.p.childrensoup)\n#获取 父节点\nprint(soup.a.parent)\n# 获取兄弟节点\nfor i in soup.a.next_siblings:#获取a标签后面的所有兄弟节点\n    print(i)\n```\n\n```python\nhtml = '''\n<html><head><title>The Dormouse's story</title></head>\n<body>\n<p class=\"title\"><b>The Dormouse's story</b></p>\n<p class=\"story\">Once upon a time there were three little sisters; and their names were\n<a href=\"http://example.com/elsie\" class=\"sister\" id=\"link1\">Elsie</a>,\n<a href=\"http://example.com/lacie\" class=\"sister\" id=\"link2\">Lacie</a> and\n<a href=\"http://example.com/tillie\" class=\"sister\" id=\"link3\">Tillie</a>;\nand they lived at the bottom of a well.</p>\n<p class=\"story\">...</p>\n'''\nimport lxml\nfrom bs4 import BeautifulSoup\n#创建bs对象 bs是使用的python默认的解析器，lxml也是解析器\nsoup = BeautifulSoup(html,'lxml')\n#prettify实现格式化的输出\nprint(soup.prettify())\n#通过soup标签名，获取这个标签的内容。注意：通过这种方式获取标签，如果文档中有多个这样的标签，返回的结果是第一个标签内容\nprint(soup.a)\nprint(soup.p)\n#获取名称name\nprint(soup.title.name)\nprint(soup.p.name)\n#获取属性\nprint(soup.a['href'])\n#获取文本内容-string、text\nprint(soup.a.string)\nprint(soup.a.text)\nprint(soup.title.string)\nprint(soup.title.text)\n#嵌套选择,直接通过嵌套的方式获取\nprint(soup.p.b.string)\nprint(soup.head.title.text)\n```\n\n### lxml解析器标准选择器、find_all的使用\n\n搜索文档树：\n\n(1)find_all():可以根据标签名、属性、内容查找文档\n\n(2)find():返回匹配结果的第一个元素\n\n(3)find_parents() find_parent()\n\n(4)find_next_siblings() find_next_sibling()\n\n(5)find_previous_siblings() find_previous_sibling()\n\n(6)find_all_next() find_next()\n\n(7)find_all_previous() 和 find_previous()\n\n```python\n\n<div class=\"panel\">\n    <div class=\"panel-heading\">\n        <h4>Hello</h4>\n    </div>\n    <div class=\"panel-body\">\n        <ul class=\"list\" id=\"list-1\">\n            <li class=\"element\">Foo</li>\n            <li class=\"element\">Bar</li>\n            <li class=\"element\">Jay</li>\n        </ul>\n        <ul class=\"list list-small\" id=\"list-2\">\n            <li class=\"element\">Foo</li>\n            <li class=\"element\">Bar</li>\n        </ul>\n    </div>\n</div>\n\nfrom bs4 import BeautifulSoup\nsoup = BeautifulSoup(html, 'lxml')\nprint(soup.find_all('ul'))\nprint(type(soup.find_all('ul')[0]))\n```\n\n```python\n\n<div class=\"panel\">\n    <div class=\"panel-heading\">\n        <h4>Hello</h4>\n    </div>\n    <div class=\"panel-body\">\n        <ul class=\"list\" id=\"list-1\">\n            <li class=\"element\">Foo</li>\n            <li class=\"element\">Bar</li>\n            <li class=\"element\">Jay</li>\n        </ul>\n        <ul class=\"panel-body\" id=\"list-2\">\n            <li class=\"element\">年后中好说歹说开发，什么才能伤风胶囊</li>\n            <li class=\"element\">Bar</li>\n        </ul>\n         <a href=\"link1.html\">first item</a>\n         <a href=\"link2.html\">second item</a>\n         <li class=\"item-inactive\"><a href=\"link3.html\"><span class=\"bold\">third item</span></a></li>\n     </ul>\n    </div>\n</div>\n\nfrom bs4 import BeautifulSoup\nsoup=BeautifulSoup(html,\"lxml\")\nimport re \n# 1、name参数\n# 查找所有名字为name的tag,搜索 name 参数的值可以使任一类型的 过滤器 ,字符窜,正则表达式,列表,方法或是 True \nprint(soup.find_all('li'))\n# 使用列表\nprint(soup.find_all(['li','a']))\nprint(soup.find_all(True))\nprint(soup.find_all(re.compile('h4')))\n# 2、keyword关键字参数\n# 关键字是指tag的属性：id、title、href等,注意：使用class时要加上'_'\nprint(soup.find_all('a',href=\"link1.html\"))\nprint(soup.find_all(id=\"list-1\"))\nprint(soup.find_all('ul',class_=\"list\"))\n# 使用正则\nprint(soup.find_all(href=re.compile('3.html')))\n# 3、text\n# 一般与name一起使用，通过 text 参数可以搜搜文档中的字符串内容.与 name 参数的可选值一样, text 参数接受 字符串 , 正则表达式 , 列表, True \nprint(soup.find_all(text=re.compile('好')))\nprint(soup.find_all('li',text=re.compile('好')))\n# 使用多个属性\nprint(soup.find_all(class_=\"panel-body\",id=\"list-2\"))\n# 3、string\n# 一般与name一起使用，通过 string 参数可以搜搜文档中的字符串内容.与 name 参数的可选值一样, string 参数接受 字符串 , 正则表达式 , 列表, True;\nprint(soup.find_all(\"a\", string=\"first item\"))\nprint(soup.find_all(string=\"first item\"))\n# 4、limit参数\n# 这个参数其实就是控制我们获取数据的数量，效果和SQL语句中的limit一样；\nprint(soup.find_all(\"a\",limit=2))\n# 5、recursive参数\n# 调用tag的 find_all() 方法时,Beautiful Soup会检索当前tag的所有子孙节点,如果只想搜索tag的直接子节点,可以使用参数 recursive=False; \n```\n\n### CSS选择器\n\n```python\n# select()直接传入CSS选择器完成选择\n# .表示class ，#表示id\n# 标签1，标签2\n# 标签1 标签2\n# [attr]可以通过这种方式找到具有某个属性值的所有标签\n# [attr=value]例子：[target=blank]\n\n<div class=\"panel\">\n    <div class=\"panel-heading\">\n        <h4>Hello</h4>\n    </div>\n    <div class=\"panel-body\">\n        <ul class=\"list\" id=\"list-1\">\n            <li class=\"element\">Foo</li>\n            <li class=\"element\">Bar</li>\n            <li class=\"element\">Jay</li>\n        </ul>\n        <ul class=\"list list-small\" id=\"list-2\">\n            <li class=\"element\">Foo</li>\n            <li class=\"element\">Bar</li>\n        </ul>\n    </div>\n</div>\n\nfrom bs4 import BeautifulSoup\nsoup=BeautifulSoup(html,\"lxml\")\n# 找到class属性是panel的标签内的class属性是panel-heading的标签内容\nprint(soup.select(\".panel .panel-heading\"))\n# 找id属性为list-1和id属性为list-2的所有标签\nprint(soup.select('#list-1,#list-2'))\n# 找到ul标签下的li标签\nprint(soup.select('ul li'))\n# 找到id属性值为list-2内部class属性是element的所有标签\nprint(soup.select('#list-2 .element'))\n# get_text()：拿到标签文本值\n# 所有li标签下的文本值\nfor i in soup.select('li'):\n    print(i.get_text())\n# 获取属性值\nfor i in soup.select('ul'):\n    print(i[\"id\"])\n```\n\n\n","source":"_posts/spider/BeautifulSoup.md","raw":"---\ntitle: BeautifulSoup相关\ndate: 2018-05-24 15:15:06\nauthor: smile\nimg: /images/KDA1.jpg\ncategories: spider\ntags: \n  - beautifulSoup\n---\n\n```python\n#获取直接子节点：contents、children\n#获取父节点：parent\n#获取兄弟节点：next_siblings、next_sibling、previous_siblings、previous_sibling\n'''\n<html>\n    <head>\n        <title>The Dormouse's story</title>\n    </head>\n    <body>\n        <p class=\"story\">\n            Once upon a time there were three little sisters; and their names were\n            <a href=\"http://example.com/elsie\" class=\"sister\" id=\"link1\">\n                <span>Elsie</span>\n            </a>\n            <a href=\"http://example.com/lacie\" class=\"sister\" id=\"link2\">Lacie</a>\n            and\n            <a href=\"http://example.com/tillie\" class=\"sister\" id=\"link3\">Tillie</a>\n            and they lived at the bottom of a well.\n        </p>\n        <p class=\"story\">...</p>                                                                           \n'''\n\nfrom bs4 import BeautifulSoup\nsoup=BeautifulSoup(html,'html.parser')\n# contents:获取直接子节点，返回list类型\nprint(soup.p.contents)\n# children,返回的是可以迭代的，直接打印输出None\nfor i in soup.p.children:\n    print(i)\nprint(soup.p.childrensoup)\n#获取 父节点\nprint(soup.a.parent)\n# 获取兄弟节点\nfor i in soup.a.next_siblings:#获取a标签后面的所有兄弟节点\n    print(i)\n```\n\n```python\nhtml = '''\n<html><head><title>The Dormouse's story</title></head>\n<body>\n<p class=\"title\"><b>The Dormouse's story</b></p>\n<p class=\"story\">Once upon a time there were three little sisters; and their names were\n<a href=\"http://example.com/elsie\" class=\"sister\" id=\"link1\">Elsie</a>,\n<a href=\"http://example.com/lacie\" class=\"sister\" id=\"link2\">Lacie</a> and\n<a href=\"http://example.com/tillie\" class=\"sister\" id=\"link3\">Tillie</a>;\nand they lived at the bottom of a well.</p>\n<p class=\"story\">...</p>\n'''\nimport lxml\nfrom bs4 import BeautifulSoup\n#创建bs对象 bs是使用的python默认的解析器，lxml也是解析器\nsoup = BeautifulSoup(html,'lxml')\n#prettify实现格式化的输出\nprint(soup.prettify())\n#通过soup标签名，获取这个标签的内容。注意：通过这种方式获取标签，如果文档中有多个这样的标签，返回的结果是第一个标签内容\nprint(soup.a)\nprint(soup.p)\n#获取名称name\nprint(soup.title.name)\nprint(soup.p.name)\n#获取属性\nprint(soup.a['href'])\n#获取文本内容-string、text\nprint(soup.a.string)\nprint(soup.a.text)\nprint(soup.title.string)\nprint(soup.title.text)\n#嵌套选择,直接通过嵌套的方式获取\nprint(soup.p.b.string)\nprint(soup.head.title.text)\n```\n\n### lxml解析器标准选择器、find_all的使用\n\n搜索文档树：\n\n(1)find_all():可以根据标签名、属性、内容查找文档\n\n(2)find():返回匹配结果的第一个元素\n\n(3)find_parents() find_parent()\n\n(4)find_next_siblings() find_next_sibling()\n\n(5)find_previous_siblings() find_previous_sibling()\n\n(6)find_all_next() find_next()\n\n(7)find_all_previous() 和 find_previous()\n\n```python\n\n<div class=\"panel\">\n    <div class=\"panel-heading\">\n        <h4>Hello</h4>\n    </div>\n    <div class=\"panel-body\">\n        <ul class=\"list\" id=\"list-1\">\n            <li class=\"element\">Foo</li>\n            <li class=\"element\">Bar</li>\n            <li class=\"element\">Jay</li>\n        </ul>\n        <ul class=\"list list-small\" id=\"list-2\">\n            <li class=\"element\">Foo</li>\n            <li class=\"element\">Bar</li>\n        </ul>\n    </div>\n</div>\n\nfrom bs4 import BeautifulSoup\nsoup = BeautifulSoup(html, 'lxml')\nprint(soup.find_all('ul'))\nprint(type(soup.find_all('ul')[0]))\n```\n\n```python\n\n<div class=\"panel\">\n    <div class=\"panel-heading\">\n        <h4>Hello</h4>\n    </div>\n    <div class=\"panel-body\">\n        <ul class=\"list\" id=\"list-1\">\n            <li class=\"element\">Foo</li>\n            <li class=\"element\">Bar</li>\n            <li class=\"element\">Jay</li>\n        </ul>\n        <ul class=\"panel-body\" id=\"list-2\">\n            <li class=\"element\">年后中好说歹说开发，什么才能伤风胶囊</li>\n            <li class=\"element\">Bar</li>\n        </ul>\n         <a href=\"link1.html\">first item</a>\n         <a href=\"link2.html\">second item</a>\n         <li class=\"item-inactive\"><a href=\"link3.html\"><span class=\"bold\">third item</span></a></li>\n     </ul>\n    </div>\n</div>\n\nfrom bs4 import BeautifulSoup\nsoup=BeautifulSoup(html,\"lxml\")\nimport re \n# 1、name参数\n# 查找所有名字为name的tag,搜索 name 参数的值可以使任一类型的 过滤器 ,字符窜,正则表达式,列表,方法或是 True \nprint(soup.find_all('li'))\n# 使用列表\nprint(soup.find_all(['li','a']))\nprint(soup.find_all(True))\nprint(soup.find_all(re.compile('h4')))\n# 2、keyword关键字参数\n# 关键字是指tag的属性：id、title、href等,注意：使用class时要加上'_'\nprint(soup.find_all('a',href=\"link1.html\"))\nprint(soup.find_all(id=\"list-1\"))\nprint(soup.find_all('ul',class_=\"list\"))\n# 使用正则\nprint(soup.find_all(href=re.compile('3.html')))\n# 3、text\n# 一般与name一起使用，通过 text 参数可以搜搜文档中的字符串内容.与 name 参数的可选值一样, text 参数接受 字符串 , 正则表达式 , 列表, True \nprint(soup.find_all(text=re.compile('好')))\nprint(soup.find_all('li',text=re.compile('好')))\n# 使用多个属性\nprint(soup.find_all(class_=\"panel-body\",id=\"list-2\"))\n# 3、string\n# 一般与name一起使用，通过 string 参数可以搜搜文档中的字符串内容.与 name 参数的可选值一样, string 参数接受 字符串 , 正则表达式 , 列表, True;\nprint(soup.find_all(\"a\", string=\"first item\"))\nprint(soup.find_all(string=\"first item\"))\n# 4、limit参数\n# 这个参数其实就是控制我们获取数据的数量，效果和SQL语句中的limit一样；\nprint(soup.find_all(\"a\",limit=2))\n# 5、recursive参数\n# 调用tag的 find_all() 方法时,Beautiful Soup会检索当前tag的所有子孙节点,如果只想搜索tag的直接子节点,可以使用参数 recursive=False; \n```\n\n### CSS选择器\n\n```python\n# select()直接传入CSS选择器完成选择\n# .表示class ，#表示id\n# 标签1，标签2\n# 标签1 标签2\n# [attr]可以通过这种方式找到具有某个属性值的所有标签\n# [attr=value]例子：[target=blank]\n\n<div class=\"panel\">\n    <div class=\"panel-heading\">\n        <h4>Hello</h4>\n    </div>\n    <div class=\"panel-body\">\n        <ul class=\"list\" id=\"list-1\">\n            <li class=\"element\">Foo</li>\n            <li class=\"element\">Bar</li>\n            <li class=\"element\">Jay</li>\n        </ul>\n        <ul class=\"list list-small\" id=\"list-2\">\n            <li class=\"element\">Foo</li>\n            <li class=\"element\">Bar</li>\n        </ul>\n    </div>\n</div>\n\nfrom bs4 import BeautifulSoup\nsoup=BeautifulSoup(html,\"lxml\")\n# 找到class属性是panel的标签内的class属性是panel-heading的标签内容\nprint(soup.select(\".panel .panel-heading\"))\n# 找id属性为list-1和id属性为list-2的所有标签\nprint(soup.select('#list-1,#list-2'))\n# 找到ul标签下的li标签\nprint(soup.select('ul li'))\n# 找到id属性值为list-2内部class属性是element的所有标签\nprint(soup.select('#list-2 .element'))\n# get_text()：拿到标签文本值\n# 所有li标签下的文本值\nfor i in soup.select('li'):\n    print(i.get_text())\n# 获取属性值\nfor i in soup.select('ul'):\n    print(i[\"id\"])\n```\n\n\n","slug":"spider/BeautifulSoup","published":1,"updated":"2019-03-14T01:47:35.673Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjt87kql4002jr8r6rl3imo4y","content":"<pre class=\" language-python\"><code class=\"language-python\"><span class=\"token comment\" spellcheck=\"true\">#获取直接子节点：contents、children</span>\n<span class=\"token comment\" spellcheck=\"true\">#获取父节点：parent</span>\n<span class=\"token comment\" spellcheck=\"true\">#获取兄弟节点：next_siblings、next_sibling、previous_siblings、previous_sibling</span>\n<span class=\"token triple-quoted-string string\">'''\n&lt;html>\n    &lt;head>\n        &lt;title>The Dormouse's story&lt;/title>\n    &lt;/head>\n    &lt;body>\n        &lt;p class=\"story\">\n            Once upon a time there were three little sisters; and their names were\n            &lt;a href=\"http://example.com/elsie\" class=\"sister\" id=\"link1\">\n                &lt;span>Elsie&lt;/span>\n            &lt;/a>\n            &lt;a href=\"http://example.com/lacie\" class=\"sister\" id=\"link2\">Lacie&lt;/a>\n            and\n            &lt;a href=\"http://example.com/tillie\" class=\"sister\" id=\"link3\">Tillie&lt;/a>\n            and they lived at the bottom of a well.\n        &lt;/p>\n        &lt;p class=\"story\">...&lt;/p>                                                                           \n'''</span>\n\n<span class=\"token keyword\">from</span> bs4 <span class=\"token keyword\">import</span> BeautifulSoup\nsoup<span class=\"token operator\">=</span>BeautifulSoup<span class=\"token punctuation\">(</span>html<span class=\"token punctuation\">,</span><span class=\"token string\">'html.parser'</span><span class=\"token punctuation\">)</span>\n<span class=\"token comment\" spellcheck=\"true\"># contents:获取直接子节点，返回list类型</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>soup<span class=\"token punctuation\">.</span>p<span class=\"token punctuation\">.</span>contents<span class=\"token punctuation\">)</span>\n<span class=\"token comment\" spellcheck=\"true\"># children,返回的是可以迭代的，直接打印输出None</span>\n<span class=\"token keyword\">for</span> i <span class=\"token keyword\">in</span> soup<span class=\"token punctuation\">.</span>p<span class=\"token punctuation\">.</span>children<span class=\"token punctuation\">:</span>\n    <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>i<span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>soup<span class=\"token punctuation\">.</span>p<span class=\"token punctuation\">.</span>childrensoup<span class=\"token punctuation\">)</span>\n<span class=\"token comment\" spellcheck=\"true\">#获取 父节点</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>soup<span class=\"token punctuation\">.</span>a<span class=\"token punctuation\">.</span>parent<span class=\"token punctuation\">)</span>\n<span class=\"token comment\" spellcheck=\"true\"># 获取兄弟节点</span>\n<span class=\"token keyword\">for</span> i <span class=\"token keyword\">in</span> soup<span class=\"token punctuation\">.</span>a<span class=\"token punctuation\">.</span>next_siblings<span class=\"token punctuation\">:</span><span class=\"token comment\" spellcheck=\"true\">#获取a标签后面的所有兄弟节点</span>\n    <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>i<span class=\"token punctuation\">)</span>\n</code></pre>\n<pre class=\" language-python\"><code class=\"language-python\">html <span class=\"token operator\">=</span> <span class=\"token triple-quoted-string string\">'''\n&lt;html>&lt;head>&lt;title>The Dormouse's story&lt;/title>&lt;/head>\n&lt;body>\n&lt;p class=\"title\">&lt;b>The Dormouse's story&lt;/b>&lt;/p>\n&lt;p class=\"story\">Once upon a time there were three little sisters; and their names were\n&lt;a href=\"http://example.com/elsie\" class=\"sister\" id=\"link1\">Elsie&lt;/a>,\n&lt;a href=\"http://example.com/lacie\" class=\"sister\" id=\"link2\">Lacie&lt;/a> and\n&lt;a href=\"http://example.com/tillie\" class=\"sister\" id=\"link3\">Tillie&lt;/a>;\nand they lived at the bottom of a well.&lt;/p>\n&lt;p class=\"story\">...&lt;/p>\n'''</span>\n<span class=\"token keyword\">import</span> lxml\n<span class=\"token keyword\">from</span> bs4 <span class=\"token keyword\">import</span> BeautifulSoup\n<span class=\"token comment\" spellcheck=\"true\">#创建bs对象 bs是使用的python默认的解析器，lxml也是解析器</span>\nsoup <span class=\"token operator\">=</span> BeautifulSoup<span class=\"token punctuation\">(</span>html<span class=\"token punctuation\">,</span><span class=\"token string\">'lxml'</span><span class=\"token punctuation\">)</span>\n<span class=\"token comment\" spellcheck=\"true\">#prettify实现格式化的输出</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>soup<span class=\"token punctuation\">.</span>prettify<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n<span class=\"token comment\" spellcheck=\"true\">#通过soup标签名，获取这个标签的内容。注意：通过这种方式获取标签，如果文档中有多个这样的标签，返回的结果是第一个标签内容</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>soup<span class=\"token punctuation\">.</span>a<span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>soup<span class=\"token punctuation\">.</span>p<span class=\"token punctuation\">)</span>\n<span class=\"token comment\" spellcheck=\"true\">#获取名称name</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>soup<span class=\"token punctuation\">.</span>title<span class=\"token punctuation\">.</span>name<span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>soup<span class=\"token punctuation\">.</span>p<span class=\"token punctuation\">.</span>name<span class=\"token punctuation\">)</span>\n<span class=\"token comment\" spellcheck=\"true\">#获取属性</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>soup<span class=\"token punctuation\">.</span>a<span class=\"token punctuation\">[</span><span class=\"token string\">'href'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>\n<span class=\"token comment\" spellcheck=\"true\">#获取文本内容-string、text</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>soup<span class=\"token punctuation\">.</span>a<span class=\"token punctuation\">.</span>string<span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>soup<span class=\"token punctuation\">.</span>a<span class=\"token punctuation\">.</span>text<span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>soup<span class=\"token punctuation\">.</span>title<span class=\"token punctuation\">.</span>string<span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>soup<span class=\"token punctuation\">.</span>title<span class=\"token punctuation\">.</span>text<span class=\"token punctuation\">)</span>\n<span class=\"token comment\" spellcheck=\"true\">#嵌套选择,直接通过嵌套的方式获取</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>soup<span class=\"token punctuation\">.</span>p<span class=\"token punctuation\">.</span>b<span class=\"token punctuation\">.</span>string<span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>soup<span class=\"token punctuation\">.</span>head<span class=\"token punctuation\">.</span>title<span class=\"token punctuation\">.</span>text<span class=\"token punctuation\">)</span>\n</code></pre>\n<h3 id=\"lxml解析器标准选择器、find-all的使用\"><a href=\"#lxml解析器标准选择器、find-all的使用\" class=\"headerlink\" title=\"lxml解析器标准选择器、find_all的使用\"></a>lxml解析器标准选择器、find_all的使用</h3><p>搜索文档树：</p>\n<p>(1)find_all():可以根据标签名、属性、内容查找文档</p>\n<p>(2)find():返回匹配结果的第一个元素</p>\n<p>(3)find_parents() find_parent()</p>\n<p>(4)find_next_siblings() find_next_sibling()</p>\n<p>(5)find_previous_siblings() find_previous_sibling()</p>\n<p>(6)find_all_next() find_next()</p>\n<p>(7)find_all_previous() 和 find_previous()</p>\n<pre class=\" language-python\"><code class=\"language-python\">\n<span class=\"token operator\">&lt;</span>div <span class=\"token keyword\">class</span><span class=\"token operator\">=</span><span class=\"token string\">\"panel\"</span><span class=\"token operator\">></span>\n    <span class=\"token operator\">&lt;</span>div <span class=\"token keyword\">class</span><span class=\"token operator\">=</span><span class=\"token string\">\"panel-heading\"</span><span class=\"token operator\">></span>\n        <span class=\"token operator\">&lt;</span>h4<span class=\"token operator\">></span>Hello<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>h4<span class=\"token operator\">></span>\n    <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>div<span class=\"token operator\">></span>\n    <span class=\"token operator\">&lt;</span>div <span class=\"token keyword\">class</span><span class=\"token operator\">=</span><span class=\"token string\">\"panel-body\"</span><span class=\"token operator\">></span>\n        <span class=\"token operator\">&lt;</span>ul <span class=\"token keyword\">class</span><span class=\"token operator\">=</span><span class=\"token string\">\"list\"</span> id<span class=\"token operator\">=</span><span class=\"token string\">\"list-1\"</span><span class=\"token operator\">></span>\n            <span class=\"token operator\">&lt;</span>li <span class=\"token keyword\">class</span><span class=\"token operator\">=</span><span class=\"token string\">\"element\"</span><span class=\"token operator\">></span>Foo<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>li<span class=\"token operator\">></span>\n            <span class=\"token operator\">&lt;</span>li <span class=\"token keyword\">class</span><span class=\"token operator\">=</span><span class=\"token string\">\"element\"</span><span class=\"token operator\">></span>Bar<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>li<span class=\"token operator\">></span>\n            <span class=\"token operator\">&lt;</span>li <span class=\"token keyword\">class</span><span class=\"token operator\">=</span><span class=\"token string\">\"element\"</span><span class=\"token operator\">></span>Jay<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>li<span class=\"token operator\">></span>\n        <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>ul<span class=\"token operator\">></span>\n        <span class=\"token operator\">&lt;</span>ul <span class=\"token keyword\">class</span><span class=\"token operator\">=</span><span class=\"token string\">\"list list-small\"</span> id<span class=\"token operator\">=</span><span class=\"token string\">\"list-2\"</span><span class=\"token operator\">></span>\n            <span class=\"token operator\">&lt;</span>li <span class=\"token keyword\">class</span><span class=\"token operator\">=</span><span class=\"token string\">\"element\"</span><span class=\"token operator\">></span>Foo<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>li<span class=\"token operator\">></span>\n            <span class=\"token operator\">&lt;</span>li <span class=\"token keyword\">class</span><span class=\"token operator\">=</span><span class=\"token string\">\"element\"</span><span class=\"token operator\">></span>Bar<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>li<span class=\"token operator\">></span>\n        <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>ul<span class=\"token operator\">></span>\n    <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>div<span class=\"token operator\">></span>\n<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>div<span class=\"token operator\">></span>\n\n<span class=\"token keyword\">from</span> bs4 <span class=\"token keyword\">import</span> BeautifulSoup\nsoup <span class=\"token operator\">=</span> BeautifulSoup<span class=\"token punctuation\">(</span>html<span class=\"token punctuation\">,</span> <span class=\"token string\">'lxml'</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>soup<span class=\"token punctuation\">.</span>find_all<span class=\"token punctuation\">(</span><span class=\"token string\">'ul'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>type<span class=\"token punctuation\">(</span>soup<span class=\"token punctuation\">.</span>find_all<span class=\"token punctuation\">(</span><span class=\"token string\">'ul'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n</code></pre>\n<pre class=\" language-python\"><code class=\"language-python\">\n<span class=\"token operator\">&lt;</span>div <span class=\"token keyword\">class</span><span class=\"token operator\">=</span><span class=\"token string\">\"panel\"</span><span class=\"token operator\">></span>\n    <span class=\"token operator\">&lt;</span>div <span class=\"token keyword\">class</span><span class=\"token operator\">=</span><span class=\"token string\">\"panel-heading\"</span><span class=\"token operator\">></span>\n        <span class=\"token operator\">&lt;</span>h4<span class=\"token operator\">></span>Hello<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>h4<span class=\"token operator\">></span>\n    <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>div<span class=\"token operator\">></span>\n    <span class=\"token operator\">&lt;</span>div <span class=\"token keyword\">class</span><span class=\"token operator\">=</span><span class=\"token string\">\"panel-body\"</span><span class=\"token operator\">></span>\n        <span class=\"token operator\">&lt;</span>ul <span class=\"token keyword\">class</span><span class=\"token operator\">=</span><span class=\"token string\">\"list\"</span> id<span class=\"token operator\">=</span><span class=\"token string\">\"list-1\"</span><span class=\"token operator\">></span>\n            <span class=\"token operator\">&lt;</span>li <span class=\"token keyword\">class</span><span class=\"token operator\">=</span><span class=\"token string\">\"element\"</span><span class=\"token operator\">></span>Foo<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>li<span class=\"token operator\">></span>\n            <span class=\"token operator\">&lt;</span>li <span class=\"token keyword\">class</span><span class=\"token operator\">=</span><span class=\"token string\">\"element\"</span><span class=\"token operator\">></span>Bar<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>li<span class=\"token operator\">></span>\n            <span class=\"token operator\">&lt;</span>li <span class=\"token keyword\">class</span><span class=\"token operator\">=</span><span class=\"token string\">\"element\"</span><span class=\"token operator\">></span>Jay<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>li<span class=\"token operator\">></span>\n        <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>ul<span class=\"token operator\">></span>\n        <span class=\"token operator\">&lt;</span>ul <span class=\"token keyword\">class</span><span class=\"token operator\">=</span><span class=\"token string\">\"panel-body\"</span> id<span class=\"token operator\">=</span><span class=\"token string\">\"list-2\"</span><span class=\"token operator\">></span>\n            <span class=\"token operator\">&lt;</span>li <span class=\"token keyword\">class</span><span class=\"token operator\">=</span><span class=\"token string\">\"element\"</span><span class=\"token operator\">></span>年后中好说歹说开发，什么才能伤风胶囊<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>li<span class=\"token operator\">></span>\n            <span class=\"token operator\">&lt;</span>li <span class=\"token keyword\">class</span><span class=\"token operator\">=</span><span class=\"token string\">\"element\"</span><span class=\"token operator\">></span>Bar<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>li<span class=\"token operator\">></span>\n        <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>ul<span class=\"token operator\">></span>\n         <span class=\"token operator\">&lt;</span>a href<span class=\"token operator\">=</span><span class=\"token string\">\"link1.html\"</span><span class=\"token operator\">></span>first item<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>a<span class=\"token operator\">></span>\n         <span class=\"token operator\">&lt;</span>a href<span class=\"token operator\">=</span><span class=\"token string\">\"link2.html\"</span><span class=\"token operator\">></span>second item<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>a<span class=\"token operator\">></span>\n         <span class=\"token operator\">&lt;</span>li <span class=\"token keyword\">class</span><span class=\"token operator\">=</span><span class=\"token string\">\"item-inactive\"</span><span class=\"token operator\">></span><span class=\"token operator\">&lt;</span>a href<span class=\"token operator\">=</span><span class=\"token string\">\"link3.html\"</span><span class=\"token operator\">></span><span class=\"token operator\">&lt;</span>span <span class=\"token keyword\">class</span><span class=\"token operator\">=</span><span class=\"token string\">\"bold\"</span><span class=\"token operator\">></span>third item<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>span<span class=\"token operator\">></span><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>a<span class=\"token operator\">></span><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>li<span class=\"token operator\">></span>\n     <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>ul<span class=\"token operator\">></span>\n    <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>div<span class=\"token operator\">></span>\n<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>div<span class=\"token operator\">></span>\n\n<span class=\"token keyword\">from</span> bs4 <span class=\"token keyword\">import</span> BeautifulSoup\nsoup<span class=\"token operator\">=</span>BeautifulSoup<span class=\"token punctuation\">(</span>html<span class=\"token punctuation\">,</span><span class=\"token string\">\"lxml\"</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">import</span> re \n<span class=\"token comment\" spellcheck=\"true\"># 1、name参数</span>\n<span class=\"token comment\" spellcheck=\"true\"># 查找所有名字为name的tag,搜索 name 参数的值可以使任一类型的 过滤器 ,字符窜,正则表达式,列表,方法或是 True </span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>soup<span class=\"token punctuation\">.</span>find_all<span class=\"token punctuation\">(</span><span class=\"token string\">'li'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n<span class=\"token comment\" spellcheck=\"true\"># 使用列表</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>soup<span class=\"token punctuation\">.</span>find_all<span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span><span class=\"token string\">'li'</span><span class=\"token punctuation\">,</span><span class=\"token string\">'a'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>soup<span class=\"token punctuation\">.</span>find_all<span class=\"token punctuation\">(</span><span class=\"token boolean\">True</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>soup<span class=\"token punctuation\">.</span>find_all<span class=\"token punctuation\">(</span>re<span class=\"token punctuation\">.</span>compile<span class=\"token punctuation\">(</span><span class=\"token string\">'h4'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n<span class=\"token comment\" spellcheck=\"true\"># 2、keyword关键字参数</span>\n<span class=\"token comment\" spellcheck=\"true\"># 关键字是指tag的属性：id、title、href等,注意：使用class时要加上'_'</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>soup<span class=\"token punctuation\">.</span>find_all<span class=\"token punctuation\">(</span><span class=\"token string\">'a'</span><span class=\"token punctuation\">,</span>href<span class=\"token operator\">=</span><span class=\"token string\">\"link1.html\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>soup<span class=\"token punctuation\">.</span>find_all<span class=\"token punctuation\">(</span>id<span class=\"token operator\">=</span><span class=\"token string\">\"list-1\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>soup<span class=\"token punctuation\">.</span>find_all<span class=\"token punctuation\">(</span><span class=\"token string\">'ul'</span><span class=\"token punctuation\">,</span>class_<span class=\"token operator\">=</span><span class=\"token string\">\"list\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n<span class=\"token comment\" spellcheck=\"true\"># 使用正则</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>soup<span class=\"token punctuation\">.</span>find_all<span class=\"token punctuation\">(</span>href<span class=\"token operator\">=</span>re<span class=\"token punctuation\">.</span>compile<span class=\"token punctuation\">(</span><span class=\"token string\">'3.html'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n<span class=\"token comment\" spellcheck=\"true\"># 3、text</span>\n<span class=\"token comment\" spellcheck=\"true\"># 一般与name一起使用，通过 text 参数可以搜搜文档中的字符串内容.与 name 参数的可选值一样, text 参数接受 字符串 , 正则表达式 , 列表, True </span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>soup<span class=\"token punctuation\">.</span>find_all<span class=\"token punctuation\">(</span>text<span class=\"token operator\">=</span>re<span class=\"token punctuation\">.</span>compile<span class=\"token punctuation\">(</span><span class=\"token string\">'好'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>soup<span class=\"token punctuation\">.</span>find_all<span class=\"token punctuation\">(</span><span class=\"token string\">'li'</span><span class=\"token punctuation\">,</span>text<span class=\"token operator\">=</span>re<span class=\"token punctuation\">.</span>compile<span class=\"token punctuation\">(</span><span class=\"token string\">'好'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n<span class=\"token comment\" spellcheck=\"true\"># 使用多个属性</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>soup<span class=\"token punctuation\">.</span>find_all<span class=\"token punctuation\">(</span>class_<span class=\"token operator\">=</span><span class=\"token string\">\"panel-body\"</span><span class=\"token punctuation\">,</span>id<span class=\"token operator\">=</span><span class=\"token string\">\"list-2\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n<span class=\"token comment\" spellcheck=\"true\"># 3、string</span>\n<span class=\"token comment\" spellcheck=\"true\"># 一般与name一起使用，通过 string 参数可以搜搜文档中的字符串内容.与 name 参数的可选值一样, string 参数接受 字符串 , 正则表达式 , 列表, True;</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>soup<span class=\"token punctuation\">.</span>find_all<span class=\"token punctuation\">(</span><span class=\"token string\">\"a\"</span><span class=\"token punctuation\">,</span> string<span class=\"token operator\">=</span><span class=\"token string\">\"first item\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>soup<span class=\"token punctuation\">.</span>find_all<span class=\"token punctuation\">(</span>string<span class=\"token operator\">=</span><span class=\"token string\">\"first item\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n<span class=\"token comment\" spellcheck=\"true\"># 4、limit参数</span>\n<span class=\"token comment\" spellcheck=\"true\"># 这个参数其实就是控制我们获取数据的数量，效果和SQL语句中的limit一样；</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>soup<span class=\"token punctuation\">.</span>find_all<span class=\"token punctuation\">(</span><span class=\"token string\">\"a\"</span><span class=\"token punctuation\">,</span>limit<span class=\"token operator\">=</span><span class=\"token number\">2</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n<span class=\"token comment\" spellcheck=\"true\"># 5、recursive参数</span>\n<span class=\"token comment\" spellcheck=\"true\"># 调用tag的 find_all() 方法时,Beautiful Soup会检索当前tag的所有子孙节点,如果只想搜索tag的直接子节点,可以使用参数 recursive=False; </span>\n</code></pre>\n<h3 id=\"CSS选择器\"><a href=\"#CSS选择器\" class=\"headerlink\" title=\"CSS选择器\"></a>CSS选择器</h3><pre class=\" language-python\"><code class=\"language-python\"><span class=\"token comment\" spellcheck=\"true\"># select()直接传入CSS选择器完成选择</span>\n<span class=\"token comment\" spellcheck=\"true\"># .表示class ，#表示id</span>\n<span class=\"token comment\" spellcheck=\"true\"># 标签1，标签2</span>\n<span class=\"token comment\" spellcheck=\"true\"># 标签1 标签2</span>\n<span class=\"token comment\" spellcheck=\"true\"># [attr]可以通过这种方式找到具有某个属性值的所有标签</span>\n<span class=\"token comment\" spellcheck=\"true\"># [attr=value]例子：[target=blank]</span>\n\n<span class=\"token operator\">&lt;</span>div <span class=\"token keyword\">class</span><span class=\"token operator\">=</span><span class=\"token string\">\"panel\"</span><span class=\"token operator\">></span>\n    <span class=\"token operator\">&lt;</span>div <span class=\"token keyword\">class</span><span class=\"token operator\">=</span><span class=\"token string\">\"panel-heading\"</span><span class=\"token operator\">></span>\n        <span class=\"token operator\">&lt;</span>h4<span class=\"token operator\">></span>Hello<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>h4<span class=\"token operator\">></span>\n    <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>div<span class=\"token operator\">></span>\n    <span class=\"token operator\">&lt;</span>div <span class=\"token keyword\">class</span><span class=\"token operator\">=</span><span class=\"token string\">\"panel-body\"</span><span class=\"token operator\">></span>\n        <span class=\"token operator\">&lt;</span>ul <span class=\"token keyword\">class</span><span class=\"token operator\">=</span><span class=\"token string\">\"list\"</span> id<span class=\"token operator\">=</span><span class=\"token string\">\"list-1\"</span><span class=\"token operator\">></span>\n            <span class=\"token operator\">&lt;</span>li <span class=\"token keyword\">class</span><span class=\"token operator\">=</span><span class=\"token string\">\"element\"</span><span class=\"token operator\">></span>Foo<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>li<span class=\"token operator\">></span>\n            <span class=\"token operator\">&lt;</span>li <span class=\"token keyword\">class</span><span class=\"token operator\">=</span><span class=\"token string\">\"element\"</span><span class=\"token operator\">></span>Bar<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>li<span class=\"token operator\">></span>\n            <span class=\"token operator\">&lt;</span>li <span class=\"token keyword\">class</span><span class=\"token operator\">=</span><span class=\"token string\">\"element\"</span><span class=\"token operator\">></span>Jay<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>li<span class=\"token operator\">></span>\n        <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>ul<span class=\"token operator\">></span>\n        <span class=\"token operator\">&lt;</span>ul <span class=\"token keyword\">class</span><span class=\"token operator\">=</span><span class=\"token string\">\"list list-small\"</span> id<span class=\"token operator\">=</span><span class=\"token string\">\"list-2\"</span><span class=\"token operator\">></span>\n            <span class=\"token operator\">&lt;</span>li <span class=\"token keyword\">class</span><span class=\"token operator\">=</span><span class=\"token string\">\"element\"</span><span class=\"token operator\">></span>Foo<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>li<span class=\"token operator\">></span>\n            <span class=\"token operator\">&lt;</span>li <span class=\"token keyword\">class</span><span class=\"token operator\">=</span><span class=\"token string\">\"element\"</span><span class=\"token operator\">></span>Bar<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>li<span class=\"token operator\">></span>\n        <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>ul<span class=\"token operator\">></span>\n    <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>div<span class=\"token operator\">></span>\n<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>div<span class=\"token operator\">></span>\n\n<span class=\"token keyword\">from</span> bs4 <span class=\"token keyword\">import</span> BeautifulSoup\nsoup<span class=\"token operator\">=</span>BeautifulSoup<span class=\"token punctuation\">(</span>html<span class=\"token punctuation\">,</span><span class=\"token string\">\"lxml\"</span><span class=\"token punctuation\">)</span>\n<span class=\"token comment\" spellcheck=\"true\"># 找到class属性是panel的标签内的class属性是panel-heading的标签内容</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>soup<span class=\"token punctuation\">.</span>select<span class=\"token punctuation\">(</span><span class=\"token string\">\".panel .panel-heading\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n<span class=\"token comment\" spellcheck=\"true\"># 找id属性为list-1和id属性为list-2的所有标签</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>soup<span class=\"token punctuation\">.</span>select<span class=\"token punctuation\">(</span><span class=\"token string\">'#list-1,#list-2'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n<span class=\"token comment\" spellcheck=\"true\"># 找到ul标签下的li标签</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>soup<span class=\"token punctuation\">.</span>select<span class=\"token punctuation\">(</span><span class=\"token string\">'ul li'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n<span class=\"token comment\" spellcheck=\"true\"># 找到id属性值为list-2内部class属性是element的所有标签</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>soup<span class=\"token punctuation\">.</span>select<span class=\"token punctuation\">(</span><span class=\"token string\">'#list-2 .element'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n<span class=\"token comment\" spellcheck=\"true\"># get_text()：拿到标签文本值</span>\n<span class=\"token comment\" spellcheck=\"true\"># 所有li标签下的文本值</span>\n<span class=\"token keyword\">for</span> i <span class=\"token keyword\">in</span> soup<span class=\"token punctuation\">.</span>select<span class=\"token punctuation\">(</span><span class=\"token string\">'li'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>i<span class=\"token punctuation\">.</span>get_text<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n<span class=\"token comment\" spellcheck=\"true\"># 获取属性值</span>\n<span class=\"token keyword\">for</span> i <span class=\"token keyword\">in</span> soup<span class=\"token punctuation\">.</span>select<span class=\"token punctuation\">(</span><span class=\"token string\">'ul'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>i<span class=\"token punctuation\">[</span><span class=\"token string\">\"id\"</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>\n</code></pre>\n","site":{"data":{}},"excerpt":"","more":"<pre><code class=\"python\">#获取直接子节点：contents、children\n#获取父节点：parent\n#获取兄弟节点：next_siblings、next_sibling、previous_siblings、previous_sibling\n&#39;&#39;&#39;\n&lt;html&gt;\n    &lt;head&gt;\n        &lt;title&gt;The Dormouse&#39;s story&lt;/title&gt;\n    &lt;/head&gt;\n    &lt;body&gt;\n        &lt;p class=&quot;story&quot;&gt;\n            Once upon a time there were three little sisters; and their names were\n            &lt;a href=&quot;http://example.com/elsie&quot; class=&quot;sister&quot; id=&quot;link1&quot;&gt;\n                &lt;span&gt;Elsie&lt;/span&gt;\n            &lt;/a&gt;\n            &lt;a href=&quot;http://example.com/lacie&quot; class=&quot;sister&quot; id=&quot;link2&quot;&gt;Lacie&lt;/a&gt;\n            and\n            &lt;a href=&quot;http://example.com/tillie&quot; class=&quot;sister&quot; id=&quot;link3&quot;&gt;Tillie&lt;/a&gt;\n            and they lived at the bottom of a well.\n        &lt;/p&gt;\n        &lt;p class=&quot;story&quot;&gt;...&lt;/p&gt;                                                                           \n&#39;&#39;&#39;\n\nfrom bs4 import BeautifulSoup\nsoup=BeautifulSoup(html,&#39;html.parser&#39;)\n# contents:获取直接子节点，返回list类型\nprint(soup.p.contents)\n# children,返回的是可以迭代的，直接打印输出None\nfor i in soup.p.children:\n    print(i)\nprint(soup.p.childrensoup)\n#获取 父节点\nprint(soup.a.parent)\n# 获取兄弟节点\nfor i in soup.a.next_siblings:#获取a标签后面的所有兄弟节点\n    print(i)\n</code></pre>\n<pre><code class=\"python\">html = &#39;&#39;&#39;\n&lt;html&gt;&lt;head&gt;&lt;title&gt;The Dormouse&#39;s story&lt;/title&gt;&lt;/head&gt;\n&lt;body&gt;\n&lt;p class=&quot;title&quot;&gt;&lt;b&gt;The Dormouse&#39;s story&lt;/b&gt;&lt;/p&gt;\n&lt;p class=&quot;story&quot;&gt;Once upon a time there were three little sisters; and their names were\n&lt;a href=&quot;http://example.com/elsie&quot; class=&quot;sister&quot; id=&quot;link1&quot;&gt;Elsie&lt;/a&gt;,\n&lt;a href=&quot;http://example.com/lacie&quot; class=&quot;sister&quot; id=&quot;link2&quot;&gt;Lacie&lt;/a&gt; and\n&lt;a href=&quot;http://example.com/tillie&quot; class=&quot;sister&quot; id=&quot;link3&quot;&gt;Tillie&lt;/a&gt;;\nand they lived at the bottom of a well.&lt;/p&gt;\n&lt;p class=&quot;story&quot;&gt;...&lt;/p&gt;\n&#39;&#39;&#39;\nimport lxml\nfrom bs4 import BeautifulSoup\n#创建bs对象 bs是使用的python默认的解析器，lxml也是解析器\nsoup = BeautifulSoup(html,&#39;lxml&#39;)\n#prettify实现格式化的输出\nprint(soup.prettify())\n#通过soup标签名，获取这个标签的内容。注意：通过这种方式获取标签，如果文档中有多个这样的标签，返回的结果是第一个标签内容\nprint(soup.a)\nprint(soup.p)\n#获取名称name\nprint(soup.title.name)\nprint(soup.p.name)\n#获取属性\nprint(soup.a[&#39;href&#39;])\n#获取文本内容-string、text\nprint(soup.a.string)\nprint(soup.a.text)\nprint(soup.title.string)\nprint(soup.title.text)\n#嵌套选择,直接通过嵌套的方式获取\nprint(soup.p.b.string)\nprint(soup.head.title.text)\n</code></pre>\n<h3 id=\"lxml解析器标准选择器、find-all的使用\"><a href=\"#lxml解析器标准选择器、find-all的使用\" class=\"headerlink\" title=\"lxml解析器标准选择器、find_all的使用\"></a>lxml解析器标准选择器、find_all的使用</h3><p>搜索文档树：</p>\n<p>(1)find_all():可以根据标签名、属性、内容查找文档</p>\n<p>(2)find():返回匹配结果的第一个元素</p>\n<p>(3)find_parents() find_parent()</p>\n<p>(4)find_next_siblings() find_next_sibling()</p>\n<p>(5)find_previous_siblings() find_previous_sibling()</p>\n<p>(6)find_all_next() find_next()</p>\n<p>(7)find_all_previous() 和 find_previous()</p>\n<pre><code class=\"python\">\n&lt;div class=&quot;panel&quot;&gt;\n    &lt;div class=&quot;panel-heading&quot;&gt;\n        &lt;h4&gt;Hello&lt;/h4&gt;\n    &lt;/div&gt;\n    &lt;div class=&quot;panel-body&quot;&gt;\n        &lt;ul class=&quot;list&quot; id=&quot;list-1&quot;&gt;\n            &lt;li class=&quot;element&quot;&gt;Foo&lt;/li&gt;\n            &lt;li class=&quot;element&quot;&gt;Bar&lt;/li&gt;\n            &lt;li class=&quot;element&quot;&gt;Jay&lt;/li&gt;\n        &lt;/ul&gt;\n        &lt;ul class=&quot;list list-small&quot; id=&quot;list-2&quot;&gt;\n            &lt;li class=&quot;element&quot;&gt;Foo&lt;/li&gt;\n            &lt;li class=&quot;element&quot;&gt;Bar&lt;/li&gt;\n        &lt;/ul&gt;\n    &lt;/div&gt;\n&lt;/div&gt;\n\nfrom bs4 import BeautifulSoup\nsoup = BeautifulSoup(html, &#39;lxml&#39;)\nprint(soup.find_all(&#39;ul&#39;))\nprint(type(soup.find_all(&#39;ul&#39;)[0]))\n</code></pre>\n<pre><code class=\"python\">\n&lt;div class=&quot;panel&quot;&gt;\n    &lt;div class=&quot;panel-heading&quot;&gt;\n        &lt;h4&gt;Hello&lt;/h4&gt;\n    &lt;/div&gt;\n    &lt;div class=&quot;panel-body&quot;&gt;\n        &lt;ul class=&quot;list&quot; id=&quot;list-1&quot;&gt;\n            &lt;li class=&quot;element&quot;&gt;Foo&lt;/li&gt;\n            &lt;li class=&quot;element&quot;&gt;Bar&lt;/li&gt;\n            &lt;li class=&quot;element&quot;&gt;Jay&lt;/li&gt;\n        &lt;/ul&gt;\n        &lt;ul class=&quot;panel-body&quot; id=&quot;list-2&quot;&gt;\n            &lt;li class=&quot;element&quot;&gt;年后中好说歹说开发，什么才能伤风胶囊&lt;/li&gt;\n            &lt;li class=&quot;element&quot;&gt;Bar&lt;/li&gt;\n        &lt;/ul&gt;\n         &lt;a href=&quot;link1.html&quot;&gt;first item&lt;/a&gt;\n         &lt;a href=&quot;link2.html&quot;&gt;second item&lt;/a&gt;\n         &lt;li class=&quot;item-inactive&quot;&gt;&lt;a href=&quot;link3.html&quot;&gt;&lt;span class=&quot;bold&quot;&gt;third item&lt;/span&gt;&lt;/a&gt;&lt;/li&gt;\n     &lt;/ul&gt;\n    &lt;/div&gt;\n&lt;/div&gt;\n\nfrom bs4 import BeautifulSoup\nsoup=BeautifulSoup(html,&quot;lxml&quot;)\nimport re \n# 1、name参数\n# 查找所有名字为name的tag,搜索 name 参数的值可以使任一类型的 过滤器 ,字符窜,正则表达式,列表,方法或是 True \nprint(soup.find_all(&#39;li&#39;))\n# 使用列表\nprint(soup.find_all([&#39;li&#39;,&#39;a&#39;]))\nprint(soup.find_all(True))\nprint(soup.find_all(re.compile(&#39;h4&#39;)))\n# 2、keyword关键字参数\n# 关键字是指tag的属性：id、title、href等,注意：使用class时要加上&#39;_&#39;\nprint(soup.find_all(&#39;a&#39;,href=&quot;link1.html&quot;))\nprint(soup.find_all(id=&quot;list-1&quot;))\nprint(soup.find_all(&#39;ul&#39;,class_=&quot;list&quot;))\n# 使用正则\nprint(soup.find_all(href=re.compile(&#39;3.html&#39;)))\n# 3、text\n# 一般与name一起使用，通过 text 参数可以搜搜文档中的字符串内容.与 name 参数的可选值一样, text 参数接受 字符串 , 正则表达式 , 列表, True \nprint(soup.find_all(text=re.compile(&#39;好&#39;)))\nprint(soup.find_all(&#39;li&#39;,text=re.compile(&#39;好&#39;)))\n# 使用多个属性\nprint(soup.find_all(class_=&quot;panel-body&quot;,id=&quot;list-2&quot;))\n# 3、string\n# 一般与name一起使用，通过 string 参数可以搜搜文档中的字符串内容.与 name 参数的可选值一样, string 参数接受 字符串 , 正则表达式 , 列表, True;\nprint(soup.find_all(&quot;a&quot;, string=&quot;first item&quot;))\nprint(soup.find_all(string=&quot;first item&quot;))\n# 4、limit参数\n# 这个参数其实就是控制我们获取数据的数量，效果和SQL语句中的limit一样；\nprint(soup.find_all(&quot;a&quot;,limit=2))\n# 5、recursive参数\n# 调用tag的 find_all() 方法时,Beautiful Soup会检索当前tag的所有子孙节点,如果只想搜索tag的直接子节点,可以使用参数 recursive=False; \n</code></pre>\n<h3 id=\"CSS选择器\"><a href=\"#CSS选择器\" class=\"headerlink\" title=\"CSS选择器\"></a>CSS选择器</h3><pre><code class=\"python\"># select()直接传入CSS选择器完成选择\n# .表示class ，#表示id\n# 标签1，标签2\n# 标签1 标签2\n# [attr]可以通过这种方式找到具有某个属性值的所有标签\n# [attr=value]例子：[target=blank]\n\n&lt;div class=&quot;panel&quot;&gt;\n    &lt;div class=&quot;panel-heading&quot;&gt;\n        &lt;h4&gt;Hello&lt;/h4&gt;\n    &lt;/div&gt;\n    &lt;div class=&quot;panel-body&quot;&gt;\n        &lt;ul class=&quot;list&quot; id=&quot;list-1&quot;&gt;\n            &lt;li class=&quot;element&quot;&gt;Foo&lt;/li&gt;\n            &lt;li class=&quot;element&quot;&gt;Bar&lt;/li&gt;\n            &lt;li class=&quot;element&quot;&gt;Jay&lt;/li&gt;\n        &lt;/ul&gt;\n        &lt;ul class=&quot;list list-small&quot; id=&quot;list-2&quot;&gt;\n            &lt;li class=&quot;element&quot;&gt;Foo&lt;/li&gt;\n            &lt;li class=&quot;element&quot;&gt;Bar&lt;/li&gt;\n        &lt;/ul&gt;\n    &lt;/div&gt;\n&lt;/div&gt;\n\nfrom bs4 import BeautifulSoup\nsoup=BeautifulSoup(html,&quot;lxml&quot;)\n# 找到class属性是panel的标签内的class属性是panel-heading的标签内容\nprint(soup.select(&quot;.panel .panel-heading&quot;))\n# 找id属性为list-1和id属性为list-2的所有标签\nprint(soup.select(&#39;#list-1,#list-2&#39;))\n# 找到ul标签下的li标签\nprint(soup.select(&#39;ul li&#39;))\n# 找到id属性值为list-2内部class属性是element的所有标签\nprint(soup.select(&#39;#list-2 .element&#39;))\n# get_text()：拿到标签文本值\n# 所有li标签下的文本值\nfor i in soup.select(&#39;li&#39;):\n    print(i.get_text())\n# 获取属性值\nfor i in soup.select(&#39;ul&#39;):\n    print(i[&quot;id&quot;])\n</code></pre>\n"},{"title":"kaisha密码","date":"2018-05-15T07:15:06.000Z","author":"smile","img":"/images/KDA3.jpg","_content":"\n用来破解一些加密文件\n```python\nimport urllib\nfrom urllib import parse\n\ndef str2url(s):\n    #s = '9hFaF2FF%_Et%m4F4%538t2i%795E%3pF.265E85.%fnF9742Em33e162_36pA.t6661983%x%6%%74%2i2%22735'\n    num_loc = s.find('h')\n    rows = int(s[0:num_loc])\n    strlen = len(s) - num_loc\n    cols = int(strlen/rows)\n    right_rows = strlen % rows\n    new_s = list(s[num_loc:])\n    output = ''\n    for i in range(len(new_s)):\n        x = i % rows\n        y = i / rows\n        p = 0\n        if x <= right_rows:\n            p = x * (cols + 1) + y\n        else:\n            p = right_rows * (cols + 1) + (x - right_rows) * cols + y\n        output += new_s[int(p)]\n    return parse.unquote(output).replace('^', '0')\n\n\ndef main():\n    s = \"6hAFxn752E5F215234uy495-3741E8t%mie15F2E185E%6at%72E%7ba%13t21at27261734458%h3%%-5a885d5pF2m%%11799662E13_D55%E992E48%%8i222%4%59358.Fk1EE5-8bc%7632..FF%5%24_%9_mae58%E513e51\"\n    result_str = str2url(s)\n    print(result_str)\n\nmain()\n\n```","source":"_posts/spider/kaisha解码程序.md","raw":"---\ntitle: kaisha密码\ndate: 2018-05-15 15:15:06\nauthor: smile\nimg: /images/KDA3.jpg\ncategories: spider\ntags: \n  - urllib\n---\n\n用来破解一些加密文件\n```python\nimport urllib\nfrom urllib import parse\n\ndef str2url(s):\n    #s = '9hFaF2FF%_Et%m4F4%538t2i%795E%3pF.265E85.%fnF9742Em33e162_36pA.t6661983%x%6%%74%2i2%22735'\n    num_loc = s.find('h')\n    rows = int(s[0:num_loc])\n    strlen = len(s) - num_loc\n    cols = int(strlen/rows)\n    right_rows = strlen % rows\n    new_s = list(s[num_loc:])\n    output = ''\n    for i in range(len(new_s)):\n        x = i % rows\n        y = i / rows\n        p = 0\n        if x <= right_rows:\n            p = x * (cols + 1) + y\n        else:\n            p = right_rows * (cols + 1) + (x - right_rows) * cols + y\n        output += new_s[int(p)]\n    return parse.unquote(output).replace('^', '0')\n\n\ndef main():\n    s = \"6hAFxn752E5F215234uy495-3741E8t%mie15F2E185E%6at%72E%7ba%13t21at27261734458%h3%%-5a885d5pF2m%%11799662E13_D55%E992E48%%8i222%4%59358.Fk1EE5-8bc%7632..FF%5%24_%9_mae58%E513e51\"\n    result_str = str2url(s)\n    print(result_str)\n\nmain()\n\n```","slug":"spider/kaisha解码程序","published":1,"updated":"2019-03-14T01:47:15.554Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjt87kqla002mr8r65yxijlv4","content":"<p>用来破解一些加密文件</p>\n<pre class=\" language-python\"><code class=\"language-python\"><span class=\"token keyword\">import</span> urllib\n<span class=\"token keyword\">from</span> urllib <span class=\"token keyword\">import</span> parse\n\n<span class=\"token keyword\">def</span> <span class=\"token function\">str2url</span><span class=\"token punctuation\">(</span>s<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    <span class=\"token comment\" spellcheck=\"true\">#s = '9hFaF2FF%_Et%m4F4%538t2i%795E%3pF.265E85.%fnF9742Em33e162_36pA.t6661983%x%6%%74%2i2%22735'</span>\n    num_loc <span class=\"token operator\">=</span> s<span class=\"token punctuation\">.</span>find<span class=\"token punctuation\">(</span><span class=\"token string\">'h'</span><span class=\"token punctuation\">)</span>\n    rows <span class=\"token operator\">=</span> int<span class=\"token punctuation\">(</span>s<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">:</span>num_loc<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>\n    strlen <span class=\"token operator\">=</span> len<span class=\"token punctuation\">(</span>s<span class=\"token punctuation\">)</span> <span class=\"token operator\">-</span> num_loc\n    cols <span class=\"token operator\">=</span> int<span class=\"token punctuation\">(</span>strlen<span class=\"token operator\">/</span>rows<span class=\"token punctuation\">)</span>\n    right_rows <span class=\"token operator\">=</span> strlen <span class=\"token operator\">%</span> rows\n    new_s <span class=\"token operator\">=</span> list<span class=\"token punctuation\">(</span>s<span class=\"token punctuation\">[</span>num_loc<span class=\"token punctuation\">:</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>\n    output <span class=\"token operator\">=</span> <span class=\"token string\">''</span>\n    <span class=\"token keyword\">for</span> i <span class=\"token keyword\">in</span> range<span class=\"token punctuation\">(</span>len<span class=\"token punctuation\">(</span>new_s<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n        x <span class=\"token operator\">=</span> i <span class=\"token operator\">%</span> rows\n        y <span class=\"token operator\">=</span> i <span class=\"token operator\">/</span> rows\n        p <span class=\"token operator\">=</span> <span class=\"token number\">0</span>\n        <span class=\"token keyword\">if</span> x <span class=\"token operator\">&lt;=</span> right_rows<span class=\"token punctuation\">:</span>\n            p <span class=\"token operator\">=</span> x <span class=\"token operator\">*</span> <span class=\"token punctuation\">(</span>cols <span class=\"token operator\">+</span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">+</span> y\n        <span class=\"token keyword\">else</span><span class=\"token punctuation\">:</span>\n            p <span class=\"token operator\">=</span> right_rows <span class=\"token operator\">*</span> <span class=\"token punctuation\">(</span>cols <span class=\"token operator\">+</span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">+</span> <span class=\"token punctuation\">(</span>x <span class=\"token operator\">-</span> right_rows<span class=\"token punctuation\">)</span> <span class=\"token operator\">*</span> cols <span class=\"token operator\">+</span> y\n        output <span class=\"token operator\">+=</span> new_s<span class=\"token punctuation\">[</span>int<span class=\"token punctuation\">(</span>p<span class=\"token punctuation\">)</span><span class=\"token punctuation\">]</span>\n    <span class=\"token keyword\">return</span> parse<span class=\"token punctuation\">.</span>unquote<span class=\"token punctuation\">(</span>output<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>replace<span class=\"token punctuation\">(</span><span class=\"token string\">'^'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'0'</span><span class=\"token punctuation\">)</span>\n\n\n<span class=\"token keyword\">def</span> <span class=\"token function\">main</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    s <span class=\"token operator\">=</span> <span class=\"token string\">\"6hAFxn752E5F215234uy495-3741E8t%mie15F2E185E%6at%72E%7ba%13t21at27261734458%h3%%-5a885d5pF2m%%11799662E13_D55%E992E48%%8i222%4%59358.Fk1EE5-8bc%7632..FF%5%24_%9_mae58%E513e51\"</span>\n    result_str <span class=\"token operator\">=</span> str2url<span class=\"token punctuation\">(</span>s<span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>result_str<span class=\"token punctuation\">)</span>\n\nmain<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n\n</code></pre>\n","site":{"data":{}},"excerpt":"","more":"<p>用来破解一些加密文件</p>\n<pre><code class=\"python\">import urllib\nfrom urllib import parse\n\ndef str2url(s):\n    #s = &#39;9hFaF2FF%_Et%m4F4%538t2i%795E%3pF.265E85.%fnF9742Em33e162_36pA.t6661983%x%6%%74%2i2%22735&#39;\n    num_loc = s.find(&#39;h&#39;)\n    rows = int(s[0:num_loc])\n    strlen = len(s) - num_loc\n    cols = int(strlen/rows)\n    right_rows = strlen % rows\n    new_s = list(s[num_loc:])\n    output = &#39;&#39;\n    for i in range(len(new_s)):\n        x = i % rows\n        y = i / rows\n        p = 0\n        if x &lt;= right_rows:\n            p = x * (cols + 1) + y\n        else:\n            p = right_rows * (cols + 1) + (x - right_rows) * cols + y\n        output += new_s[int(p)]\n    return parse.unquote(output).replace(&#39;^&#39;, &#39;0&#39;)\n\n\ndef main():\n    s = &quot;6hAFxn752E5F215234uy495-3741E8t%mie15F2E185E%6at%72E%7ba%13t21at27261734458%h3%%-5a885d5pF2m%%11799662E13_D55%E992E48%%8i222%4%59358.Fk1EE5-8bc%7632..FF%5%24_%9_mae58%E513e51&quot;\n    result_str = str2url(s)\n    print(result_str)\n\nmain()\n\n</code></pre>\n"},{"title":"超级鹰","date":"2018-05-24T07:15:06.000Z","author":"smile","img":"/images/ALi.jpg","_content":"##  使用验证平台   超级鹰(https://www.chaojiying.com/)\n\n###  字母数字验证码\ncode\n```python\n\n\nimport time\nfrom io import BytesIO\n\nfrom PIL import Image\nfrom selenium import webdriver\nfrom selenium.common.exceptions import TimeoutException\nfrom selenium.webdriver.common.by import By\nfrom selenium.webdriver.support.ui import WebDriverWait\nfrom selenium.webdriver.support import expected_conditions as EC\n\nfrom chaojiying import main1\n\nchrome_options = webdriver.ChromeOptions()\n# chrome_options.add_argument('--headless')\nbrowser = webdriver.Chrome(chrome_options=chrome_options)\n\n# browser = webdriver.Chrome()\nbrowser.set_window_size(1200, 700)\n# 显式等待 针对某个节点的等待\nwait = WebDriverWait(browser, 10)\n\n\ndef get_big_image():\n    browser.execute_script('window.scrollTo(0, 300)')\n    screenshot = browser.get_screenshot_as_png()\n    screenshot = Image.open(BytesIO(screenshot))\n    return screenshot\n\ndef get_captcha_position():\n    captcha = wait.until(EC.presence_of_element_located\n                         ((By.CSS_SELECTOR, '#captchaImg')))\n    location = captcha.location\n    size = captcha.size\n    x1 = location['x']\n    y1 = location['y'] - 130\n    width = size['width']\n    height = size['height']\n    x2 = x1 + width\n    y2 = y1 + height\n    print(x1, y1, x2, y2)\n    return (x1, y1, x2, y2)\n\ndef get_page():\n    url = 'https://login.10086.cn/html/login/login.html?channelID=12002&backUrl=https%3A%2F%2Fshop.10086.cn%2Fmall_280_280.html%3Fforcelogin%3D1'\n    browser.get(url)\n\n    button = wait.until(EC.element_to_be_clickable((By.CSS_SELECTOR, '#mail_login_2')))\n    button.click()\n\n    username = '1484815087@qq.com'\n    password = '518420..'\n\n    input_username = wait.until(EC.presence_of_element_located\n                                ((By.CSS_SELECTOR, '#e_name')))\n    input_password = wait.until(EC.presence_of_element_located\n                                ((By.CSS_SELECTOR, '#e_pwd')))\n\n    input_username.clear()\n    input_username.send_keys(username)\n    input_password.clear()\n    input_password.send_keys(password)\n    time.sleep(3)\n\n    full_screen_img = get_big_image()\n    full_screen_img.save('mobile_login.png')\n\n    # 获取验证码左上角和右下角的坐标\n    x1, y1, x2, y2 = get_captcha_position()\n    captcha_img = full_screen_img.crop((x1, y1, x2, y2))\n    captcha_img.save('mobile_captcha.png')\n    captcha_str = main1('mobile_captcha.png')\n    print(captcha_str)\n\n    input_code = wait.until(EC.presence_of_element_located((By.CSS_SELECTOR, '#inputCode')))\n    input_code.clear()\n    input_code.send_keys(captcha_str)\n\n    button = wait.until(EC.element_to_be_clickable((By.CSS_SELECTOR, '#submit_bt')))\n    button.click()\n\n    # return html\n\ndef main():\n    html = get_page()\n    # parse_html(html)\n\n\nif __name__ == '__main__':\n    main()\n\n```\n\n验证方式的平台\n\n```python\nimport requests\nfrom hashlib import md5\n\nclass Chaojiying_Client(object):\n\n    def __init__(self, username, password, soft_id):\n        self.username = username\n        password =  password.encode('utf8')\n        self.password = md5(password).hexdigest()\n        self.soft_id = soft_id\n        self.base_params = {\n            'user': self.username,\n            'pass2': self.password,\n            'softid': self.soft_id,\n        }\n        self.headers = {\n            'Connection': 'Keep-Alive',\n            'User-Agent': 'Mozilla/4.0 (compatible; MSIE 8.0; Windows NT 5.1; Trident/4.0)',\n        }\n\n    def PostPic(self, im, codetype):\n        \"\"\"\n        im: 图片字节\n        codetype: 题目类型 参考 http://www.chaojiying.com/price.html\n        \"\"\"\n        params = {\n            'codetype': codetype,\n        }\n        params.update(self.base_params)\n        files = {'userfile': ('ccc.jpg', im)}\n        r = requests.post('http://upload.chaojiying.net/Upload/Processing.php', data=params, files=files, headers=self.headers)\n        return r.json()\n\n    def ReportError(self, im_id):\n        \"\"\"\n        im_id:报错题目的图片ID\n        \"\"\"\n        params = {\n            'id': im_id,\n        }\n        params.update(self.base_params)\n        r = requests.post('http://upload.chaojiying.net/Upload/ReportError.php', data=params, headers=self.headers)\n        return r.json()\n\ndef main1(urlstr):\n    chaojiying = Chaojiying_Client('carmack', 'Vff635241', '96001') \n    im = open(urlstr, 'rb').read()                                                 \n    return chaojiying.PostPic(im, 1902)['pic_str']                                           \n\nif __name__ == '__main__':\n\tchaojiying = Chaojiying_Client('carmack', 'Vff635241', '96001')\t\n\tim = open('CaptchaImg.png', 'rb').read()\t\t\t\t\t\t\t\t\t\t\t\t\t\n\tprint(chaojiying.PostPic(im, 1902))\t\t\t\t\t\t\t\t\t\t\t\t\n\n\n```\n\n###  滑动图片验证码\n\nstep1. 模拟点击验证按钮\n\nstep2. 识别滑动缺⼝位置\n遍历没有缺⼝和有缺⼝的两张图⽚，找出相同位置像素差距超过指定值的像素点，即缺⼝位置\n（⽬前极验已经改进了算法）\n\nstep3. 模拟拖动滑块\n\n```python\nimport time\nfrom io import BytesIO\nfrom PIL import Image\nfrom selenium import webdriver\nfrom selenium.webdriver import ActionChains\nfrom selenium.webdriver.common.by import By\nfrom selenium.webdriver.support.ui import WebDriverWait\nfrom selenium.webdriver.support import expected_conditions as EC\n\nEMAIL = '1963298993@qq.com'\nPASSWORD = 'yicijiuhao0'\nBORDER = 6\nINIT_LEFT = 60\n\n\nclass CrackBilibili():\n    def __init__(self):\n        self.url = 'https://passport.bilibili.com/login'\n        self.browser = webdriver.Chrome()\n        self.wait = WebDriverWait(self.browser, 10)\n        self.email = EMAIL\n        self.password = PASSWORD\n    \n    def __del__(self):\n        self.browser.close()\n    \n    def get_geetest_button(self):\n        \"\"\"\n        获取初始验证按钮\n        :return:\n        \"\"\"\n        button = self.wait.until(EC.element_to_be_clickable((By.CSS_SELECTOR, '.gt_slider_knob.gt_show')))\n        return button\n    \n    def get_position(self):\n        \"\"\"\n        获取验证码位置\n        :return: 验证码位置元组\n        \"\"\"\n        img = self.wait.until(EC.presence_of_element_located((By.CSS_SELECTOR, '.gt_cut_fullbg.gt_show')))\n        time.sleep(2)\n        location = img.location\n        size = img.size\n        top, bottom, left, right = location['y'], location['y'] + size['height'], location['x'], location['x'] + size[\n            'width']\n        return (top, bottom, left, right)\n    \n    def get_screenshot(self):\n        \"\"\"\n        获取网页截图\n        :return: 截图对象\n        \"\"\"\n        screenshot = self.browser.get_screenshot_as_png()\n        screenshot = Image.open(BytesIO(screenshot))\n        return screenshot\n    \n    def get_slider(self):\n        \"\"\"\n        获取滑块\n        :return: 滑块对象\n        \"\"\"\n        slider = self.wait.until(EC.element_to_be_clickable((By.CSS_SELECTOR, '.gt_slider_knob.gt_show')))\n        return slider\n    \n    def get_geetest_image(self, name='captcha.png'):\n        \"\"\"\n        获取验证码图片\n        :return: 图片对象\n        \"\"\"\n        top, bottom, left, right = self.get_position()\n        print('验证码位置', top, bottom, left, right)\n        screenshot = self.get_screenshot()\n        captcha = screenshot.crop((left, top, right, bottom))\n        captcha.save(name)\n        return captcha\n    \n    def open(self):\n        \"\"\"\n        打开网页输入用户名密码\n        :return: None\n        \"\"\"\n        self.browser.get(self.url)\n        email = self.wait.until(EC.presence_of_element_located((By.ID, 'login-username')))\n        password = self.wait.until(EC.presence_of_element_located((By.ID, 'login-passwd')))\n        email.clear()\n        password.clear()\n        email.send_keys(self.email)\n        password.send_keys(self.password)\n    \n    def get_gap(self, image1, image2):\n        \"\"\"\n        获取缺口偏移量\n        :param image1: 不带缺口图片\n        :param image2: 带缺口图片\n        :return:\n        \"\"\"\n        left = 60\n        print('******大小*****')\n        print(image1.size)\n        for i in range(left, image1.size[0]):\n            for j in range(image1.size[1]):\n                if not self.is_pixel_equal(image1, image2, i, j):\n                    left = i\n                    return left\n        return left\n    \n    def is_pixel_equal(self, image1, image2, x, y):\n        \"\"\"\n        判断两个像素是否相同\n        :param image1: 图片1\n        :param image2: 图片2\n        :param x: 位置x\n        :param y: 位置y\n        :return: 像素是否相同\n        \"\"\"\n        # 取两个图片的像素点\n        pixel1 = image1.load()[x, y]\n        pixel2 = image2.load()[x, y]\n        threshold = 60\n        if abs(pixel1[0] - pixel2[0]) < threshold and abs(pixel1[1] - pixel2[1]) < threshold and abs(\n                pixel1[2] - pixel2[2]) < threshold:\n            return True\n        else:\n            return False\n    \n    def get_track(self, distance):\n        \"\"\"\n        根据偏移量获取移动轨迹\n        :param distance: 偏移量\n        :return: 移动轨迹\n        \"\"\"\n        # 移动轨迹\n        track = []\n        # 当前位移\n        current = 0\n        # 减速阈值\n        mid = distance * 3 / 5\n        # 计算间隔\n        t = 0.5\n        # 初速度\n        v = 0\n        \n        while current < distance:\n            if current < mid:\n                # 加速度为正2\n                a = 2\n            else:\n                # 加速度为负3\n                a = -3\n            # 初速度v0\n            v0 = v\n            # 当前速度v = v0 + at\n            v = v0 + a * t\n            # 移动距离x = v0t + 1/2 * a * t^2\n            move = v0 * t + 1 / 2 * a * t * t\n            # 当前位移\n            current += move\n            # 加入轨迹\n            track.append(round(move))\n        return track\n    \n    def move_to_gap(self, slider, track):\n        \"\"\"\n        拖动滑块到缺口处\n        :param slider: 滑块\n        :param track: 轨迹\n        :return:\n        \"\"\"\n        ActionChains(self.browser).click_and_hold(slider).perform()\n        for x in track:\n            ActionChains(self.browser).move_by_offset(xoffset=x, yoffset=0).perform()\n        time.sleep(0.5)\n        ActionChains(self.browser).release().perform()\n    \n    def login(self):\n        \"\"\"\n        登录\n        :return: None\n        \"\"\"\n        submit = self.wait.until(EC.element_to_be_clickable((By.CLASS_NAME, 'login-btn')))\n        submit.click()\n        time.sleep(10)\n        print('登录成功')\n    \n    def crack(self):\n        # 输入用户名密码\n        self.open()\n        # 点击验证按钮\n        button = self.get_geetest_button()\n        print(button)\n        time.sleep(2)\n        ActionChains(self.browser).move_to_element(button).perform()\n        time.sleep(2)\n        # # 获取验证码图片(没有缺口的图)\n        image1 = self.get_geetest_image('captcha1.png')\n        # 点按呼出缺口\n        slider = self.get_slider()\n        slider.click()\n        time.sleep(2)\n        # 获取带缺口的验证码图片\n        image2 = self.get_geetest_image('captcha2.png')\n        # 获取缺口位置\n        gap = self.get_gap(image1, image2)\n        print('缺口位置', gap)\n        # 减去缺口位移\n        gap -= BORDER\n        # 获取移动轨迹\n        track = self.get_track(gap)\n        print('滑动轨迹', track)\n        # 拖动滑块\n        self.move_to_gap(slider, track)\n        \n        # 验证结点里面是否包含此文字\n        success = self.wait.until(\n            EC.text_to_be_present_in_element((By.CLASS_NAME, 'gt_info_type'), '验证通过'))\n        print(success)\n        time.sleep(5)\n        # 失败后重试\n        if not success:\n            self.crack()\n        # else:\n        #     self.login()\n\n\nif __name__ == '__main__':\n    crack = CrackBilibili()\n    crack.crack()\n\n```","source":"_posts/spider/auth_code.md","raw":"---\ntitle: 超级鹰\ndate: 2018-05-24 15:15:06\nauthor: smile\nimg: /images/ALi.jpg\ncategories: spider\ntags: \n  - code\n---\n##  使用验证平台   超级鹰(https://www.chaojiying.com/)\n\n###  字母数字验证码\ncode\n```python\n\n\nimport time\nfrom io import BytesIO\n\nfrom PIL import Image\nfrom selenium import webdriver\nfrom selenium.common.exceptions import TimeoutException\nfrom selenium.webdriver.common.by import By\nfrom selenium.webdriver.support.ui import WebDriverWait\nfrom selenium.webdriver.support import expected_conditions as EC\n\nfrom chaojiying import main1\n\nchrome_options = webdriver.ChromeOptions()\n# chrome_options.add_argument('--headless')\nbrowser = webdriver.Chrome(chrome_options=chrome_options)\n\n# browser = webdriver.Chrome()\nbrowser.set_window_size(1200, 700)\n# 显式等待 针对某个节点的等待\nwait = WebDriverWait(browser, 10)\n\n\ndef get_big_image():\n    browser.execute_script('window.scrollTo(0, 300)')\n    screenshot = browser.get_screenshot_as_png()\n    screenshot = Image.open(BytesIO(screenshot))\n    return screenshot\n\ndef get_captcha_position():\n    captcha = wait.until(EC.presence_of_element_located\n                         ((By.CSS_SELECTOR, '#captchaImg')))\n    location = captcha.location\n    size = captcha.size\n    x1 = location['x']\n    y1 = location['y'] - 130\n    width = size['width']\n    height = size['height']\n    x2 = x1 + width\n    y2 = y1 + height\n    print(x1, y1, x2, y2)\n    return (x1, y1, x2, y2)\n\ndef get_page():\n    url = 'https://login.10086.cn/html/login/login.html?channelID=12002&backUrl=https%3A%2F%2Fshop.10086.cn%2Fmall_280_280.html%3Fforcelogin%3D1'\n    browser.get(url)\n\n    button = wait.until(EC.element_to_be_clickable((By.CSS_SELECTOR, '#mail_login_2')))\n    button.click()\n\n    username = '1484815087@qq.com'\n    password = '518420..'\n\n    input_username = wait.until(EC.presence_of_element_located\n                                ((By.CSS_SELECTOR, '#e_name')))\n    input_password = wait.until(EC.presence_of_element_located\n                                ((By.CSS_SELECTOR, '#e_pwd')))\n\n    input_username.clear()\n    input_username.send_keys(username)\n    input_password.clear()\n    input_password.send_keys(password)\n    time.sleep(3)\n\n    full_screen_img = get_big_image()\n    full_screen_img.save('mobile_login.png')\n\n    # 获取验证码左上角和右下角的坐标\n    x1, y1, x2, y2 = get_captcha_position()\n    captcha_img = full_screen_img.crop((x1, y1, x2, y2))\n    captcha_img.save('mobile_captcha.png')\n    captcha_str = main1('mobile_captcha.png')\n    print(captcha_str)\n\n    input_code = wait.until(EC.presence_of_element_located((By.CSS_SELECTOR, '#inputCode')))\n    input_code.clear()\n    input_code.send_keys(captcha_str)\n\n    button = wait.until(EC.element_to_be_clickable((By.CSS_SELECTOR, '#submit_bt')))\n    button.click()\n\n    # return html\n\ndef main():\n    html = get_page()\n    # parse_html(html)\n\n\nif __name__ == '__main__':\n    main()\n\n```\n\n验证方式的平台\n\n```python\nimport requests\nfrom hashlib import md5\n\nclass Chaojiying_Client(object):\n\n    def __init__(self, username, password, soft_id):\n        self.username = username\n        password =  password.encode('utf8')\n        self.password = md5(password).hexdigest()\n        self.soft_id = soft_id\n        self.base_params = {\n            'user': self.username,\n            'pass2': self.password,\n            'softid': self.soft_id,\n        }\n        self.headers = {\n            'Connection': 'Keep-Alive',\n            'User-Agent': 'Mozilla/4.0 (compatible; MSIE 8.0; Windows NT 5.1; Trident/4.0)',\n        }\n\n    def PostPic(self, im, codetype):\n        \"\"\"\n        im: 图片字节\n        codetype: 题目类型 参考 http://www.chaojiying.com/price.html\n        \"\"\"\n        params = {\n            'codetype': codetype,\n        }\n        params.update(self.base_params)\n        files = {'userfile': ('ccc.jpg', im)}\n        r = requests.post('http://upload.chaojiying.net/Upload/Processing.php', data=params, files=files, headers=self.headers)\n        return r.json()\n\n    def ReportError(self, im_id):\n        \"\"\"\n        im_id:报错题目的图片ID\n        \"\"\"\n        params = {\n            'id': im_id,\n        }\n        params.update(self.base_params)\n        r = requests.post('http://upload.chaojiying.net/Upload/ReportError.php', data=params, headers=self.headers)\n        return r.json()\n\ndef main1(urlstr):\n    chaojiying = Chaojiying_Client('carmack', 'Vff635241', '96001') \n    im = open(urlstr, 'rb').read()                                                 \n    return chaojiying.PostPic(im, 1902)['pic_str']                                           \n\nif __name__ == '__main__':\n\tchaojiying = Chaojiying_Client('carmack', 'Vff635241', '96001')\t\n\tim = open('CaptchaImg.png', 'rb').read()\t\t\t\t\t\t\t\t\t\t\t\t\t\n\tprint(chaojiying.PostPic(im, 1902))\t\t\t\t\t\t\t\t\t\t\t\t\n\n\n```\n\n###  滑动图片验证码\n\nstep1. 模拟点击验证按钮\n\nstep2. 识别滑动缺⼝位置\n遍历没有缺⼝和有缺⼝的两张图⽚，找出相同位置像素差距超过指定值的像素点，即缺⼝位置\n（⽬前极验已经改进了算法）\n\nstep3. 模拟拖动滑块\n\n```python\nimport time\nfrom io import BytesIO\nfrom PIL import Image\nfrom selenium import webdriver\nfrom selenium.webdriver import ActionChains\nfrom selenium.webdriver.common.by import By\nfrom selenium.webdriver.support.ui import WebDriverWait\nfrom selenium.webdriver.support import expected_conditions as EC\n\nEMAIL = '1963298993@qq.com'\nPASSWORD = 'yicijiuhao0'\nBORDER = 6\nINIT_LEFT = 60\n\n\nclass CrackBilibili():\n    def __init__(self):\n        self.url = 'https://passport.bilibili.com/login'\n        self.browser = webdriver.Chrome()\n        self.wait = WebDriverWait(self.browser, 10)\n        self.email = EMAIL\n        self.password = PASSWORD\n    \n    def __del__(self):\n        self.browser.close()\n    \n    def get_geetest_button(self):\n        \"\"\"\n        获取初始验证按钮\n        :return:\n        \"\"\"\n        button = self.wait.until(EC.element_to_be_clickable((By.CSS_SELECTOR, '.gt_slider_knob.gt_show')))\n        return button\n    \n    def get_position(self):\n        \"\"\"\n        获取验证码位置\n        :return: 验证码位置元组\n        \"\"\"\n        img = self.wait.until(EC.presence_of_element_located((By.CSS_SELECTOR, '.gt_cut_fullbg.gt_show')))\n        time.sleep(2)\n        location = img.location\n        size = img.size\n        top, bottom, left, right = location['y'], location['y'] + size['height'], location['x'], location['x'] + size[\n            'width']\n        return (top, bottom, left, right)\n    \n    def get_screenshot(self):\n        \"\"\"\n        获取网页截图\n        :return: 截图对象\n        \"\"\"\n        screenshot = self.browser.get_screenshot_as_png()\n        screenshot = Image.open(BytesIO(screenshot))\n        return screenshot\n    \n    def get_slider(self):\n        \"\"\"\n        获取滑块\n        :return: 滑块对象\n        \"\"\"\n        slider = self.wait.until(EC.element_to_be_clickable((By.CSS_SELECTOR, '.gt_slider_knob.gt_show')))\n        return slider\n    \n    def get_geetest_image(self, name='captcha.png'):\n        \"\"\"\n        获取验证码图片\n        :return: 图片对象\n        \"\"\"\n        top, bottom, left, right = self.get_position()\n        print('验证码位置', top, bottom, left, right)\n        screenshot = self.get_screenshot()\n        captcha = screenshot.crop((left, top, right, bottom))\n        captcha.save(name)\n        return captcha\n    \n    def open(self):\n        \"\"\"\n        打开网页输入用户名密码\n        :return: None\n        \"\"\"\n        self.browser.get(self.url)\n        email = self.wait.until(EC.presence_of_element_located((By.ID, 'login-username')))\n        password = self.wait.until(EC.presence_of_element_located((By.ID, 'login-passwd')))\n        email.clear()\n        password.clear()\n        email.send_keys(self.email)\n        password.send_keys(self.password)\n    \n    def get_gap(self, image1, image2):\n        \"\"\"\n        获取缺口偏移量\n        :param image1: 不带缺口图片\n        :param image2: 带缺口图片\n        :return:\n        \"\"\"\n        left = 60\n        print('******大小*****')\n        print(image1.size)\n        for i in range(left, image1.size[0]):\n            for j in range(image1.size[1]):\n                if not self.is_pixel_equal(image1, image2, i, j):\n                    left = i\n                    return left\n        return left\n    \n    def is_pixel_equal(self, image1, image2, x, y):\n        \"\"\"\n        判断两个像素是否相同\n        :param image1: 图片1\n        :param image2: 图片2\n        :param x: 位置x\n        :param y: 位置y\n        :return: 像素是否相同\n        \"\"\"\n        # 取两个图片的像素点\n        pixel1 = image1.load()[x, y]\n        pixel2 = image2.load()[x, y]\n        threshold = 60\n        if abs(pixel1[0] - pixel2[0]) < threshold and abs(pixel1[1] - pixel2[1]) < threshold and abs(\n                pixel1[2] - pixel2[2]) < threshold:\n            return True\n        else:\n            return False\n    \n    def get_track(self, distance):\n        \"\"\"\n        根据偏移量获取移动轨迹\n        :param distance: 偏移量\n        :return: 移动轨迹\n        \"\"\"\n        # 移动轨迹\n        track = []\n        # 当前位移\n        current = 0\n        # 减速阈值\n        mid = distance * 3 / 5\n        # 计算间隔\n        t = 0.5\n        # 初速度\n        v = 0\n        \n        while current < distance:\n            if current < mid:\n                # 加速度为正2\n                a = 2\n            else:\n                # 加速度为负3\n                a = -3\n            # 初速度v0\n            v0 = v\n            # 当前速度v = v0 + at\n            v = v0 + a * t\n            # 移动距离x = v0t + 1/2 * a * t^2\n            move = v0 * t + 1 / 2 * a * t * t\n            # 当前位移\n            current += move\n            # 加入轨迹\n            track.append(round(move))\n        return track\n    \n    def move_to_gap(self, slider, track):\n        \"\"\"\n        拖动滑块到缺口处\n        :param slider: 滑块\n        :param track: 轨迹\n        :return:\n        \"\"\"\n        ActionChains(self.browser).click_and_hold(slider).perform()\n        for x in track:\n            ActionChains(self.browser).move_by_offset(xoffset=x, yoffset=0).perform()\n        time.sleep(0.5)\n        ActionChains(self.browser).release().perform()\n    \n    def login(self):\n        \"\"\"\n        登录\n        :return: None\n        \"\"\"\n        submit = self.wait.until(EC.element_to_be_clickable((By.CLASS_NAME, 'login-btn')))\n        submit.click()\n        time.sleep(10)\n        print('登录成功')\n    \n    def crack(self):\n        # 输入用户名密码\n        self.open()\n        # 点击验证按钮\n        button = self.get_geetest_button()\n        print(button)\n        time.sleep(2)\n        ActionChains(self.browser).move_to_element(button).perform()\n        time.sleep(2)\n        # # 获取验证码图片(没有缺口的图)\n        image1 = self.get_geetest_image('captcha1.png')\n        # 点按呼出缺口\n        slider = self.get_slider()\n        slider.click()\n        time.sleep(2)\n        # 获取带缺口的验证码图片\n        image2 = self.get_geetest_image('captcha2.png')\n        # 获取缺口位置\n        gap = self.get_gap(image1, image2)\n        print('缺口位置', gap)\n        # 减去缺口位移\n        gap -= BORDER\n        # 获取移动轨迹\n        track = self.get_track(gap)\n        print('滑动轨迹', track)\n        # 拖动滑块\n        self.move_to_gap(slider, track)\n        \n        # 验证结点里面是否包含此文字\n        success = self.wait.until(\n            EC.text_to_be_present_in_element((By.CLASS_NAME, 'gt_info_type'), '验证通过'))\n        print(success)\n        time.sleep(5)\n        # 失败后重试\n        if not success:\n            self.crack()\n        # else:\n        #     self.login()\n\n\nif __name__ == '__main__':\n    crack = CrackBilibili()\n    crack.crack()\n\n```","slug":"spider/auth_code","published":1,"updated":"2019-03-14T01:47:44.257Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjt87kqlg002pr8r60vxutddf","content":"<h2 id=\"使用验证平台-超级鹰-https-www-chaojiying-com\"><a href=\"#使用验证平台-超级鹰-https-www-chaojiying-com\" class=\"headerlink\" title=\"使用验证平台   超级鹰(https://www.chaojiying.com/)\"></a>使用验证平台   超级鹰(<a href=\"https://www.chaojiying.com/\" target=\"_blank\" rel=\"noopener\">https://www.chaojiying.com/</a>)</h2><h3 id=\"字母数字验证码\"><a href=\"#字母数字验证码\" class=\"headerlink\" title=\"字母数字验证码\"></a>字母数字验证码</h3><p>code</p>\n<pre class=\" language-python\"><code class=\"language-python\">\n\n<span class=\"token keyword\">import</span> time\n<span class=\"token keyword\">from</span> io <span class=\"token keyword\">import</span> BytesIO\n\n<span class=\"token keyword\">from</span> PIL <span class=\"token keyword\">import</span> Image\n<span class=\"token keyword\">from</span> selenium <span class=\"token keyword\">import</span> webdriver\n<span class=\"token keyword\">from</span> selenium<span class=\"token punctuation\">.</span>common<span class=\"token punctuation\">.</span>exceptions <span class=\"token keyword\">import</span> TimeoutException\n<span class=\"token keyword\">from</span> selenium<span class=\"token punctuation\">.</span>webdriver<span class=\"token punctuation\">.</span>common<span class=\"token punctuation\">.</span>by <span class=\"token keyword\">import</span> By\n<span class=\"token keyword\">from</span> selenium<span class=\"token punctuation\">.</span>webdriver<span class=\"token punctuation\">.</span>support<span class=\"token punctuation\">.</span>ui <span class=\"token keyword\">import</span> WebDriverWait\n<span class=\"token keyword\">from</span> selenium<span class=\"token punctuation\">.</span>webdriver<span class=\"token punctuation\">.</span>support <span class=\"token keyword\">import</span> expected_conditions <span class=\"token keyword\">as</span> EC\n\n<span class=\"token keyword\">from</span> chaojiying <span class=\"token keyword\">import</span> main1\n\nchrome_options <span class=\"token operator\">=</span> webdriver<span class=\"token punctuation\">.</span>ChromeOptions<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n<span class=\"token comment\" spellcheck=\"true\"># chrome_options.add_argument('--headless')</span>\nbrowser <span class=\"token operator\">=</span> webdriver<span class=\"token punctuation\">.</span>Chrome<span class=\"token punctuation\">(</span>chrome_options<span class=\"token operator\">=</span>chrome_options<span class=\"token punctuation\">)</span>\n\n<span class=\"token comment\" spellcheck=\"true\"># browser = webdriver.Chrome()</span>\nbrowser<span class=\"token punctuation\">.</span>set_window_size<span class=\"token punctuation\">(</span><span class=\"token number\">1200</span><span class=\"token punctuation\">,</span> <span class=\"token number\">700</span><span class=\"token punctuation\">)</span>\n<span class=\"token comment\" spellcheck=\"true\"># 显式等待 针对某个节点的等待</span>\nwait <span class=\"token operator\">=</span> WebDriverWait<span class=\"token punctuation\">(</span>browser<span class=\"token punctuation\">,</span> <span class=\"token number\">10</span><span class=\"token punctuation\">)</span>\n\n\n<span class=\"token keyword\">def</span> <span class=\"token function\">get_big_image</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    browser<span class=\"token punctuation\">.</span>execute_script<span class=\"token punctuation\">(</span><span class=\"token string\">'window.scrollTo(0, 300)'</span><span class=\"token punctuation\">)</span>\n    screenshot <span class=\"token operator\">=</span> browser<span class=\"token punctuation\">.</span>get_screenshot_as_png<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    screenshot <span class=\"token operator\">=</span> Image<span class=\"token punctuation\">.</span>open<span class=\"token punctuation\">(</span>BytesIO<span class=\"token punctuation\">(</span>screenshot<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">return</span> screenshot\n\n<span class=\"token keyword\">def</span> <span class=\"token function\">get_captcha_position</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    captcha <span class=\"token operator\">=</span> wait<span class=\"token punctuation\">.</span>until<span class=\"token punctuation\">(</span>EC<span class=\"token punctuation\">.</span>presence_of_element_located\n                         <span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span>By<span class=\"token punctuation\">.</span>CSS_SELECTOR<span class=\"token punctuation\">,</span> <span class=\"token string\">'#captchaImg'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n    location <span class=\"token operator\">=</span> captcha<span class=\"token punctuation\">.</span>location\n    size <span class=\"token operator\">=</span> captcha<span class=\"token punctuation\">.</span>size\n    x1 <span class=\"token operator\">=</span> location<span class=\"token punctuation\">[</span><span class=\"token string\">'x'</span><span class=\"token punctuation\">]</span>\n    y1 <span class=\"token operator\">=</span> location<span class=\"token punctuation\">[</span><span class=\"token string\">'y'</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">-</span> <span class=\"token number\">130</span>\n    width <span class=\"token operator\">=</span> size<span class=\"token punctuation\">[</span><span class=\"token string\">'width'</span><span class=\"token punctuation\">]</span>\n    height <span class=\"token operator\">=</span> size<span class=\"token punctuation\">[</span><span class=\"token string\">'height'</span><span class=\"token punctuation\">]</span>\n    x2 <span class=\"token operator\">=</span> x1 <span class=\"token operator\">+</span> width\n    y2 <span class=\"token operator\">=</span> y1 <span class=\"token operator\">+</span> height\n    <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>x1<span class=\"token punctuation\">,</span> y1<span class=\"token punctuation\">,</span> x2<span class=\"token punctuation\">,</span> y2<span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>x1<span class=\"token punctuation\">,</span> y1<span class=\"token punctuation\">,</span> x2<span class=\"token punctuation\">,</span> y2<span class=\"token punctuation\">)</span>\n\n<span class=\"token keyword\">def</span> <span class=\"token function\">get_page</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    url <span class=\"token operator\">=</span> <span class=\"token string\">'https://login.10086.cn/html/login/login.html?channelID=12002&amp;backUrl=https%3A%2F%2Fshop.10086.cn%2Fmall_280_280.html%3Fforcelogin%3D1'</span>\n    browser<span class=\"token punctuation\">.</span>get<span class=\"token punctuation\">(</span>url<span class=\"token punctuation\">)</span>\n\n    button <span class=\"token operator\">=</span> wait<span class=\"token punctuation\">.</span>until<span class=\"token punctuation\">(</span>EC<span class=\"token punctuation\">.</span>element_to_be_clickable<span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span>By<span class=\"token punctuation\">.</span>CSS_SELECTOR<span class=\"token punctuation\">,</span> <span class=\"token string\">'#mail_login_2'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n    button<span class=\"token punctuation\">.</span>click<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n\n    username <span class=\"token operator\">=</span> <span class=\"token string\">'1484815087@qq.com'</span>\n    password <span class=\"token operator\">=</span> <span class=\"token string\">'518420..'</span>\n\n    input_username <span class=\"token operator\">=</span> wait<span class=\"token punctuation\">.</span>until<span class=\"token punctuation\">(</span>EC<span class=\"token punctuation\">.</span>presence_of_element_located\n                                <span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span>By<span class=\"token punctuation\">.</span>CSS_SELECTOR<span class=\"token punctuation\">,</span> <span class=\"token string\">'#e_name'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n    input_password <span class=\"token operator\">=</span> wait<span class=\"token punctuation\">.</span>until<span class=\"token punctuation\">(</span>EC<span class=\"token punctuation\">.</span>presence_of_element_located\n                                <span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span>By<span class=\"token punctuation\">.</span>CSS_SELECTOR<span class=\"token punctuation\">,</span> <span class=\"token string\">'#e_pwd'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n\n    input_username<span class=\"token punctuation\">.</span>clear<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    input_username<span class=\"token punctuation\">.</span>send_keys<span class=\"token punctuation\">(</span>username<span class=\"token punctuation\">)</span>\n    input_password<span class=\"token punctuation\">.</span>clear<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    input_password<span class=\"token punctuation\">.</span>send_keys<span class=\"token punctuation\">(</span>password<span class=\"token punctuation\">)</span>\n    time<span class=\"token punctuation\">.</span>sleep<span class=\"token punctuation\">(</span><span class=\"token number\">3</span><span class=\"token punctuation\">)</span>\n\n    full_screen_img <span class=\"token operator\">=</span> get_big_image<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    full_screen_img<span class=\"token punctuation\">.</span>save<span class=\"token punctuation\">(</span><span class=\"token string\">'mobile_login.png'</span><span class=\"token punctuation\">)</span>\n\n    <span class=\"token comment\" spellcheck=\"true\"># 获取验证码左上角和右下角的坐标</span>\n    x1<span class=\"token punctuation\">,</span> y1<span class=\"token punctuation\">,</span> x2<span class=\"token punctuation\">,</span> y2 <span class=\"token operator\">=</span> get_captcha_position<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    captcha_img <span class=\"token operator\">=</span> full_screen_img<span class=\"token punctuation\">.</span>crop<span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span>x1<span class=\"token punctuation\">,</span> y1<span class=\"token punctuation\">,</span> x2<span class=\"token punctuation\">,</span> y2<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n    captcha_img<span class=\"token punctuation\">.</span>save<span class=\"token punctuation\">(</span><span class=\"token string\">'mobile_captcha.png'</span><span class=\"token punctuation\">)</span>\n    captcha_str <span class=\"token operator\">=</span> main1<span class=\"token punctuation\">(</span><span class=\"token string\">'mobile_captcha.png'</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>captcha_str<span class=\"token punctuation\">)</span>\n\n    input_code <span class=\"token operator\">=</span> wait<span class=\"token punctuation\">.</span>until<span class=\"token punctuation\">(</span>EC<span class=\"token punctuation\">.</span>presence_of_element_located<span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span>By<span class=\"token punctuation\">.</span>CSS_SELECTOR<span class=\"token punctuation\">,</span> <span class=\"token string\">'#inputCode'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n    input_code<span class=\"token punctuation\">.</span>clear<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    input_code<span class=\"token punctuation\">.</span>send_keys<span class=\"token punctuation\">(</span>captcha_str<span class=\"token punctuation\">)</span>\n\n    button <span class=\"token operator\">=</span> wait<span class=\"token punctuation\">.</span>until<span class=\"token punctuation\">(</span>EC<span class=\"token punctuation\">.</span>element_to_be_clickable<span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span>By<span class=\"token punctuation\">.</span>CSS_SELECTOR<span class=\"token punctuation\">,</span> <span class=\"token string\">'#submit_bt'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n    button<span class=\"token punctuation\">.</span>click<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n\n    <span class=\"token comment\" spellcheck=\"true\"># return html</span>\n\n<span class=\"token keyword\">def</span> <span class=\"token function\">main</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    html <span class=\"token operator\">=</span> get_page<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    <span class=\"token comment\" spellcheck=\"true\"># parse_html(html)</span>\n\n\n<span class=\"token keyword\">if</span> __name__ <span class=\"token operator\">==</span> <span class=\"token string\">'__main__'</span><span class=\"token punctuation\">:</span>\n    main<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n\n</code></pre>\n<p>验证方式的平台</p>\n<pre class=\" language-python\"><code class=\"language-python\"><span class=\"token keyword\">import</span> requests\n<span class=\"token keyword\">from</span> hashlib <span class=\"token keyword\">import</span> md5\n\n<span class=\"token keyword\">class</span> <span class=\"token class-name\">Chaojiying_Client</span><span class=\"token punctuation\">(</span>object<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n\n    <span class=\"token keyword\">def</span> <span class=\"token function\">__init__</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">,</span> username<span class=\"token punctuation\">,</span> password<span class=\"token punctuation\">,</span> soft_id<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n        self<span class=\"token punctuation\">.</span>username <span class=\"token operator\">=</span> username\n        password <span class=\"token operator\">=</span>  password<span class=\"token punctuation\">.</span>encode<span class=\"token punctuation\">(</span><span class=\"token string\">'utf8'</span><span class=\"token punctuation\">)</span>\n        self<span class=\"token punctuation\">.</span>password <span class=\"token operator\">=</span> md5<span class=\"token punctuation\">(</span>password<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>hexdigest<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n        self<span class=\"token punctuation\">.</span>soft_id <span class=\"token operator\">=</span> soft_id\n        self<span class=\"token punctuation\">.</span>base_params <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n            <span class=\"token string\">'user'</span><span class=\"token punctuation\">:</span> self<span class=\"token punctuation\">.</span>username<span class=\"token punctuation\">,</span>\n            <span class=\"token string\">'pass2'</span><span class=\"token punctuation\">:</span> self<span class=\"token punctuation\">.</span>password<span class=\"token punctuation\">,</span>\n            <span class=\"token string\">'softid'</span><span class=\"token punctuation\">:</span> self<span class=\"token punctuation\">.</span>soft_id<span class=\"token punctuation\">,</span>\n        <span class=\"token punctuation\">}</span>\n        self<span class=\"token punctuation\">.</span>headers <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n            <span class=\"token string\">'Connection'</span><span class=\"token punctuation\">:</span> <span class=\"token string\">'Keep-Alive'</span><span class=\"token punctuation\">,</span>\n            <span class=\"token string\">'User-Agent'</span><span class=\"token punctuation\">:</span> <span class=\"token string\">'Mozilla/4.0 (compatible; MSIE 8.0; Windows NT 5.1; Trident/4.0)'</span><span class=\"token punctuation\">,</span>\n        <span class=\"token punctuation\">}</span>\n\n    <span class=\"token keyword\">def</span> <span class=\"token function\">PostPic</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">,</span> im<span class=\"token punctuation\">,</span> codetype<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n        <span class=\"token triple-quoted-string string\">\"\"\"\n        im: 图片字节\n        codetype: 题目类型 参考 http://www.chaojiying.com/price.html\n        \"\"\"</span>\n        params <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n            <span class=\"token string\">'codetype'</span><span class=\"token punctuation\">:</span> codetype<span class=\"token punctuation\">,</span>\n        <span class=\"token punctuation\">}</span>\n        params<span class=\"token punctuation\">.</span>update<span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">.</span>base_params<span class=\"token punctuation\">)</span>\n        files <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span><span class=\"token string\">'userfile'</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">(</span><span class=\"token string\">'ccc.jpg'</span><span class=\"token punctuation\">,</span> im<span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span>\n        r <span class=\"token operator\">=</span> requests<span class=\"token punctuation\">.</span>post<span class=\"token punctuation\">(</span><span class=\"token string\">'http://upload.chaojiying.net/Upload/Processing.php'</span><span class=\"token punctuation\">,</span> data<span class=\"token operator\">=</span>params<span class=\"token punctuation\">,</span> files<span class=\"token operator\">=</span>files<span class=\"token punctuation\">,</span> headers<span class=\"token operator\">=</span>self<span class=\"token punctuation\">.</span>headers<span class=\"token punctuation\">)</span>\n        <span class=\"token keyword\">return</span> r<span class=\"token punctuation\">.</span>json<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n\n    <span class=\"token keyword\">def</span> <span class=\"token function\">ReportError</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">,</span> im_id<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n        <span class=\"token triple-quoted-string string\">\"\"\"\n        im_id:报错题目的图片ID\n        \"\"\"</span>\n        params <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n            <span class=\"token string\">'id'</span><span class=\"token punctuation\">:</span> im_id<span class=\"token punctuation\">,</span>\n        <span class=\"token punctuation\">}</span>\n        params<span class=\"token punctuation\">.</span>update<span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">.</span>base_params<span class=\"token punctuation\">)</span>\n        r <span class=\"token operator\">=</span> requests<span class=\"token punctuation\">.</span>post<span class=\"token punctuation\">(</span><span class=\"token string\">'http://upload.chaojiying.net/Upload/ReportError.php'</span><span class=\"token punctuation\">,</span> data<span class=\"token operator\">=</span>params<span class=\"token punctuation\">,</span> headers<span class=\"token operator\">=</span>self<span class=\"token punctuation\">.</span>headers<span class=\"token punctuation\">)</span>\n        <span class=\"token keyword\">return</span> r<span class=\"token punctuation\">.</span>json<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token keyword\">def</span> <span class=\"token function\">main1</span><span class=\"token punctuation\">(</span>urlstr<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    chaojiying <span class=\"token operator\">=</span> Chaojiying_Client<span class=\"token punctuation\">(</span><span class=\"token string\">'carmack'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'Vff635241'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'96001'</span><span class=\"token punctuation\">)</span> \n    im <span class=\"token operator\">=</span> open<span class=\"token punctuation\">(</span>urlstr<span class=\"token punctuation\">,</span> <span class=\"token string\">'rb'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>read<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>                                                 \n    <span class=\"token keyword\">return</span> chaojiying<span class=\"token punctuation\">.</span>PostPic<span class=\"token punctuation\">(</span>im<span class=\"token punctuation\">,</span> <span class=\"token number\">1902</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">[</span><span class=\"token string\">'pic_str'</span><span class=\"token punctuation\">]</span>                                           \n\n<span class=\"token keyword\">if</span> __name__ <span class=\"token operator\">==</span> <span class=\"token string\">'__main__'</span><span class=\"token punctuation\">:</span>\n    chaojiying <span class=\"token operator\">=</span> Chaojiying_Client<span class=\"token punctuation\">(</span><span class=\"token string\">'carmack'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'Vff635241'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'96001'</span><span class=\"token punctuation\">)</span>    \n    im <span class=\"token operator\">=</span> open<span class=\"token punctuation\">(</span><span class=\"token string\">'CaptchaImg.png'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'rb'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>read<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>                                                    \n    <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>chaojiying<span class=\"token punctuation\">.</span>PostPic<span class=\"token punctuation\">(</span>im<span class=\"token punctuation\">,</span> <span class=\"token number\">1902</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>                                                \n\n\n</code></pre>\n<h3 id=\"滑动图片验证码\"><a href=\"#滑动图片验证码\" class=\"headerlink\" title=\"滑动图片验证码\"></a>滑动图片验证码</h3><p>step1. 模拟点击验证按钮</p>\n<p>step2. 识别滑动缺⼝位置<br>遍历没有缺⼝和有缺⼝的两张图⽚，找出相同位置像素差距超过指定值的像素点，即缺⼝位置<br>（⽬前极验已经改进了算法）</p>\n<p>step3. 模拟拖动滑块</p>\n<pre class=\" language-python\"><code class=\"language-python\"><span class=\"token keyword\">import</span> time\n<span class=\"token keyword\">from</span> io <span class=\"token keyword\">import</span> BytesIO\n<span class=\"token keyword\">from</span> PIL <span class=\"token keyword\">import</span> Image\n<span class=\"token keyword\">from</span> selenium <span class=\"token keyword\">import</span> webdriver\n<span class=\"token keyword\">from</span> selenium<span class=\"token punctuation\">.</span>webdriver <span class=\"token keyword\">import</span> ActionChains\n<span class=\"token keyword\">from</span> selenium<span class=\"token punctuation\">.</span>webdriver<span class=\"token punctuation\">.</span>common<span class=\"token punctuation\">.</span>by <span class=\"token keyword\">import</span> By\n<span class=\"token keyword\">from</span> selenium<span class=\"token punctuation\">.</span>webdriver<span class=\"token punctuation\">.</span>support<span class=\"token punctuation\">.</span>ui <span class=\"token keyword\">import</span> WebDriverWait\n<span class=\"token keyword\">from</span> selenium<span class=\"token punctuation\">.</span>webdriver<span class=\"token punctuation\">.</span>support <span class=\"token keyword\">import</span> expected_conditions <span class=\"token keyword\">as</span> EC\n\nEMAIL <span class=\"token operator\">=</span> <span class=\"token string\">'1963298993@qq.com'</span>\nPASSWORD <span class=\"token operator\">=</span> <span class=\"token string\">'yicijiuhao0'</span>\nBORDER <span class=\"token operator\">=</span> <span class=\"token number\">6</span>\nINIT_LEFT <span class=\"token operator\">=</span> <span class=\"token number\">60</span>\n\n\n<span class=\"token keyword\">class</span> <span class=\"token class-name\">CrackBilibili</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    <span class=\"token keyword\">def</span> <span class=\"token function\">__init__</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n        self<span class=\"token punctuation\">.</span>url <span class=\"token operator\">=</span> <span class=\"token string\">'https://passport.bilibili.com/login'</span>\n        self<span class=\"token punctuation\">.</span>browser <span class=\"token operator\">=</span> webdriver<span class=\"token punctuation\">.</span>Chrome<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n        self<span class=\"token punctuation\">.</span>wait <span class=\"token operator\">=</span> WebDriverWait<span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">.</span>browser<span class=\"token punctuation\">,</span> <span class=\"token number\">10</span><span class=\"token punctuation\">)</span>\n        self<span class=\"token punctuation\">.</span>email <span class=\"token operator\">=</span> EMAIL\n        self<span class=\"token punctuation\">.</span>password <span class=\"token operator\">=</span> PASSWORD\n\n    <span class=\"token keyword\">def</span> <span class=\"token function\">__del__</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n        self<span class=\"token punctuation\">.</span>browser<span class=\"token punctuation\">.</span>close<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n\n    <span class=\"token keyword\">def</span> <span class=\"token function\">get_geetest_button</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n        <span class=\"token triple-quoted-string string\">\"\"\"\n        获取初始验证按钮\n        :return:\n        \"\"\"</span>\n        button <span class=\"token operator\">=</span> self<span class=\"token punctuation\">.</span>wait<span class=\"token punctuation\">.</span>until<span class=\"token punctuation\">(</span>EC<span class=\"token punctuation\">.</span>element_to_be_clickable<span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span>By<span class=\"token punctuation\">.</span>CSS_SELECTOR<span class=\"token punctuation\">,</span> <span class=\"token string\">'.gt_slider_knob.gt_show'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n        <span class=\"token keyword\">return</span> button\n\n    <span class=\"token keyword\">def</span> <span class=\"token function\">get_position</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n        <span class=\"token triple-quoted-string string\">\"\"\"\n        获取验证码位置\n        :return: 验证码位置元组\n        \"\"\"</span>\n        img <span class=\"token operator\">=</span> self<span class=\"token punctuation\">.</span>wait<span class=\"token punctuation\">.</span>until<span class=\"token punctuation\">(</span>EC<span class=\"token punctuation\">.</span>presence_of_element_located<span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span>By<span class=\"token punctuation\">.</span>CSS_SELECTOR<span class=\"token punctuation\">,</span> <span class=\"token string\">'.gt_cut_fullbg.gt_show'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n        time<span class=\"token punctuation\">.</span>sleep<span class=\"token punctuation\">(</span><span class=\"token number\">2</span><span class=\"token punctuation\">)</span>\n        location <span class=\"token operator\">=</span> img<span class=\"token punctuation\">.</span>location\n        size <span class=\"token operator\">=</span> img<span class=\"token punctuation\">.</span>size\n        top<span class=\"token punctuation\">,</span> bottom<span class=\"token punctuation\">,</span> left<span class=\"token punctuation\">,</span> right <span class=\"token operator\">=</span> location<span class=\"token punctuation\">[</span><span class=\"token string\">'y'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> location<span class=\"token punctuation\">[</span><span class=\"token string\">'y'</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">+</span> size<span class=\"token punctuation\">[</span><span class=\"token string\">'height'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> location<span class=\"token punctuation\">[</span><span class=\"token string\">'x'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> location<span class=\"token punctuation\">[</span><span class=\"token string\">'x'</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">+</span> size<span class=\"token punctuation\">[</span>\n            <span class=\"token string\">'width'</span><span class=\"token punctuation\">]</span>\n        <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>top<span class=\"token punctuation\">,</span> bottom<span class=\"token punctuation\">,</span> left<span class=\"token punctuation\">,</span> right<span class=\"token punctuation\">)</span>\n\n    <span class=\"token keyword\">def</span> <span class=\"token function\">get_screenshot</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n        <span class=\"token triple-quoted-string string\">\"\"\"\n        获取网页截图\n        :return: 截图对象\n        \"\"\"</span>\n        screenshot <span class=\"token operator\">=</span> self<span class=\"token punctuation\">.</span>browser<span class=\"token punctuation\">.</span>get_screenshot_as_png<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n        screenshot <span class=\"token operator\">=</span> Image<span class=\"token punctuation\">.</span>open<span class=\"token punctuation\">(</span>BytesIO<span class=\"token punctuation\">(</span>screenshot<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n        <span class=\"token keyword\">return</span> screenshot\n\n    <span class=\"token keyword\">def</span> <span class=\"token function\">get_slider</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n        <span class=\"token triple-quoted-string string\">\"\"\"\n        获取滑块\n        :return: 滑块对象\n        \"\"\"</span>\n        slider <span class=\"token operator\">=</span> self<span class=\"token punctuation\">.</span>wait<span class=\"token punctuation\">.</span>until<span class=\"token punctuation\">(</span>EC<span class=\"token punctuation\">.</span>element_to_be_clickable<span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span>By<span class=\"token punctuation\">.</span>CSS_SELECTOR<span class=\"token punctuation\">,</span> <span class=\"token string\">'.gt_slider_knob.gt_show'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n        <span class=\"token keyword\">return</span> slider\n\n    <span class=\"token keyword\">def</span> <span class=\"token function\">get_geetest_image</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">,</span> name<span class=\"token operator\">=</span><span class=\"token string\">'captcha.png'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n        <span class=\"token triple-quoted-string string\">\"\"\"\n        获取验证码图片\n        :return: 图片对象\n        \"\"\"</span>\n        top<span class=\"token punctuation\">,</span> bottom<span class=\"token punctuation\">,</span> left<span class=\"token punctuation\">,</span> right <span class=\"token operator\">=</span> self<span class=\"token punctuation\">.</span>get_position<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n        <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string\">'验证码位置'</span><span class=\"token punctuation\">,</span> top<span class=\"token punctuation\">,</span> bottom<span class=\"token punctuation\">,</span> left<span class=\"token punctuation\">,</span> right<span class=\"token punctuation\">)</span>\n        screenshot <span class=\"token operator\">=</span> self<span class=\"token punctuation\">.</span>get_screenshot<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n        captcha <span class=\"token operator\">=</span> screenshot<span class=\"token punctuation\">.</span>crop<span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span>left<span class=\"token punctuation\">,</span> top<span class=\"token punctuation\">,</span> right<span class=\"token punctuation\">,</span> bottom<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n        captcha<span class=\"token punctuation\">.</span>save<span class=\"token punctuation\">(</span>name<span class=\"token punctuation\">)</span>\n        <span class=\"token keyword\">return</span> captcha\n\n    <span class=\"token keyword\">def</span> <span class=\"token function\">open</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n        <span class=\"token triple-quoted-string string\">\"\"\"\n        打开网页输入用户名密码\n        :return: None\n        \"\"\"</span>\n        self<span class=\"token punctuation\">.</span>browser<span class=\"token punctuation\">.</span>get<span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">.</span>url<span class=\"token punctuation\">)</span>\n        email <span class=\"token operator\">=</span> self<span class=\"token punctuation\">.</span>wait<span class=\"token punctuation\">.</span>until<span class=\"token punctuation\">(</span>EC<span class=\"token punctuation\">.</span>presence_of_element_located<span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span>By<span class=\"token punctuation\">.</span>ID<span class=\"token punctuation\">,</span> <span class=\"token string\">'login-username'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n        password <span class=\"token operator\">=</span> self<span class=\"token punctuation\">.</span>wait<span class=\"token punctuation\">.</span>until<span class=\"token punctuation\">(</span>EC<span class=\"token punctuation\">.</span>presence_of_element_located<span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span>By<span class=\"token punctuation\">.</span>ID<span class=\"token punctuation\">,</span> <span class=\"token string\">'login-passwd'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n        email<span class=\"token punctuation\">.</span>clear<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n        password<span class=\"token punctuation\">.</span>clear<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n        email<span class=\"token punctuation\">.</span>send_keys<span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">.</span>email<span class=\"token punctuation\">)</span>\n        password<span class=\"token punctuation\">.</span>send_keys<span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">.</span>password<span class=\"token punctuation\">)</span>\n\n    <span class=\"token keyword\">def</span> <span class=\"token function\">get_gap</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">,</span> image1<span class=\"token punctuation\">,</span> image2<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n        <span class=\"token triple-quoted-string string\">\"\"\"\n        获取缺口偏移量\n        :param image1: 不带缺口图片\n        :param image2: 带缺口图片\n        :return:\n        \"\"\"</span>\n        left <span class=\"token operator\">=</span> <span class=\"token number\">60</span>\n        <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string\">'******大小*****'</span><span class=\"token punctuation\">)</span>\n        <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>image1<span class=\"token punctuation\">.</span>size<span class=\"token punctuation\">)</span>\n        <span class=\"token keyword\">for</span> i <span class=\"token keyword\">in</span> range<span class=\"token punctuation\">(</span>left<span class=\"token punctuation\">,</span> image1<span class=\"token punctuation\">.</span>size<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n            <span class=\"token keyword\">for</span> j <span class=\"token keyword\">in</span> range<span class=\"token punctuation\">(</span>image1<span class=\"token punctuation\">.</span>size<span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n                <span class=\"token keyword\">if</span> <span class=\"token operator\">not</span> self<span class=\"token punctuation\">.</span>is_pixel_equal<span class=\"token punctuation\">(</span>image1<span class=\"token punctuation\">,</span> image2<span class=\"token punctuation\">,</span> i<span class=\"token punctuation\">,</span> j<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n                    left <span class=\"token operator\">=</span> i\n                    <span class=\"token keyword\">return</span> left\n        <span class=\"token keyword\">return</span> left\n\n    <span class=\"token keyword\">def</span> <span class=\"token function\">is_pixel_equal</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">,</span> image1<span class=\"token punctuation\">,</span> image2<span class=\"token punctuation\">,</span> x<span class=\"token punctuation\">,</span> y<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n        <span class=\"token triple-quoted-string string\">\"\"\"\n        判断两个像素是否相同\n        :param image1: 图片1\n        :param image2: 图片2\n        :param x: 位置x\n        :param y: 位置y\n        :return: 像素是否相同\n        \"\"\"</span>\n        <span class=\"token comment\" spellcheck=\"true\"># 取两个图片的像素点</span>\n        pixel1 <span class=\"token operator\">=</span> image1<span class=\"token punctuation\">.</span>load<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">[</span>x<span class=\"token punctuation\">,</span> y<span class=\"token punctuation\">]</span>\n        pixel2 <span class=\"token operator\">=</span> image2<span class=\"token punctuation\">.</span>load<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">[</span>x<span class=\"token punctuation\">,</span> y<span class=\"token punctuation\">]</span>\n        threshold <span class=\"token operator\">=</span> <span class=\"token number\">60</span>\n        <span class=\"token keyword\">if</span> abs<span class=\"token punctuation\">(</span>pixel1<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">-</span> pixel2<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">&lt;</span> threshold <span class=\"token operator\">and</span> abs<span class=\"token punctuation\">(</span>pixel1<span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">-</span> pixel2<span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">&lt;</span> threshold <span class=\"token operator\">and</span> abs<span class=\"token punctuation\">(</span>\n                pixel1<span class=\"token punctuation\">[</span><span class=\"token number\">2</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">-</span> pixel2<span class=\"token punctuation\">[</span><span class=\"token number\">2</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">&lt;</span> threshold<span class=\"token punctuation\">:</span>\n            <span class=\"token keyword\">return</span> <span class=\"token boolean\">True</span>\n        <span class=\"token keyword\">else</span><span class=\"token punctuation\">:</span>\n            <span class=\"token keyword\">return</span> <span class=\"token boolean\">False</span>\n\n    <span class=\"token keyword\">def</span> <span class=\"token function\">get_track</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">,</span> distance<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n        <span class=\"token triple-quoted-string string\">\"\"\"\n        根据偏移量获取移动轨迹\n        :param distance: 偏移量\n        :return: 移动轨迹\n        \"\"\"</span>\n        <span class=\"token comment\" spellcheck=\"true\"># 移动轨迹</span>\n        track <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span>\n        <span class=\"token comment\" spellcheck=\"true\"># 当前位移</span>\n        current <span class=\"token operator\">=</span> <span class=\"token number\">0</span>\n        <span class=\"token comment\" spellcheck=\"true\"># 减速阈值</span>\n        mid <span class=\"token operator\">=</span> distance <span class=\"token operator\">*</span> <span class=\"token number\">3</span> <span class=\"token operator\">/</span> <span class=\"token number\">5</span>\n        <span class=\"token comment\" spellcheck=\"true\"># 计算间隔</span>\n        t <span class=\"token operator\">=</span> <span class=\"token number\">0.5</span>\n        <span class=\"token comment\" spellcheck=\"true\"># 初速度</span>\n        v <span class=\"token operator\">=</span> <span class=\"token number\">0</span>\n\n        <span class=\"token keyword\">while</span> current <span class=\"token operator\">&lt;</span> distance<span class=\"token punctuation\">:</span>\n            <span class=\"token keyword\">if</span> current <span class=\"token operator\">&lt;</span> mid<span class=\"token punctuation\">:</span>\n                <span class=\"token comment\" spellcheck=\"true\"># 加速度为正2</span>\n                a <span class=\"token operator\">=</span> <span class=\"token number\">2</span>\n            <span class=\"token keyword\">else</span><span class=\"token punctuation\">:</span>\n                <span class=\"token comment\" spellcheck=\"true\"># 加速度为负3</span>\n                a <span class=\"token operator\">=</span> <span class=\"token operator\">-</span><span class=\"token number\">3</span>\n            <span class=\"token comment\" spellcheck=\"true\"># 初速度v0</span>\n            v0 <span class=\"token operator\">=</span> v\n            <span class=\"token comment\" spellcheck=\"true\"># 当前速度v = v0 + at</span>\n            v <span class=\"token operator\">=</span> v0 <span class=\"token operator\">+</span> a <span class=\"token operator\">*</span> t\n            <span class=\"token comment\" spellcheck=\"true\"># 移动距离x = v0t + 1/2 * a * t^2</span>\n            move <span class=\"token operator\">=</span> v0 <span class=\"token operator\">*</span> t <span class=\"token operator\">+</span> <span class=\"token number\">1</span> <span class=\"token operator\">/</span> <span class=\"token number\">2</span> <span class=\"token operator\">*</span> a <span class=\"token operator\">*</span> t <span class=\"token operator\">*</span> t\n            <span class=\"token comment\" spellcheck=\"true\"># 当前位移</span>\n            current <span class=\"token operator\">+=</span> move\n            <span class=\"token comment\" spellcheck=\"true\"># 加入轨迹</span>\n            track<span class=\"token punctuation\">.</span>append<span class=\"token punctuation\">(</span>round<span class=\"token punctuation\">(</span>move<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n        <span class=\"token keyword\">return</span> track\n\n    <span class=\"token keyword\">def</span> <span class=\"token function\">move_to_gap</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">,</span> slider<span class=\"token punctuation\">,</span> track<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n        <span class=\"token triple-quoted-string string\">\"\"\"\n        拖动滑块到缺口处\n        :param slider: 滑块\n        :param track: 轨迹\n        :return:\n        \"\"\"</span>\n        ActionChains<span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">.</span>browser<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>click_and_hold<span class=\"token punctuation\">(</span>slider<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>perform<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n        <span class=\"token keyword\">for</span> x <span class=\"token keyword\">in</span> track<span class=\"token punctuation\">:</span>\n            ActionChains<span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">.</span>browser<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>move_by_offset<span class=\"token punctuation\">(</span>xoffset<span class=\"token operator\">=</span>x<span class=\"token punctuation\">,</span> yoffset<span class=\"token operator\">=</span><span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>perform<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n        time<span class=\"token punctuation\">.</span>sleep<span class=\"token punctuation\">(</span><span class=\"token number\">0.5</span><span class=\"token punctuation\">)</span>\n        ActionChains<span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">.</span>browser<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>release<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>perform<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n\n    <span class=\"token keyword\">def</span> <span class=\"token function\">login</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n        <span class=\"token triple-quoted-string string\">\"\"\"\n        登录\n        :return: None\n        \"\"\"</span>\n        submit <span class=\"token operator\">=</span> self<span class=\"token punctuation\">.</span>wait<span class=\"token punctuation\">.</span>until<span class=\"token punctuation\">(</span>EC<span class=\"token punctuation\">.</span>element_to_be_clickable<span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span>By<span class=\"token punctuation\">.</span>CLASS_NAME<span class=\"token punctuation\">,</span> <span class=\"token string\">'login-btn'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n        submit<span class=\"token punctuation\">.</span>click<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n        time<span class=\"token punctuation\">.</span>sleep<span class=\"token punctuation\">(</span><span class=\"token number\">10</span><span class=\"token punctuation\">)</span>\n        <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string\">'登录成功'</span><span class=\"token punctuation\">)</span>\n\n    <span class=\"token keyword\">def</span> <span class=\"token function\">crack</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n        <span class=\"token comment\" spellcheck=\"true\"># 输入用户名密码</span>\n        self<span class=\"token punctuation\">.</span>open<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n        <span class=\"token comment\" spellcheck=\"true\"># 点击验证按钮</span>\n        button <span class=\"token operator\">=</span> self<span class=\"token punctuation\">.</span>get_geetest_button<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n        <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>button<span class=\"token punctuation\">)</span>\n        time<span class=\"token punctuation\">.</span>sleep<span class=\"token punctuation\">(</span><span class=\"token number\">2</span><span class=\"token punctuation\">)</span>\n        ActionChains<span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">.</span>browser<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>move_to_element<span class=\"token punctuation\">(</span>button<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>perform<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n        time<span class=\"token punctuation\">.</span>sleep<span class=\"token punctuation\">(</span><span class=\"token number\">2</span><span class=\"token punctuation\">)</span>\n        <span class=\"token comment\" spellcheck=\"true\"># # 获取验证码图片(没有缺口的图)</span>\n        image1 <span class=\"token operator\">=</span> self<span class=\"token punctuation\">.</span>get_geetest_image<span class=\"token punctuation\">(</span><span class=\"token string\">'captcha1.png'</span><span class=\"token punctuation\">)</span>\n        <span class=\"token comment\" spellcheck=\"true\"># 点按呼出缺口</span>\n        slider <span class=\"token operator\">=</span> self<span class=\"token punctuation\">.</span>get_slider<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n        slider<span class=\"token punctuation\">.</span>click<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n        time<span class=\"token punctuation\">.</span>sleep<span class=\"token punctuation\">(</span><span class=\"token number\">2</span><span class=\"token punctuation\">)</span>\n        <span class=\"token comment\" spellcheck=\"true\"># 获取带缺口的验证码图片</span>\n        image2 <span class=\"token operator\">=</span> self<span class=\"token punctuation\">.</span>get_geetest_image<span class=\"token punctuation\">(</span><span class=\"token string\">'captcha2.png'</span><span class=\"token punctuation\">)</span>\n        <span class=\"token comment\" spellcheck=\"true\"># 获取缺口位置</span>\n        gap <span class=\"token operator\">=</span> self<span class=\"token punctuation\">.</span>get_gap<span class=\"token punctuation\">(</span>image1<span class=\"token punctuation\">,</span> image2<span class=\"token punctuation\">)</span>\n        <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string\">'缺口位置'</span><span class=\"token punctuation\">,</span> gap<span class=\"token punctuation\">)</span>\n        <span class=\"token comment\" spellcheck=\"true\"># 减去缺口位移</span>\n        gap <span class=\"token operator\">-=</span> BORDER\n        <span class=\"token comment\" spellcheck=\"true\"># 获取移动轨迹</span>\n        track <span class=\"token operator\">=</span> self<span class=\"token punctuation\">.</span>get_track<span class=\"token punctuation\">(</span>gap<span class=\"token punctuation\">)</span>\n        <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string\">'滑动轨迹'</span><span class=\"token punctuation\">,</span> track<span class=\"token punctuation\">)</span>\n        <span class=\"token comment\" spellcheck=\"true\"># 拖动滑块</span>\n        self<span class=\"token punctuation\">.</span>move_to_gap<span class=\"token punctuation\">(</span>slider<span class=\"token punctuation\">,</span> track<span class=\"token punctuation\">)</span>\n\n        <span class=\"token comment\" spellcheck=\"true\"># 验证结点里面是否包含此文字</span>\n        success <span class=\"token operator\">=</span> self<span class=\"token punctuation\">.</span>wait<span class=\"token punctuation\">.</span>until<span class=\"token punctuation\">(</span>\n            EC<span class=\"token punctuation\">.</span>text_to_be_present_in_element<span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span>By<span class=\"token punctuation\">.</span>CLASS_NAME<span class=\"token punctuation\">,</span> <span class=\"token string\">'gt_info_type'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'验证通过'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n        <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>success<span class=\"token punctuation\">)</span>\n        time<span class=\"token punctuation\">.</span>sleep<span class=\"token punctuation\">(</span><span class=\"token number\">5</span><span class=\"token punctuation\">)</span>\n        <span class=\"token comment\" spellcheck=\"true\"># 失败后重试</span>\n        <span class=\"token keyword\">if</span> <span class=\"token operator\">not</span> success<span class=\"token punctuation\">:</span>\n            self<span class=\"token punctuation\">.</span>crack<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n        <span class=\"token comment\" spellcheck=\"true\"># else:</span>\n        <span class=\"token comment\" spellcheck=\"true\">#     self.login()</span>\n\n\n<span class=\"token keyword\">if</span> __name__ <span class=\"token operator\">==</span> <span class=\"token string\">'__main__'</span><span class=\"token punctuation\">:</span>\n    crack <span class=\"token operator\">=</span> CrackBilibili<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    crack<span class=\"token punctuation\">.</span>crack<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n\n</code></pre>\n","site":{"data":{}},"excerpt":"","more":"<h2 id=\"使用验证平台-超级鹰-https-www-chaojiying-com\"><a href=\"#使用验证平台-超级鹰-https-www-chaojiying-com\" class=\"headerlink\" title=\"使用验证平台   超级鹰(https://www.chaojiying.com/)\"></a>使用验证平台   超级鹰(<a href=\"https://www.chaojiying.com/\" target=\"_blank\" rel=\"noopener\">https://www.chaojiying.com/</a>)</h2><h3 id=\"字母数字验证码\"><a href=\"#字母数字验证码\" class=\"headerlink\" title=\"字母数字验证码\"></a>字母数字验证码</h3><p>code</p>\n<pre><code class=\"python\">\n\nimport time\nfrom io import BytesIO\n\nfrom PIL import Image\nfrom selenium import webdriver\nfrom selenium.common.exceptions import TimeoutException\nfrom selenium.webdriver.common.by import By\nfrom selenium.webdriver.support.ui import WebDriverWait\nfrom selenium.webdriver.support import expected_conditions as EC\n\nfrom chaojiying import main1\n\nchrome_options = webdriver.ChromeOptions()\n# chrome_options.add_argument(&#39;--headless&#39;)\nbrowser = webdriver.Chrome(chrome_options=chrome_options)\n\n# browser = webdriver.Chrome()\nbrowser.set_window_size(1200, 700)\n# 显式等待 针对某个节点的等待\nwait = WebDriverWait(browser, 10)\n\n\ndef get_big_image():\n    browser.execute_script(&#39;window.scrollTo(0, 300)&#39;)\n    screenshot = browser.get_screenshot_as_png()\n    screenshot = Image.open(BytesIO(screenshot))\n    return screenshot\n\ndef get_captcha_position():\n    captcha = wait.until(EC.presence_of_element_located\n                         ((By.CSS_SELECTOR, &#39;#captchaImg&#39;)))\n    location = captcha.location\n    size = captcha.size\n    x1 = location[&#39;x&#39;]\n    y1 = location[&#39;y&#39;] - 130\n    width = size[&#39;width&#39;]\n    height = size[&#39;height&#39;]\n    x2 = x1 + width\n    y2 = y1 + height\n    print(x1, y1, x2, y2)\n    return (x1, y1, x2, y2)\n\ndef get_page():\n    url = &#39;https://login.10086.cn/html/login/login.html?channelID=12002&amp;backUrl=https%3A%2F%2Fshop.10086.cn%2Fmall_280_280.html%3Fforcelogin%3D1&#39;\n    browser.get(url)\n\n    button = wait.until(EC.element_to_be_clickable((By.CSS_SELECTOR, &#39;#mail_login_2&#39;)))\n    button.click()\n\n    username = &#39;1484815087@qq.com&#39;\n    password = &#39;518420..&#39;\n\n    input_username = wait.until(EC.presence_of_element_located\n                                ((By.CSS_SELECTOR, &#39;#e_name&#39;)))\n    input_password = wait.until(EC.presence_of_element_located\n                                ((By.CSS_SELECTOR, &#39;#e_pwd&#39;)))\n\n    input_username.clear()\n    input_username.send_keys(username)\n    input_password.clear()\n    input_password.send_keys(password)\n    time.sleep(3)\n\n    full_screen_img = get_big_image()\n    full_screen_img.save(&#39;mobile_login.png&#39;)\n\n    # 获取验证码左上角和右下角的坐标\n    x1, y1, x2, y2 = get_captcha_position()\n    captcha_img = full_screen_img.crop((x1, y1, x2, y2))\n    captcha_img.save(&#39;mobile_captcha.png&#39;)\n    captcha_str = main1(&#39;mobile_captcha.png&#39;)\n    print(captcha_str)\n\n    input_code = wait.until(EC.presence_of_element_located((By.CSS_SELECTOR, &#39;#inputCode&#39;)))\n    input_code.clear()\n    input_code.send_keys(captcha_str)\n\n    button = wait.until(EC.element_to_be_clickable((By.CSS_SELECTOR, &#39;#submit_bt&#39;)))\n    button.click()\n\n    # return html\n\ndef main():\n    html = get_page()\n    # parse_html(html)\n\n\nif __name__ == &#39;__main__&#39;:\n    main()\n\n</code></pre>\n<p>验证方式的平台</p>\n<pre><code class=\"python\">import requests\nfrom hashlib import md5\n\nclass Chaojiying_Client(object):\n\n    def __init__(self, username, password, soft_id):\n        self.username = username\n        password =  password.encode(&#39;utf8&#39;)\n        self.password = md5(password).hexdigest()\n        self.soft_id = soft_id\n        self.base_params = {\n            &#39;user&#39;: self.username,\n            &#39;pass2&#39;: self.password,\n            &#39;softid&#39;: self.soft_id,\n        }\n        self.headers = {\n            &#39;Connection&#39;: &#39;Keep-Alive&#39;,\n            &#39;User-Agent&#39;: &#39;Mozilla/4.0 (compatible; MSIE 8.0; Windows NT 5.1; Trident/4.0)&#39;,\n        }\n\n    def PostPic(self, im, codetype):\n        &quot;&quot;&quot;\n        im: 图片字节\n        codetype: 题目类型 参考 http://www.chaojiying.com/price.html\n        &quot;&quot;&quot;\n        params = {\n            &#39;codetype&#39;: codetype,\n        }\n        params.update(self.base_params)\n        files = {&#39;userfile&#39;: (&#39;ccc.jpg&#39;, im)}\n        r = requests.post(&#39;http://upload.chaojiying.net/Upload/Processing.php&#39;, data=params, files=files, headers=self.headers)\n        return r.json()\n\n    def ReportError(self, im_id):\n        &quot;&quot;&quot;\n        im_id:报错题目的图片ID\n        &quot;&quot;&quot;\n        params = {\n            &#39;id&#39;: im_id,\n        }\n        params.update(self.base_params)\n        r = requests.post(&#39;http://upload.chaojiying.net/Upload/ReportError.php&#39;, data=params, headers=self.headers)\n        return r.json()\n\ndef main1(urlstr):\n    chaojiying = Chaojiying_Client(&#39;carmack&#39;, &#39;Vff635241&#39;, &#39;96001&#39;) \n    im = open(urlstr, &#39;rb&#39;).read()                                                 \n    return chaojiying.PostPic(im, 1902)[&#39;pic_str&#39;]                                           \n\nif __name__ == &#39;__main__&#39;:\n    chaojiying = Chaojiying_Client(&#39;carmack&#39;, &#39;Vff635241&#39;, &#39;96001&#39;)    \n    im = open(&#39;CaptchaImg.png&#39;, &#39;rb&#39;).read()                                                    \n    print(chaojiying.PostPic(im, 1902))                                                \n\n\n</code></pre>\n<h3 id=\"滑动图片验证码\"><a href=\"#滑动图片验证码\" class=\"headerlink\" title=\"滑动图片验证码\"></a>滑动图片验证码</h3><p>step1. 模拟点击验证按钮</p>\n<p>step2. 识别滑动缺⼝位置<br>遍历没有缺⼝和有缺⼝的两张图⽚，找出相同位置像素差距超过指定值的像素点，即缺⼝位置<br>（⽬前极验已经改进了算法）</p>\n<p>step3. 模拟拖动滑块</p>\n<pre><code class=\"python\">import time\nfrom io import BytesIO\nfrom PIL import Image\nfrom selenium import webdriver\nfrom selenium.webdriver import ActionChains\nfrom selenium.webdriver.common.by import By\nfrom selenium.webdriver.support.ui import WebDriverWait\nfrom selenium.webdriver.support import expected_conditions as EC\n\nEMAIL = &#39;1963298993@qq.com&#39;\nPASSWORD = &#39;yicijiuhao0&#39;\nBORDER = 6\nINIT_LEFT = 60\n\n\nclass CrackBilibili():\n    def __init__(self):\n        self.url = &#39;https://passport.bilibili.com/login&#39;\n        self.browser = webdriver.Chrome()\n        self.wait = WebDriverWait(self.browser, 10)\n        self.email = EMAIL\n        self.password = PASSWORD\n\n    def __del__(self):\n        self.browser.close()\n\n    def get_geetest_button(self):\n        &quot;&quot;&quot;\n        获取初始验证按钮\n        :return:\n        &quot;&quot;&quot;\n        button = self.wait.until(EC.element_to_be_clickable((By.CSS_SELECTOR, &#39;.gt_slider_knob.gt_show&#39;)))\n        return button\n\n    def get_position(self):\n        &quot;&quot;&quot;\n        获取验证码位置\n        :return: 验证码位置元组\n        &quot;&quot;&quot;\n        img = self.wait.until(EC.presence_of_element_located((By.CSS_SELECTOR, &#39;.gt_cut_fullbg.gt_show&#39;)))\n        time.sleep(2)\n        location = img.location\n        size = img.size\n        top, bottom, left, right = location[&#39;y&#39;], location[&#39;y&#39;] + size[&#39;height&#39;], location[&#39;x&#39;], location[&#39;x&#39;] + size[\n            &#39;width&#39;]\n        return (top, bottom, left, right)\n\n    def get_screenshot(self):\n        &quot;&quot;&quot;\n        获取网页截图\n        :return: 截图对象\n        &quot;&quot;&quot;\n        screenshot = self.browser.get_screenshot_as_png()\n        screenshot = Image.open(BytesIO(screenshot))\n        return screenshot\n\n    def get_slider(self):\n        &quot;&quot;&quot;\n        获取滑块\n        :return: 滑块对象\n        &quot;&quot;&quot;\n        slider = self.wait.until(EC.element_to_be_clickable((By.CSS_SELECTOR, &#39;.gt_slider_knob.gt_show&#39;)))\n        return slider\n\n    def get_geetest_image(self, name=&#39;captcha.png&#39;):\n        &quot;&quot;&quot;\n        获取验证码图片\n        :return: 图片对象\n        &quot;&quot;&quot;\n        top, bottom, left, right = self.get_position()\n        print(&#39;验证码位置&#39;, top, bottom, left, right)\n        screenshot = self.get_screenshot()\n        captcha = screenshot.crop((left, top, right, bottom))\n        captcha.save(name)\n        return captcha\n\n    def open(self):\n        &quot;&quot;&quot;\n        打开网页输入用户名密码\n        :return: None\n        &quot;&quot;&quot;\n        self.browser.get(self.url)\n        email = self.wait.until(EC.presence_of_element_located((By.ID, &#39;login-username&#39;)))\n        password = self.wait.until(EC.presence_of_element_located((By.ID, &#39;login-passwd&#39;)))\n        email.clear()\n        password.clear()\n        email.send_keys(self.email)\n        password.send_keys(self.password)\n\n    def get_gap(self, image1, image2):\n        &quot;&quot;&quot;\n        获取缺口偏移量\n        :param image1: 不带缺口图片\n        :param image2: 带缺口图片\n        :return:\n        &quot;&quot;&quot;\n        left = 60\n        print(&#39;******大小*****&#39;)\n        print(image1.size)\n        for i in range(left, image1.size[0]):\n            for j in range(image1.size[1]):\n                if not self.is_pixel_equal(image1, image2, i, j):\n                    left = i\n                    return left\n        return left\n\n    def is_pixel_equal(self, image1, image2, x, y):\n        &quot;&quot;&quot;\n        判断两个像素是否相同\n        :param image1: 图片1\n        :param image2: 图片2\n        :param x: 位置x\n        :param y: 位置y\n        :return: 像素是否相同\n        &quot;&quot;&quot;\n        # 取两个图片的像素点\n        pixel1 = image1.load()[x, y]\n        pixel2 = image2.load()[x, y]\n        threshold = 60\n        if abs(pixel1[0] - pixel2[0]) &lt; threshold and abs(pixel1[1] - pixel2[1]) &lt; threshold and abs(\n                pixel1[2] - pixel2[2]) &lt; threshold:\n            return True\n        else:\n            return False\n\n    def get_track(self, distance):\n        &quot;&quot;&quot;\n        根据偏移量获取移动轨迹\n        :param distance: 偏移量\n        :return: 移动轨迹\n        &quot;&quot;&quot;\n        # 移动轨迹\n        track = []\n        # 当前位移\n        current = 0\n        # 减速阈值\n        mid = distance * 3 / 5\n        # 计算间隔\n        t = 0.5\n        # 初速度\n        v = 0\n\n        while current &lt; distance:\n            if current &lt; mid:\n                # 加速度为正2\n                a = 2\n            else:\n                # 加速度为负3\n                a = -3\n            # 初速度v0\n            v0 = v\n            # 当前速度v = v0 + at\n            v = v0 + a * t\n            # 移动距离x = v0t + 1/2 * a * t^2\n            move = v0 * t + 1 / 2 * a * t * t\n            # 当前位移\n            current += move\n            # 加入轨迹\n            track.append(round(move))\n        return track\n\n    def move_to_gap(self, slider, track):\n        &quot;&quot;&quot;\n        拖动滑块到缺口处\n        :param slider: 滑块\n        :param track: 轨迹\n        :return:\n        &quot;&quot;&quot;\n        ActionChains(self.browser).click_and_hold(slider).perform()\n        for x in track:\n            ActionChains(self.browser).move_by_offset(xoffset=x, yoffset=0).perform()\n        time.sleep(0.5)\n        ActionChains(self.browser).release().perform()\n\n    def login(self):\n        &quot;&quot;&quot;\n        登录\n        :return: None\n        &quot;&quot;&quot;\n        submit = self.wait.until(EC.element_to_be_clickable((By.CLASS_NAME, &#39;login-btn&#39;)))\n        submit.click()\n        time.sleep(10)\n        print(&#39;登录成功&#39;)\n\n    def crack(self):\n        # 输入用户名密码\n        self.open()\n        # 点击验证按钮\n        button = self.get_geetest_button()\n        print(button)\n        time.sleep(2)\n        ActionChains(self.browser).move_to_element(button).perform()\n        time.sleep(2)\n        # # 获取验证码图片(没有缺口的图)\n        image1 = self.get_geetest_image(&#39;captcha1.png&#39;)\n        # 点按呼出缺口\n        slider = self.get_slider()\n        slider.click()\n        time.sleep(2)\n        # 获取带缺口的验证码图片\n        image2 = self.get_geetest_image(&#39;captcha2.png&#39;)\n        # 获取缺口位置\n        gap = self.get_gap(image1, image2)\n        print(&#39;缺口位置&#39;, gap)\n        # 减去缺口位移\n        gap -= BORDER\n        # 获取移动轨迹\n        track = self.get_track(gap)\n        print(&#39;滑动轨迹&#39;, track)\n        # 拖动滑块\n        self.move_to_gap(slider, track)\n\n        # 验证结点里面是否包含此文字\n        success = self.wait.until(\n            EC.text_to_be_present_in_element((By.CLASS_NAME, &#39;gt_info_type&#39;), &#39;验证通过&#39;))\n        print(success)\n        time.sleep(5)\n        # 失败后重试\n        if not success:\n            self.crack()\n        # else:\n        #     self.login()\n\n\nif __name__ == &#39;__main__&#39;:\n    crack = CrackBilibili()\n    crack.crack()\n\n</code></pre>\n"},{"title":"practice——jd","date":"2018-05-11T07:15:06.000Z","author":"smile","img":"/images/LoL.jpg","_content":"\n数据库字段创建\n```python\ncreate database jddb default character set=utf8;\n\nuse jddb;\n\ncreate table jd (\n    id integer auto_increment primary key,\n    title varchar(128),\n    img_src varchar(1024),\n    price varchar(128),\n    shop varchar(128),\n    commit_num varchar(100)\n);\n```\n\n模型设置\n```python\nfrom sqlalchemy.ext.declarative import declarative_base\nfrom sqlalchemy import Column, Integer, String\nfrom sqlalchemy import create_engine\n\nengine = create_engine(\"mysql+pymysql://root:123456@127.0.0.1:3306/jd_db?charset=utf8\", max_overflow=5,encoding='utf-8')\nBase = declarative_base()\n\nclass JdProduct(Base):\n    __tablename__ = 'jd'\n    id = Column(Integer, primary_key=True, autoincrement=True)    #主键，自增\n    title = Column(String(128))\n    img_src = Column(String(1024))\n    price = Column(String(128))\n    shop = Column(String(128))\n    commit_num = Column(String(100))\n\n```\n\n运行程序\n```python\nimport time\nfrom lxml import etree\nfrom selenium import webdriver\nfrom selenium.webdriver.common.by import By\nfrom selenium.webdriver.support.ui import WebDriverWait\nfrom selenium.webdriver.support import expected_conditions as EC\nfrom sqlalchemy import create_engine\nfrom sqlalchemy.orm import sessionmaker\nfrom jd_model import JdProduct\n\n\nengine = create_engine(\"mysql+pymysql://root:123456@127.0.0.1/jddb?charset=utf8\", max_overflow=5)\nsession_maker = sessionmaker(bind=engine)\nsession = session_maker()\n\n\n# 打开一个浏览器\nbrowser = webdriver.Chrome()\nwait = WebDriverWait(browser, 5)\n\ndef get_page(page):\n    if page == 1:\n        url = \"http://www.jd.com\"\n        # 访问网址\n        browser.get(url)\n        # 注意下面的presence_of_element_located，容易出错\n        input = wait.until(EC.presence_of_element_located((By.CSS_SELECTOR, '#key')))\n        input.clear()\n        input.send_keys('围巾女')\n        button = wait.until(EC.element_to_be_clickable((By.CSS_SELECTOR, '#search button.button')))\n        button.click()\n\n        time.sleep(3)\n\n    # 滑动到页面底部,滑动指定次数\n    # for i in range(16):\n    #     i = i + 1\n    #     str_js = 'var scrollHeight = document.body.scrollHeight / 16;window.scrollTo(0, scrollHeight * (%d));' % i\n    #     browser.execute_script(str_js)\n    #     time.sleep(1)\n\n    str_js = 'var scrollHeight = document.body.scrollHeight;window.scrollTo(0, scrollHeight);'\n    browser.execute_script(str_js)\n\n    # 反向滑动\n    for i in range(16, 0, -1):\n        str_js = 'var scrollHeight = document.body.scrollHeight / 16;window.scrollTo(0, scrollHeight * (%d));' % i\n        browser.execute_script(str_js)\n        time.sleep(5)\n\n    # 保存当前页面的内容\n    page_source = browser.page_source\n\n    # 下一页\n    # 滚动到页码部分\n    input = browser.find_element_by_css_selector('#J_bottomPage input.input-txt')\n\n    str_js = 'var scrollHeight = document.body.scrollHeight;window.scrollTo(0, %d);' % (input.location['y'] - 50)\n    browser.execute_script(str_js)\n    time.sleep(3)\n\n    input = wait.until(EC.presence_of_element_located((By.CSS_SELECTOR, '#J_bottomPage input.input-txt')))\n    input.clear()\n    input.send_keys(page + 1)\n\n    # 点击下一页\n    submit = wait.until(\n        EC.element_to_be_clickable((By.CSS_SELECTOR, '#J_bottomPage .btn-default'))\n    )\n    submit.click()\n    time.sleep(3)\n\n    return page_source\n\ndef parse_page(html):\n    ehtml = etree.HTML(html)\n    gl_items = ehtml.xpath('//div[@id=\"J_goodsList\"]//li[@class=\"gl-item\"]')\n    print(len(gl_items))\n    for gl_item in gl_items:\n        jd = JdProduct()\n        img_src = ''.join(gl_item.xpath('.//div[@class=\"p-img\"]/a/img/@src'))\n        title =  ''.join(gl_item.xpath('.//div[@class=\"p-name p-name-type-2\"]//em//text()'))\n        price = gl_item.xpath('.//div[@class=\"p-price\"]//strong/i/text()')\n        shop = gl_item.xpath('.//div[@class=\"p-shop\"]//span/a/text()')\n        commit_num = gl_item.xpath('.//div[@class=\"p-commit\"]//strong/a//text()')\n        jd.title = title\n        jd.img_src = img_src\n        jd.price = price\n        jd.shop = shop\n        jd.commit_num = commit_num\n        try:\n            session.add(jd)\n            session.commit()\n        except Exception as e:\n            pass\n\ndef main():\n    for page in range(100):\n        page = page + 1\n        print(page)\n        html = get_page(page)\n        parse_page(html)\n\nif __name__ == '__main__':\n    main()\n\n```","source":"_posts/spider/jd.md","raw":"---\ntitle: practice——jd\ndate: 2018-05-11 15:15:06\nauthor: smile\nimg: /images/LoL.jpg\ncategories: spider\ntags: \n  - sqlalchemy\n---\n\n数据库字段创建\n```python\ncreate database jddb default character set=utf8;\n\nuse jddb;\n\ncreate table jd (\n    id integer auto_increment primary key,\n    title varchar(128),\n    img_src varchar(1024),\n    price varchar(128),\n    shop varchar(128),\n    commit_num varchar(100)\n);\n```\n\n模型设置\n```python\nfrom sqlalchemy.ext.declarative import declarative_base\nfrom sqlalchemy import Column, Integer, String\nfrom sqlalchemy import create_engine\n\nengine = create_engine(\"mysql+pymysql://root:123456@127.0.0.1:3306/jd_db?charset=utf8\", max_overflow=5,encoding='utf-8')\nBase = declarative_base()\n\nclass JdProduct(Base):\n    __tablename__ = 'jd'\n    id = Column(Integer, primary_key=True, autoincrement=True)    #主键，自增\n    title = Column(String(128))\n    img_src = Column(String(1024))\n    price = Column(String(128))\n    shop = Column(String(128))\n    commit_num = Column(String(100))\n\n```\n\n运行程序\n```python\nimport time\nfrom lxml import etree\nfrom selenium import webdriver\nfrom selenium.webdriver.common.by import By\nfrom selenium.webdriver.support.ui import WebDriverWait\nfrom selenium.webdriver.support import expected_conditions as EC\nfrom sqlalchemy import create_engine\nfrom sqlalchemy.orm import sessionmaker\nfrom jd_model import JdProduct\n\n\nengine = create_engine(\"mysql+pymysql://root:123456@127.0.0.1/jddb?charset=utf8\", max_overflow=5)\nsession_maker = sessionmaker(bind=engine)\nsession = session_maker()\n\n\n# 打开一个浏览器\nbrowser = webdriver.Chrome()\nwait = WebDriverWait(browser, 5)\n\ndef get_page(page):\n    if page == 1:\n        url = \"http://www.jd.com\"\n        # 访问网址\n        browser.get(url)\n        # 注意下面的presence_of_element_located，容易出错\n        input = wait.until(EC.presence_of_element_located((By.CSS_SELECTOR, '#key')))\n        input.clear()\n        input.send_keys('围巾女')\n        button = wait.until(EC.element_to_be_clickable((By.CSS_SELECTOR, '#search button.button')))\n        button.click()\n\n        time.sleep(3)\n\n    # 滑动到页面底部,滑动指定次数\n    # for i in range(16):\n    #     i = i + 1\n    #     str_js = 'var scrollHeight = document.body.scrollHeight / 16;window.scrollTo(0, scrollHeight * (%d));' % i\n    #     browser.execute_script(str_js)\n    #     time.sleep(1)\n\n    str_js = 'var scrollHeight = document.body.scrollHeight;window.scrollTo(0, scrollHeight);'\n    browser.execute_script(str_js)\n\n    # 反向滑动\n    for i in range(16, 0, -1):\n        str_js = 'var scrollHeight = document.body.scrollHeight / 16;window.scrollTo(0, scrollHeight * (%d));' % i\n        browser.execute_script(str_js)\n        time.sleep(5)\n\n    # 保存当前页面的内容\n    page_source = browser.page_source\n\n    # 下一页\n    # 滚动到页码部分\n    input = browser.find_element_by_css_selector('#J_bottomPage input.input-txt')\n\n    str_js = 'var scrollHeight = document.body.scrollHeight;window.scrollTo(0, %d);' % (input.location['y'] - 50)\n    browser.execute_script(str_js)\n    time.sleep(3)\n\n    input = wait.until(EC.presence_of_element_located((By.CSS_SELECTOR, '#J_bottomPage input.input-txt')))\n    input.clear()\n    input.send_keys(page + 1)\n\n    # 点击下一页\n    submit = wait.until(\n        EC.element_to_be_clickable((By.CSS_SELECTOR, '#J_bottomPage .btn-default'))\n    )\n    submit.click()\n    time.sleep(3)\n\n    return page_source\n\ndef parse_page(html):\n    ehtml = etree.HTML(html)\n    gl_items = ehtml.xpath('//div[@id=\"J_goodsList\"]//li[@class=\"gl-item\"]')\n    print(len(gl_items))\n    for gl_item in gl_items:\n        jd = JdProduct()\n        img_src = ''.join(gl_item.xpath('.//div[@class=\"p-img\"]/a/img/@src'))\n        title =  ''.join(gl_item.xpath('.//div[@class=\"p-name p-name-type-2\"]//em//text()'))\n        price = gl_item.xpath('.//div[@class=\"p-price\"]//strong/i/text()')\n        shop = gl_item.xpath('.//div[@class=\"p-shop\"]//span/a/text()')\n        commit_num = gl_item.xpath('.//div[@class=\"p-commit\"]//strong/a//text()')\n        jd.title = title\n        jd.img_src = img_src\n        jd.price = price\n        jd.shop = shop\n        jd.commit_num = commit_num\n        try:\n            session.add(jd)\n            session.commit()\n        except Exception as e:\n            pass\n\ndef main():\n    for page in range(100):\n        page = page + 1\n        print(page)\n        html = get_page(page)\n        parse_page(html)\n\nif __name__ == '__main__':\n    main()\n\n```","slug":"spider/jd","published":1,"updated":"2019-03-14T01:47:26.534Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjt87kqlm002sr8r6sndswizf","content":"<p>数据库字段创建</p>\n<pre class=\" language-python\"><code class=\"language-python\">create database jddb default character set<span class=\"token operator\">=</span>utf8<span class=\"token punctuation\">;</span>\n\nuse jddb<span class=\"token punctuation\">;</span>\n\ncreate table jd <span class=\"token punctuation\">(</span>\n    id integer auto_increment primary key<span class=\"token punctuation\">,</span>\n    title varchar<span class=\"token punctuation\">(</span><span class=\"token number\">128</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n    img_src varchar<span class=\"token punctuation\">(</span><span class=\"token number\">1024</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n    price varchar<span class=\"token punctuation\">(</span><span class=\"token number\">128</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n    shop varchar<span class=\"token punctuation\">(</span><span class=\"token number\">128</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n    commit_num varchar<span class=\"token punctuation\">(</span><span class=\"token number\">100</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n</code></pre>\n<p>模型设置</p>\n<pre class=\" language-python\"><code class=\"language-python\"><span class=\"token keyword\">from</span> sqlalchemy<span class=\"token punctuation\">.</span>ext<span class=\"token punctuation\">.</span>declarative <span class=\"token keyword\">import</span> declarative_base\n<span class=\"token keyword\">from</span> sqlalchemy <span class=\"token keyword\">import</span> Column<span class=\"token punctuation\">,</span> Integer<span class=\"token punctuation\">,</span> String\n<span class=\"token keyword\">from</span> sqlalchemy <span class=\"token keyword\">import</span> create_engine\n\nengine <span class=\"token operator\">=</span> create_engine<span class=\"token punctuation\">(</span><span class=\"token string\">\"mysql+pymysql://root:123456@127.0.0.1:3306/jd_db?charset=utf8\"</span><span class=\"token punctuation\">,</span> max_overflow<span class=\"token operator\">=</span><span class=\"token number\">5</span><span class=\"token punctuation\">,</span>encoding<span class=\"token operator\">=</span><span class=\"token string\">'utf-8'</span><span class=\"token punctuation\">)</span>\nBase <span class=\"token operator\">=</span> declarative_base<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token keyword\">class</span> <span class=\"token class-name\">JdProduct</span><span class=\"token punctuation\">(</span>Base<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    __tablename__ <span class=\"token operator\">=</span> <span class=\"token string\">'jd'</span>\n    id <span class=\"token operator\">=</span> Column<span class=\"token punctuation\">(</span>Integer<span class=\"token punctuation\">,</span> primary_key<span class=\"token operator\">=</span><span class=\"token boolean\">True</span><span class=\"token punctuation\">,</span> autoincrement<span class=\"token operator\">=</span><span class=\"token boolean\">True</span><span class=\"token punctuation\">)</span>    <span class=\"token comment\" spellcheck=\"true\">#主键，自增</span>\n    title <span class=\"token operator\">=</span> Column<span class=\"token punctuation\">(</span>String<span class=\"token punctuation\">(</span><span class=\"token number\">128</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n    img_src <span class=\"token operator\">=</span> Column<span class=\"token punctuation\">(</span>String<span class=\"token punctuation\">(</span><span class=\"token number\">1024</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n    price <span class=\"token operator\">=</span> Column<span class=\"token punctuation\">(</span>String<span class=\"token punctuation\">(</span><span class=\"token number\">128</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n    shop <span class=\"token operator\">=</span> Column<span class=\"token punctuation\">(</span>String<span class=\"token punctuation\">(</span><span class=\"token number\">128</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n    commit_num <span class=\"token operator\">=</span> Column<span class=\"token punctuation\">(</span>String<span class=\"token punctuation\">(</span><span class=\"token number\">100</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n\n</code></pre>\n<p>运行程序</p>\n<pre class=\" language-python\"><code class=\"language-python\"><span class=\"token keyword\">import</span> time\n<span class=\"token keyword\">from</span> lxml <span class=\"token keyword\">import</span> etree\n<span class=\"token keyword\">from</span> selenium <span class=\"token keyword\">import</span> webdriver\n<span class=\"token keyword\">from</span> selenium<span class=\"token punctuation\">.</span>webdriver<span class=\"token punctuation\">.</span>common<span class=\"token punctuation\">.</span>by <span class=\"token keyword\">import</span> By\n<span class=\"token keyword\">from</span> selenium<span class=\"token punctuation\">.</span>webdriver<span class=\"token punctuation\">.</span>support<span class=\"token punctuation\">.</span>ui <span class=\"token keyword\">import</span> WebDriverWait\n<span class=\"token keyword\">from</span> selenium<span class=\"token punctuation\">.</span>webdriver<span class=\"token punctuation\">.</span>support <span class=\"token keyword\">import</span> expected_conditions <span class=\"token keyword\">as</span> EC\n<span class=\"token keyword\">from</span> sqlalchemy <span class=\"token keyword\">import</span> create_engine\n<span class=\"token keyword\">from</span> sqlalchemy<span class=\"token punctuation\">.</span>orm <span class=\"token keyword\">import</span> sessionmaker\n<span class=\"token keyword\">from</span> jd_model <span class=\"token keyword\">import</span> JdProduct\n\n\nengine <span class=\"token operator\">=</span> create_engine<span class=\"token punctuation\">(</span><span class=\"token string\">\"mysql+pymysql://root:123456@127.0.0.1/jddb?charset=utf8\"</span><span class=\"token punctuation\">,</span> max_overflow<span class=\"token operator\">=</span><span class=\"token number\">5</span><span class=\"token punctuation\">)</span>\nsession_maker <span class=\"token operator\">=</span> sessionmaker<span class=\"token punctuation\">(</span>bind<span class=\"token operator\">=</span>engine<span class=\"token punctuation\">)</span>\nsession <span class=\"token operator\">=</span> session_maker<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n\n\n<span class=\"token comment\" spellcheck=\"true\"># 打开一个浏览器</span>\nbrowser <span class=\"token operator\">=</span> webdriver<span class=\"token punctuation\">.</span>Chrome<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\nwait <span class=\"token operator\">=</span> WebDriverWait<span class=\"token punctuation\">(</span>browser<span class=\"token punctuation\">,</span> <span class=\"token number\">5</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token keyword\">def</span> <span class=\"token function\">get_page</span><span class=\"token punctuation\">(</span>page<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    <span class=\"token keyword\">if</span> page <span class=\"token operator\">==</span> <span class=\"token number\">1</span><span class=\"token punctuation\">:</span>\n        url <span class=\"token operator\">=</span> <span class=\"token string\">\"http://www.jd.com\"</span>\n        <span class=\"token comment\" spellcheck=\"true\"># 访问网址</span>\n        browser<span class=\"token punctuation\">.</span>get<span class=\"token punctuation\">(</span>url<span class=\"token punctuation\">)</span>\n        <span class=\"token comment\" spellcheck=\"true\"># 注意下面的presence_of_element_located，容易出错</span>\n        input <span class=\"token operator\">=</span> wait<span class=\"token punctuation\">.</span>until<span class=\"token punctuation\">(</span>EC<span class=\"token punctuation\">.</span>presence_of_element_located<span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span>By<span class=\"token punctuation\">.</span>CSS_SELECTOR<span class=\"token punctuation\">,</span> <span class=\"token string\">'#key'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n        input<span class=\"token punctuation\">.</span>clear<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n        input<span class=\"token punctuation\">.</span>send_keys<span class=\"token punctuation\">(</span><span class=\"token string\">'围巾女'</span><span class=\"token punctuation\">)</span>\n        button <span class=\"token operator\">=</span> wait<span class=\"token punctuation\">.</span>until<span class=\"token punctuation\">(</span>EC<span class=\"token punctuation\">.</span>element_to_be_clickable<span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span>By<span class=\"token punctuation\">.</span>CSS_SELECTOR<span class=\"token punctuation\">,</span> <span class=\"token string\">'#search button.button'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n        button<span class=\"token punctuation\">.</span>click<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n\n        time<span class=\"token punctuation\">.</span>sleep<span class=\"token punctuation\">(</span><span class=\"token number\">3</span><span class=\"token punctuation\">)</span>\n\n    <span class=\"token comment\" spellcheck=\"true\"># 滑动到页面底部,滑动指定次数</span>\n    <span class=\"token comment\" spellcheck=\"true\"># for i in range(16):</span>\n    <span class=\"token comment\" spellcheck=\"true\">#     i = i + 1</span>\n    <span class=\"token comment\" spellcheck=\"true\">#     str_js = 'var scrollHeight = document.body.scrollHeight / 16;window.scrollTo(0, scrollHeight * (%d));' % i</span>\n    <span class=\"token comment\" spellcheck=\"true\">#     browser.execute_script(str_js)</span>\n    <span class=\"token comment\" spellcheck=\"true\">#     time.sleep(1)</span>\n\n    str_js <span class=\"token operator\">=</span> <span class=\"token string\">'var scrollHeight = document.body.scrollHeight;window.scrollTo(0, scrollHeight);'</span>\n    browser<span class=\"token punctuation\">.</span>execute_script<span class=\"token punctuation\">(</span>str_js<span class=\"token punctuation\">)</span>\n\n    <span class=\"token comment\" spellcheck=\"true\"># 反向滑动</span>\n    <span class=\"token keyword\">for</span> i <span class=\"token keyword\">in</span> range<span class=\"token punctuation\">(</span><span class=\"token number\">16</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n        str_js <span class=\"token operator\">=</span> <span class=\"token string\">'var scrollHeight = document.body.scrollHeight / 16;window.scrollTo(0, scrollHeight * (%d));'</span> <span class=\"token operator\">%</span> i\n        browser<span class=\"token punctuation\">.</span>execute_script<span class=\"token punctuation\">(</span>str_js<span class=\"token punctuation\">)</span>\n        time<span class=\"token punctuation\">.</span>sleep<span class=\"token punctuation\">(</span><span class=\"token number\">5</span><span class=\"token punctuation\">)</span>\n\n    <span class=\"token comment\" spellcheck=\"true\"># 保存当前页面的内容</span>\n    page_source <span class=\"token operator\">=</span> browser<span class=\"token punctuation\">.</span>page_source\n\n    <span class=\"token comment\" spellcheck=\"true\"># 下一页</span>\n    <span class=\"token comment\" spellcheck=\"true\"># 滚动到页码部分</span>\n    input <span class=\"token operator\">=</span> browser<span class=\"token punctuation\">.</span>find_element_by_css_selector<span class=\"token punctuation\">(</span><span class=\"token string\">'#J_bottomPage input.input-txt'</span><span class=\"token punctuation\">)</span>\n\n    str_js <span class=\"token operator\">=</span> <span class=\"token string\">'var scrollHeight = document.body.scrollHeight;window.scrollTo(0, %d);'</span> <span class=\"token operator\">%</span> <span class=\"token punctuation\">(</span>input<span class=\"token punctuation\">.</span>location<span class=\"token punctuation\">[</span><span class=\"token string\">'y'</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">-</span> <span class=\"token number\">50</span><span class=\"token punctuation\">)</span>\n    browser<span class=\"token punctuation\">.</span>execute_script<span class=\"token punctuation\">(</span>str_js<span class=\"token punctuation\">)</span>\n    time<span class=\"token punctuation\">.</span>sleep<span class=\"token punctuation\">(</span><span class=\"token number\">3</span><span class=\"token punctuation\">)</span>\n\n    input <span class=\"token operator\">=</span> wait<span class=\"token punctuation\">.</span>until<span class=\"token punctuation\">(</span>EC<span class=\"token punctuation\">.</span>presence_of_element_located<span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span>By<span class=\"token punctuation\">.</span>CSS_SELECTOR<span class=\"token punctuation\">,</span> <span class=\"token string\">'#J_bottomPage input.input-txt'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n    input<span class=\"token punctuation\">.</span>clear<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    input<span class=\"token punctuation\">.</span>send_keys<span class=\"token punctuation\">(</span>page <span class=\"token operator\">+</span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span>\n\n    <span class=\"token comment\" spellcheck=\"true\"># 点击下一页</span>\n    submit <span class=\"token operator\">=</span> wait<span class=\"token punctuation\">.</span>until<span class=\"token punctuation\">(</span>\n        EC<span class=\"token punctuation\">.</span>element_to_be_clickable<span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span>By<span class=\"token punctuation\">.</span>CSS_SELECTOR<span class=\"token punctuation\">,</span> <span class=\"token string\">'#J_bottomPage .btn-default'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">)</span>\n    submit<span class=\"token punctuation\">.</span>click<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    time<span class=\"token punctuation\">.</span>sleep<span class=\"token punctuation\">(</span><span class=\"token number\">3</span><span class=\"token punctuation\">)</span>\n\n    <span class=\"token keyword\">return</span> page_source\n\n<span class=\"token keyword\">def</span> <span class=\"token function\">parse_page</span><span class=\"token punctuation\">(</span>html<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    ehtml <span class=\"token operator\">=</span> etree<span class=\"token punctuation\">.</span>HTML<span class=\"token punctuation\">(</span>html<span class=\"token punctuation\">)</span>\n    gl_items <span class=\"token operator\">=</span> ehtml<span class=\"token punctuation\">.</span>xpath<span class=\"token punctuation\">(</span><span class=\"token string\">'//div[@id=\"J_goodsList\"]//li[@class=\"gl-item\"]'</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>len<span class=\"token punctuation\">(</span>gl_items<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">for</span> gl_item <span class=\"token keyword\">in</span> gl_items<span class=\"token punctuation\">:</span>\n        jd <span class=\"token operator\">=</span> JdProduct<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n        img_src <span class=\"token operator\">=</span> <span class=\"token string\">''</span><span class=\"token punctuation\">.</span>join<span class=\"token punctuation\">(</span>gl_item<span class=\"token punctuation\">.</span>xpath<span class=\"token punctuation\">(</span><span class=\"token string\">'.//div[@class=\"p-img\"]/a/img/@src'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n        title <span class=\"token operator\">=</span>  <span class=\"token string\">''</span><span class=\"token punctuation\">.</span>join<span class=\"token punctuation\">(</span>gl_item<span class=\"token punctuation\">.</span>xpath<span class=\"token punctuation\">(</span><span class=\"token string\">'.//div[@class=\"p-name p-name-type-2\"]//em//text()'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n        price <span class=\"token operator\">=</span> gl_item<span class=\"token punctuation\">.</span>xpath<span class=\"token punctuation\">(</span><span class=\"token string\">'.//div[@class=\"p-price\"]//strong/i/text()'</span><span class=\"token punctuation\">)</span>\n        shop <span class=\"token operator\">=</span> gl_item<span class=\"token punctuation\">.</span>xpath<span class=\"token punctuation\">(</span><span class=\"token string\">'.//div[@class=\"p-shop\"]//span/a/text()'</span><span class=\"token punctuation\">)</span>\n        commit_num <span class=\"token operator\">=</span> gl_item<span class=\"token punctuation\">.</span>xpath<span class=\"token punctuation\">(</span><span class=\"token string\">'.//div[@class=\"p-commit\"]//strong/a//text()'</span><span class=\"token punctuation\">)</span>\n        jd<span class=\"token punctuation\">.</span>title <span class=\"token operator\">=</span> title\n        jd<span class=\"token punctuation\">.</span>img_src <span class=\"token operator\">=</span> img_src\n        jd<span class=\"token punctuation\">.</span>price <span class=\"token operator\">=</span> price\n        jd<span class=\"token punctuation\">.</span>shop <span class=\"token operator\">=</span> shop\n        jd<span class=\"token punctuation\">.</span>commit_num <span class=\"token operator\">=</span> commit_num\n        <span class=\"token keyword\">try</span><span class=\"token punctuation\">:</span>\n            session<span class=\"token punctuation\">.</span>add<span class=\"token punctuation\">(</span>jd<span class=\"token punctuation\">)</span>\n            session<span class=\"token punctuation\">.</span>commit<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n        <span class=\"token keyword\">except</span> Exception <span class=\"token keyword\">as</span> e<span class=\"token punctuation\">:</span>\n            <span class=\"token keyword\">pass</span>\n\n<span class=\"token keyword\">def</span> <span class=\"token function\">main</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    <span class=\"token keyword\">for</span> page <span class=\"token keyword\">in</span> range<span class=\"token punctuation\">(</span><span class=\"token number\">100</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n        page <span class=\"token operator\">=</span> page <span class=\"token operator\">+</span> <span class=\"token number\">1</span>\n        <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>page<span class=\"token punctuation\">)</span>\n        html <span class=\"token operator\">=</span> get_page<span class=\"token punctuation\">(</span>page<span class=\"token punctuation\">)</span>\n        parse_page<span class=\"token punctuation\">(</span>html<span class=\"token punctuation\">)</span>\n\n<span class=\"token keyword\">if</span> __name__ <span class=\"token operator\">==</span> <span class=\"token string\">'__main__'</span><span class=\"token punctuation\">:</span>\n    main<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n\n</code></pre>\n","site":{"data":{}},"excerpt":"","more":"<p>数据库字段创建</p>\n<pre><code class=\"python\">create database jddb default character set=utf8;\n\nuse jddb;\n\ncreate table jd (\n    id integer auto_increment primary key,\n    title varchar(128),\n    img_src varchar(1024),\n    price varchar(128),\n    shop varchar(128),\n    commit_num varchar(100)\n);\n</code></pre>\n<p>模型设置</p>\n<pre><code class=\"python\">from sqlalchemy.ext.declarative import declarative_base\nfrom sqlalchemy import Column, Integer, String\nfrom sqlalchemy import create_engine\n\nengine = create_engine(&quot;mysql+pymysql://root:123456@127.0.0.1:3306/jd_db?charset=utf8&quot;, max_overflow=5,encoding=&#39;utf-8&#39;)\nBase = declarative_base()\n\nclass JdProduct(Base):\n    __tablename__ = &#39;jd&#39;\n    id = Column(Integer, primary_key=True, autoincrement=True)    #主键，自增\n    title = Column(String(128))\n    img_src = Column(String(1024))\n    price = Column(String(128))\n    shop = Column(String(128))\n    commit_num = Column(String(100))\n\n</code></pre>\n<p>运行程序</p>\n<pre><code class=\"python\">import time\nfrom lxml import etree\nfrom selenium import webdriver\nfrom selenium.webdriver.common.by import By\nfrom selenium.webdriver.support.ui import WebDriverWait\nfrom selenium.webdriver.support import expected_conditions as EC\nfrom sqlalchemy import create_engine\nfrom sqlalchemy.orm import sessionmaker\nfrom jd_model import JdProduct\n\n\nengine = create_engine(&quot;mysql+pymysql://root:123456@127.0.0.1/jddb?charset=utf8&quot;, max_overflow=5)\nsession_maker = sessionmaker(bind=engine)\nsession = session_maker()\n\n\n# 打开一个浏览器\nbrowser = webdriver.Chrome()\nwait = WebDriverWait(browser, 5)\n\ndef get_page(page):\n    if page == 1:\n        url = &quot;http://www.jd.com&quot;\n        # 访问网址\n        browser.get(url)\n        # 注意下面的presence_of_element_located，容易出错\n        input = wait.until(EC.presence_of_element_located((By.CSS_SELECTOR, &#39;#key&#39;)))\n        input.clear()\n        input.send_keys(&#39;围巾女&#39;)\n        button = wait.until(EC.element_to_be_clickable((By.CSS_SELECTOR, &#39;#search button.button&#39;)))\n        button.click()\n\n        time.sleep(3)\n\n    # 滑动到页面底部,滑动指定次数\n    # for i in range(16):\n    #     i = i + 1\n    #     str_js = &#39;var scrollHeight = document.body.scrollHeight / 16;window.scrollTo(0, scrollHeight * (%d));&#39; % i\n    #     browser.execute_script(str_js)\n    #     time.sleep(1)\n\n    str_js = &#39;var scrollHeight = document.body.scrollHeight;window.scrollTo(0, scrollHeight);&#39;\n    browser.execute_script(str_js)\n\n    # 反向滑动\n    for i in range(16, 0, -1):\n        str_js = &#39;var scrollHeight = document.body.scrollHeight / 16;window.scrollTo(0, scrollHeight * (%d));&#39; % i\n        browser.execute_script(str_js)\n        time.sleep(5)\n\n    # 保存当前页面的内容\n    page_source = browser.page_source\n\n    # 下一页\n    # 滚动到页码部分\n    input = browser.find_element_by_css_selector(&#39;#J_bottomPage input.input-txt&#39;)\n\n    str_js = &#39;var scrollHeight = document.body.scrollHeight;window.scrollTo(0, %d);&#39; % (input.location[&#39;y&#39;] - 50)\n    browser.execute_script(str_js)\n    time.sleep(3)\n\n    input = wait.until(EC.presence_of_element_located((By.CSS_SELECTOR, &#39;#J_bottomPage input.input-txt&#39;)))\n    input.clear()\n    input.send_keys(page + 1)\n\n    # 点击下一页\n    submit = wait.until(\n        EC.element_to_be_clickable((By.CSS_SELECTOR, &#39;#J_bottomPage .btn-default&#39;))\n    )\n    submit.click()\n    time.sleep(3)\n\n    return page_source\n\ndef parse_page(html):\n    ehtml = etree.HTML(html)\n    gl_items = ehtml.xpath(&#39;//div[@id=&quot;J_goodsList&quot;]//li[@class=&quot;gl-item&quot;]&#39;)\n    print(len(gl_items))\n    for gl_item in gl_items:\n        jd = JdProduct()\n        img_src = &#39;&#39;.join(gl_item.xpath(&#39;.//div[@class=&quot;p-img&quot;]/a/img/@src&#39;))\n        title =  &#39;&#39;.join(gl_item.xpath(&#39;.//div[@class=&quot;p-name p-name-type-2&quot;]//em//text()&#39;))\n        price = gl_item.xpath(&#39;.//div[@class=&quot;p-price&quot;]//strong/i/text()&#39;)\n        shop = gl_item.xpath(&#39;.//div[@class=&quot;p-shop&quot;]//span/a/text()&#39;)\n        commit_num = gl_item.xpath(&#39;.//div[@class=&quot;p-commit&quot;]//strong/a//text()&#39;)\n        jd.title = title\n        jd.img_src = img_src\n        jd.price = price\n        jd.shop = shop\n        jd.commit_num = commit_num\n        try:\n            session.add(jd)\n            session.commit()\n        except Exception as e:\n            pass\n\ndef main():\n    for page in range(100):\n        page = page + 1\n        print(page)\n        html = get_page(page)\n        parse_page(html)\n\nif __name__ == &#39;__main__&#39;:\n    main()\n\n</code></pre>\n"},{"title":"selenium","date":"2018-05-22T07:15:06.000Z","author":"smile","img":"/images/KDA5.jpg","_content":"\n```python\nfrom selenium import webdriver\nfrom selenium.common.exceptions import TimeoutException\nfrom selenium.webdriver.common.by import By\nfrom selenium.webdriver.support.ui import WebDriverWait\nfrom selenium.webdriver.support import expected_conditions as EC\nfrom selenium.webdriver import ActionChains\n\ndef f1(browser):\n\t# 访问页面\n\tbrowser.get('https://www.mkv99.com/vod-detail-id-9462.html')\n\t# # 获取渲染后的页面内容\n\t# print(browser.page_source)\n\t# # 获取当前网址\n\t# print(browser.current_url)\n\t# # 获取浏览器cookie\n\t# print(browser.get_cookies())\n\n\t# # 根据id获取单个节点\n\tinput1 = browser.find_element_by_id('1thUrlid第01集')\n\tprint(input1)\n\t# # # 获取节点属性\n\t# print(input1.get_attribute('href'))\n\t\n\t# # 用css选择器获取单个节点\n\t# input_list = browser.find_elements_by_css_selector('.dwon2')\n\t# for item in input_list:\n\t# \tprint(item.get_attribute('href'))\n\t# print(input2.get_attribute('href'))\n\t# # # 获取节点的坐标\n\tprint(input1.location)\n\t# # # 获取节点的宽高\n\tprint(input1.size)\n\n\t# # 用xpath方法获取单个节点\n\t# input3 = browser.find_element_by_xpath('//*[@class=\"dwon2\"]')\n\t# print(input3.get_attribute('id'))\n\n\t# # 根据name获取单个节点\n\t# input4 = browser.find_element_by_name('CopyAddr1')\n\t# print(input4.tag_name)\n\n\t# # 根据链接文字获取单个节点\n\t# input5 = browser.find_element_by_link_text('今日更新')\n\t# input6 = browser.find_element_by_partial_link_text('教程')\n\t# # 获取节点文本值\n\t# print(input5.text)\n\t# print(input6.text)\n\ndef f2(browser):\n\tbrowser.get('http://www.runoob.com/try/try.php?filename=jqueryui-api-droppable')\n\t# 切换爬虫到指定iframe（里面是嵌套的一个新网页）\n\tbrowser.switch_to.frame('iframeResult')\t\n\tsource = browser.find_element_by_css_selector('#draggable')\n\ttarget = browser.find_element_by_css_selector('#droppable')\n\t# 动作链\n\tactions = ActionChains(browser)\n\t# 将选定的源移动到目标的位置\n\tactions.drag_and_drop(source, target)\n\tactions.perform()\n\n\ndef main():\n\t# 使用chrome浏览器\n\tbrowser = webdriver.Chrome()\n\t# 使用Firefox浏览器\n\t# browser = webdriver.Firefox()\n\t# 使用Edge浏览器\n\t# browser = webdriver.Edge()\n\t# 使用Phantom浏览器\n\t# PhatomJS无头浏览器\n\t# browser = webdriver.PhatomJS()\n\t# 使用Safari浏览器\n\t# browser = webdriver.Safari()\n\n\ttry:\n\t\tf1(browser)\n\tfinally:\n\t\t# 关闭浏览器\n\t\tbrowser.close()\n\nif __name__ == '__main__':\n\tmain()\n```","source":"_posts/spider/selenium.md","raw":"---\ntitle: selenium\ndate: 2018-05-22 15:15:06\nauthor: smile\nimg: /images/KDA5.jpg\ncategories: spider\ntags: \n  - selenium\n---\n\n```python\nfrom selenium import webdriver\nfrom selenium.common.exceptions import TimeoutException\nfrom selenium.webdriver.common.by import By\nfrom selenium.webdriver.support.ui import WebDriverWait\nfrom selenium.webdriver.support import expected_conditions as EC\nfrom selenium.webdriver import ActionChains\n\ndef f1(browser):\n\t# 访问页面\n\tbrowser.get('https://www.mkv99.com/vod-detail-id-9462.html')\n\t# # 获取渲染后的页面内容\n\t# print(browser.page_source)\n\t# # 获取当前网址\n\t# print(browser.current_url)\n\t# # 获取浏览器cookie\n\t# print(browser.get_cookies())\n\n\t# # 根据id获取单个节点\n\tinput1 = browser.find_element_by_id('1thUrlid第01集')\n\tprint(input1)\n\t# # # 获取节点属性\n\t# print(input1.get_attribute('href'))\n\t\n\t# # 用css选择器获取单个节点\n\t# input_list = browser.find_elements_by_css_selector('.dwon2')\n\t# for item in input_list:\n\t# \tprint(item.get_attribute('href'))\n\t# print(input2.get_attribute('href'))\n\t# # # 获取节点的坐标\n\tprint(input1.location)\n\t# # # 获取节点的宽高\n\tprint(input1.size)\n\n\t# # 用xpath方法获取单个节点\n\t# input3 = browser.find_element_by_xpath('//*[@class=\"dwon2\"]')\n\t# print(input3.get_attribute('id'))\n\n\t# # 根据name获取单个节点\n\t# input4 = browser.find_element_by_name('CopyAddr1')\n\t# print(input4.tag_name)\n\n\t# # 根据链接文字获取单个节点\n\t# input5 = browser.find_element_by_link_text('今日更新')\n\t# input6 = browser.find_element_by_partial_link_text('教程')\n\t# # 获取节点文本值\n\t# print(input5.text)\n\t# print(input6.text)\n\ndef f2(browser):\n\tbrowser.get('http://www.runoob.com/try/try.php?filename=jqueryui-api-droppable')\n\t# 切换爬虫到指定iframe（里面是嵌套的一个新网页）\n\tbrowser.switch_to.frame('iframeResult')\t\n\tsource = browser.find_element_by_css_selector('#draggable')\n\ttarget = browser.find_element_by_css_selector('#droppable')\n\t# 动作链\n\tactions = ActionChains(browser)\n\t# 将选定的源移动到目标的位置\n\tactions.drag_and_drop(source, target)\n\tactions.perform()\n\n\ndef main():\n\t# 使用chrome浏览器\n\tbrowser = webdriver.Chrome()\n\t# 使用Firefox浏览器\n\t# browser = webdriver.Firefox()\n\t# 使用Edge浏览器\n\t# browser = webdriver.Edge()\n\t# 使用Phantom浏览器\n\t# PhatomJS无头浏览器\n\t# browser = webdriver.PhatomJS()\n\t# 使用Safari浏览器\n\t# browser = webdriver.Safari()\n\n\ttry:\n\t\tf1(browser)\n\tfinally:\n\t\t# 关闭浏览器\n\t\tbrowser.close()\n\nif __name__ == '__main__':\n\tmain()\n```","slug":"spider/selenium","published":1,"updated":"2019-03-14T01:47:03.307Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjt87kqlt002ur8r63eg1k7tq","content":"<pre class=\" language-python\"><code class=\"language-python\"><span class=\"token keyword\">from</span> selenium <span class=\"token keyword\">import</span> webdriver\n<span class=\"token keyword\">from</span> selenium<span class=\"token punctuation\">.</span>common<span class=\"token punctuation\">.</span>exceptions <span class=\"token keyword\">import</span> TimeoutException\n<span class=\"token keyword\">from</span> selenium<span class=\"token punctuation\">.</span>webdriver<span class=\"token punctuation\">.</span>common<span class=\"token punctuation\">.</span>by <span class=\"token keyword\">import</span> By\n<span class=\"token keyword\">from</span> selenium<span class=\"token punctuation\">.</span>webdriver<span class=\"token punctuation\">.</span>support<span class=\"token punctuation\">.</span>ui <span class=\"token keyword\">import</span> WebDriverWait\n<span class=\"token keyword\">from</span> selenium<span class=\"token punctuation\">.</span>webdriver<span class=\"token punctuation\">.</span>support <span class=\"token keyword\">import</span> expected_conditions <span class=\"token keyword\">as</span> EC\n<span class=\"token keyword\">from</span> selenium<span class=\"token punctuation\">.</span>webdriver <span class=\"token keyword\">import</span> ActionChains\n\n<span class=\"token keyword\">def</span> <span class=\"token function\">f1</span><span class=\"token punctuation\">(</span>browser<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    <span class=\"token comment\" spellcheck=\"true\"># 访问页面</span>\n    browser<span class=\"token punctuation\">.</span>get<span class=\"token punctuation\">(</span><span class=\"token string\">'https://www.mkv99.com/vod-detail-id-9462.html'</span><span class=\"token punctuation\">)</span>\n    <span class=\"token comment\" spellcheck=\"true\"># # 获取渲染后的页面内容</span>\n    <span class=\"token comment\" spellcheck=\"true\"># print(browser.page_source)</span>\n    <span class=\"token comment\" spellcheck=\"true\"># # 获取当前网址</span>\n    <span class=\"token comment\" spellcheck=\"true\"># print(browser.current_url)</span>\n    <span class=\"token comment\" spellcheck=\"true\"># # 获取浏览器cookie</span>\n    <span class=\"token comment\" spellcheck=\"true\"># print(browser.get_cookies())</span>\n\n    <span class=\"token comment\" spellcheck=\"true\"># # 根据id获取单个节点</span>\n    input1 <span class=\"token operator\">=</span> browser<span class=\"token punctuation\">.</span>find_element_by_id<span class=\"token punctuation\">(</span><span class=\"token string\">'1thUrlid第01集'</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>input1<span class=\"token punctuation\">)</span>\n    <span class=\"token comment\" spellcheck=\"true\"># # # 获取节点属性</span>\n    <span class=\"token comment\" spellcheck=\"true\"># print(input1.get_attribute('href'))</span>\n\n    <span class=\"token comment\" spellcheck=\"true\"># # 用css选择器获取单个节点</span>\n    <span class=\"token comment\" spellcheck=\"true\"># input_list = browser.find_elements_by_css_selector('.dwon2')</span>\n    <span class=\"token comment\" spellcheck=\"true\"># for item in input_list:</span>\n    <span class=\"token comment\" spellcheck=\"true\">#     print(item.get_attribute('href'))</span>\n    <span class=\"token comment\" spellcheck=\"true\"># print(input2.get_attribute('href'))</span>\n    <span class=\"token comment\" spellcheck=\"true\"># # # 获取节点的坐标</span>\n    <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>input1<span class=\"token punctuation\">.</span>location<span class=\"token punctuation\">)</span>\n    <span class=\"token comment\" spellcheck=\"true\"># # # 获取节点的宽高</span>\n    <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>input1<span class=\"token punctuation\">.</span>size<span class=\"token punctuation\">)</span>\n\n    <span class=\"token comment\" spellcheck=\"true\"># # 用xpath方法获取单个节点</span>\n    <span class=\"token comment\" spellcheck=\"true\"># input3 = browser.find_element_by_xpath('//*[@class=\"dwon2\"]')</span>\n    <span class=\"token comment\" spellcheck=\"true\"># print(input3.get_attribute('id'))</span>\n\n    <span class=\"token comment\" spellcheck=\"true\"># # 根据name获取单个节点</span>\n    <span class=\"token comment\" spellcheck=\"true\"># input4 = browser.find_element_by_name('CopyAddr1')</span>\n    <span class=\"token comment\" spellcheck=\"true\"># print(input4.tag_name)</span>\n\n    <span class=\"token comment\" spellcheck=\"true\"># # 根据链接文字获取单个节点</span>\n    <span class=\"token comment\" spellcheck=\"true\"># input5 = browser.find_element_by_link_text('今日更新')</span>\n    <span class=\"token comment\" spellcheck=\"true\"># input6 = browser.find_element_by_partial_link_text('教程')</span>\n    <span class=\"token comment\" spellcheck=\"true\"># # 获取节点文本值</span>\n    <span class=\"token comment\" spellcheck=\"true\"># print(input5.text)</span>\n    <span class=\"token comment\" spellcheck=\"true\"># print(input6.text)</span>\n\n<span class=\"token keyword\">def</span> <span class=\"token function\">f2</span><span class=\"token punctuation\">(</span>browser<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    browser<span class=\"token punctuation\">.</span>get<span class=\"token punctuation\">(</span><span class=\"token string\">'http://www.runoob.com/try/try.php?filename=jqueryui-api-droppable'</span><span class=\"token punctuation\">)</span>\n    <span class=\"token comment\" spellcheck=\"true\"># 切换爬虫到指定iframe（里面是嵌套的一个新网页）</span>\n    browser<span class=\"token punctuation\">.</span>switch_to<span class=\"token punctuation\">.</span>frame<span class=\"token punctuation\">(</span><span class=\"token string\">'iframeResult'</span><span class=\"token punctuation\">)</span>    \n    source <span class=\"token operator\">=</span> browser<span class=\"token punctuation\">.</span>find_element_by_css_selector<span class=\"token punctuation\">(</span><span class=\"token string\">'#draggable'</span><span class=\"token punctuation\">)</span>\n    target <span class=\"token operator\">=</span> browser<span class=\"token punctuation\">.</span>find_element_by_css_selector<span class=\"token punctuation\">(</span><span class=\"token string\">'#droppable'</span><span class=\"token punctuation\">)</span>\n    <span class=\"token comment\" spellcheck=\"true\"># 动作链</span>\n    actions <span class=\"token operator\">=</span> ActionChains<span class=\"token punctuation\">(</span>browser<span class=\"token punctuation\">)</span>\n    <span class=\"token comment\" spellcheck=\"true\"># 将选定的源移动到目标的位置</span>\n    actions<span class=\"token punctuation\">.</span>drag_and_drop<span class=\"token punctuation\">(</span>source<span class=\"token punctuation\">,</span> target<span class=\"token punctuation\">)</span>\n    actions<span class=\"token punctuation\">.</span>perform<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n\n\n<span class=\"token keyword\">def</span> <span class=\"token function\">main</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    <span class=\"token comment\" spellcheck=\"true\"># 使用chrome浏览器</span>\n    browser <span class=\"token operator\">=</span> webdriver<span class=\"token punctuation\">.</span>Chrome<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    <span class=\"token comment\" spellcheck=\"true\"># 使用Firefox浏览器</span>\n    <span class=\"token comment\" spellcheck=\"true\"># browser = webdriver.Firefox()</span>\n    <span class=\"token comment\" spellcheck=\"true\"># 使用Edge浏览器</span>\n    <span class=\"token comment\" spellcheck=\"true\"># browser = webdriver.Edge()</span>\n    <span class=\"token comment\" spellcheck=\"true\"># 使用Phantom浏览器</span>\n    <span class=\"token comment\" spellcheck=\"true\"># PhatomJS无头浏览器</span>\n    <span class=\"token comment\" spellcheck=\"true\"># browser = webdriver.PhatomJS()</span>\n    <span class=\"token comment\" spellcheck=\"true\"># 使用Safari浏览器</span>\n    <span class=\"token comment\" spellcheck=\"true\"># browser = webdriver.Safari()</span>\n\n    <span class=\"token keyword\">try</span><span class=\"token punctuation\">:</span>\n        f1<span class=\"token punctuation\">(</span>browser<span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">finally</span><span class=\"token punctuation\">:</span>\n        <span class=\"token comment\" spellcheck=\"true\"># 关闭浏览器</span>\n        browser<span class=\"token punctuation\">.</span>close<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token keyword\">if</span> __name__ <span class=\"token operator\">==</span> <span class=\"token string\">'__main__'</span><span class=\"token punctuation\">:</span>\n    main<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n</code></pre>\n","site":{"data":{}},"excerpt":"","more":"<pre><code class=\"python\">from selenium import webdriver\nfrom selenium.common.exceptions import TimeoutException\nfrom selenium.webdriver.common.by import By\nfrom selenium.webdriver.support.ui import WebDriverWait\nfrom selenium.webdriver.support import expected_conditions as EC\nfrom selenium.webdriver import ActionChains\n\ndef f1(browser):\n    # 访问页面\n    browser.get(&#39;https://www.mkv99.com/vod-detail-id-9462.html&#39;)\n    # # 获取渲染后的页面内容\n    # print(browser.page_source)\n    # # 获取当前网址\n    # print(browser.current_url)\n    # # 获取浏览器cookie\n    # print(browser.get_cookies())\n\n    # # 根据id获取单个节点\n    input1 = browser.find_element_by_id(&#39;1thUrlid第01集&#39;)\n    print(input1)\n    # # # 获取节点属性\n    # print(input1.get_attribute(&#39;href&#39;))\n\n    # # 用css选择器获取单个节点\n    # input_list = browser.find_elements_by_css_selector(&#39;.dwon2&#39;)\n    # for item in input_list:\n    #     print(item.get_attribute(&#39;href&#39;))\n    # print(input2.get_attribute(&#39;href&#39;))\n    # # # 获取节点的坐标\n    print(input1.location)\n    # # # 获取节点的宽高\n    print(input1.size)\n\n    # # 用xpath方法获取单个节点\n    # input3 = browser.find_element_by_xpath(&#39;//*[@class=&quot;dwon2&quot;]&#39;)\n    # print(input3.get_attribute(&#39;id&#39;))\n\n    # # 根据name获取单个节点\n    # input4 = browser.find_element_by_name(&#39;CopyAddr1&#39;)\n    # print(input4.tag_name)\n\n    # # 根据链接文字获取单个节点\n    # input5 = browser.find_element_by_link_text(&#39;今日更新&#39;)\n    # input6 = browser.find_element_by_partial_link_text(&#39;教程&#39;)\n    # # 获取节点文本值\n    # print(input5.text)\n    # print(input6.text)\n\ndef f2(browser):\n    browser.get(&#39;http://www.runoob.com/try/try.php?filename=jqueryui-api-droppable&#39;)\n    # 切换爬虫到指定iframe（里面是嵌套的一个新网页）\n    browser.switch_to.frame(&#39;iframeResult&#39;)    \n    source = browser.find_element_by_css_selector(&#39;#draggable&#39;)\n    target = browser.find_element_by_css_selector(&#39;#droppable&#39;)\n    # 动作链\n    actions = ActionChains(browser)\n    # 将选定的源移动到目标的位置\n    actions.drag_and_drop(source, target)\n    actions.perform()\n\n\ndef main():\n    # 使用chrome浏览器\n    browser = webdriver.Chrome()\n    # 使用Firefox浏览器\n    # browser = webdriver.Firefox()\n    # 使用Edge浏览器\n    # browser = webdriver.Edge()\n    # 使用Phantom浏览器\n    # PhatomJS无头浏览器\n    # browser = webdriver.PhatomJS()\n    # 使用Safari浏览器\n    # browser = webdriver.Safari()\n\n    try:\n        f1(browser)\n    finally:\n        # 关闭浏览器\n        browser.close()\n\nif __name__ == &#39;__main__&#39;:\n    main()\n</code></pre>\n"},{"title":"展示数据","date":"2018-05-27T07:15:06.000Z","author":"smile","img":"/images/AKL.jpg","_content":"\n### 创建一个有个youyaoqi项目\n- 项目自带文件\n  -  scrapy.cfg\n  -  youyaoqi\n     - __ init__.py\n     - items.py\n     - middlewares.py\n     - pipelines.py\n     - settings.py\n     - spiders\n       - __ init __.py\n       - cartoon.py\n\n**items**\n```python\n# -*- coding: utf-8 -*-\n\n# Define here the models for your scraped items\n#\n# See documentation in:\n# https://doc.scrapy.org/en/latest/topics/items.html\n\nimport scrapy\n\n\nclass YouyaoqiItem(scrapy.Item):\n    # define the fields for your item here like:\n    comic_id = scrapy.Field()\n    name = scrapy.Field()\n    cover = scrapy.Field()\n    update_type = scrapy.Field()\n    line1 = scrapy.Field()\n    line2 = scrapy.Field()\n\n\nclass U17DetailItem(scrapy.Item):\n    name = scrapy.Field()\n    # u_id = scrapy.Field()\n\n```\n\n**pipelines.py**\n```python\n# -*- coding: utf-8 -*-\n\n# Define your item pipelines here\n#\n# Don't forget to add your pipeline to the ITEM_PIPELINES setting\n# See: https://doc.scrapy.org/en/latest/topics/item-pipeline.html\nimport pymysql\nfrom scrapy import Request\nfrom scrapy.exceptions import DropItem\nfrom scrapy.pipelines.images import ImagesPipeline\n\n\nclass ImagePipeline(ImagesPipeline):\n    def file_path(self, request, response=None, info=None):\n        url = request.url\n        file_name = url.split('/')[-1]\n        return file_name\n\n    def item_completed(self, results, item, info):\n        image_paths = [x['path'] for ok, x in results if ok]\n        if not image_paths:\n            raise DropItem('Image Downloaded Failed')\n        return item\n\n    def get_media_requests(self, item, info):\n        yield Request(item['cover'])\n\n\nclass YouyaoqiMysqlPipeline(object):\n    def __init__(self, host, port, database, username, password):\n        self.host = host\n        self.port = port\n        self.database = database\n        self.username = username\n        self.password = password\n\n    @classmethod\n    def from_crawler(cls, crawler):\n        return cls(\n            host=crawler.settings.get('MYSQL_HOST'),\n            port=crawler.settings.get('MYSQL_PORT'),\n            database=crawler.settings.get('MYSQL_DATABASE'),\n            username=crawler.settings.get('MYSQL_USERNAME'),\n            password=crawler.settings.get('MYSQL_PASSWORD'),\n        )\n\n    def open_spider(self, spider):\n        # 获取数据库连接\n        self.db = pymysql.connect(self.host, self.username, self.password, self.database, charset='utf8',\n                                  port=self.port)\n        self.cursor = self.db.cursor()\n\n    def close_spider(self, spider):\n        # 释放数据库连接\n        self.db.close()\n\n    def process_item(self, item, spider):\n        # 插入item数据\n        sql = 'insert into company (comic_id, name, cover, update_type, line1, line2) values (%s, %s, %s, %s, %s, %s)'\n        self.cursor.execute(sql, (item['comic_id'], item['name'], item['cover'], item['update_type'], item['line1'], item['line2']))\n        self.db.commit()\n\n        return item\n\n```\n\n**settings.py**\n```python\n# -*- coding: utf-8 -*-\n\n# Scrapy settings for youyaoqi project\n#\n# For simplicity, this file contains only settings considered important or\n# commonly used. You can find more settings consulting the documentation:\n#\n#     https://doc.scrapy.org/en/latest/topics/settings.html\n#     https://doc.scrapy.org/en/latest/topics/downloader-middleware.html\n#     https://doc.scrapy.org/en/latest/topics/spider-middleware.html\n\nBOT_NAME = 'youyaoqi'\n\nSPIDER_MODULES = ['youyaoqi.spiders']\nNEWSPIDER_MODULE = 'youyaoqi.spiders'\n\n\n# Crawl responsibly by identifying yourself (and your website) on the user-agent\n#USER_AGENT = 'youyaoqi (+http://www.yourdomain.com)'\n\n# Obey robots.txt rules\nROBOTSTXT_OBEY = False\n\n# Configure maximum concurrent requests performed by Scrapy (default: 16)\n#CONCURRENT_REQUESTS = 32\n\n# Configure a delay for requests for the same website (default: 0)\n# See https://doc.scrapy.org/en/latest/topics/settings.html#download-delay\n# See also autothrottle settings and docs\n#DOWNLOAD_DELAY = 3\n# The download delay setting will honor only one of:\n#CONCURRENT_REQUESTS_PER_DOMAIN = 16\n#CONCURRENT_REQUESTS_PER_IP = 16\n\n# Disable cookies (enabled by default)\n#COOKIES_ENABLED = False\n\n# Disable Telnet Console (enabled by default)\n#TELNETCONSOLE_ENABLED = False\n\n# Override the default request headers:\n#DEFAULT_REQUEST_HEADERS = {\n#   'Accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8',\n#   'Accept-Language': 'en',\n#}\n\n# Enable or disable spider middlewares\n# See https://doc.scrapy.org/en/latest/topics/spider-middleware.html\n#SPIDER_MIDDLEWARES = {\n#    'youyaoqi.middlewares.YouyaoqiSpiderMiddleware': 543,\n#}\n\n# Enable or disable downloader middlewares\n# See https://doc.scrapy.org/en/latest/topics/downloader-middleware.html\n#DOWNLOADER_MIDDLEWARES = {\n#    'youyaoqi.middlewares.YouyaoqiDownloaderMiddleware': 543,\n#}\n\n# Enable or disable extensions\n# See https://doc.scrapy.org/en/latest/topics/extensions.html\n#EXTENSIONS = {\n#    'scrapy.extensions.telnet.TelnetConsole': None,\n#}\n\n# Configure item pipelines\n# See https://doc.scrapy.org/en/latest/topics/item-pipeline.html\nITEM_PIPELINES = {\n   # 'youyaoqi.pipelines.YouyaoqiMysqlPipeline': 300,\n   # 'youyaoqi.pipelines.ImagePipeline': 300,\n}\n\n# Enable and configure the AutoThrottle extension (disabled by default)\n# See https://doc.scrapy.org/en/latest/topics/autothrottle.html\n#AUTOTHROTTLE_ENABLED = True\n# The initial download delay\n#AUTOTHROTTLE_START_DELAY = 5\n# The maximum download delay to be set in case of high latencies\n#AUTOTHROTTLE_MAX_DELAY = 60\n# The average number of requests Scrapy should be sending in parallel to\n# each remote server\n#AUTOTHROTTLE_TARGET_CONCURRENCY = 1.0\n# Enable showing throttling stats for every response received:\n#AUTOTHROTTLE_DEBUG = False\n\n# Enable and configure HTTP caching (disabled by default)\n# See https://doc.scrapy.org/en/latest/topics/downloader-middleware.html#httpcache-middleware-settings\n#HTTPCACHE_ENABLED = True\n#HTTPCACHE_EXPIRATION_SECS = 0\n#HTTPCACHE_DIR = 'httpcache'\n#HTTPCACHE_IGNORE_HTTP_CODES = []\n#HTTPCACHE_STORAGE = 'scrapy.extensions.httpcache.FilesystemCacheStorage'\nFEED_EXPORT_ENCODING = 'utf-8'\nMAX_PAGE = 500\n\n# IMAGES_STORE = './images'\n\n# mysql settings\nMYSQL_HOST = '127.0.0.1'\nMYSQL_PORT = 3306\nMYSQL_USERNAME = 'root'\nMYSQL_PASSWORD = '123456'\nMYSQL_DATABASE = 'u17'\n\n```\n\n**cartoon.py**\n```python\n# -*- coding: utf-8 -*-\nimport json\nimport scrapy\nfrom youyaoqi.items import YouyaoqiItem, U17DetailItem\n\n\nclass CartoonSpider(scrapy.Spider):\n    name = 'cartoon'\n    allowed_domains = ['www.u17.com']\n    start_urls = ['http://www.u17.com/']\n\n    def start_requests(self):\n        data = {'data[group_id]': 'no', 'data[theme_id]': 'no', 'data[is_vip]': 'no', 'data[accredit]': 'no', 'data[color]': 'no', 'data[comic_type]': 'no', 'data[series_status]': 'no', 'data[order]': '2', 'data[page_num]': '1', 'data[read_mode]': 'no' }\n        headers = {\n            'Referer': 'http://www.u17.com/comic_list/th99_gr99_ca99_ss99_ob0_ac0_as0_wm0_co99_ct99_p1.html?order=2',\n            'User-Agent': 'Mozilla/5.0 (Windows NT 6.1; Trident/7.0; rv:11.0) like Gecko',\n            'Host': 'www.u17.com',\n            'Accept': 'application/json, text/plain, */*',\n            'Accept-Encoding': 'gzip, deflate, sdch',\n            'Accept-Language': 'zh-CN,zh;q=0.8,en;q=0.6,ja;q=0.4,zh-TW;q=0.2,mt;q=0.2',\n            'Connection': 'keep-alive',\n            'X-Requested-With': 'XMLHttpRequest',\n        }\n        max_page = self.settings.get('MAX_PAGE')\n        base_url = 'http://www.u17.com/comic/ajax.php?mod=comic_list&act=comic_list_new_fun&a=get_comic_list'\n        for page in range(2, max_page):\n            data['data[page_num]'] = str(page)\n            yield scrapy.FormRequest(url=base_url, headers=headers, method='POST', formdata=data, callback=self.parse)\n\n    def get_headers(self):\n        headers = {\n            'User-Agent': 'Mozilla/4.0 (compatible; MSIE 7.0; Windows NT 5.1; 360SE)',\n            'Host': 'www.u17.com',\n            'Accept': 'application/json, text/plain, */*',\n            'Accept-Encoding': 'gzip, deflate, sdch',\n            'Accept-Language': 'zh-CN,zh;q=0.8,en;q=0.6,ja;q=0.4,zh-TW;q=0.2,mt;q=0.2',\n            'Connection': 'keep-alive',\n            'X-Requested-With': 'XMLHttpRequest',\n            'Content-Type': 'application/x-www-form-urlencoded; charset=UTF-8',\n        }\n        return headers\n\n    def parse(self, response):\n        result_json = json.loads(response.text)\n        data_list = result_json['comic_list']\n        for data in data_list:\n            item = YouyaoqiItem()\n            item['comic_id'] = data['comic_id']\n            item['name'] = data['name']\n            item['cover'] = data['cover']\n            item['update_type'] = data['update_type']\n            item['line1'] = data['line1']\n            item['line2'] = data['line2']\n            yield item\n\n            detail_url = 'http://www.u17.com/comic/%s.html' % item['comic_id']\n            yield scrapy.Request(url=detail_url, headers=self.get_headers(), callback=self.parse_detail)\n\n    def parse_detail(self, response):\n        results = response.css('#chapter li')\n        for item in results:\n            detail_item = U17DetailItem()\n            name_list = item.xpath('./a/text()').extract()\n            for name in name_list:\n                detail_item['name'] = name.replace('\"', '').strip()\n            # detail_item['u_id'] = title.replace\n            # detail_item['name'] = item.replace('\"', '').strip()\n                yield detail_item\n            # a_url_list = item.css('./a::attr(href)').extract()\n            # for a_url in a_url_list:\n            #     detail_item['url'] = a_url\n            #     yield detail_item\n\n```\n\n","source":"_posts/spider/spider_databases.md","raw":"---\ntitle: 展示数据\ndate: 2018-05-27 15:15:06\nauthor: smile\nimg: /images/AKL.jpg\ncategories: spider\ntags: \n  - databases\n---\n\n### 创建一个有个youyaoqi项目\n- 项目自带文件\n  -  scrapy.cfg\n  -  youyaoqi\n     - __ init__.py\n     - items.py\n     - middlewares.py\n     - pipelines.py\n     - settings.py\n     - spiders\n       - __ init __.py\n       - cartoon.py\n\n**items**\n```python\n# -*- coding: utf-8 -*-\n\n# Define here the models for your scraped items\n#\n# See documentation in:\n# https://doc.scrapy.org/en/latest/topics/items.html\n\nimport scrapy\n\n\nclass YouyaoqiItem(scrapy.Item):\n    # define the fields for your item here like:\n    comic_id = scrapy.Field()\n    name = scrapy.Field()\n    cover = scrapy.Field()\n    update_type = scrapy.Field()\n    line1 = scrapy.Field()\n    line2 = scrapy.Field()\n\n\nclass U17DetailItem(scrapy.Item):\n    name = scrapy.Field()\n    # u_id = scrapy.Field()\n\n```\n\n**pipelines.py**\n```python\n# -*- coding: utf-8 -*-\n\n# Define your item pipelines here\n#\n# Don't forget to add your pipeline to the ITEM_PIPELINES setting\n# See: https://doc.scrapy.org/en/latest/topics/item-pipeline.html\nimport pymysql\nfrom scrapy import Request\nfrom scrapy.exceptions import DropItem\nfrom scrapy.pipelines.images import ImagesPipeline\n\n\nclass ImagePipeline(ImagesPipeline):\n    def file_path(self, request, response=None, info=None):\n        url = request.url\n        file_name = url.split('/')[-1]\n        return file_name\n\n    def item_completed(self, results, item, info):\n        image_paths = [x['path'] for ok, x in results if ok]\n        if not image_paths:\n            raise DropItem('Image Downloaded Failed')\n        return item\n\n    def get_media_requests(self, item, info):\n        yield Request(item['cover'])\n\n\nclass YouyaoqiMysqlPipeline(object):\n    def __init__(self, host, port, database, username, password):\n        self.host = host\n        self.port = port\n        self.database = database\n        self.username = username\n        self.password = password\n\n    @classmethod\n    def from_crawler(cls, crawler):\n        return cls(\n            host=crawler.settings.get('MYSQL_HOST'),\n            port=crawler.settings.get('MYSQL_PORT'),\n            database=crawler.settings.get('MYSQL_DATABASE'),\n            username=crawler.settings.get('MYSQL_USERNAME'),\n            password=crawler.settings.get('MYSQL_PASSWORD'),\n        )\n\n    def open_spider(self, spider):\n        # 获取数据库连接\n        self.db = pymysql.connect(self.host, self.username, self.password, self.database, charset='utf8',\n                                  port=self.port)\n        self.cursor = self.db.cursor()\n\n    def close_spider(self, spider):\n        # 释放数据库连接\n        self.db.close()\n\n    def process_item(self, item, spider):\n        # 插入item数据\n        sql = 'insert into company (comic_id, name, cover, update_type, line1, line2) values (%s, %s, %s, %s, %s, %s)'\n        self.cursor.execute(sql, (item['comic_id'], item['name'], item['cover'], item['update_type'], item['line1'], item['line2']))\n        self.db.commit()\n\n        return item\n\n```\n\n**settings.py**\n```python\n# -*- coding: utf-8 -*-\n\n# Scrapy settings for youyaoqi project\n#\n# For simplicity, this file contains only settings considered important or\n# commonly used. You can find more settings consulting the documentation:\n#\n#     https://doc.scrapy.org/en/latest/topics/settings.html\n#     https://doc.scrapy.org/en/latest/topics/downloader-middleware.html\n#     https://doc.scrapy.org/en/latest/topics/spider-middleware.html\n\nBOT_NAME = 'youyaoqi'\n\nSPIDER_MODULES = ['youyaoqi.spiders']\nNEWSPIDER_MODULE = 'youyaoqi.spiders'\n\n\n# Crawl responsibly by identifying yourself (and your website) on the user-agent\n#USER_AGENT = 'youyaoqi (+http://www.yourdomain.com)'\n\n# Obey robots.txt rules\nROBOTSTXT_OBEY = False\n\n# Configure maximum concurrent requests performed by Scrapy (default: 16)\n#CONCURRENT_REQUESTS = 32\n\n# Configure a delay for requests for the same website (default: 0)\n# See https://doc.scrapy.org/en/latest/topics/settings.html#download-delay\n# See also autothrottle settings and docs\n#DOWNLOAD_DELAY = 3\n# The download delay setting will honor only one of:\n#CONCURRENT_REQUESTS_PER_DOMAIN = 16\n#CONCURRENT_REQUESTS_PER_IP = 16\n\n# Disable cookies (enabled by default)\n#COOKIES_ENABLED = False\n\n# Disable Telnet Console (enabled by default)\n#TELNETCONSOLE_ENABLED = False\n\n# Override the default request headers:\n#DEFAULT_REQUEST_HEADERS = {\n#   'Accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8',\n#   'Accept-Language': 'en',\n#}\n\n# Enable or disable spider middlewares\n# See https://doc.scrapy.org/en/latest/topics/spider-middleware.html\n#SPIDER_MIDDLEWARES = {\n#    'youyaoqi.middlewares.YouyaoqiSpiderMiddleware': 543,\n#}\n\n# Enable or disable downloader middlewares\n# See https://doc.scrapy.org/en/latest/topics/downloader-middleware.html\n#DOWNLOADER_MIDDLEWARES = {\n#    'youyaoqi.middlewares.YouyaoqiDownloaderMiddleware': 543,\n#}\n\n# Enable or disable extensions\n# See https://doc.scrapy.org/en/latest/topics/extensions.html\n#EXTENSIONS = {\n#    'scrapy.extensions.telnet.TelnetConsole': None,\n#}\n\n# Configure item pipelines\n# See https://doc.scrapy.org/en/latest/topics/item-pipeline.html\nITEM_PIPELINES = {\n   # 'youyaoqi.pipelines.YouyaoqiMysqlPipeline': 300,\n   # 'youyaoqi.pipelines.ImagePipeline': 300,\n}\n\n# Enable and configure the AutoThrottle extension (disabled by default)\n# See https://doc.scrapy.org/en/latest/topics/autothrottle.html\n#AUTOTHROTTLE_ENABLED = True\n# The initial download delay\n#AUTOTHROTTLE_START_DELAY = 5\n# The maximum download delay to be set in case of high latencies\n#AUTOTHROTTLE_MAX_DELAY = 60\n# The average number of requests Scrapy should be sending in parallel to\n# each remote server\n#AUTOTHROTTLE_TARGET_CONCURRENCY = 1.0\n# Enable showing throttling stats for every response received:\n#AUTOTHROTTLE_DEBUG = False\n\n# Enable and configure HTTP caching (disabled by default)\n# See https://doc.scrapy.org/en/latest/topics/downloader-middleware.html#httpcache-middleware-settings\n#HTTPCACHE_ENABLED = True\n#HTTPCACHE_EXPIRATION_SECS = 0\n#HTTPCACHE_DIR = 'httpcache'\n#HTTPCACHE_IGNORE_HTTP_CODES = []\n#HTTPCACHE_STORAGE = 'scrapy.extensions.httpcache.FilesystemCacheStorage'\nFEED_EXPORT_ENCODING = 'utf-8'\nMAX_PAGE = 500\n\n# IMAGES_STORE = './images'\n\n# mysql settings\nMYSQL_HOST = '127.0.0.1'\nMYSQL_PORT = 3306\nMYSQL_USERNAME = 'root'\nMYSQL_PASSWORD = '123456'\nMYSQL_DATABASE = 'u17'\n\n```\n\n**cartoon.py**\n```python\n# -*- coding: utf-8 -*-\nimport json\nimport scrapy\nfrom youyaoqi.items import YouyaoqiItem, U17DetailItem\n\n\nclass CartoonSpider(scrapy.Spider):\n    name = 'cartoon'\n    allowed_domains = ['www.u17.com']\n    start_urls = ['http://www.u17.com/']\n\n    def start_requests(self):\n        data = {'data[group_id]': 'no', 'data[theme_id]': 'no', 'data[is_vip]': 'no', 'data[accredit]': 'no', 'data[color]': 'no', 'data[comic_type]': 'no', 'data[series_status]': 'no', 'data[order]': '2', 'data[page_num]': '1', 'data[read_mode]': 'no' }\n        headers = {\n            'Referer': 'http://www.u17.com/comic_list/th99_gr99_ca99_ss99_ob0_ac0_as0_wm0_co99_ct99_p1.html?order=2',\n            'User-Agent': 'Mozilla/5.0 (Windows NT 6.1; Trident/7.0; rv:11.0) like Gecko',\n            'Host': 'www.u17.com',\n            'Accept': 'application/json, text/plain, */*',\n            'Accept-Encoding': 'gzip, deflate, sdch',\n            'Accept-Language': 'zh-CN,zh;q=0.8,en;q=0.6,ja;q=0.4,zh-TW;q=0.2,mt;q=0.2',\n            'Connection': 'keep-alive',\n            'X-Requested-With': 'XMLHttpRequest',\n        }\n        max_page = self.settings.get('MAX_PAGE')\n        base_url = 'http://www.u17.com/comic/ajax.php?mod=comic_list&act=comic_list_new_fun&a=get_comic_list'\n        for page in range(2, max_page):\n            data['data[page_num]'] = str(page)\n            yield scrapy.FormRequest(url=base_url, headers=headers, method='POST', formdata=data, callback=self.parse)\n\n    def get_headers(self):\n        headers = {\n            'User-Agent': 'Mozilla/4.0 (compatible; MSIE 7.0; Windows NT 5.1; 360SE)',\n            'Host': 'www.u17.com',\n            'Accept': 'application/json, text/plain, */*',\n            'Accept-Encoding': 'gzip, deflate, sdch',\n            'Accept-Language': 'zh-CN,zh;q=0.8,en;q=0.6,ja;q=0.4,zh-TW;q=0.2,mt;q=0.2',\n            'Connection': 'keep-alive',\n            'X-Requested-With': 'XMLHttpRequest',\n            'Content-Type': 'application/x-www-form-urlencoded; charset=UTF-8',\n        }\n        return headers\n\n    def parse(self, response):\n        result_json = json.loads(response.text)\n        data_list = result_json['comic_list']\n        for data in data_list:\n            item = YouyaoqiItem()\n            item['comic_id'] = data['comic_id']\n            item['name'] = data['name']\n            item['cover'] = data['cover']\n            item['update_type'] = data['update_type']\n            item['line1'] = data['line1']\n            item['line2'] = data['line2']\n            yield item\n\n            detail_url = 'http://www.u17.com/comic/%s.html' % item['comic_id']\n            yield scrapy.Request(url=detail_url, headers=self.get_headers(), callback=self.parse_detail)\n\n    def parse_detail(self, response):\n        results = response.css('#chapter li')\n        for item in results:\n            detail_item = U17DetailItem()\n            name_list = item.xpath('./a/text()').extract()\n            for name in name_list:\n                detail_item['name'] = name.replace('\"', '').strip()\n            # detail_item['u_id'] = title.replace\n            # detail_item['name'] = item.replace('\"', '').strip()\n                yield detail_item\n            # a_url_list = item.css('./a::attr(href)').extract()\n            # for a_url in a_url_list:\n            #     detail_item['url'] = a_url\n            #     yield detail_item\n\n```\n\n","slug":"spider/spider_databases","published":1,"updated":"2019-03-14T01:46:55.006Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjt87kqm1002yr8r6kxez9xlp","content":"<h3 id=\"创建一个有个youyaoqi项目\"><a href=\"#创建一个有个youyaoqi项目\" class=\"headerlink\" title=\"创建一个有个youyaoqi项目\"></a>创建一个有个youyaoqi项目</h3><ul>\n<li>项目自带文件<ul>\n<li>scrapy.cfg</li>\n<li>youyaoqi<ul>\n<li><strong> init</strong>.py</li>\n<li>items.py</li>\n<li>middlewares.py</li>\n<li>pipelines.py</li>\n<li>settings.py</li>\n<li>spiders<ul>\n<li><strong> init </strong>.py</li>\n<li>cartoon.py</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<p><strong>items</strong></p>\n<pre class=\" language-python\"><code class=\"language-python\"><span class=\"token comment\" spellcheck=\"true\"># -*- coding: utf-8 -*-</span>\n\n<span class=\"token comment\" spellcheck=\"true\"># Define here the models for your scraped items</span>\n<span class=\"token comment\" spellcheck=\"true\">#</span>\n<span class=\"token comment\" spellcheck=\"true\"># See documentation in:</span>\n<span class=\"token comment\" spellcheck=\"true\"># https://doc.scrapy.org/en/latest/topics/items.html</span>\n\n<span class=\"token keyword\">import</span> scrapy\n\n\n<span class=\"token keyword\">class</span> <span class=\"token class-name\">YouyaoqiItem</span><span class=\"token punctuation\">(</span>scrapy<span class=\"token punctuation\">.</span>Item<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    <span class=\"token comment\" spellcheck=\"true\"># define the fields for your item here like:</span>\n    comic_id <span class=\"token operator\">=</span> scrapy<span class=\"token punctuation\">.</span>Field<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    name <span class=\"token operator\">=</span> scrapy<span class=\"token punctuation\">.</span>Field<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    cover <span class=\"token operator\">=</span> scrapy<span class=\"token punctuation\">.</span>Field<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    update_type <span class=\"token operator\">=</span> scrapy<span class=\"token punctuation\">.</span>Field<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    line1 <span class=\"token operator\">=</span> scrapy<span class=\"token punctuation\">.</span>Field<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    line2 <span class=\"token operator\">=</span> scrapy<span class=\"token punctuation\">.</span>Field<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n\n\n<span class=\"token keyword\">class</span> <span class=\"token class-name\">U17DetailItem</span><span class=\"token punctuation\">(</span>scrapy<span class=\"token punctuation\">.</span>Item<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    name <span class=\"token operator\">=</span> scrapy<span class=\"token punctuation\">.</span>Field<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    <span class=\"token comment\" spellcheck=\"true\"># u_id = scrapy.Field()</span>\n\n</code></pre>\n<p><strong>pipelines.py</strong></p>\n<pre class=\" language-python\"><code class=\"language-python\"><span class=\"token comment\" spellcheck=\"true\"># -*- coding: utf-8 -*-</span>\n\n<span class=\"token comment\" spellcheck=\"true\"># Define your item pipelines here</span>\n<span class=\"token comment\" spellcheck=\"true\">#</span>\n<span class=\"token comment\" spellcheck=\"true\"># Don't forget to add your pipeline to the ITEM_PIPELINES setting</span>\n<span class=\"token comment\" spellcheck=\"true\"># See: https://doc.scrapy.org/en/latest/topics/item-pipeline.html</span>\n<span class=\"token keyword\">import</span> pymysql\n<span class=\"token keyword\">from</span> scrapy <span class=\"token keyword\">import</span> Request\n<span class=\"token keyword\">from</span> scrapy<span class=\"token punctuation\">.</span>exceptions <span class=\"token keyword\">import</span> DropItem\n<span class=\"token keyword\">from</span> scrapy<span class=\"token punctuation\">.</span>pipelines<span class=\"token punctuation\">.</span>images <span class=\"token keyword\">import</span> ImagesPipeline\n\n\n<span class=\"token keyword\">class</span> <span class=\"token class-name\">ImagePipeline</span><span class=\"token punctuation\">(</span>ImagesPipeline<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    <span class=\"token keyword\">def</span> <span class=\"token function\">file_path</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">,</span> request<span class=\"token punctuation\">,</span> response<span class=\"token operator\">=</span>None<span class=\"token punctuation\">,</span> info<span class=\"token operator\">=</span>None<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n        url <span class=\"token operator\">=</span> request<span class=\"token punctuation\">.</span>url\n        file_name <span class=\"token operator\">=</span> url<span class=\"token punctuation\">.</span>split<span class=\"token punctuation\">(</span><span class=\"token string\">'/'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">[</span><span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span>\n        <span class=\"token keyword\">return</span> file_name\n\n    <span class=\"token keyword\">def</span> <span class=\"token function\">item_completed</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">,</span> results<span class=\"token punctuation\">,</span> item<span class=\"token punctuation\">,</span> info<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n        image_paths <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span>x<span class=\"token punctuation\">[</span><span class=\"token string\">'path'</span><span class=\"token punctuation\">]</span> <span class=\"token keyword\">for</span> ok<span class=\"token punctuation\">,</span> x <span class=\"token keyword\">in</span> results <span class=\"token keyword\">if</span> ok<span class=\"token punctuation\">]</span>\n        <span class=\"token keyword\">if</span> <span class=\"token operator\">not</span> image_paths<span class=\"token punctuation\">:</span>\n            <span class=\"token keyword\">raise</span> DropItem<span class=\"token punctuation\">(</span><span class=\"token string\">'Image Downloaded Failed'</span><span class=\"token punctuation\">)</span>\n        <span class=\"token keyword\">return</span> item\n\n    <span class=\"token keyword\">def</span> <span class=\"token function\">get_media_requests</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">,</span> item<span class=\"token punctuation\">,</span> info<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n        <span class=\"token keyword\">yield</span> Request<span class=\"token punctuation\">(</span>item<span class=\"token punctuation\">[</span><span class=\"token string\">'cover'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>\n\n\n<span class=\"token keyword\">class</span> <span class=\"token class-name\">YouyaoqiMysqlPipeline</span><span class=\"token punctuation\">(</span>object<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    <span class=\"token keyword\">def</span> <span class=\"token function\">__init__</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">,</span> host<span class=\"token punctuation\">,</span> port<span class=\"token punctuation\">,</span> database<span class=\"token punctuation\">,</span> username<span class=\"token punctuation\">,</span> password<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n        self<span class=\"token punctuation\">.</span>host <span class=\"token operator\">=</span> host\n        self<span class=\"token punctuation\">.</span>port <span class=\"token operator\">=</span> port\n        self<span class=\"token punctuation\">.</span>database <span class=\"token operator\">=</span> database\n        self<span class=\"token punctuation\">.</span>username <span class=\"token operator\">=</span> username\n        self<span class=\"token punctuation\">.</span>password <span class=\"token operator\">=</span> password\n\n    @classmethod\n    <span class=\"token keyword\">def</span> <span class=\"token function\">from_crawler</span><span class=\"token punctuation\">(</span>cls<span class=\"token punctuation\">,</span> crawler<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n        <span class=\"token keyword\">return</span> cls<span class=\"token punctuation\">(</span>\n            host<span class=\"token operator\">=</span>crawler<span class=\"token punctuation\">.</span>settings<span class=\"token punctuation\">.</span>get<span class=\"token punctuation\">(</span><span class=\"token string\">'MYSQL_HOST'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n            port<span class=\"token operator\">=</span>crawler<span class=\"token punctuation\">.</span>settings<span class=\"token punctuation\">.</span>get<span class=\"token punctuation\">(</span><span class=\"token string\">'MYSQL_PORT'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n            database<span class=\"token operator\">=</span>crawler<span class=\"token punctuation\">.</span>settings<span class=\"token punctuation\">.</span>get<span class=\"token punctuation\">(</span><span class=\"token string\">'MYSQL_DATABASE'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n            username<span class=\"token operator\">=</span>crawler<span class=\"token punctuation\">.</span>settings<span class=\"token punctuation\">.</span>get<span class=\"token punctuation\">(</span><span class=\"token string\">'MYSQL_USERNAME'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n            password<span class=\"token operator\">=</span>crawler<span class=\"token punctuation\">.</span>settings<span class=\"token punctuation\">.</span>get<span class=\"token punctuation\">(</span><span class=\"token string\">'MYSQL_PASSWORD'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n        <span class=\"token punctuation\">)</span>\n\n    <span class=\"token keyword\">def</span> <span class=\"token function\">open_spider</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">,</span> spider<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n        <span class=\"token comment\" spellcheck=\"true\"># 获取数据库连接</span>\n        self<span class=\"token punctuation\">.</span>db <span class=\"token operator\">=</span> pymysql<span class=\"token punctuation\">.</span>connect<span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">.</span>host<span class=\"token punctuation\">,</span> self<span class=\"token punctuation\">.</span>username<span class=\"token punctuation\">,</span> self<span class=\"token punctuation\">.</span>password<span class=\"token punctuation\">,</span> self<span class=\"token punctuation\">.</span>database<span class=\"token punctuation\">,</span> charset<span class=\"token operator\">=</span><span class=\"token string\">'utf8'</span><span class=\"token punctuation\">,</span>\n                                  port<span class=\"token operator\">=</span>self<span class=\"token punctuation\">.</span>port<span class=\"token punctuation\">)</span>\n        self<span class=\"token punctuation\">.</span>cursor <span class=\"token operator\">=</span> self<span class=\"token punctuation\">.</span>db<span class=\"token punctuation\">.</span>cursor<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n\n    <span class=\"token keyword\">def</span> <span class=\"token function\">close_spider</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">,</span> spider<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n        <span class=\"token comment\" spellcheck=\"true\"># 释放数据库连接</span>\n        self<span class=\"token punctuation\">.</span>db<span class=\"token punctuation\">.</span>close<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n\n    <span class=\"token keyword\">def</span> <span class=\"token function\">process_item</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">,</span> item<span class=\"token punctuation\">,</span> spider<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n        <span class=\"token comment\" spellcheck=\"true\"># 插入item数据</span>\n        sql <span class=\"token operator\">=</span> <span class=\"token string\">'insert into company (comic_id, name, cover, update_type, line1, line2) values (%s, %s, %s, %s, %s, %s)'</span>\n        self<span class=\"token punctuation\">.</span>cursor<span class=\"token punctuation\">.</span>execute<span class=\"token punctuation\">(</span>sql<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span>item<span class=\"token punctuation\">[</span><span class=\"token string\">'comic_id'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> item<span class=\"token punctuation\">[</span><span class=\"token string\">'name'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> item<span class=\"token punctuation\">[</span><span class=\"token string\">'cover'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> item<span class=\"token punctuation\">[</span><span class=\"token string\">'update_type'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> item<span class=\"token punctuation\">[</span><span class=\"token string\">'line1'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> item<span class=\"token punctuation\">[</span><span class=\"token string\">'line2'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n        self<span class=\"token punctuation\">.</span>db<span class=\"token punctuation\">.</span>commit<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n\n        <span class=\"token keyword\">return</span> item\n\n</code></pre>\n<p><strong>settings.py</strong></p>\n<pre class=\" language-python\"><code class=\"language-python\"><span class=\"token comment\" spellcheck=\"true\"># -*- coding: utf-8 -*-</span>\n\n<span class=\"token comment\" spellcheck=\"true\"># Scrapy settings for youyaoqi project</span>\n<span class=\"token comment\" spellcheck=\"true\">#</span>\n<span class=\"token comment\" spellcheck=\"true\"># For simplicity, this file contains only settings considered important or</span>\n<span class=\"token comment\" spellcheck=\"true\"># commonly used. You can find more settings consulting the documentation:</span>\n<span class=\"token comment\" spellcheck=\"true\">#</span>\n<span class=\"token comment\" spellcheck=\"true\">#     https://doc.scrapy.org/en/latest/topics/settings.html</span>\n<span class=\"token comment\" spellcheck=\"true\">#     https://doc.scrapy.org/en/latest/topics/downloader-middleware.html</span>\n<span class=\"token comment\" spellcheck=\"true\">#     https://doc.scrapy.org/en/latest/topics/spider-middleware.html</span>\n\nBOT_NAME <span class=\"token operator\">=</span> <span class=\"token string\">'youyaoqi'</span>\n\nSPIDER_MODULES <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token string\">'youyaoqi.spiders'</span><span class=\"token punctuation\">]</span>\nNEWSPIDER_MODULE <span class=\"token operator\">=</span> <span class=\"token string\">'youyaoqi.spiders'</span>\n\n\n<span class=\"token comment\" spellcheck=\"true\"># Crawl responsibly by identifying yourself (and your website) on the user-agent</span>\n<span class=\"token comment\" spellcheck=\"true\">#USER_AGENT = 'youyaoqi (+http://www.yourdomain.com)'</span>\n\n<span class=\"token comment\" spellcheck=\"true\"># Obey robots.txt rules</span>\nROBOTSTXT_OBEY <span class=\"token operator\">=</span> <span class=\"token boolean\">False</span>\n\n<span class=\"token comment\" spellcheck=\"true\"># Configure maximum concurrent requests performed by Scrapy (default: 16)</span>\n<span class=\"token comment\" spellcheck=\"true\">#CONCURRENT_REQUESTS = 32</span>\n\n<span class=\"token comment\" spellcheck=\"true\"># Configure a delay for requests for the same website (default: 0)</span>\n<span class=\"token comment\" spellcheck=\"true\"># See https://doc.scrapy.org/en/latest/topics/settings.html#download-delay</span>\n<span class=\"token comment\" spellcheck=\"true\"># See also autothrottle settings and docs</span>\n<span class=\"token comment\" spellcheck=\"true\">#DOWNLOAD_DELAY = 3</span>\n<span class=\"token comment\" spellcheck=\"true\"># The download delay setting will honor only one of:</span>\n<span class=\"token comment\" spellcheck=\"true\">#CONCURRENT_REQUESTS_PER_DOMAIN = 16</span>\n<span class=\"token comment\" spellcheck=\"true\">#CONCURRENT_REQUESTS_PER_IP = 16</span>\n\n<span class=\"token comment\" spellcheck=\"true\"># Disable cookies (enabled by default)</span>\n<span class=\"token comment\" spellcheck=\"true\">#COOKIES_ENABLED = False</span>\n\n<span class=\"token comment\" spellcheck=\"true\"># Disable Telnet Console (enabled by default)</span>\n<span class=\"token comment\" spellcheck=\"true\">#TELNETCONSOLE_ENABLED = False</span>\n\n<span class=\"token comment\" spellcheck=\"true\"># Override the default request headers:</span>\n<span class=\"token comment\" spellcheck=\"true\">#DEFAULT_REQUEST_HEADERS = {</span>\n<span class=\"token comment\" spellcheck=\"true\">#   'Accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8',</span>\n<span class=\"token comment\" spellcheck=\"true\">#   'Accept-Language': 'en',</span>\n<span class=\"token comment\" spellcheck=\"true\">#}</span>\n\n<span class=\"token comment\" spellcheck=\"true\"># Enable or disable spider middlewares</span>\n<span class=\"token comment\" spellcheck=\"true\"># See https://doc.scrapy.org/en/latest/topics/spider-middleware.html</span>\n<span class=\"token comment\" spellcheck=\"true\">#SPIDER_MIDDLEWARES = {</span>\n<span class=\"token comment\" spellcheck=\"true\">#    'youyaoqi.middlewares.YouyaoqiSpiderMiddleware': 543,</span>\n<span class=\"token comment\" spellcheck=\"true\">#}</span>\n\n<span class=\"token comment\" spellcheck=\"true\"># Enable or disable downloader middlewares</span>\n<span class=\"token comment\" spellcheck=\"true\"># See https://doc.scrapy.org/en/latest/topics/downloader-middleware.html</span>\n<span class=\"token comment\" spellcheck=\"true\">#DOWNLOADER_MIDDLEWARES = {</span>\n<span class=\"token comment\" spellcheck=\"true\">#    'youyaoqi.middlewares.YouyaoqiDownloaderMiddleware': 543,</span>\n<span class=\"token comment\" spellcheck=\"true\">#}</span>\n\n<span class=\"token comment\" spellcheck=\"true\"># Enable or disable extensions</span>\n<span class=\"token comment\" spellcheck=\"true\"># See https://doc.scrapy.org/en/latest/topics/extensions.html</span>\n<span class=\"token comment\" spellcheck=\"true\">#EXTENSIONS = {</span>\n<span class=\"token comment\" spellcheck=\"true\">#    'scrapy.extensions.telnet.TelnetConsole': None,</span>\n<span class=\"token comment\" spellcheck=\"true\">#}</span>\n\n<span class=\"token comment\" spellcheck=\"true\"># Configure item pipelines</span>\n<span class=\"token comment\" spellcheck=\"true\"># See https://doc.scrapy.org/en/latest/topics/item-pipeline.html</span>\nITEM_PIPELINES <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n   <span class=\"token comment\" spellcheck=\"true\"># 'youyaoqi.pipelines.YouyaoqiMysqlPipeline': 300,</span>\n   <span class=\"token comment\" spellcheck=\"true\"># 'youyaoqi.pipelines.ImagePipeline': 300,</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token comment\" spellcheck=\"true\"># Enable and configure the AutoThrottle extension (disabled by default)</span>\n<span class=\"token comment\" spellcheck=\"true\"># See https://doc.scrapy.org/en/latest/topics/autothrottle.html</span>\n<span class=\"token comment\" spellcheck=\"true\">#AUTOTHROTTLE_ENABLED = True</span>\n<span class=\"token comment\" spellcheck=\"true\"># The initial download delay</span>\n<span class=\"token comment\" spellcheck=\"true\">#AUTOTHROTTLE_START_DELAY = 5</span>\n<span class=\"token comment\" spellcheck=\"true\"># The maximum download delay to be set in case of high latencies</span>\n<span class=\"token comment\" spellcheck=\"true\">#AUTOTHROTTLE_MAX_DELAY = 60</span>\n<span class=\"token comment\" spellcheck=\"true\"># The average number of requests Scrapy should be sending in parallel to</span>\n<span class=\"token comment\" spellcheck=\"true\"># each remote server</span>\n<span class=\"token comment\" spellcheck=\"true\">#AUTOTHROTTLE_TARGET_CONCURRENCY = 1.0</span>\n<span class=\"token comment\" spellcheck=\"true\"># Enable showing throttling stats for every response received:</span>\n<span class=\"token comment\" spellcheck=\"true\">#AUTOTHROTTLE_DEBUG = False</span>\n\n<span class=\"token comment\" spellcheck=\"true\"># Enable and configure HTTP caching (disabled by default)</span>\n<span class=\"token comment\" spellcheck=\"true\"># See https://doc.scrapy.org/en/latest/topics/downloader-middleware.html#httpcache-middleware-settings</span>\n<span class=\"token comment\" spellcheck=\"true\">#HTTPCACHE_ENABLED = True</span>\n<span class=\"token comment\" spellcheck=\"true\">#HTTPCACHE_EXPIRATION_SECS = 0</span>\n<span class=\"token comment\" spellcheck=\"true\">#HTTPCACHE_DIR = 'httpcache'</span>\n<span class=\"token comment\" spellcheck=\"true\">#HTTPCACHE_IGNORE_HTTP_CODES = []</span>\n<span class=\"token comment\" spellcheck=\"true\">#HTTPCACHE_STORAGE = 'scrapy.extensions.httpcache.FilesystemCacheStorage'</span>\nFEED_EXPORT_ENCODING <span class=\"token operator\">=</span> <span class=\"token string\">'utf-8'</span>\nMAX_PAGE <span class=\"token operator\">=</span> <span class=\"token number\">500</span>\n\n<span class=\"token comment\" spellcheck=\"true\"># IMAGES_STORE = './images'</span>\n\n<span class=\"token comment\" spellcheck=\"true\"># mysql settings</span>\nMYSQL_HOST <span class=\"token operator\">=</span> <span class=\"token string\">'127.0.0.1'</span>\nMYSQL_PORT <span class=\"token operator\">=</span> <span class=\"token number\">3306</span>\nMYSQL_USERNAME <span class=\"token operator\">=</span> <span class=\"token string\">'root'</span>\nMYSQL_PASSWORD <span class=\"token operator\">=</span> <span class=\"token string\">'123456'</span>\nMYSQL_DATABASE <span class=\"token operator\">=</span> <span class=\"token string\">'u17'</span>\n\n</code></pre>\n<p><strong>cartoon.py</strong></p>\n<pre class=\" language-python\"><code class=\"language-python\"><span class=\"token comment\" spellcheck=\"true\"># -*- coding: utf-8 -*-</span>\n<span class=\"token keyword\">import</span> json\n<span class=\"token keyword\">import</span> scrapy\n<span class=\"token keyword\">from</span> youyaoqi<span class=\"token punctuation\">.</span>items <span class=\"token keyword\">import</span> YouyaoqiItem<span class=\"token punctuation\">,</span> U17DetailItem\n\n\n<span class=\"token keyword\">class</span> <span class=\"token class-name\">CartoonSpider</span><span class=\"token punctuation\">(</span>scrapy<span class=\"token punctuation\">.</span>Spider<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    name <span class=\"token operator\">=</span> <span class=\"token string\">'cartoon'</span>\n    allowed_domains <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token string\">'www.u17.com'</span><span class=\"token punctuation\">]</span>\n    start_urls <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token string\">'http://www.u17.com/'</span><span class=\"token punctuation\">]</span>\n\n    <span class=\"token keyword\">def</span> <span class=\"token function\">start_requests</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n        data <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span><span class=\"token string\">'data[group_id]'</span><span class=\"token punctuation\">:</span> <span class=\"token string\">'no'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'data[theme_id]'</span><span class=\"token punctuation\">:</span> <span class=\"token string\">'no'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'data[is_vip]'</span><span class=\"token punctuation\">:</span> <span class=\"token string\">'no'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'data[accredit]'</span><span class=\"token punctuation\">:</span> <span class=\"token string\">'no'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'data[color]'</span><span class=\"token punctuation\">:</span> <span class=\"token string\">'no'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'data[comic_type]'</span><span class=\"token punctuation\">:</span> <span class=\"token string\">'no'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'data[series_status]'</span><span class=\"token punctuation\">:</span> <span class=\"token string\">'no'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'data[order]'</span><span class=\"token punctuation\">:</span> <span class=\"token string\">'2'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'data[page_num]'</span><span class=\"token punctuation\">:</span> <span class=\"token string\">'1'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'data[read_mode]'</span><span class=\"token punctuation\">:</span> <span class=\"token string\">'no'</span> <span class=\"token punctuation\">}</span>\n        headers <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n            <span class=\"token string\">'Referer'</span><span class=\"token punctuation\">:</span> <span class=\"token string\">'http://www.u17.com/comic_list/th99_gr99_ca99_ss99_ob0_ac0_as0_wm0_co99_ct99_p1.html?order=2'</span><span class=\"token punctuation\">,</span>\n            <span class=\"token string\">'User-Agent'</span><span class=\"token punctuation\">:</span> <span class=\"token string\">'Mozilla/5.0 (Windows NT 6.1; Trident/7.0; rv:11.0) like Gecko'</span><span class=\"token punctuation\">,</span>\n            <span class=\"token string\">'Host'</span><span class=\"token punctuation\">:</span> <span class=\"token string\">'www.u17.com'</span><span class=\"token punctuation\">,</span>\n            <span class=\"token string\">'Accept'</span><span class=\"token punctuation\">:</span> <span class=\"token string\">'application/json, text/plain, */*'</span><span class=\"token punctuation\">,</span>\n            <span class=\"token string\">'Accept-Encoding'</span><span class=\"token punctuation\">:</span> <span class=\"token string\">'gzip, deflate, sdch'</span><span class=\"token punctuation\">,</span>\n            <span class=\"token string\">'Accept-Language'</span><span class=\"token punctuation\">:</span> <span class=\"token string\">'zh-CN,zh;q=0.8,en;q=0.6,ja;q=0.4,zh-TW;q=0.2,mt;q=0.2'</span><span class=\"token punctuation\">,</span>\n            <span class=\"token string\">'Connection'</span><span class=\"token punctuation\">:</span> <span class=\"token string\">'keep-alive'</span><span class=\"token punctuation\">,</span>\n            <span class=\"token string\">'X-Requested-With'</span><span class=\"token punctuation\">:</span> <span class=\"token string\">'XMLHttpRequest'</span><span class=\"token punctuation\">,</span>\n        <span class=\"token punctuation\">}</span>\n        max_page <span class=\"token operator\">=</span> self<span class=\"token punctuation\">.</span>settings<span class=\"token punctuation\">.</span>get<span class=\"token punctuation\">(</span><span class=\"token string\">'MAX_PAGE'</span><span class=\"token punctuation\">)</span>\n        base_url <span class=\"token operator\">=</span> <span class=\"token string\">'http://www.u17.com/comic/ajax.php?mod=comic_list&amp;act=comic_list_new_fun&amp;a=get_comic_list'</span>\n        <span class=\"token keyword\">for</span> page <span class=\"token keyword\">in</span> range<span class=\"token punctuation\">(</span><span class=\"token number\">2</span><span class=\"token punctuation\">,</span> max_page<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n            data<span class=\"token punctuation\">[</span><span class=\"token string\">'data[page_num]'</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> str<span class=\"token punctuation\">(</span>page<span class=\"token punctuation\">)</span>\n            <span class=\"token keyword\">yield</span> scrapy<span class=\"token punctuation\">.</span>FormRequest<span class=\"token punctuation\">(</span>url<span class=\"token operator\">=</span>base_url<span class=\"token punctuation\">,</span> headers<span class=\"token operator\">=</span>headers<span class=\"token punctuation\">,</span> method<span class=\"token operator\">=</span><span class=\"token string\">'POST'</span><span class=\"token punctuation\">,</span> formdata<span class=\"token operator\">=</span>data<span class=\"token punctuation\">,</span> callback<span class=\"token operator\">=</span>self<span class=\"token punctuation\">.</span>parse<span class=\"token punctuation\">)</span>\n\n    <span class=\"token keyword\">def</span> <span class=\"token function\">get_headers</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n        headers <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n            <span class=\"token string\">'User-Agent'</span><span class=\"token punctuation\">:</span> <span class=\"token string\">'Mozilla/4.0 (compatible; MSIE 7.0; Windows NT 5.1; 360SE)'</span><span class=\"token punctuation\">,</span>\n            <span class=\"token string\">'Host'</span><span class=\"token punctuation\">:</span> <span class=\"token string\">'www.u17.com'</span><span class=\"token punctuation\">,</span>\n            <span class=\"token string\">'Accept'</span><span class=\"token punctuation\">:</span> <span class=\"token string\">'application/json, text/plain, */*'</span><span class=\"token punctuation\">,</span>\n            <span class=\"token string\">'Accept-Encoding'</span><span class=\"token punctuation\">:</span> <span class=\"token string\">'gzip, deflate, sdch'</span><span class=\"token punctuation\">,</span>\n            <span class=\"token string\">'Accept-Language'</span><span class=\"token punctuation\">:</span> <span class=\"token string\">'zh-CN,zh;q=0.8,en;q=0.6,ja;q=0.4,zh-TW;q=0.2,mt;q=0.2'</span><span class=\"token punctuation\">,</span>\n            <span class=\"token string\">'Connection'</span><span class=\"token punctuation\">:</span> <span class=\"token string\">'keep-alive'</span><span class=\"token punctuation\">,</span>\n            <span class=\"token string\">'X-Requested-With'</span><span class=\"token punctuation\">:</span> <span class=\"token string\">'XMLHttpRequest'</span><span class=\"token punctuation\">,</span>\n            <span class=\"token string\">'Content-Type'</span><span class=\"token punctuation\">:</span> <span class=\"token string\">'application/x-www-form-urlencoded; charset=UTF-8'</span><span class=\"token punctuation\">,</span>\n        <span class=\"token punctuation\">}</span>\n        <span class=\"token keyword\">return</span> headers\n\n    <span class=\"token keyword\">def</span> <span class=\"token function\">parse</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">,</span> response<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n        result_json <span class=\"token operator\">=</span> json<span class=\"token punctuation\">.</span>loads<span class=\"token punctuation\">(</span>response<span class=\"token punctuation\">.</span>text<span class=\"token punctuation\">)</span>\n        data_list <span class=\"token operator\">=</span> result_json<span class=\"token punctuation\">[</span><span class=\"token string\">'comic_list'</span><span class=\"token punctuation\">]</span>\n        <span class=\"token keyword\">for</span> data <span class=\"token keyword\">in</span> data_list<span class=\"token punctuation\">:</span>\n            item <span class=\"token operator\">=</span> YouyaoqiItem<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n            item<span class=\"token punctuation\">[</span><span class=\"token string\">'comic_id'</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> data<span class=\"token punctuation\">[</span><span class=\"token string\">'comic_id'</span><span class=\"token punctuation\">]</span>\n            item<span class=\"token punctuation\">[</span><span class=\"token string\">'name'</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> data<span class=\"token punctuation\">[</span><span class=\"token string\">'name'</span><span class=\"token punctuation\">]</span>\n            item<span class=\"token punctuation\">[</span><span class=\"token string\">'cover'</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> data<span class=\"token punctuation\">[</span><span class=\"token string\">'cover'</span><span class=\"token punctuation\">]</span>\n            item<span class=\"token punctuation\">[</span><span class=\"token string\">'update_type'</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> data<span class=\"token punctuation\">[</span><span class=\"token string\">'update_type'</span><span class=\"token punctuation\">]</span>\n            item<span class=\"token punctuation\">[</span><span class=\"token string\">'line1'</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> data<span class=\"token punctuation\">[</span><span class=\"token string\">'line1'</span><span class=\"token punctuation\">]</span>\n            item<span class=\"token punctuation\">[</span><span class=\"token string\">'line2'</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> data<span class=\"token punctuation\">[</span><span class=\"token string\">'line2'</span><span class=\"token punctuation\">]</span>\n            <span class=\"token keyword\">yield</span> item\n\n            detail_url <span class=\"token operator\">=</span> <span class=\"token string\">'http://www.u17.com/comic/%s.html'</span> <span class=\"token operator\">%</span> item<span class=\"token punctuation\">[</span><span class=\"token string\">'comic_id'</span><span class=\"token punctuation\">]</span>\n            <span class=\"token keyword\">yield</span> scrapy<span class=\"token punctuation\">.</span>Request<span class=\"token punctuation\">(</span>url<span class=\"token operator\">=</span>detail_url<span class=\"token punctuation\">,</span> headers<span class=\"token operator\">=</span>self<span class=\"token punctuation\">.</span>get_headers<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> callback<span class=\"token operator\">=</span>self<span class=\"token punctuation\">.</span>parse_detail<span class=\"token punctuation\">)</span>\n\n    <span class=\"token keyword\">def</span> <span class=\"token function\">parse_detail</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">,</span> response<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n        results <span class=\"token operator\">=</span> response<span class=\"token punctuation\">.</span>css<span class=\"token punctuation\">(</span><span class=\"token string\">'#chapter li'</span><span class=\"token punctuation\">)</span>\n        <span class=\"token keyword\">for</span> item <span class=\"token keyword\">in</span> results<span class=\"token punctuation\">:</span>\n            detail_item <span class=\"token operator\">=</span> U17DetailItem<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n            name_list <span class=\"token operator\">=</span> item<span class=\"token punctuation\">.</span>xpath<span class=\"token punctuation\">(</span><span class=\"token string\">'./a/text()'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>extract<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n            <span class=\"token keyword\">for</span> name <span class=\"token keyword\">in</span> name_list<span class=\"token punctuation\">:</span>\n                detail_item<span class=\"token punctuation\">[</span><span class=\"token string\">'name'</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> name<span class=\"token punctuation\">.</span>replace<span class=\"token punctuation\">(</span><span class=\"token string\">'\"'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">''</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>strip<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n            <span class=\"token comment\" spellcheck=\"true\"># detail_item['u_id'] = title.replace</span>\n            <span class=\"token comment\" spellcheck=\"true\"># detail_item['name'] = item.replace('\"', '').strip()</span>\n                <span class=\"token keyword\">yield</span> detail_item\n            <span class=\"token comment\" spellcheck=\"true\"># a_url_list = item.css('./a::attr(href)').extract()</span>\n            <span class=\"token comment\" spellcheck=\"true\"># for a_url in a_url_list:</span>\n            <span class=\"token comment\" spellcheck=\"true\">#     detail_item['url'] = a_url</span>\n            <span class=\"token comment\" spellcheck=\"true\">#     yield detail_item</span>\n\n</code></pre>\n","site":{"data":{}},"excerpt":"","more":"<h3 id=\"创建一个有个youyaoqi项目\"><a href=\"#创建一个有个youyaoqi项目\" class=\"headerlink\" title=\"创建一个有个youyaoqi项目\"></a>创建一个有个youyaoqi项目</h3><ul>\n<li>项目自带文件<ul>\n<li>scrapy.cfg</li>\n<li>youyaoqi<ul>\n<li><strong> init</strong>.py</li>\n<li>items.py</li>\n<li>middlewares.py</li>\n<li>pipelines.py</li>\n<li>settings.py</li>\n<li>spiders<ul>\n<li><strong> init </strong>.py</li>\n<li>cartoon.py</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<p><strong>items</strong></p>\n<pre><code class=\"python\"># -*- coding: utf-8 -*-\n\n# Define here the models for your scraped items\n#\n# See documentation in:\n# https://doc.scrapy.org/en/latest/topics/items.html\n\nimport scrapy\n\n\nclass YouyaoqiItem(scrapy.Item):\n    # define the fields for your item here like:\n    comic_id = scrapy.Field()\n    name = scrapy.Field()\n    cover = scrapy.Field()\n    update_type = scrapy.Field()\n    line1 = scrapy.Field()\n    line2 = scrapy.Field()\n\n\nclass U17DetailItem(scrapy.Item):\n    name = scrapy.Field()\n    # u_id = scrapy.Field()\n\n</code></pre>\n<p><strong>pipelines.py</strong></p>\n<pre><code class=\"python\"># -*- coding: utf-8 -*-\n\n# Define your item pipelines here\n#\n# Don&#39;t forget to add your pipeline to the ITEM_PIPELINES setting\n# See: https://doc.scrapy.org/en/latest/topics/item-pipeline.html\nimport pymysql\nfrom scrapy import Request\nfrom scrapy.exceptions import DropItem\nfrom scrapy.pipelines.images import ImagesPipeline\n\n\nclass ImagePipeline(ImagesPipeline):\n    def file_path(self, request, response=None, info=None):\n        url = request.url\n        file_name = url.split(&#39;/&#39;)[-1]\n        return file_name\n\n    def item_completed(self, results, item, info):\n        image_paths = [x[&#39;path&#39;] for ok, x in results if ok]\n        if not image_paths:\n            raise DropItem(&#39;Image Downloaded Failed&#39;)\n        return item\n\n    def get_media_requests(self, item, info):\n        yield Request(item[&#39;cover&#39;])\n\n\nclass YouyaoqiMysqlPipeline(object):\n    def __init__(self, host, port, database, username, password):\n        self.host = host\n        self.port = port\n        self.database = database\n        self.username = username\n        self.password = password\n\n    @classmethod\n    def from_crawler(cls, crawler):\n        return cls(\n            host=crawler.settings.get(&#39;MYSQL_HOST&#39;),\n            port=crawler.settings.get(&#39;MYSQL_PORT&#39;),\n            database=crawler.settings.get(&#39;MYSQL_DATABASE&#39;),\n            username=crawler.settings.get(&#39;MYSQL_USERNAME&#39;),\n            password=crawler.settings.get(&#39;MYSQL_PASSWORD&#39;),\n        )\n\n    def open_spider(self, spider):\n        # 获取数据库连接\n        self.db = pymysql.connect(self.host, self.username, self.password, self.database, charset=&#39;utf8&#39;,\n                                  port=self.port)\n        self.cursor = self.db.cursor()\n\n    def close_spider(self, spider):\n        # 释放数据库连接\n        self.db.close()\n\n    def process_item(self, item, spider):\n        # 插入item数据\n        sql = &#39;insert into company (comic_id, name, cover, update_type, line1, line2) values (%s, %s, %s, %s, %s, %s)&#39;\n        self.cursor.execute(sql, (item[&#39;comic_id&#39;], item[&#39;name&#39;], item[&#39;cover&#39;], item[&#39;update_type&#39;], item[&#39;line1&#39;], item[&#39;line2&#39;]))\n        self.db.commit()\n\n        return item\n\n</code></pre>\n<p><strong>settings.py</strong></p>\n<pre><code class=\"python\"># -*- coding: utf-8 -*-\n\n# Scrapy settings for youyaoqi project\n#\n# For simplicity, this file contains only settings considered important or\n# commonly used. You can find more settings consulting the documentation:\n#\n#     https://doc.scrapy.org/en/latest/topics/settings.html\n#     https://doc.scrapy.org/en/latest/topics/downloader-middleware.html\n#     https://doc.scrapy.org/en/latest/topics/spider-middleware.html\n\nBOT_NAME = &#39;youyaoqi&#39;\n\nSPIDER_MODULES = [&#39;youyaoqi.spiders&#39;]\nNEWSPIDER_MODULE = &#39;youyaoqi.spiders&#39;\n\n\n# Crawl responsibly by identifying yourself (and your website) on the user-agent\n#USER_AGENT = &#39;youyaoqi (+http://www.yourdomain.com)&#39;\n\n# Obey robots.txt rules\nROBOTSTXT_OBEY = False\n\n# Configure maximum concurrent requests performed by Scrapy (default: 16)\n#CONCURRENT_REQUESTS = 32\n\n# Configure a delay for requests for the same website (default: 0)\n# See https://doc.scrapy.org/en/latest/topics/settings.html#download-delay\n# See also autothrottle settings and docs\n#DOWNLOAD_DELAY = 3\n# The download delay setting will honor only one of:\n#CONCURRENT_REQUESTS_PER_DOMAIN = 16\n#CONCURRENT_REQUESTS_PER_IP = 16\n\n# Disable cookies (enabled by default)\n#COOKIES_ENABLED = False\n\n# Disable Telnet Console (enabled by default)\n#TELNETCONSOLE_ENABLED = False\n\n# Override the default request headers:\n#DEFAULT_REQUEST_HEADERS = {\n#   &#39;Accept&#39;: &#39;text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8&#39;,\n#   &#39;Accept-Language&#39;: &#39;en&#39;,\n#}\n\n# Enable or disable spider middlewares\n# See https://doc.scrapy.org/en/latest/topics/spider-middleware.html\n#SPIDER_MIDDLEWARES = {\n#    &#39;youyaoqi.middlewares.YouyaoqiSpiderMiddleware&#39;: 543,\n#}\n\n# Enable or disable downloader middlewares\n# See https://doc.scrapy.org/en/latest/topics/downloader-middleware.html\n#DOWNLOADER_MIDDLEWARES = {\n#    &#39;youyaoqi.middlewares.YouyaoqiDownloaderMiddleware&#39;: 543,\n#}\n\n# Enable or disable extensions\n# See https://doc.scrapy.org/en/latest/topics/extensions.html\n#EXTENSIONS = {\n#    &#39;scrapy.extensions.telnet.TelnetConsole&#39;: None,\n#}\n\n# Configure item pipelines\n# See https://doc.scrapy.org/en/latest/topics/item-pipeline.html\nITEM_PIPELINES = {\n   # &#39;youyaoqi.pipelines.YouyaoqiMysqlPipeline&#39;: 300,\n   # &#39;youyaoqi.pipelines.ImagePipeline&#39;: 300,\n}\n\n# Enable and configure the AutoThrottle extension (disabled by default)\n# See https://doc.scrapy.org/en/latest/topics/autothrottle.html\n#AUTOTHROTTLE_ENABLED = True\n# The initial download delay\n#AUTOTHROTTLE_START_DELAY = 5\n# The maximum download delay to be set in case of high latencies\n#AUTOTHROTTLE_MAX_DELAY = 60\n# The average number of requests Scrapy should be sending in parallel to\n# each remote server\n#AUTOTHROTTLE_TARGET_CONCURRENCY = 1.0\n# Enable showing throttling stats for every response received:\n#AUTOTHROTTLE_DEBUG = False\n\n# Enable and configure HTTP caching (disabled by default)\n# See https://doc.scrapy.org/en/latest/topics/downloader-middleware.html#httpcache-middleware-settings\n#HTTPCACHE_ENABLED = True\n#HTTPCACHE_EXPIRATION_SECS = 0\n#HTTPCACHE_DIR = &#39;httpcache&#39;\n#HTTPCACHE_IGNORE_HTTP_CODES = []\n#HTTPCACHE_STORAGE = &#39;scrapy.extensions.httpcache.FilesystemCacheStorage&#39;\nFEED_EXPORT_ENCODING = &#39;utf-8&#39;\nMAX_PAGE = 500\n\n# IMAGES_STORE = &#39;./images&#39;\n\n# mysql settings\nMYSQL_HOST = &#39;127.0.0.1&#39;\nMYSQL_PORT = 3306\nMYSQL_USERNAME = &#39;root&#39;\nMYSQL_PASSWORD = &#39;123456&#39;\nMYSQL_DATABASE = &#39;u17&#39;\n\n</code></pre>\n<p><strong>cartoon.py</strong></p>\n<pre><code class=\"python\"># -*- coding: utf-8 -*-\nimport json\nimport scrapy\nfrom youyaoqi.items import YouyaoqiItem, U17DetailItem\n\n\nclass CartoonSpider(scrapy.Spider):\n    name = &#39;cartoon&#39;\n    allowed_domains = [&#39;www.u17.com&#39;]\n    start_urls = [&#39;http://www.u17.com/&#39;]\n\n    def start_requests(self):\n        data = {&#39;data[group_id]&#39;: &#39;no&#39;, &#39;data[theme_id]&#39;: &#39;no&#39;, &#39;data[is_vip]&#39;: &#39;no&#39;, &#39;data[accredit]&#39;: &#39;no&#39;, &#39;data[color]&#39;: &#39;no&#39;, &#39;data[comic_type]&#39;: &#39;no&#39;, &#39;data[series_status]&#39;: &#39;no&#39;, &#39;data[order]&#39;: &#39;2&#39;, &#39;data[page_num]&#39;: &#39;1&#39;, &#39;data[read_mode]&#39;: &#39;no&#39; }\n        headers = {\n            &#39;Referer&#39;: &#39;http://www.u17.com/comic_list/th99_gr99_ca99_ss99_ob0_ac0_as0_wm0_co99_ct99_p1.html?order=2&#39;,\n            &#39;User-Agent&#39;: &#39;Mozilla/5.0 (Windows NT 6.1; Trident/7.0; rv:11.0) like Gecko&#39;,\n            &#39;Host&#39;: &#39;www.u17.com&#39;,\n            &#39;Accept&#39;: &#39;application/json, text/plain, */*&#39;,\n            &#39;Accept-Encoding&#39;: &#39;gzip, deflate, sdch&#39;,\n            &#39;Accept-Language&#39;: &#39;zh-CN,zh;q=0.8,en;q=0.6,ja;q=0.4,zh-TW;q=0.2,mt;q=0.2&#39;,\n            &#39;Connection&#39;: &#39;keep-alive&#39;,\n            &#39;X-Requested-With&#39;: &#39;XMLHttpRequest&#39;,\n        }\n        max_page = self.settings.get(&#39;MAX_PAGE&#39;)\n        base_url = &#39;http://www.u17.com/comic/ajax.php?mod=comic_list&amp;act=comic_list_new_fun&amp;a=get_comic_list&#39;\n        for page in range(2, max_page):\n            data[&#39;data[page_num]&#39;] = str(page)\n            yield scrapy.FormRequest(url=base_url, headers=headers, method=&#39;POST&#39;, formdata=data, callback=self.parse)\n\n    def get_headers(self):\n        headers = {\n            &#39;User-Agent&#39;: &#39;Mozilla/4.0 (compatible; MSIE 7.0; Windows NT 5.1; 360SE)&#39;,\n            &#39;Host&#39;: &#39;www.u17.com&#39;,\n            &#39;Accept&#39;: &#39;application/json, text/plain, */*&#39;,\n            &#39;Accept-Encoding&#39;: &#39;gzip, deflate, sdch&#39;,\n            &#39;Accept-Language&#39;: &#39;zh-CN,zh;q=0.8,en;q=0.6,ja;q=0.4,zh-TW;q=0.2,mt;q=0.2&#39;,\n            &#39;Connection&#39;: &#39;keep-alive&#39;,\n            &#39;X-Requested-With&#39;: &#39;XMLHttpRequest&#39;,\n            &#39;Content-Type&#39;: &#39;application/x-www-form-urlencoded; charset=UTF-8&#39;,\n        }\n        return headers\n\n    def parse(self, response):\n        result_json = json.loads(response.text)\n        data_list = result_json[&#39;comic_list&#39;]\n        for data in data_list:\n            item = YouyaoqiItem()\n            item[&#39;comic_id&#39;] = data[&#39;comic_id&#39;]\n            item[&#39;name&#39;] = data[&#39;name&#39;]\n            item[&#39;cover&#39;] = data[&#39;cover&#39;]\n            item[&#39;update_type&#39;] = data[&#39;update_type&#39;]\n            item[&#39;line1&#39;] = data[&#39;line1&#39;]\n            item[&#39;line2&#39;] = data[&#39;line2&#39;]\n            yield item\n\n            detail_url = &#39;http://www.u17.com/comic/%s.html&#39; % item[&#39;comic_id&#39;]\n            yield scrapy.Request(url=detail_url, headers=self.get_headers(), callback=self.parse_detail)\n\n    def parse_detail(self, response):\n        results = response.css(&#39;#chapter li&#39;)\n        for item in results:\n            detail_item = U17DetailItem()\n            name_list = item.xpath(&#39;./a/text()&#39;).extract()\n            for name in name_list:\n                detail_item[&#39;name&#39;] = name.replace(&#39;&quot;&#39;, &#39;&#39;).strip()\n            # detail_item[&#39;u_id&#39;] = title.replace\n            # detail_item[&#39;name&#39;] = item.replace(&#39;&quot;&#39;, &#39;&#39;).strip()\n                yield detail_item\n            # a_url_list = item.css(&#39;./a::attr(href)&#39;).extract()\n            # for a_url in a_url_list:\n            #     detail_item[&#39;url&#39;] = a_url\n            #     yield detail_item\n\n</code></pre>\n"},{"title":"spider相关","date":"2018-05-01T07:15:06.000Z","author":"smile","_content":"\n### 爬虫的结构\n爬虫大致分为三个部分\n- 控制器：主要负责根据系统传过来的URL链接，分配线程，然后启动线程调用爬虫爬取网页的过程\n- 解析器：负责爬虫的主要部分，作用：下载网页功能，对网页的文本进行处理，如过滤，抽取标签的功能，分析数据的功能\n- 资源库：用来存储网页中下载下来的数据记录的容器，并生成索引目标源。中大型的数据库产品：Oracle、Sql Server等\n\n### 爬虫分类\n- 分布式爬虫(Nutch)问题：1.海量URL管理；2.网速；做搜索引擎可以选择\n- JAVA爬虫问题：不支持多线程、不支持代理、不能过滤重复URL的，那都不叫开源爬虫，那叫循环执行http请求。\n- 非JAVA爬虫：在非JAVA语言编写的爬虫中，有很多优秀的爬虫。这里单独提取出来作为一类，并不是针对爬虫本身的质量进行讨论，而是针对larbin、scrapy这类爬虫，对开发成本的影响。","source":"_posts/spider/spider相关.md","raw":"---\ntitle: spider相关\ndate: 2018-05-01 15:15:06\nauthor: smile\ncategories: spider\ntags: \n---\n\n### 爬虫的结构\n爬虫大致分为三个部分\n- 控制器：主要负责根据系统传过来的URL链接，分配线程，然后启动线程调用爬虫爬取网页的过程\n- 解析器：负责爬虫的主要部分，作用：下载网页功能，对网页的文本进行处理，如过滤，抽取标签的功能，分析数据的功能\n- 资源库：用来存储网页中下载下来的数据记录的容器，并生成索引目标源。中大型的数据库产品：Oracle、Sql Server等\n\n### 爬虫分类\n- 分布式爬虫(Nutch)问题：1.海量URL管理；2.网速；做搜索引擎可以选择\n- JAVA爬虫问题：不支持多线程、不支持代理、不能过滤重复URL的，那都不叫开源爬虫，那叫循环执行http请求。\n- 非JAVA爬虫：在非JAVA语言编写的爬虫中，有很多优秀的爬虫。这里单独提取出来作为一类，并不是针对爬虫本身的质量进行讨论，而是针对larbin、scrapy这类爬虫，对开发成本的影响。","slug":"spider/spider相关","published":1,"updated":"2019-03-14T01:46:44.384Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjt87kqm80031r8r64oprhmds","content":"<h3 id=\"爬虫的结构\"><a href=\"#爬虫的结构\" class=\"headerlink\" title=\"爬虫的结构\"></a>爬虫的结构</h3><p>爬虫大致分为三个部分</p>\n<ul>\n<li>控制器：主要负责根据系统传过来的URL链接，分配线程，然后启动线程调用爬虫爬取网页的过程</li>\n<li>解析器：负责爬虫的主要部分，作用：下载网页功能，对网页的文本进行处理，如过滤，抽取标签的功能，分析数据的功能</li>\n<li>资源库：用来存储网页中下载下来的数据记录的容器，并生成索引目标源。中大型的数据库产品：Oracle、Sql Server等</li>\n</ul>\n<h3 id=\"爬虫分类\"><a href=\"#爬虫分类\" class=\"headerlink\" title=\"爬虫分类\"></a>爬虫分类</h3><ul>\n<li>分布式爬虫(Nutch)问题：1.海量URL管理；2.网速；做搜索引擎可以选择</li>\n<li>JAVA爬虫问题：不支持多线程、不支持代理、不能过滤重复URL的，那都不叫开源爬虫，那叫循环执行http请求。</li>\n<li>非JAVA爬虫：在非JAVA语言编写的爬虫中，有很多优秀的爬虫。这里单独提取出来作为一类，并不是针对爬虫本身的质量进行讨论，而是针对larbin、scrapy这类爬虫，对开发成本的影响。</li>\n</ul>\n","site":{"data":{}},"excerpt":"","more":"<h3 id=\"爬虫的结构\"><a href=\"#爬虫的结构\" class=\"headerlink\" title=\"爬虫的结构\"></a>爬虫的结构</h3><p>爬虫大致分为三个部分</p>\n<ul>\n<li>控制器：主要负责根据系统传过来的URL链接，分配线程，然后启动线程调用爬虫爬取网页的过程</li>\n<li>解析器：负责爬虫的主要部分，作用：下载网页功能，对网页的文本进行处理，如过滤，抽取标签的功能，分析数据的功能</li>\n<li>资源库：用来存储网页中下载下来的数据记录的容器，并生成索引目标源。中大型的数据库产品：Oracle、Sql Server等</li>\n</ul>\n<h3 id=\"爬虫分类\"><a href=\"#爬虫分类\" class=\"headerlink\" title=\"爬虫分类\"></a>爬虫分类</h3><ul>\n<li>分布式爬虫(Nutch)问题：1.海量URL管理；2.网速；做搜索引擎可以选择</li>\n<li>JAVA爬虫问题：不支持多线程、不支持代理、不能过滤重复URL的，那都不叫开源爬虫，那叫循环执行http请求。</li>\n<li>非JAVA爬虫：在非JAVA语言编写的爬虫中，有很多优秀的爬虫。这里单独提取出来作为一类，并不是针对爬虫本身的质量进行讨论，而是针对larbin、scrapy这类爬虫，对开发成本的影响。</li>\n</ul>\n"},{"title":"shop_mo","date":"2018-05-09T07:15:06.000Z","author":"smile","_content":"\n### 蘑菇街\nagent_list.py\n```python\nimport random\n\ndef get_random_agent():\n\n\tagent_list = [\n\t\"Mozilla/4.0 (compatible; MSIE 6.0; Windows NT 5.1; SV1; AcooBrowser; .NET CLR 1.1.4322; .NET CLR 2.0.50727)\",\n        \"Mozilla/4.0 (compatible; MSIE 7.0; Windows NT 6.0; Acoo Browser; SLCC1; .NET CLR 2.0.50727; Media Center PC 5.0; .NET CLR 3.0.04506)\",\n        \"Mozilla/4.0 (compatible; MSIE 7.0; AOL 9.5; AOLBuild 4337.35; Windows NT 5.1; .NET CLR 1.1.4322; .NET CLR 2.0.50727)\",\n        \"Mozilla/5.0 (Windows; U; MSIE 9.0; Windows NT 9.0; en-US)\",\n        \"Mozilla/5.0 (compatible; MSIE 9.0; Windows NT 6.1; Win64; x64; Trident/5.0; .NET CLR 3.5.30729; .NET CLR 3.0.30729; .NET CLR 2.0.50727; Media Center PC 6.0)\",\n        \"Mozilla/5.0 (compatible; MSIE 8.0; Windows NT 6.0; Trident/4.0; WOW64; Trident/4.0; SLCC2; .NET CLR 2.0.50727; .NET CLR 3.5.30729; .NET CLR 3.0.30729; .NET CLR 1.0.3705; .NET CLR 1.1.4322)\",\n        \"Mozilla/4.0 (compatible; MSIE 7.0b; Windows NT 5.2; .NET CLR 1.1.4322; .NET CLR 2.0.50727; InfoPath.2; .NET CLR 3.0.04506.30)\",\n        \"Mozilla/5.0 (Windows; U; Windows NT 5.1; zh-CN) AppleWebKit/523.15 (KHTML, like Gecko, Safari/419.3) Arora/0.3 (Change: 287 c9dfb30)\",\n        \"Mozilla/5.0 (X11; U; Linux; en-US) AppleWebKit/527+ (KHTML, like Gecko, Safari/419.3) Arora/0.6\",\n        \"Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US; rv:1.8.1.2pre) Gecko/20070215 K-Ninja/2.1.1\",\n        \"Mozilla/5.0 (Windows; U; Windows NT 5.1; zh-CN; rv:1.9) Gecko/20080705 Firefox/3.0 Kapiko/3.0\",\n        \"Mozilla/5.0 (X11; Linux i686; U;) Gecko/20070322 Kazehakase/0.4.5\",\n        \"Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.9.0.8) Gecko Fedora/1.9.0.8-1.fc10 Kazehakase/0.5.6\",\n        \"Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/535.11 (KHTML, like Gecko) Chrome/17.0.963.56 Safari/535.11\",\n        \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_7_3) AppleWebKit/535.20 (KHTML, like Gecko) Chrome/19.0.1036.7 Safari/535.20\",\n        \"Opera/9.80 (Macintosh; Intel Mac OS X 10.6.8; U; fr) Presto/2.9.168 Version/11.52\",\n\t]\n\n\tagent = random.choice(agent_list)\n\treturn agent\n\nif __name__ == '__main__':\n\tagent = get_random_agent()\n\tprint(agent)\n```\n\n\n数据库中创建的字段\n```python\nfrom sqlalchemy.ext.declarative import declarative_base\nfrom sqlalchemy import Column, Integer, String, ForeignKey, UniqueConstraint, Index\nfrom sqlalchemy.orm import sessionmaker, relationship\nimport pymysql\nfrom sqlalchemy import create_engine\n\nengine = create_engine(\"mysql+pymysql://root:123456@127.0.0.1:3306/maoyan_db?charset=utf8\", max_overflow=5,encoding='utf-8')\nBase = declarative_base()\n\nclass MoguProduct(Base):\n    __tablename__ = 'mogu'\n    id = Column(Integer, primary_key=True, autoincrement=True)    #主键，自增\n    tradeitemid = Column(String(128))\n    img = Column(String(1024))\n    clienturl = Column(String(1024))\n    link = Column(String(1024))\n    title = Column(String(512))\n    orgprice = Column(String(128))\n    price = Column(String(128))\n    similarityurl = Column(String(1024))\npy\n```\n\n运行的程序\n```python\nimport json\nimport requests\nfrom sqlalchemy import create_engine\nfrom sqlalchemy.orm import sessionmaker\nfrom agent_helper import get_random_agent\nfrom models import MoguProduct\n\n\nengine = create_engine(\"mysql+pymysql://root:123456@127.0.0.1/mogudb?charset=utf8\", max_overflow=5)\nsession_maker = sessionmaker(bind=engine)\nsession = session_maker()\n\n\n# 取页面HTML\ndef get_one_page(url, page):\n    agent = get_random_agent()\n    # referer = \"https://list.mogujie.com/s?page=\" + page + \"&q=%E8%A1%A3%E6%9C%8D&sort=pop&ppath=&ptp=1.5y18ub.0.0.d9fJkbZi\"\n    referer = \"https://list.mogujie.com/s?page=\" + str(page) + \"&q=%E8%A1%A3%E6%9C%8D&sort=pop&ppath=&ptp=1.5y18ub.0.0.wVFuR4dg\"\n    headers = {\n        'Referer': referer,\n        'User-Agent': agent,\n        'Host': 'list.mogujie.com',\n        'Accept': 'text/javascript, application/javascript, application/ecmascript, application/x-ecmascript, */*; q=0.01',\n        'Accept-Encoding': 'gzip, deflate, br',\n        'Accept-Language': 'en-US,en;q=0.9',\n        'Connection': 'keep-alive',\n        'X-Requested-With': 'XMLHttpRequest',\n    }\n    response = requests.get(url, headers=headers)\n    if response.status_code == 200:\n        text = response.content.decode('utf-8')\n        return text\n    return None\n\n# 解析JSON数据\ndef parse_json(html):\n    # 匹配出现的第一个（\n    start = html.index('(') + 1\n    html = html[start:-2]\n    json_data = json.loads(html)\n    result_list = json_data['result']['wall']['docs']\n    for item in result_list:\n        mogu = MoguProduct()\n        mogu.tradeitemid = item['tradeItemId']\n        mogu.img = item['img']\n        mogu.clienturl = item['clientUrl']\n        mogu.link = item['link']\n        mogu.title = item['title']\n        mogu.orgprice = item['orgPrice']\n        mogu.price = item['price']\n        mogu.similarityurl = item['similarityUrl']\n        # todo 保存数据库\n        try:\n            session.add(mogu)\n            session.commit()\n        except Exception as e:\n            pass\n\ndef main():\n    for i in range(69):\n        page = i\n        print(i)\n        url = \"https://list.mogujie.com/search?callback=jQuery211032322620930865265_1546578701309&_version=8193&ratio=3%3A4&cKey=43&sort=pop&page=\" + str(i+1) + \"&q=%25E8%25A1%25A3%25E6%259C%258D&minPrice=&maxPrice=&ppath=&cpc_offset=&ptp=1.5y18ub.0.0.y3JjPAiS&_=1546578701310\"\n        # url = \"https://list.mogujie.com/search?callback=jQuery211046561435892064384_1546568094492&_version=8193&ratio=3%3A4&cKey=43&sort=pop&page=\" + str(i+1) + \"&q=%25E8%25A3%25A4%2    5E5%25AD%2590&minPrice=&maxPrice=&ppath=&cpc_offset=&ptp=1.5y18ub.0.0.k1OJRbUq&_=1546568094493\"\n        html = get_one_page(url, page)\n        print(html)\n        parse_json(html)\n\n\nif __name__ == \"__main__\":\n    main()\n```\n\n数据库建模语句，SQL语句\n```python\ncreate database mogudb default character set=utf8;\n\nuse mogudb;\n\ncreate table mogu (\n    id integer auto_increment primary key,\n    tradeitemid varchar(128),\n    img varchar(1024),\n    clienturl varchar(1024),\n    link varchar(1024),\n    title varchar(512),\n    orgprice varchar(128),\n    price varchar(128),\n    similarityurl varchar(1024)\n);\n\ncreate unique index ux_mogu_tradeitemid on mogu(tradeitemid);\n\n```\n\n","source":"_posts/spider/爬取数据.md","raw":"---\ntitle: shop_mo\ndate: 2018-05-09 15:15:06\nauthor: smile\ncategories: spider\ntags: \n  - agent\n---\n\n### 蘑菇街\nagent_list.py\n```python\nimport random\n\ndef get_random_agent():\n\n\tagent_list = [\n\t\"Mozilla/4.0 (compatible; MSIE 6.0; Windows NT 5.1; SV1; AcooBrowser; .NET CLR 1.1.4322; .NET CLR 2.0.50727)\",\n        \"Mozilla/4.0 (compatible; MSIE 7.0; Windows NT 6.0; Acoo Browser; SLCC1; .NET CLR 2.0.50727; Media Center PC 5.0; .NET CLR 3.0.04506)\",\n        \"Mozilla/4.0 (compatible; MSIE 7.0; AOL 9.5; AOLBuild 4337.35; Windows NT 5.1; .NET CLR 1.1.4322; .NET CLR 2.0.50727)\",\n        \"Mozilla/5.0 (Windows; U; MSIE 9.0; Windows NT 9.0; en-US)\",\n        \"Mozilla/5.0 (compatible; MSIE 9.0; Windows NT 6.1; Win64; x64; Trident/5.0; .NET CLR 3.5.30729; .NET CLR 3.0.30729; .NET CLR 2.0.50727; Media Center PC 6.0)\",\n        \"Mozilla/5.0 (compatible; MSIE 8.0; Windows NT 6.0; Trident/4.0; WOW64; Trident/4.0; SLCC2; .NET CLR 2.0.50727; .NET CLR 3.5.30729; .NET CLR 3.0.30729; .NET CLR 1.0.3705; .NET CLR 1.1.4322)\",\n        \"Mozilla/4.0 (compatible; MSIE 7.0b; Windows NT 5.2; .NET CLR 1.1.4322; .NET CLR 2.0.50727; InfoPath.2; .NET CLR 3.0.04506.30)\",\n        \"Mozilla/5.0 (Windows; U; Windows NT 5.1; zh-CN) AppleWebKit/523.15 (KHTML, like Gecko, Safari/419.3) Arora/0.3 (Change: 287 c9dfb30)\",\n        \"Mozilla/5.0 (X11; U; Linux; en-US) AppleWebKit/527+ (KHTML, like Gecko, Safari/419.3) Arora/0.6\",\n        \"Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US; rv:1.8.1.2pre) Gecko/20070215 K-Ninja/2.1.1\",\n        \"Mozilla/5.0 (Windows; U; Windows NT 5.1; zh-CN; rv:1.9) Gecko/20080705 Firefox/3.0 Kapiko/3.0\",\n        \"Mozilla/5.0 (X11; Linux i686; U;) Gecko/20070322 Kazehakase/0.4.5\",\n        \"Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.9.0.8) Gecko Fedora/1.9.0.8-1.fc10 Kazehakase/0.5.6\",\n        \"Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/535.11 (KHTML, like Gecko) Chrome/17.0.963.56 Safari/535.11\",\n        \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_7_3) AppleWebKit/535.20 (KHTML, like Gecko) Chrome/19.0.1036.7 Safari/535.20\",\n        \"Opera/9.80 (Macintosh; Intel Mac OS X 10.6.8; U; fr) Presto/2.9.168 Version/11.52\",\n\t]\n\n\tagent = random.choice(agent_list)\n\treturn agent\n\nif __name__ == '__main__':\n\tagent = get_random_agent()\n\tprint(agent)\n```\n\n\n数据库中创建的字段\n```python\nfrom sqlalchemy.ext.declarative import declarative_base\nfrom sqlalchemy import Column, Integer, String, ForeignKey, UniqueConstraint, Index\nfrom sqlalchemy.orm import sessionmaker, relationship\nimport pymysql\nfrom sqlalchemy import create_engine\n\nengine = create_engine(\"mysql+pymysql://root:123456@127.0.0.1:3306/maoyan_db?charset=utf8\", max_overflow=5,encoding='utf-8')\nBase = declarative_base()\n\nclass MoguProduct(Base):\n    __tablename__ = 'mogu'\n    id = Column(Integer, primary_key=True, autoincrement=True)    #主键，自增\n    tradeitemid = Column(String(128))\n    img = Column(String(1024))\n    clienturl = Column(String(1024))\n    link = Column(String(1024))\n    title = Column(String(512))\n    orgprice = Column(String(128))\n    price = Column(String(128))\n    similarityurl = Column(String(1024))\npy\n```\n\n运行的程序\n```python\nimport json\nimport requests\nfrom sqlalchemy import create_engine\nfrom sqlalchemy.orm import sessionmaker\nfrom agent_helper import get_random_agent\nfrom models import MoguProduct\n\n\nengine = create_engine(\"mysql+pymysql://root:123456@127.0.0.1/mogudb?charset=utf8\", max_overflow=5)\nsession_maker = sessionmaker(bind=engine)\nsession = session_maker()\n\n\n# 取页面HTML\ndef get_one_page(url, page):\n    agent = get_random_agent()\n    # referer = \"https://list.mogujie.com/s?page=\" + page + \"&q=%E8%A1%A3%E6%9C%8D&sort=pop&ppath=&ptp=1.5y18ub.0.0.d9fJkbZi\"\n    referer = \"https://list.mogujie.com/s?page=\" + str(page) + \"&q=%E8%A1%A3%E6%9C%8D&sort=pop&ppath=&ptp=1.5y18ub.0.0.wVFuR4dg\"\n    headers = {\n        'Referer': referer,\n        'User-Agent': agent,\n        'Host': 'list.mogujie.com',\n        'Accept': 'text/javascript, application/javascript, application/ecmascript, application/x-ecmascript, */*; q=0.01',\n        'Accept-Encoding': 'gzip, deflate, br',\n        'Accept-Language': 'en-US,en;q=0.9',\n        'Connection': 'keep-alive',\n        'X-Requested-With': 'XMLHttpRequest',\n    }\n    response = requests.get(url, headers=headers)\n    if response.status_code == 200:\n        text = response.content.decode('utf-8')\n        return text\n    return None\n\n# 解析JSON数据\ndef parse_json(html):\n    # 匹配出现的第一个（\n    start = html.index('(') + 1\n    html = html[start:-2]\n    json_data = json.loads(html)\n    result_list = json_data['result']['wall']['docs']\n    for item in result_list:\n        mogu = MoguProduct()\n        mogu.tradeitemid = item['tradeItemId']\n        mogu.img = item['img']\n        mogu.clienturl = item['clientUrl']\n        mogu.link = item['link']\n        mogu.title = item['title']\n        mogu.orgprice = item['orgPrice']\n        mogu.price = item['price']\n        mogu.similarityurl = item['similarityUrl']\n        # todo 保存数据库\n        try:\n            session.add(mogu)\n            session.commit()\n        except Exception as e:\n            pass\n\ndef main():\n    for i in range(69):\n        page = i\n        print(i)\n        url = \"https://list.mogujie.com/search?callback=jQuery211032322620930865265_1546578701309&_version=8193&ratio=3%3A4&cKey=43&sort=pop&page=\" + str(i+1) + \"&q=%25E8%25A1%25A3%25E6%259C%258D&minPrice=&maxPrice=&ppath=&cpc_offset=&ptp=1.5y18ub.0.0.y3JjPAiS&_=1546578701310\"\n        # url = \"https://list.mogujie.com/search?callback=jQuery211046561435892064384_1546568094492&_version=8193&ratio=3%3A4&cKey=43&sort=pop&page=\" + str(i+1) + \"&q=%25E8%25A3%25A4%2    5E5%25AD%2590&minPrice=&maxPrice=&ppath=&cpc_offset=&ptp=1.5y18ub.0.0.k1OJRbUq&_=1546568094493\"\n        html = get_one_page(url, page)\n        print(html)\n        parse_json(html)\n\n\nif __name__ == \"__main__\":\n    main()\n```\n\n数据库建模语句，SQL语句\n```python\ncreate database mogudb default character set=utf8;\n\nuse mogudb;\n\ncreate table mogu (\n    id integer auto_increment primary key,\n    tradeitemid varchar(128),\n    img varchar(1024),\n    clienturl varchar(1024),\n    link varchar(1024),\n    title varchar(512),\n    orgprice varchar(128),\n    price varchar(128),\n    similarityurl varchar(1024)\n);\n\ncreate unique index ux_mogu_tradeitemid on mogu(tradeitemid);\n\n```\n\n","slug":"spider/爬取数据","published":1,"updated":"2019-03-14T01:45:28.423Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjt87kqmg0036r8r6vlp1iz7z","content":"<h3 id=\"蘑菇街\"><a href=\"#蘑菇街\" class=\"headerlink\" title=\"蘑菇街\"></a>蘑菇街</h3><p>agent_list.py</p>\n<pre class=\" language-python\"><code class=\"language-python\"><span class=\"token keyword\">import</span> random\n\n<span class=\"token keyword\">def</span> <span class=\"token function\">get_random_agent</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n\n    agent_list <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span>\n    <span class=\"token string\">\"Mozilla/4.0 (compatible; MSIE 6.0; Windows NT 5.1; SV1; AcooBrowser; .NET CLR 1.1.4322; .NET CLR 2.0.50727)\"</span><span class=\"token punctuation\">,</span>\n        <span class=\"token string\">\"Mozilla/4.0 (compatible; MSIE 7.0; Windows NT 6.0; Acoo Browser; SLCC1; .NET CLR 2.0.50727; Media Center PC 5.0; .NET CLR 3.0.04506)\"</span><span class=\"token punctuation\">,</span>\n        <span class=\"token string\">\"Mozilla/4.0 (compatible; MSIE 7.0; AOL 9.5; AOLBuild 4337.35; Windows NT 5.1; .NET CLR 1.1.4322; .NET CLR 2.0.50727)\"</span><span class=\"token punctuation\">,</span>\n        <span class=\"token string\">\"Mozilla/5.0 (Windows; U; MSIE 9.0; Windows NT 9.0; en-US)\"</span><span class=\"token punctuation\">,</span>\n        <span class=\"token string\">\"Mozilla/5.0 (compatible; MSIE 9.0; Windows NT 6.1; Win64; x64; Trident/5.0; .NET CLR 3.5.30729; .NET CLR 3.0.30729; .NET CLR 2.0.50727; Media Center PC 6.0)\"</span><span class=\"token punctuation\">,</span>\n        <span class=\"token string\">\"Mozilla/5.0 (compatible; MSIE 8.0; Windows NT 6.0; Trident/4.0; WOW64; Trident/4.0; SLCC2; .NET CLR 2.0.50727; .NET CLR 3.5.30729; .NET CLR 3.0.30729; .NET CLR 1.0.3705; .NET CLR 1.1.4322)\"</span><span class=\"token punctuation\">,</span>\n        <span class=\"token string\">\"Mozilla/4.0 (compatible; MSIE 7.0b; Windows NT 5.2; .NET CLR 1.1.4322; .NET CLR 2.0.50727; InfoPath.2; .NET CLR 3.0.04506.30)\"</span><span class=\"token punctuation\">,</span>\n        <span class=\"token string\">\"Mozilla/5.0 (Windows; U; Windows NT 5.1; zh-CN) AppleWebKit/523.15 (KHTML, like Gecko, Safari/419.3) Arora/0.3 (Change: 287 c9dfb30)\"</span><span class=\"token punctuation\">,</span>\n        <span class=\"token string\">\"Mozilla/5.0 (X11; U; Linux; en-US) AppleWebKit/527+ (KHTML, like Gecko, Safari/419.3) Arora/0.6\"</span><span class=\"token punctuation\">,</span>\n        <span class=\"token string\">\"Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US; rv:1.8.1.2pre) Gecko/20070215 K-Ninja/2.1.1\"</span><span class=\"token punctuation\">,</span>\n        <span class=\"token string\">\"Mozilla/5.0 (Windows; U; Windows NT 5.1; zh-CN; rv:1.9) Gecko/20080705 Firefox/3.0 Kapiko/3.0\"</span><span class=\"token punctuation\">,</span>\n        <span class=\"token string\">\"Mozilla/5.0 (X11; Linux i686; U;) Gecko/20070322 Kazehakase/0.4.5\"</span><span class=\"token punctuation\">,</span>\n        <span class=\"token string\">\"Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.9.0.8) Gecko Fedora/1.9.0.8-1.fc10 Kazehakase/0.5.6\"</span><span class=\"token punctuation\">,</span>\n        <span class=\"token string\">\"Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/535.11 (KHTML, like Gecko) Chrome/17.0.963.56 Safari/535.11\"</span><span class=\"token punctuation\">,</span>\n        <span class=\"token string\">\"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_7_3) AppleWebKit/535.20 (KHTML, like Gecko) Chrome/19.0.1036.7 Safari/535.20\"</span><span class=\"token punctuation\">,</span>\n        <span class=\"token string\">\"Opera/9.80 (Macintosh; Intel Mac OS X 10.6.8; U; fr) Presto/2.9.168 Version/11.52\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">]</span>\n\n    agent <span class=\"token operator\">=</span> random<span class=\"token punctuation\">.</span>choice<span class=\"token punctuation\">(</span>agent_list<span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">return</span> agent\n\n<span class=\"token keyword\">if</span> __name__ <span class=\"token operator\">==</span> <span class=\"token string\">'__main__'</span><span class=\"token punctuation\">:</span>\n    agent <span class=\"token operator\">=</span> get_random_agent<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>agent<span class=\"token punctuation\">)</span>\n</code></pre>\n<p>数据库中创建的字段</p>\n<pre class=\" language-python\"><code class=\"language-python\"><span class=\"token keyword\">from</span> sqlalchemy<span class=\"token punctuation\">.</span>ext<span class=\"token punctuation\">.</span>declarative <span class=\"token keyword\">import</span> declarative_base\n<span class=\"token keyword\">from</span> sqlalchemy <span class=\"token keyword\">import</span> Column<span class=\"token punctuation\">,</span> Integer<span class=\"token punctuation\">,</span> String<span class=\"token punctuation\">,</span> ForeignKey<span class=\"token punctuation\">,</span> UniqueConstraint<span class=\"token punctuation\">,</span> Index\n<span class=\"token keyword\">from</span> sqlalchemy<span class=\"token punctuation\">.</span>orm <span class=\"token keyword\">import</span> sessionmaker<span class=\"token punctuation\">,</span> relationship\n<span class=\"token keyword\">import</span> pymysql\n<span class=\"token keyword\">from</span> sqlalchemy <span class=\"token keyword\">import</span> create_engine\n\nengine <span class=\"token operator\">=</span> create_engine<span class=\"token punctuation\">(</span><span class=\"token string\">\"mysql+pymysql://root:123456@127.0.0.1:3306/maoyan_db?charset=utf8\"</span><span class=\"token punctuation\">,</span> max_overflow<span class=\"token operator\">=</span><span class=\"token number\">5</span><span class=\"token punctuation\">,</span>encoding<span class=\"token operator\">=</span><span class=\"token string\">'utf-8'</span><span class=\"token punctuation\">)</span>\nBase <span class=\"token operator\">=</span> declarative_base<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token keyword\">class</span> <span class=\"token class-name\">MoguProduct</span><span class=\"token punctuation\">(</span>Base<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    __tablename__ <span class=\"token operator\">=</span> <span class=\"token string\">'mogu'</span>\n    id <span class=\"token operator\">=</span> Column<span class=\"token punctuation\">(</span>Integer<span class=\"token punctuation\">,</span> primary_key<span class=\"token operator\">=</span><span class=\"token boolean\">True</span><span class=\"token punctuation\">,</span> autoincrement<span class=\"token operator\">=</span><span class=\"token boolean\">True</span><span class=\"token punctuation\">)</span>    <span class=\"token comment\" spellcheck=\"true\">#主键，自增</span>\n    tradeitemid <span class=\"token operator\">=</span> Column<span class=\"token punctuation\">(</span>String<span class=\"token punctuation\">(</span><span class=\"token number\">128</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n    img <span class=\"token operator\">=</span> Column<span class=\"token punctuation\">(</span>String<span class=\"token punctuation\">(</span><span class=\"token number\">1024</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n    clienturl <span class=\"token operator\">=</span> Column<span class=\"token punctuation\">(</span>String<span class=\"token punctuation\">(</span><span class=\"token number\">1024</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n    link <span class=\"token operator\">=</span> Column<span class=\"token punctuation\">(</span>String<span class=\"token punctuation\">(</span><span class=\"token number\">1024</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n    title <span class=\"token operator\">=</span> Column<span class=\"token punctuation\">(</span>String<span class=\"token punctuation\">(</span><span class=\"token number\">512</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n    orgprice <span class=\"token operator\">=</span> Column<span class=\"token punctuation\">(</span>String<span class=\"token punctuation\">(</span><span class=\"token number\">128</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n    price <span class=\"token operator\">=</span> Column<span class=\"token punctuation\">(</span>String<span class=\"token punctuation\">(</span><span class=\"token number\">128</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n    similarityurl <span class=\"token operator\">=</span> Column<span class=\"token punctuation\">(</span>String<span class=\"token punctuation\">(</span><span class=\"token number\">1024</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\npy\n</code></pre>\n<p>运行的程序</p>\n<pre class=\" language-python\"><code class=\"language-python\"><span class=\"token keyword\">import</span> json\n<span class=\"token keyword\">import</span> requests\n<span class=\"token keyword\">from</span> sqlalchemy <span class=\"token keyword\">import</span> create_engine\n<span class=\"token keyword\">from</span> sqlalchemy<span class=\"token punctuation\">.</span>orm <span class=\"token keyword\">import</span> sessionmaker\n<span class=\"token keyword\">from</span> agent_helper <span class=\"token keyword\">import</span> get_random_agent\n<span class=\"token keyword\">from</span> models <span class=\"token keyword\">import</span> MoguProduct\n\n\nengine <span class=\"token operator\">=</span> create_engine<span class=\"token punctuation\">(</span><span class=\"token string\">\"mysql+pymysql://root:123456@127.0.0.1/mogudb?charset=utf8\"</span><span class=\"token punctuation\">,</span> max_overflow<span class=\"token operator\">=</span><span class=\"token number\">5</span><span class=\"token punctuation\">)</span>\nsession_maker <span class=\"token operator\">=</span> sessionmaker<span class=\"token punctuation\">(</span>bind<span class=\"token operator\">=</span>engine<span class=\"token punctuation\">)</span>\nsession <span class=\"token operator\">=</span> session_maker<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n\n\n<span class=\"token comment\" spellcheck=\"true\"># 取页面HTML</span>\n<span class=\"token keyword\">def</span> <span class=\"token function\">get_one_page</span><span class=\"token punctuation\">(</span>url<span class=\"token punctuation\">,</span> page<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    agent <span class=\"token operator\">=</span> get_random_agent<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    <span class=\"token comment\" spellcheck=\"true\"># referer = \"https://list.mogujie.com/s?page=\" + page + \"&amp;q=%E8%A1%A3%E6%9C%8D&amp;sort=pop&amp;ppath=&amp;ptp=1.5y18ub.0.0.d9fJkbZi\"</span>\n    referer <span class=\"token operator\">=</span> <span class=\"token string\">\"https://list.mogujie.com/s?page=\"</span> <span class=\"token operator\">+</span> str<span class=\"token punctuation\">(</span>page<span class=\"token punctuation\">)</span> <span class=\"token operator\">+</span> <span class=\"token string\">\"&amp;q=%E8%A1%A3%E6%9C%8D&amp;sort=pop&amp;ppath=&amp;ptp=1.5y18ub.0.0.wVFuR4dg\"</span>\n    headers <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token string\">'Referer'</span><span class=\"token punctuation\">:</span> referer<span class=\"token punctuation\">,</span>\n        <span class=\"token string\">'User-Agent'</span><span class=\"token punctuation\">:</span> agent<span class=\"token punctuation\">,</span>\n        <span class=\"token string\">'Host'</span><span class=\"token punctuation\">:</span> <span class=\"token string\">'list.mogujie.com'</span><span class=\"token punctuation\">,</span>\n        <span class=\"token string\">'Accept'</span><span class=\"token punctuation\">:</span> <span class=\"token string\">'text/javascript, application/javascript, application/ecmascript, application/x-ecmascript, */*; q=0.01'</span><span class=\"token punctuation\">,</span>\n        <span class=\"token string\">'Accept-Encoding'</span><span class=\"token punctuation\">:</span> <span class=\"token string\">'gzip, deflate, br'</span><span class=\"token punctuation\">,</span>\n        <span class=\"token string\">'Accept-Language'</span><span class=\"token punctuation\">:</span> <span class=\"token string\">'en-US,en;q=0.9'</span><span class=\"token punctuation\">,</span>\n        <span class=\"token string\">'Connection'</span><span class=\"token punctuation\">:</span> <span class=\"token string\">'keep-alive'</span><span class=\"token punctuation\">,</span>\n        <span class=\"token string\">'X-Requested-With'</span><span class=\"token punctuation\">:</span> <span class=\"token string\">'XMLHttpRequest'</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">}</span>\n    response <span class=\"token operator\">=</span> requests<span class=\"token punctuation\">.</span>get<span class=\"token punctuation\">(</span>url<span class=\"token punctuation\">,</span> headers<span class=\"token operator\">=</span>headers<span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">if</span> response<span class=\"token punctuation\">.</span>status_code <span class=\"token operator\">==</span> <span class=\"token number\">200</span><span class=\"token punctuation\">:</span>\n        text <span class=\"token operator\">=</span> response<span class=\"token punctuation\">.</span>content<span class=\"token punctuation\">.</span>decode<span class=\"token punctuation\">(</span><span class=\"token string\">'utf-8'</span><span class=\"token punctuation\">)</span>\n        <span class=\"token keyword\">return</span> text\n    <span class=\"token keyword\">return</span> None\n\n<span class=\"token comment\" spellcheck=\"true\"># 解析JSON数据</span>\n<span class=\"token keyword\">def</span> <span class=\"token function\">parse_json</span><span class=\"token punctuation\">(</span>html<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    <span class=\"token comment\" spellcheck=\"true\"># 匹配出现的第一个（</span>\n    start <span class=\"token operator\">=</span> html<span class=\"token punctuation\">.</span>index<span class=\"token punctuation\">(</span><span class=\"token string\">'('</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">+</span> <span class=\"token number\">1</span>\n    html <span class=\"token operator\">=</span> html<span class=\"token punctuation\">[</span>start<span class=\"token punctuation\">:</span><span class=\"token operator\">-</span><span class=\"token number\">2</span><span class=\"token punctuation\">]</span>\n    json_data <span class=\"token operator\">=</span> json<span class=\"token punctuation\">.</span>loads<span class=\"token punctuation\">(</span>html<span class=\"token punctuation\">)</span>\n    result_list <span class=\"token operator\">=</span> json_data<span class=\"token punctuation\">[</span><span class=\"token string\">'result'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">[</span><span class=\"token string\">'wall'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">[</span><span class=\"token string\">'docs'</span><span class=\"token punctuation\">]</span>\n    <span class=\"token keyword\">for</span> item <span class=\"token keyword\">in</span> result_list<span class=\"token punctuation\">:</span>\n        mogu <span class=\"token operator\">=</span> MoguProduct<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n        mogu<span class=\"token punctuation\">.</span>tradeitemid <span class=\"token operator\">=</span> item<span class=\"token punctuation\">[</span><span class=\"token string\">'tradeItemId'</span><span class=\"token punctuation\">]</span>\n        mogu<span class=\"token punctuation\">.</span>img <span class=\"token operator\">=</span> item<span class=\"token punctuation\">[</span><span class=\"token string\">'img'</span><span class=\"token punctuation\">]</span>\n        mogu<span class=\"token punctuation\">.</span>clienturl <span class=\"token operator\">=</span> item<span class=\"token punctuation\">[</span><span class=\"token string\">'clientUrl'</span><span class=\"token punctuation\">]</span>\n        mogu<span class=\"token punctuation\">.</span>link <span class=\"token operator\">=</span> item<span class=\"token punctuation\">[</span><span class=\"token string\">'link'</span><span class=\"token punctuation\">]</span>\n        mogu<span class=\"token punctuation\">.</span>title <span class=\"token operator\">=</span> item<span class=\"token punctuation\">[</span><span class=\"token string\">'title'</span><span class=\"token punctuation\">]</span>\n        mogu<span class=\"token punctuation\">.</span>orgprice <span class=\"token operator\">=</span> item<span class=\"token punctuation\">[</span><span class=\"token string\">'orgPrice'</span><span class=\"token punctuation\">]</span>\n        mogu<span class=\"token punctuation\">.</span>price <span class=\"token operator\">=</span> item<span class=\"token punctuation\">[</span><span class=\"token string\">'price'</span><span class=\"token punctuation\">]</span>\n        mogu<span class=\"token punctuation\">.</span>similarityurl <span class=\"token operator\">=</span> item<span class=\"token punctuation\">[</span><span class=\"token string\">'similarityUrl'</span><span class=\"token punctuation\">]</span>\n        <span class=\"token comment\" spellcheck=\"true\"># todo 保存数据库</span>\n        <span class=\"token keyword\">try</span><span class=\"token punctuation\">:</span>\n            session<span class=\"token punctuation\">.</span>add<span class=\"token punctuation\">(</span>mogu<span class=\"token punctuation\">)</span>\n            session<span class=\"token punctuation\">.</span>commit<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n        <span class=\"token keyword\">except</span> Exception <span class=\"token keyword\">as</span> e<span class=\"token punctuation\">:</span>\n            <span class=\"token keyword\">pass</span>\n\n<span class=\"token keyword\">def</span> <span class=\"token function\">main</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    <span class=\"token keyword\">for</span> i <span class=\"token keyword\">in</span> range<span class=\"token punctuation\">(</span><span class=\"token number\">69</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n        page <span class=\"token operator\">=</span> i\n        <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>i<span class=\"token punctuation\">)</span>\n        url <span class=\"token operator\">=</span> <span class=\"token string\">\"https://list.mogujie.com/search?callback=jQuery211032322620930865265_1546578701309&amp;_version=8193&amp;ratio=3%3A4&amp;cKey=43&amp;sort=pop&amp;page=\"</span> <span class=\"token operator\">+</span> str<span class=\"token punctuation\">(</span>i<span class=\"token operator\">+</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">+</span> <span class=\"token string\">\"&amp;q=%25E8%25A1%25A3%25E6%259C%258D&amp;minPrice=&amp;maxPrice=&amp;ppath=&amp;cpc_offset=&amp;ptp=1.5y18ub.0.0.y3JjPAiS&amp;_=1546578701310\"</span>\n        <span class=\"token comment\" spellcheck=\"true\"># url = \"https://list.mogujie.com/search?callback=jQuery211046561435892064384_1546568094492&amp;_version=8193&amp;ratio=3%3A4&amp;cKey=43&amp;sort=pop&amp;page=\" + str(i+1) + \"&amp;q=%25E8%25A3%25A4%2    5E5%25AD%2590&amp;minPrice=&amp;maxPrice=&amp;ppath=&amp;cpc_offset=&amp;ptp=1.5y18ub.0.0.k1OJRbUq&amp;_=1546568094493\"</span>\n        html <span class=\"token operator\">=</span> get_one_page<span class=\"token punctuation\">(</span>url<span class=\"token punctuation\">,</span> page<span class=\"token punctuation\">)</span>\n        <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>html<span class=\"token punctuation\">)</span>\n        parse_json<span class=\"token punctuation\">(</span>html<span class=\"token punctuation\">)</span>\n\n\n<span class=\"token keyword\">if</span> __name__ <span class=\"token operator\">==</span> <span class=\"token string\">\"__main__\"</span><span class=\"token punctuation\">:</span>\n    main<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n</code></pre>\n<p>数据库建模语句，SQL语句</p>\n<pre class=\" language-python\"><code class=\"language-python\">create database mogudb default character set<span class=\"token operator\">=</span>utf8<span class=\"token punctuation\">;</span>\n\nuse mogudb<span class=\"token punctuation\">;</span>\n\ncreate table mogu <span class=\"token punctuation\">(</span>\n    id integer auto_increment primary key<span class=\"token punctuation\">,</span>\n    tradeitemid varchar<span class=\"token punctuation\">(</span><span class=\"token number\">128</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n    img varchar<span class=\"token punctuation\">(</span><span class=\"token number\">1024</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n    clienturl varchar<span class=\"token punctuation\">(</span><span class=\"token number\">1024</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n    link varchar<span class=\"token punctuation\">(</span><span class=\"token number\">1024</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n    title varchar<span class=\"token punctuation\">(</span><span class=\"token number\">512</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n    orgprice varchar<span class=\"token punctuation\">(</span><span class=\"token number\">128</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n    price varchar<span class=\"token punctuation\">(</span><span class=\"token number\">128</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n    similarityurl varchar<span class=\"token punctuation\">(</span><span class=\"token number\">1024</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\ncreate unique index ux_mogu_tradeitemid on mogu<span class=\"token punctuation\">(</span>tradeitemid<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n</code></pre>\n","site":{"data":{}},"excerpt":"","more":"<h3 id=\"蘑菇街\"><a href=\"#蘑菇街\" class=\"headerlink\" title=\"蘑菇街\"></a>蘑菇街</h3><p>agent_list.py</p>\n<pre><code class=\"python\">import random\n\ndef get_random_agent():\n\n    agent_list = [\n    &quot;Mozilla/4.0 (compatible; MSIE 6.0; Windows NT 5.1; SV1; AcooBrowser; .NET CLR 1.1.4322; .NET CLR 2.0.50727)&quot;,\n        &quot;Mozilla/4.0 (compatible; MSIE 7.0; Windows NT 6.0; Acoo Browser; SLCC1; .NET CLR 2.0.50727; Media Center PC 5.0; .NET CLR 3.0.04506)&quot;,\n        &quot;Mozilla/4.0 (compatible; MSIE 7.0; AOL 9.5; AOLBuild 4337.35; Windows NT 5.1; .NET CLR 1.1.4322; .NET CLR 2.0.50727)&quot;,\n        &quot;Mozilla/5.0 (Windows; U; MSIE 9.0; Windows NT 9.0; en-US)&quot;,\n        &quot;Mozilla/5.0 (compatible; MSIE 9.0; Windows NT 6.1; Win64; x64; Trident/5.0; .NET CLR 3.5.30729; .NET CLR 3.0.30729; .NET CLR 2.0.50727; Media Center PC 6.0)&quot;,\n        &quot;Mozilla/5.0 (compatible; MSIE 8.0; Windows NT 6.0; Trident/4.0; WOW64; Trident/4.0; SLCC2; .NET CLR 2.0.50727; .NET CLR 3.5.30729; .NET CLR 3.0.30729; .NET CLR 1.0.3705; .NET CLR 1.1.4322)&quot;,\n        &quot;Mozilla/4.0 (compatible; MSIE 7.0b; Windows NT 5.2; .NET CLR 1.1.4322; .NET CLR 2.0.50727; InfoPath.2; .NET CLR 3.0.04506.30)&quot;,\n        &quot;Mozilla/5.0 (Windows; U; Windows NT 5.1; zh-CN) AppleWebKit/523.15 (KHTML, like Gecko, Safari/419.3) Arora/0.3 (Change: 287 c9dfb30)&quot;,\n        &quot;Mozilla/5.0 (X11; U; Linux; en-US) AppleWebKit/527+ (KHTML, like Gecko, Safari/419.3) Arora/0.6&quot;,\n        &quot;Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US; rv:1.8.1.2pre) Gecko/20070215 K-Ninja/2.1.1&quot;,\n        &quot;Mozilla/5.0 (Windows; U; Windows NT 5.1; zh-CN; rv:1.9) Gecko/20080705 Firefox/3.0 Kapiko/3.0&quot;,\n        &quot;Mozilla/5.0 (X11; Linux i686; U;) Gecko/20070322 Kazehakase/0.4.5&quot;,\n        &quot;Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.9.0.8) Gecko Fedora/1.9.0.8-1.fc10 Kazehakase/0.5.6&quot;,\n        &quot;Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/535.11 (KHTML, like Gecko) Chrome/17.0.963.56 Safari/535.11&quot;,\n        &quot;Mozilla/5.0 (Macintosh; Intel Mac OS X 10_7_3) AppleWebKit/535.20 (KHTML, like Gecko) Chrome/19.0.1036.7 Safari/535.20&quot;,\n        &quot;Opera/9.80 (Macintosh; Intel Mac OS X 10.6.8; U; fr) Presto/2.9.168 Version/11.52&quot;,\n    ]\n\n    agent = random.choice(agent_list)\n    return agent\n\nif __name__ == &#39;__main__&#39;:\n    agent = get_random_agent()\n    print(agent)\n</code></pre>\n<p>数据库中创建的字段</p>\n<pre><code class=\"python\">from sqlalchemy.ext.declarative import declarative_base\nfrom sqlalchemy import Column, Integer, String, ForeignKey, UniqueConstraint, Index\nfrom sqlalchemy.orm import sessionmaker, relationship\nimport pymysql\nfrom sqlalchemy import create_engine\n\nengine = create_engine(&quot;mysql+pymysql://root:123456@127.0.0.1:3306/maoyan_db?charset=utf8&quot;, max_overflow=5,encoding=&#39;utf-8&#39;)\nBase = declarative_base()\n\nclass MoguProduct(Base):\n    __tablename__ = &#39;mogu&#39;\n    id = Column(Integer, primary_key=True, autoincrement=True)    #主键，自增\n    tradeitemid = Column(String(128))\n    img = Column(String(1024))\n    clienturl = Column(String(1024))\n    link = Column(String(1024))\n    title = Column(String(512))\n    orgprice = Column(String(128))\n    price = Column(String(128))\n    similarityurl = Column(String(1024))\npy\n</code></pre>\n<p>运行的程序</p>\n<pre><code class=\"python\">import json\nimport requests\nfrom sqlalchemy import create_engine\nfrom sqlalchemy.orm import sessionmaker\nfrom agent_helper import get_random_agent\nfrom models import MoguProduct\n\n\nengine = create_engine(&quot;mysql+pymysql://root:123456@127.0.0.1/mogudb?charset=utf8&quot;, max_overflow=5)\nsession_maker = sessionmaker(bind=engine)\nsession = session_maker()\n\n\n# 取页面HTML\ndef get_one_page(url, page):\n    agent = get_random_agent()\n    # referer = &quot;https://list.mogujie.com/s?page=&quot; + page + &quot;&amp;q=%E8%A1%A3%E6%9C%8D&amp;sort=pop&amp;ppath=&amp;ptp=1.5y18ub.0.0.d9fJkbZi&quot;\n    referer = &quot;https://list.mogujie.com/s?page=&quot; + str(page) + &quot;&amp;q=%E8%A1%A3%E6%9C%8D&amp;sort=pop&amp;ppath=&amp;ptp=1.5y18ub.0.0.wVFuR4dg&quot;\n    headers = {\n        &#39;Referer&#39;: referer,\n        &#39;User-Agent&#39;: agent,\n        &#39;Host&#39;: &#39;list.mogujie.com&#39;,\n        &#39;Accept&#39;: &#39;text/javascript, application/javascript, application/ecmascript, application/x-ecmascript, */*; q=0.01&#39;,\n        &#39;Accept-Encoding&#39;: &#39;gzip, deflate, br&#39;,\n        &#39;Accept-Language&#39;: &#39;en-US,en;q=0.9&#39;,\n        &#39;Connection&#39;: &#39;keep-alive&#39;,\n        &#39;X-Requested-With&#39;: &#39;XMLHttpRequest&#39;,\n    }\n    response = requests.get(url, headers=headers)\n    if response.status_code == 200:\n        text = response.content.decode(&#39;utf-8&#39;)\n        return text\n    return None\n\n# 解析JSON数据\ndef parse_json(html):\n    # 匹配出现的第一个（\n    start = html.index(&#39;(&#39;) + 1\n    html = html[start:-2]\n    json_data = json.loads(html)\n    result_list = json_data[&#39;result&#39;][&#39;wall&#39;][&#39;docs&#39;]\n    for item in result_list:\n        mogu = MoguProduct()\n        mogu.tradeitemid = item[&#39;tradeItemId&#39;]\n        mogu.img = item[&#39;img&#39;]\n        mogu.clienturl = item[&#39;clientUrl&#39;]\n        mogu.link = item[&#39;link&#39;]\n        mogu.title = item[&#39;title&#39;]\n        mogu.orgprice = item[&#39;orgPrice&#39;]\n        mogu.price = item[&#39;price&#39;]\n        mogu.similarityurl = item[&#39;similarityUrl&#39;]\n        # todo 保存数据库\n        try:\n            session.add(mogu)\n            session.commit()\n        except Exception as e:\n            pass\n\ndef main():\n    for i in range(69):\n        page = i\n        print(i)\n        url = &quot;https://list.mogujie.com/search?callback=jQuery211032322620930865265_1546578701309&amp;_version=8193&amp;ratio=3%3A4&amp;cKey=43&amp;sort=pop&amp;page=&quot; + str(i+1) + &quot;&amp;q=%25E8%25A1%25A3%25E6%259C%258D&amp;minPrice=&amp;maxPrice=&amp;ppath=&amp;cpc_offset=&amp;ptp=1.5y18ub.0.0.y3JjPAiS&amp;_=1546578701310&quot;\n        # url = &quot;https://list.mogujie.com/search?callback=jQuery211046561435892064384_1546568094492&amp;_version=8193&amp;ratio=3%3A4&amp;cKey=43&amp;sort=pop&amp;page=&quot; + str(i+1) + &quot;&amp;q=%25E8%25A3%25A4%2    5E5%25AD%2590&amp;minPrice=&amp;maxPrice=&amp;ppath=&amp;cpc_offset=&amp;ptp=1.5y18ub.0.0.k1OJRbUq&amp;_=1546568094493&quot;\n        html = get_one_page(url, page)\n        print(html)\n        parse_json(html)\n\n\nif __name__ == &quot;__main__&quot;:\n    main()\n</code></pre>\n<p>数据库建模语句，SQL语句</p>\n<pre><code class=\"python\">create database mogudb default character set=utf8;\n\nuse mogudb;\n\ncreate table mogu (\n    id integer auto_increment primary key,\n    tradeitemid varchar(128),\n    img varchar(1024),\n    clienturl varchar(1024),\n    link varchar(1024),\n    title varchar(512),\n    orgprice varchar(128),\n    price varchar(128),\n    similarityurl varchar(1024)\n);\n\ncreate unique index ux_mogu_tradeitemid on mogu(tradeitemid);\n\n</code></pre>\n"},{"title":"youyaoqi","date":"2018-05-21T07:15:06.000Z","author":"smile","img":"/images/KDA2.jpg","_content":"\n### 创建一个有个youyaoqi项目\n- 项目自带文件\n  -  scrapy.cfg\n  -  youyaoqi\n     - __ init__.py\n     - items.py\n     - middlewares.py\n     - pipelines.py\n     - settings.py\n     - spiders\n       - __ init __.py\n       - cartoon.py\n\n**items**\n```python\n# -*- coding: utf-8 -*-\n\n# Define here the models for your scraped items\n#\n# See documentation in:\n# https://doc.scrapy.org/en/latest/topics/items.html\n\nimport scrapy\n\n\nclass YouyaoqiItem(scrapy.Item):\n    # define the fields for your item here like:\n    comic_id = scrapy.Field()\n    name = scrapy.Field()\n    cover = scrapy.Field()\n    update_type = scrapy.Field()\n    line1 = scrapy.Field()\n    line2 = scrapy.Field()\n\n\nclass U17DetailItem(scrapy.Item):\n    name = scrapy.Field()\n    # u_id = scrapy.Field()\n\n```\n\n**pipelines.py**\n```python\n# -*- coding: utf-8 -*-\n\n# Define your item pipelines here\n#\n# Don't forget to add your pipeline to the ITEM_PIPELINES setting\n# See: https://doc.scrapy.org/en/latest/topics/item-pipeline.html\nimport pymysql\nfrom scrapy import Request\nfrom scrapy.exceptions import DropItem\nfrom scrapy.pipelines.images import ImagesPipeline\n\n\nclass ImagePipeline(ImagesPipeline):\n    def file_path(self, request, response=None, info=None):\n        url = request.url\n        file_name = url.split('/')[-1]\n        return file_name\n\n    def item_completed(self, results, item, info):\n        image_paths = [x['path'] for ok, x in results if ok]\n        if not image_paths:\n            raise DropItem('Image Downloaded Failed')\n        return item\n\n    def get_media_requests(self, item, info):\n        yield Request(item['cover'])\n\n\nclass YouyaoqiMysqlPipeline(object):\n    def __init__(self, host, port, database, username, password):\n        self.host = host\n        self.port = port\n        self.database = database\n        self.username = username\n        self.password = password\n\n    @classmethod\n    def from_crawler(cls, crawler):\n        return cls(\n            host=crawler.settings.get('MYSQL_HOST'),\n            port=crawler.settings.get('MYSQL_PORT'),\n            database=crawler.settings.get('MYSQL_DATABASE'),\n            username=crawler.settings.get('MYSQL_USERNAME'),\n            password=crawler.settings.get('MYSQL_PASSWORD'),\n        )\n\n    def open_spider(self, spider):\n        # 获取数据库连接\n        self.db = pymysql.connect(self.host, self.username, self.password, self.database, charset='utf8',\n                                  port=self.port)\n        self.cursor = self.db.cursor()\n\n    def close_spider(self, spider):\n        # 释放数据库连接\n        self.db.close()\n\n    def process_item(self, item, spider):\n        # 插入item数据\n        sql = 'insert into company (comic_id, name, cover, update_type, line1, line2) values (%s, %s, %s, %s, %s, %s)'\n        self.cursor.execute(sql, (item['comic_id'], item['name'], item['cover'], item['update_type'], item['line1'], item['line2']))\n        self.db.commit()\n\n        return item\n\n```\n\n**settings.py**\n```python\n# -*- coding: utf-8 -*-\n\n# Scrapy settings for youyaoqi project\n#\n# For simplicity, this file contains only settings considered important or\n# commonly used. You can find more settings consulting the documentation:\n#\n#     https://doc.scrapy.org/en/latest/topics/settings.html\n#     https://doc.scrapy.org/en/latest/topics/downloader-middleware.html\n#     https://doc.scrapy.org/en/latest/topics/spider-middleware.html\n\nBOT_NAME = 'youyaoqi'\n\nSPIDER_MODULES = ['youyaoqi.spiders']\nNEWSPIDER_MODULE = 'youyaoqi.spiders'\n\n\n# Crawl responsibly by identifying yourself (and your website) on the user-agent\n#USER_AGENT = 'youyaoqi (+http://www.yourdomain.com)'\n\n# Obey robots.txt rules\nROBOTSTXT_OBEY = False\n\n# Configure maximum concurrent requests performed by Scrapy (default: 16)\n#CONCURRENT_REQUESTS = 32\n\n# Configure a delay for requests for the same website (default: 0)\n# See https://doc.scrapy.org/en/latest/topics/settings.html#download-delay\n# See also autothrottle settings and docs\n#DOWNLOAD_DELAY = 3\n# The download delay setting will honor only one of:\n#CONCURRENT_REQUESTS_PER_DOMAIN = 16\n#CONCURRENT_REQUESTS_PER_IP = 16\n\n# Disable cookies (enabled by default)\n#COOKIES_ENABLED = False\n\n# Disable Telnet Console (enabled by default)\n#TELNETCONSOLE_ENABLED = False\n\n# Override the default request headers:\n#DEFAULT_REQUEST_HEADERS = {\n#   'Accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8',\n#   'Accept-Language': 'en',\n#}\n\n# Enable or disable spider middlewares\n# See https://doc.scrapy.org/en/latest/topics/spider-middleware.html\n#SPIDER_MIDDLEWARES = {\n#    'youyaoqi.middlewares.YouyaoqiSpiderMiddleware': 543,\n#}\n\n# Enable or disable downloader middlewares\n# See https://doc.scrapy.org/en/latest/topics/downloader-middleware.html\n#DOWNLOADER_MIDDLEWARES = {\n#    'youyaoqi.middlewares.YouyaoqiDownloaderMiddleware': 543,\n#}\n\n# Enable or disable extensions\n# See https://doc.scrapy.org/en/latest/topics/extensions.html\n#EXTENSIONS = {\n#    'scrapy.extensions.telnet.TelnetConsole': None,\n#}\n\n# Configure item pipelines\n# See https://doc.scrapy.org/en/latest/topics/item-pipeline.html\nITEM_PIPELINES = {\n   # 'youyaoqi.pipelines.YouyaoqiMysqlPipeline': 300,\n   # 'youyaoqi.pipelines.ImagePipeline': 300,\n}\n\n# Enable and configure the AutoThrottle extension (disabled by default)\n# See https://doc.scrapy.org/en/latest/topics/autothrottle.html\n#AUTOTHROTTLE_ENABLED = True\n# The initial download delay\n#AUTOTHROTTLE_START_DELAY = 5\n# The maximum download delay to be set in case of high latencies\n#AUTOTHROTTLE_MAX_DELAY = 60\n# The average number of requests Scrapy should be sending in parallel to\n# each remote server\n#AUTOTHROTTLE_TARGET_CONCURRENCY = 1.0\n# Enable showing throttling stats for every response received:\n#AUTOTHROTTLE_DEBUG = False\n\n# Enable and configure HTTP caching (disabled by default)\n# See https://doc.scrapy.org/en/latest/topics/downloader-middleware.html#httpcache-middleware-settings\n#HTTPCACHE_ENABLED = True\n#HTTPCACHE_EXPIRATION_SECS = 0\n#HTTPCACHE_DIR = 'httpcache'\n#HTTPCACHE_IGNORE_HTTP_CODES = []\n#HTTPCACHE_STORAGE = 'scrapy.extensions.httpcache.FilesystemCacheStorage'\nFEED_EXPORT_ENCODING = 'utf-8'\nMAX_PAGE = 500\n\n# IMAGES_STORE = './images'\n\n# mysql settings\nMYSQL_HOST = '127.0.0.1'\nMYSQL_PORT = 3306\nMYSQL_USERNAME = 'root'\nMYSQL_PASSWORD = '123456'\nMYSQL_DATABASE = 'u17'\n\n```\n\n**cartoon.py**\n```python\n# -*- coding: utf-8 -*-\nimport json\nimport scrapy\nfrom youyaoqi.items import YouyaoqiItem, U17DetailItem\n\n\nclass CartoonSpider(scrapy.Spider):\n    name = 'cartoon'\n    allowed_domains = ['www.u17.com']\n    start_urls = ['http://www.u17.com/']\n\n    def start_requests(self):\n        data = {'data[group_id]': 'no', 'data[theme_id]': 'no', 'data[is_vip]': 'no', 'data[accredit]': 'no', 'data[color]': 'no', 'data[comic_type]': 'no', 'data[series_status]': 'no', 'data[order]': '2', 'data[page_num]': '1', 'data[read_mode]': 'no' }\n        headers = {\n            'Referer': 'http://www.u17.com/comic_list/th99_gr99_ca99_ss99_ob0_ac0_as0_wm0_co99_ct99_p1.html?order=2',\n            'User-Agent': 'Mozilla/5.0 (Windows NT 6.1; Trident/7.0; rv:11.0) like Gecko',\n            'Host': 'www.u17.com',\n            'Accept': 'application/json, text/plain, */*',\n            'Accept-Encoding': 'gzip, deflate, sdch',\n            'Accept-Language': 'zh-CN,zh;q=0.8,en;q=0.6,ja;q=0.4,zh-TW;q=0.2,mt;q=0.2',\n            'Connection': 'keep-alive',\n            'X-Requested-With': 'XMLHttpRequest',\n        }\n        max_page = self.settings.get('MAX_PAGE')\n        base_url = 'http://www.u17.com/comic/ajax.php?mod=comic_list&act=comic_list_new_fun&a=get_comic_list'\n        for page in range(2, max_page):\n            data['data[page_num]'] = str(page)\n            yield scrapy.FormRequest(url=base_url, headers=headers, method='POST', formdata=data, callback=self.parse)\n\n    def get_headers(self):\n        headers = {\n            'User-Agent': 'Mozilla/4.0 (compatible; MSIE 7.0; Windows NT 5.1; 360SE)',\n            'Host': 'www.u17.com',\n            'Accept': 'application/json, text/plain, */*',\n            'Accept-Encoding': 'gzip, deflate, sdch',\n            'Accept-Language': 'zh-CN,zh;q=0.8,en;q=0.6,ja;q=0.4,zh-TW;q=0.2,mt;q=0.2',\n            'Connection': 'keep-alive',\n            'X-Requested-With': 'XMLHttpRequest',\n            'Content-Type': 'application/x-www-form-urlencoded; charset=UTF-8',\n        }\n        return headers\n\n    def parse(self, response):\n        result_json = json.loads(response.text)\n        data_list = result_json['comic_list']\n        for data in data_list:\n            item = YouyaoqiItem()\n            item['comic_id'] = data['comic_id']\n            item['name'] = data['name']\n            item['cover'] = data['cover']\n            item['update_type'] = data['update_type']\n            item['line1'] = data['line1']\n            item['line2'] = data['line2']\n            yield item\n\n            detail_url = 'http://www.u17.com/comic/%s.html' % item['comic_id']\n            yield scrapy.Request(url=detail_url, headers=self.get_headers(), callback=self.parse_detail)\n\n    def parse_detail(self, response):\n        results = response.css('#chapter li')\n        for item in results:\n            detail_item = U17DetailItem()\n            name_list = item.xpath('./a/text()').extract()\n            for name in name_list:\n                detail_item['name'] = name.replace('\"', '').strip()\n            # detail_item['u_id'] = title.replace\n            # detail_item['name'] = item.replace('\"', '').strip()\n                yield detail_item\n            # a_url_list = item.css('./a::attr(href)').extract()\n            # for a_url in a_url_list:\n            #     detail_item['url'] = a_url\n            #     yield detail_item\n\n```\n\n","source":"_posts/spider/u17.md","raw":"---\ntitle: youyaoqi\ndate: 2018-05-21 15:15:06\nauthor: smile\nimg: /images/KDA2.jpg\ncategories: spider\ntags: \n  - cartoon\n---\n\n### 创建一个有个youyaoqi项目\n- 项目自带文件\n  -  scrapy.cfg\n  -  youyaoqi\n     - __ init__.py\n     - items.py\n     - middlewares.py\n     - pipelines.py\n     - settings.py\n     - spiders\n       - __ init __.py\n       - cartoon.py\n\n**items**\n```python\n# -*- coding: utf-8 -*-\n\n# Define here the models for your scraped items\n#\n# See documentation in:\n# https://doc.scrapy.org/en/latest/topics/items.html\n\nimport scrapy\n\n\nclass YouyaoqiItem(scrapy.Item):\n    # define the fields for your item here like:\n    comic_id = scrapy.Field()\n    name = scrapy.Field()\n    cover = scrapy.Field()\n    update_type = scrapy.Field()\n    line1 = scrapy.Field()\n    line2 = scrapy.Field()\n\n\nclass U17DetailItem(scrapy.Item):\n    name = scrapy.Field()\n    # u_id = scrapy.Field()\n\n```\n\n**pipelines.py**\n```python\n# -*- coding: utf-8 -*-\n\n# Define your item pipelines here\n#\n# Don't forget to add your pipeline to the ITEM_PIPELINES setting\n# See: https://doc.scrapy.org/en/latest/topics/item-pipeline.html\nimport pymysql\nfrom scrapy import Request\nfrom scrapy.exceptions import DropItem\nfrom scrapy.pipelines.images import ImagesPipeline\n\n\nclass ImagePipeline(ImagesPipeline):\n    def file_path(self, request, response=None, info=None):\n        url = request.url\n        file_name = url.split('/')[-1]\n        return file_name\n\n    def item_completed(self, results, item, info):\n        image_paths = [x['path'] for ok, x in results if ok]\n        if not image_paths:\n            raise DropItem('Image Downloaded Failed')\n        return item\n\n    def get_media_requests(self, item, info):\n        yield Request(item['cover'])\n\n\nclass YouyaoqiMysqlPipeline(object):\n    def __init__(self, host, port, database, username, password):\n        self.host = host\n        self.port = port\n        self.database = database\n        self.username = username\n        self.password = password\n\n    @classmethod\n    def from_crawler(cls, crawler):\n        return cls(\n            host=crawler.settings.get('MYSQL_HOST'),\n            port=crawler.settings.get('MYSQL_PORT'),\n            database=crawler.settings.get('MYSQL_DATABASE'),\n            username=crawler.settings.get('MYSQL_USERNAME'),\n            password=crawler.settings.get('MYSQL_PASSWORD'),\n        )\n\n    def open_spider(self, spider):\n        # 获取数据库连接\n        self.db = pymysql.connect(self.host, self.username, self.password, self.database, charset='utf8',\n                                  port=self.port)\n        self.cursor = self.db.cursor()\n\n    def close_spider(self, spider):\n        # 释放数据库连接\n        self.db.close()\n\n    def process_item(self, item, spider):\n        # 插入item数据\n        sql = 'insert into company (comic_id, name, cover, update_type, line1, line2) values (%s, %s, %s, %s, %s, %s)'\n        self.cursor.execute(sql, (item['comic_id'], item['name'], item['cover'], item['update_type'], item['line1'], item['line2']))\n        self.db.commit()\n\n        return item\n\n```\n\n**settings.py**\n```python\n# -*- coding: utf-8 -*-\n\n# Scrapy settings for youyaoqi project\n#\n# For simplicity, this file contains only settings considered important or\n# commonly used. You can find more settings consulting the documentation:\n#\n#     https://doc.scrapy.org/en/latest/topics/settings.html\n#     https://doc.scrapy.org/en/latest/topics/downloader-middleware.html\n#     https://doc.scrapy.org/en/latest/topics/spider-middleware.html\n\nBOT_NAME = 'youyaoqi'\n\nSPIDER_MODULES = ['youyaoqi.spiders']\nNEWSPIDER_MODULE = 'youyaoqi.spiders'\n\n\n# Crawl responsibly by identifying yourself (and your website) on the user-agent\n#USER_AGENT = 'youyaoqi (+http://www.yourdomain.com)'\n\n# Obey robots.txt rules\nROBOTSTXT_OBEY = False\n\n# Configure maximum concurrent requests performed by Scrapy (default: 16)\n#CONCURRENT_REQUESTS = 32\n\n# Configure a delay for requests for the same website (default: 0)\n# See https://doc.scrapy.org/en/latest/topics/settings.html#download-delay\n# See also autothrottle settings and docs\n#DOWNLOAD_DELAY = 3\n# The download delay setting will honor only one of:\n#CONCURRENT_REQUESTS_PER_DOMAIN = 16\n#CONCURRENT_REQUESTS_PER_IP = 16\n\n# Disable cookies (enabled by default)\n#COOKIES_ENABLED = False\n\n# Disable Telnet Console (enabled by default)\n#TELNETCONSOLE_ENABLED = False\n\n# Override the default request headers:\n#DEFAULT_REQUEST_HEADERS = {\n#   'Accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8',\n#   'Accept-Language': 'en',\n#}\n\n# Enable or disable spider middlewares\n# See https://doc.scrapy.org/en/latest/topics/spider-middleware.html\n#SPIDER_MIDDLEWARES = {\n#    'youyaoqi.middlewares.YouyaoqiSpiderMiddleware': 543,\n#}\n\n# Enable or disable downloader middlewares\n# See https://doc.scrapy.org/en/latest/topics/downloader-middleware.html\n#DOWNLOADER_MIDDLEWARES = {\n#    'youyaoqi.middlewares.YouyaoqiDownloaderMiddleware': 543,\n#}\n\n# Enable or disable extensions\n# See https://doc.scrapy.org/en/latest/topics/extensions.html\n#EXTENSIONS = {\n#    'scrapy.extensions.telnet.TelnetConsole': None,\n#}\n\n# Configure item pipelines\n# See https://doc.scrapy.org/en/latest/topics/item-pipeline.html\nITEM_PIPELINES = {\n   # 'youyaoqi.pipelines.YouyaoqiMysqlPipeline': 300,\n   # 'youyaoqi.pipelines.ImagePipeline': 300,\n}\n\n# Enable and configure the AutoThrottle extension (disabled by default)\n# See https://doc.scrapy.org/en/latest/topics/autothrottle.html\n#AUTOTHROTTLE_ENABLED = True\n# The initial download delay\n#AUTOTHROTTLE_START_DELAY = 5\n# The maximum download delay to be set in case of high latencies\n#AUTOTHROTTLE_MAX_DELAY = 60\n# The average number of requests Scrapy should be sending in parallel to\n# each remote server\n#AUTOTHROTTLE_TARGET_CONCURRENCY = 1.0\n# Enable showing throttling stats for every response received:\n#AUTOTHROTTLE_DEBUG = False\n\n# Enable and configure HTTP caching (disabled by default)\n# See https://doc.scrapy.org/en/latest/topics/downloader-middleware.html#httpcache-middleware-settings\n#HTTPCACHE_ENABLED = True\n#HTTPCACHE_EXPIRATION_SECS = 0\n#HTTPCACHE_DIR = 'httpcache'\n#HTTPCACHE_IGNORE_HTTP_CODES = []\n#HTTPCACHE_STORAGE = 'scrapy.extensions.httpcache.FilesystemCacheStorage'\nFEED_EXPORT_ENCODING = 'utf-8'\nMAX_PAGE = 500\n\n# IMAGES_STORE = './images'\n\n# mysql settings\nMYSQL_HOST = '127.0.0.1'\nMYSQL_PORT = 3306\nMYSQL_USERNAME = 'root'\nMYSQL_PASSWORD = '123456'\nMYSQL_DATABASE = 'u17'\n\n```\n\n**cartoon.py**\n```python\n# -*- coding: utf-8 -*-\nimport json\nimport scrapy\nfrom youyaoqi.items import YouyaoqiItem, U17DetailItem\n\n\nclass CartoonSpider(scrapy.Spider):\n    name = 'cartoon'\n    allowed_domains = ['www.u17.com']\n    start_urls = ['http://www.u17.com/']\n\n    def start_requests(self):\n        data = {'data[group_id]': 'no', 'data[theme_id]': 'no', 'data[is_vip]': 'no', 'data[accredit]': 'no', 'data[color]': 'no', 'data[comic_type]': 'no', 'data[series_status]': 'no', 'data[order]': '2', 'data[page_num]': '1', 'data[read_mode]': 'no' }\n        headers = {\n            'Referer': 'http://www.u17.com/comic_list/th99_gr99_ca99_ss99_ob0_ac0_as0_wm0_co99_ct99_p1.html?order=2',\n            'User-Agent': 'Mozilla/5.0 (Windows NT 6.1; Trident/7.0; rv:11.0) like Gecko',\n            'Host': 'www.u17.com',\n            'Accept': 'application/json, text/plain, */*',\n            'Accept-Encoding': 'gzip, deflate, sdch',\n            'Accept-Language': 'zh-CN,zh;q=0.8,en;q=0.6,ja;q=0.4,zh-TW;q=0.2,mt;q=0.2',\n            'Connection': 'keep-alive',\n            'X-Requested-With': 'XMLHttpRequest',\n        }\n        max_page = self.settings.get('MAX_PAGE')\n        base_url = 'http://www.u17.com/comic/ajax.php?mod=comic_list&act=comic_list_new_fun&a=get_comic_list'\n        for page in range(2, max_page):\n            data['data[page_num]'] = str(page)\n            yield scrapy.FormRequest(url=base_url, headers=headers, method='POST', formdata=data, callback=self.parse)\n\n    def get_headers(self):\n        headers = {\n            'User-Agent': 'Mozilla/4.0 (compatible; MSIE 7.0; Windows NT 5.1; 360SE)',\n            'Host': 'www.u17.com',\n            'Accept': 'application/json, text/plain, */*',\n            'Accept-Encoding': 'gzip, deflate, sdch',\n            'Accept-Language': 'zh-CN,zh;q=0.8,en;q=0.6,ja;q=0.4,zh-TW;q=0.2,mt;q=0.2',\n            'Connection': 'keep-alive',\n            'X-Requested-With': 'XMLHttpRequest',\n            'Content-Type': 'application/x-www-form-urlencoded; charset=UTF-8',\n        }\n        return headers\n\n    def parse(self, response):\n        result_json = json.loads(response.text)\n        data_list = result_json['comic_list']\n        for data in data_list:\n            item = YouyaoqiItem()\n            item['comic_id'] = data['comic_id']\n            item['name'] = data['name']\n            item['cover'] = data['cover']\n            item['update_type'] = data['update_type']\n            item['line1'] = data['line1']\n            item['line2'] = data['line2']\n            yield item\n\n            detail_url = 'http://www.u17.com/comic/%s.html' % item['comic_id']\n            yield scrapy.Request(url=detail_url, headers=self.get_headers(), callback=self.parse_detail)\n\n    def parse_detail(self, response):\n        results = response.css('#chapter li')\n        for item in results:\n            detail_item = U17DetailItem()\n            name_list = item.xpath('./a/text()').extract()\n            for name in name_list:\n                detail_item['name'] = name.replace('\"', '').strip()\n            # detail_item['u_id'] = title.replace\n            # detail_item['name'] = item.replace('\"', '').strip()\n                yield detail_item\n            # a_url_list = item.css('./a::attr(href)').extract()\n            # for a_url in a_url_list:\n            #     detail_item['url'] = a_url\n            #     yield detail_item\n\n```\n\n","slug":"spider/u17","published":1,"updated":"2019-03-14T01:46:21.812Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjt87kqmo0039r8r6ylz1xpuf","content":"<h3 id=\"创建一个有个youyaoqi项目\"><a href=\"#创建一个有个youyaoqi项目\" class=\"headerlink\" title=\"创建一个有个youyaoqi项目\"></a>创建一个有个youyaoqi项目</h3><ul>\n<li>项目自带文件<ul>\n<li>scrapy.cfg</li>\n<li>youyaoqi<ul>\n<li><strong> init</strong>.py</li>\n<li>items.py</li>\n<li>middlewares.py</li>\n<li>pipelines.py</li>\n<li>settings.py</li>\n<li>spiders<ul>\n<li><strong> init </strong>.py</li>\n<li>cartoon.py</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<p><strong>items</strong></p>\n<pre class=\" language-python\"><code class=\"language-python\"><span class=\"token comment\" spellcheck=\"true\"># -*- coding: utf-8 -*-</span>\n\n<span class=\"token comment\" spellcheck=\"true\"># Define here the models for your scraped items</span>\n<span class=\"token comment\" spellcheck=\"true\">#</span>\n<span class=\"token comment\" spellcheck=\"true\"># See documentation in:</span>\n<span class=\"token comment\" spellcheck=\"true\"># https://doc.scrapy.org/en/latest/topics/items.html</span>\n\n<span class=\"token keyword\">import</span> scrapy\n\n\n<span class=\"token keyword\">class</span> <span class=\"token class-name\">YouyaoqiItem</span><span class=\"token punctuation\">(</span>scrapy<span class=\"token punctuation\">.</span>Item<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    <span class=\"token comment\" spellcheck=\"true\"># define the fields for your item here like:</span>\n    comic_id <span class=\"token operator\">=</span> scrapy<span class=\"token punctuation\">.</span>Field<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    name <span class=\"token operator\">=</span> scrapy<span class=\"token punctuation\">.</span>Field<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    cover <span class=\"token operator\">=</span> scrapy<span class=\"token punctuation\">.</span>Field<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    update_type <span class=\"token operator\">=</span> scrapy<span class=\"token punctuation\">.</span>Field<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    line1 <span class=\"token operator\">=</span> scrapy<span class=\"token punctuation\">.</span>Field<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    line2 <span class=\"token operator\">=</span> scrapy<span class=\"token punctuation\">.</span>Field<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n\n\n<span class=\"token keyword\">class</span> <span class=\"token class-name\">U17DetailItem</span><span class=\"token punctuation\">(</span>scrapy<span class=\"token punctuation\">.</span>Item<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    name <span class=\"token operator\">=</span> scrapy<span class=\"token punctuation\">.</span>Field<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    <span class=\"token comment\" spellcheck=\"true\"># u_id = scrapy.Field()</span>\n\n</code></pre>\n<p><strong>pipelines.py</strong></p>\n<pre class=\" language-python\"><code class=\"language-python\"><span class=\"token comment\" spellcheck=\"true\"># -*- coding: utf-8 -*-</span>\n\n<span class=\"token comment\" spellcheck=\"true\"># Define your item pipelines here</span>\n<span class=\"token comment\" spellcheck=\"true\">#</span>\n<span class=\"token comment\" spellcheck=\"true\"># Don't forget to add your pipeline to the ITEM_PIPELINES setting</span>\n<span class=\"token comment\" spellcheck=\"true\"># See: https://doc.scrapy.org/en/latest/topics/item-pipeline.html</span>\n<span class=\"token keyword\">import</span> pymysql\n<span class=\"token keyword\">from</span> scrapy <span class=\"token keyword\">import</span> Request\n<span class=\"token keyword\">from</span> scrapy<span class=\"token punctuation\">.</span>exceptions <span class=\"token keyword\">import</span> DropItem\n<span class=\"token keyword\">from</span> scrapy<span class=\"token punctuation\">.</span>pipelines<span class=\"token punctuation\">.</span>images <span class=\"token keyword\">import</span> ImagesPipeline\n\n\n<span class=\"token keyword\">class</span> <span class=\"token class-name\">ImagePipeline</span><span class=\"token punctuation\">(</span>ImagesPipeline<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    <span class=\"token keyword\">def</span> <span class=\"token function\">file_path</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">,</span> request<span class=\"token punctuation\">,</span> response<span class=\"token operator\">=</span>None<span class=\"token punctuation\">,</span> info<span class=\"token operator\">=</span>None<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n        url <span class=\"token operator\">=</span> request<span class=\"token punctuation\">.</span>url\n        file_name <span class=\"token operator\">=</span> url<span class=\"token punctuation\">.</span>split<span class=\"token punctuation\">(</span><span class=\"token string\">'/'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">[</span><span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span>\n        <span class=\"token keyword\">return</span> file_name\n\n    <span class=\"token keyword\">def</span> <span class=\"token function\">item_completed</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">,</span> results<span class=\"token punctuation\">,</span> item<span class=\"token punctuation\">,</span> info<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n        image_paths <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span>x<span class=\"token punctuation\">[</span><span class=\"token string\">'path'</span><span class=\"token punctuation\">]</span> <span class=\"token keyword\">for</span> ok<span class=\"token punctuation\">,</span> x <span class=\"token keyword\">in</span> results <span class=\"token keyword\">if</span> ok<span class=\"token punctuation\">]</span>\n        <span class=\"token keyword\">if</span> <span class=\"token operator\">not</span> image_paths<span class=\"token punctuation\">:</span>\n            <span class=\"token keyword\">raise</span> DropItem<span class=\"token punctuation\">(</span><span class=\"token string\">'Image Downloaded Failed'</span><span class=\"token punctuation\">)</span>\n        <span class=\"token keyword\">return</span> item\n\n    <span class=\"token keyword\">def</span> <span class=\"token function\">get_media_requests</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">,</span> item<span class=\"token punctuation\">,</span> info<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n        <span class=\"token keyword\">yield</span> Request<span class=\"token punctuation\">(</span>item<span class=\"token punctuation\">[</span><span class=\"token string\">'cover'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>\n\n\n<span class=\"token keyword\">class</span> <span class=\"token class-name\">YouyaoqiMysqlPipeline</span><span class=\"token punctuation\">(</span>object<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    <span class=\"token keyword\">def</span> <span class=\"token function\">__init__</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">,</span> host<span class=\"token punctuation\">,</span> port<span class=\"token punctuation\">,</span> database<span class=\"token punctuation\">,</span> username<span class=\"token punctuation\">,</span> password<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n        self<span class=\"token punctuation\">.</span>host <span class=\"token operator\">=</span> host\n        self<span class=\"token punctuation\">.</span>port <span class=\"token operator\">=</span> port\n        self<span class=\"token punctuation\">.</span>database <span class=\"token operator\">=</span> database\n        self<span class=\"token punctuation\">.</span>username <span class=\"token operator\">=</span> username\n        self<span class=\"token punctuation\">.</span>password <span class=\"token operator\">=</span> password\n\n    @classmethod\n    <span class=\"token keyword\">def</span> <span class=\"token function\">from_crawler</span><span class=\"token punctuation\">(</span>cls<span class=\"token punctuation\">,</span> crawler<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n        <span class=\"token keyword\">return</span> cls<span class=\"token punctuation\">(</span>\n            host<span class=\"token operator\">=</span>crawler<span class=\"token punctuation\">.</span>settings<span class=\"token punctuation\">.</span>get<span class=\"token punctuation\">(</span><span class=\"token string\">'MYSQL_HOST'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n            port<span class=\"token operator\">=</span>crawler<span class=\"token punctuation\">.</span>settings<span class=\"token punctuation\">.</span>get<span class=\"token punctuation\">(</span><span class=\"token string\">'MYSQL_PORT'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n            database<span class=\"token operator\">=</span>crawler<span class=\"token punctuation\">.</span>settings<span class=\"token punctuation\">.</span>get<span class=\"token punctuation\">(</span><span class=\"token string\">'MYSQL_DATABASE'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n            username<span class=\"token operator\">=</span>crawler<span class=\"token punctuation\">.</span>settings<span class=\"token punctuation\">.</span>get<span class=\"token punctuation\">(</span><span class=\"token string\">'MYSQL_USERNAME'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n            password<span class=\"token operator\">=</span>crawler<span class=\"token punctuation\">.</span>settings<span class=\"token punctuation\">.</span>get<span class=\"token punctuation\">(</span><span class=\"token string\">'MYSQL_PASSWORD'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n        <span class=\"token punctuation\">)</span>\n\n    <span class=\"token keyword\">def</span> <span class=\"token function\">open_spider</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">,</span> spider<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n        <span class=\"token comment\" spellcheck=\"true\"># 获取数据库连接</span>\n        self<span class=\"token punctuation\">.</span>db <span class=\"token operator\">=</span> pymysql<span class=\"token punctuation\">.</span>connect<span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">.</span>host<span class=\"token punctuation\">,</span> self<span class=\"token punctuation\">.</span>username<span class=\"token punctuation\">,</span> self<span class=\"token punctuation\">.</span>password<span class=\"token punctuation\">,</span> self<span class=\"token punctuation\">.</span>database<span class=\"token punctuation\">,</span> charset<span class=\"token operator\">=</span><span class=\"token string\">'utf8'</span><span class=\"token punctuation\">,</span>\n                                  port<span class=\"token operator\">=</span>self<span class=\"token punctuation\">.</span>port<span class=\"token punctuation\">)</span>\n        self<span class=\"token punctuation\">.</span>cursor <span class=\"token operator\">=</span> self<span class=\"token punctuation\">.</span>db<span class=\"token punctuation\">.</span>cursor<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n\n    <span class=\"token keyword\">def</span> <span class=\"token function\">close_spider</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">,</span> spider<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n        <span class=\"token comment\" spellcheck=\"true\"># 释放数据库连接</span>\n        self<span class=\"token punctuation\">.</span>db<span class=\"token punctuation\">.</span>close<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n\n    <span class=\"token keyword\">def</span> <span class=\"token function\">process_item</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">,</span> item<span class=\"token punctuation\">,</span> spider<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n        <span class=\"token comment\" spellcheck=\"true\"># 插入item数据</span>\n        sql <span class=\"token operator\">=</span> <span class=\"token string\">'insert into company (comic_id, name, cover, update_type, line1, line2) values (%s, %s, %s, %s, %s, %s)'</span>\n        self<span class=\"token punctuation\">.</span>cursor<span class=\"token punctuation\">.</span>execute<span class=\"token punctuation\">(</span>sql<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span>item<span class=\"token punctuation\">[</span><span class=\"token string\">'comic_id'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> item<span class=\"token punctuation\">[</span><span class=\"token string\">'name'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> item<span class=\"token punctuation\">[</span><span class=\"token string\">'cover'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> item<span class=\"token punctuation\">[</span><span class=\"token string\">'update_type'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> item<span class=\"token punctuation\">[</span><span class=\"token string\">'line1'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> item<span class=\"token punctuation\">[</span><span class=\"token string\">'line2'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n        self<span class=\"token punctuation\">.</span>db<span class=\"token punctuation\">.</span>commit<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n\n        <span class=\"token keyword\">return</span> item\n\n</code></pre>\n<p><strong>settings.py</strong></p>\n<pre class=\" language-python\"><code class=\"language-python\"><span class=\"token comment\" spellcheck=\"true\"># -*- coding: utf-8 -*-</span>\n\n<span class=\"token comment\" spellcheck=\"true\"># Scrapy settings for youyaoqi project</span>\n<span class=\"token comment\" spellcheck=\"true\">#</span>\n<span class=\"token comment\" spellcheck=\"true\"># For simplicity, this file contains only settings considered important or</span>\n<span class=\"token comment\" spellcheck=\"true\"># commonly used. You can find more settings consulting the documentation:</span>\n<span class=\"token comment\" spellcheck=\"true\">#</span>\n<span class=\"token comment\" spellcheck=\"true\">#     https://doc.scrapy.org/en/latest/topics/settings.html</span>\n<span class=\"token comment\" spellcheck=\"true\">#     https://doc.scrapy.org/en/latest/topics/downloader-middleware.html</span>\n<span class=\"token comment\" spellcheck=\"true\">#     https://doc.scrapy.org/en/latest/topics/spider-middleware.html</span>\n\nBOT_NAME <span class=\"token operator\">=</span> <span class=\"token string\">'youyaoqi'</span>\n\nSPIDER_MODULES <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token string\">'youyaoqi.spiders'</span><span class=\"token punctuation\">]</span>\nNEWSPIDER_MODULE <span class=\"token operator\">=</span> <span class=\"token string\">'youyaoqi.spiders'</span>\n\n\n<span class=\"token comment\" spellcheck=\"true\"># Crawl responsibly by identifying yourself (and your website) on the user-agent</span>\n<span class=\"token comment\" spellcheck=\"true\">#USER_AGENT = 'youyaoqi (+http://www.yourdomain.com)'</span>\n\n<span class=\"token comment\" spellcheck=\"true\"># Obey robots.txt rules</span>\nROBOTSTXT_OBEY <span class=\"token operator\">=</span> <span class=\"token boolean\">False</span>\n\n<span class=\"token comment\" spellcheck=\"true\"># Configure maximum concurrent requests performed by Scrapy (default: 16)</span>\n<span class=\"token comment\" spellcheck=\"true\">#CONCURRENT_REQUESTS = 32</span>\n\n<span class=\"token comment\" spellcheck=\"true\"># Configure a delay for requests for the same website (default: 0)</span>\n<span class=\"token comment\" spellcheck=\"true\"># See https://doc.scrapy.org/en/latest/topics/settings.html#download-delay</span>\n<span class=\"token comment\" spellcheck=\"true\"># See also autothrottle settings and docs</span>\n<span class=\"token comment\" spellcheck=\"true\">#DOWNLOAD_DELAY = 3</span>\n<span class=\"token comment\" spellcheck=\"true\"># The download delay setting will honor only one of:</span>\n<span class=\"token comment\" spellcheck=\"true\">#CONCURRENT_REQUESTS_PER_DOMAIN = 16</span>\n<span class=\"token comment\" spellcheck=\"true\">#CONCURRENT_REQUESTS_PER_IP = 16</span>\n\n<span class=\"token comment\" spellcheck=\"true\"># Disable cookies (enabled by default)</span>\n<span class=\"token comment\" spellcheck=\"true\">#COOKIES_ENABLED = False</span>\n\n<span class=\"token comment\" spellcheck=\"true\"># Disable Telnet Console (enabled by default)</span>\n<span class=\"token comment\" spellcheck=\"true\">#TELNETCONSOLE_ENABLED = False</span>\n\n<span class=\"token comment\" spellcheck=\"true\"># Override the default request headers:</span>\n<span class=\"token comment\" spellcheck=\"true\">#DEFAULT_REQUEST_HEADERS = {</span>\n<span class=\"token comment\" spellcheck=\"true\">#   'Accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8',</span>\n<span class=\"token comment\" spellcheck=\"true\">#   'Accept-Language': 'en',</span>\n<span class=\"token comment\" spellcheck=\"true\">#}</span>\n\n<span class=\"token comment\" spellcheck=\"true\"># Enable or disable spider middlewares</span>\n<span class=\"token comment\" spellcheck=\"true\"># See https://doc.scrapy.org/en/latest/topics/spider-middleware.html</span>\n<span class=\"token comment\" spellcheck=\"true\">#SPIDER_MIDDLEWARES = {</span>\n<span class=\"token comment\" spellcheck=\"true\">#    'youyaoqi.middlewares.YouyaoqiSpiderMiddleware': 543,</span>\n<span class=\"token comment\" spellcheck=\"true\">#}</span>\n\n<span class=\"token comment\" spellcheck=\"true\"># Enable or disable downloader middlewares</span>\n<span class=\"token comment\" spellcheck=\"true\"># See https://doc.scrapy.org/en/latest/topics/downloader-middleware.html</span>\n<span class=\"token comment\" spellcheck=\"true\">#DOWNLOADER_MIDDLEWARES = {</span>\n<span class=\"token comment\" spellcheck=\"true\">#    'youyaoqi.middlewares.YouyaoqiDownloaderMiddleware': 543,</span>\n<span class=\"token comment\" spellcheck=\"true\">#}</span>\n\n<span class=\"token comment\" spellcheck=\"true\"># Enable or disable extensions</span>\n<span class=\"token comment\" spellcheck=\"true\"># See https://doc.scrapy.org/en/latest/topics/extensions.html</span>\n<span class=\"token comment\" spellcheck=\"true\">#EXTENSIONS = {</span>\n<span class=\"token comment\" spellcheck=\"true\">#    'scrapy.extensions.telnet.TelnetConsole': None,</span>\n<span class=\"token comment\" spellcheck=\"true\">#}</span>\n\n<span class=\"token comment\" spellcheck=\"true\"># Configure item pipelines</span>\n<span class=\"token comment\" spellcheck=\"true\"># See https://doc.scrapy.org/en/latest/topics/item-pipeline.html</span>\nITEM_PIPELINES <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n   <span class=\"token comment\" spellcheck=\"true\"># 'youyaoqi.pipelines.YouyaoqiMysqlPipeline': 300,</span>\n   <span class=\"token comment\" spellcheck=\"true\"># 'youyaoqi.pipelines.ImagePipeline': 300,</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token comment\" spellcheck=\"true\"># Enable and configure the AutoThrottle extension (disabled by default)</span>\n<span class=\"token comment\" spellcheck=\"true\"># See https://doc.scrapy.org/en/latest/topics/autothrottle.html</span>\n<span class=\"token comment\" spellcheck=\"true\">#AUTOTHROTTLE_ENABLED = True</span>\n<span class=\"token comment\" spellcheck=\"true\"># The initial download delay</span>\n<span class=\"token comment\" spellcheck=\"true\">#AUTOTHROTTLE_START_DELAY = 5</span>\n<span class=\"token comment\" spellcheck=\"true\"># The maximum download delay to be set in case of high latencies</span>\n<span class=\"token comment\" spellcheck=\"true\">#AUTOTHROTTLE_MAX_DELAY = 60</span>\n<span class=\"token comment\" spellcheck=\"true\"># The average number of requests Scrapy should be sending in parallel to</span>\n<span class=\"token comment\" spellcheck=\"true\"># each remote server</span>\n<span class=\"token comment\" spellcheck=\"true\">#AUTOTHROTTLE_TARGET_CONCURRENCY = 1.0</span>\n<span class=\"token comment\" spellcheck=\"true\"># Enable showing throttling stats for every response received:</span>\n<span class=\"token comment\" spellcheck=\"true\">#AUTOTHROTTLE_DEBUG = False</span>\n\n<span class=\"token comment\" spellcheck=\"true\"># Enable and configure HTTP caching (disabled by default)</span>\n<span class=\"token comment\" spellcheck=\"true\"># See https://doc.scrapy.org/en/latest/topics/downloader-middleware.html#httpcache-middleware-settings</span>\n<span class=\"token comment\" spellcheck=\"true\">#HTTPCACHE_ENABLED = True</span>\n<span class=\"token comment\" spellcheck=\"true\">#HTTPCACHE_EXPIRATION_SECS = 0</span>\n<span class=\"token comment\" spellcheck=\"true\">#HTTPCACHE_DIR = 'httpcache'</span>\n<span class=\"token comment\" spellcheck=\"true\">#HTTPCACHE_IGNORE_HTTP_CODES = []</span>\n<span class=\"token comment\" spellcheck=\"true\">#HTTPCACHE_STORAGE = 'scrapy.extensions.httpcache.FilesystemCacheStorage'</span>\nFEED_EXPORT_ENCODING <span class=\"token operator\">=</span> <span class=\"token string\">'utf-8'</span>\nMAX_PAGE <span class=\"token operator\">=</span> <span class=\"token number\">500</span>\n\n<span class=\"token comment\" spellcheck=\"true\"># IMAGES_STORE = './images'</span>\n\n<span class=\"token comment\" spellcheck=\"true\"># mysql settings</span>\nMYSQL_HOST <span class=\"token operator\">=</span> <span class=\"token string\">'127.0.0.1'</span>\nMYSQL_PORT <span class=\"token operator\">=</span> <span class=\"token number\">3306</span>\nMYSQL_USERNAME <span class=\"token operator\">=</span> <span class=\"token string\">'root'</span>\nMYSQL_PASSWORD <span class=\"token operator\">=</span> <span class=\"token string\">'123456'</span>\nMYSQL_DATABASE <span class=\"token operator\">=</span> <span class=\"token string\">'u17'</span>\n\n</code></pre>\n<p><strong>cartoon.py</strong></p>\n<pre class=\" language-python\"><code class=\"language-python\"><span class=\"token comment\" spellcheck=\"true\"># -*- coding: utf-8 -*-</span>\n<span class=\"token keyword\">import</span> json\n<span class=\"token keyword\">import</span> scrapy\n<span class=\"token keyword\">from</span> youyaoqi<span class=\"token punctuation\">.</span>items <span class=\"token keyword\">import</span> YouyaoqiItem<span class=\"token punctuation\">,</span> U17DetailItem\n\n\n<span class=\"token keyword\">class</span> <span class=\"token class-name\">CartoonSpider</span><span class=\"token punctuation\">(</span>scrapy<span class=\"token punctuation\">.</span>Spider<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    name <span class=\"token operator\">=</span> <span class=\"token string\">'cartoon'</span>\n    allowed_domains <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token string\">'www.u17.com'</span><span class=\"token punctuation\">]</span>\n    start_urls <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token string\">'http://www.u17.com/'</span><span class=\"token punctuation\">]</span>\n\n    <span class=\"token keyword\">def</span> <span class=\"token function\">start_requests</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n        data <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span><span class=\"token string\">'data[group_id]'</span><span class=\"token punctuation\">:</span> <span class=\"token string\">'no'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'data[theme_id]'</span><span class=\"token punctuation\">:</span> <span class=\"token string\">'no'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'data[is_vip]'</span><span class=\"token punctuation\">:</span> <span class=\"token string\">'no'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'data[accredit]'</span><span class=\"token punctuation\">:</span> <span class=\"token string\">'no'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'data[color]'</span><span class=\"token punctuation\">:</span> <span class=\"token string\">'no'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'data[comic_type]'</span><span class=\"token punctuation\">:</span> <span class=\"token string\">'no'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'data[series_status]'</span><span class=\"token punctuation\">:</span> <span class=\"token string\">'no'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'data[order]'</span><span class=\"token punctuation\">:</span> <span class=\"token string\">'2'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'data[page_num]'</span><span class=\"token punctuation\">:</span> <span class=\"token string\">'1'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'data[read_mode]'</span><span class=\"token punctuation\">:</span> <span class=\"token string\">'no'</span> <span class=\"token punctuation\">}</span>\n        headers <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n            <span class=\"token string\">'Referer'</span><span class=\"token punctuation\">:</span> <span class=\"token string\">'http://www.u17.com/comic_list/th99_gr99_ca99_ss99_ob0_ac0_as0_wm0_co99_ct99_p1.html?order=2'</span><span class=\"token punctuation\">,</span>\n            <span class=\"token string\">'User-Agent'</span><span class=\"token punctuation\">:</span> <span class=\"token string\">'Mozilla/5.0 (Windows NT 6.1; Trident/7.0; rv:11.0) like Gecko'</span><span class=\"token punctuation\">,</span>\n            <span class=\"token string\">'Host'</span><span class=\"token punctuation\">:</span> <span class=\"token string\">'www.u17.com'</span><span class=\"token punctuation\">,</span>\n            <span class=\"token string\">'Accept'</span><span class=\"token punctuation\">:</span> <span class=\"token string\">'application/json, text/plain, */*'</span><span class=\"token punctuation\">,</span>\n            <span class=\"token string\">'Accept-Encoding'</span><span class=\"token punctuation\">:</span> <span class=\"token string\">'gzip, deflate, sdch'</span><span class=\"token punctuation\">,</span>\n            <span class=\"token string\">'Accept-Language'</span><span class=\"token punctuation\">:</span> <span class=\"token string\">'zh-CN,zh;q=0.8,en;q=0.6,ja;q=0.4,zh-TW;q=0.2,mt;q=0.2'</span><span class=\"token punctuation\">,</span>\n            <span class=\"token string\">'Connection'</span><span class=\"token punctuation\">:</span> <span class=\"token string\">'keep-alive'</span><span class=\"token punctuation\">,</span>\n            <span class=\"token string\">'X-Requested-With'</span><span class=\"token punctuation\">:</span> <span class=\"token string\">'XMLHttpRequest'</span><span class=\"token punctuation\">,</span>\n        <span class=\"token punctuation\">}</span>\n        max_page <span class=\"token operator\">=</span> self<span class=\"token punctuation\">.</span>settings<span class=\"token punctuation\">.</span>get<span class=\"token punctuation\">(</span><span class=\"token string\">'MAX_PAGE'</span><span class=\"token punctuation\">)</span>\n        base_url <span class=\"token operator\">=</span> <span class=\"token string\">'http://www.u17.com/comic/ajax.php?mod=comic_list&amp;act=comic_list_new_fun&amp;a=get_comic_list'</span>\n        <span class=\"token keyword\">for</span> page <span class=\"token keyword\">in</span> range<span class=\"token punctuation\">(</span><span class=\"token number\">2</span><span class=\"token punctuation\">,</span> max_page<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n            data<span class=\"token punctuation\">[</span><span class=\"token string\">'data[page_num]'</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> str<span class=\"token punctuation\">(</span>page<span class=\"token punctuation\">)</span>\n            <span class=\"token keyword\">yield</span> scrapy<span class=\"token punctuation\">.</span>FormRequest<span class=\"token punctuation\">(</span>url<span class=\"token operator\">=</span>base_url<span class=\"token punctuation\">,</span> headers<span class=\"token operator\">=</span>headers<span class=\"token punctuation\">,</span> method<span class=\"token operator\">=</span><span class=\"token string\">'POST'</span><span class=\"token punctuation\">,</span> formdata<span class=\"token operator\">=</span>data<span class=\"token punctuation\">,</span> callback<span class=\"token operator\">=</span>self<span class=\"token punctuation\">.</span>parse<span class=\"token punctuation\">)</span>\n\n    <span class=\"token keyword\">def</span> <span class=\"token function\">get_headers</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n        headers <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n            <span class=\"token string\">'User-Agent'</span><span class=\"token punctuation\">:</span> <span class=\"token string\">'Mozilla/4.0 (compatible; MSIE 7.0; Windows NT 5.1; 360SE)'</span><span class=\"token punctuation\">,</span>\n            <span class=\"token string\">'Host'</span><span class=\"token punctuation\">:</span> <span class=\"token string\">'www.u17.com'</span><span class=\"token punctuation\">,</span>\n            <span class=\"token string\">'Accept'</span><span class=\"token punctuation\">:</span> <span class=\"token string\">'application/json, text/plain, */*'</span><span class=\"token punctuation\">,</span>\n            <span class=\"token string\">'Accept-Encoding'</span><span class=\"token punctuation\">:</span> <span class=\"token string\">'gzip, deflate, sdch'</span><span class=\"token punctuation\">,</span>\n            <span class=\"token string\">'Accept-Language'</span><span class=\"token punctuation\">:</span> <span class=\"token string\">'zh-CN,zh;q=0.8,en;q=0.6,ja;q=0.4,zh-TW;q=0.2,mt;q=0.2'</span><span class=\"token punctuation\">,</span>\n            <span class=\"token string\">'Connection'</span><span class=\"token punctuation\">:</span> <span class=\"token string\">'keep-alive'</span><span class=\"token punctuation\">,</span>\n            <span class=\"token string\">'X-Requested-With'</span><span class=\"token punctuation\">:</span> <span class=\"token string\">'XMLHttpRequest'</span><span class=\"token punctuation\">,</span>\n            <span class=\"token string\">'Content-Type'</span><span class=\"token punctuation\">:</span> <span class=\"token string\">'application/x-www-form-urlencoded; charset=UTF-8'</span><span class=\"token punctuation\">,</span>\n        <span class=\"token punctuation\">}</span>\n        <span class=\"token keyword\">return</span> headers\n\n    <span class=\"token keyword\">def</span> <span class=\"token function\">parse</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">,</span> response<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n        result_json <span class=\"token operator\">=</span> json<span class=\"token punctuation\">.</span>loads<span class=\"token punctuation\">(</span>response<span class=\"token punctuation\">.</span>text<span class=\"token punctuation\">)</span>\n        data_list <span class=\"token operator\">=</span> result_json<span class=\"token punctuation\">[</span><span class=\"token string\">'comic_list'</span><span class=\"token punctuation\">]</span>\n        <span class=\"token keyword\">for</span> data <span class=\"token keyword\">in</span> data_list<span class=\"token punctuation\">:</span>\n            item <span class=\"token operator\">=</span> YouyaoqiItem<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n            item<span class=\"token punctuation\">[</span><span class=\"token string\">'comic_id'</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> data<span class=\"token punctuation\">[</span><span class=\"token string\">'comic_id'</span><span class=\"token punctuation\">]</span>\n            item<span class=\"token punctuation\">[</span><span class=\"token string\">'name'</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> data<span class=\"token punctuation\">[</span><span class=\"token string\">'name'</span><span class=\"token punctuation\">]</span>\n            item<span class=\"token punctuation\">[</span><span class=\"token string\">'cover'</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> data<span class=\"token punctuation\">[</span><span class=\"token string\">'cover'</span><span class=\"token punctuation\">]</span>\n            item<span class=\"token punctuation\">[</span><span class=\"token string\">'update_type'</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> data<span class=\"token punctuation\">[</span><span class=\"token string\">'update_type'</span><span class=\"token punctuation\">]</span>\n            item<span class=\"token punctuation\">[</span><span class=\"token string\">'line1'</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> data<span class=\"token punctuation\">[</span><span class=\"token string\">'line1'</span><span class=\"token punctuation\">]</span>\n            item<span class=\"token punctuation\">[</span><span class=\"token string\">'line2'</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> data<span class=\"token punctuation\">[</span><span class=\"token string\">'line2'</span><span class=\"token punctuation\">]</span>\n            <span class=\"token keyword\">yield</span> item\n\n            detail_url <span class=\"token operator\">=</span> <span class=\"token string\">'http://www.u17.com/comic/%s.html'</span> <span class=\"token operator\">%</span> item<span class=\"token punctuation\">[</span><span class=\"token string\">'comic_id'</span><span class=\"token punctuation\">]</span>\n            <span class=\"token keyword\">yield</span> scrapy<span class=\"token punctuation\">.</span>Request<span class=\"token punctuation\">(</span>url<span class=\"token operator\">=</span>detail_url<span class=\"token punctuation\">,</span> headers<span class=\"token operator\">=</span>self<span class=\"token punctuation\">.</span>get_headers<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> callback<span class=\"token operator\">=</span>self<span class=\"token punctuation\">.</span>parse_detail<span class=\"token punctuation\">)</span>\n\n    <span class=\"token keyword\">def</span> <span class=\"token function\">parse_detail</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">,</span> response<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n        results <span class=\"token operator\">=</span> response<span class=\"token punctuation\">.</span>css<span class=\"token punctuation\">(</span><span class=\"token string\">'#chapter li'</span><span class=\"token punctuation\">)</span>\n        <span class=\"token keyword\">for</span> item <span class=\"token keyword\">in</span> results<span class=\"token punctuation\">:</span>\n            detail_item <span class=\"token operator\">=</span> U17DetailItem<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n            name_list <span class=\"token operator\">=</span> item<span class=\"token punctuation\">.</span>xpath<span class=\"token punctuation\">(</span><span class=\"token string\">'./a/text()'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>extract<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n            <span class=\"token keyword\">for</span> name <span class=\"token keyword\">in</span> name_list<span class=\"token punctuation\">:</span>\n                detail_item<span class=\"token punctuation\">[</span><span class=\"token string\">'name'</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> name<span class=\"token punctuation\">.</span>replace<span class=\"token punctuation\">(</span><span class=\"token string\">'\"'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">''</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>strip<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n            <span class=\"token comment\" spellcheck=\"true\"># detail_item['u_id'] = title.replace</span>\n            <span class=\"token comment\" spellcheck=\"true\"># detail_item['name'] = item.replace('\"', '').strip()</span>\n                <span class=\"token keyword\">yield</span> detail_item\n            <span class=\"token comment\" spellcheck=\"true\"># a_url_list = item.css('./a::attr(href)').extract()</span>\n            <span class=\"token comment\" spellcheck=\"true\"># for a_url in a_url_list:</span>\n            <span class=\"token comment\" spellcheck=\"true\">#     detail_item['url'] = a_url</span>\n            <span class=\"token comment\" spellcheck=\"true\">#     yield detail_item</span>\n\n</code></pre>\n","site":{"data":{}},"excerpt":"","more":"<h3 id=\"创建一个有个youyaoqi项目\"><a href=\"#创建一个有个youyaoqi项目\" class=\"headerlink\" title=\"创建一个有个youyaoqi项目\"></a>创建一个有个youyaoqi项目</h3><ul>\n<li>项目自带文件<ul>\n<li>scrapy.cfg</li>\n<li>youyaoqi<ul>\n<li><strong> init</strong>.py</li>\n<li>items.py</li>\n<li>middlewares.py</li>\n<li>pipelines.py</li>\n<li>settings.py</li>\n<li>spiders<ul>\n<li><strong> init </strong>.py</li>\n<li>cartoon.py</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<p><strong>items</strong></p>\n<pre><code class=\"python\"># -*- coding: utf-8 -*-\n\n# Define here the models for your scraped items\n#\n# See documentation in:\n# https://doc.scrapy.org/en/latest/topics/items.html\n\nimport scrapy\n\n\nclass YouyaoqiItem(scrapy.Item):\n    # define the fields for your item here like:\n    comic_id = scrapy.Field()\n    name = scrapy.Field()\n    cover = scrapy.Field()\n    update_type = scrapy.Field()\n    line1 = scrapy.Field()\n    line2 = scrapy.Field()\n\n\nclass U17DetailItem(scrapy.Item):\n    name = scrapy.Field()\n    # u_id = scrapy.Field()\n\n</code></pre>\n<p><strong>pipelines.py</strong></p>\n<pre><code class=\"python\"># -*- coding: utf-8 -*-\n\n# Define your item pipelines here\n#\n# Don&#39;t forget to add your pipeline to the ITEM_PIPELINES setting\n# See: https://doc.scrapy.org/en/latest/topics/item-pipeline.html\nimport pymysql\nfrom scrapy import Request\nfrom scrapy.exceptions import DropItem\nfrom scrapy.pipelines.images import ImagesPipeline\n\n\nclass ImagePipeline(ImagesPipeline):\n    def file_path(self, request, response=None, info=None):\n        url = request.url\n        file_name = url.split(&#39;/&#39;)[-1]\n        return file_name\n\n    def item_completed(self, results, item, info):\n        image_paths = [x[&#39;path&#39;] for ok, x in results if ok]\n        if not image_paths:\n            raise DropItem(&#39;Image Downloaded Failed&#39;)\n        return item\n\n    def get_media_requests(self, item, info):\n        yield Request(item[&#39;cover&#39;])\n\n\nclass YouyaoqiMysqlPipeline(object):\n    def __init__(self, host, port, database, username, password):\n        self.host = host\n        self.port = port\n        self.database = database\n        self.username = username\n        self.password = password\n\n    @classmethod\n    def from_crawler(cls, crawler):\n        return cls(\n            host=crawler.settings.get(&#39;MYSQL_HOST&#39;),\n            port=crawler.settings.get(&#39;MYSQL_PORT&#39;),\n            database=crawler.settings.get(&#39;MYSQL_DATABASE&#39;),\n            username=crawler.settings.get(&#39;MYSQL_USERNAME&#39;),\n            password=crawler.settings.get(&#39;MYSQL_PASSWORD&#39;),\n        )\n\n    def open_spider(self, spider):\n        # 获取数据库连接\n        self.db = pymysql.connect(self.host, self.username, self.password, self.database, charset=&#39;utf8&#39;,\n                                  port=self.port)\n        self.cursor = self.db.cursor()\n\n    def close_spider(self, spider):\n        # 释放数据库连接\n        self.db.close()\n\n    def process_item(self, item, spider):\n        # 插入item数据\n        sql = &#39;insert into company (comic_id, name, cover, update_type, line1, line2) values (%s, %s, %s, %s, %s, %s)&#39;\n        self.cursor.execute(sql, (item[&#39;comic_id&#39;], item[&#39;name&#39;], item[&#39;cover&#39;], item[&#39;update_type&#39;], item[&#39;line1&#39;], item[&#39;line2&#39;]))\n        self.db.commit()\n\n        return item\n\n</code></pre>\n<p><strong>settings.py</strong></p>\n<pre><code class=\"python\"># -*- coding: utf-8 -*-\n\n# Scrapy settings for youyaoqi project\n#\n# For simplicity, this file contains only settings considered important or\n# commonly used. You can find more settings consulting the documentation:\n#\n#     https://doc.scrapy.org/en/latest/topics/settings.html\n#     https://doc.scrapy.org/en/latest/topics/downloader-middleware.html\n#     https://doc.scrapy.org/en/latest/topics/spider-middleware.html\n\nBOT_NAME = &#39;youyaoqi&#39;\n\nSPIDER_MODULES = [&#39;youyaoqi.spiders&#39;]\nNEWSPIDER_MODULE = &#39;youyaoqi.spiders&#39;\n\n\n# Crawl responsibly by identifying yourself (and your website) on the user-agent\n#USER_AGENT = &#39;youyaoqi (+http://www.yourdomain.com)&#39;\n\n# Obey robots.txt rules\nROBOTSTXT_OBEY = False\n\n# Configure maximum concurrent requests performed by Scrapy (default: 16)\n#CONCURRENT_REQUESTS = 32\n\n# Configure a delay for requests for the same website (default: 0)\n# See https://doc.scrapy.org/en/latest/topics/settings.html#download-delay\n# See also autothrottle settings and docs\n#DOWNLOAD_DELAY = 3\n# The download delay setting will honor only one of:\n#CONCURRENT_REQUESTS_PER_DOMAIN = 16\n#CONCURRENT_REQUESTS_PER_IP = 16\n\n# Disable cookies (enabled by default)\n#COOKIES_ENABLED = False\n\n# Disable Telnet Console (enabled by default)\n#TELNETCONSOLE_ENABLED = False\n\n# Override the default request headers:\n#DEFAULT_REQUEST_HEADERS = {\n#   &#39;Accept&#39;: &#39;text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8&#39;,\n#   &#39;Accept-Language&#39;: &#39;en&#39;,\n#}\n\n# Enable or disable spider middlewares\n# See https://doc.scrapy.org/en/latest/topics/spider-middleware.html\n#SPIDER_MIDDLEWARES = {\n#    &#39;youyaoqi.middlewares.YouyaoqiSpiderMiddleware&#39;: 543,\n#}\n\n# Enable or disable downloader middlewares\n# See https://doc.scrapy.org/en/latest/topics/downloader-middleware.html\n#DOWNLOADER_MIDDLEWARES = {\n#    &#39;youyaoqi.middlewares.YouyaoqiDownloaderMiddleware&#39;: 543,\n#}\n\n# Enable or disable extensions\n# See https://doc.scrapy.org/en/latest/topics/extensions.html\n#EXTENSIONS = {\n#    &#39;scrapy.extensions.telnet.TelnetConsole&#39;: None,\n#}\n\n# Configure item pipelines\n# See https://doc.scrapy.org/en/latest/topics/item-pipeline.html\nITEM_PIPELINES = {\n   # &#39;youyaoqi.pipelines.YouyaoqiMysqlPipeline&#39;: 300,\n   # &#39;youyaoqi.pipelines.ImagePipeline&#39;: 300,\n}\n\n# Enable and configure the AutoThrottle extension (disabled by default)\n# See https://doc.scrapy.org/en/latest/topics/autothrottle.html\n#AUTOTHROTTLE_ENABLED = True\n# The initial download delay\n#AUTOTHROTTLE_START_DELAY = 5\n# The maximum download delay to be set in case of high latencies\n#AUTOTHROTTLE_MAX_DELAY = 60\n# The average number of requests Scrapy should be sending in parallel to\n# each remote server\n#AUTOTHROTTLE_TARGET_CONCURRENCY = 1.0\n# Enable showing throttling stats for every response received:\n#AUTOTHROTTLE_DEBUG = False\n\n# Enable and configure HTTP caching (disabled by default)\n# See https://doc.scrapy.org/en/latest/topics/downloader-middleware.html#httpcache-middleware-settings\n#HTTPCACHE_ENABLED = True\n#HTTPCACHE_EXPIRATION_SECS = 0\n#HTTPCACHE_DIR = &#39;httpcache&#39;\n#HTTPCACHE_IGNORE_HTTP_CODES = []\n#HTTPCACHE_STORAGE = &#39;scrapy.extensions.httpcache.FilesystemCacheStorage&#39;\nFEED_EXPORT_ENCODING = &#39;utf-8&#39;\nMAX_PAGE = 500\n\n# IMAGES_STORE = &#39;./images&#39;\n\n# mysql settings\nMYSQL_HOST = &#39;127.0.0.1&#39;\nMYSQL_PORT = 3306\nMYSQL_USERNAME = &#39;root&#39;\nMYSQL_PASSWORD = &#39;123456&#39;\nMYSQL_DATABASE = &#39;u17&#39;\n\n</code></pre>\n<p><strong>cartoon.py</strong></p>\n<pre><code class=\"python\"># -*- coding: utf-8 -*-\nimport json\nimport scrapy\nfrom youyaoqi.items import YouyaoqiItem, U17DetailItem\n\n\nclass CartoonSpider(scrapy.Spider):\n    name = &#39;cartoon&#39;\n    allowed_domains = [&#39;www.u17.com&#39;]\n    start_urls = [&#39;http://www.u17.com/&#39;]\n\n    def start_requests(self):\n        data = {&#39;data[group_id]&#39;: &#39;no&#39;, &#39;data[theme_id]&#39;: &#39;no&#39;, &#39;data[is_vip]&#39;: &#39;no&#39;, &#39;data[accredit]&#39;: &#39;no&#39;, &#39;data[color]&#39;: &#39;no&#39;, &#39;data[comic_type]&#39;: &#39;no&#39;, &#39;data[series_status]&#39;: &#39;no&#39;, &#39;data[order]&#39;: &#39;2&#39;, &#39;data[page_num]&#39;: &#39;1&#39;, &#39;data[read_mode]&#39;: &#39;no&#39; }\n        headers = {\n            &#39;Referer&#39;: &#39;http://www.u17.com/comic_list/th99_gr99_ca99_ss99_ob0_ac0_as0_wm0_co99_ct99_p1.html?order=2&#39;,\n            &#39;User-Agent&#39;: &#39;Mozilla/5.0 (Windows NT 6.1; Trident/7.0; rv:11.0) like Gecko&#39;,\n            &#39;Host&#39;: &#39;www.u17.com&#39;,\n            &#39;Accept&#39;: &#39;application/json, text/plain, */*&#39;,\n            &#39;Accept-Encoding&#39;: &#39;gzip, deflate, sdch&#39;,\n            &#39;Accept-Language&#39;: &#39;zh-CN,zh;q=0.8,en;q=0.6,ja;q=0.4,zh-TW;q=0.2,mt;q=0.2&#39;,\n            &#39;Connection&#39;: &#39;keep-alive&#39;,\n            &#39;X-Requested-With&#39;: &#39;XMLHttpRequest&#39;,\n        }\n        max_page = self.settings.get(&#39;MAX_PAGE&#39;)\n        base_url = &#39;http://www.u17.com/comic/ajax.php?mod=comic_list&amp;act=comic_list_new_fun&amp;a=get_comic_list&#39;\n        for page in range(2, max_page):\n            data[&#39;data[page_num]&#39;] = str(page)\n            yield scrapy.FormRequest(url=base_url, headers=headers, method=&#39;POST&#39;, formdata=data, callback=self.parse)\n\n    def get_headers(self):\n        headers = {\n            &#39;User-Agent&#39;: &#39;Mozilla/4.0 (compatible; MSIE 7.0; Windows NT 5.1; 360SE)&#39;,\n            &#39;Host&#39;: &#39;www.u17.com&#39;,\n            &#39;Accept&#39;: &#39;application/json, text/plain, */*&#39;,\n            &#39;Accept-Encoding&#39;: &#39;gzip, deflate, sdch&#39;,\n            &#39;Accept-Language&#39;: &#39;zh-CN,zh;q=0.8,en;q=0.6,ja;q=0.4,zh-TW;q=0.2,mt;q=0.2&#39;,\n            &#39;Connection&#39;: &#39;keep-alive&#39;,\n            &#39;X-Requested-With&#39;: &#39;XMLHttpRequest&#39;,\n            &#39;Content-Type&#39;: &#39;application/x-www-form-urlencoded; charset=UTF-8&#39;,\n        }\n        return headers\n\n    def parse(self, response):\n        result_json = json.loads(response.text)\n        data_list = result_json[&#39;comic_list&#39;]\n        for data in data_list:\n            item = YouyaoqiItem()\n            item[&#39;comic_id&#39;] = data[&#39;comic_id&#39;]\n            item[&#39;name&#39;] = data[&#39;name&#39;]\n            item[&#39;cover&#39;] = data[&#39;cover&#39;]\n            item[&#39;update_type&#39;] = data[&#39;update_type&#39;]\n            item[&#39;line1&#39;] = data[&#39;line1&#39;]\n            item[&#39;line2&#39;] = data[&#39;line2&#39;]\n            yield item\n\n            detail_url = &#39;http://www.u17.com/comic/%s.html&#39; % item[&#39;comic_id&#39;]\n            yield scrapy.Request(url=detail_url, headers=self.get_headers(), callback=self.parse_detail)\n\n    def parse_detail(self, response):\n        results = response.css(&#39;#chapter li&#39;)\n        for item in results:\n            detail_item = U17DetailItem()\n            name_list = item.xpath(&#39;./a/text()&#39;).extract()\n            for name in name_list:\n                detail_item[&#39;name&#39;] = name.replace(&#39;&quot;&#39;, &#39;&#39;).strip()\n            # detail_item[&#39;u_id&#39;] = title.replace\n            # detail_item[&#39;name&#39;] = item.replace(&#39;&quot;&#39;, &#39;&#39;).strip()\n                yield detail_item\n            # a_url_list = item.css(&#39;./a::attr(href)&#39;).extract()\n            # for a_url in a_url_list:\n            #     detail_item[&#39;url&#39;] = a_url\n            #     yield detail_item\n\n</code></pre>\n"},{"title":"music_wy","date":"2018-05-07T07:15:06.000Z","author":"smile","_content":"\n```python\n# coding=utf-8\n'''\n爬取wy音乐榜单\n'''\n# 导入需要使用的模块\nimport os\nimport csv\nimport time\nimport random\nimport requests\nimport threading\nfrom lxml import etree\nfrom selenium import webdriver\n\nagents = [\n    \"Mozilla/5.0 (Windows NT 10.0; WOW64; Trident/7.0; .NET4.0C; .NET4.0E; .NET CLR 2.0.50727; .NET CLR 3.0.30729; .NET CLR 3.5.30729; InfoPath.3; rv:11.0) like Gecko\",\n    \"Mozilla/5.0 (compatible; MSIE 9.0; Windows NT 6.1; Trident/5.0\",\n    \"Mozilla/4.0 (compatible; MSIE 8.0; Windows NT 6.0; Trident/4.0)\",\n    \"Mozilla/4.0 (compatible; MSIE 7.0; Windows NT 6.0)\",\n    \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10.6; rv:2.0.1) Gecko/20100101 Firefox/4.0.1\",\n    \"Mozilla/5.0 (Windows NT 6.1; rv:2.0.1) Gecko/20100101 Firefox/4.0.1\",\n    \"Opera/9.80 (Macintosh; Intel Mac OS X 10.6.8; U; en) Presto/2.8.131 Version/11.11\",\n]\n\n\nclass WangyiMusc(object):\n\n    # id表示你要获取排行榜\n    # mating是榜单名称\n    # url为排行榜页面\n    # music_url为歌曲下载页面\n    def __init__(self, mating, id):\n        self.browser = webdriver.Chrome()\n        self.id = id\n        self.url = \"https://music.163.com/#/discover/toplist?id={0}\".format(self.id)\n        self.music_url = \"http://music.163.com/song/media/outer/url?id={0}.mp3\"\n        self.mat = mating\n\n    # 由于页面的歌曲信息都存放在页面的ifram里面，所以使用Selenium进入子页面获得代码然后返回\n    def get_html(self):\n        self.browser.get(self.url)\n        self.browser.switch_to_frame('contentFrame')\n        iframe = self.browser.page_source\n        time.sleep(5)\n        return iframe\n\n    # 使用xpath解析页面的信息进行返回\n    def parse_html(self):\n        iframe = self.get_html()\n        html = etree.HTML(iframe)\n        contents = html.xpath('//tbody/tr')\n        try:\n            for content in contents:\n                name = content.xpath('./td/div/div/div/span/a/b/@title')[0].replace(' ', '')\n                music_id = content.xpath('./td/div/div/span/@data-res-id')[0].strip()\n                print(name)\n                print(music_id)\n                # 将歌曲的名称与id传给write_music方法进行下载\n                self.write_music(name, music_id)\n                # num = content.xpath('./td/div/span[@class=\"num\"]/text()')[0].strip()\n                # date = content.xpath('./td[@class=\" s-fc3\"]/span/text()')[0].strip()\n                # singer = content.xpath('./td/div[@class=\"text\"]/@title')[0].strip()\n                # # 将歌曲的信息构建成个元组类型\n                # items = num, name, date, singer\n                #\n                # # 每获得一次歌曲信息后返回一次\n                # yield list(items)\n\n        except Exception as e:\n            print('解析失败！', e.args)\n\n    # 获取到目前的日期\n    def get_date(self):\n        t = time.localtime()\n        tt = time.strftime('%Y年%m月%d日', t)\n        return tt\n\n    # 得到歌曲的名称与id,这里进行下载\n    def write_music(self, name, music_id):\n        url = self.music_url.format(music_id)\n        # agent = random.choice(agents)\n        try:\n            # headers = {\n            #     'User-Agent': agent\n            # }\n            # music = requests.get(url, headers=headers)\n            headers = {\n                \"User-Agent\": \"Mozilla/5.0 (Windows NT 6.1; Win64; x64; rv:2.0b13pre) Gecko/20110307 Firefox/4.0b13pre\"\n            }\n            music = requests.get(url, headers=headers)\n            if music.status_code == 200:\n                # 把歌曲保存到目前日期下的榜单名称下面,方便查看\n                # path = self.get_date() + os.sep + self.mat + os.sep\n                # 查询是否有这个地址,如果没有递归创建\n                # if not os.path.exists(path):\n                #     os.makedirs(path)\n                with open('./wangyiyun/' + name + '.mp3', 'wb') as f:\n                    f.write(music.content)\n                    print('下载 ' + name + \" 成功...\")\n\n        except Exception as e:\n            print(\"下载 {0} 失败!!!\".format(name), e.args)\n\n    # 保存榜单的信息\n    def write_items(self):\n        # 将信息保存至目前日期的下面,方便查找\n        path = self.get_date() + os.sep + self.mat\n        try:\n            # 判断是否有这个文件，如果没有者创建\n            if not os.path.exists(path):\n                os.makedirs(path)\n            with open(path + '榜单信息.csv', 'w', encoding='utf-8') as file:\n                # 使用cvs格式进行保存\n                csvfile = csv.writer(file)\n                csvfile.writerow(['排名', '歌名', '时长', '歌手'])\n                for parse in self.parse_html():\n                    csvfile.writerow(parse)\n                print(\"存储信息成功.\")\n        except Exception as e:\n            print(\"存储信息失败!\", e.args)\n\n\ndef operation(mating, id):\n    try:\n        # 实例化对象\n        music = WangyiMusc(mating, id)\n        # 获取要爬取的页面的HTML文件\n        music.get_html()\n        # 解析页面，将需要的信息进行返回,并开始下载歌曲\n        music.parse_html()\n        # 获取目前的日期\n        # music.get_date()\n        # 保存需要的信息\n        # music.write_items()\n        # print(\"下载完成...\")\n        # 关闭browser\n        music.browser.close()\n    except Exception as e:\n        print(\"下载失败!\", e.args)\n\n\n# 选择的界面\ndef user_select():\n    # 每个榜单的id\n    ids = ['19723756', '3779629', '2884035', '3778678', '991319590',\n           '2408901803', '1978921795', '71385702', '2462790889',\n           '10520166', '3812895', '60131', '71384707', '180106', '60198',\n           '27135204', '11641012', '120001', '2323534945', '745956260',\n           '2023401535', '2006508653', '21845217', '112463',\n           '112504', '64016', '10169002', '1899724']\n\n    # 每个榜单的名称\n    names = ['云音乐飙升榜', '云音乐新歌榜', '网易原创歌曲榜',\n             '云音乐热歌榜', '江小白YOLO云音乐说唱榜', '公告牌音乐榜', '云音乐电音榜',\n             '云音乐电音榜', '云音乐ACG音乐榜', 'YY音乐榜', '云音乐国电榜', '云音乐国电榜',\n             '云音乐国电榜', '云音乐古典音乐榜', 'UK排行榜周榜', '美国Billboard周榜',\n             '法国 NRJVos Hits 周榜', 'iTunes榜', 'Hit FMTop榜', '说唱TOP榜', '云音乐韩语榜',\n             '英国Q杂志中文版周榜', '电竞音乐榜', 'KTV唛榜', '台湾Hito排行榜', '中国TOP排行榜（港台榜）',\n             '中国TOP排行榜（内地榜）', '香港r台中文歌曲龙虎榜', '中国嘻哈榜']\n    musics = {}\n    nums = {}\n\n    # 将名称与id存放在musics字典当中\n    for mat in range(len(ids)):\n        musics[names[mat]] = ids[mat]\n\n    # 给每一个榜单设置一个编号\n    for num in range(1, len(names) + 1):\n        nums[num] = names[num - 1]\n\n    # 输入编号与榜单名称,便于查看\n    for k, v in nums.items():\n        print(k, \":\", v)\n\n    # 将榜单与id打包以元组的方式放入列表当中\n    music_list = list(musics.items())\n\n    # 因为使用4个线程，所以构建一个列表\n    list1 = [i for i in range(len(music_list)) if i % 4 == 0]\n\n    # 选择要下载的榜单\n    n = int(input('请输入你要下载的榜单(请输入数字,输入0全部提取):'))\n\n    # 如果需要全部下载,使用多线程\n    if n == 0:\n        for t in list1:\n            t1 = threading.Thread(target=operation, args=music_list[t])\n            t2 = threading.Thread(target=operation, args=music_list[t + 1])\n            t3 = threading.Thread(target=operation, args=music_list[t + 2])\n            t4 = threading.Thread(target=operation, args=music_list[t + 3])\n\n            t1.start()\n            t2.start()\n            t3.start()\n            t4.start()\n\n            t1.join()\n            t2.join()\n            t3.join()\n            t4.join()\n\n    # 如果只是下载某个榜单,者传入榜单名称与id\n    id = musics[nums[n]]\n    mating = nums[n]\n\n    operation(mating, id)\n\n\nif __name__ == '__main__':\n    # 程序开始\n    user_select()\n```\n\n\n\n","source":"_posts/spider/爬取网易云音乐.md","raw":"---\ntitle: music_wy\ndate: 2018-05-07 15:15:06\nauthor: smile\ncategories: spider\ntags: \n  - music\n---\n\n```python\n# coding=utf-8\n'''\n爬取wy音乐榜单\n'''\n# 导入需要使用的模块\nimport os\nimport csv\nimport time\nimport random\nimport requests\nimport threading\nfrom lxml import etree\nfrom selenium import webdriver\n\nagents = [\n    \"Mozilla/5.0 (Windows NT 10.0; WOW64; Trident/7.0; .NET4.0C; .NET4.0E; .NET CLR 2.0.50727; .NET CLR 3.0.30729; .NET CLR 3.5.30729; InfoPath.3; rv:11.0) like Gecko\",\n    \"Mozilla/5.0 (compatible; MSIE 9.0; Windows NT 6.1; Trident/5.0\",\n    \"Mozilla/4.0 (compatible; MSIE 8.0; Windows NT 6.0; Trident/4.0)\",\n    \"Mozilla/4.0 (compatible; MSIE 7.0; Windows NT 6.0)\",\n    \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10.6; rv:2.0.1) Gecko/20100101 Firefox/4.0.1\",\n    \"Mozilla/5.0 (Windows NT 6.1; rv:2.0.1) Gecko/20100101 Firefox/4.0.1\",\n    \"Opera/9.80 (Macintosh; Intel Mac OS X 10.6.8; U; en) Presto/2.8.131 Version/11.11\",\n]\n\n\nclass WangyiMusc(object):\n\n    # id表示你要获取排行榜\n    # mating是榜单名称\n    # url为排行榜页面\n    # music_url为歌曲下载页面\n    def __init__(self, mating, id):\n        self.browser = webdriver.Chrome()\n        self.id = id\n        self.url = \"https://music.163.com/#/discover/toplist?id={0}\".format(self.id)\n        self.music_url = \"http://music.163.com/song/media/outer/url?id={0}.mp3\"\n        self.mat = mating\n\n    # 由于页面的歌曲信息都存放在页面的ifram里面，所以使用Selenium进入子页面获得代码然后返回\n    def get_html(self):\n        self.browser.get(self.url)\n        self.browser.switch_to_frame('contentFrame')\n        iframe = self.browser.page_source\n        time.sleep(5)\n        return iframe\n\n    # 使用xpath解析页面的信息进行返回\n    def parse_html(self):\n        iframe = self.get_html()\n        html = etree.HTML(iframe)\n        contents = html.xpath('//tbody/tr')\n        try:\n            for content in contents:\n                name = content.xpath('./td/div/div/div/span/a/b/@title')[0].replace(' ', '')\n                music_id = content.xpath('./td/div/div/span/@data-res-id')[0].strip()\n                print(name)\n                print(music_id)\n                # 将歌曲的名称与id传给write_music方法进行下载\n                self.write_music(name, music_id)\n                # num = content.xpath('./td/div/span[@class=\"num\"]/text()')[0].strip()\n                # date = content.xpath('./td[@class=\" s-fc3\"]/span/text()')[0].strip()\n                # singer = content.xpath('./td/div[@class=\"text\"]/@title')[0].strip()\n                # # 将歌曲的信息构建成个元组类型\n                # items = num, name, date, singer\n                #\n                # # 每获得一次歌曲信息后返回一次\n                # yield list(items)\n\n        except Exception as e:\n            print('解析失败！', e.args)\n\n    # 获取到目前的日期\n    def get_date(self):\n        t = time.localtime()\n        tt = time.strftime('%Y年%m月%d日', t)\n        return tt\n\n    # 得到歌曲的名称与id,这里进行下载\n    def write_music(self, name, music_id):\n        url = self.music_url.format(music_id)\n        # agent = random.choice(agents)\n        try:\n            # headers = {\n            #     'User-Agent': agent\n            # }\n            # music = requests.get(url, headers=headers)\n            headers = {\n                \"User-Agent\": \"Mozilla/5.0 (Windows NT 6.1; Win64; x64; rv:2.0b13pre) Gecko/20110307 Firefox/4.0b13pre\"\n            }\n            music = requests.get(url, headers=headers)\n            if music.status_code == 200:\n                # 把歌曲保存到目前日期下的榜单名称下面,方便查看\n                # path = self.get_date() + os.sep + self.mat + os.sep\n                # 查询是否有这个地址,如果没有递归创建\n                # if not os.path.exists(path):\n                #     os.makedirs(path)\n                with open('./wangyiyun/' + name + '.mp3', 'wb') as f:\n                    f.write(music.content)\n                    print('下载 ' + name + \" 成功...\")\n\n        except Exception as e:\n            print(\"下载 {0} 失败!!!\".format(name), e.args)\n\n    # 保存榜单的信息\n    def write_items(self):\n        # 将信息保存至目前日期的下面,方便查找\n        path = self.get_date() + os.sep + self.mat\n        try:\n            # 判断是否有这个文件，如果没有者创建\n            if not os.path.exists(path):\n                os.makedirs(path)\n            with open(path + '榜单信息.csv', 'w', encoding='utf-8') as file:\n                # 使用cvs格式进行保存\n                csvfile = csv.writer(file)\n                csvfile.writerow(['排名', '歌名', '时长', '歌手'])\n                for parse in self.parse_html():\n                    csvfile.writerow(parse)\n                print(\"存储信息成功.\")\n        except Exception as e:\n            print(\"存储信息失败!\", e.args)\n\n\ndef operation(mating, id):\n    try:\n        # 实例化对象\n        music = WangyiMusc(mating, id)\n        # 获取要爬取的页面的HTML文件\n        music.get_html()\n        # 解析页面，将需要的信息进行返回,并开始下载歌曲\n        music.parse_html()\n        # 获取目前的日期\n        # music.get_date()\n        # 保存需要的信息\n        # music.write_items()\n        # print(\"下载完成...\")\n        # 关闭browser\n        music.browser.close()\n    except Exception as e:\n        print(\"下载失败!\", e.args)\n\n\n# 选择的界面\ndef user_select():\n    # 每个榜单的id\n    ids = ['19723756', '3779629', '2884035', '3778678', '991319590',\n           '2408901803', '1978921795', '71385702', '2462790889',\n           '10520166', '3812895', '60131', '71384707', '180106', '60198',\n           '27135204', '11641012', '120001', '2323534945', '745956260',\n           '2023401535', '2006508653', '21845217', '112463',\n           '112504', '64016', '10169002', '1899724']\n\n    # 每个榜单的名称\n    names = ['云音乐飙升榜', '云音乐新歌榜', '网易原创歌曲榜',\n             '云音乐热歌榜', '江小白YOLO云音乐说唱榜', '公告牌音乐榜', '云音乐电音榜',\n             '云音乐电音榜', '云音乐ACG音乐榜', 'YY音乐榜', '云音乐国电榜', '云音乐国电榜',\n             '云音乐国电榜', '云音乐古典音乐榜', 'UK排行榜周榜', '美国Billboard周榜',\n             '法国 NRJVos Hits 周榜', 'iTunes榜', 'Hit FMTop榜', '说唱TOP榜', '云音乐韩语榜',\n             '英国Q杂志中文版周榜', '电竞音乐榜', 'KTV唛榜', '台湾Hito排行榜', '中国TOP排行榜（港台榜）',\n             '中国TOP排行榜（内地榜）', '香港r台中文歌曲龙虎榜', '中国嘻哈榜']\n    musics = {}\n    nums = {}\n\n    # 将名称与id存放在musics字典当中\n    for mat in range(len(ids)):\n        musics[names[mat]] = ids[mat]\n\n    # 给每一个榜单设置一个编号\n    for num in range(1, len(names) + 1):\n        nums[num] = names[num - 1]\n\n    # 输入编号与榜单名称,便于查看\n    for k, v in nums.items():\n        print(k, \":\", v)\n\n    # 将榜单与id打包以元组的方式放入列表当中\n    music_list = list(musics.items())\n\n    # 因为使用4个线程，所以构建一个列表\n    list1 = [i for i in range(len(music_list)) if i % 4 == 0]\n\n    # 选择要下载的榜单\n    n = int(input('请输入你要下载的榜单(请输入数字,输入0全部提取):'))\n\n    # 如果需要全部下载,使用多线程\n    if n == 0:\n        for t in list1:\n            t1 = threading.Thread(target=operation, args=music_list[t])\n            t2 = threading.Thread(target=operation, args=music_list[t + 1])\n            t3 = threading.Thread(target=operation, args=music_list[t + 2])\n            t4 = threading.Thread(target=operation, args=music_list[t + 3])\n\n            t1.start()\n            t2.start()\n            t3.start()\n            t4.start()\n\n            t1.join()\n            t2.join()\n            t3.join()\n            t4.join()\n\n    # 如果只是下载某个榜单,者传入榜单名称与id\n    id = musics[nums[n]]\n    mating = nums[n]\n\n    operation(mating, id)\n\n\nif __name__ == '__main__':\n    # 程序开始\n    user_select()\n```\n\n\n\n","slug":"spider/爬取网易云音乐","published":1,"updated":"2019-03-14T01:45:13.047Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjt87kqmt003cr8r6nxyik6rn","content":"<pre class=\" language-python\"><code class=\"language-python\"><span class=\"token comment\" spellcheck=\"true\"># coding=utf-8</span>\n<span class=\"token triple-quoted-string string\">'''\n爬取wy音乐榜单\n'''</span>\n<span class=\"token comment\" spellcheck=\"true\"># 导入需要使用的模块</span>\n<span class=\"token keyword\">import</span> os\n<span class=\"token keyword\">import</span> csv\n<span class=\"token keyword\">import</span> time\n<span class=\"token keyword\">import</span> random\n<span class=\"token keyword\">import</span> requests\n<span class=\"token keyword\">import</span> threading\n<span class=\"token keyword\">from</span> lxml <span class=\"token keyword\">import</span> etree\n<span class=\"token keyword\">from</span> selenium <span class=\"token keyword\">import</span> webdriver\n\nagents <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span>\n    <span class=\"token string\">\"Mozilla/5.0 (Windows NT 10.0; WOW64; Trident/7.0; .NET4.0C; .NET4.0E; .NET CLR 2.0.50727; .NET CLR 3.0.30729; .NET CLR 3.5.30729; InfoPath.3; rv:11.0) like Gecko\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token string\">\"Mozilla/5.0 (compatible; MSIE 9.0; Windows NT 6.1; Trident/5.0\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token string\">\"Mozilla/4.0 (compatible; MSIE 8.0; Windows NT 6.0; Trident/4.0)\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token string\">\"Mozilla/4.0 (compatible; MSIE 7.0; Windows NT 6.0)\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token string\">\"Mozilla/5.0 (Macintosh; Intel Mac OS X 10.6; rv:2.0.1) Gecko/20100101 Firefox/4.0.1\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token string\">\"Mozilla/5.0 (Windows NT 6.1; rv:2.0.1) Gecko/20100101 Firefox/4.0.1\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token string\">\"Opera/9.80 (Macintosh; Intel Mac OS X 10.6.8; U; en) Presto/2.8.131 Version/11.11\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">]</span>\n\n\n<span class=\"token keyword\">class</span> <span class=\"token class-name\">WangyiMusc</span><span class=\"token punctuation\">(</span>object<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n\n    <span class=\"token comment\" spellcheck=\"true\"># id表示你要获取排行榜</span>\n    <span class=\"token comment\" spellcheck=\"true\"># mating是榜单名称</span>\n    <span class=\"token comment\" spellcheck=\"true\"># url为排行榜页面</span>\n    <span class=\"token comment\" spellcheck=\"true\"># music_url为歌曲下载页面</span>\n    <span class=\"token keyword\">def</span> <span class=\"token function\">__init__</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">,</span> mating<span class=\"token punctuation\">,</span> id<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n        self<span class=\"token punctuation\">.</span>browser <span class=\"token operator\">=</span> webdriver<span class=\"token punctuation\">.</span>Chrome<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n        self<span class=\"token punctuation\">.</span>id <span class=\"token operator\">=</span> id\n        self<span class=\"token punctuation\">.</span>url <span class=\"token operator\">=</span> <span class=\"token string\">\"https://music.163.com/#/discover/toplist?id={0}\"</span><span class=\"token punctuation\">.</span>format<span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">.</span>id<span class=\"token punctuation\">)</span>\n        self<span class=\"token punctuation\">.</span>music_url <span class=\"token operator\">=</span> <span class=\"token string\">\"http://music.163.com/song/media/outer/url?id={0}.mp3\"</span>\n        self<span class=\"token punctuation\">.</span>mat <span class=\"token operator\">=</span> mating\n\n    <span class=\"token comment\" spellcheck=\"true\"># 由于页面的歌曲信息都存放在页面的ifram里面，所以使用Selenium进入子页面获得代码然后返回</span>\n    <span class=\"token keyword\">def</span> <span class=\"token function\">get_html</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n        self<span class=\"token punctuation\">.</span>browser<span class=\"token punctuation\">.</span>get<span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">.</span>url<span class=\"token punctuation\">)</span>\n        self<span class=\"token punctuation\">.</span>browser<span class=\"token punctuation\">.</span>switch_to_frame<span class=\"token punctuation\">(</span><span class=\"token string\">'contentFrame'</span><span class=\"token punctuation\">)</span>\n        iframe <span class=\"token operator\">=</span> self<span class=\"token punctuation\">.</span>browser<span class=\"token punctuation\">.</span>page_source\n        time<span class=\"token punctuation\">.</span>sleep<span class=\"token punctuation\">(</span><span class=\"token number\">5</span><span class=\"token punctuation\">)</span>\n        <span class=\"token keyword\">return</span> iframe\n\n    <span class=\"token comment\" spellcheck=\"true\"># 使用xpath解析页面的信息进行返回</span>\n    <span class=\"token keyword\">def</span> <span class=\"token function\">parse_html</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n        iframe <span class=\"token operator\">=</span> self<span class=\"token punctuation\">.</span>get_html<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n        html <span class=\"token operator\">=</span> etree<span class=\"token punctuation\">.</span>HTML<span class=\"token punctuation\">(</span>iframe<span class=\"token punctuation\">)</span>\n        contents <span class=\"token operator\">=</span> html<span class=\"token punctuation\">.</span>xpath<span class=\"token punctuation\">(</span><span class=\"token string\">'//tbody/tr'</span><span class=\"token punctuation\">)</span>\n        <span class=\"token keyword\">try</span><span class=\"token punctuation\">:</span>\n            <span class=\"token keyword\">for</span> content <span class=\"token keyword\">in</span> contents<span class=\"token punctuation\">:</span>\n                name <span class=\"token operator\">=</span> content<span class=\"token punctuation\">.</span>xpath<span class=\"token punctuation\">(</span><span class=\"token string\">'./td/div/div/div/span/a/b/@title'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span>replace<span class=\"token punctuation\">(</span><span class=\"token string\">' '</span><span class=\"token punctuation\">,</span> <span class=\"token string\">''</span><span class=\"token punctuation\">)</span>\n                music_id <span class=\"token operator\">=</span> content<span class=\"token punctuation\">.</span>xpath<span class=\"token punctuation\">(</span><span class=\"token string\">'./td/div/div/span/@data-res-id'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span>strip<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n                <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>name<span class=\"token punctuation\">)</span>\n                <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>music_id<span class=\"token punctuation\">)</span>\n                <span class=\"token comment\" spellcheck=\"true\"># 将歌曲的名称与id传给write_music方法进行下载</span>\n                self<span class=\"token punctuation\">.</span>write_music<span class=\"token punctuation\">(</span>name<span class=\"token punctuation\">,</span> music_id<span class=\"token punctuation\">)</span>\n                <span class=\"token comment\" spellcheck=\"true\"># num = content.xpath('./td/div/span[@class=\"num\"]/text()')[0].strip()</span>\n                <span class=\"token comment\" spellcheck=\"true\"># date = content.xpath('./td[@class=\" s-fc3\"]/span/text()')[0].strip()</span>\n                <span class=\"token comment\" spellcheck=\"true\"># singer = content.xpath('./td/div[@class=\"text\"]/@title')[0].strip()</span>\n                <span class=\"token comment\" spellcheck=\"true\"># # 将歌曲的信息构建成个元组类型</span>\n                <span class=\"token comment\" spellcheck=\"true\"># items = num, name, date, singer</span>\n                <span class=\"token comment\" spellcheck=\"true\">#</span>\n                <span class=\"token comment\" spellcheck=\"true\"># # 每获得一次歌曲信息后返回一次</span>\n                <span class=\"token comment\" spellcheck=\"true\"># yield list(items)</span>\n\n        <span class=\"token keyword\">except</span> Exception <span class=\"token keyword\">as</span> e<span class=\"token punctuation\">:</span>\n            <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string\">'解析失败！'</span><span class=\"token punctuation\">,</span> e<span class=\"token punctuation\">.</span>args<span class=\"token punctuation\">)</span>\n\n    <span class=\"token comment\" spellcheck=\"true\"># 获取到目前的日期</span>\n    <span class=\"token keyword\">def</span> <span class=\"token function\">get_date</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n        t <span class=\"token operator\">=</span> time<span class=\"token punctuation\">.</span>localtime<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n        tt <span class=\"token operator\">=</span> time<span class=\"token punctuation\">.</span>strftime<span class=\"token punctuation\">(</span><span class=\"token string\">'%Y年%m月%d日'</span><span class=\"token punctuation\">,</span> t<span class=\"token punctuation\">)</span>\n        <span class=\"token keyword\">return</span> tt\n\n    <span class=\"token comment\" spellcheck=\"true\"># 得到歌曲的名称与id,这里进行下载</span>\n    <span class=\"token keyword\">def</span> <span class=\"token function\">write_music</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">,</span> name<span class=\"token punctuation\">,</span> music_id<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n        url <span class=\"token operator\">=</span> self<span class=\"token punctuation\">.</span>music_url<span class=\"token punctuation\">.</span>format<span class=\"token punctuation\">(</span>music_id<span class=\"token punctuation\">)</span>\n        <span class=\"token comment\" spellcheck=\"true\"># agent = random.choice(agents)</span>\n        <span class=\"token keyword\">try</span><span class=\"token punctuation\">:</span>\n            <span class=\"token comment\" spellcheck=\"true\"># headers = {</span>\n            <span class=\"token comment\" spellcheck=\"true\">#     'User-Agent': agent</span>\n            <span class=\"token comment\" spellcheck=\"true\"># }</span>\n            <span class=\"token comment\" spellcheck=\"true\"># music = requests.get(url, headers=headers)</span>\n            headers <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n                <span class=\"token string\">\"User-Agent\"</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"Mozilla/5.0 (Windows NT 6.1; Win64; x64; rv:2.0b13pre) Gecko/20110307 Firefox/4.0b13pre\"</span>\n            <span class=\"token punctuation\">}</span>\n            music <span class=\"token operator\">=</span> requests<span class=\"token punctuation\">.</span>get<span class=\"token punctuation\">(</span>url<span class=\"token punctuation\">,</span> headers<span class=\"token operator\">=</span>headers<span class=\"token punctuation\">)</span>\n            <span class=\"token keyword\">if</span> music<span class=\"token punctuation\">.</span>status_code <span class=\"token operator\">==</span> <span class=\"token number\">200</span><span class=\"token punctuation\">:</span>\n                <span class=\"token comment\" spellcheck=\"true\"># 把歌曲保存到目前日期下的榜单名称下面,方便查看</span>\n                <span class=\"token comment\" spellcheck=\"true\"># path = self.get_date() + os.sep + self.mat + os.sep</span>\n                <span class=\"token comment\" spellcheck=\"true\"># 查询是否有这个地址,如果没有递归创建</span>\n                <span class=\"token comment\" spellcheck=\"true\"># if not os.path.exists(path):</span>\n                <span class=\"token comment\" spellcheck=\"true\">#     os.makedirs(path)</span>\n                <span class=\"token keyword\">with</span> open<span class=\"token punctuation\">(</span><span class=\"token string\">'./wangyiyun/'</span> <span class=\"token operator\">+</span> name <span class=\"token operator\">+</span> <span class=\"token string\">'.mp3'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'wb'</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">as</span> f<span class=\"token punctuation\">:</span>\n                    f<span class=\"token punctuation\">.</span>write<span class=\"token punctuation\">(</span>music<span class=\"token punctuation\">.</span>content<span class=\"token punctuation\">)</span>\n                    <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string\">'下载 '</span> <span class=\"token operator\">+</span> name <span class=\"token operator\">+</span> <span class=\"token string\">\" 成功...\"</span><span class=\"token punctuation\">)</span>\n\n        <span class=\"token keyword\">except</span> Exception <span class=\"token keyword\">as</span> e<span class=\"token punctuation\">:</span>\n            <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"下载 {0} 失败!!!\"</span><span class=\"token punctuation\">.</span>format<span class=\"token punctuation\">(</span>name<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> e<span class=\"token punctuation\">.</span>args<span class=\"token punctuation\">)</span>\n\n    <span class=\"token comment\" spellcheck=\"true\"># 保存榜单的信息</span>\n    <span class=\"token keyword\">def</span> <span class=\"token function\">write_items</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n        <span class=\"token comment\" spellcheck=\"true\"># 将信息保存至目前日期的下面,方便查找</span>\n        path <span class=\"token operator\">=</span> self<span class=\"token punctuation\">.</span>get_date<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">+</span> os<span class=\"token punctuation\">.</span>sep <span class=\"token operator\">+</span> self<span class=\"token punctuation\">.</span>mat\n        <span class=\"token keyword\">try</span><span class=\"token punctuation\">:</span>\n            <span class=\"token comment\" spellcheck=\"true\"># 判断是否有这个文件，如果没有者创建</span>\n            <span class=\"token keyword\">if</span> <span class=\"token operator\">not</span> os<span class=\"token punctuation\">.</span>path<span class=\"token punctuation\">.</span>exists<span class=\"token punctuation\">(</span>path<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n                os<span class=\"token punctuation\">.</span>makedirs<span class=\"token punctuation\">(</span>path<span class=\"token punctuation\">)</span>\n            <span class=\"token keyword\">with</span> open<span class=\"token punctuation\">(</span>path <span class=\"token operator\">+</span> <span class=\"token string\">'榜单信息.csv'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'w'</span><span class=\"token punctuation\">,</span> encoding<span class=\"token operator\">=</span><span class=\"token string\">'utf-8'</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">as</span> file<span class=\"token punctuation\">:</span>\n                <span class=\"token comment\" spellcheck=\"true\"># 使用cvs格式进行保存</span>\n                csvfile <span class=\"token operator\">=</span> csv<span class=\"token punctuation\">.</span>writer<span class=\"token punctuation\">(</span>file<span class=\"token punctuation\">)</span>\n                csvfile<span class=\"token punctuation\">.</span>writerow<span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span><span class=\"token string\">'排名'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'歌名'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'时长'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'歌手'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>\n                <span class=\"token keyword\">for</span> parse <span class=\"token keyword\">in</span> self<span class=\"token punctuation\">.</span>parse_html<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n                    csvfile<span class=\"token punctuation\">.</span>writerow<span class=\"token punctuation\">(</span>parse<span class=\"token punctuation\">)</span>\n                <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"存储信息成功.\"</span><span class=\"token punctuation\">)</span>\n        <span class=\"token keyword\">except</span> Exception <span class=\"token keyword\">as</span> e<span class=\"token punctuation\">:</span>\n            <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"存储信息失败!\"</span><span class=\"token punctuation\">,</span> e<span class=\"token punctuation\">.</span>args<span class=\"token punctuation\">)</span>\n\n\n<span class=\"token keyword\">def</span> <span class=\"token function\">operation</span><span class=\"token punctuation\">(</span>mating<span class=\"token punctuation\">,</span> id<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    <span class=\"token keyword\">try</span><span class=\"token punctuation\">:</span>\n        <span class=\"token comment\" spellcheck=\"true\"># 实例化对象</span>\n        music <span class=\"token operator\">=</span> WangyiMusc<span class=\"token punctuation\">(</span>mating<span class=\"token punctuation\">,</span> id<span class=\"token punctuation\">)</span>\n        <span class=\"token comment\" spellcheck=\"true\"># 获取要爬取的页面的HTML文件</span>\n        music<span class=\"token punctuation\">.</span>get_html<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n        <span class=\"token comment\" spellcheck=\"true\"># 解析页面，将需要的信息进行返回,并开始下载歌曲</span>\n        music<span class=\"token punctuation\">.</span>parse_html<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n        <span class=\"token comment\" spellcheck=\"true\"># 获取目前的日期</span>\n        <span class=\"token comment\" spellcheck=\"true\"># music.get_date()</span>\n        <span class=\"token comment\" spellcheck=\"true\"># 保存需要的信息</span>\n        <span class=\"token comment\" spellcheck=\"true\"># music.write_items()</span>\n        <span class=\"token comment\" spellcheck=\"true\"># print(\"下载完成...\")</span>\n        <span class=\"token comment\" spellcheck=\"true\"># 关闭browser</span>\n        music<span class=\"token punctuation\">.</span>browser<span class=\"token punctuation\">.</span>close<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">except</span> Exception <span class=\"token keyword\">as</span> e<span class=\"token punctuation\">:</span>\n        <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"下载失败!\"</span><span class=\"token punctuation\">,</span> e<span class=\"token punctuation\">.</span>args<span class=\"token punctuation\">)</span>\n\n\n<span class=\"token comment\" spellcheck=\"true\"># 选择的界面</span>\n<span class=\"token keyword\">def</span> <span class=\"token function\">user_select</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    <span class=\"token comment\" spellcheck=\"true\"># 每个榜单的id</span>\n    ids <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token string\">'19723756'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'3779629'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'2884035'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'3778678'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'991319590'</span><span class=\"token punctuation\">,</span>\n           <span class=\"token string\">'2408901803'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'1978921795'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'71385702'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'2462790889'</span><span class=\"token punctuation\">,</span>\n           <span class=\"token string\">'10520166'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'3812895'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'60131'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'71384707'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'180106'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'60198'</span><span class=\"token punctuation\">,</span>\n           <span class=\"token string\">'27135204'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'11641012'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'120001'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'2323534945'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'745956260'</span><span class=\"token punctuation\">,</span>\n           <span class=\"token string\">'2023401535'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'2006508653'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'21845217'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'112463'</span><span class=\"token punctuation\">,</span>\n           <span class=\"token string\">'112504'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'64016'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'10169002'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'1899724'</span><span class=\"token punctuation\">]</span>\n\n    <span class=\"token comment\" spellcheck=\"true\"># 每个榜单的名称</span>\n    names <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token string\">'云音乐飙升榜'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'云音乐新歌榜'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'网易原创歌曲榜'</span><span class=\"token punctuation\">,</span>\n             <span class=\"token string\">'云音乐热歌榜'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'江小白YOLO云音乐说唱榜'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'公告牌音乐榜'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'云音乐电音榜'</span><span class=\"token punctuation\">,</span>\n             <span class=\"token string\">'云音乐电音榜'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'云音乐ACG音乐榜'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'YY音乐榜'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'云音乐国电榜'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'云音乐国电榜'</span><span class=\"token punctuation\">,</span>\n             <span class=\"token string\">'云音乐国电榜'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'云音乐古典音乐榜'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'UK排行榜周榜'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'美国Billboard周榜'</span><span class=\"token punctuation\">,</span>\n             <span class=\"token string\">'法国 NRJVos Hits 周榜'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'iTunes榜'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'Hit FMTop榜'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'说唱TOP榜'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'云音乐韩语榜'</span><span class=\"token punctuation\">,</span>\n             <span class=\"token string\">'英国Q杂志中文版周榜'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'电竞音乐榜'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'KTV唛榜'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'台湾Hito排行榜'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'中国TOP排行榜（港台榜）'</span><span class=\"token punctuation\">,</span>\n             <span class=\"token string\">'中国TOP排行榜（内地榜）'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'香港r台中文歌曲龙虎榜'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'中国嘻哈榜'</span><span class=\"token punctuation\">]</span>\n    musics <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span>\n    nums <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span>\n\n    <span class=\"token comment\" spellcheck=\"true\"># 将名称与id存放在musics字典当中</span>\n    <span class=\"token keyword\">for</span> mat <span class=\"token keyword\">in</span> range<span class=\"token punctuation\">(</span>len<span class=\"token punctuation\">(</span>ids<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n        musics<span class=\"token punctuation\">[</span>names<span class=\"token punctuation\">[</span>mat<span class=\"token punctuation\">]</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> ids<span class=\"token punctuation\">[</span>mat<span class=\"token punctuation\">]</span>\n\n    <span class=\"token comment\" spellcheck=\"true\"># 给每一个榜单设置一个编号</span>\n    <span class=\"token keyword\">for</span> num <span class=\"token keyword\">in</span> range<span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> len<span class=\"token punctuation\">(</span>names<span class=\"token punctuation\">)</span> <span class=\"token operator\">+</span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n        nums<span class=\"token punctuation\">[</span>num<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> names<span class=\"token punctuation\">[</span>num <span class=\"token operator\">-</span> <span class=\"token number\">1</span><span class=\"token punctuation\">]</span>\n\n    <span class=\"token comment\" spellcheck=\"true\"># 输入编号与榜单名称,便于查看</span>\n    <span class=\"token keyword\">for</span> k<span class=\"token punctuation\">,</span> v <span class=\"token keyword\">in</span> nums<span class=\"token punctuation\">.</span>items<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n        <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>k<span class=\"token punctuation\">,</span> <span class=\"token string\">\":\"</span><span class=\"token punctuation\">,</span> v<span class=\"token punctuation\">)</span>\n\n    <span class=\"token comment\" spellcheck=\"true\"># 将榜单与id打包以元组的方式放入列表当中</span>\n    music_list <span class=\"token operator\">=</span> list<span class=\"token punctuation\">(</span>musics<span class=\"token punctuation\">.</span>items<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n\n    <span class=\"token comment\" spellcheck=\"true\"># 因为使用4个线程，所以构建一个列表</span>\n    list1 <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span>i <span class=\"token keyword\">for</span> i <span class=\"token keyword\">in</span> range<span class=\"token punctuation\">(</span>len<span class=\"token punctuation\">(</span>music_list<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">if</span> i <span class=\"token operator\">%</span> <span class=\"token number\">4</span> <span class=\"token operator\">==</span> <span class=\"token number\">0</span><span class=\"token punctuation\">]</span>\n\n    <span class=\"token comment\" spellcheck=\"true\"># 选择要下载的榜单</span>\n    n <span class=\"token operator\">=</span> int<span class=\"token punctuation\">(</span>input<span class=\"token punctuation\">(</span><span class=\"token string\">'请输入你要下载的榜单(请输入数字,输入0全部提取):'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n\n    <span class=\"token comment\" spellcheck=\"true\"># 如果需要全部下载,使用多线程</span>\n    <span class=\"token keyword\">if</span> n <span class=\"token operator\">==</span> <span class=\"token number\">0</span><span class=\"token punctuation\">:</span>\n        <span class=\"token keyword\">for</span> t <span class=\"token keyword\">in</span> list1<span class=\"token punctuation\">:</span>\n            t1 <span class=\"token operator\">=</span> threading<span class=\"token punctuation\">.</span>Thread<span class=\"token punctuation\">(</span>target<span class=\"token operator\">=</span>operation<span class=\"token punctuation\">,</span> args<span class=\"token operator\">=</span>music_list<span class=\"token punctuation\">[</span>t<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>\n            t2 <span class=\"token operator\">=</span> threading<span class=\"token punctuation\">.</span>Thread<span class=\"token punctuation\">(</span>target<span class=\"token operator\">=</span>operation<span class=\"token punctuation\">,</span> args<span class=\"token operator\">=</span>music_list<span class=\"token punctuation\">[</span>t <span class=\"token operator\">+</span> <span class=\"token number\">1</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>\n            t3 <span class=\"token operator\">=</span> threading<span class=\"token punctuation\">.</span>Thread<span class=\"token punctuation\">(</span>target<span class=\"token operator\">=</span>operation<span class=\"token punctuation\">,</span> args<span class=\"token operator\">=</span>music_list<span class=\"token punctuation\">[</span>t <span class=\"token operator\">+</span> <span class=\"token number\">2</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>\n            t4 <span class=\"token operator\">=</span> threading<span class=\"token punctuation\">.</span>Thread<span class=\"token punctuation\">(</span>target<span class=\"token operator\">=</span>operation<span class=\"token punctuation\">,</span> args<span class=\"token operator\">=</span>music_list<span class=\"token punctuation\">[</span>t <span class=\"token operator\">+</span> <span class=\"token number\">3</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>\n\n            t1<span class=\"token punctuation\">.</span>start<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n            t2<span class=\"token punctuation\">.</span>start<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n            t3<span class=\"token punctuation\">.</span>start<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n            t4<span class=\"token punctuation\">.</span>start<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n\n            t1<span class=\"token punctuation\">.</span>join<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n            t2<span class=\"token punctuation\">.</span>join<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n            t3<span class=\"token punctuation\">.</span>join<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n            t4<span class=\"token punctuation\">.</span>join<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n\n    <span class=\"token comment\" spellcheck=\"true\"># 如果只是下载某个榜单,者传入榜单名称与id</span>\n    id <span class=\"token operator\">=</span> musics<span class=\"token punctuation\">[</span>nums<span class=\"token punctuation\">[</span>n<span class=\"token punctuation\">]</span><span class=\"token punctuation\">]</span>\n    mating <span class=\"token operator\">=</span> nums<span class=\"token punctuation\">[</span>n<span class=\"token punctuation\">]</span>\n\n    operation<span class=\"token punctuation\">(</span>mating<span class=\"token punctuation\">,</span> id<span class=\"token punctuation\">)</span>\n\n\n<span class=\"token keyword\">if</span> __name__ <span class=\"token operator\">==</span> <span class=\"token string\">'__main__'</span><span class=\"token punctuation\">:</span>\n    <span class=\"token comment\" spellcheck=\"true\"># 程序开始</span>\n    user_select<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n</code></pre>\n","site":{"data":{}},"excerpt":"","more":"<pre><code class=\"python\"># coding=utf-8\n&#39;&#39;&#39;\n爬取wy音乐榜单\n&#39;&#39;&#39;\n# 导入需要使用的模块\nimport os\nimport csv\nimport time\nimport random\nimport requests\nimport threading\nfrom lxml import etree\nfrom selenium import webdriver\n\nagents = [\n    &quot;Mozilla/5.0 (Windows NT 10.0; WOW64; Trident/7.0; .NET4.0C; .NET4.0E; .NET CLR 2.0.50727; .NET CLR 3.0.30729; .NET CLR 3.5.30729; InfoPath.3; rv:11.0) like Gecko&quot;,\n    &quot;Mozilla/5.0 (compatible; MSIE 9.0; Windows NT 6.1; Trident/5.0&quot;,\n    &quot;Mozilla/4.0 (compatible; MSIE 8.0; Windows NT 6.0; Trident/4.0)&quot;,\n    &quot;Mozilla/4.0 (compatible; MSIE 7.0; Windows NT 6.0)&quot;,\n    &quot;Mozilla/5.0 (Macintosh; Intel Mac OS X 10.6; rv:2.0.1) Gecko/20100101 Firefox/4.0.1&quot;,\n    &quot;Mozilla/5.0 (Windows NT 6.1; rv:2.0.1) Gecko/20100101 Firefox/4.0.1&quot;,\n    &quot;Opera/9.80 (Macintosh; Intel Mac OS X 10.6.8; U; en) Presto/2.8.131 Version/11.11&quot;,\n]\n\n\nclass WangyiMusc(object):\n\n    # id表示你要获取排行榜\n    # mating是榜单名称\n    # url为排行榜页面\n    # music_url为歌曲下载页面\n    def __init__(self, mating, id):\n        self.browser = webdriver.Chrome()\n        self.id = id\n        self.url = &quot;https://music.163.com/#/discover/toplist?id={0}&quot;.format(self.id)\n        self.music_url = &quot;http://music.163.com/song/media/outer/url?id={0}.mp3&quot;\n        self.mat = mating\n\n    # 由于页面的歌曲信息都存放在页面的ifram里面，所以使用Selenium进入子页面获得代码然后返回\n    def get_html(self):\n        self.browser.get(self.url)\n        self.browser.switch_to_frame(&#39;contentFrame&#39;)\n        iframe = self.browser.page_source\n        time.sleep(5)\n        return iframe\n\n    # 使用xpath解析页面的信息进行返回\n    def parse_html(self):\n        iframe = self.get_html()\n        html = etree.HTML(iframe)\n        contents = html.xpath(&#39;//tbody/tr&#39;)\n        try:\n            for content in contents:\n                name = content.xpath(&#39;./td/div/div/div/span/a/b/@title&#39;)[0].replace(&#39; &#39;, &#39;&#39;)\n                music_id = content.xpath(&#39;./td/div/div/span/@data-res-id&#39;)[0].strip()\n                print(name)\n                print(music_id)\n                # 将歌曲的名称与id传给write_music方法进行下载\n                self.write_music(name, music_id)\n                # num = content.xpath(&#39;./td/div/span[@class=&quot;num&quot;]/text()&#39;)[0].strip()\n                # date = content.xpath(&#39;./td[@class=&quot; s-fc3&quot;]/span/text()&#39;)[0].strip()\n                # singer = content.xpath(&#39;./td/div[@class=&quot;text&quot;]/@title&#39;)[0].strip()\n                # # 将歌曲的信息构建成个元组类型\n                # items = num, name, date, singer\n                #\n                # # 每获得一次歌曲信息后返回一次\n                # yield list(items)\n\n        except Exception as e:\n            print(&#39;解析失败！&#39;, e.args)\n\n    # 获取到目前的日期\n    def get_date(self):\n        t = time.localtime()\n        tt = time.strftime(&#39;%Y年%m月%d日&#39;, t)\n        return tt\n\n    # 得到歌曲的名称与id,这里进行下载\n    def write_music(self, name, music_id):\n        url = self.music_url.format(music_id)\n        # agent = random.choice(agents)\n        try:\n            # headers = {\n            #     &#39;User-Agent&#39;: agent\n            # }\n            # music = requests.get(url, headers=headers)\n            headers = {\n                &quot;User-Agent&quot;: &quot;Mozilla/5.0 (Windows NT 6.1; Win64; x64; rv:2.0b13pre) Gecko/20110307 Firefox/4.0b13pre&quot;\n            }\n            music = requests.get(url, headers=headers)\n            if music.status_code == 200:\n                # 把歌曲保存到目前日期下的榜单名称下面,方便查看\n                # path = self.get_date() + os.sep + self.mat + os.sep\n                # 查询是否有这个地址,如果没有递归创建\n                # if not os.path.exists(path):\n                #     os.makedirs(path)\n                with open(&#39;./wangyiyun/&#39; + name + &#39;.mp3&#39;, &#39;wb&#39;) as f:\n                    f.write(music.content)\n                    print(&#39;下载 &#39; + name + &quot; 成功...&quot;)\n\n        except Exception as e:\n            print(&quot;下载 {0} 失败!!!&quot;.format(name), e.args)\n\n    # 保存榜单的信息\n    def write_items(self):\n        # 将信息保存至目前日期的下面,方便查找\n        path = self.get_date() + os.sep + self.mat\n        try:\n            # 判断是否有这个文件，如果没有者创建\n            if not os.path.exists(path):\n                os.makedirs(path)\n            with open(path + &#39;榜单信息.csv&#39;, &#39;w&#39;, encoding=&#39;utf-8&#39;) as file:\n                # 使用cvs格式进行保存\n                csvfile = csv.writer(file)\n                csvfile.writerow([&#39;排名&#39;, &#39;歌名&#39;, &#39;时长&#39;, &#39;歌手&#39;])\n                for parse in self.parse_html():\n                    csvfile.writerow(parse)\n                print(&quot;存储信息成功.&quot;)\n        except Exception as e:\n            print(&quot;存储信息失败!&quot;, e.args)\n\n\ndef operation(mating, id):\n    try:\n        # 实例化对象\n        music = WangyiMusc(mating, id)\n        # 获取要爬取的页面的HTML文件\n        music.get_html()\n        # 解析页面，将需要的信息进行返回,并开始下载歌曲\n        music.parse_html()\n        # 获取目前的日期\n        # music.get_date()\n        # 保存需要的信息\n        # music.write_items()\n        # print(&quot;下载完成...&quot;)\n        # 关闭browser\n        music.browser.close()\n    except Exception as e:\n        print(&quot;下载失败!&quot;, e.args)\n\n\n# 选择的界面\ndef user_select():\n    # 每个榜单的id\n    ids = [&#39;19723756&#39;, &#39;3779629&#39;, &#39;2884035&#39;, &#39;3778678&#39;, &#39;991319590&#39;,\n           &#39;2408901803&#39;, &#39;1978921795&#39;, &#39;71385702&#39;, &#39;2462790889&#39;,\n           &#39;10520166&#39;, &#39;3812895&#39;, &#39;60131&#39;, &#39;71384707&#39;, &#39;180106&#39;, &#39;60198&#39;,\n           &#39;27135204&#39;, &#39;11641012&#39;, &#39;120001&#39;, &#39;2323534945&#39;, &#39;745956260&#39;,\n           &#39;2023401535&#39;, &#39;2006508653&#39;, &#39;21845217&#39;, &#39;112463&#39;,\n           &#39;112504&#39;, &#39;64016&#39;, &#39;10169002&#39;, &#39;1899724&#39;]\n\n    # 每个榜单的名称\n    names = [&#39;云音乐飙升榜&#39;, &#39;云音乐新歌榜&#39;, &#39;网易原创歌曲榜&#39;,\n             &#39;云音乐热歌榜&#39;, &#39;江小白YOLO云音乐说唱榜&#39;, &#39;公告牌音乐榜&#39;, &#39;云音乐电音榜&#39;,\n             &#39;云音乐电音榜&#39;, &#39;云音乐ACG音乐榜&#39;, &#39;YY音乐榜&#39;, &#39;云音乐国电榜&#39;, &#39;云音乐国电榜&#39;,\n             &#39;云音乐国电榜&#39;, &#39;云音乐古典音乐榜&#39;, &#39;UK排行榜周榜&#39;, &#39;美国Billboard周榜&#39;,\n             &#39;法国 NRJVos Hits 周榜&#39;, &#39;iTunes榜&#39;, &#39;Hit FMTop榜&#39;, &#39;说唱TOP榜&#39;, &#39;云音乐韩语榜&#39;,\n             &#39;英国Q杂志中文版周榜&#39;, &#39;电竞音乐榜&#39;, &#39;KTV唛榜&#39;, &#39;台湾Hito排行榜&#39;, &#39;中国TOP排行榜（港台榜）&#39;,\n             &#39;中国TOP排行榜（内地榜）&#39;, &#39;香港r台中文歌曲龙虎榜&#39;, &#39;中国嘻哈榜&#39;]\n    musics = {}\n    nums = {}\n\n    # 将名称与id存放在musics字典当中\n    for mat in range(len(ids)):\n        musics[names[mat]] = ids[mat]\n\n    # 给每一个榜单设置一个编号\n    for num in range(1, len(names) + 1):\n        nums[num] = names[num - 1]\n\n    # 输入编号与榜单名称,便于查看\n    for k, v in nums.items():\n        print(k, &quot;:&quot;, v)\n\n    # 将榜单与id打包以元组的方式放入列表当中\n    music_list = list(musics.items())\n\n    # 因为使用4个线程，所以构建一个列表\n    list1 = [i for i in range(len(music_list)) if i % 4 == 0]\n\n    # 选择要下载的榜单\n    n = int(input(&#39;请输入你要下载的榜单(请输入数字,输入0全部提取):&#39;))\n\n    # 如果需要全部下载,使用多线程\n    if n == 0:\n        for t in list1:\n            t1 = threading.Thread(target=operation, args=music_list[t])\n            t2 = threading.Thread(target=operation, args=music_list[t + 1])\n            t3 = threading.Thread(target=operation, args=music_list[t + 2])\n            t4 = threading.Thread(target=operation, args=music_list[t + 3])\n\n            t1.start()\n            t2.start()\n            t3.start()\n            t4.start()\n\n            t1.join()\n            t2.join()\n            t3.join()\n            t4.join()\n\n    # 如果只是下载某个榜单,者传入榜单名称与id\n    id = musics[nums[n]]\n    mating = nums[n]\n\n    operation(mating, id)\n\n\nif __name__ == &#39;__main__&#39;:\n    # 程序开始\n    user_select()\n</code></pre>\n"},{"title":"music","date":"2018-05-02T07:15:06.000Z","author":"smile","img":"/images/AKL.jpg","_content":"\n获取音乐的url，访问的时候，能直接播放音乐的地址\n```python\nimport urllib\nfrom urllib import parse\n\ndef str2url(s):\n    #s = '9hFaF2FF%_Et%m4F4%538t2i%795E%3pF.265E85.%fnF9742Em33e162_36pA.t6661983%x%6%%74%2i2%22735'\n    num_loc = s.find('h')\n    rows = int(s[0:num_loc])\n    strlen = len(s) - num_loc\n    cols = int(strlen/rows)\n    right_rows = strlen % rows\n    new_s = list(s[num_loc:])\n    output = ''\n    for i in range(len(new_s)):\n        x = i % rows\n        y = i / rows\n        p = 0\n        if x <= right_rows:\n            p = x * (cols + 1) + y\n        else:\n            p = right_rows * (cols + 1) + (x - right_rows) * cols + y\n        output += new_s[int(p)]\n    return parse.unquote(output).replace('^', '0')\n\n\ndef main():\n    s = \"6hAFxn752E5F215234uy495-3741E8t%mie15F2E185E%6at%72E%7ba%13t21at27261734458%h3%%-5a885d5pF2m%%11799662E13_D55%E992E48%%8i222%4%59358.Fk1EE5-8bc%7632..FF%5%24_%9_mae58%E513e51\"\n    result_str = str2url(s)\n    print(result_str)\n\nmain()\n\n```\n\n```python\nimport time\nfrom selenium import webdriver\nfrom selenium.common.exceptions import TimeoutException\nfrom selenium.webdriver.common.by import By\nfrom selenium.webdriver.support.ui import WebDriverWait\nfrom selenium.webdriver.support import expected_conditions as EC\nfrom urllib.parse import quote\nfrom lxml import etree\nimport kaisha\nimport requests\n\n\nbrowser = webdriver.Chrome()\n# 等待加载时间\nwait = WebDriverWait(browser, 5)\n\n# 取页面HTML\ndef get_resource(url):\n\n\theaders =  {\n\t\t\"User-Agent\": \"Mozilla/5.0 (Windows NT 6.1; Win64; x64; rv:2.0b13pre) Gecko/20110307 Firefox/4.0b13pre\"\n\t}\n\tresponse = requests.get(url, headers=headers)\n\tif response.status_code == 200:\n\t\ttext = response.content\n\t\treturn text\n\treturn None\n\ndef save_mp3(mp3_url, mp3_title):\n    content = get_resource(mp3_url)\n    with open('./mp3/%s.mp3' % mp3_title, 'wb') as f:\n        f.write(content)\n\ndef get_page():\n    url = \"https://www.xiami.com\"\n    # 访问网址\n    browser.get(url)\n    # 注意下面的presence_of_element_located，容易出错\n    # input = wait.until(EC.presence_of_element_located((By.CSS_SELECTOR, '#key')))\n    # input.clear()\n    # input.send_keys('汽车')\n    button = wait.until(EC.element_to_be_clickable(\n        (By.LINK_TEXT, '回旧版')\n    ))\n    button.click()\n\n    button = wait.until(EC.element_to_be_clickable(\n        (By.XPATH, '//div[@id=\"secondary\"]//div[@class=\"nav\"]/a[2]')\n    ))\n    button.click()\n\n    # 等待加载完成 可以等待某个元素出现\n    # wait.until(EC.text_to_be_present_in_element(((By.XPATH, '//tr[@data-index=\"99\"]/td[@class=\"trackid\"]'), '100')))\n    time.sleep(3)\n    # 拿网页\n    return browser.page_source\n\ndef parse_page(html):\n    etree_html = etree.HTML(html)\n    song_list = etree_html.xpath('//tr[@class=\"songwrapper\"]')\n    for song in song_list:\n        # 取歌曲链接\n        mp3_data = song.xpath('./@data-mp3')[0]\n        mp3_url = kaisha.str2url(mp3_data)\n        # 取歌曲名\n        mp3_title = song.xpath('./@data-title')[0]\n        mp3_title = mp3_title.replace(' ', '')\n        print(mp3_url)\n        print(mp3_title)\n        save_mp3(mp3_url, mp3_title)\n\ndef main():\n    html = get_page()\n    parse_page(html)\n\nif __name__ == '__main__':\n    main()\n\n```","source":"_posts/spider/爬小说.md","raw":"---\ntitle: music\ndate: 2018-05-02 15:15:06\nauthor: smile\nimg: /images/AKL.jpg\ncategories: spider\ntags: \n  - music\n---\n\n获取音乐的url，访问的时候，能直接播放音乐的地址\n```python\nimport urllib\nfrom urllib import parse\n\ndef str2url(s):\n    #s = '9hFaF2FF%_Et%m4F4%538t2i%795E%3pF.265E85.%fnF9742Em33e162_36pA.t6661983%x%6%%74%2i2%22735'\n    num_loc = s.find('h')\n    rows = int(s[0:num_loc])\n    strlen = len(s) - num_loc\n    cols = int(strlen/rows)\n    right_rows = strlen % rows\n    new_s = list(s[num_loc:])\n    output = ''\n    for i in range(len(new_s)):\n        x = i % rows\n        y = i / rows\n        p = 0\n        if x <= right_rows:\n            p = x * (cols + 1) + y\n        else:\n            p = right_rows * (cols + 1) + (x - right_rows) * cols + y\n        output += new_s[int(p)]\n    return parse.unquote(output).replace('^', '0')\n\n\ndef main():\n    s = \"6hAFxn752E5F215234uy495-3741E8t%mie15F2E185E%6at%72E%7ba%13t21at27261734458%h3%%-5a885d5pF2m%%11799662E13_D55%E992E48%%8i222%4%59358.Fk1EE5-8bc%7632..FF%5%24_%9_mae58%E513e51\"\n    result_str = str2url(s)\n    print(result_str)\n\nmain()\n\n```\n\n```python\nimport time\nfrom selenium import webdriver\nfrom selenium.common.exceptions import TimeoutException\nfrom selenium.webdriver.common.by import By\nfrom selenium.webdriver.support.ui import WebDriverWait\nfrom selenium.webdriver.support import expected_conditions as EC\nfrom urllib.parse import quote\nfrom lxml import etree\nimport kaisha\nimport requests\n\n\nbrowser = webdriver.Chrome()\n# 等待加载时间\nwait = WebDriverWait(browser, 5)\n\n# 取页面HTML\ndef get_resource(url):\n\n\theaders =  {\n\t\t\"User-Agent\": \"Mozilla/5.0 (Windows NT 6.1; Win64; x64; rv:2.0b13pre) Gecko/20110307 Firefox/4.0b13pre\"\n\t}\n\tresponse = requests.get(url, headers=headers)\n\tif response.status_code == 200:\n\t\ttext = response.content\n\t\treturn text\n\treturn None\n\ndef save_mp3(mp3_url, mp3_title):\n    content = get_resource(mp3_url)\n    with open('./mp3/%s.mp3' % mp3_title, 'wb') as f:\n        f.write(content)\n\ndef get_page():\n    url = \"https://www.xiami.com\"\n    # 访问网址\n    browser.get(url)\n    # 注意下面的presence_of_element_located，容易出错\n    # input = wait.until(EC.presence_of_element_located((By.CSS_SELECTOR, '#key')))\n    # input.clear()\n    # input.send_keys('汽车')\n    button = wait.until(EC.element_to_be_clickable(\n        (By.LINK_TEXT, '回旧版')\n    ))\n    button.click()\n\n    button = wait.until(EC.element_to_be_clickable(\n        (By.XPATH, '//div[@id=\"secondary\"]//div[@class=\"nav\"]/a[2]')\n    ))\n    button.click()\n\n    # 等待加载完成 可以等待某个元素出现\n    # wait.until(EC.text_to_be_present_in_element(((By.XPATH, '//tr[@data-index=\"99\"]/td[@class=\"trackid\"]'), '100')))\n    time.sleep(3)\n    # 拿网页\n    return browser.page_source\n\ndef parse_page(html):\n    etree_html = etree.HTML(html)\n    song_list = etree_html.xpath('//tr[@class=\"songwrapper\"]')\n    for song in song_list:\n        # 取歌曲链接\n        mp3_data = song.xpath('./@data-mp3')[0]\n        mp3_url = kaisha.str2url(mp3_data)\n        # 取歌曲名\n        mp3_title = song.xpath('./@data-title')[0]\n        mp3_title = mp3_title.replace(' ', '')\n        print(mp3_url)\n        print(mp3_title)\n        save_mp3(mp3_url, mp3_title)\n\ndef main():\n    html = get_page()\n    parse_page(html)\n\nif __name__ == '__main__':\n    main()\n\n```","slug":"spider/爬小说","published":1,"updated":"2019-03-14T01:44:50.259Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjt87kqmy003fr8r6rqffl1vx","content":"<p>获取音乐的url，访问的时候，能直接播放音乐的地址</p>\n<pre class=\" language-python\"><code class=\"language-python\"><span class=\"token keyword\">import</span> urllib\n<span class=\"token keyword\">from</span> urllib <span class=\"token keyword\">import</span> parse\n\n<span class=\"token keyword\">def</span> <span class=\"token function\">str2url</span><span class=\"token punctuation\">(</span>s<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    <span class=\"token comment\" spellcheck=\"true\">#s = '9hFaF2FF%_Et%m4F4%538t2i%795E%3pF.265E85.%fnF9742Em33e162_36pA.t6661983%x%6%%74%2i2%22735'</span>\n    num_loc <span class=\"token operator\">=</span> s<span class=\"token punctuation\">.</span>find<span class=\"token punctuation\">(</span><span class=\"token string\">'h'</span><span class=\"token punctuation\">)</span>\n    rows <span class=\"token operator\">=</span> int<span class=\"token punctuation\">(</span>s<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">:</span>num_loc<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>\n    strlen <span class=\"token operator\">=</span> len<span class=\"token punctuation\">(</span>s<span class=\"token punctuation\">)</span> <span class=\"token operator\">-</span> num_loc\n    cols <span class=\"token operator\">=</span> int<span class=\"token punctuation\">(</span>strlen<span class=\"token operator\">/</span>rows<span class=\"token punctuation\">)</span>\n    right_rows <span class=\"token operator\">=</span> strlen <span class=\"token operator\">%</span> rows\n    new_s <span class=\"token operator\">=</span> list<span class=\"token punctuation\">(</span>s<span class=\"token punctuation\">[</span>num_loc<span class=\"token punctuation\">:</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>\n    output <span class=\"token operator\">=</span> <span class=\"token string\">''</span>\n    <span class=\"token keyword\">for</span> i <span class=\"token keyword\">in</span> range<span class=\"token punctuation\">(</span>len<span class=\"token punctuation\">(</span>new_s<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n        x <span class=\"token operator\">=</span> i <span class=\"token operator\">%</span> rows\n        y <span class=\"token operator\">=</span> i <span class=\"token operator\">/</span> rows\n        p <span class=\"token operator\">=</span> <span class=\"token number\">0</span>\n        <span class=\"token keyword\">if</span> x <span class=\"token operator\">&lt;=</span> right_rows<span class=\"token punctuation\">:</span>\n            p <span class=\"token operator\">=</span> x <span class=\"token operator\">*</span> <span class=\"token punctuation\">(</span>cols <span class=\"token operator\">+</span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">+</span> y\n        <span class=\"token keyword\">else</span><span class=\"token punctuation\">:</span>\n            p <span class=\"token operator\">=</span> right_rows <span class=\"token operator\">*</span> <span class=\"token punctuation\">(</span>cols <span class=\"token operator\">+</span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">+</span> <span class=\"token punctuation\">(</span>x <span class=\"token operator\">-</span> right_rows<span class=\"token punctuation\">)</span> <span class=\"token operator\">*</span> cols <span class=\"token operator\">+</span> y\n        output <span class=\"token operator\">+=</span> new_s<span class=\"token punctuation\">[</span>int<span class=\"token punctuation\">(</span>p<span class=\"token punctuation\">)</span><span class=\"token punctuation\">]</span>\n    <span class=\"token keyword\">return</span> parse<span class=\"token punctuation\">.</span>unquote<span class=\"token punctuation\">(</span>output<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>replace<span class=\"token punctuation\">(</span><span class=\"token string\">'^'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'0'</span><span class=\"token punctuation\">)</span>\n\n\n<span class=\"token keyword\">def</span> <span class=\"token function\">main</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    s <span class=\"token operator\">=</span> <span class=\"token string\">\"6hAFxn752E5F215234uy495-3741E8t%mie15F2E185E%6at%72E%7ba%13t21at27261734458%h3%%-5a885d5pF2m%%11799662E13_D55%E992E48%%8i222%4%59358.Fk1EE5-8bc%7632..FF%5%24_%9_mae58%E513e51\"</span>\n    result_str <span class=\"token operator\">=</span> str2url<span class=\"token punctuation\">(</span>s<span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>result_str<span class=\"token punctuation\">)</span>\n\nmain<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n\n</code></pre>\n<pre class=\" language-python\"><code class=\"language-python\"><span class=\"token keyword\">import</span> time\n<span class=\"token keyword\">from</span> selenium <span class=\"token keyword\">import</span> webdriver\n<span class=\"token keyword\">from</span> selenium<span class=\"token punctuation\">.</span>common<span class=\"token punctuation\">.</span>exceptions <span class=\"token keyword\">import</span> TimeoutException\n<span class=\"token keyword\">from</span> selenium<span class=\"token punctuation\">.</span>webdriver<span class=\"token punctuation\">.</span>common<span class=\"token punctuation\">.</span>by <span class=\"token keyword\">import</span> By\n<span class=\"token keyword\">from</span> selenium<span class=\"token punctuation\">.</span>webdriver<span class=\"token punctuation\">.</span>support<span class=\"token punctuation\">.</span>ui <span class=\"token keyword\">import</span> WebDriverWait\n<span class=\"token keyword\">from</span> selenium<span class=\"token punctuation\">.</span>webdriver<span class=\"token punctuation\">.</span>support <span class=\"token keyword\">import</span> expected_conditions <span class=\"token keyword\">as</span> EC\n<span class=\"token keyword\">from</span> urllib<span class=\"token punctuation\">.</span>parse <span class=\"token keyword\">import</span> quote\n<span class=\"token keyword\">from</span> lxml <span class=\"token keyword\">import</span> etree\n<span class=\"token keyword\">import</span> kaisha\n<span class=\"token keyword\">import</span> requests\n\n\nbrowser <span class=\"token operator\">=</span> webdriver<span class=\"token punctuation\">.</span>Chrome<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n<span class=\"token comment\" spellcheck=\"true\"># 等待加载时间</span>\nwait <span class=\"token operator\">=</span> WebDriverWait<span class=\"token punctuation\">(</span>browser<span class=\"token punctuation\">,</span> <span class=\"token number\">5</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token comment\" spellcheck=\"true\"># 取页面HTML</span>\n<span class=\"token keyword\">def</span> <span class=\"token function\">get_resource</span><span class=\"token punctuation\">(</span>url<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n\n    headers <span class=\"token operator\">=</span>  <span class=\"token punctuation\">{</span>\n        <span class=\"token string\">\"User-Agent\"</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"Mozilla/5.0 (Windows NT 6.1; Win64; x64; rv:2.0b13pre) Gecko/20110307 Firefox/4.0b13pre\"</span>\n    <span class=\"token punctuation\">}</span>\n    response <span class=\"token operator\">=</span> requests<span class=\"token punctuation\">.</span>get<span class=\"token punctuation\">(</span>url<span class=\"token punctuation\">,</span> headers<span class=\"token operator\">=</span>headers<span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">if</span> response<span class=\"token punctuation\">.</span>status_code <span class=\"token operator\">==</span> <span class=\"token number\">200</span><span class=\"token punctuation\">:</span>\n        text <span class=\"token operator\">=</span> response<span class=\"token punctuation\">.</span>content\n        <span class=\"token keyword\">return</span> text\n    <span class=\"token keyword\">return</span> None\n\n<span class=\"token keyword\">def</span> <span class=\"token function\">save_mp3</span><span class=\"token punctuation\">(</span>mp3_url<span class=\"token punctuation\">,</span> mp3_title<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    content <span class=\"token operator\">=</span> get_resource<span class=\"token punctuation\">(</span>mp3_url<span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">with</span> open<span class=\"token punctuation\">(</span><span class=\"token string\">'./mp3/%s.mp3'</span> <span class=\"token operator\">%</span> mp3_title<span class=\"token punctuation\">,</span> <span class=\"token string\">'wb'</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">as</span> f<span class=\"token punctuation\">:</span>\n        f<span class=\"token punctuation\">.</span>write<span class=\"token punctuation\">(</span>content<span class=\"token punctuation\">)</span>\n\n<span class=\"token keyword\">def</span> <span class=\"token function\">get_page</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    url <span class=\"token operator\">=</span> <span class=\"token string\">\"https://www.xiami.com\"</span>\n    <span class=\"token comment\" spellcheck=\"true\"># 访问网址</span>\n    browser<span class=\"token punctuation\">.</span>get<span class=\"token punctuation\">(</span>url<span class=\"token punctuation\">)</span>\n    <span class=\"token comment\" spellcheck=\"true\"># 注意下面的presence_of_element_located，容易出错</span>\n    <span class=\"token comment\" spellcheck=\"true\"># input = wait.until(EC.presence_of_element_located((By.CSS_SELECTOR, '#key')))</span>\n    <span class=\"token comment\" spellcheck=\"true\"># input.clear()</span>\n    <span class=\"token comment\" spellcheck=\"true\"># input.send_keys('汽车')</span>\n    button <span class=\"token operator\">=</span> wait<span class=\"token punctuation\">.</span>until<span class=\"token punctuation\">(</span>EC<span class=\"token punctuation\">.</span>element_to_be_clickable<span class=\"token punctuation\">(</span>\n        <span class=\"token punctuation\">(</span>By<span class=\"token punctuation\">.</span>LINK_TEXT<span class=\"token punctuation\">,</span> <span class=\"token string\">'回旧版'</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n    button<span class=\"token punctuation\">.</span>click<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n\n    button <span class=\"token operator\">=</span> wait<span class=\"token punctuation\">.</span>until<span class=\"token punctuation\">(</span>EC<span class=\"token punctuation\">.</span>element_to_be_clickable<span class=\"token punctuation\">(</span>\n        <span class=\"token punctuation\">(</span>By<span class=\"token punctuation\">.</span>XPATH<span class=\"token punctuation\">,</span> <span class=\"token string\">'//div[@id=\"secondary\"]//div[@class=\"nav\"]/a[2]'</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n    button<span class=\"token punctuation\">.</span>click<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n\n    <span class=\"token comment\" spellcheck=\"true\"># 等待加载完成 可以等待某个元素出现</span>\n    <span class=\"token comment\" spellcheck=\"true\"># wait.until(EC.text_to_be_present_in_element(((By.XPATH, '//tr[@data-index=\"99\"]/td[@class=\"trackid\"]'), '100')))</span>\n    time<span class=\"token punctuation\">.</span>sleep<span class=\"token punctuation\">(</span><span class=\"token number\">3</span><span class=\"token punctuation\">)</span>\n    <span class=\"token comment\" spellcheck=\"true\"># 拿网页</span>\n    <span class=\"token keyword\">return</span> browser<span class=\"token punctuation\">.</span>page_source\n\n<span class=\"token keyword\">def</span> <span class=\"token function\">parse_page</span><span class=\"token punctuation\">(</span>html<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    etree_html <span class=\"token operator\">=</span> etree<span class=\"token punctuation\">.</span>HTML<span class=\"token punctuation\">(</span>html<span class=\"token punctuation\">)</span>\n    song_list <span class=\"token operator\">=</span> etree_html<span class=\"token punctuation\">.</span>xpath<span class=\"token punctuation\">(</span><span class=\"token string\">'//tr[@class=\"songwrapper\"]'</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">for</span> song <span class=\"token keyword\">in</span> song_list<span class=\"token punctuation\">:</span>\n        <span class=\"token comment\" spellcheck=\"true\"># 取歌曲链接</span>\n        mp3_data <span class=\"token operator\">=</span> song<span class=\"token punctuation\">.</span>xpath<span class=\"token punctuation\">(</span><span class=\"token string\">'./@data-mp3'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span>\n        mp3_url <span class=\"token operator\">=</span> kaisha<span class=\"token punctuation\">.</span>str2url<span class=\"token punctuation\">(</span>mp3_data<span class=\"token punctuation\">)</span>\n        <span class=\"token comment\" spellcheck=\"true\"># 取歌曲名</span>\n        mp3_title <span class=\"token operator\">=</span> song<span class=\"token punctuation\">.</span>xpath<span class=\"token punctuation\">(</span><span class=\"token string\">'./@data-title'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span>\n        mp3_title <span class=\"token operator\">=</span> mp3_title<span class=\"token punctuation\">.</span>replace<span class=\"token punctuation\">(</span><span class=\"token string\">' '</span><span class=\"token punctuation\">,</span> <span class=\"token string\">''</span><span class=\"token punctuation\">)</span>\n        <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>mp3_url<span class=\"token punctuation\">)</span>\n        <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>mp3_title<span class=\"token punctuation\">)</span>\n        save_mp3<span class=\"token punctuation\">(</span>mp3_url<span class=\"token punctuation\">,</span> mp3_title<span class=\"token punctuation\">)</span>\n\n<span class=\"token keyword\">def</span> <span class=\"token function\">main</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    html <span class=\"token operator\">=</span> get_page<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    parse_page<span class=\"token punctuation\">(</span>html<span class=\"token punctuation\">)</span>\n\n<span class=\"token keyword\">if</span> __name__ <span class=\"token operator\">==</span> <span class=\"token string\">'__main__'</span><span class=\"token punctuation\">:</span>\n    main<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n\n</code></pre>\n","site":{"data":{}},"excerpt":"","more":"<p>获取音乐的url，访问的时候，能直接播放音乐的地址</p>\n<pre><code class=\"python\">import urllib\nfrom urllib import parse\n\ndef str2url(s):\n    #s = &#39;9hFaF2FF%_Et%m4F4%538t2i%795E%3pF.265E85.%fnF9742Em33e162_36pA.t6661983%x%6%%74%2i2%22735&#39;\n    num_loc = s.find(&#39;h&#39;)\n    rows = int(s[0:num_loc])\n    strlen = len(s) - num_loc\n    cols = int(strlen/rows)\n    right_rows = strlen % rows\n    new_s = list(s[num_loc:])\n    output = &#39;&#39;\n    for i in range(len(new_s)):\n        x = i % rows\n        y = i / rows\n        p = 0\n        if x &lt;= right_rows:\n            p = x * (cols + 1) + y\n        else:\n            p = right_rows * (cols + 1) + (x - right_rows) * cols + y\n        output += new_s[int(p)]\n    return parse.unquote(output).replace(&#39;^&#39;, &#39;0&#39;)\n\n\ndef main():\n    s = &quot;6hAFxn752E5F215234uy495-3741E8t%mie15F2E185E%6at%72E%7ba%13t21at27261734458%h3%%-5a885d5pF2m%%11799662E13_D55%E992E48%%8i222%4%59358.Fk1EE5-8bc%7632..FF%5%24_%9_mae58%E513e51&quot;\n    result_str = str2url(s)\n    print(result_str)\n\nmain()\n\n</code></pre>\n<pre><code class=\"python\">import time\nfrom selenium import webdriver\nfrom selenium.common.exceptions import TimeoutException\nfrom selenium.webdriver.common.by import By\nfrom selenium.webdriver.support.ui import WebDriverWait\nfrom selenium.webdriver.support import expected_conditions as EC\nfrom urllib.parse import quote\nfrom lxml import etree\nimport kaisha\nimport requests\n\n\nbrowser = webdriver.Chrome()\n# 等待加载时间\nwait = WebDriverWait(browser, 5)\n\n# 取页面HTML\ndef get_resource(url):\n\n    headers =  {\n        &quot;User-Agent&quot;: &quot;Mozilla/5.0 (Windows NT 6.1; Win64; x64; rv:2.0b13pre) Gecko/20110307 Firefox/4.0b13pre&quot;\n    }\n    response = requests.get(url, headers=headers)\n    if response.status_code == 200:\n        text = response.content\n        return text\n    return None\n\ndef save_mp3(mp3_url, mp3_title):\n    content = get_resource(mp3_url)\n    with open(&#39;./mp3/%s.mp3&#39; % mp3_title, &#39;wb&#39;) as f:\n        f.write(content)\n\ndef get_page():\n    url = &quot;https://www.xiami.com&quot;\n    # 访问网址\n    browser.get(url)\n    # 注意下面的presence_of_element_located，容易出错\n    # input = wait.until(EC.presence_of_element_located((By.CSS_SELECTOR, &#39;#key&#39;)))\n    # input.clear()\n    # input.send_keys(&#39;汽车&#39;)\n    button = wait.until(EC.element_to_be_clickable(\n        (By.LINK_TEXT, &#39;回旧版&#39;)\n    ))\n    button.click()\n\n    button = wait.until(EC.element_to_be_clickable(\n        (By.XPATH, &#39;//div[@id=&quot;secondary&quot;]//div[@class=&quot;nav&quot;]/a[2]&#39;)\n    ))\n    button.click()\n\n    # 等待加载完成 可以等待某个元素出现\n    # wait.until(EC.text_to_be_present_in_element(((By.XPATH, &#39;//tr[@data-index=&quot;99&quot;]/td[@class=&quot;trackid&quot;]&#39;), &#39;100&#39;)))\n    time.sleep(3)\n    # 拿网页\n    return browser.page_source\n\ndef parse_page(html):\n    etree_html = etree.HTML(html)\n    song_list = etree_html.xpath(&#39;//tr[@class=&quot;songwrapper&quot;]&#39;)\n    for song in song_list:\n        # 取歌曲链接\n        mp3_data = song.xpath(&#39;./@data-mp3&#39;)[0]\n        mp3_url = kaisha.str2url(mp3_data)\n        # 取歌曲名\n        mp3_title = song.xpath(&#39;./@data-title&#39;)[0]\n        mp3_title = mp3_title.replace(&#39; &#39;, &#39;&#39;)\n        print(mp3_url)\n        print(mp3_title)\n        save_mp3(mp3_url, mp3_title)\n\ndef main():\n    html = get_page()\n    parse_page(html)\n\nif __name__ == &#39;__main__&#39;:\n    main()\n\n</code></pre>\n"},{"title":"movie","date":"2018-05-12T07:15:06.000Z","author":"smile","_content":"\n### 爬电影\n获取的是电影的种子，将这个链接发给迅雷，可以直接下载\n```python\nimport json\nimport re\nimport requests\n\n\ndef parse_page(html):\n    patters = re.compile('var downurls=\"福.*?mp4$(.*?)/#\"', re.S)\n    patter = re.findall(patters, html)\n    print(patter)\n\n# 取页面HTML\ndef get_one_page(url):\n\n\theaders =  {\n\t\t\"User-Agent\": \"Mozilla/5.0 (Windows NT 6.1; Win64; x64; rv:2.0b13pre) Gecko/20110307 Firefox/4.0b13pre\"\n\t}\n\tresponse = requests.get(url, headers=headers)\n\tif response.status_code == 200:\n\t\ttext = response.content.decode('utf-8')\n\t\treturn text\n\treturn None\n\ndef main():\n    url = \"https://www.mkv99.com/vod-detail-id-12479.html\"\n    html = get_one_page(url)\n    movie = parse_page(html)\n\nif __name__ == '__main__':\n\tmain()\n\n```","source":"_posts/spider/爬电影.md","raw":"---\ntitle: movie\ndate: 2018-05-12 15:15:06\nauthor: smile\ncategories: spider\ntags: \n  - movie\n---\n\n### 爬电影\n获取的是电影的种子，将这个链接发给迅雷，可以直接下载\n```python\nimport json\nimport re\nimport requests\n\n\ndef parse_page(html):\n    patters = re.compile('var downurls=\"福.*?mp4$(.*?)/#\"', re.S)\n    patter = re.findall(patters, html)\n    print(patter)\n\n# 取页面HTML\ndef get_one_page(url):\n\n\theaders =  {\n\t\t\"User-Agent\": \"Mozilla/5.0 (Windows NT 6.1; Win64; x64; rv:2.0b13pre) Gecko/20110307 Firefox/4.0b13pre\"\n\t}\n\tresponse = requests.get(url, headers=headers)\n\tif response.status_code == 200:\n\t\ttext = response.content.decode('utf-8')\n\t\treturn text\n\treturn None\n\ndef main():\n    url = \"https://www.mkv99.com/vod-detail-id-12479.html\"\n    html = get_one_page(url)\n    movie = parse_page(html)\n\nif __name__ == '__main__':\n\tmain()\n\n```","slug":"spider/爬电影","published":1,"updated":"2019-03-14T01:45:54.671Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjt87kqn4003hr8r62nq7g7b2","content":"<h3 id=\"爬电影\"><a href=\"#爬电影\" class=\"headerlink\" title=\"爬电影\"></a>爬电影</h3><p>获取的是电影的种子，将这个链接发给迅雷，可以直接下载</p>\n<pre class=\" language-python\"><code class=\"language-python\"><span class=\"token keyword\">import</span> json\n<span class=\"token keyword\">import</span> re\n<span class=\"token keyword\">import</span> requests\n\n\n<span class=\"token keyword\">def</span> <span class=\"token function\">parse_page</span><span class=\"token punctuation\">(</span>html<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    patters <span class=\"token operator\">=</span> re<span class=\"token punctuation\">.</span>compile<span class=\"token punctuation\">(</span><span class=\"token string\">'var downurls=\"福.*?mp4$(.*?)/#\"'</span><span class=\"token punctuation\">,</span> re<span class=\"token punctuation\">.</span>S<span class=\"token punctuation\">)</span>\n    patter <span class=\"token operator\">=</span> re<span class=\"token punctuation\">.</span>findall<span class=\"token punctuation\">(</span>patters<span class=\"token punctuation\">,</span> html<span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>patter<span class=\"token punctuation\">)</span>\n\n<span class=\"token comment\" spellcheck=\"true\"># 取页面HTML</span>\n<span class=\"token keyword\">def</span> <span class=\"token function\">get_one_page</span><span class=\"token punctuation\">(</span>url<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n\n    headers <span class=\"token operator\">=</span>  <span class=\"token punctuation\">{</span>\n        <span class=\"token string\">\"User-Agent\"</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"Mozilla/5.0 (Windows NT 6.1; Win64; x64; rv:2.0b13pre) Gecko/20110307 Firefox/4.0b13pre\"</span>\n    <span class=\"token punctuation\">}</span>\n    response <span class=\"token operator\">=</span> requests<span class=\"token punctuation\">.</span>get<span class=\"token punctuation\">(</span>url<span class=\"token punctuation\">,</span> headers<span class=\"token operator\">=</span>headers<span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">if</span> response<span class=\"token punctuation\">.</span>status_code <span class=\"token operator\">==</span> <span class=\"token number\">200</span><span class=\"token punctuation\">:</span>\n        text <span class=\"token operator\">=</span> response<span class=\"token punctuation\">.</span>content<span class=\"token punctuation\">.</span>decode<span class=\"token punctuation\">(</span><span class=\"token string\">'utf-8'</span><span class=\"token punctuation\">)</span>\n        <span class=\"token keyword\">return</span> text\n    <span class=\"token keyword\">return</span> None\n\n<span class=\"token keyword\">def</span> <span class=\"token function\">main</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    url <span class=\"token operator\">=</span> <span class=\"token string\">\"https://www.mkv99.com/vod-detail-id-12479.html\"</span>\n    html <span class=\"token operator\">=</span> get_one_page<span class=\"token punctuation\">(</span>url<span class=\"token punctuation\">)</span>\n    movie <span class=\"token operator\">=</span> parse_page<span class=\"token punctuation\">(</span>html<span class=\"token punctuation\">)</span>\n\n<span class=\"token keyword\">if</span> __name__ <span class=\"token operator\">==</span> <span class=\"token string\">'__main__'</span><span class=\"token punctuation\">:</span>\n    main<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n\n</code></pre>\n","site":{"data":{}},"excerpt":"","more":"<h3 id=\"爬电影\"><a href=\"#爬电影\" class=\"headerlink\" title=\"爬电影\"></a>爬电影</h3><p>获取的是电影的种子，将这个链接发给迅雷，可以直接下载</p>\n<pre><code class=\"python\">import json\nimport re\nimport requests\n\n\ndef parse_page(html):\n    patters = re.compile(&#39;var downurls=&quot;福.*?mp4$(.*?)/#&quot;&#39;, re.S)\n    patter = re.findall(patters, html)\n    print(patter)\n\n# 取页面HTML\ndef get_one_page(url):\n\n    headers =  {\n        &quot;User-Agent&quot;: &quot;Mozilla/5.0 (Windows NT 6.1; Win64; x64; rv:2.0b13pre) Gecko/20110307 Firefox/4.0b13pre&quot;\n    }\n    response = requests.get(url, headers=headers)\n    if response.status_code == 200:\n        text = response.content.decode(&#39;utf-8&#39;)\n        return text\n    return None\n\ndef main():\n    url = &quot;https://www.mkv99.com/vod-detail-id-12479.html&quot;\n    html = get_one_page(url)\n    movie = parse_page(html)\n\nif __name__ == &#39;__main__&#39;:\n    main()\n\n</code></pre>\n"},{"title":"novel","date":"2018-05-11T07:15:06.000Z","author":"smile","img":"/images/AKL.jpg","_content":"\n### novel\n\n##### 爬取到小说的具体内容，要进行滤除处理，完整的代码\n```python\n# -*- coding:UTF-8 -*-\n    from bs4 import BeautifulSoup\n    import requests\n\n    if __name__ == \"__main__\":\n        target = 'http://www.biqukan.com/1_1094/5403177.html'\n        req = requests.get(url = target)\n        html = req.text\n        bf = BeautifulSoup(html)\n        texts = bf.find_all('div', class_ = 'showtxt')\n        print(texts[0].text.replace('\\xa0'*8,'\\n\\n'))\n```\n\n正文\n```python\nimport json\nfrom bs4 import BeautifulSoup\nimport requests\n\n\ndef strips(contents):\n    result_list =  []\n    list1 = []\n    matter = contents[::2][::2]\n    for item in matter:\n        result_list.append(item)\n    for i in result_list:\n        list1.append(i.strip())\n    return list1\n\n# 保存json数据\ndef save_json(article, num):\n    fiction_json_str = json.dumps(article, ensure_ascii=False)\n    with open(str(num)+'.json', 'w', encoding='utf-8') as f:\n        f.write(fiction_json_str)\n\n# 取页面HTML\ndef get_one_page(url):\n\n\theaders =  {\n\t\t\"User-Agent\": \"Mozilla/5.0 (Windows NT 6.1; Win64; x64; rv:2.0b13pre) Gecko/20110307 Firefox/4.0b13pre\"\n\t}\n\tresponse = requests.get(url, headers=headers)\n\tif response.status_code == 200:\n\t\ttext = response.content.decode('utf-8')\n\t\treturn text\n\treturn None\n\ndef parse_with_bs4(html):\n    all_list = []\n    all_dic = {}\n    soup = BeautifulSoup(html, 'lxml')\n    title = soup.select('.content_read .box_con .bookname h1')[0].string\n    contents = soup.select('.content_read .box_con #content')[0].contents\n    content = strips(contents)\n    all_dic['title'] = title\n    all_dic['content'] = content\n    all_list.append(all_dic)\n    return all_list\n\ndef next_url(html):\n    soup = BeautifulSoup(html, 'lxml')\n    # 下一章的后缀路由\n    next_url = soup.select('.content_read .box_con .bookname .bottem1 a')[3]['href']\n    nexts_url = 'http://www.xbiquge.la' + next_url\n    return nexts_url\n\ndef main():\n    num = 1\n    url = \"http://www.xbiquge.la/2/2823/1790661.html\"\n    while True:\n        html = get_one_page(url)\n        article = parse_with_bs4(html)\n        save_json(article, num)\n        url = next_url(html)\n        if url == 'http://www.xbiquge.la/2/2823/':\n            break\n        num += 1\n\nif __name__ == '__main__':\n\tmain()\n\n```","source":"_posts/spider/爬短视频.md","raw":"---\ntitle: novel\ndate: 2018-05-11 15:15:06\nauthor: smile\nimg: /images/AKL.jpg\ncategories: spider\ntags: \n  - novel\n---\n\n### novel\n\n##### 爬取到小说的具体内容，要进行滤除处理，完整的代码\n```python\n# -*- coding:UTF-8 -*-\n    from bs4 import BeautifulSoup\n    import requests\n\n    if __name__ == \"__main__\":\n        target = 'http://www.biqukan.com/1_1094/5403177.html'\n        req = requests.get(url = target)\n        html = req.text\n        bf = BeautifulSoup(html)\n        texts = bf.find_all('div', class_ = 'showtxt')\n        print(texts[0].text.replace('\\xa0'*8,'\\n\\n'))\n```\n\n正文\n```python\nimport json\nfrom bs4 import BeautifulSoup\nimport requests\n\n\ndef strips(contents):\n    result_list =  []\n    list1 = []\n    matter = contents[::2][::2]\n    for item in matter:\n        result_list.append(item)\n    for i in result_list:\n        list1.append(i.strip())\n    return list1\n\n# 保存json数据\ndef save_json(article, num):\n    fiction_json_str = json.dumps(article, ensure_ascii=False)\n    with open(str(num)+'.json', 'w', encoding='utf-8') as f:\n        f.write(fiction_json_str)\n\n# 取页面HTML\ndef get_one_page(url):\n\n\theaders =  {\n\t\t\"User-Agent\": \"Mozilla/5.0 (Windows NT 6.1; Win64; x64; rv:2.0b13pre) Gecko/20110307 Firefox/4.0b13pre\"\n\t}\n\tresponse = requests.get(url, headers=headers)\n\tif response.status_code == 200:\n\t\ttext = response.content.decode('utf-8')\n\t\treturn text\n\treturn None\n\ndef parse_with_bs4(html):\n    all_list = []\n    all_dic = {}\n    soup = BeautifulSoup(html, 'lxml')\n    title = soup.select('.content_read .box_con .bookname h1')[0].string\n    contents = soup.select('.content_read .box_con #content')[0].contents\n    content = strips(contents)\n    all_dic['title'] = title\n    all_dic['content'] = content\n    all_list.append(all_dic)\n    return all_list\n\ndef next_url(html):\n    soup = BeautifulSoup(html, 'lxml')\n    # 下一章的后缀路由\n    next_url = soup.select('.content_read .box_con .bookname .bottem1 a')[3]['href']\n    nexts_url = 'http://www.xbiquge.la' + next_url\n    return nexts_url\n\ndef main():\n    num = 1\n    url = \"http://www.xbiquge.la/2/2823/1790661.html\"\n    while True:\n        html = get_one_page(url)\n        article = parse_with_bs4(html)\n        save_json(article, num)\n        url = next_url(html)\n        if url == 'http://www.xbiquge.la/2/2823/':\n            break\n        num += 1\n\nif __name__ == '__main__':\n\tmain()\n\n```","slug":"spider/爬短视频","published":1,"updated":"2019-03-14T01:45:44.395Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjt87kqna003lr8r64x6q6jee","content":"<h3 id=\"novel\"><a href=\"#novel\" class=\"headerlink\" title=\"novel\"></a>novel</h3><h5 id=\"爬取到小说的具体内容，要进行滤除处理，完整的代码\"><a href=\"#爬取到小说的具体内容，要进行滤除处理，完整的代码\" class=\"headerlink\" title=\"爬取到小说的具体内容，要进行滤除处理，完整的代码\"></a>爬取到小说的具体内容，要进行滤除处理，完整的代码</h5><pre class=\" language-python\"><code class=\"language-python\"><span class=\"token comment\" spellcheck=\"true\"># -*- coding:UTF-8 -*-</span>\n    <span class=\"token keyword\">from</span> bs4 <span class=\"token keyword\">import</span> BeautifulSoup\n    <span class=\"token keyword\">import</span> requests\n\n    <span class=\"token keyword\">if</span> __name__ <span class=\"token operator\">==</span> <span class=\"token string\">\"__main__\"</span><span class=\"token punctuation\">:</span>\n        target <span class=\"token operator\">=</span> <span class=\"token string\">'http://www.biqukan.com/1_1094/5403177.html'</span>\n        req <span class=\"token operator\">=</span> requests<span class=\"token punctuation\">.</span>get<span class=\"token punctuation\">(</span>url <span class=\"token operator\">=</span> target<span class=\"token punctuation\">)</span>\n        html <span class=\"token operator\">=</span> req<span class=\"token punctuation\">.</span>text\n        bf <span class=\"token operator\">=</span> BeautifulSoup<span class=\"token punctuation\">(</span>html<span class=\"token punctuation\">)</span>\n        texts <span class=\"token operator\">=</span> bf<span class=\"token punctuation\">.</span>find_all<span class=\"token punctuation\">(</span><span class=\"token string\">'div'</span><span class=\"token punctuation\">,</span> class_ <span class=\"token operator\">=</span> <span class=\"token string\">'showtxt'</span><span class=\"token punctuation\">)</span>\n        <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>texts<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span>text<span class=\"token punctuation\">.</span>replace<span class=\"token punctuation\">(</span><span class=\"token string\">'\\xa0'</span><span class=\"token operator\">*</span><span class=\"token number\">8</span><span class=\"token punctuation\">,</span><span class=\"token string\">'\\n\\n'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n</code></pre>\n<p>正文</p>\n<pre class=\" language-python\"><code class=\"language-python\"><span class=\"token keyword\">import</span> json\n<span class=\"token keyword\">from</span> bs4 <span class=\"token keyword\">import</span> BeautifulSoup\n<span class=\"token keyword\">import</span> requests\n\n\n<span class=\"token keyword\">def</span> <span class=\"token function\">strips</span><span class=\"token punctuation\">(</span>contents<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    result_list <span class=\"token operator\">=</span>  <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span>\n    list1 <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span>\n    matter <span class=\"token operator\">=</span> contents<span class=\"token punctuation\">[</span><span class=\"token punctuation\">:</span><span class=\"token punctuation\">:</span><span class=\"token number\">2</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">:</span><span class=\"token punctuation\">:</span><span class=\"token number\">2</span><span class=\"token punctuation\">]</span>\n    <span class=\"token keyword\">for</span> item <span class=\"token keyword\">in</span> matter<span class=\"token punctuation\">:</span>\n        result_list<span class=\"token punctuation\">.</span>append<span class=\"token punctuation\">(</span>item<span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">for</span> i <span class=\"token keyword\">in</span> result_list<span class=\"token punctuation\">:</span>\n        list1<span class=\"token punctuation\">.</span>append<span class=\"token punctuation\">(</span>i<span class=\"token punctuation\">.</span>strip<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">return</span> list1\n\n<span class=\"token comment\" spellcheck=\"true\"># 保存json数据</span>\n<span class=\"token keyword\">def</span> <span class=\"token function\">save_json</span><span class=\"token punctuation\">(</span>article<span class=\"token punctuation\">,</span> num<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    fiction_json_str <span class=\"token operator\">=</span> json<span class=\"token punctuation\">.</span>dumps<span class=\"token punctuation\">(</span>article<span class=\"token punctuation\">,</span> ensure_ascii<span class=\"token operator\">=</span><span class=\"token boolean\">False</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">with</span> open<span class=\"token punctuation\">(</span>str<span class=\"token punctuation\">(</span>num<span class=\"token punctuation\">)</span><span class=\"token operator\">+</span><span class=\"token string\">'.json'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'w'</span><span class=\"token punctuation\">,</span> encoding<span class=\"token operator\">=</span><span class=\"token string\">'utf-8'</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">as</span> f<span class=\"token punctuation\">:</span>\n        f<span class=\"token punctuation\">.</span>write<span class=\"token punctuation\">(</span>fiction_json_str<span class=\"token punctuation\">)</span>\n\n<span class=\"token comment\" spellcheck=\"true\"># 取页面HTML</span>\n<span class=\"token keyword\">def</span> <span class=\"token function\">get_one_page</span><span class=\"token punctuation\">(</span>url<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n\n    headers <span class=\"token operator\">=</span>  <span class=\"token punctuation\">{</span>\n        <span class=\"token string\">\"User-Agent\"</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"Mozilla/5.0 (Windows NT 6.1; Win64; x64; rv:2.0b13pre) Gecko/20110307 Firefox/4.0b13pre\"</span>\n    <span class=\"token punctuation\">}</span>\n    response <span class=\"token operator\">=</span> requests<span class=\"token punctuation\">.</span>get<span class=\"token punctuation\">(</span>url<span class=\"token punctuation\">,</span> headers<span class=\"token operator\">=</span>headers<span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">if</span> response<span class=\"token punctuation\">.</span>status_code <span class=\"token operator\">==</span> <span class=\"token number\">200</span><span class=\"token punctuation\">:</span>\n        text <span class=\"token operator\">=</span> response<span class=\"token punctuation\">.</span>content<span class=\"token punctuation\">.</span>decode<span class=\"token punctuation\">(</span><span class=\"token string\">'utf-8'</span><span class=\"token punctuation\">)</span>\n        <span class=\"token keyword\">return</span> text\n    <span class=\"token keyword\">return</span> None\n\n<span class=\"token keyword\">def</span> <span class=\"token function\">parse_with_bs4</span><span class=\"token punctuation\">(</span>html<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    all_list <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span>\n    all_dic <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span>\n    soup <span class=\"token operator\">=</span> BeautifulSoup<span class=\"token punctuation\">(</span>html<span class=\"token punctuation\">,</span> <span class=\"token string\">'lxml'</span><span class=\"token punctuation\">)</span>\n    title <span class=\"token operator\">=</span> soup<span class=\"token punctuation\">.</span>select<span class=\"token punctuation\">(</span><span class=\"token string\">'.content_read .box_con .bookname h1'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span>string\n    contents <span class=\"token operator\">=</span> soup<span class=\"token punctuation\">.</span>select<span class=\"token punctuation\">(</span><span class=\"token string\">'.content_read .box_con #content'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span>contents\n    content <span class=\"token operator\">=</span> strips<span class=\"token punctuation\">(</span>contents<span class=\"token punctuation\">)</span>\n    all_dic<span class=\"token punctuation\">[</span><span class=\"token string\">'title'</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> title\n    all_dic<span class=\"token punctuation\">[</span><span class=\"token string\">'content'</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> content\n    all_list<span class=\"token punctuation\">.</span>append<span class=\"token punctuation\">(</span>all_dic<span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">return</span> all_list\n\n<span class=\"token keyword\">def</span> <span class=\"token function\">next_url</span><span class=\"token punctuation\">(</span>html<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    soup <span class=\"token operator\">=</span> BeautifulSoup<span class=\"token punctuation\">(</span>html<span class=\"token punctuation\">,</span> <span class=\"token string\">'lxml'</span><span class=\"token punctuation\">)</span>\n    <span class=\"token comment\" spellcheck=\"true\"># 下一章的后缀路由</span>\n    next_url <span class=\"token operator\">=</span> soup<span class=\"token punctuation\">.</span>select<span class=\"token punctuation\">(</span><span class=\"token string\">'.content_read .box_con .bookname .bottem1 a'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">[</span><span class=\"token number\">3</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">[</span><span class=\"token string\">'href'</span><span class=\"token punctuation\">]</span>\n    nexts_url <span class=\"token operator\">=</span> <span class=\"token string\">'http://www.xbiquge.la'</span> <span class=\"token operator\">+</span> next_url\n    <span class=\"token keyword\">return</span> nexts_url\n\n<span class=\"token keyword\">def</span> <span class=\"token function\">main</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    num <span class=\"token operator\">=</span> <span class=\"token number\">1</span>\n    url <span class=\"token operator\">=</span> <span class=\"token string\">\"http://www.xbiquge.la/2/2823/1790661.html\"</span>\n    <span class=\"token keyword\">while</span> <span class=\"token boolean\">True</span><span class=\"token punctuation\">:</span>\n        html <span class=\"token operator\">=</span> get_one_page<span class=\"token punctuation\">(</span>url<span class=\"token punctuation\">)</span>\n        article <span class=\"token operator\">=</span> parse_with_bs4<span class=\"token punctuation\">(</span>html<span class=\"token punctuation\">)</span>\n        save_json<span class=\"token punctuation\">(</span>article<span class=\"token punctuation\">,</span> num<span class=\"token punctuation\">)</span>\n        url <span class=\"token operator\">=</span> next_url<span class=\"token punctuation\">(</span>html<span class=\"token punctuation\">)</span>\n        <span class=\"token keyword\">if</span> url <span class=\"token operator\">==</span> <span class=\"token string\">'http://www.xbiquge.la/2/2823/'</span><span class=\"token punctuation\">:</span>\n            <span class=\"token keyword\">break</span>\n        num <span class=\"token operator\">+=</span> <span class=\"token number\">1</span>\n\n<span class=\"token keyword\">if</span> __name__ <span class=\"token operator\">==</span> <span class=\"token string\">'__main__'</span><span class=\"token punctuation\">:</span>\n    main<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n\n</code></pre>\n","site":{"data":{}},"excerpt":"","more":"<h3 id=\"novel\"><a href=\"#novel\" class=\"headerlink\" title=\"novel\"></a>novel</h3><h5 id=\"爬取到小说的具体内容，要进行滤除处理，完整的代码\"><a href=\"#爬取到小说的具体内容，要进行滤除处理，完整的代码\" class=\"headerlink\" title=\"爬取到小说的具体内容，要进行滤除处理，完整的代码\"></a>爬取到小说的具体内容，要进行滤除处理，完整的代码</h5><pre><code class=\"python\"># -*- coding:UTF-8 -*-\n    from bs4 import BeautifulSoup\n    import requests\n\n    if __name__ == &quot;__main__&quot;:\n        target = &#39;http://www.biqukan.com/1_1094/5403177.html&#39;\n        req = requests.get(url = target)\n        html = req.text\n        bf = BeautifulSoup(html)\n        texts = bf.find_all(&#39;div&#39;, class_ = &#39;showtxt&#39;)\n        print(texts[0].text.replace(&#39;\\xa0&#39;*8,&#39;\\n\\n&#39;))\n</code></pre>\n<p>正文</p>\n<pre><code class=\"python\">import json\nfrom bs4 import BeautifulSoup\nimport requests\n\n\ndef strips(contents):\n    result_list =  []\n    list1 = []\n    matter = contents[::2][::2]\n    for item in matter:\n        result_list.append(item)\n    for i in result_list:\n        list1.append(i.strip())\n    return list1\n\n# 保存json数据\ndef save_json(article, num):\n    fiction_json_str = json.dumps(article, ensure_ascii=False)\n    with open(str(num)+&#39;.json&#39;, &#39;w&#39;, encoding=&#39;utf-8&#39;) as f:\n        f.write(fiction_json_str)\n\n# 取页面HTML\ndef get_one_page(url):\n\n    headers =  {\n        &quot;User-Agent&quot;: &quot;Mozilla/5.0 (Windows NT 6.1; Win64; x64; rv:2.0b13pre) Gecko/20110307 Firefox/4.0b13pre&quot;\n    }\n    response = requests.get(url, headers=headers)\n    if response.status_code == 200:\n        text = response.content.decode(&#39;utf-8&#39;)\n        return text\n    return None\n\ndef parse_with_bs4(html):\n    all_list = []\n    all_dic = {}\n    soup = BeautifulSoup(html, &#39;lxml&#39;)\n    title = soup.select(&#39;.content_read .box_con .bookname h1&#39;)[0].string\n    contents = soup.select(&#39;.content_read .box_con #content&#39;)[0].contents\n    content = strips(contents)\n    all_dic[&#39;title&#39;] = title\n    all_dic[&#39;content&#39;] = content\n    all_list.append(all_dic)\n    return all_list\n\ndef next_url(html):\n    soup = BeautifulSoup(html, &#39;lxml&#39;)\n    # 下一章的后缀路由\n    next_url = soup.select(&#39;.content_read .box_con .bookname .bottem1 a&#39;)[3][&#39;href&#39;]\n    nexts_url = &#39;http://www.xbiquge.la&#39; + next_url\n    return nexts_url\n\ndef main():\n    num = 1\n    url = &quot;http://www.xbiquge.la/2/2823/1790661.html&quot;\n    while True:\n        html = get_one_page(url)\n        article = parse_with_bs4(html)\n        save_json(article, num)\n        url = next_url(html)\n        if url == &#39;http://www.xbiquge.la/2/2823/&#39;:\n            break\n        num += 1\n\nif __name__ == &#39;__main__&#39;:\n    main()\n\n</code></pre>\n"},{"title":"video","date":"2018-05-03T07:15:06.000Z","author":"smile","img":"/images/HuLi.jpg","_content":"\n\n方法一：\n```python\nimport re\nimport requests\n\n\n# 获取二进制资源\ndef get_resource(url):\n    headers = {\n        \"User-Agent\": \"Mozilla/4.0 (compatible; MSIE 7.0; Windows NT 5.1; 360SE)\"\n    }\n\n    response = requests.get(url, headers=headers)\n    if response.status_code == 200:\n        return response.content\n    return None\n\n# 获取页面\ndef get_page(url):\n\theaders =  {\n\t\t\"User-Agent\": \"Mozilla/4.0 (compatible; MSIE 7.0; Windows NT 5.1; 360SE)\"\n\t}\n\tresponse = requests.get(url, headers=headers)\n\tif response.status_code == 200:\n\t\ttext = response.content.decode('utf-8')\n\t\treturn text\n\treturn None\n\ndef parse_source(html):\n    # 正则匹配路由\n    video = re.compile('data-mp4=\"(.*?)\">', re.S)\n    video = re.findall(video, html)\n    for i in video:\n        save_video(i)\n        print(i + '下载完成')\n\n    return video\n\ndef save_video(url):\n    content = get_resource(url)\n    filename = url.split(\"/\")[-1]\n    with open('./video/%s' % filename, 'wb') as f:\n        f.write(content)\n\n\ndef main():\n    for page in range(2, 10):\n        url = \"http://www.budejie.com/video/\" + str(page)\n        html = get_page(url)\n        parse_source(html)\n\n\nif __name__ == '__main__':\n    main()\n```","source":"_posts/spider/爬视频.md","raw":"---\ntitle: video\ndate: 2018-05-03 15:15:06\nauthor: smile\nimg: /images/HuLi.jpg\ntags: \n  - video\n---\n\n\n方法一：\n```python\nimport re\nimport requests\n\n\n# 获取二进制资源\ndef get_resource(url):\n    headers = {\n        \"User-Agent\": \"Mozilla/4.0 (compatible; MSIE 7.0; Windows NT 5.1; 360SE)\"\n    }\n\n    response = requests.get(url, headers=headers)\n    if response.status_code == 200:\n        return response.content\n    return None\n\n# 获取页面\ndef get_page(url):\n\theaders =  {\n\t\t\"User-Agent\": \"Mozilla/4.0 (compatible; MSIE 7.0; Windows NT 5.1; 360SE)\"\n\t}\n\tresponse = requests.get(url, headers=headers)\n\tif response.status_code == 200:\n\t\ttext = response.content.decode('utf-8')\n\t\treturn text\n\treturn None\n\ndef parse_source(html):\n    # 正则匹配路由\n    video = re.compile('data-mp4=\"(.*?)\">', re.S)\n    video = re.findall(video, html)\n    for i in video:\n        save_video(i)\n        print(i + '下载完成')\n\n    return video\n\ndef save_video(url):\n    content = get_resource(url)\n    filename = url.split(\"/\")[-1]\n    with open('./video/%s' % filename, 'wb') as f:\n        f.write(content)\n\n\ndef main():\n    for page in range(2, 10):\n        url = \"http://www.budejie.com/video/\" + str(page)\n        html = get_page(url)\n        parse_source(html)\n\n\nif __name__ == '__main__':\n    main()\n```","slug":"spider/爬视频","published":1,"updated":"2019-03-14T01:45:00.496Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjt87kqng003nr8r6ydc45c3j","content":"<p>方法一：</p>\n<pre class=\" language-python\"><code class=\"language-python\"><span class=\"token keyword\">import</span> re\n<span class=\"token keyword\">import</span> requests\n\n\n<span class=\"token comment\" spellcheck=\"true\"># 获取二进制资源</span>\n<span class=\"token keyword\">def</span> <span class=\"token function\">get_resource</span><span class=\"token punctuation\">(</span>url<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    headers <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token string\">\"User-Agent\"</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"Mozilla/4.0 (compatible; MSIE 7.0; Windows NT 5.1; 360SE)\"</span>\n    <span class=\"token punctuation\">}</span>\n\n    response <span class=\"token operator\">=</span> requests<span class=\"token punctuation\">.</span>get<span class=\"token punctuation\">(</span>url<span class=\"token punctuation\">,</span> headers<span class=\"token operator\">=</span>headers<span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">if</span> response<span class=\"token punctuation\">.</span>status_code <span class=\"token operator\">==</span> <span class=\"token number\">200</span><span class=\"token punctuation\">:</span>\n        <span class=\"token keyword\">return</span> response<span class=\"token punctuation\">.</span>content\n    <span class=\"token keyword\">return</span> None\n\n<span class=\"token comment\" spellcheck=\"true\"># 获取页面</span>\n<span class=\"token keyword\">def</span> <span class=\"token function\">get_page</span><span class=\"token punctuation\">(</span>url<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    headers <span class=\"token operator\">=</span>  <span class=\"token punctuation\">{</span>\n        <span class=\"token string\">\"User-Agent\"</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"Mozilla/4.0 (compatible; MSIE 7.0; Windows NT 5.1; 360SE)\"</span>\n    <span class=\"token punctuation\">}</span>\n    response <span class=\"token operator\">=</span> requests<span class=\"token punctuation\">.</span>get<span class=\"token punctuation\">(</span>url<span class=\"token punctuation\">,</span> headers<span class=\"token operator\">=</span>headers<span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">if</span> response<span class=\"token punctuation\">.</span>status_code <span class=\"token operator\">==</span> <span class=\"token number\">200</span><span class=\"token punctuation\">:</span>\n        text <span class=\"token operator\">=</span> response<span class=\"token punctuation\">.</span>content<span class=\"token punctuation\">.</span>decode<span class=\"token punctuation\">(</span><span class=\"token string\">'utf-8'</span><span class=\"token punctuation\">)</span>\n        <span class=\"token keyword\">return</span> text\n    <span class=\"token keyword\">return</span> None\n\n<span class=\"token keyword\">def</span> <span class=\"token function\">parse_source</span><span class=\"token punctuation\">(</span>html<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    <span class=\"token comment\" spellcheck=\"true\"># 正则匹配路由</span>\n    video <span class=\"token operator\">=</span> re<span class=\"token punctuation\">.</span>compile<span class=\"token punctuation\">(</span><span class=\"token string\">'data-mp4=\"(.*?)\">'</span><span class=\"token punctuation\">,</span> re<span class=\"token punctuation\">.</span>S<span class=\"token punctuation\">)</span>\n    video <span class=\"token operator\">=</span> re<span class=\"token punctuation\">.</span>findall<span class=\"token punctuation\">(</span>video<span class=\"token punctuation\">,</span> html<span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">for</span> i <span class=\"token keyword\">in</span> video<span class=\"token punctuation\">:</span>\n        save_video<span class=\"token punctuation\">(</span>i<span class=\"token punctuation\">)</span>\n        <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>i <span class=\"token operator\">+</span> <span class=\"token string\">'下载完成'</span><span class=\"token punctuation\">)</span>\n\n    <span class=\"token keyword\">return</span> video\n\n<span class=\"token keyword\">def</span> <span class=\"token function\">save_video</span><span class=\"token punctuation\">(</span>url<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    content <span class=\"token operator\">=</span> get_resource<span class=\"token punctuation\">(</span>url<span class=\"token punctuation\">)</span>\n    filename <span class=\"token operator\">=</span> url<span class=\"token punctuation\">.</span>split<span class=\"token punctuation\">(</span><span class=\"token string\">\"/\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">[</span><span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span>\n    <span class=\"token keyword\">with</span> open<span class=\"token punctuation\">(</span><span class=\"token string\">'./video/%s'</span> <span class=\"token operator\">%</span> filename<span class=\"token punctuation\">,</span> <span class=\"token string\">'wb'</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">as</span> f<span class=\"token punctuation\">:</span>\n        f<span class=\"token punctuation\">.</span>write<span class=\"token punctuation\">(</span>content<span class=\"token punctuation\">)</span>\n\n\n<span class=\"token keyword\">def</span> <span class=\"token function\">main</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    <span class=\"token keyword\">for</span> page <span class=\"token keyword\">in</span> range<span class=\"token punctuation\">(</span><span class=\"token number\">2</span><span class=\"token punctuation\">,</span> <span class=\"token number\">10</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n        url <span class=\"token operator\">=</span> <span class=\"token string\">\"http://www.budejie.com/video/\"</span> <span class=\"token operator\">+</span> str<span class=\"token punctuation\">(</span>page<span class=\"token punctuation\">)</span>\n        html <span class=\"token operator\">=</span> get_page<span class=\"token punctuation\">(</span>url<span class=\"token punctuation\">)</span>\n        parse_source<span class=\"token punctuation\">(</span>html<span class=\"token punctuation\">)</span>\n\n\n<span class=\"token keyword\">if</span> __name__ <span class=\"token operator\">==</span> <span class=\"token string\">'__main__'</span><span class=\"token punctuation\">:</span>\n    main<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n</code></pre>\n","site":{"data":{}},"excerpt":"","more":"<p>方法一：</p>\n<pre><code class=\"python\">import re\nimport requests\n\n\n# 获取二进制资源\ndef get_resource(url):\n    headers = {\n        &quot;User-Agent&quot;: &quot;Mozilla/4.0 (compatible; MSIE 7.0; Windows NT 5.1; 360SE)&quot;\n    }\n\n    response = requests.get(url, headers=headers)\n    if response.status_code == 200:\n        return response.content\n    return None\n\n# 获取页面\ndef get_page(url):\n    headers =  {\n        &quot;User-Agent&quot;: &quot;Mozilla/4.0 (compatible; MSIE 7.0; Windows NT 5.1; 360SE)&quot;\n    }\n    response = requests.get(url, headers=headers)\n    if response.status_code == 200:\n        text = response.content.decode(&#39;utf-8&#39;)\n        return text\n    return None\n\ndef parse_source(html):\n    # 正则匹配路由\n    video = re.compile(&#39;data-mp4=&quot;(.*?)&quot;&gt;&#39;, re.S)\n    video = re.findall(video, html)\n    for i in video:\n        save_video(i)\n        print(i + &#39;下载完成&#39;)\n\n    return video\n\ndef save_video(url):\n    content = get_resource(url)\n    filename = url.split(&quot;/&quot;)[-1]\n    with open(&#39;./video/%s&#39; % filename, &#39;wb&#39;) as f:\n        f.write(content)\n\n\ndef main():\n    for page in range(2, 10):\n        url = &quot;http://www.budejie.com/video/&quot; + str(page)\n        html = get_page(url)\n        parse_source(html)\n\n\nif __name__ == &#39;__main__&#39;:\n    main()\n</code></pre>\n"},{"title":"summary","date":"2018-05-19T07:15:06.000Z","author":"smile","_content":"\n### 选择器\n- 一个标签有多个类属性时，取到这个标签的时候，多个类属性之间用不用空格隔开，正常表示\n```python\nresult = soup.select('.-live-layout-row.layout_sports_350_650')\n```\n\n### 清除数据库\n```python\n清除自增字段，下次创建的时候，id为1\ntruncate table 名\n```\n\n","source":"_posts/spider/类选择器.md","raw":"---\ntitle: summary\ndate: 2018-05-19 15:15:06\nauthor: smile\ncategories: spider\ntags: \n  - 随机总结\n---\n\n### 选择器\n- 一个标签有多个类属性时，取到这个标签的时候，多个类属性之间用不用空格隔开，正常表示\n```python\nresult = soup.select('.-live-layout-row.layout_sports_350_650')\n```\n\n### 清除数据库\n```python\n清除自增字段，下次创建的时候，id为1\ntruncate table 名\n```\n\n","slug":"spider/类选择器","published":1,"updated":"2019-03-14T01:46:11.243Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjt87kqno003qr8r6z6dic3mi","content":"<h3 id=\"选择器\"><a href=\"#选择器\" class=\"headerlink\" title=\"选择器\"></a>选择器</h3><ul>\n<li>一个标签有多个类属性时，取到这个标签的时候，多个类属性之间用不用空格隔开，正常表示<pre class=\" language-python\"><code class=\"language-python\">result <span class=\"token operator\">=</span> soup<span class=\"token punctuation\">.</span>select<span class=\"token punctuation\">(</span><span class=\"token string\">'.-live-layout-row.layout_sports_350_650'</span><span class=\"token punctuation\">)</span>\n</code></pre>\n</li>\n</ul>\n<h3 id=\"清除数据库\"><a href=\"#清除数据库\" class=\"headerlink\" title=\"清除数据库\"></a>清除数据库</h3><pre class=\" language-python\"><code class=\"language-python\">清除自增字段，下次创建的时候，id为<span class=\"token number\">1</span>\ntruncate table 名\n</code></pre>\n","site":{"data":{}},"excerpt":"","more":"<h3 id=\"选择器\"><a href=\"#选择器\" class=\"headerlink\" title=\"选择器\"></a>选择器</h3><ul>\n<li>一个标签有多个类属性时，取到这个标签的时候，多个类属性之间用不用空格隔开，正常表示<pre><code class=\"python\">result = soup.select(&#39;.-live-layout-row.layout_sports_350_650&#39;)\n</code></pre>\n</li>\n</ul>\n<h3 id=\"清除数据库\"><a href=\"#清除数据库\" class=\"headerlink\" title=\"清除数据库\"></a>清除数据库</h3><pre><code class=\"python\">清除自增字段，下次创建的时候，id为1\ntruncate table 名\n</code></pre>\n"},{"title":"music","date":"2018-05-01T07:15:06.000Z","author":"smile","img":"/images/AKL.jpg","_content":"\n获取音乐的url，访问的时候，能直接播放音乐的地址\n```python\nimport urllib\nfrom urllib import parse\n\ndef str2url(s):\n    #s = '9hFaF2FF%_Et%m4F4%538t2i%795E%3pF.265E85.%fnF9742Em33e162_36pA.t6661983%x%6%%74%2i2%22735'\n    num_loc = s.find('h')\n    rows = int(s[0:num_loc])\n    strlen = len(s) - num_loc\n    cols = int(strlen/rows)\n    right_rows = strlen % rows\n    new_s = list(s[num_loc:])\n    output = ''\n    for i in range(len(new_s)):\n        x = i % rows\n        y = i / rows\n        p = 0\n        if x <= right_rows:\n            p = x * (cols + 1) + y\n        else:\n            p = right_rows * (cols + 1) + (x - right_rows) * cols + y\n        output += new_s[int(p)]\n    return parse.unquote(output).replace('^', '0')\n\n\ndef main():\n    s = \"6hAFxn752E5F215234uy495-3741E8t%mie15F2E185E%6at%72E%7ba%13t21at27261734458%h3%%-5a885d5pF2m%%11799662E13_D55%E992E48%%8i222%4%59358.Fk1EE5-8bc%7632..FF%5%24_%9_mae58%E513e51\"\n    result_str = str2url(s)\n    print(result_str)\n\nmain()\n\n```\n\n```python\nimport time\nfrom selenium import webdriver\nfrom selenium.common.exceptions import TimeoutException\nfrom selenium.webdriver.common.by import By\nfrom selenium.webdriver.support.ui import WebDriverWait\nfrom selenium.webdriver.support import expected_conditions as EC\nfrom urllib.parse import quote\nfrom lxml import etree\nimport kaisha\nimport requests\n\n\nbrowser = webdriver.Chrome()\n# 等待加载时间\nwait = WebDriverWait(browser, 5)\n\n# 取页面HTML\ndef get_resource(url):\n\n\theaders =  {\n\t\t\"User-Agent\": \"Mozilla/5.0 (Windows NT 6.1; Win64; x64; rv:2.0b13pre) Gecko/20110307 Firefox/4.0b13pre\"\n\t}\n\tresponse = requests.get(url, headers=headers)\n\tif response.status_code == 200:\n\t\ttext = response.content\n\t\treturn text\n\treturn None\n\ndef save_mp3(mp3_url, mp3_title):\n    content = get_resource(mp3_url)\n    with open('./mp3/%s.mp3' % mp3_title, 'wb') as f:\n        f.write(content)\n\ndef get_page():\n    url = \"https://www.xiami.com\"\n    # 访问网址\n    browser.get(url)\n    # 注意下面的presence_of_element_located，容易出错\n    # input = wait.until(EC.presence_of_element_located((By.CSS_SELECTOR, '#key')))\n    # input.clear()\n    # input.send_keys('汽车')\n    button = wait.until(EC.element_to_be_clickable(\n        (By.LINK_TEXT, '回旧版')\n    ))\n    button.click()\n\n    button = wait.until(EC.element_to_be_clickable(\n        (By.XPATH, '//div[@id=\"secondary\"]//div[@class=\"nav\"]/a[2]')\n    ))\n    button.click()\n\n    # 等待加载完成 可以等待某个元素出现\n    # wait.until(EC.text_to_be_present_in_element(((By.XPATH, '//tr[@data-index=\"99\"]/td[@class=\"trackid\"]'), '100')))\n    time.sleep(3)\n    # 拿网页\n    return browser.page_source\n\ndef parse_page(html):\n    etree_html = etree.HTML(html)\n    song_list = etree_html.xpath('//tr[@class=\"songwrapper\"]')\n    for song in song_list:\n        # 取歌曲链接\n        mp3_data = song.xpath('./@data-mp3')[0]\n        mp3_url = kaisha.str2url(mp3_data)\n        # 取歌曲名\n        mp3_title = song.xpath('./@data-title')[0]\n        mp3_title = mp3_title.replace(' ', '')\n        print(mp3_url)\n        print(mp3_title)\n        save_mp3(mp3_url, mp3_title)\n\ndef main():\n    html = get_page()\n    parse_page(html)\n\nif __name__ == '__main__':\n    main()\n\n```","source":"_posts/spider/爬音乐.md","raw":"---\ntitle: music\ndate: 2018-05-01 15:15:06\nauthor: smile\nimg: /images/AKL.jpg\ncategories: spider\ntags: \n  - music\n---\n\n获取音乐的url，访问的时候，能直接播放音乐的地址\n```python\nimport urllib\nfrom urllib import parse\n\ndef str2url(s):\n    #s = '9hFaF2FF%_Et%m4F4%538t2i%795E%3pF.265E85.%fnF9742Em33e162_36pA.t6661983%x%6%%74%2i2%22735'\n    num_loc = s.find('h')\n    rows = int(s[0:num_loc])\n    strlen = len(s) - num_loc\n    cols = int(strlen/rows)\n    right_rows = strlen % rows\n    new_s = list(s[num_loc:])\n    output = ''\n    for i in range(len(new_s)):\n        x = i % rows\n        y = i / rows\n        p = 0\n        if x <= right_rows:\n            p = x * (cols + 1) + y\n        else:\n            p = right_rows * (cols + 1) + (x - right_rows) * cols + y\n        output += new_s[int(p)]\n    return parse.unquote(output).replace('^', '0')\n\n\ndef main():\n    s = \"6hAFxn752E5F215234uy495-3741E8t%mie15F2E185E%6at%72E%7ba%13t21at27261734458%h3%%-5a885d5pF2m%%11799662E13_D55%E992E48%%8i222%4%59358.Fk1EE5-8bc%7632..FF%5%24_%9_mae58%E513e51\"\n    result_str = str2url(s)\n    print(result_str)\n\nmain()\n\n```\n\n```python\nimport time\nfrom selenium import webdriver\nfrom selenium.common.exceptions import TimeoutException\nfrom selenium.webdriver.common.by import By\nfrom selenium.webdriver.support.ui import WebDriverWait\nfrom selenium.webdriver.support import expected_conditions as EC\nfrom urllib.parse import quote\nfrom lxml import etree\nimport kaisha\nimport requests\n\n\nbrowser = webdriver.Chrome()\n# 等待加载时间\nwait = WebDriverWait(browser, 5)\n\n# 取页面HTML\ndef get_resource(url):\n\n\theaders =  {\n\t\t\"User-Agent\": \"Mozilla/5.0 (Windows NT 6.1; Win64; x64; rv:2.0b13pre) Gecko/20110307 Firefox/4.0b13pre\"\n\t}\n\tresponse = requests.get(url, headers=headers)\n\tif response.status_code == 200:\n\t\ttext = response.content\n\t\treturn text\n\treturn None\n\ndef save_mp3(mp3_url, mp3_title):\n    content = get_resource(mp3_url)\n    with open('./mp3/%s.mp3' % mp3_title, 'wb') as f:\n        f.write(content)\n\ndef get_page():\n    url = \"https://www.xiami.com\"\n    # 访问网址\n    browser.get(url)\n    # 注意下面的presence_of_element_located，容易出错\n    # input = wait.until(EC.presence_of_element_located((By.CSS_SELECTOR, '#key')))\n    # input.clear()\n    # input.send_keys('汽车')\n    button = wait.until(EC.element_to_be_clickable(\n        (By.LINK_TEXT, '回旧版')\n    ))\n    button.click()\n\n    button = wait.until(EC.element_to_be_clickable(\n        (By.XPATH, '//div[@id=\"secondary\"]//div[@class=\"nav\"]/a[2]')\n    ))\n    button.click()\n\n    # 等待加载完成 可以等待某个元素出现\n    # wait.until(EC.text_to_be_present_in_element(((By.XPATH, '//tr[@data-index=\"99\"]/td[@class=\"trackid\"]'), '100')))\n    time.sleep(3)\n    # 拿网页\n    return browser.page_source\n\ndef parse_page(html):\n    etree_html = etree.HTML(html)\n    song_list = etree_html.xpath('//tr[@class=\"songwrapper\"]')\n    for song in song_list:\n        # 取歌曲链接\n        mp3_data = song.xpath('./@data-mp3')[0]\n        mp3_url = kaisha.str2url(mp3_data)\n        # 取歌曲名\n        mp3_title = song.xpath('./@data-title')[0]\n        mp3_title = mp3_title.replace(' ', '')\n        print(mp3_url)\n        print(mp3_title)\n        save_mp3(mp3_url, mp3_title)\n\ndef main():\n    html = get_page()\n    parse_page(html)\n\nif __name__ == '__main__':\n    main()\n\n```","slug":"spider/爬音乐","published":1,"updated":"2019-03-14T01:44:40.818Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjt87kqnt003tr8r6n361zx5m","content":"<p>获取音乐的url，访问的时候，能直接播放音乐的地址</p>\n<pre class=\" language-python\"><code class=\"language-python\"><span class=\"token keyword\">import</span> urllib\n<span class=\"token keyword\">from</span> urllib <span class=\"token keyword\">import</span> parse\n\n<span class=\"token keyword\">def</span> <span class=\"token function\">str2url</span><span class=\"token punctuation\">(</span>s<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    <span class=\"token comment\" spellcheck=\"true\">#s = '9hFaF2FF%_Et%m4F4%538t2i%795E%3pF.265E85.%fnF9742Em33e162_36pA.t6661983%x%6%%74%2i2%22735'</span>\n    num_loc <span class=\"token operator\">=</span> s<span class=\"token punctuation\">.</span>find<span class=\"token punctuation\">(</span><span class=\"token string\">'h'</span><span class=\"token punctuation\">)</span>\n    rows <span class=\"token operator\">=</span> int<span class=\"token punctuation\">(</span>s<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">:</span>num_loc<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>\n    strlen <span class=\"token operator\">=</span> len<span class=\"token punctuation\">(</span>s<span class=\"token punctuation\">)</span> <span class=\"token operator\">-</span> num_loc\n    cols <span class=\"token operator\">=</span> int<span class=\"token punctuation\">(</span>strlen<span class=\"token operator\">/</span>rows<span class=\"token punctuation\">)</span>\n    right_rows <span class=\"token operator\">=</span> strlen <span class=\"token operator\">%</span> rows\n    new_s <span class=\"token operator\">=</span> list<span class=\"token punctuation\">(</span>s<span class=\"token punctuation\">[</span>num_loc<span class=\"token punctuation\">:</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>\n    output <span class=\"token operator\">=</span> <span class=\"token string\">''</span>\n    <span class=\"token keyword\">for</span> i <span class=\"token keyword\">in</span> range<span class=\"token punctuation\">(</span>len<span class=\"token punctuation\">(</span>new_s<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n        x <span class=\"token operator\">=</span> i <span class=\"token operator\">%</span> rows\n        y <span class=\"token operator\">=</span> i <span class=\"token operator\">/</span> rows\n        p <span class=\"token operator\">=</span> <span class=\"token number\">0</span>\n        <span class=\"token keyword\">if</span> x <span class=\"token operator\">&lt;=</span> right_rows<span class=\"token punctuation\">:</span>\n            p <span class=\"token operator\">=</span> x <span class=\"token operator\">*</span> <span class=\"token punctuation\">(</span>cols <span class=\"token operator\">+</span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">+</span> y\n        <span class=\"token keyword\">else</span><span class=\"token punctuation\">:</span>\n            p <span class=\"token operator\">=</span> right_rows <span class=\"token operator\">*</span> <span class=\"token punctuation\">(</span>cols <span class=\"token operator\">+</span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">+</span> <span class=\"token punctuation\">(</span>x <span class=\"token operator\">-</span> right_rows<span class=\"token punctuation\">)</span> <span class=\"token operator\">*</span> cols <span class=\"token operator\">+</span> y\n        output <span class=\"token operator\">+=</span> new_s<span class=\"token punctuation\">[</span>int<span class=\"token punctuation\">(</span>p<span class=\"token punctuation\">)</span><span class=\"token punctuation\">]</span>\n    <span class=\"token keyword\">return</span> parse<span class=\"token punctuation\">.</span>unquote<span class=\"token punctuation\">(</span>output<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>replace<span class=\"token punctuation\">(</span><span class=\"token string\">'^'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'0'</span><span class=\"token punctuation\">)</span>\n\n\n<span class=\"token keyword\">def</span> <span class=\"token function\">main</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    s <span class=\"token operator\">=</span> <span class=\"token string\">\"6hAFxn752E5F215234uy495-3741E8t%mie15F2E185E%6at%72E%7ba%13t21at27261734458%h3%%-5a885d5pF2m%%11799662E13_D55%E992E48%%8i222%4%59358.Fk1EE5-8bc%7632..FF%5%24_%9_mae58%E513e51\"</span>\n    result_str <span class=\"token operator\">=</span> str2url<span class=\"token punctuation\">(</span>s<span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>result_str<span class=\"token punctuation\">)</span>\n\nmain<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n\n</code></pre>\n<pre class=\" language-python\"><code class=\"language-python\"><span class=\"token keyword\">import</span> time\n<span class=\"token keyword\">from</span> selenium <span class=\"token keyword\">import</span> webdriver\n<span class=\"token keyword\">from</span> selenium<span class=\"token punctuation\">.</span>common<span class=\"token punctuation\">.</span>exceptions <span class=\"token keyword\">import</span> TimeoutException\n<span class=\"token keyword\">from</span> selenium<span class=\"token punctuation\">.</span>webdriver<span class=\"token punctuation\">.</span>common<span class=\"token punctuation\">.</span>by <span class=\"token keyword\">import</span> By\n<span class=\"token keyword\">from</span> selenium<span class=\"token punctuation\">.</span>webdriver<span class=\"token punctuation\">.</span>support<span class=\"token punctuation\">.</span>ui <span class=\"token keyword\">import</span> WebDriverWait\n<span class=\"token keyword\">from</span> selenium<span class=\"token punctuation\">.</span>webdriver<span class=\"token punctuation\">.</span>support <span class=\"token keyword\">import</span> expected_conditions <span class=\"token keyword\">as</span> EC\n<span class=\"token keyword\">from</span> urllib<span class=\"token punctuation\">.</span>parse <span class=\"token keyword\">import</span> quote\n<span class=\"token keyword\">from</span> lxml <span class=\"token keyword\">import</span> etree\n<span class=\"token keyword\">import</span> kaisha\n<span class=\"token keyword\">import</span> requests\n\n\nbrowser <span class=\"token operator\">=</span> webdriver<span class=\"token punctuation\">.</span>Chrome<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n<span class=\"token comment\" spellcheck=\"true\"># 等待加载时间</span>\nwait <span class=\"token operator\">=</span> WebDriverWait<span class=\"token punctuation\">(</span>browser<span class=\"token punctuation\">,</span> <span class=\"token number\">5</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token comment\" spellcheck=\"true\"># 取页面HTML</span>\n<span class=\"token keyword\">def</span> <span class=\"token function\">get_resource</span><span class=\"token punctuation\">(</span>url<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n\n    headers <span class=\"token operator\">=</span>  <span class=\"token punctuation\">{</span>\n        <span class=\"token string\">\"User-Agent\"</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"Mozilla/5.0 (Windows NT 6.1; Win64; x64; rv:2.0b13pre) Gecko/20110307 Firefox/4.0b13pre\"</span>\n    <span class=\"token punctuation\">}</span>\n    response <span class=\"token operator\">=</span> requests<span class=\"token punctuation\">.</span>get<span class=\"token punctuation\">(</span>url<span class=\"token punctuation\">,</span> headers<span class=\"token operator\">=</span>headers<span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">if</span> response<span class=\"token punctuation\">.</span>status_code <span class=\"token operator\">==</span> <span class=\"token number\">200</span><span class=\"token punctuation\">:</span>\n        text <span class=\"token operator\">=</span> response<span class=\"token punctuation\">.</span>content\n        <span class=\"token keyword\">return</span> text\n    <span class=\"token keyword\">return</span> None\n\n<span class=\"token keyword\">def</span> <span class=\"token function\">save_mp3</span><span class=\"token punctuation\">(</span>mp3_url<span class=\"token punctuation\">,</span> mp3_title<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    content <span class=\"token operator\">=</span> get_resource<span class=\"token punctuation\">(</span>mp3_url<span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">with</span> open<span class=\"token punctuation\">(</span><span class=\"token string\">'./mp3/%s.mp3'</span> <span class=\"token operator\">%</span> mp3_title<span class=\"token punctuation\">,</span> <span class=\"token string\">'wb'</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">as</span> f<span class=\"token punctuation\">:</span>\n        f<span class=\"token punctuation\">.</span>write<span class=\"token punctuation\">(</span>content<span class=\"token punctuation\">)</span>\n\n<span class=\"token keyword\">def</span> <span class=\"token function\">get_page</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    url <span class=\"token operator\">=</span> <span class=\"token string\">\"https://www.xiami.com\"</span>\n    <span class=\"token comment\" spellcheck=\"true\"># 访问网址</span>\n    browser<span class=\"token punctuation\">.</span>get<span class=\"token punctuation\">(</span>url<span class=\"token punctuation\">)</span>\n    <span class=\"token comment\" spellcheck=\"true\"># 注意下面的presence_of_element_located，容易出错</span>\n    <span class=\"token comment\" spellcheck=\"true\"># input = wait.until(EC.presence_of_element_located((By.CSS_SELECTOR, '#key')))</span>\n    <span class=\"token comment\" spellcheck=\"true\"># input.clear()</span>\n    <span class=\"token comment\" spellcheck=\"true\"># input.send_keys('汽车')</span>\n    button <span class=\"token operator\">=</span> wait<span class=\"token punctuation\">.</span>until<span class=\"token punctuation\">(</span>EC<span class=\"token punctuation\">.</span>element_to_be_clickable<span class=\"token punctuation\">(</span>\n        <span class=\"token punctuation\">(</span>By<span class=\"token punctuation\">.</span>LINK_TEXT<span class=\"token punctuation\">,</span> <span class=\"token string\">'回旧版'</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n    button<span class=\"token punctuation\">.</span>click<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n\n    button <span class=\"token operator\">=</span> wait<span class=\"token punctuation\">.</span>until<span class=\"token punctuation\">(</span>EC<span class=\"token punctuation\">.</span>element_to_be_clickable<span class=\"token punctuation\">(</span>\n        <span class=\"token punctuation\">(</span>By<span class=\"token punctuation\">.</span>XPATH<span class=\"token punctuation\">,</span> <span class=\"token string\">'//div[@id=\"secondary\"]//div[@class=\"nav\"]/a[2]'</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n    button<span class=\"token punctuation\">.</span>click<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n\n    <span class=\"token comment\" spellcheck=\"true\"># 等待加载完成 可以等待某个元素出现</span>\n    <span class=\"token comment\" spellcheck=\"true\"># wait.until(EC.text_to_be_present_in_element(((By.XPATH, '//tr[@data-index=\"99\"]/td[@class=\"trackid\"]'), '100')))</span>\n    time<span class=\"token punctuation\">.</span>sleep<span class=\"token punctuation\">(</span><span class=\"token number\">3</span><span class=\"token punctuation\">)</span>\n    <span class=\"token comment\" spellcheck=\"true\"># 拿网页</span>\n    <span class=\"token keyword\">return</span> browser<span class=\"token punctuation\">.</span>page_source\n\n<span class=\"token keyword\">def</span> <span class=\"token function\">parse_page</span><span class=\"token punctuation\">(</span>html<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    etree_html <span class=\"token operator\">=</span> etree<span class=\"token punctuation\">.</span>HTML<span class=\"token punctuation\">(</span>html<span class=\"token punctuation\">)</span>\n    song_list <span class=\"token operator\">=</span> etree_html<span class=\"token punctuation\">.</span>xpath<span class=\"token punctuation\">(</span><span class=\"token string\">'//tr[@class=\"songwrapper\"]'</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">for</span> song <span class=\"token keyword\">in</span> song_list<span class=\"token punctuation\">:</span>\n        <span class=\"token comment\" spellcheck=\"true\"># 取歌曲链接</span>\n        mp3_data <span class=\"token operator\">=</span> song<span class=\"token punctuation\">.</span>xpath<span class=\"token punctuation\">(</span><span class=\"token string\">'./@data-mp3'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span>\n        mp3_url <span class=\"token operator\">=</span> kaisha<span class=\"token punctuation\">.</span>str2url<span class=\"token punctuation\">(</span>mp3_data<span class=\"token punctuation\">)</span>\n        <span class=\"token comment\" spellcheck=\"true\"># 取歌曲名</span>\n        mp3_title <span class=\"token operator\">=</span> song<span class=\"token punctuation\">.</span>xpath<span class=\"token punctuation\">(</span><span class=\"token string\">'./@data-title'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span>\n        mp3_title <span class=\"token operator\">=</span> mp3_title<span class=\"token punctuation\">.</span>replace<span class=\"token punctuation\">(</span><span class=\"token string\">' '</span><span class=\"token punctuation\">,</span> <span class=\"token string\">''</span><span class=\"token punctuation\">)</span>\n        <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>mp3_url<span class=\"token punctuation\">)</span>\n        <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>mp3_title<span class=\"token punctuation\">)</span>\n        save_mp3<span class=\"token punctuation\">(</span>mp3_url<span class=\"token punctuation\">,</span> mp3_title<span class=\"token punctuation\">)</span>\n\n<span class=\"token keyword\">def</span> <span class=\"token function\">main</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    html <span class=\"token operator\">=</span> get_page<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    parse_page<span class=\"token punctuation\">(</span>html<span class=\"token punctuation\">)</span>\n\n<span class=\"token keyword\">if</span> __name__ <span class=\"token operator\">==</span> <span class=\"token string\">'__main__'</span><span class=\"token punctuation\">:</span>\n    main<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n\n</code></pre>\n","site":{"data":{}},"excerpt":"","more":"<p>获取音乐的url，访问的时候，能直接播放音乐的地址</p>\n<pre><code class=\"python\">import urllib\nfrom urllib import parse\n\ndef str2url(s):\n    #s = &#39;9hFaF2FF%_Et%m4F4%538t2i%795E%3pF.265E85.%fnF9742Em33e162_36pA.t6661983%x%6%%74%2i2%22735&#39;\n    num_loc = s.find(&#39;h&#39;)\n    rows = int(s[0:num_loc])\n    strlen = len(s) - num_loc\n    cols = int(strlen/rows)\n    right_rows = strlen % rows\n    new_s = list(s[num_loc:])\n    output = &#39;&#39;\n    for i in range(len(new_s)):\n        x = i % rows\n        y = i / rows\n        p = 0\n        if x &lt;= right_rows:\n            p = x * (cols + 1) + y\n        else:\n            p = right_rows * (cols + 1) + (x - right_rows) * cols + y\n        output += new_s[int(p)]\n    return parse.unquote(output).replace(&#39;^&#39;, &#39;0&#39;)\n\n\ndef main():\n    s = &quot;6hAFxn752E5F215234uy495-3741E8t%mie15F2E185E%6at%72E%7ba%13t21at27261734458%h3%%-5a885d5pF2m%%11799662E13_D55%E992E48%%8i222%4%59358.Fk1EE5-8bc%7632..FF%5%24_%9_mae58%E513e51&quot;\n    result_str = str2url(s)\n    print(result_str)\n\nmain()\n\n</code></pre>\n<pre><code class=\"python\">import time\nfrom selenium import webdriver\nfrom selenium.common.exceptions import TimeoutException\nfrom selenium.webdriver.common.by import By\nfrom selenium.webdriver.support.ui import WebDriverWait\nfrom selenium.webdriver.support import expected_conditions as EC\nfrom urllib.parse import quote\nfrom lxml import etree\nimport kaisha\nimport requests\n\n\nbrowser = webdriver.Chrome()\n# 等待加载时间\nwait = WebDriverWait(browser, 5)\n\n# 取页面HTML\ndef get_resource(url):\n\n    headers =  {\n        &quot;User-Agent&quot;: &quot;Mozilla/5.0 (Windows NT 6.1; Win64; x64; rv:2.0b13pre) Gecko/20110307 Firefox/4.0b13pre&quot;\n    }\n    response = requests.get(url, headers=headers)\n    if response.status_code == 200:\n        text = response.content\n        return text\n    return None\n\ndef save_mp3(mp3_url, mp3_title):\n    content = get_resource(mp3_url)\n    with open(&#39;./mp3/%s.mp3&#39; % mp3_title, &#39;wb&#39;) as f:\n        f.write(content)\n\ndef get_page():\n    url = &quot;https://www.xiami.com&quot;\n    # 访问网址\n    browser.get(url)\n    # 注意下面的presence_of_element_located，容易出错\n    # input = wait.until(EC.presence_of_element_located((By.CSS_SELECTOR, &#39;#key&#39;)))\n    # input.clear()\n    # input.send_keys(&#39;汽车&#39;)\n    button = wait.until(EC.element_to_be_clickable(\n        (By.LINK_TEXT, &#39;回旧版&#39;)\n    ))\n    button.click()\n\n    button = wait.until(EC.element_to_be_clickable(\n        (By.XPATH, &#39;//div[@id=&quot;secondary&quot;]//div[@class=&quot;nav&quot;]/a[2]&#39;)\n    ))\n    button.click()\n\n    # 等待加载完成 可以等待某个元素出现\n    # wait.until(EC.text_to_be_present_in_element(((By.XPATH, &#39;//tr[@data-index=&quot;99&quot;]/td[@class=&quot;trackid&quot;]&#39;), &#39;100&#39;)))\n    time.sleep(3)\n    # 拿网页\n    return browser.page_source\n\ndef parse_page(html):\n    etree_html = etree.HTML(html)\n    song_list = etree_html.xpath(&#39;//tr[@class=&quot;songwrapper&quot;]&#39;)\n    for song in song_list:\n        # 取歌曲链接\n        mp3_data = song.xpath(&#39;./@data-mp3&#39;)[0]\n        mp3_url = kaisha.str2url(mp3_data)\n        # 取歌曲名\n        mp3_title = song.xpath(&#39;./@data-title&#39;)[0]\n        mp3_title = mp3_title.replace(&#39; &#39;, &#39;&#39;)\n        print(mp3_url)\n        print(mp3_title)\n        save_mp3(mp3_url, mp3_title)\n\ndef main():\n    html = get_page()\n    parse_page(html)\n\nif __name__ == &#39;__main__&#39;:\n    main()\n\n</code></pre>\n"},{"title":"CSS属性","date":"2018-01-16T09:52:28.000Z","author":"smile","_content":"\n### 标准流布局\n\n&emsp;&emsp;在标准流中\n\n- 块级标签：是一个占一行，默认宽度是父标签的宽度，默认高度是内容的高度；并且可以设置宽度和高度\n- 行内标签：一行可以显示多个，默认宽高都是内容的高度，设置宽高无效\n- 行内块标签：一行可以显示多个，默认宽高都是内容的高度，设置宽高有效\n\n### display属性\n\n设置标签的性质\n\n- block：将标签设置为块级标签\n- inline-block：将标签设置为行内块标签，可以设置宽高\n- inline：将标签设置为行内标签，不可以设置宽高\n\n### float属性\n\n设置浮动之后，元素会（脱离标准流）脱流\n\n- 效果：消除两个div之间的空白可以用float(浮动)；文字环绕的效果，将被环绕的元素设置为浮动\n- 注意：绝对定位的元素，float属性无效\n\n##### 清除浮动\n\n**1.清除浮动指的是清除因为浮动而产生的高度塌陷问题**\n\n**2.高度塌陷**\n\n- 当父标签不浮动，并且不设置高度，但是子标签浮动的时候，就会产生高度塌陷的问题\n\n**3.清除浮动的方法**\n\n- 添加空的div标签：在父标签的后面添加一个空的div，并且设置样式**clear:both**\n- 在会出现塌陷的标签中设置**overflow:hidden**这个样式\n\n### 盒子模型\n\n分为内容、padding、border、margin四个部分\n\n##### 内容\n\n- 属性\n  - 可见的，设置width和height实质就是设置内容的大小，默认大小与标签中的内容有关\n  - 添加子标签或者设置文字内容都是添加或者显示在内容部分的\n  - 设置背景颜色(background-color)会作用于内容部分\n\n##### padding\n\n- 属性\n  - 可见的，分上下左右四个部分，一般默认都是0\n  - 设置背景颜色(background-color)会作用于padding部分\n- 作用\n  - 设置内容与边界之间的距离\n\n##### border\n\n- 属性\n  - 可见的，分上下左右四个部分，默认为0\n  - border的背景颜色需要单独设置\n- 格式\n  - border：边框样式 边框颜色 边框线的宽度\n  - 线的样式：solid(实线) / double(双实线) / dashed(点划线) / dotted(虚线)\n\n##### margin\n\n- 属性\n  - 不可见，但是占位置；分上下左右四个部分，默认值为0\n\n### 其他属性\n\n##### 字体相关的属性\n- 字体的颜色：color\n- 字体大小：font-size\n- 字体加粗：font-weight（bolder(更粗)、bold（加粗）、normal（常规））\n- 字体倾斜：font-style（italic/oblique/normal )\n- 对齐方式：text-align：left、right、center\n- 垂直方向居中，只针对一行文字：line-height 属性的值与高度设置一样\t\n- 文本修饰：text-decoration（none、underline、overline、line-through）\n- 首行缩进：text-indent（单位 em）\n- 字间距：letter-spacing（像素 px / 空格 em /百分比%）\n- 背景图片：background-image（url（）no-repeat（是否平铺）x 方向的坐标 y 方向的坐标 背景颜色）\n- 设置圆角：border-radius\n\n## CSS动画效果\n\n#### [产生动画效果的参考网址](http://www.runoob.com/cssref/css-animatable.html)\n\n```python\n# 动画的效果，写在内部（head）样式中，通过装饰器来实现效果\n# 设置颜色渐变：\n控制器（用来定位的）{\n    # 定位部分的样式表内容\n\tanimation: 控制器 5s infinite;\n\t-webkit-animation: 控制器 5s infinite;\n}\n@keyframes 控制器{\n\tfrom{background-color: 初始颜色;}\n\tto{background-color: 渐变之后的颜色;}\n}\n@-webkit-keyframes 控制器{\n\tfrom{background-color: 初始颜色;}\n\tto{background-color: 渐变之后的颜色;}\n}\n```\n\n","source":"_posts/前端/CSS属性.md","raw":"---\ntitle: CSS属性\ndate: 2018-01-16 17:52:28\nauthor: smile\ncategories: 前端\ntags: \n  - float\n---\n\n### 标准流布局\n\n&emsp;&emsp;在标准流中\n\n- 块级标签：是一个占一行，默认宽度是父标签的宽度，默认高度是内容的高度；并且可以设置宽度和高度\n- 行内标签：一行可以显示多个，默认宽高都是内容的高度，设置宽高无效\n- 行内块标签：一行可以显示多个，默认宽高都是内容的高度，设置宽高有效\n\n### display属性\n\n设置标签的性质\n\n- block：将标签设置为块级标签\n- inline-block：将标签设置为行内块标签，可以设置宽高\n- inline：将标签设置为行内标签，不可以设置宽高\n\n### float属性\n\n设置浮动之后，元素会（脱离标准流）脱流\n\n- 效果：消除两个div之间的空白可以用float(浮动)；文字环绕的效果，将被环绕的元素设置为浮动\n- 注意：绝对定位的元素，float属性无效\n\n##### 清除浮动\n\n**1.清除浮动指的是清除因为浮动而产生的高度塌陷问题**\n\n**2.高度塌陷**\n\n- 当父标签不浮动，并且不设置高度，但是子标签浮动的时候，就会产生高度塌陷的问题\n\n**3.清除浮动的方法**\n\n- 添加空的div标签：在父标签的后面添加一个空的div，并且设置样式**clear:both**\n- 在会出现塌陷的标签中设置**overflow:hidden**这个样式\n\n### 盒子模型\n\n分为内容、padding、border、margin四个部分\n\n##### 内容\n\n- 属性\n  - 可见的，设置width和height实质就是设置内容的大小，默认大小与标签中的内容有关\n  - 添加子标签或者设置文字内容都是添加或者显示在内容部分的\n  - 设置背景颜色(background-color)会作用于内容部分\n\n##### padding\n\n- 属性\n  - 可见的，分上下左右四个部分，一般默认都是0\n  - 设置背景颜色(background-color)会作用于padding部分\n- 作用\n  - 设置内容与边界之间的距离\n\n##### border\n\n- 属性\n  - 可见的，分上下左右四个部分，默认为0\n  - border的背景颜色需要单独设置\n- 格式\n  - border：边框样式 边框颜色 边框线的宽度\n  - 线的样式：solid(实线) / double(双实线) / dashed(点划线) / dotted(虚线)\n\n##### margin\n\n- 属性\n  - 不可见，但是占位置；分上下左右四个部分，默认值为0\n\n### 其他属性\n\n##### 字体相关的属性\n- 字体的颜色：color\n- 字体大小：font-size\n- 字体加粗：font-weight（bolder(更粗)、bold（加粗）、normal（常规））\n- 字体倾斜：font-style（italic/oblique/normal )\n- 对齐方式：text-align：left、right、center\n- 垂直方向居中，只针对一行文字：line-height 属性的值与高度设置一样\t\n- 文本修饰：text-decoration（none、underline、overline、line-through）\n- 首行缩进：text-indent（单位 em）\n- 字间距：letter-spacing（像素 px / 空格 em /百分比%）\n- 背景图片：background-image（url（）no-repeat（是否平铺）x 方向的坐标 y 方向的坐标 背景颜色）\n- 设置圆角：border-radius\n\n## CSS动画效果\n\n#### [产生动画效果的参考网址](http://www.runoob.com/cssref/css-animatable.html)\n\n```python\n# 动画的效果，写在内部（head）样式中，通过装饰器来实现效果\n# 设置颜色渐变：\n控制器（用来定位的）{\n    # 定位部分的样式表内容\n\tanimation: 控制器 5s infinite;\n\t-webkit-animation: 控制器 5s infinite;\n}\n@keyframes 控制器{\n\tfrom{background-color: 初始颜色;}\n\tto{background-color: 渐变之后的颜色;}\n}\n@-webkit-keyframes 控制器{\n\tfrom{background-color: 初始颜色;}\n\tto{background-color: 渐变之后的颜色;}\n}\n```\n\n","slug":"前端/CSS属性","published":1,"updated":"2019-03-14T01:50:30.885Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjt87kqnz003wr8r6zdhv4bod","content":"<h3 id=\"标准流布局\"><a href=\"#标准流布局\" class=\"headerlink\" title=\"标准流布局\"></a>标准流布局</h3><p>&emsp;&emsp;在标准流中</p>\n<ul>\n<li>块级标签：是一个占一行，默认宽度是父标签的宽度，默认高度是内容的高度；并且可以设置宽度和高度</li>\n<li>行内标签：一行可以显示多个，默认宽高都是内容的高度，设置宽高无效</li>\n<li>行内块标签：一行可以显示多个，默认宽高都是内容的高度，设置宽高有效</li>\n</ul>\n<h3 id=\"display属性\"><a href=\"#display属性\" class=\"headerlink\" title=\"display属性\"></a>display属性</h3><p>设置标签的性质</p>\n<ul>\n<li>block：将标签设置为块级标签</li>\n<li>inline-block：将标签设置为行内块标签，可以设置宽高</li>\n<li>inline：将标签设置为行内标签，不可以设置宽高</li>\n</ul>\n<h3 id=\"float属性\"><a href=\"#float属性\" class=\"headerlink\" title=\"float属性\"></a>float属性</h3><p>设置浮动之后，元素会（脱离标准流）脱流</p>\n<ul>\n<li>效果：消除两个div之间的空白可以用float(浮动)；文字环绕的效果，将被环绕的元素设置为浮动</li>\n<li>注意：绝对定位的元素，float属性无效</li>\n</ul>\n<h5 id=\"清除浮动\"><a href=\"#清除浮动\" class=\"headerlink\" title=\"清除浮动\"></a>清除浮动</h5><p><strong>1.清除浮动指的是清除因为浮动而产生的高度塌陷问题</strong></p>\n<p><strong>2.高度塌陷</strong></p>\n<ul>\n<li>当父标签不浮动，并且不设置高度，但是子标签浮动的时候，就会产生高度塌陷的问题</li>\n</ul>\n<p><strong>3.清除浮动的方法</strong></p>\n<ul>\n<li>添加空的div标签：在父标签的后面添加一个空的div，并且设置样式<strong>clear:both</strong></li>\n<li>在会出现塌陷的标签中设置<strong>overflow:hidden</strong>这个样式</li>\n</ul>\n<h3 id=\"盒子模型\"><a href=\"#盒子模型\" class=\"headerlink\" title=\"盒子模型\"></a>盒子模型</h3><p>分为内容、padding、border、margin四个部分</p>\n<h5 id=\"内容\"><a href=\"#内容\" class=\"headerlink\" title=\"内容\"></a>内容</h5><ul>\n<li>属性<ul>\n<li>可见的，设置width和height实质就是设置内容的大小，默认大小与标签中的内容有关</li>\n<li>添加子标签或者设置文字内容都是添加或者显示在内容部分的</li>\n<li>设置背景颜色(background-color)会作用于内容部分</li>\n</ul>\n</li>\n</ul>\n<h5 id=\"padding\"><a href=\"#padding\" class=\"headerlink\" title=\"padding\"></a>padding</h5><ul>\n<li>属性<ul>\n<li>可见的，分上下左右四个部分，一般默认都是0</li>\n<li>设置背景颜色(background-color)会作用于padding部分</li>\n</ul>\n</li>\n<li>作用<ul>\n<li>设置内容与边界之间的距离</li>\n</ul>\n</li>\n</ul>\n<h5 id=\"border\"><a href=\"#border\" class=\"headerlink\" title=\"border\"></a>border</h5><ul>\n<li>属性<ul>\n<li>可见的，分上下左右四个部分，默认为0</li>\n<li>border的背景颜色需要单独设置</li>\n</ul>\n</li>\n<li>格式<ul>\n<li>border：边框样式 边框颜色 边框线的宽度</li>\n<li>线的样式：solid(实线) / double(双实线) / dashed(点划线) / dotted(虚线)</li>\n</ul>\n</li>\n</ul>\n<h5 id=\"margin\"><a href=\"#margin\" class=\"headerlink\" title=\"margin\"></a>margin</h5><ul>\n<li>属性<ul>\n<li>不可见，但是占位置；分上下左右四个部分，默认值为0</li>\n</ul>\n</li>\n</ul>\n<h3 id=\"其他属性\"><a href=\"#其他属性\" class=\"headerlink\" title=\"其他属性\"></a>其他属性</h3><h5 id=\"字体相关的属性\"><a href=\"#字体相关的属性\" class=\"headerlink\" title=\"字体相关的属性\"></a>字体相关的属性</h5><ul>\n<li>字体的颜色：color</li>\n<li>字体大小：font-size</li>\n<li>字体加粗：font-weight（bolder(更粗)、bold（加粗）、normal（常规））</li>\n<li>字体倾斜：font-style（italic/oblique/normal )</li>\n<li>对齐方式：text-align：left、right、center</li>\n<li>垂直方向居中，只针对一行文字：line-height 属性的值与高度设置一样    </li>\n<li>文本修饰：text-decoration（none、underline、overline、line-through）</li>\n<li>首行缩进：text-indent（单位 em）</li>\n<li>字间距：letter-spacing（像素 px / 空格 em /百分比%）</li>\n<li>背景图片：background-image（url（）no-repeat（是否平铺）x 方向的坐标 y 方向的坐标 背景颜色）</li>\n<li>设置圆角：border-radius</li>\n</ul>\n<h2 id=\"CSS动画效果\"><a href=\"#CSS动画效果\" class=\"headerlink\" title=\"CSS动画效果\"></a>CSS动画效果</h2><h4 id=\"产生动画效果的参考网址\"><a href=\"#产生动画效果的参考网址\" class=\"headerlink\" title=\"产生动画效果的参考网址\"></a><a href=\"http://www.runoob.com/cssref/css-animatable.html\" target=\"_blank\" rel=\"noopener\">产生动画效果的参考网址</a></h4><pre class=\" language-python\"><code class=\"language-python\"><span class=\"token comment\" spellcheck=\"true\"># 动画的效果，写在内部（head）样式中，通过装饰器来实现效果</span>\n<span class=\"token comment\" spellcheck=\"true\"># 设置颜色渐变：</span>\n控制器（用来定位的）<span class=\"token punctuation\">{</span>\n    <span class=\"token comment\" spellcheck=\"true\"># 定位部分的样式表内容</span>\n    animation<span class=\"token punctuation\">:</span> 控制器 5s infinite<span class=\"token punctuation\">;</span>\n    <span class=\"token operator\">-</span>webkit<span class=\"token operator\">-</span>animation<span class=\"token punctuation\">:</span> 控制器 5s infinite<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n@keyframes 控制器<span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">from</span><span class=\"token punctuation\">{</span>background<span class=\"token operator\">-</span>color<span class=\"token punctuation\">:</span> 初始颜色<span class=\"token punctuation\">;</span><span class=\"token punctuation\">}</span>\n    to<span class=\"token punctuation\">{</span>background<span class=\"token operator\">-</span>color<span class=\"token punctuation\">:</span> 渐变之后的颜色<span class=\"token punctuation\">;</span><span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n@<span class=\"token operator\">-</span>webkit<span class=\"token operator\">-</span>keyframes 控制器<span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">from</span><span class=\"token punctuation\">{</span>background<span class=\"token operator\">-</span>color<span class=\"token punctuation\">:</span> 初始颜色<span class=\"token punctuation\">;</span><span class=\"token punctuation\">}</span>\n    to<span class=\"token punctuation\">{</span>background<span class=\"token operator\">-</span>color<span class=\"token punctuation\">:</span> 渐变之后的颜色<span class=\"token punctuation\">;</span><span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n</code></pre>\n","site":{"data":{}},"excerpt":"","more":"<h3 id=\"标准流布局\"><a href=\"#标准流布局\" class=\"headerlink\" title=\"标准流布局\"></a>标准流布局</h3><p>&emsp;&emsp;在标准流中</p>\n<ul>\n<li>块级标签：是一个占一行，默认宽度是父标签的宽度，默认高度是内容的高度；并且可以设置宽度和高度</li>\n<li>行内标签：一行可以显示多个，默认宽高都是内容的高度，设置宽高无效</li>\n<li>行内块标签：一行可以显示多个，默认宽高都是内容的高度，设置宽高有效</li>\n</ul>\n<h3 id=\"display属性\"><a href=\"#display属性\" class=\"headerlink\" title=\"display属性\"></a>display属性</h3><p>设置标签的性质</p>\n<ul>\n<li>block：将标签设置为块级标签</li>\n<li>inline-block：将标签设置为行内块标签，可以设置宽高</li>\n<li>inline：将标签设置为行内标签，不可以设置宽高</li>\n</ul>\n<h3 id=\"float属性\"><a href=\"#float属性\" class=\"headerlink\" title=\"float属性\"></a>float属性</h3><p>设置浮动之后，元素会（脱离标准流）脱流</p>\n<ul>\n<li>效果：消除两个div之间的空白可以用float(浮动)；文字环绕的效果，将被环绕的元素设置为浮动</li>\n<li>注意：绝对定位的元素，float属性无效</li>\n</ul>\n<h5 id=\"清除浮动\"><a href=\"#清除浮动\" class=\"headerlink\" title=\"清除浮动\"></a>清除浮动</h5><p><strong>1.清除浮动指的是清除因为浮动而产生的高度塌陷问题</strong></p>\n<p><strong>2.高度塌陷</strong></p>\n<ul>\n<li>当父标签不浮动，并且不设置高度，但是子标签浮动的时候，就会产生高度塌陷的问题</li>\n</ul>\n<p><strong>3.清除浮动的方法</strong></p>\n<ul>\n<li>添加空的div标签：在父标签的后面添加一个空的div，并且设置样式<strong>clear:both</strong></li>\n<li>在会出现塌陷的标签中设置<strong>overflow:hidden</strong>这个样式</li>\n</ul>\n<h3 id=\"盒子模型\"><a href=\"#盒子模型\" class=\"headerlink\" title=\"盒子模型\"></a>盒子模型</h3><p>分为内容、padding、border、margin四个部分</p>\n<h5 id=\"内容\"><a href=\"#内容\" class=\"headerlink\" title=\"内容\"></a>内容</h5><ul>\n<li>属性<ul>\n<li>可见的，设置width和height实质就是设置内容的大小，默认大小与标签中的内容有关</li>\n<li>添加子标签或者设置文字内容都是添加或者显示在内容部分的</li>\n<li>设置背景颜色(background-color)会作用于内容部分</li>\n</ul>\n</li>\n</ul>\n<h5 id=\"padding\"><a href=\"#padding\" class=\"headerlink\" title=\"padding\"></a>padding</h5><ul>\n<li>属性<ul>\n<li>可见的，分上下左右四个部分，一般默认都是0</li>\n<li>设置背景颜色(background-color)会作用于padding部分</li>\n</ul>\n</li>\n<li>作用<ul>\n<li>设置内容与边界之间的距离</li>\n</ul>\n</li>\n</ul>\n<h5 id=\"border\"><a href=\"#border\" class=\"headerlink\" title=\"border\"></a>border</h5><ul>\n<li>属性<ul>\n<li>可见的，分上下左右四个部分，默认为0</li>\n<li>border的背景颜色需要单独设置</li>\n</ul>\n</li>\n<li>格式<ul>\n<li>border：边框样式 边框颜色 边框线的宽度</li>\n<li>线的样式：solid(实线) / double(双实线) / dashed(点划线) / dotted(虚线)</li>\n</ul>\n</li>\n</ul>\n<h5 id=\"margin\"><a href=\"#margin\" class=\"headerlink\" title=\"margin\"></a>margin</h5><ul>\n<li>属性<ul>\n<li>不可见，但是占位置；分上下左右四个部分，默认值为0</li>\n</ul>\n</li>\n</ul>\n<h3 id=\"其他属性\"><a href=\"#其他属性\" class=\"headerlink\" title=\"其他属性\"></a>其他属性</h3><h5 id=\"字体相关的属性\"><a href=\"#字体相关的属性\" class=\"headerlink\" title=\"字体相关的属性\"></a>字体相关的属性</h5><ul>\n<li>字体的颜色：color</li>\n<li>字体大小：font-size</li>\n<li>字体加粗：font-weight（bolder(更粗)、bold（加粗）、normal（常规））</li>\n<li>字体倾斜：font-style（italic/oblique/normal )</li>\n<li>对齐方式：text-align：left、right、center</li>\n<li>垂直方向居中，只针对一行文字：line-height 属性的值与高度设置一样    </li>\n<li>文本修饰：text-decoration（none、underline、overline、line-through）</li>\n<li>首行缩进：text-indent（单位 em）</li>\n<li>字间距：letter-spacing（像素 px / 空格 em /百分比%）</li>\n<li>背景图片：background-image（url（）no-repeat（是否平铺）x 方向的坐标 y 方向的坐标 背景颜色）</li>\n<li>设置圆角：border-radius</li>\n</ul>\n<h2 id=\"CSS动画效果\"><a href=\"#CSS动画效果\" class=\"headerlink\" title=\"CSS动画效果\"></a>CSS动画效果</h2><h4 id=\"产生动画效果的参考网址\"><a href=\"#产生动画效果的参考网址\" class=\"headerlink\" title=\"产生动画效果的参考网址\"></a><a href=\"http://www.runoob.com/cssref/css-animatable.html\" target=\"_blank\" rel=\"noopener\">产生动画效果的参考网址</a></h4><pre><code class=\"python\"># 动画的效果，写在内部（head）样式中，通过装饰器来实现效果\n# 设置颜色渐变：\n控制器（用来定位的）{\n    # 定位部分的样式表内容\n    animation: 控制器 5s infinite;\n    -webkit-animation: 控制器 5s infinite;\n}\n@keyframes 控制器{\n    from{background-color: 初始颜色;}\n    to{background-color: 渐变之后的颜色;}\n}\n@-webkit-keyframes 控制器{\n    from{background-color: 初始颜色;}\n    to{background-color: 渐变之后的颜色;}\n}\n</code></pre>\n"},{"title":"CSS样式表","date":"2018-01-22T09:54:31.000Z","author":"smile","_content":"\n## CSS显示\n\n&emsp;&emsp;css 是 web 标准中的表现标准，专门用来对网页标签进行布局和设置样式的一门语言，目前使用css3，css 又名层叠样式表.\n\n#### CSS代码的位置\n\n**1.内联样式**\n\n&emsp;&emsp;将样式表写在标签的 style 的属性中\n\n**2.内部样式**\n\n&emsp;&emsp;将样式表也在 head 中的 style 中的标签中，只可用于当前的 html 文件\n\n**3.外部样式**\n\n&emsp;&emsp;在外面新建一个 css 后缀的样式文件，并通过 link 引入到 html 文件中，可用于所有的 html 文件中\n\n```html\nlink标签：\n作用：导入外部文件\n用法：\n<link rel=\"stylesheet\" type=\"text/css\" href=\"theme.css\">\n\trel：说明属性的功能\n\ttype：设置导入文件的类型\n\thref：导入的 css 文件的位置\n```\n\n#### CSS基本语法\n\n&emsp;&emsp;选择器{属性:属性值:属性:属性值:多个属性}\n说明：\n​\t选择器：用来选中/确定需要设置样式的标签\n​\t属性与属性值之间用冒号连接；属性与属性之间用分号隔开\n\n- 注释：/* 用来解释代码，但不执行 */\n- 颜色表示\n  - 颜色的英文单词\n  - ‘#’ + 颜色的十六进制值\n  - rgb(r, g, b)或者 rgba (r, g, b, alpha); r/g/b 的范围(0,255),alpha 范围(0,1)\n- 常用的属性\n\n![常用的属性](CSS样式表\\常用的属性.png)\n\n#### CSS选择器\n\n```html\n作用：选中需要添加样式的标签\n内联样式优先级最高\n\n优先级1：1.就近原则；2.具体性原则；3.重要性原则（!important）\n\n优先级2：权重值越大，优先级越高\n权重：元素选择器（1）、id 选择器（4）、类选择器（2）、群组选择器（看单独一个）、父子选择器（所有选择器权重之和）、为类选择器（1）\n```\n\n- 元素选择器\n  - 注解：将标签名作为选择器，选中所有指定的标签\n  - 用法：标签名{样式}\n- id选择器\n  - 注解：通过标签的 id 属性，来定位到某一个特定的标签，或者所有相同 id 的标签，并设置样式\n  - 用法：#id{样式}\n- class选择器\n  - 注解：将标签的类属性作为定位的标准，将所有带有这个类的标签选出来，并设置样式\n  - 用法：\t点类选择器{样式}\n- 群组选择器\n  - 注解：多个选择器之间用逗号隔开作为一个选择器，同时选中所有的选择器对应的标签\n  - 用法：#id，p,div{样式}\n- 后代选择器\n  - 注解：又名包含选择器/父子选择器，可以多类选择器进行组合\n  - 用法：用来选择特定元素或元素组的后代，将对父元素的选择放在前面，对子元素的选择放在后面，中间加一个空格分开。后代选择器中的元素不仅仅只能有两个，对于多层祖先后代关系，可以有多个空格加以分开，如id为a、b、c的三个元素，则后代选择器可以写成#a #b #c{}的形式，只要对祖先元素的选择在后代元素之前、中间以空格分开即可。\n- 子选择器\n  - 注解：请注意这个选择器与后代选择器的区别，子选择器（child selector）仅是指它的直接后代，或者你可以理解为作用于子元素的第一个后代。而后代选择器是作用于所有子后代元素。\n  - 用法：后代选择器通过空格来进行选择，而子选择器是通过“>”进行选择。\n- 伪类选择器\n  - \n  - 注解：选中某个标签的不同状态，可以给不同状态设置不同的样式\n  - 用法：\n    - a:Link    表示链接在没有被点击时的样式,选中所有 a 标签的初始状态,并设置标签原来的样式\n    - ‘#’a:Visited   表示链接已经被访问后的样式，选中所有 id 为 a 的标签，并设置访问后的样式\n    - .b:Hover    表示当鼠标悬停在链接上面时的样式,选中所有的类属性为 b 的标签，并设置鼠标悬停时的样式\n    - a:active    表示链接被激活即鼠标按下不放时的状态，选中所有 a 标签，并设置鼠标按下不放时的样式\n- 通用选择器\n  - 注解：通用选择器用（*）来表示。\n  - 用法：*{样式}\n- 兄弟选择器\n  - 注解：选取相邻间的标签\n  - 用法：+和~的区别：类似上面一个，两者都表示兄弟关系，但是+必须是“大哥+二哥”，~还能是“大哥~三弟”、“二哥~四妹”\n- 属性选择器\n  - 注解：属性选择器，是根据元素的属性来匹配的，其属性可以是标准属性也可以是自定义属性；!ie6，0 0 1 0；当然，也可以同时匹配多个属性；\n  - 用法:\n\n```html\nattr=val {margin-right: 10px}\n  //选择属性 title 的值等于 this 的所有元素\n  attr^=val {margin-left: 15px}\n  //选择属性title的值以this开头的所有元素\n```","source":"_posts/前端/CSS样式表.md","raw":"---\ntitle: CSS样式表\ndate: 2018-01-22 17:54:31\nauthor: smile\ncategories: 前端\ntags: \n  - 选择器\n---\n\n## CSS显示\n\n&emsp;&emsp;css 是 web 标准中的表现标准，专门用来对网页标签进行布局和设置样式的一门语言，目前使用css3，css 又名层叠样式表.\n\n#### CSS代码的位置\n\n**1.内联样式**\n\n&emsp;&emsp;将样式表写在标签的 style 的属性中\n\n**2.内部样式**\n\n&emsp;&emsp;将样式表也在 head 中的 style 中的标签中，只可用于当前的 html 文件\n\n**3.外部样式**\n\n&emsp;&emsp;在外面新建一个 css 后缀的样式文件，并通过 link 引入到 html 文件中，可用于所有的 html 文件中\n\n```html\nlink标签：\n作用：导入外部文件\n用法：\n<link rel=\"stylesheet\" type=\"text/css\" href=\"theme.css\">\n\trel：说明属性的功能\n\ttype：设置导入文件的类型\n\thref：导入的 css 文件的位置\n```\n\n#### CSS基本语法\n\n&emsp;&emsp;选择器{属性:属性值:属性:属性值:多个属性}\n说明：\n​\t选择器：用来选中/确定需要设置样式的标签\n​\t属性与属性值之间用冒号连接；属性与属性之间用分号隔开\n\n- 注释：/* 用来解释代码，但不执行 */\n- 颜色表示\n  - 颜色的英文单词\n  - ‘#’ + 颜色的十六进制值\n  - rgb(r, g, b)或者 rgba (r, g, b, alpha); r/g/b 的范围(0,255),alpha 范围(0,1)\n- 常用的属性\n\n![常用的属性](CSS样式表\\常用的属性.png)\n\n#### CSS选择器\n\n```html\n作用：选中需要添加样式的标签\n内联样式优先级最高\n\n优先级1：1.就近原则；2.具体性原则；3.重要性原则（!important）\n\n优先级2：权重值越大，优先级越高\n权重：元素选择器（1）、id 选择器（4）、类选择器（2）、群组选择器（看单独一个）、父子选择器（所有选择器权重之和）、为类选择器（1）\n```\n\n- 元素选择器\n  - 注解：将标签名作为选择器，选中所有指定的标签\n  - 用法：标签名{样式}\n- id选择器\n  - 注解：通过标签的 id 属性，来定位到某一个特定的标签，或者所有相同 id 的标签，并设置样式\n  - 用法：#id{样式}\n- class选择器\n  - 注解：将标签的类属性作为定位的标准，将所有带有这个类的标签选出来，并设置样式\n  - 用法：\t点类选择器{样式}\n- 群组选择器\n  - 注解：多个选择器之间用逗号隔开作为一个选择器，同时选中所有的选择器对应的标签\n  - 用法：#id，p,div{样式}\n- 后代选择器\n  - 注解：又名包含选择器/父子选择器，可以多类选择器进行组合\n  - 用法：用来选择特定元素或元素组的后代，将对父元素的选择放在前面，对子元素的选择放在后面，中间加一个空格分开。后代选择器中的元素不仅仅只能有两个，对于多层祖先后代关系，可以有多个空格加以分开，如id为a、b、c的三个元素，则后代选择器可以写成#a #b #c{}的形式，只要对祖先元素的选择在后代元素之前、中间以空格分开即可。\n- 子选择器\n  - 注解：请注意这个选择器与后代选择器的区别，子选择器（child selector）仅是指它的直接后代，或者你可以理解为作用于子元素的第一个后代。而后代选择器是作用于所有子后代元素。\n  - 用法：后代选择器通过空格来进行选择，而子选择器是通过“>”进行选择。\n- 伪类选择器\n  - \n  - 注解：选中某个标签的不同状态，可以给不同状态设置不同的样式\n  - 用法：\n    - a:Link    表示链接在没有被点击时的样式,选中所有 a 标签的初始状态,并设置标签原来的样式\n    - ‘#’a:Visited   表示链接已经被访问后的样式，选中所有 id 为 a 的标签，并设置访问后的样式\n    - .b:Hover    表示当鼠标悬停在链接上面时的样式,选中所有的类属性为 b 的标签，并设置鼠标悬停时的样式\n    - a:active    表示链接被激活即鼠标按下不放时的状态，选中所有 a 标签，并设置鼠标按下不放时的样式\n- 通用选择器\n  - 注解：通用选择器用（*）来表示。\n  - 用法：*{样式}\n- 兄弟选择器\n  - 注解：选取相邻间的标签\n  - 用法：+和~的区别：类似上面一个，两者都表示兄弟关系，但是+必须是“大哥+二哥”，~还能是“大哥~三弟”、“二哥~四妹”\n- 属性选择器\n  - 注解：属性选择器，是根据元素的属性来匹配的，其属性可以是标准属性也可以是自定义属性；!ie6，0 0 1 0；当然，也可以同时匹配多个属性；\n  - 用法:\n\n```html\nattr=val {margin-right: 10px}\n  //选择属性 title 的值等于 this 的所有元素\n  attr^=val {margin-left: 15px}\n  //选择属性title的值以this开头的所有元素\n```","slug":"前端/CSS样式表","published":1,"updated":"2019-03-14T01:50:19.236Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjt87kqo4003yr8r6my407jps","content":"<h2 id=\"CSS显示\"><a href=\"#CSS显示\" class=\"headerlink\" title=\"CSS显示\"></a>CSS显示</h2><p>&emsp;&emsp;css 是 web 标准中的表现标准，专门用来对网页标签进行布局和设置样式的一门语言，目前使用css3，css 又名层叠样式表.</p>\n<h4 id=\"CSS代码的位置\"><a href=\"#CSS代码的位置\" class=\"headerlink\" title=\"CSS代码的位置\"></a>CSS代码的位置</h4><p><strong>1.内联样式</strong></p>\n<p>&emsp;&emsp;将样式表写在标签的 style 的属性中</p>\n<p><strong>2.内部样式</strong></p>\n<p>&emsp;&emsp;将样式表也在 head 中的 style 中的标签中，只可用于当前的 html 文件</p>\n<p><strong>3.外部样式</strong></p>\n<p>&emsp;&emsp;在外面新建一个 css 后缀的样式文件，并通过 link 引入到 html 文件中，可用于所有的 html 文件中</p>\n<pre class=\" language-html\"><code class=\"language-html\">link标签：\n作用：导入外部文件\n用法：\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>link</span> <span class=\"token attr-name\">rel</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>stylesheet<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">type</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>text/css<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">href</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>theme.css<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n    rel：说明属性的功能\n    type：设置导入文件的类型\n    href：导入的 css 文件的位置\n</code></pre>\n<h4 id=\"CSS基本语法\"><a href=\"#CSS基本语法\" class=\"headerlink\" title=\"CSS基本语法\"></a>CSS基本语法</h4><p>&emsp;&emsp;选择器{属性:属性值:属性:属性值:多个属性}<br>说明：<br>​    选择器：用来选中/确定需要设置样式的标签<br>​    属性与属性值之间用冒号连接；属性与属性之间用分号隔开</p>\n<ul>\n<li>注释：/<em> 用来解释代码，但不执行 </em>/</li>\n<li>颜色表示<ul>\n<li>颜色的英文单词</li>\n<li>‘#’ + 颜色的十六进制值</li>\n<li>rgb(r, g, b)或者 rgba (r, g, b, alpha); r/g/b 的范围(0,255),alpha 范围(0,1)</li>\n</ul>\n</li>\n<li>常用的属性</li>\n</ul>\n<p><img src=\"/2018/01/22/前端/CSS样式表/常用的属性.png\" alt=\"常用的属性\"></p>\n<h4 id=\"CSS选择器\"><a href=\"#CSS选择器\" class=\"headerlink\" title=\"CSS选择器\"></a>CSS选择器</h4><pre class=\" language-html\"><code class=\"language-html\">作用：选中需要添加样式的标签\n内联样式优先级最高\n\n优先级1：1.就近原则；2.具体性原则；3.重要性原则（!important）\n\n优先级2：权重值越大，优先级越高\n权重：元素选择器（1）、id 选择器（4）、类选择器（2）、群组选择器（看单独一个）、父子选择器（所有选择器权重之和）、为类选择器（1）\n</code></pre>\n<ul>\n<li>元素选择器<ul>\n<li>注解：将标签名作为选择器，选中所有指定的标签</li>\n<li>用法：标签名{样式}</li>\n</ul>\n</li>\n<li>id选择器<ul>\n<li>注解：通过标签的 id 属性，来定位到某一个特定的标签，或者所有相同 id 的标签，并设置样式</li>\n<li>用法：#id{样式}</li>\n</ul>\n</li>\n<li>class选择器<ul>\n<li>注解：将标签的类属性作为定位的标准，将所有带有这个类的标签选出来，并设置样式</li>\n<li>用法：    点类选择器{样式}</li>\n</ul>\n</li>\n<li>群组选择器<ul>\n<li>注解：多个选择器之间用逗号隔开作为一个选择器，同时选中所有的选择器对应的标签</li>\n<li>用法：#id，p,div{样式}</li>\n</ul>\n</li>\n<li>后代选择器<ul>\n<li>注解：又名包含选择器/父子选择器，可以多类选择器进行组合</li>\n<li>用法：用来选择特定元素或元素组的后代，将对父元素的选择放在前面，对子元素的选择放在后面，中间加一个空格分开。后代选择器中的元素不仅仅只能有两个，对于多层祖先后代关系，可以有多个空格加以分开，如id为a、b、c的三个元素，则后代选择器可以写成#a #b #c{}的形式，只要对祖先元素的选择在后代元素之前、中间以空格分开即可。</li>\n</ul>\n</li>\n<li>子选择器<ul>\n<li>注解：请注意这个选择器与后代选择器的区别，子选择器（child selector）仅是指它的直接后代，或者你可以理解为作用于子元素的第一个后代。而后代选择器是作用于所有子后代元素。</li>\n<li>用法：后代选择器通过空格来进行选择，而子选择器是通过“&gt;”进行选择。</li>\n</ul>\n</li>\n<li>伪类选择器<ul>\n<li></li>\n<li>注解：选中某个标签的不同状态，可以给不同状态设置不同的样式</li>\n<li>用法：<ul>\n<li>a:Link    表示链接在没有被点击时的样式,选中所有 a 标签的初始状态,并设置标签原来的样式</li>\n<li>‘#’a:Visited   表示链接已经被访问后的样式，选中所有 id 为 a 的标签，并设置访问后的样式</li>\n<li>.b:Hover    表示当鼠标悬停在链接上面时的样式,选中所有的类属性为 b 的标签，并设置鼠标悬停时的样式</li>\n<li>a:active    表示链接被激活即鼠标按下不放时的状态，选中所有 a 标签，并设置鼠标按下不放时的样式</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>通用选择器<ul>\n<li>注解：通用选择器用（*）来表示。</li>\n<li>用法：*{样式}</li>\n</ul>\n</li>\n<li>兄弟选择器<ul>\n<li>注解：选取相邻间的标签</li>\n<li>用法：+和~的区别：类似上面一个，两者都表示兄弟关系，但是+必须是“大哥+二哥”，~还能是“大哥~三弟”、“二哥~四妹”</li>\n</ul>\n</li>\n<li>属性选择器<ul>\n<li>注解：属性选择器，是根据元素的属性来匹配的，其属性可以是标准属性也可以是自定义属性；!ie6，0 0 1 0；当然，也可以同时匹配多个属性；</li>\n<li>用法:</li>\n</ul>\n</li>\n</ul>\n<pre class=\" language-html\"><code class=\"language-html\">attr=val {margin-right: 10px}\n  //选择属性 title 的值等于 this 的所有元素\n  attr^=val {margin-left: 15px}\n  //选择属性title的值以this开头的所有元素\n</code></pre>\n","site":{"data":{}},"excerpt":"","more":"<h2 id=\"CSS显示\"><a href=\"#CSS显示\" class=\"headerlink\" title=\"CSS显示\"></a>CSS显示</h2><p>&emsp;&emsp;css 是 web 标准中的表现标准，专门用来对网页标签进行布局和设置样式的一门语言，目前使用css3，css 又名层叠样式表.</p>\n<h4 id=\"CSS代码的位置\"><a href=\"#CSS代码的位置\" class=\"headerlink\" title=\"CSS代码的位置\"></a>CSS代码的位置</h4><p><strong>1.内联样式</strong></p>\n<p>&emsp;&emsp;将样式表写在标签的 style 的属性中</p>\n<p><strong>2.内部样式</strong></p>\n<p>&emsp;&emsp;将样式表也在 head 中的 style 中的标签中，只可用于当前的 html 文件</p>\n<p><strong>3.外部样式</strong></p>\n<p>&emsp;&emsp;在外面新建一个 css 后缀的样式文件，并通过 link 引入到 html 文件中，可用于所有的 html 文件中</p>\n<pre><code class=\"html\">link标签：\n作用：导入外部文件\n用法：\n&lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; href=&quot;theme.css&quot;&gt;\n    rel：说明属性的功能\n    type：设置导入文件的类型\n    href：导入的 css 文件的位置\n</code></pre>\n<h4 id=\"CSS基本语法\"><a href=\"#CSS基本语法\" class=\"headerlink\" title=\"CSS基本语法\"></a>CSS基本语法</h4><p>&emsp;&emsp;选择器{属性:属性值:属性:属性值:多个属性}<br>说明：<br>​    选择器：用来选中/确定需要设置样式的标签<br>​    属性与属性值之间用冒号连接；属性与属性之间用分号隔开</p>\n<ul>\n<li>注释：/<em> 用来解释代码，但不执行 </em>/</li>\n<li>颜色表示<ul>\n<li>颜色的英文单词</li>\n<li>‘#’ + 颜色的十六进制值</li>\n<li>rgb(r, g, b)或者 rgba (r, g, b, alpha); r/g/b 的范围(0,255),alpha 范围(0,1)</li>\n</ul>\n</li>\n<li>常用的属性</li>\n</ul>\n<p><img src=\"/2018/01/22/前端/CSS样式表/常用的属性.png\" alt=\"常用的属性\"></p>\n<h4 id=\"CSS选择器\"><a href=\"#CSS选择器\" class=\"headerlink\" title=\"CSS选择器\"></a>CSS选择器</h4><pre><code class=\"html\">作用：选中需要添加样式的标签\n内联样式优先级最高\n\n优先级1：1.就近原则；2.具体性原则；3.重要性原则（!important）\n\n优先级2：权重值越大，优先级越高\n权重：元素选择器（1）、id 选择器（4）、类选择器（2）、群组选择器（看单独一个）、父子选择器（所有选择器权重之和）、为类选择器（1）\n</code></pre>\n<ul>\n<li>元素选择器<ul>\n<li>注解：将标签名作为选择器，选中所有指定的标签</li>\n<li>用法：标签名{样式}</li>\n</ul>\n</li>\n<li>id选择器<ul>\n<li>注解：通过标签的 id 属性，来定位到某一个特定的标签，或者所有相同 id 的标签，并设置样式</li>\n<li>用法：#id{样式}</li>\n</ul>\n</li>\n<li>class选择器<ul>\n<li>注解：将标签的类属性作为定位的标准，将所有带有这个类的标签选出来，并设置样式</li>\n<li>用法：    点类选择器{样式}</li>\n</ul>\n</li>\n<li>群组选择器<ul>\n<li>注解：多个选择器之间用逗号隔开作为一个选择器，同时选中所有的选择器对应的标签</li>\n<li>用法：#id，p,div{样式}</li>\n</ul>\n</li>\n<li>后代选择器<ul>\n<li>注解：又名包含选择器/父子选择器，可以多类选择器进行组合</li>\n<li>用法：用来选择特定元素或元素组的后代，将对父元素的选择放在前面，对子元素的选择放在后面，中间加一个空格分开。后代选择器中的元素不仅仅只能有两个，对于多层祖先后代关系，可以有多个空格加以分开，如id为a、b、c的三个元素，则后代选择器可以写成#a #b #c{}的形式，只要对祖先元素的选择在后代元素之前、中间以空格分开即可。</li>\n</ul>\n</li>\n<li>子选择器<ul>\n<li>注解：请注意这个选择器与后代选择器的区别，子选择器（child selector）仅是指它的直接后代，或者你可以理解为作用于子元素的第一个后代。而后代选择器是作用于所有子后代元素。</li>\n<li>用法：后代选择器通过空格来进行选择，而子选择器是通过“&gt;”进行选择。</li>\n</ul>\n</li>\n<li>伪类选择器<ul>\n<li></li>\n<li>注解：选中某个标签的不同状态，可以给不同状态设置不同的样式</li>\n<li>用法：<ul>\n<li>a:Link    表示链接在没有被点击时的样式,选中所有 a 标签的初始状态,并设置标签原来的样式</li>\n<li>‘#’a:Visited   表示链接已经被访问后的样式，选中所有 id 为 a 的标签，并设置访问后的样式</li>\n<li>.b:Hover    表示当鼠标悬停在链接上面时的样式,选中所有的类属性为 b 的标签，并设置鼠标悬停时的样式</li>\n<li>a:active    表示链接被激活即鼠标按下不放时的状态，选中所有 a 标签，并设置鼠标按下不放时的样式</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>通用选择器<ul>\n<li>注解：通用选择器用（*）来表示。</li>\n<li>用法：*{样式}</li>\n</ul>\n</li>\n<li>兄弟选择器<ul>\n<li>注解：选取相邻间的标签</li>\n<li>用法：+和~的区别：类似上面一个，两者都表示兄弟关系，但是+必须是“大哥+二哥”，~还能是“大哥~三弟”、“二哥~四妹”</li>\n</ul>\n</li>\n<li>属性选择器<ul>\n<li>注解：属性选择器，是根据元素的属性来匹配的，其属性可以是标准属性也可以是自定义属性；!ie6，0 0 1 0；当然，也可以同时匹配多个属性；</li>\n<li>用法:</li>\n</ul>\n</li>\n</ul>\n<pre><code class=\"html\">attr=val {margin-right: 10px}\n  //选择属性 title 的值等于 this 的所有元素\n  attr^=val {margin-left: 15px}\n  //选择属性title的值以this开头的所有元素\n</code></pre>\n"},{"title":"HTML","date":"2018-03-29T12:23:37.000Z","author":"smile","_content":"\n```html\nHTML，CSS，JavaScript\nHTML：超文本标记语言，结构样式表，决定网页的结构\nCSS:表现样式表/层叠样式表，决定网页的样式和布局\nJavaScript：行为样式表，决定网页中的行为和动作变化\n```\n\n### HTML的一些特性\n\n- HTML对大小写不敏感\n\n##### 新增的特性：\n\n**1.引入原生多媒体支持（audio和video标签）**\n\n**2.引入可编程内容（canvas标签）**\n\n**3.引入语义Web（article文章、aside撇开、details细节、figure图、footer页脚、header页眉、nav导航、section部分、summary摘要，等标签）**\n\n**4.引入新的表单控件（日历、邮箱、搜索、滑条等）**\n\n**5.引入对离线存储更好的支持（localStorage和sessionStorage）**\n\n**6.引入对定位、拖放、WebSocket、后台任务等的支持**\n\n### < !DOCTYPE heml >\n\n表示HTML的一个版本，这个一般不用改动\n\n### head标签\n\n- **title：**\n  - 设置网页标题\n  - 一个HTML文件中，只能出现一个title标签\n- **meta：**单标签；变换，变化；设置字符编码方式（设置网页元数据（Metadata））；元数据可以被用于浏览器，搜索引擎，或者其他web服务\n  - **charset=‘utf-8’ **           设置编码方式\n  - **name：**< meat name=\" \" content=\" \">\n    - **keywords: **设置关键字，用于搜索引擎\n    - **description：**网站页面内容的描述\n    - **author：**网站页面作者\n    - **viewport：**移动端的窗口\n    - **robots：**定义搜索引擎爬虫的索引方式\n- **link：**用于链接外部样式表\n  - link元素是空元素，它只有属性\n  - 只可以在head部分中出现，可多次出现\n  - 属性\n    - **href **  链接文档的地址\n    - **hreflang **   链接文档中文本的语言\n    - **media **   链接文档将显示在什么设备上\n    - **rel**    定义文档与被链接文档之间的关系（必不可少）\n\n```python\n引入CSS样式表\n<link rel=\"stylesheet\" type=\"text/css\" href=\"css/index.css\"/>\n引入图片\n<link rel=\"icon\" type=\"image/ico\" href=\"img/icon.ico\"/>\n```\n\n- **base：**单标签\n  - 定义页面链接标签和链接地址\n  - 位于head元素内部，在一个文档 中最多只能使用一个\n  - base标签必须有href属性或者target属性或者都有\n  - base标签没有结束标签\n  - 不支持任何的事件属性\n- **style：**定义HTML文档的样式文件\n- **script：**\n  - 定义客户端的脚本文件\n  - 通常用于图像操作、表单验证以及动态内容更改\n  - 属性：charset、defer、src、type\n\n### body\n\nbody中的内容在网页中都是可见的；body中的标签多个属性之间用空格隔开，属性与属性值之间用冒号连接\n\n- 特殊标签\n  - [资料1](https://blog.csdn.net/haocm66/article/details/80839128)\n  - [资料2](http://www.w3school.com.cn/tags/html_ref_symbols.html)\n  - 换行 ---------- < br >\n  - 缩进\n    - 一个tab的距离 ---------- &emsp；\n    - 一个空格的距离 ----------- & nbsp;\n  - 加粗 ---------- b / strong(附带强调的效果)\n  - 倾斜 ---------- i / em (附带强调的效果)\n  - 水平线 ---------- < hr >\n\n![特殊字符表示](HTML\\特殊字符表示.png)\n\n- 标题标签\n  - h1-h6：< h1 >文本内容< h1 >\n- 段落标签\n  - 格式：< p >文本内容< /p >\n  - 一个段落，一个p标签\n- 列表标签\n  - 有序列表\n    - ol 标签 ---------- 代表整个列表\n    - li 标签 ---------- 代表列表中的元素\n  - 无序列表\n    - ul 标签 ---------- 代表整个列表\n    - li 标签 ---------- 代表列表中的元素\n  - 自定义列表\n    - dl 标签 ---------- 代表整个列表\n    - dt 标签 ---------- 代表列表中的分组名\n    - dd 标签 ---------- 代表列表中的分组内容\n- 图片标签\n  - 单标签\n  - 格式：< img src=\" \" >\n  - src ---------- 表示图片的来源地址，可以是本地地址，可以是网络地址(直接拷贝图片地址)，可以是相对路径，可以是绝对路径\n  - title ---------- 设置图片的标题，可以对图片进行解释\n  - alt ---------- 设置加载失败的提示信息\n- 超链接标签\n  - 格式：< a href=\" \">内容< /a >\n  - 内容可以是文字，也可以是图片，也可以是其它的链接\n  - href 决定跳转的位置\n    - 可以是一个网址；\n    - 也可以是本地的HTML文件地址；\n    - 如果 href 为空，表示刷新页面；\n    - 如果是选择器，则表示在当前页面内发生跳转\n  - target 跳转方式\n    - _self ------ 默认值，在当前页面加载跳转网址的内容(覆盖了原来的内容)\n    - _blank ------- 重新打开一个新的页面，用来显示跳转网址的内容(原来的内容还在)\n- 表格标签\n  - table 标签 -------- 表示一个表格；tr 标签 --------- 表示一行；td 标签 ---------- 表示一列\n  - 属性：\n    - **border：**设置边框的宽度\n    - **width：**设置单元格的宽度\n    - **hight：**设置单元格的高度\n    - **bordercolor：** 设置边框的颜色\n    - **cellspacing：**  ------- 单元格和单元格之间的间隙\n    - **cellpadding **---------- 设置内容和单元格边框之间的间隙\n  - 背景颜色\n    - **table **----------- 设置整个表格的背景颜色\n    - **tr **-------- 设置一行的背景颜色\n    - **td **--------- 设置一列的背景颜色\n  - 位置\n    - **align **---------- 设置整个表格在布局中的位置，也可以设置内容在表格中的位置\n    - **center**（居中） /\t**left**（左对齐）/ \t**right**（右对齐）\n  - 表格的合并\n    - 有几个表格就写几个表格，再看每一个表格是否有列和行的合并，如果有，就向其中添加合并的标签，如果没有，就直接跳过\n    - **colspan**=\"和并列数\" / **rowspan**=“合并行数”\n- 下拉菜单\n  - 格式：< select name=\" \" >\n    ​\t\t\t< optgroup label=\"分组名\" >< /optgroup >\n    ​\t\t\t< option value=\"内容\" selected=\"selected\" >内容< /option >\n    ​\t< /select >\n  - 属性：\n    - name ----- 提交的时候用来区分不同的数据\n    - value ----- 提交的具体数据\n    - selected ----- 设置默认选中，不设置，默认选第一个\n    - 内容 ----- 显示部分（只能是文字）\n- 多行文本域\n  - 注解：输入的内容可以多行显示\n  - 格式：< textarea name=\"message\" rows=\"高度\"  cols=\"宽度\" >< /textarea >\n  - 属性：\n    - rows：设置一屏最多显示的行数  \n    - cols: 设置一行最多显示的列数\n    - placeholder： 设置默认值\n    - maxlength：一行最多显示的字数","source":"_posts/前端/HTML.md","raw":"---\ntitle: HTML\ndate: 2018-03-29 20:23:37\nauthor: smile\ncategories: 前端\ntags: \n  - HTML\n---\n\n```html\nHTML，CSS，JavaScript\nHTML：超文本标记语言，结构样式表，决定网页的结构\nCSS:表现样式表/层叠样式表，决定网页的样式和布局\nJavaScript：行为样式表，决定网页中的行为和动作变化\n```\n\n### HTML的一些特性\n\n- HTML对大小写不敏感\n\n##### 新增的特性：\n\n**1.引入原生多媒体支持（audio和video标签）**\n\n**2.引入可编程内容（canvas标签）**\n\n**3.引入语义Web（article文章、aside撇开、details细节、figure图、footer页脚、header页眉、nav导航、section部分、summary摘要，等标签）**\n\n**4.引入新的表单控件（日历、邮箱、搜索、滑条等）**\n\n**5.引入对离线存储更好的支持（localStorage和sessionStorage）**\n\n**6.引入对定位、拖放、WebSocket、后台任务等的支持**\n\n### < !DOCTYPE heml >\n\n表示HTML的一个版本，这个一般不用改动\n\n### head标签\n\n- **title：**\n  - 设置网页标题\n  - 一个HTML文件中，只能出现一个title标签\n- **meta：**单标签；变换，变化；设置字符编码方式（设置网页元数据（Metadata））；元数据可以被用于浏览器，搜索引擎，或者其他web服务\n  - **charset=‘utf-8’ **           设置编码方式\n  - **name：**< meat name=\" \" content=\" \">\n    - **keywords: **设置关键字，用于搜索引擎\n    - **description：**网站页面内容的描述\n    - **author：**网站页面作者\n    - **viewport：**移动端的窗口\n    - **robots：**定义搜索引擎爬虫的索引方式\n- **link：**用于链接外部样式表\n  - link元素是空元素，它只有属性\n  - 只可以在head部分中出现，可多次出现\n  - 属性\n    - **href **  链接文档的地址\n    - **hreflang **   链接文档中文本的语言\n    - **media **   链接文档将显示在什么设备上\n    - **rel**    定义文档与被链接文档之间的关系（必不可少）\n\n```python\n引入CSS样式表\n<link rel=\"stylesheet\" type=\"text/css\" href=\"css/index.css\"/>\n引入图片\n<link rel=\"icon\" type=\"image/ico\" href=\"img/icon.ico\"/>\n```\n\n- **base：**单标签\n  - 定义页面链接标签和链接地址\n  - 位于head元素内部，在一个文档 中最多只能使用一个\n  - base标签必须有href属性或者target属性或者都有\n  - base标签没有结束标签\n  - 不支持任何的事件属性\n- **style：**定义HTML文档的样式文件\n- **script：**\n  - 定义客户端的脚本文件\n  - 通常用于图像操作、表单验证以及动态内容更改\n  - 属性：charset、defer、src、type\n\n### body\n\nbody中的内容在网页中都是可见的；body中的标签多个属性之间用空格隔开，属性与属性值之间用冒号连接\n\n- 特殊标签\n  - [资料1](https://blog.csdn.net/haocm66/article/details/80839128)\n  - [资料2](http://www.w3school.com.cn/tags/html_ref_symbols.html)\n  - 换行 ---------- < br >\n  - 缩进\n    - 一个tab的距离 ---------- &emsp；\n    - 一个空格的距离 ----------- & nbsp;\n  - 加粗 ---------- b / strong(附带强调的效果)\n  - 倾斜 ---------- i / em (附带强调的效果)\n  - 水平线 ---------- < hr >\n\n![特殊字符表示](HTML\\特殊字符表示.png)\n\n- 标题标签\n  - h1-h6：< h1 >文本内容< h1 >\n- 段落标签\n  - 格式：< p >文本内容< /p >\n  - 一个段落，一个p标签\n- 列表标签\n  - 有序列表\n    - ol 标签 ---------- 代表整个列表\n    - li 标签 ---------- 代表列表中的元素\n  - 无序列表\n    - ul 标签 ---------- 代表整个列表\n    - li 标签 ---------- 代表列表中的元素\n  - 自定义列表\n    - dl 标签 ---------- 代表整个列表\n    - dt 标签 ---------- 代表列表中的分组名\n    - dd 标签 ---------- 代表列表中的分组内容\n- 图片标签\n  - 单标签\n  - 格式：< img src=\" \" >\n  - src ---------- 表示图片的来源地址，可以是本地地址，可以是网络地址(直接拷贝图片地址)，可以是相对路径，可以是绝对路径\n  - title ---------- 设置图片的标题，可以对图片进行解释\n  - alt ---------- 设置加载失败的提示信息\n- 超链接标签\n  - 格式：< a href=\" \">内容< /a >\n  - 内容可以是文字，也可以是图片，也可以是其它的链接\n  - href 决定跳转的位置\n    - 可以是一个网址；\n    - 也可以是本地的HTML文件地址；\n    - 如果 href 为空，表示刷新页面；\n    - 如果是选择器，则表示在当前页面内发生跳转\n  - target 跳转方式\n    - _self ------ 默认值，在当前页面加载跳转网址的内容(覆盖了原来的内容)\n    - _blank ------- 重新打开一个新的页面，用来显示跳转网址的内容(原来的内容还在)\n- 表格标签\n  - table 标签 -------- 表示一个表格；tr 标签 --------- 表示一行；td 标签 ---------- 表示一列\n  - 属性：\n    - **border：**设置边框的宽度\n    - **width：**设置单元格的宽度\n    - **hight：**设置单元格的高度\n    - **bordercolor：** 设置边框的颜色\n    - **cellspacing：**  ------- 单元格和单元格之间的间隙\n    - **cellpadding **---------- 设置内容和单元格边框之间的间隙\n  - 背景颜色\n    - **table **----------- 设置整个表格的背景颜色\n    - **tr **-------- 设置一行的背景颜色\n    - **td **--------- 设置一列的背景颜色\n  - 位置\n    - **align **---------- 设置整个表格在布局中的位置，也可以设置内容在表格中的位置\n    - **center**（居中） /\t**left**（左对齐）/ \t**right**（右对齐）\n  - 表格的合并\n    - 有几个表格就写几个表格，再看每一个表格是否有列和行的合并，如果有，就向其中添加合并的标签，如果没有，就直接跳过\n    - **colspan**=\"和并列数\" / **rowspan**=“合并行数”\n- 下拉菜单\n  - 格式：< select name=\" \" >\n    ​\t\t\t< optgroup label=\"分组名\" >< /optgroup >\n    ​\t\t\t< option value=\"内容\" selected=\"selected\" >内容< /option >\n    ​\t< /select >\n  - 属性：\n    - name ----- 提交的时候用来区分不同的数据\n    - value ----- 提交的具体数据\n    - selected ----- 设置默认选中，不设置，默认选第一个\n    - 内容 ----- 显示部分（只能是文字）\n- 多行文本域\n  - 注解：输入的内容可以多行显示\n  - 格式：< textarea name=\"message\" rows=\"高度\"  cols=\"宽度\" >< /textarea >\n  - 属性：\n    - rows：设置一屏最多显示的行数  \n    - cols: 设置一行最多显示的列数\n    - placeholder： 设置默认值\n    - maxlength：一行最多显示的字数","slug":"前端/HTML","published":1,"updated":"2019-03-14T01:49:42.968Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjt87kqo90042r8r6lrg2o4jo","content":"<pre class=\" language-html\"><code class=\"language-html\">HTML，CSS，JavaScript\nHTML：超文本标记语言，结构样式表，决定网页的结构\nCSS:表现样式表/层叠样式表，决定网页的样式和布局\nJavaScript：行为样式表，决定网页中的行为和动作变化\n</code></pre>\n<h3 id=\"HTML的一些特性\"><a href=\"#HTML的一些特性\" class=\"headerlink\" title=\"HTML的一些特性\"></a>HTML的一些特性</h3><ul>\n<li>HTML对大小写不敏感</li>\n</ul>\n<h5 id=\"新增的特性：\"><a href=\"#新增的特性：\" class=\"headerlink\" title=\"新增的特性：\"></a>新增的特性：</h5><p><strong>1.引入原生多媒体支持（audio和video标签）</strong></p>\n<p><strong>2.引入可编程内容（canvas标签）</strong></p>\n<p><strong>3.引入语义Web（article文章、aside撇开、details细节、figure图、footer页脚、header页眉、nav导航、section部分、summary摘要，等标签）</strong></p>\n<p><strong>4.引入新的表单控件（日历、邮箱、搜索、滑条等）</strong></p>\n<p><strong>5.引入对离线存储更好的支持（localStorage和sessionStorage）</strong></p>\n<p><strong>6.引入对定位、拖放、WebSocket、后台任务等的支持</strong></p>\n<h3 id=\"lt-DOCTYPE-heml-gt\"><a href=\"#lt-DOCTYPE-heml-gt\" class=\"headerlink\" title=\"&lt; !DOCTYPE heml &gt;\"></a>&lt; !DOCTYPE heml &gt;</h3><p>表示HTML的一个版本，这个一般不用改动</p>\n<h3 id=\"head标签\"><a href=\"#head标签\" class=\"headerlink\" title=\"head标签\"></a>head标签</h3><ul>\n<li><strong>title：</strong><ul>\n<li>设置网页标题</li>\n<li>一个HTML文件中，只能出现一个title标签</li>\n</ul>\n</li>\n<li><strong>meta：</strong>单标签；变换，变化；设置字符编码方式（设置网页元数据（Metadata））；元数据可以被用于浏览器，搜索引擎，或者其他web服务<ul>\n<li><strong>charset=‘utf-8’ </strong>           设置编码方式</li>\n<li><strong>name：</strong>&lt; meat name=” “ content=” “&gt;<ul>\n<li><strong>keywords: </strong>设置关键字，用于搜索引擎</li>\n<li><strong>description：</strong>网站页面内容的描述</li>\n<li><strong>author：</strong>网站页面作者</li>\n<li><strong>viewport：</strong>移动端的窗口</li>\n<li><strong>robots：</strong>定义搜索引擎爬虫的索引方式</li>\n</ul>\n</li>\n</ul>\n</li>\n<li><strong>link：</strong>用于链接外部样式表<ul>\n<li>link元素是空元素，它只有属性</li>\n<li>只可以在head部分中出现，可多次出现</li>\n<li>属性<ul>\n<li><strong>href </strong>  链接文档的地址</li>\n<li><strong>hreflang </strong>   链接文档中文本的语言</li>\n<li><strong>media </strong>   链接文档将显示在什么设备上</li>\n<li><strong>rel</strong>    定义文档与被链接文档之间的关系（必不可少）</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<pre class=\" language-python\"><code class=\"language-python\">引入CSS样式表\n<span class=\"token operator\">&lt;</span>link rel<span class=\"token operator\">=</span><span class=\"token string\">\"stylesheet\"</span> type<span class=\"token operator\">=</span><span class=\"token string\">\"text/css\"</span> href<span class=\"token operator\">=</span><span class=\"token string\">\"css/index.css\"</span><span class=\"token operator\">/</span><span class=\"token operator\">></span>\n引入图片\n<span class=\"token operator\">&lt;</span>link rel<span class=\"token operator\">=</span><span class=\"token string\">\"icon\"</span> type<span class=\"token operator\">=</span><span class=\"token string\">\"image/ico\"</span> href<span class=\"token operator\">=</span><span class=\"token string\">\"img/icon.ico\"</span><span class=\"token operator\">/</span><span class=\"token operator\">></span>\n</code></pre>\n<ul>\n<li><strong>base：</strong>单标签<ul>\n<li>定义页面链接标签和链接地址</li>\n<li>位于head元素内部，在一个文档 中最多只能使用一个</li>\n<li>base标签必须有href属性或者target属性或者都有</li>\n<li>base标签没有结束标签</li>\n<li>不支持任何的事件属性</li>\n</ul>\n</li>\n<li><strong>style：</strong>定义HTML文档的样式文件</li>\n<li><strong>script：</strong><ul>\n<li>定义客户端的脚本文件</li>\n<li>通常用于图像操作、表单验证以及动态内容更改</li>\n<li>属性：charset、defer、src、type</li>\n</ul>\n</li>\n</ul>\n<h3 id=\"body\"><a href=\"#body\" class=\"headerlink\" title=\"body\"></a>body</h3><p>body中的内容在网页中都是可见的；body中的标签多个属性之间用空格隔开，属性与属性值之间用冒号连接</p>\n<ul>\n<li>特殊标签<ul>\n<li><a href=\"https://blog.csdn.net/haocm66/article/details/80839128\" target=\"_blank\" rel=\"noopener\">资料1</a></li>\n<li><a href=\"http://www.w3school.com.cn/tags/html_ref_symbols.html\" target=\"_blank\" rel=\"noopener\">资料2</a></li>\n<li>换行 ———- &lt; br &gt;</li>\n<li>缩进<ul>\n<li>一个tab的距离 ———- &amp;emsp；</li>\n<li>一个空格的距离 ———– &amp; nbsp;</li>\n</ul>\n</li>\n<li>加粗 ———- b / strong(附带强调的效果)</li>\n<li>倾斜 ———- i / em (附带强调的效果)</li>\n<li>水平线 ———- &lt; hr &gt;</li>\n</ul>\n</li>\n</ul>\n<p><img src=\"/2018/03/29/前端/HTML/特殊字符表示.png\" alt=\"特殊字符表示\"></p>\n<ul>\n<li>标题标签<ul>\n<li>h1-h6：&lt; h1 &gt;文本内容&lt; h1 &gt;</li>\n</ul>\n</li>\n<li>段落标签<ul>\n<li>格式：&lt; p &gt;文本内容&lt; /p &gt;</li>\n<li>一个段落，一个p标签</li>\n</ul>\n</li>\n<li>列表标签<ul>\n<li>有序列表<ul>\n<li>ol 标签 ———- 代表整个列表</li>\n<li>li 标签 ———- 代表列表中的元素</li>\n</ul>\n</li>\n<li>无序列表<ul>\n<li>ul 标签 ———- 代表整个列表</li>\n<li>li 标签 ———- 代表列表中的元素</li>\n</ul>\n</li>\n<li>自定义列表<ul>\n<li>dl 标签 ———- 代表整个列表</li>\n<li>dt 标签 ———- 代表列表中的分组名</li>\n<li>dd 标签 ———- 代表列表中的分组内容</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>图片标签<ul>\n<li>单标签</li>\n<li>格式：&lt; img src=” “ &gt;</li>\n<li>src ———- 表示图片的来源地址，可以是本地地址，可以是网络地址(直接拷贝图片地址)，可以是相对路径，可以是绝对路径</li>\n<li>title ———- 设置图片的标题，可以对图片进行解释</li>\n<li>alt ———- 设置加载失败的提示信息</li>\n</ul>\n</li>\n<li>超链接标签<ul>\n<li>格式：&lt; a href=” “&gt;内容&lt; /a &gt;</li>\n<li>内容可以是文字，也可以是图片，也可以是其它的链接</li>\n<li>href 决定跳转的位置<ul>\n<li>可以是一个网址；</li>\n<li>也可以是本地的HTML文件地址；</li>\n<li>如果 href 为空，表示刷新页面；</li>\n<li>如果是选择器，则表示在当前页面内发生跳转</li>\n</ul>\n</li>\n<li>target 跳转方式<ul>\n<li>_self —— 默认值，在当前页面加载跳转网址的内容(覆盖了原来的内容)</li>\n<li>_blank ——- 重新打开一个新的页面，用来显示跳转网址的内容(原来的内容还在)</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>表格标签<ul>\n<li>table 标签 ——– 表示一个表格；tr 标签 ——— 表示一行；td 标签 ———- 表示一列</li>\n<li>属性：<ul>\n<li><strong>border：</strong>设置边框的宽度</li>\n<li><strong>width：</strong>设置单元格的宽度</li>\n<li><strong>hight：</strong>设置单元格的高度</li>\n<li><strong>bordercolor：</strong> 设置边框的颜色</li>\n<li><strong>cellspacing：</strong>  ——- 单元格和单元格之间的间隙</li>\n<li><strong>cellpadding </strong>———- 设置内容和单元格边框之间的间隙</li>\n</ul>\n</li>\n<li>背景颜色<ul>\n<li><strong>table </strong>———– 设置整个表格的背景颜色</li>\n<li><strong>tr </strong>——– 设置一行的背景颜色</li>\n<li><strong>td </strong>——— 设置一列的背景颜色</li>\n</ul>\n</li>\n<li>位置<ul>\n<li><strong>align </strong>———- 设置整个表格在布局中的位置，也可以设置内容在表格中的位置</li>\n<li><strong>center</strong>（居中） /    <strong>left</strong>（左对齐）/     <strong>right</strong>（右对齐）</li>\n</ul>\n</li>\n<li>表格的合并<ul>\n<li>有几个表格就写几个表格，再看每一个表格是否有列和行的合并，如果有，就向其中添加合并的标签，如果没有，就直接跳过</li>\n<li><strong>colspan</strong>=”和并列数” / <strong>rowspan</strong>=“合并行数”</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>下拉菜单<ul>\n<li>格式：&lt; select name=” “ &gt;<br>​            &lt; optgroup label=”分组名” &gt;&lt; /optgroup &gt;<br>​            &lt; option value=”内容” selected=”selected” &gt;内容&lt; /option &gt;<br>​    &lt; /select &gt;</li>\n<li>属性：<ul>\n<li>name —– 提交的时候用来区分不同的数据</li>\n<li>value —– 提交的具体数据</li>\n<li>selected —– 设置默认选中，不设置，默认选第一个</li>\n<li>内容 —– 显示部分（只能是文字）</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>多行文本域<ul>\n<li>注解：输入的内容可以多行显示</li>\n<li>格式：&lt; textarea name=”message” rows=”高度”  cols=”宽度” &gt;&lt; /textarea &gt;</li>\n<li>属性：<ul>\n<li>rows：设置一屏最多显示的行数  </li>\n<li>cols: 设置一行最多显示的列数</li>\n<li>placeholder： 设置默认值</li>\n<li>maxlength：一行最多显示的字数</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n","site":{"data":{}},"excerpt":"","more":"<pre><code class=\"html\">HTML，CSS，JavaScript\nHTML：超文本标记语言，结构样式表，决定网页的结构\nCSS:表现样式表/层叠样式表，决定网页的样式和布局\nJavaScript：行为样式表，决定网页中的行为和动作变化\n</code></pre>\n<h3 id=\"HTML的一些特性\"><a href=\"#HTML的一些特性\" class=\"headerlink\" title=\"HTML的一些特性\"></a>HTML的一些特性</h3><ul>\n<li>HTML对大小写不敏感</li>\n</ul>\n<h5 id=\"新增的特性：\"><a href=\"#新增的特性：\" class=\"headerlink\" title=\"新增的特性：\"></a>新增的特性：</h5><p><strong>1.引入原生多媒体支持（audio和video标签）</strong></p>\n<p><strong>2.引入可编程内容（canvas标签）</strong></p>\n<p><strong>3.引入语义Web（article文章、aside撇开、details细节、figure图、footer页脚、header页眉、nav导航、section部分、summary摘要，等标签）</strong></p>\n<p><strong>4.引入新的表单控件（日历、邮箱、搜索、滑条等）</strong></p>\n<p><strong>5.引入对离线存储更好的支持（localStorage和sessionStorage）</strong></p>\n<p><strong>6.引入对定位、拖放、WebSocket、后台任务等的支持</strong></p>\n<h3 id=\"lt-DOCTYPE-heml-gt\"><a href=\"#lt-DOCTYPE-heml-gt\" class=\"headerlink\" title=\"&lt; !DOCTYPE heml &gt;\"></a>&lt; !DOCTYPE heml &gt;</h3><p>表示HTML的一个版本，这个一般不用改动</p>\n<h3 id=\"head标签\"><a href=\"#head标签\" class=\"headerlink\" title=\"head标签\"></a>head标签</h3><ul>\n<li><strong>title：</strong><ul>\n<li>设置网页标题</li>\n<li>一个HTML文件中，只能出现一个title标签</li>\n</ul>\n</li>\n<li><strong>meta：</strong>单标签；变换，变化；设置字符编码方式（设置网页元数据（Metadata））；元数据可以被用于浏览器，搜索引擎，或者其他web服务<ul>\n<li><strong>charset=‘utf-8’ </strong>           设置编码方式</li>\n<li><strong>name：</strong>&lt; meat name=” “ content=” “&gt;<ul>\n<li><strong>keywords: </strong>设置关键字，用于搜索引擎</li>\n<li><strong>description：</strong>网站页面内容的描述</li>\n<li><strong>author：</strong>网站页面作者</li>\n<li><strong>viewport：</strong>移动端的窗口</li>\n<li><strong>robots：</strong>定义搜索引擎爬虫的索引方式</li>\n</ul>\n</li>\n</ul>\n</li>\n<li><strong>link：</strong>用于链接外部样式表<ul>\n<li>link元素是空元素，它只有属性</li>\n<li>只可以在head部分中出现，可多次出现</li>\n<li>属性<ul>\n<li><strong>href </strong>  链接文档的地址</li>\n<li><strong>hreflang </strong>   链接文档中文本的语言</li>\n<li><strong>media </strong>   链接文档将显示在什么设备上</li>\n<li><strong>rel</strong>    定义文档与被链接文档之间的关系（必不可少）</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<pre><code class=\"python\">引入CSS样式表\n&lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; href=&quot;css/index.css&quot;/&gt;\n引入图片\n&lt;link rel=&quot;icon&quot; type=&quot;image/ico&quot; href=&quot;img/icon.ico&quot;/&gt;\n</code></pre>\n<ul>\n<li><strong>base：</strong>单标签<ul>\n<li>定义页面链接标签和链接地址</li>\n<li>位于head元素内部，在一个文档 中最多只能使用一个</li>\n<li>base标签必须有href属性或者target属性或者都有</li>\n<li>base标签没有结束标签</li>\n<li>不支持任何的事件属性</li>\n</ul>\n</li>\n<li><strong>style：</strong>定义HTML文档的样式文件</li>\n<li><strong>script：</strong><ul>\n<li>定义客户端的脚本文件</li>\n<li>通常用于图像操作、表单验证以及动态内容更改</li>\n<li>属性：charset、defer、src、type</li>\n</ul>\n</li>\n</ul>\n<h3 id=\"body\"><a href=\"#body\" class=\"headerlink\" title=\"body\"></a>body</h3><p>body中的内容在网页中都是可见的；body中的标签多个属性之间用空格隔开，属性与属性值之间用冒号连接</p>\n<ul>\n<li>特殊标签<ul>\n<li><a href=\"https://blog.csdn.net/haocm66/article/details/80839128\" target=\"_blank\" rel=\"noopener\">资料1</a></li>\n<li><a href=\"http://www.w3school.com.cn/tags/html_ref_symbols.html\" target=\"_blank\" rel=\"noopener\">资料2</a></li>\n<li>换行 ———- &lt; br &gt;</li>\n<li>缩进<ul>\n<li>一个tab的距离 ———- &amp;emsp；</li>\n<li>一个空格的距离 ———– &amp; nbsp;</li>\n</ul>\n</li>\n<li>加粗 ———- b / strong(附带强调的效果)</li>\n<li>倾斜 ———- i / em (附带强调的效果)</li>\n<li>水平线 ———- &lt; hr &gt;</li>\n</ul>\n</li>\n</ul>\n<p><img src=\"/2018/03/29/前端/HTML/特殊字符表示.png\" alt=\"特殊字符表示\"></p>\n<ul>\n<li>标题标签<ul>\n<li>h1-h6：&lt; h1 &gt;文本内容&lt; h1 &gt;</li>\n</ul>\n</li>\n<li>段落标签<ul>\n<li>格式：&lt; p &gt;文本内容&lt; /p &gt;</li>\n<li>一个段落，一个p标签</li>\n</ul>\n</li>\n<li>列表标签<ul>\n<li>有序列表<ul>\n<li>ol 标签 ———- 代表整个列表</li>\n<li>li 标签 ———- 代表列表中的元素</li>\n</ul>\n</li>\n<li>无序列表<ul>\n<li>ul 标签 ———- 代表整个列表</li>\n<li>li 标签 ———- 代表列表中的元素</li>\n</ul>\n</li>\n<li>自定义列表<ul>\n<li>dl 标签 ———- 代表整个列表</li>\n<li>dt 标签 ———- 代表列表中的分组名</li>\n<li>dd 标签 ———- 代表列表中的分组内容</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>图片标签<ul>\n<li>单标签</li>\n<li>格式：&lt; img src=” “ &gt;</li>\n<li>src ———- 表示图片的来源地址，可以是本地地址，可以是网络地址(直接拷贝图片地址)，可以是相对路径，可以是绝对路径</li>\n<li>title ———- 设置图片的标题，可以对图片进行解释</li>\n<li>alt ———- 设置加载失败的提示信息</li>\n</ul>\n</li>\n<li>超链接标签<ul>\n<li>格式：&lt; a href=” “&gt;内容&lt; /a &gt;</li>\n<li>内容可以是文字，也可以是图片，也可以是其它的链接</li>\n<li>href 决定跳转的位置<ul>\n<li>可以是一个网址；</li>\n<li>也可以是本地的HTML文件地址；</li>\n<li>如果 href 为空，表示刷新页面；</li>\n<li>如果是选择器，则表示在当前页面内发生跳转</li>\n</ul>\n</li>\n<li>target 跳转方式<ul>\n<li>_self —— 默认值，在当前页面加载跳转网址的内容(覆盖了原来的内容)</li>\n<li>_blank ——- 重新打开一个新的页面，用来显示跳转网址的内容(原来的内容还在)</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>表格标签<ul>\n<li>table 标签 ——– 表示一个表格；tr 标签 ——— 表示一行；td 标签 ———- 表示一列</li>\n<li>属性：<ul>\n<li><strong>border：</strong>设置边框的宽度</li>\n<li><strong>width：</strong>设置单元格的宽度</li>\n<li><strong>hight：</strong>设置单元格的高度</li>\n<li><strong>bordercolor：</strong> 设置边框的颜色</li>\n<li><strong>cellspacing：</strong>  ——- 单元格和单元格之间的间隙</li>\n<li><strong>cellpadding </strong>———- 设置内容和单元格边框之间的间隙</li>\n</ul>\n</li>\n<li>背景颜色<ul>\n<li><strong>table </strong>———– 设置整个表格的背景颜色</li>\n<li><strong>tr </strong>——– 设置一行的背景颜色</li>\n<li><strong>td </strong>——— 设置一列的背景颜色</li>\n</ul>\n</li>\n<li>位置<ul>\n<li><strong>align </strong>———- 设置整个表格在布局中的位置，也可以设置内容在表格中的位置</li>\n<li><strong>center</strong>（居中） /    <strong>left</strong>（左对齐）/     <strong>right</strong>（右对齐）</li>\n</ul>\n</li>\n<li>表格的合并<ul>\n<li>有几个表格就写几个表格，再看每一个表格是否有列和行的合并，如果有，就向其中添加合并的标签，如果没有，就直接跳过</li>\n<li><strong>colspan</strong>=”和并列数” / <strong>rowspan</strong>=“合并行数”</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>下拉菜单<ul>\n<li>格式：&lt; select name=” “ &gt;<br>​            &lt; optgroup label=”分组名” &gt;&lt; /optgroup &gt;<br>​            &lt; option value=”内容” selected=”selected” &gt;内容&lt; /option &gt;<br>​    &lt; /select &gt;</li>\n<li>属性：<ul>\n<li>name —– 提交的时候用来区分不同的数据</li>\n<li>value —– 提交的具体数据</li>\n<li>selected —– 设置默认选中，不设置，默认选第一个</li>\n<li>内容 —– 显示部分（只能是文字）</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>多行文本域<ul>\n<li>注解：输入的内容可以多行显示</li>\n<li>格式：&lt; textarea name=”message” rows=”高度”  cols=”宽度” &gt;&lt; /textarea &gt;</li>\n<li>属性：<ul>\n<li>rows：设置一屏最多显示的行数  </li>\n<li>cols: 设置一行最多显示的列数</li>\n<li>placeholder： 设置默认值</li>\n<li>maxlength：一行最多显示的字数</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n"},{"title":"JavaScript-createElement","date":"2018-04-07T13:17:45.000Z","author":"smile","_content":"\n###  practice-one\n\n```html\n<!DOCTYPE html>\n<html>\n\t<head>\n\t\t<meta charset=\"UTF-8\">\n\t\t<title></title>\n\t\t<style>\n\t\t\t#data {\n\t\t\t\tborder-collapse: collapse;\n\t\t\t}\n\t\t\t#data td, #data th {\n\t\t\t\twidth: 120px;\n\t\t\t\theight: 40px;\n\t\t\t\ttext-align: center;\n\t\t\t\tborder: 1px solid black;\n\t\t\t}\n\t\t\t#buttons {\n\t\t\t\tmargin: 10px 0;\n\t\t\t}\n\t\t</style>\n\t</head>\n\t<body>\n\t\t<div id=\"big\">\n\t\t<table id=\"data\">\n\t\t\t<caption>数据统计表</caption>\n\t\t\t<tr>\n\t\t\t\t<th>姓名</th>\n\t\t\t\t<th>年龄</th>\n\t\t\t\t<th>性别</th>\n\t\t\t\t<th>身高</th>\n\t\t\t\t<th>体重</th>\n\t\t\t</tr>\n\t\t\t<tr>\n\t\t\t\t<td>Item1</td>\n\t\t\t\t<td>Item2</td>\n\t\t\t\t<td>Item3</td>\n\t\t\t\t<td>Item4</td>\n\t\t\t\t<td>Item5</td>\n\t\t\t</tr>\n\t\t\t<tr>\n\t\t\t\t<td>Item1</td>\n\t\t\t\t<td>Item2</td>\n\t\t\t\t<td>Item3</td>\n\t\t\t\t<td>Item4</td>\n\t\t\t\t<td>Item5</td>\n\t\t\t</tr>\n\t\t\t<tr>\n\t\t\t\t<td>Item1</td>\n\t\t\t\t<td>Item2</td>\n\t\t\t\t<td>Item3</td>\n\t\t\t\t<td>Item4</td>\n\t\t\t\t<td>Item5</td>\n\t\t\t</tr>\n\t\t\t<tr>\n\t\t\t\t<td>Item1</td>\n\t\t\t\t<td>Item2</td>\n\t\t\t\t<td>Item3</td>\n\t\t\t\t<td>Item4</td>\n\t\t\t\t<td>Item5</td>\n\t\t\t</tr>\n\t\t\t<tr>\n\t\t\t\t<td>Item1</td>\n\t\t\t\t<td>Item2</td>\n\t\t\t\t<td><a>Item3</a></td>\n\t\t\t\t<td>Item4</td>\n\t\t\t\t<td>Item5</td>\n\t\t\t</tr>\n\t\t\t<tr>\n\t\t\t\t<td>Item1</td>\n\t\t\t\t<td>Item2</td>\n\t\t\t\t<td>Item3</td>\n\t\t\t\t<td>Item4</td>\n\t\t\t\t<td><a>Item5</a></td>\n\t\t\t</tr>\n\t\t</table>\n\t\t</div>\n\t\t<div id=\"buttons\">\n\t\t\t<button id=\"pretty\">美化表格</button>\n\t\t\t<button id=\"clear\">清除数据</button>\n\t\t\t<button id=\"remove\">删单元格</button>\n\t\t\t<button id=\"add\">加单元格</button>\n\t\t\t<button id=\"hide\">隐藏表格</button>\n\t\t</div>\n\t\t<script>\n\t\t\t// 美化表格\n\t\t\tvar prettyForm = document.getElementById(\"pretty\");\n\t\t\tprettyForm.addEventListener(\"click\", function() {\n\t\t\t\tvar tr = document.getElementsByTagName(\"tr\");\n\t\t\t\tfor (var i = 1; i < tr.length; i += 1) {\n\t\t\t\t\tif (i % 2) {\n\t\t\t\t\t\ttr[i].style.backgroundColor = \"cyan\";\n\t\t\t\t\t} else {\n\t\t\t\t\t\ttr[i].style.backgroundColor = \"red\";\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t});\n\t\t\t\n\t\t\t// 清除数据\n\t\t\tvar clearForm = document.getElementById(\"clear\");\n\t\t\tclearForm.addEventListener(\"click\", function() {\n\t\t\t\tvar td = document.getElementsByTagName(\"td\");\n\t\t\t\tfor (var i = 0; i < td.length; i += 1) {\n\t\t\t\t\ttd[i].textContent = \"\";\t\t\t\n\t\t\t\t}\n\t\t\t});\n\t\t\t\n\t\t\t// 删除单元格\n\t\t\tvar removeForm = document.getElementById(\"remove\");\n\t\t\tremoveForm.addEventListener(\"click\", function() {\n\t\t\t\tvar tr = document.getElementsByTagName(\"tr\");\n\t\t\t\tif (tr.length > 1) {\n\t\t\t\t\ttr[tr.length-1].remove();\n\t\t\t\t}\n\t\t\t});\n\t\t\t\n\t\t\t// 添加单元格\n//\t\t\tvar addForm = document.getElementById(\"add\");\n//\t\t\taddForm.addEventListener(\"click\", function() {\n//\t\t\t\tvar td = document.querySelectorAll(\"tr>td\");\n//\t\t\t\ttd.parentNode.appendChild(td);\n//\t\t\t});\n\n\t\t\t// 隐藏表格\n\t\t\tvar hideForm = document.getElementById(\"hide\");\n\t\t\tvar form = document.getElementById(\"big\");\n\t\t\thideForm.addEventListener(\"click\", function(event) {\n\t\t\t\tvar buto = event.target;\n\t\t\t\tif (buto.isHidden) {\n\t\t\t\t\tform.style.display = \"\";\n\t\t\t\t\tbuto.isHidden = false;\n\t\t\t\t\tbuto.textContent = \"显示表格\";\n\t\t\t\t} else {\n\t\t\t\t\tform.style.display = \"none\";\n\t\t\t\t\tbuto.isHidden = true;\n\t\t\t\t\tbuto.textContent = \"隐藏表格\";\n\t\t\t\t}\n\t\t\t});\n\t\t</script>\n\t</body>\n</html>\n\n```\n\n###  practice-two\n\n```html\n<!DOCTYPE html>\n<html>\n\t<head>\n\t\t<meta charset=\"utf-8\" />\n\t\t<title></title>\n\t\t<style>\n\t\t\t* {\n\t\t\t\tmargin: 0px;\n\t\t\t\tpadding: 0px;\n\t\t\t}\n\t\t\t#box {\n\t\t\t\t/*下面表示上下10px，左右平分*/\n\t\t\t\t/*margin: 10px auto;*/\n\t\t\t\tmargin-left: 400px;\n\t\t\t\tmargin-top: 100px;\n\t\t\t\twidth: 500px;\n\t\t\t\theight: 300px;\n\t\t\t\tbackground-color: aquamarine;\n\t\t\t\t/*hidden ---- 隐藏*/\n\t\t\t\t/*scroll ---- 滚动条*/\n\t\t\t\toverflow: hidden;\n\t\t\t}\n\t\t\tbutton{\n\t\t\t\tposition: relative;\n\t\t\t\tmargin-left: 40px;\n\t\t\t\tleft: 500px;\n\t\t\t\ttop: 50px;\n\t\t\t\twidth: 100px;\n\t\t\t\theight: 50px;\n\t\t\t\tbackground-color: red;\n\t\t\t\tfont-size: 20px;\n\t\t\t\tcursor: pointer;\n\t\t\t\toutline: none;\n\t\t\t\tborder: none;\n\t\t\t}\n\t\t\t.small {\n\t\t\t\twidth: 50px;\n\t\t\t\theight: 50px;\n\t\t\t\tfloat: left;\n\t\t\t}\n\t\t</style>\n\t</head>\n\t<body>\n\t\t<div id=\"box\">\n\t\t\t\n\t\t</div>\n\t\t<div>\n\t\t\t<button id=\"but1\">添加</button>\n\t\t\t<button id=\"but2\">闪烁</button>\n\t\t</div>\n\t\t<script>\n\t\t\t// 设置随机色\n\t\t\tfunction randomColor() {\n\t\t\t\tvar r = parseInt(Math.random() * 256);\n\t\t\t\tvar g = parseInt(Math.random() * 256);\n\t\t\t\tvar b = parseInt(Math.random() * 256);\n\t\t\t\treturn \"rgb(\" + r + \",\" + g + \",\" + b + \")\"\t;\n\t\t\t}\n\t\t\t\n\t\t\t\n\t\t\tfunction addBox() {\n\t\t\t\t// 创建新的div\n\t\t\t\tvar div = document.createElement(\"div\");\n\t\t\t\t// 调用style中的类选择器的样式\n\t\t\t\tdiv.className = \"small\";\n\t\t\t\tdiv.style.backgroundColor = randomColor();\n\t\t\t\t// 添加到前面\n\t\t\t\tBox.insertBefore(div, Box.firstChild);\n\t\t\t\t// 添加到后面\n//\t\t\t\tBox.appendChild(div);    \n\t\t\t}\n\t\t\t\n\t\t\t\n\t\t\tfunction blinkBox() {\n\t\t\t\tif (flag) {\n\t\t\t\t\t// 绑定一个计时器\n\t\t\t\t\ttimerId = setInterval(function() {\n\t\t\t\t\t\tvar adv = document.querySelectorAll(\"#box>div\");\n\t\t\t\t\t\tfor (var i = 0; i < adv.length; i += 1) {\n\t\t\t\t\t\t\tadv[i].style.backgroundColor = randomColor();\n\t\t\t\t\t\t}\n\t\t\t\t\t}, 50);\n\t\t\t\t\t// blinkButton.textContent = \"暂停\";\n\t\t\t\t\t// flag = !flag;\n\t\t\t\t} else {\n\t\t\t\t\tclearInterval(timerId);\n\t\t\t\t\t// flag = !flag;\n\t\t\t\t\t// blinkButton.textContent = \"闪烁\";\n\t\t\t\t};\n\t\t\t\tblinkButton.textContent = flag?\"暂停\":\"闪烁\";\n\t\t\t\tflag = !flag;\n\t\t\t}\n\t\t\t\n\t\t\t\n\t\t\tvar flag = true;\n\t\t\tvar addButton = document.getElementById(\"but1\");\n\t\t\t\n\t\t\tvar Box = document.getElementById(\"box\");\n\t\t\taddButton.addEventListener(\"click\", addBox);\n\t\t\t\n\t\t\tvar blinkButton = document.getElementById(\"but2\");\n\t\t\tblinkButton.addEventListener(\"click\", blinkBox);\n\t\t</script>\n\t</body>\n</html>\n\n```\n\n###  practice-three\n\n```html\n\n<!DOCTYPE html>\n<html>\n\t<head>\n\t\t<meta charset=\"UTF-8\">\n\t\t<title></title>\n\t\t<style>\n\t\t\t* {\n\t\t\t\tmargin: 0;\n\t\t\t\tpadding: 0;\n\t\t\t}\n\t\t\t#container {\n\t\t\t\tmargin: 20px 50px;\n\t\t\t}\n\t\t\t#fruits li {\n\t\t\t\tlist-style: none;\n\t\t\t\twidth: 200px;\n\t\t\t\theight: 50px;\n\t\t\t\tfont-size: 20px;\n\t\t\t\tline-height: 50px;\n\t\t\t\tbackground-color: cadetblue;\n\t\t\t\tcolor: white;\n\t\t\t\ttext-align: center;\n\t\t\t\tmargin: 2px 0;\n\t\t\t}\n\t\t\t#fruits>li>a {\n\t\t\t\tfloat: right;\n\t\t\t\ttext-decoration: none;\n\t\t\t\tcolor: white;\n\t\t\t\tposition: relative;\n\t\t\t\tright: 5px;\n\t\t\t}\n\t\t\t#fruits~input {\n\t\t\t\tborder: none;\n\t\t\t\toutline: none;\n\t\t\t\tfont-size: 18px;\n\t\t\t}\n\t\t\t#fruits~input[type=text] {\n\t\t\t\tborder-bottom: 1px solid darkgray;\n\t\t\t\twidth: 200px;\n\t\t\t\theight: 50px;\n\t\t\t\ttext-align: center;\n\t\t\t}\n\t\t\t#fruits~input[type=button] {\n\t\t\t\twidth: 80px;\n\t\t\t\theight: 30px;\n\t\t\t\tbackground-color: coral;\n\t\t\t\tcolor: white;\n\t\t\t\tvertical-align: bottom;\n\t\t\t\tcursor: pointer;\n\t\t\t}\n\t\t</style>\n\t</head>\n\t<body>\n\t\t<div id=\"container\">\n\t\t\t<ul id=\"fruits\">\n\t\t\t\t<li>苹果<a href=\"javascript:void(0)\">×</a></li>\n\t\t\t\t<li>香蕉<a href=\"javascript:void(0)\">×</a></li>\n\t\t\t\t<li>火龙果<a href=\"javascript:void(0)\">×</a></li>\n\t\t\t\t<li>西瓜<a href=\"javascript:void(0)\">×</a></li>\n\t\t\t</ul>\n\t\t\t<input type=\"text\" name=\"fruit\">\n\t\t\t<input id=\"ok\" type=\"button\" value=\"确定\">\n\t\t</div>\n\t\t<script src=\"js/ad.js\"></script>\n\t\t<script>\n\t\t\t//   解决浏览器兼容的方法\n//\t\t\tString.prototype.trim = String.prototype.trim ||\n//\t\t\tfunction(){\n//\t\t\t\tthis;    //  this相当于Python中的self\n//\t\t\t\treturn \"\";\n//\t\t\t};\n\t\t\tfunction deleteItem(evt){\n\t\t\t\tevt = evt || window.event;\n\t\t\t\tevt.target = evt.target || evt.srcElement;\n\t\t\t\tvar li = evt.target.parentNode;\t\n\t\t\t\t// remove删除节点（元素）\n\t\t\t\tli.parentNode.removeChild(li);\n\t\t\t}\n\t\t\tvar delAnchors = document.querySelectorAll(\"#fruits a\");\n\t\t\t//   给标签绑定事件\n\t\t\tfor (var i = 0;i < delAnchors.length;i += 1){\n\t\t\t\tbind(delAnchors[i],\"click\",deleteItem);\n\t\t\t}\n\t\t\tvar okBtn = document.getElementById(\"ok\")\n\t\t\tvar fruitInput = document.querySelector(\"#container>input[type=text]\")\n\t\t\tvar fruitsUl = document.getElementById(\"fruits\");\n\t\t\tbind(okBtn,\"click\",function(){\n\t\t\t\tvar fruitName = fruitInput.value.trim();\n\t\t\t\tif (fruitName.length > 0){\n\t\t\t\t\t// 创建新节点，创建新标签\n\t\t\t\t\tvar li = document.createElement(\"li\")\n\t\t\t\t\tli.innerHTML = fruitName;\n\t\t\t\t\tvar a = document.createElement(\"a\")\n\t\t\t\t\ta.innerHTML = \"x\"\n\t\t\t\t\ta.href = \"javascript:void(0)\"\n\t\t\t\t\tbind(a,\"click\",deleteItem);\n\t\t\t\t\t//  appendChild追加，添加新的元素\n\t\t\t\t\tli.appendChild(a);\n\t\t\t\t\t// fruitsUl.appendChild(li);\n\t\t\t\t\t//  insertBefore  在某一个元素的前面添加节点（元素）\n\t\t\t\t\tfruitsUl.insertBefore(li,fruitsUl.firstChild)\n\t\t\t\t}\n\t\t\t})\n\t\t</script>\n\t</body>\n</html>\n\n\n```\n\n","source":"_posts/前端/JavaScript-createElement.md","raw":"---\ntitle: JavaScript-createElement\ndate: 2018-04-07 21:17:45\nauthor: smile\ncategories: 前端\ntags:\n  - CSS\n  - HTML\n  - DOC\n---\n\n###  practice-one\n\n```html\n<!DOCTYPE html>\n<html>\n\t<head>\n\t\t<meta charset=\"UTF-8\">\n\t\t<title></title>\n\t\t<style>\n\t\t\t#data {\n\t\t\t\tborder-collapse: collapse;\n\t\t\t}\n\t\t\t#data td, #data th {\n\t\t\t\twidth: 120px;\n\t\t\t\theight: 40px;\n\t\t\t\ttext-align: center;\n\t\t\t\tborder: 1px solid black;\n\t\t\t}\n\t\t\t#buttons {\n\t\t\t\tmargin: 10px 0;\n\t\t\t}\n\t\t</style>\n\t</head>\n\t<body>\n\t\t<div id=\"big\">\n\t\t<table id=\"data\">\n\t\t\t<caption>数据统计表</caption>\n\t\t\t<tr>\n\t\t\t\t<th>姓名</th>\n\t\t\t\t<th>年龄</th>\n\t\t\t\t<th>性别</th>\n\t\t\t\t<th>身高</th>\n\t\t\t\t<th>体重</th>\n\t\t\t</tr>\n\t\t\t<tr>\n\t\t\t\t<td>Item1</td>\n\t\t\t\t<td>Item2</td>\n\t\t\t\t<td>Item3</td>\n\t\t\t\t<td>Item4</td>\n\t\t\t\t<td>Item5</td>\n\t\t\t</tr>\n\t\t\t<tr>\n\t\t\t\t<td>Item1</td>\n\t\t\t\t<td>Item2</td>\n\t\t\t\t<td>Item3</td>\n\t\t\t\t<td>Item4</td>\n\t\t\t\t<td>Item5</td>\n\t\t\t</tr>\n\t\t\t<tr>\n\t\t\t\t<td>Item1</td>\n\t\t\t\t<td>Item2</td>\n\t\t\t\t<td>Item3</td>\n\t\t\t\t<td>Item4</td>\n\t\t\t\t<td>Item5</td>\n\t\t\t</tr>\n\t\t\t<tr>\n\t\t\t\t<td>Item1</td>\n\t\t\t\t<td>Item2</td>\n\t\t\t\t<td>Item3</td>\n\t\t\t\t<td>Item4</td>\n\t\t\t\t<td>Item5</td>\n\t\t\t</tr>\n\t\t\t<tr>\n\t\t\t\t<td>Item1</td>\n\t\t\t\t<td>Item2</td>\n\t\t\t\t<td><a>Item3</a></td>\n\t\t\t\t<td>Item4</td>\n\t\t\t\t<td>Item5</td>\n\t\t\t</tr>\n\t\t\t<tr>\n\t\t\t\t<td>Item1</td>\n\t\t\t\t<td>Item2</td>\n\t\t\t\t<td>Item3</td>\n\t\t\t\t<td>Item4</td>\n\t\t\t\t<td><a>Item5</a></td>\n\t\t\t</tr>\n\t\t</table>\n\t\t</div>\n\t\t<div id=\"buttons\">\n\t\t\t<button id=\"pretty\">美化表格</button>\n\t\t\t<button id=\"clear\">清除数据</button>\n\t\t\t<button id=\"remove\">删单元格</button>\n\t\t\t<button id=\"add\">加单元格</button>\n\t\t\t<button id=\"hide\">隐藏表格</button>\n\t\t</div>\n\t\t<script>\n\t\t\t// 美化表格\n\t\t\tvar prettyForm = document.getElementById(\"pretty\");\n\t\t\tprettyForm.addEventListener(\"click\", function() {\n\t\t\t\tvar tr = document.getElementsByTagName(\"tr\");\n\t\t\t\tfor (var i = 1; i < tr.length; i += 1) {\n\t\t\t\t\tif (i % 2) {\n\t\t\t\t\t\ttr[i].style.backgroundColor = \"cyan\";\n\t\t\t\t\t} else {\n\t\t\t\t\t\ttr[i].style.backgroundColor = \"red\";\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t});\n\t\t\t\n\t\t\t// 清除数据\n\t\t\tvar clearForm = document.getElementById(\"clear\");\n\t\t\tclearForm.addEventListener(\"click\", function() {\n\t\t\t\tvar td = document.getElementsByTagName(\"td\");\n\t\t\t\tfor (var i = 0; i < td.length; i += 1) {\n\t\t\t\t\ttd[i].textContent = \"\";\t\t\t\n\t\t\t\t}\n\t\t\t});\n\t\t\t\n\t\t\t// 删除单元格\n\t\t\tvar removeForm = document.getElementById(\"remove\");\n\t\t\tremoveForm.addEventListener(\"click\", function() {\n\t\t\t\tvar tr = document.getElementsByTagName(\"tr\");\n\t\t\t\tif (tr.length > 1) {\n\t\t\t\t\ttr[tr.length-1].remove();\n\t\t\t\t}\n\t\t\t});\n\t\t\t\n\t\t\t// 添加单元格\n//\t\t\tvar addForm = document.getElementById(\"add\");\n//\t\t\taddForm.addEventListener(\"click\", function() {\n//\t\t\t\tvar td = document.querySelectorAll(\"tr>td\");\n//\t\t\t\ttd.parentNode.appendChild(td);\n//\t\t\t});\n\n\t\t\t// 隐藏表格\n\t\t\tvar hideForm = document.getElementById(\"hide\");\n\t\t\tvar form = document.getElementById(\"big\");\n\t\t\thideForm.addEventListener(\"click\", function(event) {\n\t\t\t\tvar buto = event.target;\n\t\t\t\tif (buto.isHidden) {\n\t\t\t\t\tform.style.display = \"\";\n\t\t\t\t\tbuto.isHidden = false;\n\t\t\t\t\tbuto.textContent = \"显示表格\";\n\t\t\t\t} else {\n\t\t\t\t\tform.style.display = \"none\";\n\t\t\t\t\tbuto.isHidden = true;\n\t\t\t\t\tbuto.textContent = \"隐藏表格\";\n\t\t\t\t}\n\t\t\t});\n\t\t</script>\n\t</body>\n</html>\n\n```\n\n###  practice-two\n\n```html\n<!DOCTYPE html>\n<html>\n\t<head>\n\t\t<meta charset=\"utf-8\" />\n\t\t<title></title>\n\t\t<style>\n\t\t\t* {\n\t\t\t\tmargin: 0px;\n\t\t\t\tpadding: 0px;\n\t\t\t}\n\t\t\t#box {\n\t\t\t\t/*下面表示上下10px，左右平分*/\n\t\t\t\t/*margin: 10px auto;*/\n\t\t\t\tmargin-left: 400px;\n\t\t\t\tmargin-top: 100px;\n\t\t\t\twidth: 500px;\n\t\t\t\theight: 300px;\n\t\t\t\tbackground-color: aquamarine;\n\t\t\t\t/*hidden ---- 隐藏*/\n\t\t\t\t/*scroll ---- 滚动条*/\n\t\t\t\toverflow: hidden;\n\t\t\t}\n\t\t\tbutton{\n\t\t\t\tposition: relative;\n\t\t\t\tmargin-left: 40px;\n\t\t\t\tleft: 500px;\n\t\t\t\ttop: 50px;\n\t\t\t\twidth: 100px;\n\t\t\t\theight: 50px;\n\t\t\t\tbackground-color: red;\n\t\t\t\tfont-size: 20px;\n\t\t\t\tcursor: pointer;\n\t\t\t\toutline: none;\n\t\t\t\tborder: none;\n\t\t\t}\n\t\t\t.small {\n\t\t\t\twidth: 50px;\n\t\t\t\theight: 50px;\n\t\t\t\tfloat: left;\n\t\t\t}\n\t\t</style>\n\t</head>\n\t<body>\n\t\t<div id=\"box\">\n\t\t\t\n\t\t</div>\n\t\t<div>\n\t\t\t<button id=\"but1\">添加</button>\n\t\t\t<button id=\"but2\">闪烁</button>\n\t\t</div>\n\t\t<script>\n\t\t\t// 设置随机色\n\t\t\tfunction randomColor() {\n\t\t\t\tvar r = parseInt(Math.random() * 256);\n\t\t\t\tvar g = parseInt(Math.random() * 256);\n\t\t\t\tvar b = parseInt(Math.random() * 256);\n\t\t\t\treturn \"rgb(\" + r + \",\" + g + \",\" + b + \")\"\t;\n\t\t\t}\n\t\t\t\n\t\t\t\n\t\t\tfunction addBox() {\n\t\t\t\t// 创建新的div\n\t\t\t\tvar div = document.createElement(\"div\");\n\t\t\t\t// 调用style中的类选择器的样式\n\t\t\t\tdiv.className = \"small\";\n\t\t\t\tdiv.style.backgroundColor = randomColor();\n\t\t\t\t// 添加到前面\n\t\t\t\tBox.insertBefore(div, Box.firstChild);\n\t\t\t\t// 添加到后面\n//\t\t\t\tBox.appendChild(div);    \n\t\t\t}\n\t\t\t\n\t\t\t\n\t\t\tfunction blinkBox() {\n\t\t\t\tif (flag) {\n\t\t\t\t\t// 绑定一个计时器\n\t\t\t\t\ttimerId = setInterval(function() {\n\t\t\t\t\t\tvar adv = document.querySelectorAll(\"#box>div\");\n\t\t\t\t\t\tfor (var i = 0; i < adv.length; i += 1) {\n\t\t\t\t\t\t\tadv[i].style.backgroundColor = randomColor();\n\t\t\t\t\t\t}\n\t\t\t\t\t}, 50);\n\t\t\t\t\t// blinkButton.textContent = \"暂停\";\n\t\t\t\t\t// flag = !flag;\n\t\t\t\t} else {\n\t\t\t\t\tclearInterval(timerId);\n\t\t\t\t\t// flag = !flag;\n\t\t\t\t\t// blinkButton.textContent = \"闪烁\";\n\t\t\t\t};\n\t\t\t\tblinkButton.textContent = flag?\"暂停\":\"闪烁\";\n\t\t\t\tflag = !flag;\n\t\t\t}\n\t\t\t\n\t\t\t\n\t\t\tvar flag = true;\n\t\t\tvar addButton = document.getElementById(\"but1\");\n\t\t\t\n\t\t\tvar Box = document.getElementById(\"box\");\n\t\t\taddButton.addEventListener(\"click\", addBox);\n\t\t\t\n\t\t\tvar blinkButton = document.getElementById(\"but2\");\n\t\t\tblinkButton.addEventListener(\"click\", blinkBox);\n\t\t</script>\n\t</body>\n</html>\n\n```\n\n###  practice-three\n\n```html\n\n<!DOCTYPE html>\n<html>\n\t<head>\n\t\t<meta charset=\"UTF-8\">\n\t\t<title></title>\n\t\t<style>\n\t\t\t* {\n\t\t\t\tmargin: 0;\n\t\t\t\tpadding: 0;\n\t\t\t}\n\t\t\t#container {\n\t\t\t\tmargin: 20px 50px;\n\t\t\t}\n\t\t\t#fruits li {\n\t\t\t\tlist-style: none;\n\t\t\t\twidth: 200px;\n\t\t\t\theight: 50px;\n\t\t\t\tfont-size: 20px;\n\t\t\t\tline-height: 50px;\n\t\t\t\tbackground-color: cadetblue;\n\t\t\t\tcolor: white;\n\t\t\t\ttext-align: center;\n\t\t\t\tmargin: 2px 0;\n\t\t\t}\n\t\t\t#fruits>li>a {\n\t\t\t\tfloat: right;\n\t\t\t\ttext-decoration: none;\n\t\t\t\tcolor: white;\n\t\t\t\tposition: relative;\n\t\t\t\tright: 5px;\n\t\t\t}\n\t\t\t#fruits~input {\n\t\t\t\tborder: none;\n\t\t\t\toutline: none;\n\t\t\t\tfont-size: 18px;\n\t\t\t}\n\t\t\t#fruits~input[type=text] {\n\t\t\t\tborder-bottom: 1px solid darkgray;\n\t\t\t\twidth: 200px;\n\t\t\t\theight: 50px;\n\t\t\t\ttext-align: center;\n\t\t\t}\n\t\t\t#fruits~input[type=button] {\n\t\t\t\twidth: 80px;\n\t\t\t\theight: 30px;\n\t\t\t\tbackground-color: coral;\n\t\t\t\tcolor: white;\n\t\t\t\tvertical-align: bottom;\n\t\t\t\tcursor: pointer;\n\t\t\t}\n\t\t</style>\n\t</head>\n\t<body>\n\t\t<div id=\"container\">\n\t\t\t<ul id=\"fruits\">\n\t\t\t\t<li>苹果<a href=\"javascript:void(0)\">×</a></li>\n\t\t\t\t<li>香蕉<a href=\"javascript:void(0)\">×</a></li>\n\t\t\t\t<li>火龙果<a href=\"javascript:void(0)\">×</a></li>\n\t\t\t\t<li>西瓜<a href=\"javascript:void(0)\">×</a></li>\n\t\t\t</ul>\n\t\t\t<input type=\"text\" name=\"fruit\">\n\t\t\t<input id=\"ok\" type=\"button\" value=\"确定\">\n\t\t</div>\n\t\t<script src=\"js/ad.js\"></script>\n\t\t<script>\n\t\t\t//   解决浏览器兼容的方法\n//\t\t\tString.prototype.trim = String.prototype.trim ||\n//\t\t\tfunction(){\n//\t\t\t\tthis;    //  this相当于Python中的self\n//\t\t\t\treturn \"\";\n//\t\t\t};\n\t\t\tfunction deleteItem(evt){\n\t\t\t\tevt = evt || window.event;\n\t\t\t\tevt.target = evt.target || evt.srcElement;\n\t\t\t\tvar li = evt.target.parentNode;\t\n\t\t\t\t// remove删除节点（元素）\n\t\t\t\tli.parentNode.removeChild(li);\n\t\t\t}\n\t\t\tvar delAnchors = document.querySelectorAll(\"#fruits a\");\n\t\t\t//   给标签绑定事件\n\t\t\tfor (var i = 0;i < delAnchors.length;i += 1){\n\t\t\t\tbind(delAnchors[i],\"click\",deleteItem);\n\t\t\t}\n\t\t\tvar okBtn = document.getElementById(\"ok\")\n\t\t\tvar fruitInput = document.querySelector(\"#container>input[type=text]\")\n\t\t\tvar fruitsUl = document.getElementById(\"fruits\");\n\t\t\tbind(okBtn,\"click\",function(){\n\t\t\t\tvar fruitName = fruitInput.value.trim();\n\t\t\t\tif (fruitName.length > 0){\n\t\t\t\t\t// 创建新节点，创建新标签\n\t\t\t\t\tvar li = document.createElement(\"li\")\n\t\t\t\t\tli.innerHTML = fruitName;\n\t\t\t\t\tvar a = document.createElement(\"a\")\n\t\t\t\t\ta.innerHTML = \"x\"\n\t\t\t\t\ta.href = \"javascript:void(0)\"\n\t\t\t\t\tbind(a,\"click\",deleteItem);\n\t\t\t\t\t//  appendChild追加，添加新的元素\n\t\t\t\t\tli.appendChild(a);\n\t\t\t\t\t// fruitsUl.appendChild(li);\n\t\t\t\t\t//  insertBefore  在某一个元素的前面添加节点（元素）\n\t\t\t\t\tfruitsUl.insertBefore(li,fruitsUl.firstChild)\n\t\t\t\t}\n\t\t\t})\n\t\t</script>\n\t</body>\n</html>\n\n\n```\n\n","slug":"前端/JavaScript-createElement","published":1,"updated":"2019-03-14T01:49:34.908Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjt87kqof0044r8r6g3932xfr","content":"<h3 id=\"practice-one\"><a href=\"#practice-one\" class=\"headerlink\" title=\"practice-one\"></a>practice-one</h3><pre class=\" language-html\"><code class=\"language-html\"><span class=\"token doctype\">&lt;!DOCTYPE html></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>html</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>head</span><span class=\"token punctuation\">></span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>meta</span> <span class=\"token attr-name\">charset</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>UTF-8<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>title</span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>title</span><span class=\"token punctuation\">></span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>style</span><span class=\"token punctuation\">></span></span><span class=\"token style language-css\">\n            <span class=\"token selector\"><span class=\"token id\">#data</span> </span><span class=\"token punctuation\">{</span>\n                <span class=\"token property\">border-collapse</span><span class=\"token punctuation\">:</span> collapse<span class=\"token punctuation\">;</span>\n            <span class=\"token punctuation\">}</span>\n            <span class=\"token selector\"><span class=\"token id\">#data</span> td, <span class=\"token id\">#data</span> th </span><span class=\"token punctuation\">{</span>\n                <span class=\"token property\">width</span><span class=\"token punctuation\">:</span> <span class=\"token number\">120</span>px<span class=\"token punctuation\">;</span>\n                <span class=\"token property\">height</span><span class=\"token punctuation\">:</span> <span class=\"token number\">40</span>px<span class=\"token punctuation\">;</span>\n                <span class=\"token property\">text-align</span><span class=\"token punctuation\">:</span> center<span class=\"token punctuation\">;</span>\n                <span class=\"token property\">border</span><span class=\"token punctuation\">:</span> <span class=\"token number\">1</span>px solid black<span class=\"token punctuation\">;</span>\n            <span class=\"token punctuation\">}</span>\n            <span class=\"token selector\"><span class=\"token id\">#buttons</span> </span><span class=\"token punctuation\">{</span>\n                <span class=\"token property\">margin</span><span class=\"token punctuation\">:</span> <span class=\"token number\">10</span>px <span class=\"token number\">0</span><span class=\"token punctuation\">;</span>\n            <span class=\"token punctuation\">}</span>\n        </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>style</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>head</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>body</span><span class=\"token punctuation\">></span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">id</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>big<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>table</span> <span class=\"token attr-name\">id</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>data<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n            <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>caption</span><span class=\"token punctuation\">></span></span>数据统计表<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>caption</span><span class=\"token punctuation\">></span></span>\n            <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>tr</span><span class=\"token punctuation\">></span></span>\n                <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>th</span><span class=\"token punctuation\">></span></span>姓名<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>th</span><span class=\"token punctuation\">></span></span>\n                <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>th</span><span class=\"token punctuation\">></span></span>年龄<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>th</span><span class=\"token punctuation\">></span></span>\n                <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>th</span><span class=\"token punctuation\">></span></span>性别<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>th</span><span class=\"token punctuation\">></span></span>\n                <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>th</span><span class=\"token punctuation\">></span></span>身高<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>th</span><span class=\"token punctuation\">></span></span>\n                <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>th</span><span class=\"token punctuation\">></span></span>体重<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>th</span><span class=\"token punctuation\">></span></span>\n            <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>tr</span><span class=\"token punctuation\">></span></span>\n            <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>tr</span><span class=\"token punctuation\">></span></span>\n                <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>td</span><span class=\"token punctuation\">></span></span>Item1<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>td</span><span class=\"token punctuation\">></span></span>\n                <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>td</span><span class=\"token punctuation\">></span></span>Item2<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>td</span><span class=\"token punctuation\">></span></span>\n                <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>td</span><span class=\"token punctuation\">></span></span>Item3<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>td</span><span class=\"token punctuation\">></span></span>\n                <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>td</span><span class=\"token punctuation\">></span></span>Item4<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>td</span><span class=\"token punctuation\">></span></span>\n                <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>td</span><span class=\"token punctuation\">></span></span>Item5<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>td</span><span class=\"token punctuation\">></span></span>\n            <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>tr</span><span class=\"token punctuation\">></span></span>\n            <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>tr</span><span class=\"token punctuation\">></span></span>\n                <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>td</span><span class=\"token punctuation\">></span></span>Item1<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>td</span><span class=\"token punctuation\">></span></span>\n                <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>td</span><span class=\"token punctuation\">></span></span>Item2<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>td</span><span class=\"token punctuation\">></span></span>\n                <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>td</span><span class=\"token punctuation\">></span></span>Item3<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>td</span><span class=\"token punctuation\">></span></span>\n                <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>td</span><span class=\"token punctuation\">></span></span>Item4<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>td</span><span class=\"token punctuation\">></span></span>\n                <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>td</span><span class=\"token punctuation\">></span></span>Item5<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>td</span><span class=\"token punctuation\">></span></span>\n            <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>tr</span><span class=\"token punctuation\">></span></span>\n            <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>tr</span><span class=\"token punctuation\">></span></span>\n                <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>td</span><span class=\"token punctuation\">></span></span>Item1<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>td</span><span class=\"token punctuation\">></span></span>\n                <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>td</span><span class=\"token punctuation\">></span></span>Item2<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>td</span><span class=\"token punctuation\">></span></span>\n                <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>td</span><span class=\"token punctuation\">></span></span>Item3<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>td</span><span class=\"token punctuation\">></span></span>\n                <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>td</span><span class=\"token punctuation\">></span></span>Item4<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>td</span><span class=\"token punctuation\">></span></span>\n                <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>td</span><span class=\"token punctuation\">></span></span>Item5<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>td</span><span class=\"token punctuation\">></span></span>\n            <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>tr</span><span class=\"token punctuation\">></span></span>\n            <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>tr</span><span class=\"token punctuation\">></span></span>\n                <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>td</span><span class=\"token punctuation\">></span></span>Item1<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>td</span><span class=\"token punctuation\">></span></span>\n                <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>td</span><span class=\"token punctuation\">></span></span>Item2<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>td</span><span class=\"token punctuation\">></span></span>\n                <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>td</span><span class=\"token punctuation\">></span></span>Item3<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>td</span><span class=\"token punctuation\">></span></span>\n                <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>td</span><span class=\"token punctuation\">></span></span>Item4<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>td</span><span class=\"token punctuation\">></span></span>\n                <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>td</span><span class=\"token punctuation\">></span></span>Item5<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>td</span><span class=\"token punctuation\">></span></span>\n            <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>tr</span><span class=\"token punctuation\">></span></span>\n            <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>tr</span><span class=\"token punctuation\">></span></span>\n                <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>td</span><span class=\"token punctuation\">></span></span>Item1<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>td</span><span class=\"token punctuation\">></span></span>\n                <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>td</span><span class=\"token punctuation\">></span></span>Item2<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>td</span><span class=\"token punctuation\">></span></span>\n                <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>td</span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>a</span><span class=\"token punctuation\">></span></span>Item3<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>a</span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>td</span><span class=\"token punctuation\">></span></span>\n                <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>td</span><span class=\"token punctuation\">></span></span>Item4<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>td</span><span class=\"token punctuation\">></span></span>\n                <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>td</span><span class=\"token punctuation\">></span></span>Item5<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>td</span><span class=\"token punctuation\">></span></span>\n            <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>tr</span><span class=\"token punctuation\">></span></span>\n            <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>tr</span><span class=\"token punctuation\">></span></span>\n                <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>td</span><span class=\"token punctuation\">></span></span>Item1<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>td</span><span class=\"token punctuation\">></span></span>\n                <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>td</span><span class=\"token punctuation\">></span></span>Item2<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>td</span><span class=\"token punctuation\">></span></span>\n                <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>td</span><span class=\"token punctuation\">></span></span>Item3<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>td</span><span class=\"token punctuation\">></span></span>\n                <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>td</span><span class=\"token punctuation\">></span></span>Item4<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>td</span><span class=\"token punctuation\">></span></span>\n                <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>td</span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>a</span><span class=\"token punctuation\">></span></span>Item5<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>a</span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>td</span><span class=\"token punctuation\">></span></span>\n            <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>tr</span><span class=\"token punctuation\">></span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>table</span><span class=\"token punctuation\">></span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">id</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>buttons<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n            <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>button</span> <span class=\"token attr-name\">id</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>pretty<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>美化表格<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>button</span><span class=\"token punctuation\">></span></span>\n            <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>button</span> <span class=\"token attr-name\">id</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>clear<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>清除数据<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>button</span><span class=\"token punctuation\">></span></span>\n            <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>button</span> <span class=\"token attr-name\">id</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>remove<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>删单元格<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>button</span><span class=\"token punctuation\">></span></span>\n            <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>button</span> <span class=\"token attr-name\">id</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>add<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>加单元格<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>button</span><span class=\"token punctuation\">></span></span>\n            <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>button</span> <span class=\"token attr-name\">id</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>hide<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>隐藏表格<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>button</span><span class=\"token punctuation\">></span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>script</span><span class=\"token punctuation\">></span></span><span class=\"token script language-javascript\">\n            <span class=\"token comment\" spellcheck=\"true\">// 美化表格</span>\n            <span class=\"token keyword\">var</span> prettyForm <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">getElementById</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"pretty\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            prettyForm<span class=\"token punctuation\">.</span><span class=\"token function\">addEventListener</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"click\"</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n                <span class=\"token keyword\">var</span> tr <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">getElementsByTagName</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"tr\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">var</span> i <span class=\"token operator\">=</span> <span class=\"token number\">1</span><span class=\"token punctuation\">;</span> i <span class=\"token operator\">&lt;</span> tr<span class=\"token punctuation\">.</span>length<span class=\"token punctuation\">;</span> i <span class=\"token operator\">+</span><span class=\"token operator\">=</span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n                    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>i <span class=\"token operator\">%</span> <span class=\"token number\">2</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n                        tr<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span>style<span class=\"token punctuation\">.</span>backgroundColor <span class=\"token operator\">=</span> <span class=\"token string\">\"cyan\"</span><span class=\"token punctuation\">;</span>\n                    <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span>\n                        tr<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span>style<span class=\"token punctuation\">.</span>backgroundColor <span class=\"token operator\">=</span> <span class=\"token string\">\"red\"</span><span class=\"token punctuation\">;</span>\n                    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n                <span class=\"token punctuation\">}</span>\n            <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n            <span class=\"token comment\" spellcheck=\"true\">// 清除数据</span>\n            <span class=\"token keyword\">var</span> clearForm <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">getElementById</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"clear\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            clearForm<span class=\"token punctuation\">.</span><span class=\"token function\">addEventListener</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"click\"</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n                <span class=\"token keyword\">var</span> td <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">getElementsByTagName</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"td\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">var</span> i <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span> i <span class=\"token operator\">&lt;</span> td<span class=\"token punctuation\">.</span>length<span class=\"token punctuation\">;</span> i <span class=\"token operator\">+</span><span class=\"token operator\">=</span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n                    td<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span>textContent <span class=\"token operator\">=</span> <span class=\"token string\">\"\"</span><span class=\"token punctuation\">;</span>            \n                <span class=\"token punctuation\">}</span>\n            <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n            <span class=\"token comment\" spellcheck=\"true\">// 删除单元格</span>\n            <span class=\"token keyword\">var</span> removeForm <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">getElementById</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"remove\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            removeForm<span class=\"token punctuation\">.</span><span class=\"token function\">addEventListener</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"click\"</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n                <span class=\"token keyword\">var</span> tr <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">getElementsByTagName</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"tr\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>tr<span class=\"token punctuation\">.</span>length <span class=\"token operator\">></span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n                    tr<span class=\"token punctuation\">[</span>tr<span class=\"token punctuation\">.</span>length<span class=\"token number\">-1</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span><span class=\"token function\">remove</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                <span class=\"token punctuation\">}</span>\n            <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n            <span class=\"token comment\" spellcheck=\"true\">// 添加单元格</span>\n<span class=\"token comment\" spellcheck=\"true\">//            var addForm = document.getElementById(\"add\");</span>\n<span class=\"token comment\" spellcheck=\"true\">//            addForm.addEventListener(\"click\", function() {</span>\n<span class=\"token comment\" spellcheck=\"true\">//                var td = document.querySelectorAll(\"tr>td\");</span>\n<span class=\"token comment\" spellcheck=\"true\">//                td.parentNode.appendChild(td);</span>\n<span class=\"token comment\" spellcheck=\"true\">//            });</span>\n\n            <span class=\"token comment\" spellcheck=\"true\">// 隐藏表格</span>\n            <span class=\"token keyword\">var</span> hideForm <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">getElementById</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"hide\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            <span class=\"token keyword\">var</span> form <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">getElementById</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"big\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            hideForm<span class=\"token punctuation\">.</span><span class=\"token function\">addEventListener</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"click\"</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span>event<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n                <span class=\"token keyword\">var</span> buto <span class=\"token operator\">=</span> event<span class=\"token punctuation\">.</span>target<span class=\"token punctuation\">;</span>\n                <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>buto<span class=\"token punctuation\">.</span>isHidden<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n                    form<span class=\"token punctuation\">.</span>style<span class=\"token punctuation\">.</span>display <span class=\"token operator\">=</span> <span class=\"token string\">\"\"</span><span class=\"token punctuation\">;</span>\n                    buto<span class=\"token punctuation\">.</span>isHidden <span class=\"token operator\">=</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">;</span>\n                    buto<span class=\"token punctuation\">.</span>textContent <span class=\"token operator\">=</span> <span class=\"token string\">\"显示表格\"</span><span class=\"token punctuation\">;</span>\n                <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span>\n                    form<span class=\"token punctuation\">.</span>style<span class=\"token punctuation\">.</span>display <span class=\"token operator\">=</span> <span class=\"token string\">\"none\"</span><span class=\"token punctuation\">;</span>\n                    buto<span class=\"token punctuation\">.</span>isHidden <span class=\"token operator\">=</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">;</span>\n                    buto<span class=\"token punctuation\">.</span>textContent <span class=\"token operator\">=</span> <span class=\"token string\">\"隐藏表格\"</span><span class=\"token punctuation\">;</span>\n                <span class=\"token punctuation\">}</span>\n            <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>script</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>body</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>html</span><span class=\"token punctuation\">></span></span>\n\n</code></pre>\n<h3 id=\"practice-two\"><a href=\"#practice-two\" class=\"headerlink\" title=\"practice-two\"></a>practice-two</h3><pre class=\" language-html\"><code class=\"language-html\"><span class=\"token doctype\">&lt;!DOCTYPE html></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>html</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>head</span><span class=\"token punctuation\">></span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>meta</span> <span class=\"token attr-name\">charset</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>utf-8<span class=\"token punctuation\">\"</span></span> <span class=\"token punctuation\">/></span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>title</span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>title</span><span class=\"token punctuation\">></span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>style</span><span class=\"token punctuation\">></span></span><span class=\"token style language-css\">\n            <span class=\"token selector\">* </span><span class=\"token punctuation\">{</span>\n                <span class=\"token property\">margin</span><span class=\"token punctuation\">:</span> <span class=\"token number\">0</span>px<span class=\"token punctuation\">;</span>\n                <span class=\"token property\">padding</span><span class=\"token punctuation\">:</span> <span class=\"token number\">0</span>px<span class=\"token punctuation\">;</span>\n            <span class=\"token punctuation\">}</span>\n            <span class=\"token selector\"><span class=\"token id\">#box</span> </span><span class=\"token punctuation\">{</span>\n                <span class=\"token comment\" spellcheck=\"true\">/*下面表示上下10px，左右平分*/</span>\n                <span class=\"token comment\" spellcheck=\"true\">/*margin: 10px auto;*/</span>\n                <span class=\"token property\">margin-left</span><span class=\"token punctuation\">:</span> <span class=\"token number\">400</span>px<span class=\"token punctuation\">;</span>\n                <span class=\"token property\">margin-top</span><span class=\"token punctuation\">:</span> <span class=\"token number\">100</span>px<span class=\"token punctuation\">;</span>\n                <span class=\"token property\">width</span><span class=\"token punctuation\">:</span> <span class=\"token number\">500</span>px<span class=\"token punctuation\">;</span>\n                <span class=\"token property\">height</span><span class=\"token punctuation\">:</span> <span class=\"token number\">300</span>px<span class=\"token punctuation\">;</span>\n                <span class=\"token property\">background-color</span><span class=\"token punctuation\">:</span> aquamarine<span class=\"token punctuation\">;</span>\n                <span class=\"token comment\" spellcheck=\"true\">/*hidden ---- 隐藏*/</span>\n                <span class=\"token comment\" spellcheck=\"true\">/*scroll ---- 滚动条*/</span>\n                <span class=\"token property\">overflow</span><span class=\"token punctuation\">:</span> hidden<span class=\"token punctuation\">;</span>\n            <span class=\"token punctuation\">}</span>\n            <span class=\"token selector\">button</span><span class=\"token punctuation\">{</span>\n                <span class=\"token property\">position</span><span class=\"token punctuation\">:</span> relative<span class=\"token punctuation\">;</span>\n                <span class=\"token property\">margin-left</span><span class=\"token punctuation\">:</span> <span class=\"token number\">40</span>px<span class=\"token punctuation\">;</span>\n                <span class=\"token property\">left</span><span class=\"token punctuation\">:</span> <span class=\"token number\">500</span>px<span class=\"token punctuation\">;</span>\n                <span class=\"token property\">top</span><span class=\"token punctuation\">:</span> <span class=\"token number\">50</span>px<span class=\"token punctuation\">;</span>\n                <span class=\"token property\">width</span><span class=\"token punctuation\">:</span> <span class=\"token number\">100</span>px<span class=\"token punctuation\">;</span>\n                <span class=\"token property\">height</span><span class=\"token punctuation\">:</span> <span class=\"token number\">50</span>px<span class=\"token punctuation\">;</span>\n                <span class=\"token property\">background-color</span><span class=\"token punctuation\">:</span> red<span class=\"token punctuation\">;</span>\n                <span class=\"token property\">font-size</span><span class=\"token punctuation\">:</span> <span class=\"token number\">20</span>px<span class=\"token punctuation\">;</span>\n                <span class=\"token property\">cursor</span><span class=\"token punctuation\">:</span> pointer<span class=\"token punctuation\">;</span>\n                <span class=\"token property\">outline</span><span class=\"token punctuation\">:</span> none<span class=\"token punctuation\">;</span>\n                <span class=\"token property\">border</span><span class=\"token punctuation\">:</span> none<span class=\"token punctuation\">;</span>\n            <span class=\"token punctuation\">}</span>\n            <span class=\"token selector\"><span class=\"token class\">.small</span> </span><span class=\"token punctuation\">{</span>\n                <span class=\"token property\">width</span><span class=\"token punctuation\">:</span> <span class=\"token number\">50</span>px<span class=\"token punctuation\">;</span>\n                <span class=\"token property\">height</span><span class=\"token punctuation\">:</span> <span class=\"token number\">50</span>px<span class=\"token punctuation\">;</span>\n                <span class=\"token property\">float</span><span class=\"token punctuation\">:</span> left<span class=\"token punctuation\">;</span>\n            <span class=\"token punctuation\">}</span>\n        </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>style</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>head</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>body</span><span class=\"token punctuation\">></span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">id</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>box<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span><span class=\"token punctuation\">></span></span>\n            <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>button</span> <span class=\"token attr-name\">id</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>but1<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>添加<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>button</span><span class=\"token punctuation\">></span></span>\n            <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>button</span> <span class=\"token attr-name\">id</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>but2<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>闪烁<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>button</span><span class=\"token punctuation\">></span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>script</span><span class=\"token punctuation\">></span></span><span class=\"token script language-javascript\">\n            <span class=\"token comment\" spellcheck=\"true\">// 设置随机色</span>\n            <span class=\"token keyword\">function</span> <span class=\"token function\">randomColor</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n                <span class=\"token keyword\">var</span> r <span class=\"token operator\">=</span> <span class=\"token function\">parseInt</span><span class=\"token punctuation\">(</span>Math<span class=\"token punctuation\">.</span><span class=\"token function\">random</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">*</span> <span class=\"token number\">256</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                <span class=\"token keyword\">var</span> g <span class=\"token operator\">=</span> <span class=\"token function\">parseInt</span><span class=\"token punctuation\">(</span>Math<span class=\"token punctuation\">.</span><span class=\"token function\">random</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">*</span> <span class=\"token number\">256</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                <span class=\"token keyword\">var</span> b <span class=\"token operator\">=</span> <span class=\"token function\">parseInt</span><span class=\"token punctuation\">(</span>Math<span class=\"token punctuation\">.</span><span class=\"token function\">random</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">*</span> <span class=\"token number\">256</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                <span class=\"token keyword\">return</span> <span class=\"token string\">\"rgb(\"</span> <span class=\"token operator\">+</span> r <span class=\"token operator\">+</span> <span class=\"token string\">\",\"</span> <span class=\"token operator\">+</span> g <span class=\"token operator\">+</span> <span class=\"token string\">\",\"</span> <span class=\"token operator\">+</span> b <span class=\"token operator\">+</span> <span class=\"token string\">\")\"</span>    <span class=\"token punctuation\">;</span>\n            <span class=\"token punctuation\">}</span>\n\n\n            <span class=\"token keyword\">function</span> <span class=\"token function\">addBox</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n                <span class=\"token comment\" spellcheck=\"true\">// 创建新的div</span>\n                <span class=\"token keyword\">var</span> div <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">createElement</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"div\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                <span class=\"token comment\" spellcheck=\"true\">// 调用style中的类选择器的样式</span>\n                div<span class=\"token punctuation\">.</span>className <span class=\"token operator\">=</span> <span class=\"token string\">\"small\"</span><span class=\"token punctuation\">;</span>\n                div<span class=\"token punctuation\">.</span>style<span class=\"token punctuation\">.</span>backgroundColor <span class=\"token operator\">=</span> <span class=\"token function\">randomColor</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                <span class=\"token comment\" spellcheck=\"true\">// 添加到前面</span>\n                Box<span class=\"token punctuation\">.</span><span class=\"token function\">insertBefore</span><span class=\"token punctuation\">(</span>div<span class=\"token punctuation\">,</span> Box<span class=\"token punctuation\">.</span>firstChild<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                <span class=\"token comment\" spellcheck=\"true\">// 添加到后面</span>\n<span class=\"token comment\" spellcheck=\"true\">//                Box.appendChild(div);    </span>\n            <span class=\"token punctuation\">}</span>\n\n\n            <span class=\"token keyword\">function</span> <span class=\"token function\">blinkBox</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n                <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>flag<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n                    <span class=\"token comment\" spellcheck=\"true\">// 绑定一个计时器</span>\n                    timerId <span class=\"token operator\">=</span> <span class=\"token function\">setInterval</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n                        <span class=\"token keyword\">var</span> adv <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">querySelectorAll</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"#box>div\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                        <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">var</span> i <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span> i <span class=\"token operator\">&lt;</span> adv<span class=\"token punctuation\">.</span>length<span class=\"token punctuation\">;</span> i <span class=\"token operator\">+</span><span class=\"token operator\">=</span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n                            adv<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span>style<span class=\"token punctuation\">.</span>backgroundColor <span class=\"token operator\">=</span> <span class=\"token function\">randomColor</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                        <span class=\"token punctuation\">}</span>\n                    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token number\">50</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                    <span class=\"token comment\" spellcheck=\"true\">// blinkButton.textContent = \"暂停\";</span>\n                    <span class=\"token comment\" spellcheck=\"true\">// flag = !flag;</span>\n                <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span>\n                    <span class=\"token function\">clearInterval</span><span class=\"token punctuation\">(</span>timerId<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                    <span class=\"token comment\" spellcheck=\"true\">// flag = !flag;</span>\n                    <span class=\"token comment\" spellcheck=\"true\">// blinkButton.textContent = \"闪烁\";</span>\n                <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n                blinkButton<span class=\"token punctuation\">.</span>textContent <span class=\"token operator\">=</span> flag<span class=\"token operator\">?</span><span class=\"token string\">\"暂停\"</span><span class=\"token punctuation\">:</span><span class=\"token string\">\"闪烁\"</span><span class=\"token punctuation\">;</span>\n                flag <span class=\"token operator\">=</span> <span class=\"token operator\">!</span>flag<span class=\"token punctuation\">;</span>\n            <span class=\"token punctuation\">}</span>\n\n\n            <span class=\"token keyword\">var</span> flag <span class=\"token operator\">=</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">;</span>\n            <span class=\"token keyword\">var</span> addButton <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">getElementById</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"but1\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n            <span class=\"token keyword\">var</span> Box <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">getElementById</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"box\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            addButton<span class=\"token punctuation\">.</span><span class=\"token function\">addEventListener</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"click\"</span><span class=\"token punctuation\">,</span> addBox<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n            <span class=\"token keyword\">var</span> blinkButton <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">getElementById</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"but2\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            blinkButton<span class=\"token punctuation\">.</span><span class=\"token function\">addEventListener</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"click\"</span><span class=\"token punctuation\">,</span> blinkBox<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>script</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>body</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>html</span><span class=\"token punctuation\">></span></span>\n\n</code></pre>\n<h3 id=\"practice-three\"><a href=\"#practice-three\" class=\"headerlink\" title=\"practice-three\"></a>practice-three</h3><pre class=\" language-html\"><code class=\"language-html\">\n<span class=\"token doctype\">&lt;!DOCTYPE html></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>html</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>head</span><span class=\"token punctuation\">></span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>meta</span> <span class=\"token attr-name\">charset</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>UTF-8<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>title</span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>title</span><span class=\"token punctuation\">></span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>style</span><span class=\"token punctuation\">></span></span><span class=\"token style language-css\">\n            <span class=\"token selector\">* </span><span class=\"token punctuation\">{</span>\n                <span class=\"token property\">margin</span><span class=\"token punctuation\">:</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span>\n                <span class=\"token property\">padding</span><span class=\"token punctuation\">:</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span>\n            <span class=\"token punctuation\">}</span>\n            <span class=\"token selector\"><span class=\"token id\">#container</span> </span><span class=\"token punctuation\">{</span>\n                <span class=\"token property\">margin</span><span class=\"token punctuation\">:</span> <span class=\"token number\">20</span>px <span class=\"token number\">50</span>px<span class=\"token punctuation\">;</span>\n            <span class=\"token punctuation\">}</span>\n            <span class=\"token selector\"><span class=\"token id\">#fruits</span> li </span><span class=\"token punctuation\">{</span>\n                <span class=\"token property\">list-style</span><span class=\"token punctuation\">:</span> none<span class=\"token punctuation\">;</span>\n                <span class=\"token property\">width</span><span class=\"token punctuation\">:</span> <span class=\"token number\">200</span>px<span class=\"token punctuation\">;</span>\n                <span class=\"token property\">height</span><span class=\"token punctuation\">:</span> <span class=\"token number\">50</span>px<span class=\"token punctuation\">;</span>\n                <span class=\"token property\">font-size</span><span class=\"token punctuation\">:</span> <span class=\"token number\">20</span>px<span class=\"token punctuation\">;</span>\n                <span class=\"token property\">line-height</span><span class=\"token punctuation\">:</span> <span class=\"token number\">50</span>px<span class=\"token punctuation\">;</span>\n                <span class=\"token property\">background-color</span><span class=\"token punctuation\">:</span> cadetblue<span class=\"token punctuation\">;</span>\n                <span class=\"token property\">color</span><span class=\"token punctuation\">:</span> white<span class=\"token punctuation\">;</span>\n                <span class=\"token property\">text-align</span><span class=\"token punctuation\">:</span> center<span class=\"token punctuation\">;</span>\n                <span class=\"token property\">margin</span><span class=\"token punctuation\">:</span> <span class=\"token number\">2</span>px <span class=\"token number\">0</span><span class=\"token punctuation\">;</span>\n            <span class=\"token punctuation\">}</span>\n            <span class=\"token selector\"><span class=\"token id\">#fruits</span>>li>a </span><span class=\"token punctuation\">{</span>\n                <span class=\"token property\">float</span><span class=\"token punctuation\">:</span> right<span class=\"token punctuation\">;</span>\n                <span class=\"token property\">text-decoration</span><span class=\"token punctuation\">:</span> none<span class=\"token punctuation\">;</span>\n                <span class=\"token property\">color</span><span class=\"token punctuation\">:</span> white<span class=\"token punctuation\">;</span>\n                <span class=\"token property\">position</span><span class=\"token punctuation\">:</span> relative<span class=\"token punctuation\">;</span>\n                <span class=\"token property\">right</span><span class=\"token punctuation\">:</span> <span class=\"token number\">5</span>px<span class=\"token punctuation\">;</span>\n            <span class=\"token punctuation\">}</span>\n            <span class=\"token selector\"><span class=\"token id\">#fruits</span>~input </span><span class=\"token punctuation\">{</span>\n                <span class=\"token property\">border</span><span class=\"token punctuation\">:</span> none<span class=\"token punctuation\">;</span>\n                <span class=\"token property\">outline</span><span class=\"token punctuation\">:</span> none<span class=\"token punctuation\">;</span>\n                <span class=\"token property\">font-size</span><span class=\"token punctuation\">:</span> <span class=\"token number\">18</span>px<span class=\"token punctuation\">;</span>\n            <span class=\"token punctuation\">}</span>\n            <span class=\"token selector\"><span class=\"token id\">#fruits</span>~input<span class=\"token attribute\">[type=text]</span> </span><span class=\"token punctuation\">{</span>\n                <span class=\"token property\">border-bottom</span><span class=\"token punctuation\">:</span> <span class=\"token number\">1</span>px solid darkgray<span class=\"token punctuation\">;</span>\n                <span class=\"token property\">width</span><span class=\"token punctuation\">:</span> <span class=\"token number\">200</span>px<span class=\"token punctuation\">;</span>\n                <span class=\"token property\">height</span><span class=\"token punctuation\">:</span> <span class=\"token number\">50</span>px<span class=\"token punctuation\">;</span>\n                <span class=\"token property\">text-align</span><span class=\"token punctuation\">:</span> center<span class=\"token punctuation\">;</span>\n            <span class=\"token punctuation\">}</span>\n            <span class=\"token selector\"><span class=\"token id\">#fruits</span>~input<span class=\"token attribute\">[type=button]</span> </span><span class=\"token punctuation\">{</span>\n                <span class=\"token property\">width</span><span class=\"token punctuation\">:</span> <span class=\"token number\">80</span>px<span class=\"token punctuation\">;</span>\n                <span class=\"token property\">height</span><span class=\"token punctuation\">:</span> <span class=\"token number\">30</span>px<span class=\"token punctuation\">;</span>\n                <span class=\"token property\">background-color</span><span class=\"token punctuation\">:</span> coral<span class=\"token punctuation\">;</span>\n                <span class=\"token property\">color</span><span class=\"token punctuation\">:</span> white<span class=\"token punctuation\">;</span>\n                <span class=\"token property\">vertical-align</span><span class=\"token punctuation\">:</span> bottom<span class=\"token punctuation\">;</span>\n                <span class=\"token property\">cursor</span><span class=\"token punctuation\">:</span> pointer<span class=\"token punctuation\">;</span>\n            <span class=\"token punctuation\">}</span>\n        </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>style</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>head</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>body</span><span class=\"token punctuation\">></span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">id</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>container<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n            <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>ul</span> <span class=\"token attr-name\">id</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>fruits<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n                <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>li</span><span class=\"token punctuation\">></span></span>苹果<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>a</span> <span class=\"token attr-name\">href</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>javascript:void(0)<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>×<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>a</span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>li</span><span class=\"token punctuation\">></span></span>\n                <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>li</span><span class=\"token punctuation\">></span></span>香蕉<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>a</span> <span class=\"token attr-name\">href</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>javascript:void(0)<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>×<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>a</span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>li</span><span class=\"token punctuation\">></span></span>\n                <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>li</span><span class=\"token punctuation\">></span></span>火龙果<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>a</span> <span class=\"token attr-name\">href</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>javascript:void(0)<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>×<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>a</span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>li</span><span class=\"token punctuation\">></span></span>\n                <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>li</span><span class=\"token punctuation\">></span></span>西瓜<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>a</span> <span class=\"token attr-name\">href</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>javascript:void(0)<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>×<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>a</span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>li</span><span class=\"token punctuation\">></span></span>\n            <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>ul</span><span class=\"token punctuation\">></span></span>\n            <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>input</span> <span class=\"token attr-name\">type</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>text<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">name</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>fruit<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n            <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>input</span> <span class=\"token attr-name\">id</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>ok<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">type</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>button<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">value</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>确定<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>script</span> <span class=\"token attr-name\">src</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>js/ad.js<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token script language-javascript\"></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>script</span><span class=\"token punctuation\">></span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>script</span><span class=\"token punctuation\">></span></span><span class=\"token script language-javascript\">\n            <span class=\"token comment\" spellcheck=\"true\">//   解决浏览器兼容的方法</span>\n<span class=\"token comment\" spellcheck=\"true\">//            String.prototype.trim = String.prototype.trim ||</span>\n<span class=\"token comment\" spellcheck=\"true\">//            function(){</span>\n<span class=\"token comment\" spellcheck=\"true\">//                this;    //  this相当于Python中的self</span>\n<span class=\"token comment\" spellcheck=\"true\">//                return \"\";</span>\n<span class=\"token comment\" spellcheck=\"true\">//            };</span>\n            <span class=\"token keyword\">function</span> <span class=\"token function\">deleteItem</span><span class=\"token punctuation\">(</span>evt<span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n                evt <span class=\"token operator\">=</span> evt <span class=\"token operator\">||</span> window<span class=\"token punctuation\">.</span>event<span class=\"token punctuation\">;</span>\n                evt<span class=\"token punctuation\">.</span>target <span class=\"token operator\">=</span> evt<span class=\"token punctuation\">.</span>target <span class=\"token operator\">||</span> evt<span class=\"token punctuation\">.</span>srcElement<span class=\"token punctuation\">;</span>\n                <span class=\"token keyword\">var</span> li <span class=\"token operator\">=</span> evt<span class=\"token punctuation\">.</span>target<span class=\"token punctuation\">.</span>parentNode<span class=\"token punctuation\">;</span>    \n                <span class=\"token comment\" spellcheck=\"true\">// remove删除节点（元素）</span>\n                li<span class=\"token punctuation\">.</span>parentNode<span class=\"token punctuation\">.</span><span class=\"token function\">removeChild</span><span class=\"token punctuation\">(</span>li<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            <span class=\"token punctuation\">}</span>\n            <span class=\"token keyword\">var</span> delAnchors <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">querySelectorAll</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"#fruits a\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            <span class=\"token comment\" spellcheck=\"true\">//   给标签绑定事件</span>\n            <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">var</span> i <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span>i <span class=\"token operator\">&lt;</span> delAnchors<span class=\"token punctuation\">.</span>length<span class=\"token punctuation\">;</span>i <span class=\"token operator\">+</span><span class=\"token operator\">=</span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n                <span class=\"token function\">bind</span><span class=\"token punctuation\">(</span>delAnchors<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span><span class=\"token string\">\"click\"</span><span class=\"token punctuation\">,</span>deleteItem<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            <span class=\"token punctuation\">}</span>\n            <span class=\"token keyword\">var</span> okBtn <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">getElementById</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"ok\"</span><span class=\"token punctuation\">)</span>\n            <span class=\"token keyword\">var</span> fruitInput <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">querySelector</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"#container>input[type=text]\"</span><span class=\"token punctuation\">)</span>\n            <span class=\"token keyword\">var</span> fruitsUl <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">getElementById</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"fruits\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            <span class=\"token function\">bind</span><span class=\"token punctuation\">(</span>okBtn<span class=\"token punctuation\">,</span><span class=\"token string\">\"click\"</span><span class=\"token punctuation\">,</span><span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n                <span class=\"token keyword\">var</span> fruitName <span class=\"token operator\">=</span> fruitInput<span class=\"token punctuation\">.</span>value<span class=\"token punctuation\">.</span><span class=\"token function\">trim</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>fruitName<span class=\"token punctuation\">.</span>length <span class=\"token operator\">></span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n                    <span class=\"token comment\" spellcheck=\"true\">// 创建新节点，创建新标签</span>\n                    <span class=\"token keyword\">var</span> li <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">createElement</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"li\"</span><span class=\"token punctuation\">)</span>\n                    li<span class=\"token punctuation\">.</span>innerHTML <span class=\"token operator\">=</span> fruitName<span class=\"token punctuation\">;</span>\n                    <span class=\"token keyword\">var</span> a <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">createElement</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"a\"</span><span class=\"token punctuation\">)</span>\n                    a<span class=\"token punctuation\">.</span>innerHTML <span class=\"token operator\">=</span> <span class=\"token string\">\"x\"</span>\n                    a<span class=\"token punctuation\">.</span>href <span class=\"token operator\">=</span> <span class=\"token string\">\"javascript:void(0)\"</span>\n                    <span class=\"token function\">bind</span><span class=\"token punctuation\">(</span>a<span class=\"token punctuation\">,</span><span class=\"token string\">\"click\"</span><span class=\"token punctuation\">,</span>deleteItem<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                    <span class=\"token comment\" spellcheck=\"true\">//  appendChild追加，添加新的元素</span>\n                    li<span class=\"token punctuation\">.</span><span class=\"token function\">appendChild</span><span class=\"token punctuation\">(</span>a<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                    <span class=\"token comment\" spellcheck=\"true\">// fruitsUl.appendChild(li);</span>\n                    <span class=\"token comment\" spellcheck=\"true\">//  insertBefore  在某一个元素的前面添加节点（元素）</span>\n                    fruitsUl<span class=\"token punctuation\">.</span><span class=\"token function\">insertBefore</span><span class=\"token punctuation\">(</span>li<span class=\"token punctuation\">,</span>fruitsUl<span class=\"token punctuation\">.</span>firstChild<span class=\"token punctuation\">)</span>\n                <span class=\"token punctuation\">}</span>\n            <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n        </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>script</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>body</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>html</span><span class=\"token punctuation\">></span></span>\n\n\n</code></pre>\n","site":{"data":{}},"excerpt":"","more":"<h3 id=\"practice-one\"><a href=\"#practice-one\" class=\"headerlink\" title=\"practice-one\"></a>practice-one</h3><pre><code class=\"html\">&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n    &lt;head&gt;\n        &lt;meta charset=&quot;UTF-8&quot;&gt;\n        &lt;title&gt;&lt;/title&gt;\n        &lt;style&gt;\n            #data {\n                border-collapse: collapse;\n            }\n            #data td, #data th {\n                width: 120px;\n                height: 40px;\n                text-align: center;\n                border: 1px solid black;\n            }\n            #buttons {\n                margin: 10px 0;\n            }\n        &lt;/style&gt;\n    &lt;/head&gt;\n    &lt;body&gt;\n        &lt;div id=&quot;big&quot;&gt;\n        &lt;table id=&quot;data&quot;&gt;\n            &lt;caption&gt;数据统计表&lt;/caption&gt;\n            &lt;tr&gt;\n                &lt;th&gt;姓名&lt;/th&gt;\n                &lt;th&gt;年龄&lt;/th&gt;\n                &lt;th&gt;性别&lt;/th&gt;\n                &lt;th&gt;身高&lt;/th&gt;\n                &lt;th&gt;体重&lt;/th&gt;\n            &lt;/tr&gt;\n            &lt;tr&gt;\n                &lt;td&gt;Item1&lt;/td&gt;\n                &lt;td&gt;Item2&lt;/td&gt;\n                &lt;td&gt;Item3&lt;/td&gt;\n                &lt;td&gt;Item4&lt;/td&gt;\n                &lt;td&gt;Item5&lt;/td&gt;\n            &lt;/tr&gt;\n            &lt;tr&gt;\n                &lt;td&gt;Item1&lt;/td&gt;\n                &lt;td&gt;Item2&lt;/td&gt;\n                &lt;td&gt;Item3&lt;/td&gt;\n                &lt;td&gt;Item4&lt;/td&gt;\n                &lt;td&gt;Item5&lt;/td&gt;\n            &lt;/tr&gt;\n            &lt;tr&gt;\n                &lt;td&gt;Item1&lt;/td&gt;\n                &lt;td&gt;Item2&lt;/td&gt;\n                &lt;td&gt;Item3&lt;/td&gt;\n                &lt;td&gt;Item4&lt;/td&gt;\n                &lt;td&gt;Item5&lt;/td&gt;\n            &lt;/tr&gt;\n            &lt;tr&gt;\n                &lt;td&gt;Item1&lt;/td&gt;\n                &lt;td&gt;Item2&lt;/td&gt;\n                &lt;td&gt;Item3&lt;/td&gt;\n                &lt;td&gt;Item4&lt;/td&gt;\n                &lt;td&gt;Item5&lt;/td&gt;\n            &lt;/tr&gt;\n            &lt;tr&gt;\n                &lt;td&gt;Item1&lt;/td&gt;\n                &lt;td&gt;Item2&lt;/td&gt;\n                &lt;td&gt;&lt;a&gt;Item3&lt;/a&gt;&lt;/td&gt;\n                &lt;td&gt;Item4&lt;/td&gt;\n                &lt;td&gt;Item5&lt;/td&gt;\n            &lt;/tr&gt;\n            &lt;tr&gt;\n                &lt;td&gt;Item1&lt;/td&gt;\n                &lt;td&gt;Item2&lt;/td&gt;\n                &lt;td&gt;Item3&lt;/td&gt;\n                &lt;td&gt;Item4&lt;/td&gt;\n                &lt;td&gt;&lt;a&gt;Item5&lt;/a&gt;&lt;/td&gt;\n            &lt;/tr&gt;\n        &lt;/table&gt;\n        &lt;/div&gt;\n        &lt;div id=&quot;buttons&quot;&gt;\n            &lt;button id=&quot;pretty&quot;&gt;美化表格&lt;/button&gt;\n            &lt;button id=&quot;clear&quot;&gt;清除数据&lt;/button&gt;\n            &lt;button id=&quot;remove&quot;&gt;删单元格&lt;/button&gt;\n            &lt;button id=&quot;add&quot;&gt;加单元格&lt;/button&gt;\n            &lt;button id=&quot;hide&quot;&gt;隐藏表格&lt;/button&gt;\n        &lt;/div&gt;\n        &lt;script&gt;\n            // 美化表格\n            var prettyForm = document.getElementById(&quot;pretty&quot;);\n            prettyForm.addEventListener(&quot;click&quot;, function() {\n                var tr = document.getElementsByTagName(&quot;tr&quot;);\n                for (var i = 1; i &lt; tr.length; i += 1) {\n                    if (i % 2) {\n                        tr[i].style.backgroundColor = &quot;cyan&quot;;\n                    } else {\n                        tr[i].style.backgroundColor = &quot;red&quot;;\n                    };\n                }\n            });\n\n            // 清除数据\n            var clearForm = document.getElementById(&quot;clear&quot;);\n            clearForm.addEventListener(&quot;click&quot;, function() {\n                var td = document.getElementsByTagName(&quot;td&quot;);\n                for (var i = 0; i &lt; td.length; i += 1) {\n                    td[i].textContent = &quot;&quot;;            \n                }\n            });\n\n            // 删除单元格\n            var removeForm = document.getElementById(&quot;remove&quot;);\n            removeForm.addEventListener(&quot;click&quot;, function() {\n                var tr = document.getElementsByTagName(&quot;tr&quot;);\n                if (tr.length &gt; 1) {\n                    tr[tr.length-1].remove();\n                }\n            });\n\n            // 添加单元格\n//            var addForm = document.getElementById(&quot;add&quot;);\n//            addForm.addEventListener(&quot;click&quot;, function() {\n//                var td = document.querySelectorAll(&quot;tr&gt;td&quot;);\n//                td.parentNode.appendChild(td);\n//            });\n\n            // 隐藏表格\n            var hideForm = document.getElementById(&quot;hide&quot;);\n            var form = document.getElementById(&quot;big&quot;);\n            hideForm.addEventListener(&quot;click&quot;, function(event) {\n                var buto = event.target;\n                if (buto.isHidden) {\n                    form.style.display = &quot;&quot;;\n                    buto.isHidden = false;\n                    buto.textContent = &quot;显示表格&quot;;\n                } else {\n                    form.style.display = &quot;none&quot;;\n                    buto.isHidden = true;\n                    buto.textContent = &quot;隐藏表格&quot;;\n                }\n            });\n        &lt;/script&gt;\n    &lt;/body&gt;\n&lt;/html&gt;\n\n</code></pre>\n<h3 id=\"practice-two\"><a href=\"#practice-two\" class=\"headerlink\" title=\"practice-two\"></a>practice-two</h3><pre><code class=\"html\">&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n    &lt;head&gt;\n        &lt;meta charset=&quot;utf-8&quot; /&gt;\n        &lt;title&gt;&lt;/title&gt;\n        &lt;style&gt;\n            * {\n                margin: 0px;\n                padding: 0px;\n            }\n            #box {\n                /*下面表示上下10px，左右平分*/\n                /*margin: 10px auto;*/\n                margin-left: 400px;\n                margin-top: 100px;\n                width: 500px;\n                height: 300px;\n                background-color: aquamarine;\n                /*hidden ---- 隐藏*/\n                /*scroll ---- 滚动条*/\n                overflow: hidden;\n            }\n            button{\n                position: relative;\n                margin-left: 40px;\n                left: 500px;\n                top: 50px;\n                width: 100px;\n                height: 50px;\n                background-color: red;\n                font-size: 20px;\n                cursor: pointer;\n                outline: none;\n                border: none;\n            }\n            .small {\n                width: 50px;\n                height: 50px;\n                float: left;\n            }\n        &lt;/style&gt;\n    &lt;/head&gt;\n    &lt;body&gt;\n        &lt;div id=&quot;box&quot;&gt;\n\n        &lt;/div&gt;\n        &lt;div&gt;\n            &lt;button id=&quot;but1&quot;&gt;添加&lt;/button&gt;\n            &lt;button id=&quot;but2&quot;&gt;闪烁&lt;/button&gt;\n        &lt;/div&gt;\n        &lt;script&gt;\n            // 设置随机色\n            function randomColor() {\n                var r = parseInt(Math.random() * 256);\n                var g = parseInt(Math.random() * 256);\n                var b = parseInt(Math.random() * 256);\n                return &quot;rgb(&quot; + r + &quot;,&quot; + g + &quot;,&quot; + b + &quot;)&quot;    ;\n            }\n\n\n            function addBox() {\n                // 创建新的div\n                var div = document.createElement(&quot;div&quot;);\n                // 调用style中的类选择器的样式\n                div.className = &quot;small&quot;;\n                div.style.backgroundColor = randomColor();\n                // 添加到前面\n                Box.insertBefore(div, Box.firstChild);\n                // 添加到后面\n//                Box.appendChild(div);    \n            }\n\n\n            function blinkBox() {\n                if (flag) {\n                    // 绑定一个计时器\n                    timerId = setInterval(function() {\n                        var adv = document.querySelectorAll(&quot;#box&gt;div&quot;);\n                        for (var i = 0; i &lt; adv.length; i += 1) {\n                            adv[i].style.backgroundColor = randomColor();\n                        }\n                    }, 50);\n                    // blinkButton.textContent = &quot;暂停&quot;;\n                    // flag = !flag;\n                } else {\n                    clearInterval(timerId);\n                    // flag = !flag;\n                    // blinkButton.textContent = &quot;闪烁&quot;;\n                };\n                blinkButton.textContent = flag?&quot;暂停&quot;:&quot;闪烁&quot;;\n                flag = !flag;\n            }\n\n\n            var flag = true;\n            var addButton = document.getElementById(&quot;but1&quot;);\n\n            var Box = document.getElementById(&quot;box&quot;);\n            addButton.addEventListener(&quot;click&quot;, addBox);\n\n            var blinkButton = document.getElementById(&quot;but2&quot;);\n            blinkButton.addEventListener(&quot;click&quot;, blinkBox);\n        &lt;/script&gt;\n    &lt;/body&gt;\n&lt;/html&gt;\n\n</code></pre>\n<h3 id=\"practice-three\"><a href=\"#practice-three\" class=\"headerlink\" title=\"practice-three\"></a>practice-three</h3><pre><code class=\"html\">\n&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n    &lt;head&gt;\n        &lt;meta charset=&quot;UTF-8&quot;&gt;\n        &lt;title&gt;&lt;/title&gt;\n        &lt;style&gt;\n            * {\n                margin: 0;\n                padding: 0;\n            }\n            #container {\n                margin: 20px 50px;\n            }\n            #fruits li {\n                list-style: none;\n                width: 200px;\n                height: 50px;\n                font-size: 20px;\n                line-height: 50px;\n                background-color: cadetblue;\n                color: white;\n                text-align: center;\n                margin: 2px 0;\n            }\n            #fruits&gt;li&gt;a {\n                float: right;\n                text-decoration: none;\n                color: white;\n                position: relative;\n                right: 5px;\n            }\n            #fruits~input {\n                border: none;\n                outline: none;\n                font-size: 18px;\n            }\n            #fruits~input[type=text] {\n                border-bottom: 1px solid darkgray;\n                width: 200px;\n                height: 50px;\n                text-align: center;\n            }\n            #fruits~input[type=button] {\n                width: 80px;\n                height: 30px;\n                background-color: coral;\n                color: white;\n                vertical-align: bottom;\n                cursor: pointer;\n            }\n        &lt;/style&gt;\n    &lt;/head&gt;\n    &lt;body&gt;\n        &lt;div id=&quot;container&quot;&gt;\n            &lt;ul id=&quot;fruits&quot;&gt;\n                &lt;li&gt;苹果&lt;a href=&quot;javascript:void(0)&quot;&gt;×&lt;/a&gt;&lt;/li&gt;\n                &lt;li&gt;香蕉&lt;a href=&quot;javascript:void(0)&quot;&gt;×&lt;/a&gt;&lt;/li&gt;\n                &lt;li&gt;火龙果&lt;a href=&quot;javascript:void(0)&quot;&gt;×&lt;/a&gt;&lt;/li&gt;\n                &lt;li&gt;西瓜&lt;a href=&quot;javascript:void(0)&quot;&gt;×&lt;/a&gt;&lt;/li&gt;\n            &lt;/ul&gt;\n            &lt;input type=&quot;text&quot; name=&quot;fruit&quot;&gt;\n            &lt;input id=&quot;ok&quot; type=&quot;button&quot; value=&quot;确定&quot;&gt;\n        &lt;/div&gt;\n        &lt;script src=&quot;js/ad.js&quot;&gt;&lt;/script&gt;\n        &lt;script&gt;\n            //   解决浏览器兼容的方法\n//            String.prototype.trim = String.prototype.trim ||\n//            function(){\n//                this;    //  this相当于Python中的self\n//                return &quot;&quot;;\n//            };\n            function deleteItem(evt){\n                evt = evt || window.event;\n                evt.target = evt.target || evt.srcElement;\n                var li = evt.target.parentNode;    \n                // remove删除节点（元素）\n                li.parentNode.removeChild(li);\n            }\n            var delAnchors = document.querySelectorAll(&quot;#fruits a&quot;);\n            //   给标签绑定事件\n            for (var i = 0;i &lt; delAnchors.length;i += 1){\n                bind(delAnchors[i],&quot;click&quot;,deleteItem);\n            }\n            var okBtn = document.getElementById(&quot;ok&quot;)\n            var fruitInput = document.querySelector(&quot;#container&gt;input[type=text]&quot;)\n            var fruitsUl = document.getElementById(&quot;fruits&quot;);\n            bind(okBtn,&quot;click&quot;,function(){\n                var fruitName = fruitInput.value.trim();\n                if (fruitName.length &gt; 0){\n                    // 创建新节点，创建新标签\n                    var li = document.createElement(&quot;li&quot;)\n                    li.innerHTML = fruitName;\n                    var a = document.createElement(&quot;a&quot;)\n                    a.innerHTML = &quot;x&quot;\n                    a.href = &quot;javascript:void(0)&quot;\n                    bind(a,&quot;click&quot;,deleteItem);\n                    //  appendChild追加，添加新的元素\n                    li.appendChild(a);\n                    // fruitsUl.appendChild(li);\n                    //  insertBefore  在某一个元素的前面添加节点（元素）\n                    fruitsUl.insertBefore(li,fruitsUl.firstChild)\n                }\n            })\n        &lt;/script&gt;\n    &lt;/body&gt;\n&lt;/html&gt;\n\n\n</code></pre>\n"},{"title":"JavaScript-event","date":"2018-04-06T12:59:40.000Z","author":"smile","_content":"\n###  获取页面中的单个标签/元素的方法\n\n- getElementsByClassName()\t获取同一类名的所有标签\n- querySelector() \t查询指定选择器获取指定选择器的单个标签\n- querySelectorAll()\t查询指定选择器获取指定选择器的所有标签\n- getElementById()\t\t获取指定Id的标签\n- getElementsByTagName()\t获取指定标签名的列表\n\n###  元素访问节点的方法\n\n- children\t元素访问子节点\n- parentNode\t元素访问父节点\n- previousSibling\t元素访问上一个兄弟节点\n- nextSibling\t元素访问下一个兄弟节点\n\n###   绑定事件\n\n#####  实例1\n\n```html\n<!DOCTYPE html>\n<html>\n\t<head>\n\t\t<meta charset=\"UTF-8\">\n\t\t<title></title>\n\t\t<style type=\"text/css\">\n\t\t\t* {\n\t\t\t\tmargin: 0px;\n\t\t\t\tpadding: 0px;\n\t\t\t}\n\t\t\tdiv {\n\t\t\t\tmargin-top: 100px;\n\t\t\t\ttext-align: center;\n\t\t\t}\n\t\t</style>\n\t</head>\n\t<body>\n\t\t<div>\n\t\t\t<img id=\"Top\" src=\"img/picture-1.jpg\" alt=\"\" />\n\t\t</div>\n\t\t<div id=\"foot\">\n\t\t\t<img src=\"img/thumb-1.jpg\" alt=\"\" />\n\t\t\t<img src=\"img/thumb-2.jpg\" alt=\"\" />\n\t\t\t<img src=\"img/thumb-3.jpg\" alt=\"\" />\n\t\t</div>\n\t\t<script type=\"text/javascript\">\n\t\t\tvar index = 0;\n\t\t\tvar ico = document.querySelectorAll(\"#foot>img\");\n\t\t\tfor (var i = 0;i < ico.length; i += 1) {\n\t\t\t\t// 给每张图片设置一个属性\n\t\t\t\tico[i].index = i;\n\t\t\t\t// 绑定一个点击事件\n\t\t\t\tico[i].addEventListener(\"click\", function(event) {\n\t\t\t\t\t// 获取点击事件的事件源\n\t\t\t\t\tvar img = event.target;\n\t\t\t\t\t// 点击之后要做的事情\n\t\t\t\t\tvar pictur = document.getElementById(\"Top\");\n\t\t\t\t\t// 更改图片的SRC属性\n\t\t\t\t\tpictur.src = \"img/picture-\" + (img.index + 1) + \".jpg\";\n\t\t\t\t});\n\t\t\t}\n\t\t</script>\n\t</body>\n</html>\n\n```\n\n#####  实例2\n\n```html\n<!DOCTYPE html>\n<html>\n\t<head>\n\t\t<meta charset=\"UTF-8\">\n\t\t<title></title>\n\t\t<style type=\"text/css\">\n\t\t\t* {\n\t\t\t\tmargin: 0px;\n\t\t\t\tpadding: 0px;\n\t\t\t}\n\t\t\t#but>button {\n\t\t\t\twidth: 200px;\n\t\t\t\theight: 100px;\n\t\t\t\tfont: 22px/30px arial;\n\t\t\t\tbackground-color: red;\n\t\t\t\tcolor: white;\n\t\t\t\toutline: none;\n\t\t\t\tborder: none;\n\t\t\t}\n\t\t</style>\n\t</head>\n\t<body>\n\t\t<div id=\"but\">\n\t\t\t<button><input type=\"checkbox\">0</button>\n\t\t\t<button><input type=\"checkbox\">1</button>\n\t\t\t<button><input type=\"checkbox\">2</button>\n\t\t\t<button><input type=\"checkbox\">3</button>\n\t\t</div>\n\t\t<script>\n\t\t\tvar buts = document.querySelectorAll(\"#but>button\");\n\t\t\tfor (var i = 0; i < buts.length; i += 1) {\n\t\t\t\tbuts[i].firstChild.addEventListener(\"click\", function(event) {\n\t\t\t\t\tvar checkbox = event.target || event.srcElement;\n\t\t\t\t\tif (checkbox.checked) {\n\t\t\t\t\t\tcheckbox.parentNode.style.backgroundColor = \"blue\";\n\t\t\t\t\t} else {\n\t\t\t\t\t\tcheckbox.parentNode.style.backgroundColor = \"red\";\n\t\t\t\t\t}\n\t\t\t\t\tevent.stopPropagation();\n\t\t\t\t});\n\t\t\t\tbuts[i].addEventListener(\"click\", function(event) {\n\t\t\t\t\t// 事件.target     选中事件源\n\t\t\t\t\tvar button = event.target || event.srcElement;    // 验证浏览器的兼容性问题，通过短路或运算解决\n\t\t\t\t\tvar checkbox = button.firstChild;\n\t\t\t\t\tcheckbox.checked = !checkbox.checked;\n//\t\t\t\t\twindow.alert(\"你选中了\" + button.textContent);\n\t\t\t\t\tif (checkbox.checked) {\n\t\t\t\t\t\tbutton.style.backgroundColor = \"blue\";\n\t\t\t\t\t} else {\n\t\t\t\t\t\tbutton.style.backgroundColor = \"red\";\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t</script>\n\t</body>\n</html>\n\n```\n\n#####  实例3\n\n```html\n<!DOCTYPE html>\n<html>\n\t<head>\n\t\t<meta charset=\"UTF-8\">\n\t\t<title></title>\n\t\t<style type=\"text/css\">\n\t\t\t*{\n\t\t\t\tmargin: 0px;\n\t\t\t\tpadding: 0px;\n\t\t\t}\n\t\t\t#div0{\n\t\t\t\tmargin-left: 600px;\n\t\t\t\tmargin-top: 100px;\n\t\t\t}\n\t\t\t#div1{\n\t\t\t\twidth: 300px;\n\t\t\t\theight: 300px;\n\t\t\t\tbackground-color: red;\n\t\t\t\t/*position: absolute;*/\n\t\t\t}\n\t\t\t#div2{\n\t\t\t\twidth: 200px;\n\t\t\t\theight: 200px;\n\t\t\t\tbackground-color: blue;\n\t\t\t\t/*position: absolute;\n\t\t\t\tleft: 50px;\n\t\t\t\ttop: 50px;*/\n\t\t\t}\n\t\t\t#div3{\n\t\t\t\twidth: 100px;\n\t\t\t\theight: 100px;\n\t\t\t\t/*position: absolute;\n\t\t\t\ttop: 50px;\n\t\t\t\tleft: 50px;*/\n\t\t\t\tbackground-color: cyan;\n\t\t\t}\n\t\t\t#div2, #div3{\n\t\t\t\tposition: relative;\n\t\t\t\ttop: 50px;\n\t\t\t\tleft: 50px;\n\t\t\t}\n\t\t</style>\n\t</head>\n\t<body>\n\t\t<div id=\"div0\">\n\t\t\t<div id=\"div1\">\n\t\t\t\t<div id=\"div2\">\n\t\t\t\t\t<div id=\"div3\"></div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t\t<script type=\"text/javascript\">\n\t\t\tvar one = document.querySelector(\"#div1\");\n\t\t\tvar two = document.querySelector(\"#div2\");\n\t\t\tvar three = document.querySelector(\"#div3\");\n\t\t\t// addEventListener方法的第一个参数是事件名\n\t\t\t// 第二个参数是事件发生时需要执行的回调函数\n\t\t\t// 第三个参数是一个布尔值\n\t\t\t//\t如果是True,表示事件捕获 ----- 从外层向内传递事件\n\t\t\t//\t如果是False,表示事件捕获 ----- 从内层向外传递事件\n\t\t\t// 一般选择事件捕获\n\t\t\t// 如果想阻止事件的传播行为可以调用事件对象的stopPropagation方法\n\t\t\tone.addEventListener(\"click\", function() {\n\t\t\t\twindow.alert(\"I am one!\");\n\t\t\t});\n\t\t\ttwo.addEventListener(\"click\", function() {\n\t\t\t\twindow.alert(\"I am two!\");\n\t\t\t});\n\t\t\tthree.addEventListener(\"click\", function() {\n\t\t\t\twindow.alert(\"I am three!\");\n\t\t\t\tevent.stopPropagation();\n\t\t\t});\n\t\t\t// 事件回调函数中的第一个参数是事件对象（封装了和事件相关的信息）\n\t\t\tdocument.addEventListener(\"click\", function(event) {\n\t\t\t\twindow.alert(\"I am body!\");\n\t\t\t});\n\t\t</script>\n\t</body>\n</html>\n\n```\n\n#####  实例4\n\n```html\n<!DOCTYPE html>\n<html>\n\t<head>\n\t\t<meta charset=\"UTF-8\">\n\t\t<title></title>\n\t</head>\n\t<body>\n\t\t<button id=\"ok\">确定</button>\n\t\t<script>\n\t\t\tvar okButton = document.querySelector(\"#ok\");\n\t\t\t// 给okButton绑定click事件的回调函数\n\t\t\tfunction closeWindow() {\n\t\t\t\tif (window.confirm(\"Close the window?\")) {\n\t\t\t\t\twindow.close();\n\t\t\t\t} \n\t\t\t}\n\t\t\t\n\t\t\t\n\t\t\tfunction helloWindow() {\n\t\t\t\twindow.alert(\"hello, world!\");\n\t\t\t\tokButton.removeEventListener()(\"click\", closeWindow);\n\t\t\t}\n\t\t\t// 当你知道事件什么时候发生,但是你不知道这个事件什么时候发生\n\t\t\t// 在这种情况下通常处理方式都是绑定一个事件回调函数\n\t\t\t// closeWindow以及下面的匿名函数都属于事件回调函数\t\t\n\t\t\tokButton.addEventListener(\"click\", helloWindow);\n\t\t\t\n\t\t\tokButton.addEventListener(\"click\", closeWindow);\n\t\t\t\n\t\t\t// 按钮只能点一次的效果,并且考虑兼容性\n//\t\t\tif (okButton.addEventListener) {\n//\t\t\t\tokButton.addEventListener(\"click\", function() {\n//\t\t\t\t\twindow.alert(\"hello,world!\");\n//\t\t\t\t\tokButton.removeEventListener(\"click\", arguments.callee);\n//\t\t\t\t});\n//\t\t\t} else {\n//\t\t\t\tokButton.addEventListener(\"onclick\", function() {\n//\t\t\t\t\twindow.alert(\"hello,world!\");\n//\t\t\t\t\tokButton.removeEventListener(\"onclick\", arguments.callee);\n//\t\t\t\t});\n//\t\t\t}\n\t\t</script>\n\t</body>\n</html>\n\n```\n\n###  定时器\n\n```HTML\n<!DOCTYPE html>\n<html>\n\t<head>\n\t\t<meta charset=\"utf-8\" />\n\t\t<title></title>\n\t</head>\n\t<body>\n\t\t<h3><span id=\"counter\">5</span>s之后自动跳转到百度</h3>\n\t\t<script type=\"text/javascript\">\n\t\t\tvar count = 5;\n\t\t\tvar span = document.getElementById(\"counter\")\n//\t\t\tfunction delay() {\n//\t\t\t\tcount -= 1;\n//\t\t\t\tif (count == 0) {\n//\t\t\t\t\twindow.location.href = \"https://www.baidu.com\";\n//\t\t\t\t} else {\n//\t\t\t\t\tspan.textContent = count;\n//\t\t\t\t\twindow.setTimeout(delay, 1000);\n//\t\t\t\t}\n//\t\t\t}\n//\t\t\twindow.setTimeout(delay, 1000);\n\t\t\t\n\t\t\t\n\t\t\twindow.setTimeout(function() {\n\t\t\t\tcount -= 1;\n\t\t\t\tif (count == 0) {\n\t\t\t\t\twindow.location.href = \" \";\n\t\t\t\t} else {\n\t\t\t\t\tspan.textContent = count;\n\t\t\t\t\t//arguments是函数中的隐含对象\n\t\t\t\t\t//通过arguments[0],ageuments[1],可以获得函数的参数\n\t\t\t\t\t//arguments.callee 伪数组,可以拿到正在被调用的函数\n\t\t\t\t\twindow.setTimeout(arguments.callee, 1000);\n\t\t\t\t}\n\t\t\t}, 1000);\n\t\t</script>\n\t</body>\n</html>\n\n```\n\n","source":"_posts/前端/JavaScript-event.md","raw":"---\ntitle: JavaScript-event\ndate: 2018-04-06 20:59:40\nauthor: smile\ncategories: 前端\ntags:\n  - tag\n  - JavaScript\n---\n\n###  获取页面中的单个标签/元素的方法\n\n- getElementsByClassName()\t获取同一类名的所有标签\n- querySelector() \t查询指定选择器获取指定选择器的单个标签\n- querySelectorAll()\t查询指定选择器获取指定选择器的所有标签\n- getElementById()\t\t获取指定Id的标签\n- getElementsByTagName()\t获取指定标签名的列表\n\n###  元素访问节点的方法\n\n- children\t元素访问子节点\n- parentNode\t元素访问父节点\n- previousSibling\t元素访问上一个兄弟节点\n- nextSibling\t元素访问下一个兄弟节点\n\n###   绑定事件\n\n#####  实例1\n\n```html\n<!DOCTYPE html>\n<html>\n\t<head>\n\t\t<meta charset=\"UTF-8\">\n\t\t<title></title>\n\t\t<style type=\"text/css\">\n\t\t\t* {\n\t\t\t\tmargin: 0px;\n\t\t\t\tpadding: 0px;\n\t\t\t}\n\t\t\tdiv {\n\t\t\t\tmargin-top: 100px;\n\t\t\t\ttext-align: center;\n\t\t\t}\n\t\t</style>\n\t</head>\n\t<body>\n\t\t<div>\n\t\t\t<img id=\"Top\" src=\"img/picture-1.jpg\" alt=\"\" />\n\t\t</div>\n\t\t<div id=\"foot\">\n\t\t\t<img src=\"img/thumb-1.jpg\" alt=\"\" />\n\t\t\t<img src=\"img/thumb-2.jpg\" alt=\"\" />\n\t\t\t<img src=\"img/thumb-3.jpg\" alt=\"\" />\n\t\t</div>\n\t\t<script type=\"text/javascript\">\n\t\t\tvar index = 0;\n\t\t\tvar ico = document.querySelectorAll(\"#foot>img\");\n\t\t\tfor (var i = 0;i < ico.length; i += 1) {\n\t\t\t\t// 给每张图片设置一个属性\n\t\t\t\tico[i].index = i;\n\t\t\t\t// 绑定一个点击事件\n\t\t\t\tico[i].addEventListener(\"click\", function(event) {\n\t\t\t\t\t// 获取点击事件的事件源\n\t\t\t\t\tvar img = event.target;\n\t\t\t\t\t// 点击之后要做的事情\n\t\t\t\t\tvar pictur = document.getElementById(\"Top\");\n\t\t\t\t\t// 更改图片的SRC属性\n\t\t\t\t\tpictur.src = \"img/picture-\" + (img.index + 1) + \".jpg\";\n\t\t\t\t});\n\t\t\t}\n\t\t</script>\n\t</body>\n</html>\n\n```\n\n#####  实例2\n\n```html\n<!DOCTYPE html>\n<html>\n\t<head>\n\t\t<meta charset=\"UTF-8\">\n\t\t<title></title>\n\t\t<style type=\"text/css\">\n\t\t\t* {\n\t\t\t\tmargin: 0px;\n\t\t\t\tpadding: 0px;\n\t\t\t}\n\t\t\t#but>button {\n\t\t\t\twidth: 200px;\n\t\t\t\theight: 100px;\n\t\t\t\tfont: 22px/30px arial;\n\t\t\t\tbackground-color: red;\n\t\t\t\tcolor: white;\n\t\t\t\toutline: none;\n\t\t\t\tborder: none;\n\t\t\t}\n\t\t</style>\n\t</head>\n\t<body>\n\t\t<div id=\"but\">\n\t\t\t<button><input type=\"checkbox\">0</button>\n\t\t\t<button><input type=\"checkbox\">1</button>\n\t\t\t<button><input type=\"checkbox\">2</button>\n\t\t\t<button><input type=\"checkbox\">3</button>\n\t\t</div>\n\t\t<script>\n\t\t\tvar buts = document.querySelectorAll(\"#but>button\");\n\t\t\tfor (var i = 0; i < buts.length; i += 1) {\n\t\t\t\tbuts[i].firstChild.addEventListener(\"click\", function(event) {\n\t\t\t\t\tvar checkbox = event.target || event.srcElement;\n\t\t\t\t\tif (checkbox.checked) {\n\t\t\t\t\t\tcheckbox.parentNode.style.backgroundColor = \"blue\";\n\t\t\t\t\t} else {\n\t\t\t\t\t\tcheckbox.parentNode.style.backgroundColor = \"red\";\n\t\t\t\t\t}\n\t\t\t\t\tevent.stopPropagation();\n\t\t\t\t});\n\t\t\t\tbuts[i].addEventListener(\"click\", function(event) {\n\t\t\t\t\t// 事件.target     选中事件源\n\t\t\t\t\tvar button = event.target || event.srcElement;    // 验证浏览器的兼容性问题，通过短路或运算解决\n\t\t\t\t\tvar checkbox = button.firstChild;\n\t\t\t\t\tcheckbox.checked = !checkbox.checked;\n//\t\t\t\t\twindow.alert(\"你选中了\" + button.textContent);\n\t\t\t\t\tif (checkbox.checked) {\n\t\t\t\t\t\tbutton.style.backgroundColor = \"blue\";\n\t\t\t\t\t} else {\n\t\t\t\t\t\tbutton.style.backgroundColor = \"red\";\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t</script>\n\t</body>\n</html>\n\n```\n\n#####  实例3\n\n```html\n<!DOCTYPE html>\n<html>\n\t<head>\n\t\t<meta charset=\"UTF-8\">\n\t\t<title></title>\n\t\t<style type=\"text/css\">\n\t\t\t*{\n\t\t\t\tmargin: 0px;\n\t\t\t\tpadding: 0px;\n\t\t\t}\n\t\t\t#div0{\n\t\t\t\tmargin-left: 600px;\n\t\t\t\tmargin-top: 100px;\n\t\t\t}\n\t\t\t#div1{\n\t\t\t\twidth: 300px;\n\t\t\t\theight: 300px;\n\t\t\t\tbackground-color: red;\n\t\t\t\t/*position: absolute;*/\n\t\t\t}\n\t\t\t#div2{\n\t\t\t\twidth: 200px;\n\t\t\t\theight: 200px;\n\t\t\t\tbackground-color: blue;\n\t\t\t\t/*position: absolute;\n\t\t\t\tleft: 50px;\n\t\t\t\ttop: 50px;*/\n\t\t\t}\n\t\t\t#div3{\n\t\t\t\twidth: 100px;\n\t\t\t\theight: 100px;\n\t\t\t\t/*position: absolute;\n\t\t\t\ttop: 50px;\n\t\t\t\tleft: 50px;*/\n\t\t\t\tbackground-color: cyan;\n\t\t\t}\n\t\t\t#div2, #div3{\n\t\t\t\tposition: relative;\n\t\t\t\ttop: 50px;\n\t\t\t\tleft: 50px;\n\t\t\t}\n\t\t</style>\n\t</head>\n\t<body>\n\t\t<div id=\"div0\">\n\t\t\t<div id=\"div1\">\n\t\t\t\t<div id=\"div2\">\n\t\t\t\t\t<div id=\"div3\"></div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t\t<script type=\"text/javascript\">\n\t\t\tvar one = document.querySelector(\"#div1\");\n\t\t\tvar two = document.querySelector(\"#div2\");\n\t\t\tvar three = document.querySelector(\"#div3\");\n\t\t\t// addEventListener方法的第一个参数是事件名\n\t\t\t// 第二个参数是事件发生时需要执行的回调函数\n\t\t\t// 第三个参数是一个布尔值\n\t\t\t//\t如果是True,表示事件捕获 ----- 从外层向内传递事件\n\t\t\t//\t如果是False,表示事件捕获 ----- 从内层向外传递事件\n\t\t\t// 一般选择事件捕获\n\t\t\t// 如果想阻止事件的传播行为可以调用事件对象的stopPropagation方法\n\t\t\tone.addEventListener(\"click\", function() {\n\t\t\t\twindow.alert(\"I am one!\");\n\t\t\t});\n\t\t\ttwo.addEventListener(\"click\", function() {\n\t\t\t\twindow.alert(\"I am two!\");\n\t\t\t});\n\t\t\tthree.addEventListener(\"click\", function() {\n\t\t\t\twindow.alert(\"I am three!\");\n\t\t\t\tevent.stopPropagation();\n\t\t\t});\n\t\t\t// 事件回调函数中的第一个参数是事件对象（封装了和事件相关的信息）\n\t\t\tdocument.addEventListener(\"click\", function(event) {\n\t\t\t\twindow.alert(\"I am body!\");\n\t\t\t});\n\t\t</script>\n\t</body>\n</html>\n\n```\n\n#####  实例4\n\n```html\n<!DOCTYPE html>\n<html>\n\t<head>\n\t\t<meta charset=\"UTF-8\">\n\t\t<title></title>\n\t</head>\n\t<body>\n\t\t<button id=\"ok\">确定</button>\n\t\t<script>\n\t\t\tvar okButton = document.querySelector(\"#ok\");\n\t\t\t// 给okButton绑定click事件的回调函数\n\t\t\tfunction closeWindow() {\n\t\t\t\tif (window.confirm(\"Close the window?\")) {\n\t\t\t\t\twindow.close();\n\t\t\t\t} \n\t\t\t}\n\t\t\t\n\t\t\t\n\t\t\tfunction helloWindow() {\n\t\t\t\twindow.alert(\"hello, world!\");\n\t\t\t\tokButton.removeEventListener()(\"click\", closeWindow);\n\t\t\t}\n\t\t\t// 当你知道事件什么时候发生,但是你不知道这个事件什么时候发生\n\t\t\t// 在这种情况下通常处理方式都是绑定一个事件回调函数\n\t\t\t// closeWindow以及下面的匿名函数都属于事件回调函数\t\t\n\t\t\tokButton.addEventListener(\"click\", helloWindow);\n\t\t\t\n\t\t\tokButton.addEventListener(\"click\", closeWindow);\n\t\t\t\n\t\t\t// 按钮只能点一次的效果,并且考虑兼容性\n//\t\t\tif (okButton.addEventListener) {\n//\t\t\t\tokButton.addEventListener(\"click\", function() {\n//\t\t\t\t\twindow.alert(\"hello,world!\");\n//\t\t\t\t\tokButton.removeEventListener(\"click\", arguments.callee);\n//\t\t\t\t});\n//\t\t\t} else {\n//\t\t\t\tokButton.addEventListener(\"onclick\", function() {\n//\t\t\t\t\twindow.alert(\"hello,world!\");\n//\t\t\t\t\tokButton.removeEventListener(\"onclick\", arguments.callee);\n//\t\t\t\t});\n//\t\t\t}\n\t\t</script>\n\t</body>\n</html>\n\n```\n\n###  定时器\n\n```HTML\n<!DOCTYPE html>\n<html>\n\t<head>\n\t\t<meta charset=\"utf-8\" />\n\t\t<title></title>\n\t</head>\n\t<body>\n\t\t<h3><span id=\"counter\">5</span>s之后自动跳转到百度</h3>\n\t\t<script type=\"text/javascript\">\n\t\t\tvar count = 5;\n\t\t\tvar span = document.getElementById(\"counter\")\n//\t\t\tfunction delay() {\n//\t\t\t\tcount -= 1;\n//\t\t\t\tif (count == 0) {\n//\t\t\t\t\twindow.location.href = \"https://www.baidu.com\";\n//\t\t\t\t} else {\n//\t\t\t\t\tspan.textContent = count;\n//\t\t\t\t\twindow.setTimeout(delay, 1000);\n//\t\t\t\t}\n//\t\t\t}\n//\t\t\twindow.setTimeout(delay, 1000);\n\t\t\t\n\t\t\t\n\t\t\twindow.setTimeout(function() {\n\t\t\t\tcount -= 1;\n\t\t\t\tif (count == 0) {\n\t\t\t\t\twindow.location.href = \" \";\n\t\t\t\t} else {\n\t\t\t\t\tspan.textContent = count;\n\t\t\t\t\t//arguments是函数中的隐含对象\n\t\t\t\t\t//通过arguments[0],ageuments[1],可以获得函数的参数\n\t\t\t\t\t//arguments.callee 伪数组,可以拿到正在被调用的函数\n\t\t\t\t\twindow.setTimeout(arguments.callee, 1000);\n\t\t\t\t}\n\t\t\t}, 1000);\n\t\t</script>\n\t</body>\n</html>\n\n```\n\n","slug":"前端/JavaScript-event","published":1,"updated":"2019-03-14T01:49:26.229Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjt87kqok0046r8r6vhuw7qsm","content":"<h3 id=\"获取页面中的单个标签-元素的方法\"><a href=\"#获取页面中的单个标签-元素的方法\" class=\"headerlink\" title=\"获取页面中的单个标签/元素的方法\"></a>获取页面中的单个标签/元素的方法</h3><ul>\n<li>getElementsByClassName()    获取同一类名的所有标签</li>\n<li>querySelector()     查询指定选择器获取指定选择器的单个标签</li>\n<li>querySelectorAll()    查询指定选择器获取指定选择器的所有标签</li>\n<li>getElementById()        获取指定Id的标签</li>\n<li>getElementsByTagName()    获取指定标签名的列表</li>\n</ul>\n<h3 id=\"元素访问节点的方法\"><a href=\"#元素访问节点的方法\" class=\"headerlink\" title=\"元素访问节点的方法\"></a>元素访问节点的方法</h3><ul>\n<li>children    元素访问子节点</li>\n<li>parentNode    元素访问父节点</li>\n<li>previousSibling    元素访问上一个兄弟节点</li>\n<li>nextSibling    元素访问下一个兄弟节点</li>\n</ul>\n<h3 id=\"绑定事件\"><a href=\"#绑定事件\" class=\"headerlink\" title=\"绑定事件\"></a>绑定事件</h3><h5 id=\"实例1\"><a href=\"#实例1\" class=\"headerlink\" title=\"实例1\"></a>实例1</h5><pre class=\" language-html\"><code class=\"language-html\"><span class=\"token doctype\">&lt;!DOCTYPE html></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>html</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>head</span><span class=\"token punctuation\">></span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>meta</span> <span class=\"token attr-name\">charset</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>UTF-8<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>title</span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>title</span><span class=\"token punctuation\">></span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>style</span> <span class=\"token attr-name\">type</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>text/css<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token style language-css\">\n            <span class=\"token selector\">* </span><span class=\"token punctuation\">{</span>\n                <span class=\"token property\">margin</span><span class=\"token punctuation\">:</span> <span class=\"token number\">0</span>px<span class=\"token punctuation\">;</span>\n                <span class=\"token property\">padding</span><span class=\"token punctuation\">:</span> <span class=\"token number\">0</span>px<span class=\"token punctuation\">;</span>\n            <span class=\"token punctuation\">}</span>\n            <span class=\"token selector\">div </span><span class=\"token punctuation\">{</span>\n                <span class=\"token property\">margin-top</span><span class=\"token punctuation\">:</span> <span class=\"token number\">100</span>px<span class=\"token punctuation\">;</span>\n                <span class=\"token property\">text-align</span><span class=\"token punctuation\">:</span> center<span class=\"token punctuation\">;</span>\n            <span class=\"token punctuation\">}</span>\n        </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>style</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>head</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>body</span><span class=\"token punctuation\">></span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span><span class=\"token punctuation\">></span></span>\n            <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>img</span> <span class=\"token attr-name\">id</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>Top<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">src</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>img/picture-1.jpg<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">alt</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span><span class=\"token punctuation\">\"</span></span> <span class=\"token punctuation\">/></span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">id</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>foot<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n            <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>img</span> <span class=\"token attr-name\">src</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>img/thumb-1.jpg<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">alt</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span><span class=\"token punctuation\">\"</span></span> <span class=\"token punctuation\">/></span></span>\n            <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>img</span> <span class=\"token attr-name\">src</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>img/thumb-2.jpg<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">alt</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span><span class=\"token punctuation\">\"</span></span> <span class=\"token punctuation\">/></span></span>\n            <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>img</span> <span class=\"token attr-name\">src</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>img/thumb-3.jpg<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">alt</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span><span class=\"token punctuation\">\"</span></span> <span class=\"token punctuation\">/></span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>script</span> <span class=\"token attr-name\">type</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>text/javascript<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token script language-javascript\">\n            <span class=\"token keyword\">var</span> index <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span>\n            <span class=\"token keyword\">var</span> ico <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">querySelectorAll</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"#foot>img\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">var</span> i <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span>i <span class=\"token operator\">&lt;</span> ico<span class=\"token punctuation\">.</span>length<span class=\"token punctuation\">;</span> i <span class=\"token operator\">+</span><span class=\"token operator\">=</span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n                <span class=\"token comment\" spellcheck=\"true\">// 给每张图片设置一个属性</span>\n                ico<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span>index <span class=\"token operator\">=</span> i<span class=\"token punctuation\">;</span>\n                <span class=\"token comment\" spellcheck=\"true\">// 绑定一个点击事件</span>\n                ico<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span><span class=\"token function\">addEventListener</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"click\"</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span>event<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n                    <span class=\"token comment\" spellcheck=\"true\">// 获取点击事件的事件源</span>\n                    <span class=\"token keyword\">var</span> img <span class=\"token operator\">=</span> event<span class=\"token punctuation\">.</span>target<span class=\"token punctuation\">;</span>\n                    <span class=\"token comment\" spellcheck=\"true\">// 点击之后要做的事情</span>\n                    <span class=\"token keyword\">var</span> pictur <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">getElementById</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Top\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                    <span class=\"token comment\" spellcheck=\"true\">// 更改图片的SRC属性</span>\n                    pictur<span class=\"token punctuation\">.</span>src <span class=\"token operator\">=</span> <span class=\"token string\">\"img/picture-\"</span> <span class=\"token operator\">+</span> <span class=\"token punctuation\">(</span>img<span class=\"token punctuation\">.</span>index <span class=\"token operator\">+</span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">+</span> <span class=\"token string\">\".jpg\"</span><span class=\"token punctuation\">;</span>\n                <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            <span class=\"token punctuation\">}</span>\n        </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>script</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>body</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>html</span><span class=\"token punctuation\">></span></span>\n\n</code></pre>\n<h5 id=\"实例2\"><a href=\"#实例2\" class=\"headerlink\" title=\"实例2\"></a>实例2</h5><pre class=\" language-html\"><code class=\"language-html\"><span class=\"token doctype\">&lt;!DOCTYPE html></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>html</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>head</span><span class=\"token punctuation\">></span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>meta</span> <span class=\"token attr-name\">charset</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>UTF-8<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>title</span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>title</span><span class=\"token punctuation\">></span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>style</span> <span class=\"token attr-name\">type</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>text/css<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token style language-css\">\n            <span class=\"token selector\">* </span><span class=\"token punctuation\">{</span>\n                <span class=\"token property\">margin</span><span class=\"token punctuation\">:</span> <span class=\"token number\">0</span>px<span class=\"token punctuation\">;</span>\n                <span class=\"token property\">padding</span><span class=\"token punctuation\">:</span> <span class=\"token number\">0</span>px<span class=\"token punctuation\">;</span>\n            <span class=\"token punctuation\">}</span>\n            <span class=\"token selector\"><span class=\"token id\">#but</span>>button </span><span class=\"token punctuation\">{</span>\n                <span class=\"token property\">width</span><span class=\"token punctuation\">:</span> <span class=\"token number\">200</span>px<span class=\"token punctuation\">;</span>\n                <span class=\"token property\">height</span><span class=\"token punctuation\">:</span> <span class=\"token number\">100</span>px<span class=\"token punctuation\">;</span>\n                <span class=\"token property\">font</span><span class=\"token punctuation\">:</span> <span class=\"token number\">22</span>px/<span class=\"token number\">30</span>px arial<span class=\"token punctuation\">;</span>\n                <span class=\"token property\">background-color</span><span class=\"token punctuation\">:</span> red<span class=\"token punctuation\">;</span>\n                <span class=\"token property\">color</span><span class=\"token punctuation\">:</span> white<span class=\"token punctuation\">;</span>\n                <span class=\"token property\">outline</span><span class=\"token punctuation\">:</span> none<span class=\"token punctuation\">;</span>\n                <span class=\"token property\">border</span><span class=\"token punctuation\">:</span> none<span class=\"token punctuation\">;</span>\n            <span class=\"token punctuation\">}</span>\n        </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>style</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>head</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>body</span><span class=\"token punctuation\">></span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">id</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>but<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n            <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>button</span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>input</span> <span class=\"token attr-name\">type</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>checkbox<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>0<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>button</span><span class=\"token punctuation\">></span></span>\n            <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>button</span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>input</span> <span class=\"token attr-name\">type</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>checkbox<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>1<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>button</span><span class=\"token punctuation\">></span></span>\n            <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>button</span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>input</span> <span class=\"token attr-name\">type</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>checkbox<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>2<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>button</span><span class=\"token punctuation\">></span></span>\n            <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>button</span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>input</span> <span class=\"token attr-name\">type</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>checkbox<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>3<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>button</span><span class=\"token punctuation\">></span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>script</span><span class=\"token punctuation\">></span></span><span class=\"token script language-javascript\">\n            <span class=\"token keyword\">var</span> buts <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">querySelectorAll</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"#but>button\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">var</span> i <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span> i <span class=\"token operator\">&lt;</span> buts<span class=\"token punctuation\">.</span>length<span class=\"token punctuation\">;</span> i <span class=\"token operator\">+</span><span class=\"token operator\">=</span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n                buts<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span>firstChild<span class=\"token punctuation\">.</span><span class=\"token function\">addEventListener</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"click\"</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span>event<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n                    <span class=\"token keyword\">var</span> checkbox <span class=\"token operator\">=</span> event<span class=\"token punctuation\">.</span>target <span class=\"token operator\">||</span> event<span class=\"token punctuation\">.</span>srcElement<span class=\"token punctuation\">;</span>\n                    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>checkbox<span class=\"token punctuation\">.</span>checked<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n                        checkbox<span class=\"token punctuation\">.</span>parentNode<span class=\"token punctuation\">.</span>style<span class=\"token punctuation\">.</span>backgroundColor <span class=\"token operator\">=</span> <span class=\"token string\">\"blue\"</span><span class=\"token punctuation\">;</span>\n                    <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span>\n                        checkbox<span class=\"token punctuation\">.</span>parentNode<span class=\"token punctuation\">.</span>style<span class=\"token punctuation\">.</span>backgroundColor <span class=\"token operator\">=</span> <span class=\"token string\">\"red\"</span><span class=\"token punctuation\">;</span>\n                    <span class=\"token punctuation\">}</span>\n                    event<span class=\"token punctuation\">.</span><span class=\"token function\">stopPropagation</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                buts<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span><span class=\"token function\">addEventListener</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"click\"</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span>event<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n                    <span class=\"token comment\" spellcheck=\"true\">// 事件.target     选中事件源</span>\n                    <span class=\"token keyword\">var</span> button <span class=\"token operator\">=</span> event<span class=\"token punctuation\">.</span>target <span class=\"token operator\">||</span> event<span class=\"token punctuation\">.</span>srcElement<span class=\"token punctuation\">;</span>    <span class=\"token comment\" spellcheck=\"true\">// 验证浏览器的兼容性问题，通过短路或运算解决</span>\n                    <span class=\"token keyword\">var</span> checkbox <span class=\"token operator\">=</span> button<span class=\"token punctuation\">.</span>firstChild<span class=\"token punctuation\">;</span>\n                    checkbox<span class=\"token punctuation\">.</span>checked <span class=\"token operator\">=</span> <span class=\"token operator\">!</span>checkbox<span class=\"token punctuation\">.</span>checked<span class=\"token punctuation\">;</span>\n<span class=\"token comment\" spellcheck=\"true\">//                    window.alert(\"你选中了\" + button.textContent);</span>\n                    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>checkbox<span class=\"token punctuation\">.</span>checked<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n                        button<span class=\"token punctuation\">.</span>style<span class=\"token punctuation\">.</span>backgroundColor <span class=\"token operator\">=</span> <span class=\"token string\">\"blue\"</span><span class=\"token punctuation\">;</span>\n                    <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span>\n                        button<span class=\"token punctuation\">.</span>style<span class=\"token punctuation\">.</span>backgroundColor <span class=\"token operator\">=</span> <span class=\"token string\">\"red\"</span><span class=\"token punctuation\">;</span>\n                    <span class=\"token punctuation\">}</span>\n                <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            <span class=\"token punctuation\">}</span>\n        </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>script</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>body</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>html</span><span class=\"token punctuation\">></span></span>\n\n</code></pre>\n<h5 id=\"实例3\"><a href=\"#实例3\" class=\"headerlink\" title=\"实例3\"></a>实例3</h5><pre class=\" language-html\"><code class=\"language-html\"><span class=\"token doctype\">&lt;!DOCTYPE html></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>html</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>head</span><span class=\"token punctuation\">></span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>meta</span> <span class=\"token attr-name\">charset</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>UTF-8<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>title</span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>title</span><span class=\"token punctuation\">></span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>style</span> <span class=\"token attr-name\">type</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>text/css<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token style language-css\">\n            <span class=\"token selector\">*</span><span class=\"token punctuation\">{</span>\n                <span class=\"token property\">margin</span><span class=\"token punctuation\">:</span> <span class=\"token number\">0</span>px<span class=\"token punctuation\">;</span>\n                <span class=\"token property\">padding</span><span class=\"token punctuation\">:</span> <span class=\"token number\">0</span>px<span class=\"token punctuation\">;</span>\n            <span class=\"token punctuation\">}</span>\n            <span class=\"token selector\"><span class=\"token id\">#div0</span></span><span class=\"token punctuation\">{</span>\n                <span class=\"token property\">margin-left</span><span class=\"token punctuation\">:</span> <span class=\"token number\">600</span>px<span class=\"token punctuation\">;</span>\n                <span class=\"token property\">margin-top</span><span class=\"token punctuation\">:</span> <span class=\"token number\">100</span>px<span class=\"token punctuation\">;</span>\n            <span class=\"token punctuation\">}</span>\n            <span class=\"token selector\"><span class=\"token id\">#div1</span></span><span class=\"token punctuation\">{</span>\n                <span class=\"token property\">width</span><span class=\"token punctuation\">:</span> <span class=\"token number\">300</span>px<span class=\"token punctuation\">;</span>\n                <span class=\"token property\">height</span><span class=\"token punctuation\">:</span> <span class=\"token number\">300</span>px<span class=\"token punctuation\">;</span>\n                <span class=\"token property\">background-color</span><span class=\"token punctuation\">:</span> red<span class=\"token punctuation\">;</span>\n                <span class=\"token comment\" spellcheck=\"true\">/*position: absolute;*/</span>\n            <span class=\"token punctuation\">}</span>\n            <span class=\"token selector\"><span class=\"token id\">#div2</span></span><span class=\"token punctuation\">{</span>\n                <span class=\"token property\">width</span><span class=\"token punctuation\">:</span> <span class=\"token number\">200</span>px<span class=\"token punctuation\">;</span>\n                <span class=\"token property\">height</span><span class=\"token punctuation\">:</span> <span class=\"token number\">200</span>px<span class=\"token punctuation\">;</span>\n                <span class=\"token property\">background-color</span><span class=\"token punctuation\">:</span> blue<span class=\"token punctuation\">;</span>\n                <span class=\"token comment\" spellcheck=\"true\">/*position: absolute;\n                left: 50px;\n                top: 50px;*/</span>\n            <span class=\"token punctuation\">}</span>\n            <span class=\"token selector\"><span class=\"token id\">#div3</span></span><span class=\"token punctuation\">{</span>\n                <span class=\"token property\">width</span><span class=\"token punctuation\">:</span> <span class=\"token number\">100</span>px<span class=\"token punctuation\">;</span>\n                <span class=\"token property\">height</span><span class=\"token punctuation\">:</span> <span class=\"token number\">100</span>px<span class=\"token punctuation\">;</span>\n                <span class=\"token comment\" spellcheck=\"true\">/*position: absolute;\n                top: 50px;\n                left: 50px;*/</span>\n                <span class=\"token property\">background-color</span><span class=\"token punctuation\">:</span> cyan<span class=\"token punctuation\">;</span>\n            <span class=\"token punctuation\">}</span>\n            <span class=\"token selector\"><span class=\"token id\">#div2</span>, <span class=\"token id\">#div3</span></span><span class=\"token punctuation\">{</span>\n                <span class=\"token property\">position</span><span class=\"token punctuation\">:</span> relative<span class=\"token punctuation\">;</span>\n                <span class=\"token property\">top</span><span class=\"token punctuation\">:</span> <span class=\"token number\">50</span>px<span class=\"token punctuation\">;</span>\n                <span class=\"token property\">left</span><span class=\"token punctuation\">:</span> <span class=\"token number\">50</span>px<span class=\"token punctuation\">;</span>\n            <span class=\"token punctuation\">}</span>\n        </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>style</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>head</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>body</span><span class=\"token punctuation\">></span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">id</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>div0<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n            <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">id</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>div1<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n                <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">id</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>div2<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n                    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">id</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>div3<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span>\n                <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span>\n            <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>script</span> <span class=\"token attr-name\">type</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>text/javascript<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token script language-javascript\">\n            <span class=\"token keyword\">var</span> one <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">querySelector</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"#div1\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            <span class=\"token keyword\">var</span> two <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">querySelector</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"#div2\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            <span class=\"token keyword\">var</span> three <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">querySelector</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"#div3\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            <span class=\"token comment\" spellcheck=\"true\">// addEventListener方法的第一个参数是事件名</span>\n            <span class=\"token comment\" spellcheck=\"true\">// 第二个参数是事件发生时需要执行的回调函数</span>\n            <span class=\"token comment\" spellcheck=\"true\">// 第三个参数是一个布尔值</span>\n            <span class=\"token comment\" spellcheck=\"true\">//    如果是True,表示事件捕获 ----- 从外层向内传递事件</span>\n            <span class=\"token comment\" spellcheck=\"true\">//    如果是False,表示事件捕获 ----- 从内层向外传递事件</span>\n            <span class=\"token comment\" spellcheck=\"true\">// 一般选择事件捕获</span>\n            <span class=\"token comment\" spellcheck=\"true\">// 如果想阻止事件的传播行为可以调用事件对象的stopPropagation方法</span>\n            one<span class=\"token punctuation\">.</span><span class=\"token function\">addEventListener</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"click\"</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n                window<span class=\"token punctuation\">.</span><span class=\"token function\">alert</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"I am one!\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            two<span class=\"token punctuation\">.</span><span class=\"token function\">addEventListener</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"click\"</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n                window<span class=\"token punctuation\">.</span><span class=\"token function\">alert</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"I am two!\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            three<span class=\"token punctuation\">.</span><span class=\"token function\">addEventListener</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"click\"</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n                window<span class=\"token punctuation\">.</span><span class=\"token function\">alert</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"I am three!\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                event<span class=\"token punctuation\">.</span><span class=\"token function\">stopPropagation</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            <span class=\"token comment\" spellcheck=\"true\">// 事件回调函数中的第一个参数是事件对象（封装了和事件相关的信息）</span>\n            document<span class=\"token punctuation\">.</span><span class=\"token function\">addEventListener</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"click\"</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span>event<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n                window<span class=\"token punctuation\">.</span><span class=\"token function\">alert</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"I am body!\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>script</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>body</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>html</span><span class=\"token punctuation\">></span></span>\n\n</code></pre>\n<h5 id=\"实例4\"><a href=\"#实例4\" class=\"headerlink\" title=\"实例4\"></a>实例4</h5><pre class=\" language-html\"><code class=\"language-html\"><span class=\"token doctype\">&lt;!DOCTYPE html></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>html</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>head</span><span class=\"token punctuation\">></span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>meta</span> <span class=\"token attr-name\">charset</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>UTF-8<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>title</span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>title</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>head</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>body</span><span class=\"token punctuation\">></span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>button</span> <span class=\"token attr-name\">id</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>ok<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>确定<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>button</span><span class=\"token punctuation\">></span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>script</span><span class=\"token punctuation\">></span></span><span class=\"token script language-javascript\">\n            <span class=\"token keyword\">var</span> okButton <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">querySelector</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"#ok\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            <span class=\"token comment\" spellcheck=\"true\">// 给okButton绑定click事件的回调函数</span>\n            <span class=\"token keyword\">function</span> <span class=\"token function\">closeWindow</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n                <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>window<span class=\"token punctuation\">.</span><span class=\"token function\">confirm</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Close the window?\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n                    window<span class=\"token punctuation\">.</span><span class=\"token function\">close</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                <span class=\"token punctuation\">}</span> \n            <span class=\"token punctuation\">}</span>\n\n\n            <span class=\"token keyword\">function</span> <span class=\"token function\">helloWindow</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n                window<span class=\"token punctuation\">.</span><span class=\"token function\">alert</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"hello, world!\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                okButton<span class=\"token punctuation\">.</span><span class=\"token function\">removeEventListener</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"click\"</span><span class=\"token punctuation\">,</span> closeWindow<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            <span class=\"token punctuation\">}</span>\n            <span class=\"token comment\" spellcheck=\"true\">// 当你知道事件什么时候发生,但是你不知道这个事件什么时候发生</span>\n            <span class=\"token comment\" spellcheck=\"true\">// 在这种情况下通常处理方式都是绑定一个事件回调函数</span>\n            <span class=\"token comment\" spellcheck=\"true\">// closeWindow以及下面的匿名函数都属于事件回调函数        </span>\n            okButton<span class=\"token punctuation\">.</span><span class=\"token function\">addEventListener</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"click\"</span><span class=\"token punctuation\">,</span> helloWindow<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n            okButton<span class=\"token punctuation\">.</span><span class=\"token function\">addEventListener</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"click\"</span><span class=\"token punctuation\">,</span> closeWindow<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n            <span class=\"token comment\" spellcheck=\"true\">// 按钮只能点一次的效果,并且考虑兼容性</span>\n<span class=\"token comment\" spellcheck=\"true\">//            if (okButton.addEventListener) {</span>\n<span class=\"token comment\" spellcheck=\"true\">//                okButton.addEventListener(\"click\", function() {</span>\n<span class=\"token comment\" spellcheck=\"true\">//                    window.alert(\"hello,world!\");</span>\n<span class=\"token comment\" spellcheck=\"true\">//                    okButton.removeEventListener(\"click\", arguments.callee);</span>\n<span class=\"token comment\" spellcheck=\"true\">//                });</span>\n<span class=\"token comment\" spellcheck=\"true\">//            } else {</span>\n<span class=\"token comment\" spellcheck=\"true\">//                okButton.addEventListener(\"onclick\", function() {</span>\n<span class=\"token comment\" spellcheck=\"true\">//                    window.alert(\"hello,world!\");</span>\n<span class=\"token comment\" spellcheck=\"true\">//                    okButton.removeEventListener(\"onclick\", arguments.callee);</span>\n<span class=\"token comment\" spellcheck=\"true\">//                });</span>\n<span class=\"token comment\" spellcheck=\"true\">//            }</span>\n        </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>script</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>body</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>html</span><span class=\"token punctuation\">></span></span>\n\n</code></pre>\n<h3 id=\"定时器\"><a href=\"#定时器\" class=\"headerlink\" title=\"定时器\"></a>定时器</h3><pre class=\" language-HTML\"><code class=\"language-HTML\"><!DOCTYPE html>\n<html>\n    <head>\n        <meta charset=\"utf-8\" />\n        <title></title>\n    </head>\n    <body>\n        <h3><span id=\"counter\">5</span>s之后自动跳转到百度</h3>\n        <script type=\"text/javascript\">\n            var count = 5;\n            var span = document.getElementById(\"counter\")\n//            function delay() {\n//                count -= 1;\n//                if (count == 0) {\n//                    window.location.href = \"https://www.baidu.com\";\n//                } else {\n//                    span.textContent = count;\n//                    window.setTimeout(delay, 1000);\n//                }\n//            }\n//            window.setTimeout(delay, 1000);\n\n\n            window.setTimeout(function() {\n                count -= 1;\n                if (count == 0) {\n                    window.location.href = \" \";\n                } else {\n                    span.textContent = count;\n                    //arguments是函数中的隐含对象\n                    //通过arguments[0],ageuments[1],可以获得函数的参数\n                    //arguments.callee 伪数组,可以拿到正在被调用的函数\n                    window.setTimeout(arguments.callee, 1000);\n                }\n            }, 1000);\n        </script>\n    </body>\n</html>\n\n</code></pre>\n","site":{"data":{}},"excerpt":"","more":"<h3 id=\"获取页面中的单个标签-元素的方法\"><a href=\"#获取页面中的单个标签-元素的方法\" class=\"headerlink\" title=\"获取页面中的单个标签/元素的方法\"></a>获取页面中的单个标签/元素的方法</h3><ul>\n<li>getElementsByClassName()    获取同一类名的所有标签</li>\n<li>querySelector()     查询指定选择器获取指定选择器的单个标签</li>\n<li>querySelectorAll()    查询指定选择器获取指定选择器的所有标签</li>\n<li>getElementById()        获取指定Id的标签</li>\n<li>getElementsByTagName()    获取指定标签名的列表</li>\n</ul>\n<h3 id=\"元素访问节点的方法\"><a href=\"#元素访问节点的方法\" class=\"headerlink\" title=\"元素访问节点的方法\"></a>元素访问节点的方法</h3><ul>\n<li>children    元素访问子节点</li>\n<li>parentNode    元素访问父节点</li>\n<li>previousSibling    元素访问上一个兄弟节点</li>\n<li>nextSibling    元素访问下一个兄弟节点</li>\n</ul>\n<h3 id=\"绑定事件\"><a href=\"#绑定事件\" class=\"headerlink\" title=\"绑定事件\"></a>绑定事件</h3><h5 id=\"实例1\"><a href=\"#实例1\" class=\"headerlink\" title=\"实例1\"></a>实例1</h5><pre><code class=\"html\">&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n    &lt;head&gt;\n        &lt;meta charset=&quot;UTF-8&quot;&gt;\n        &lt;title&gt;&lt;/title&gt;\n        &lt;style type=&quot;text/css&quot;&gt;\n            * {\n                margin: 0px;\n                padding: 0px;\n            }\n            div {\n                margin-top: 100px;\n                text-align: center;\n            }\n        &lt;/style&gt;\n    &lt;/head&gt;\n    &lt;body&gt;\n        &lt;div&gt;\n            &lt;img id=&quot;Top&quot; src=&quot;img/picture-1.jpg&quot; alt=&quot;&quot; /&gt;\n        &lt;/div&gt;\n        &lt;div id=&quot;foot&quot;&gt;\n            &lt;img src=&quot;img/thumb-1.jpg&quot; alt=&quot;&quot; /&gt;\n            &lt;img src=&quot;img/thumb-2.jpg&quot; alt=&quot;&quot; /&gt;\n            &lt;img src=&quot;img/thumb-3.jpg&quot; alt=&quot;&quot; /&gt;\n        &lt;/div&gt;\n        &lt;script type=&quot;text/javascript&quot;&gt;\n            var index = 0;\n            var ico = document.querySelectorAll(&quot;#foot&gt;img&quot;);\n            for (var i = 0;i &lt; ico.length; i += 1) {\n                // 给每张图片设置一个属性\n                ico[i].index = i;\n                // 绑定一个点击事件\n                ico[i].addEventListener(&quot;click&quot;, function(event) {\n                    // 获取点击事件的事件源\n                    var img = event.target;\n                    // 点击之后要做的事情\n                    var pictur = document.getElementById(&quot;Top&quot;);\n                    // 更改图片的SRC属性\n                    pictur.src = &quot;img/picture-&quot; + (img.index + 1) + &quot;.jpg&quot;;\n                });\n            }\n        &lt;/script&gt;\n    &lt;/body&gt;\n&lt;/html&gt;\n\n</code></pre>\n<h5 id=\"实例2\"><a href=\"#实例2\" class=\"headerlink\" title=\"实例2\"></a>实例2</h5><pre><code class=\"html\">&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n    &lt;head&gt;\n        &lt;meta charset=&quot;UTF-8&quot;&gt;\n        &lt;title&gt;&lt;/title&gt;\n        &lt;style type=&quot;text/css&quot;&gt;\n            * {\n                margin: 0px;\n                padding: 0px;\n            }\n            #but&gt;button {\n                width: 200px;\n                height: 100px;\n                font: 22px/30px arial;\n                background-color: red;\n                color: white;\n                outline: none;\n                border: none;\n            }\n        &lt;/style&gt;\n    &lt;/head&gt;\n    &lt;body&gt;\n        &lt;div id=&quot;but&quot;&gt;\n            &lt;button&gt;&lt;input type=&quot;checkbox&quot;&gt;0&lt;/button&gt;\n            &lt;button&gt;&lt;input type=&quot;checkbox&quot;&gt;1&lt;/button&gt;\n            &lt;button&gt;&lt;input type=&quot;checkbox&quot;&gt;2&lt;/button&gt;\n            &lt;button&gt;&lt;input type=&quot;checkbox&quot;&gt;3&lt;/button&gt;\n        &lt;/div&gt;\n        &lt;script&gt;\n            var buts = document.querySelectorAll(&quot;#but&gt;button&quot;);\n            for (var i = 0; i &lt; buts.length; i += 1) {\n                buts[i].firstChild.addEventListener(&quot;click&quot;, function(event) {\n                    var checkbox = event.target || event.srcElement;\n                    if (checkbox.checked) {\n                        checkbox.parentNode.style.backgroundColor = &quot;blue&quot;;\n                    } else {\n                        checkbox.parentNode.style.backgroundColor = &quot;red&quot;;\n                    }\n                    event.stopPropagation();\n                });\n                buts[i].addEventListener(&quot;click&quot;, function(event) {\n                    // 事件.target     选中事件源\n                    var button = event.target || event.srcElement;    // 验证浏览器的兼容性问题，通过短路或运算解决\n                    var checkbox = button.firstChild;\n                    checkbox.checked = !checkbox.checked;\n//                    window.alert(&quot;你选中了&quot; + button.textContent);\n                    if (checkbox.checked) {\n                        button.style.backgroundColor = &quot;blue&quot;;\n                    } else {\n                        button.style.backgroundColor = &quot;red&quot;;\n                    }\n                });\n            }\n        &lt;/script&gt;\n    &lt;/body&gt;\n&lt;/html&gt;\n\n</code></pre>\n<h5 id=\"实例3\"><a href=\"#实例3\" class=\"headerlink\" title=\"实例3\"></a>实例3</h5><pre><code class=\"html\">&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n    &lt;head&gt;\n        &lt;meta charset=&quot;UTF-8&quot;&gt;\n        &lt;title&gt;&lt;/title&gt;\n        &lt;style type=&quot;text/css&quot;&gt;\n            *{\n                margin: 0px;\n                padding: 0px;\n            }\n            #div0{\n                margin-left: 600px;\n                margin-top: 100px;\n            }\n            #div1{\n                width: 300px;\n                height: 300px;\n                background-color: red;\n                /*position: absolute;*/\n            }\n            #div2{\n                width: 200px;\n                height: 200px;\n                background-color: blue;\n                /*position: absolute;\n                left: 50px;\n                top: 50px;*/\n            }\n            #div3{\n                width: 100px;\n                height: 100px;\n                /*position: absolute;\n                top: 50px;\n                left: 50px;*/\n                background-color: cyan;\n            }\n            #div2, #div3{\n                position: relative;\n                top: 50px;\n                left: 50px;\n            }\n        &lt;/style&gt;\n    &lt;/head&gt;\n    &lt;body&gt;\n        &lt;div id=&quot;div0&quot;&gt;\n            &lt;div id=&quot;div1&quot;&gt;\n                &lt;div id=&quot;div2&quot;&gt;\n                    &lt;div id=&quot;div3&quot;&gt;&lt;/div&gt;\n                &lt;/div&gt;\n            &lt;/div&gt;\n        &lt;/div&gt;\n        &lt;script type=&quot;text/javascript&quot;&gt;\n            var one = document.querySelector(&quot;#div1&quot;);\n            var two = document.querySelector(&quot;#div2&quot;);\n            var three = document.querySelector(&quot;#div3&quot;);\n            // addEventListener方法的第一个参数是事件名\n            // 第二个参数是事件发生时需要执行的回调函数\n            // 第三个参数是一个布尔值\n            //    如果是True,表示事件捕获 ----- 从外层向内传递事件\n            //    如果是False,表示事件捕获 ----- 从内层向外传递事件\n            // 一般选择事件捕获\n            // 如果想阻止事件的传播行为可以调用事件对象的stopPropagation方法\n            one.addEventListener(&quot;click&quot;, function() {\n                window.alert(&quot;I am one!&quot;);\n            });\n            two.addEventListener(&quot;click&quot;, function() {\n                window.alert(&quot;I am two!&quot;);\n            });\n            three.addEventListener(&quot;click&quot;, function() {\n                window.alert(&quot;I am three!&quot;);\n                event.stopPropagation();\n            });\n            // 事件回调函数中的第一个参数是事件对象（封装了和事件相关的信息）\n            document.addEventListener(&quot;click&quot;, function(event) {\n                window.alert(&quot;I am body!&quot;);\n            });\n        &lt;/script&gt;\n    &lt;/body&gt;\n&lt;/html&gt;\n\n</code></pre>\n<h5 id=\"实例4\"><a href=\"#实例4\" class=\"headerlink\" title=\"实例4\"></a>实例4</h5><pre><code class=\"html\">&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n    &lt;head&gt;\n        &lt;meta charset=&quot;UTF-8&quot;&gt;\n        &lt;title&gt;&lt;/title&gt;\n    &lt;/head&gt;\n    &lt;body&gt;\n        &lt;button id=&quot;ok&quot;&gt;确定&lt;/button&gt;\n        &lt;script&gt;\n            var okButton = document.querySelector(&quot;#ok&quot;);\n            // 给okButton绑定click事件的回调函数\n            function closeWindow() {\n                if (window.confirm(&quot;Close the window?&quot;)) {\n                    window.close();\n                } \n            }\n\n\n            function helloWindow() {\n                window.alert(&quot;hello, world!&quot;);\n                okButton.removeEventListener()(&quot;click&quot;, closeWindow);\n            }\n            // 当你知道事件什么时候发生,但是你不知道这个事件什么时候发生\n            // 在这种情况下通常处理方式都是绑定一个事件回调函数\n            // closeWindow以及下面的匿名函数都属于事件回调函数        \n            okButton.addEventListener(&quot;click&quot;, helloWindow);\n\n            okButton.addEventListener(&quot;click&quot;, closeWindow);\n\n            // 按钮只能点一次的效果,并且考虑兼容性\n//            if (okButton.addEventListener) {\n//                okButton.addEventListener(&quot;click&quot;, function() {\n//                    window.alert(&quot;hello,world!&quot;);\n//                    okButton.removeEventListener(&quot;click&quot;, arguments.callee);\n//                });\n//            } else {\n//                okButton.addEventListener(&quot;onclick&quot;, function() {\n//                    window.alert(&quot;hello,world!&quot;);\n//                    okButton.removeEventListener(&quot;onclick&quot;, arguments.callee);\n//                });\n//            }\n        &lt;/script&gt;\n    &lt;/body&gt;\n&lt;/html&gt;\n\n</code></pre>\n<h3 id=\"定时器\"><a href=\"#定时器\" class=\"headerlink\" title=\"定时器\"></a>定时器</h3><pre><code class=\"HTML\">&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n    &lt;head&gt;\n        &lt;meta charset=&quot;utf-8&quot; /&gt;\n        &lt;title&gt;&lt;/title&gt;\n    &lt;/head&gt;\n    &lt;body&gt;\n        &lt;h3&gt;&lt;span id=&quot;counter&quot;&gt;5&lt;/span&gt;s之后自动跳转到百度&lt;/h3&gt;\n        &lt;script type=&quot;text/javascript&quot;&gt;\n            var count = 5;\n            var span = document.getElementById(&quot;counter&quot;)\n//            function delay() {\n//                count -= 1;\n//                if (count == 0) {\n//                    window.location.href = &quot;https://www.baidu.com&quot;;\n//                } else {\n//                    span.textContent = count;\n//                    window.setTimeout(delay, 1000);\n//                }\n//            }\n//            window.setTimeout(delay, 1000);\n\n\n            window.setTimeout(function() {\n                count -= 1;\n                if (count == 0) {\n                    window.location.href = &quot; &quot;;\n                } else {\n                    span.textContent = count;\n                    //arguments是函数中的隐含对象\n                    //通过arguments[0],ageuments[1],可以获得函数的参数\n                    //arguments.callee 伪数组,可以拿到正在被调用的函数\n                    window.setTimeout(arguments.callee, 1000);\n                }\n            }, 1000);\n        &lt;/script&gt;\n    &lt;/body&gt;\n&lt;/html&gt;\n\n</code></pre>\n"},{"title":"JavaScript_one","date":"2018-04-02T11:05:03.000Z","author":"smile","_content":"\n#  JavaScript\n\n行为样式表，console.log（内容）在控制台打印内容\n\n注意：js中修改css样式表通过xxx.style.属性，其中属性如果通过连接符连接改成大写；js可以临时添加属性，xxx.新属性，和python一样是动态弱类型语言，都可以添加属性，删除属性\n\n```python\nevt.target.index = i\n```\n\nindex 就是一个新属性\n\n###  JS介绍\n\n1.专门用来处理网页中的行为的脚本语言，也是 web 标准中的行为标准\n2.位置\n\n - 内联的 js: 写在标签事件相关属性中\n - 内部的 js：写在 script 标签中，可以放在任何地方，但是一般放在 head 或者 body 中\n - 外部的 js：写在外部的 js 文件中（后缀是 .js 的文件），通过 script 标签中的 src 属性，跟上 js 的地址，导入 js \n\n3.js 作用： \n\n- 修改标签中的内容\n\n- 修改标签样式\n\n- 插入 html 代码\n\n4.注释：/* 注释内容 */\n\n5.标识符：\n\n- 用来命名的（给变量、函数命名、对象命名）\n\n- 标识符由字符、数字、下划线和$符组成，数字不开头\n\n- 大小写敏感\n\n####  JS基础语法\n\n1.数据类型\n\n - 常用类型:Number(数字-包含所有的数字)、Boolean(布尔类型)、String(字符串)、Array(数组)、Object(对象).....\n  - 注意：js 中没有元祖和集合\n - b. 常用的特殊的值：NaN (表示不存在的数字),null(空，一般用来清空变量中的内容),undefined(变量没有赋值的时候，默认是 undefined)\n\n2.字面量：\n\n - Number 字面量:所有的数字(支持科学计数法, 不支持复数)\n - Boolean 字面量:只有 true 和 false\n - String 字面量:用单引号或者双引号引起来的字符集, 支持转义字符(和 python 一样)\n - Array 字面量：js 中数组就相当于 python 的列表\n - Object 对象字面量: 相当于 python 中的字典+对象\n  \t- 注意：key 相当于属性，value 相当于属性的值\n - typeof：查看数据类型\n - js 中的语句：\n   - 一条语句结束后可以写分号，也可以不写。如果一行写多条语句就必须写分号\n   - js 中没有缩进语法的要求，需要使用代码的时候使用{}\n\n####   JS变量\n\n**js中变量的声明**\n\n - 语法：var 变量名 或者 var 变量名=初值\n\n - 说明：\n   - var: 是 js 中声明变量的关键字\n\n   - 变量名: 标识符，不能是 js 中的关键字; 驼峰式命名(第一个单词的首字母小写，后边每个单词首字母大写)，见名知义\n\n   - 初值：声明的时候可以赋初值，也可以不赋\n\n   - 可以同时声明多个变量\n\n    ```python\n    var age; var name\n    var age1, name1, studyId\n    var age2=10, name2, studyId2\n    ```\n\n   -  一个变量可以存储多种类型的值\n    注意：变量一定要先声明再使用\n\n####  JS运算\n\n- JS中的正则表达式的表示：**`/^正则表达式$/`**\n\n- js 中的运算符包含：数学运算符、比较运算符、逻辑运算符、赋值运算符、三目运算符、（位运算）\n\n1.数学运算符:+、-、*、/、%、**(js7中才有的)、++、--，其中：+、-、*、/、%、**和 python 中的功能一模一样\n\n- 注意：js 中没有整除对应的运算符，但是多了++和--\n\n  - ++(自加)：自加1\n    - 语法：变量++, ++变量 ----> 让变量的值加1， 相当于: 变量 += 1\n  - --(自减1操作)\n    - 语法：变量--, --变量   ----> 让变量的值减一,  相当于: 变量 -= 1\n\n-  赋值的时候，++/--写在变量的后面，是先赋值，然后再让变量的值加1/减1。++/--写变量的前面，就先加1/减1，然后再赋值\n\n  ```python\n  var a1=10,a2=10, b, c\n  b = a1++   // b = a1, a1 += 1  --- b=10, a1=11\n  c = ++a2   // a2 += 1, c = a2  --- a2=11, c=11\n  ```\n\n2.比较运算符:>,<,==,!=,>=, <=, ===, !==, >==, <==\n\n - 结果都是布尔值\n - 相等(==):只判断值是否相等\n - 完全相等(===):判断值和类型是否相等\n\n3.逻辑运算符：&&(与)，||(或), !(非)\n**js 逻辑运算符除了形式，其他的和 python 一样**\n\n4.赋值运算符：=， += ，-=， *=， /=， %= 等, 和 python 一样\n\n5.三目运算符: ?:\n\n- 语法：表达式1?值1:值2  ---> 判断表达式1的值是否为真，为真整个运算的结果就是值1，否则是值2\n\n## 三元条件运算符\n\n[参考网址](https://baike.baidu.com/item/%E4%B8%89%E5%85%83%E8%BF%90%E7%AE%97%E7%AC%A6/1394210?fr=aladdin)\n\n6.位运算（都是二元运算符）：&, |, ^, ~, >>, <<\n\n- &: 将符号左右两边的值转换成二进制，操作位同取1，异取0\n\n- | ：将符号左右两边的值转换成二进制，遇1取1，没有取0\n\n- ^: 将符号左右两边的值转换成二进制，遇1取1，遇同取0\n\n- ~：符号取反，二进制最后一位取反\n\n- <<左移: 1<<3 表示 1*(2^3)\n\n- *>>*右移: 1>>3 表示 1//(2^3)\n\n  ```python\n  <<运算符使指定值的二进制所有位都左移规定的次数，对于其移动规则只需记住丢弃最高位，0补最低位即按二进制形式把所有的数字向左移动对应的位数，高位移出(舍弃)，低位的空位补零。\n  \n  >>运算符使指定值的二进制所有位都右移规定的次数，对于其移动规则只需记住符号位不变，左边补上符号位即按二进制形式把所有的数字向右移动对应的位数，低位移出(舍弃)，高位的空位补符号位，即正数补零，负数补1。\n  ```\n\n  ![位运算](JavaScript-one\\位运算.png)\n\n7.运算顺序：和 python 基本一致(数学>比较>逻辑>赋值)，也可以通过加括号来改变运算顺序\n\n####  JS分支结构\n\n**1.if语句**\n\n```python\n a.if结构： \n  if(条件语句)\n  {\n  \t 代码段\n  }\n *执行过程: 先判断条件语句是否为true，为true就执行代码段\n \nb.if-else结构：\n if(条件语句){\n \t代码段1\n }else{\n \t代码段2\n }\n\n c.if-else if-else: (这儿的 else if 相当于 python 中的 elif)\n if(条件语句1){\n \t代码段1\n }else if(条件语句2){\n \t代码段2\n }else{\n \t代码段3\n }\n```\n**2.switch**\n\n```python\na.结构:\n switch(表达式){\n \tcase 值1:{\n \t\t代码段1\n \t\t\n \t}\n \tcase 值2:{\n \t\t代码段2\n \t\t\n \t}\n \t...\n \tdefault:{\n \t\t代码段3\n \t}\n }\n\nb.执行过程:先计算表达式的值，然后再用这个值去和后边case关键字后面的值一一对比，看是否相等。\n         找到第一个和表达式的值相等的case,然后将这个case作为入口，一次执行后边所有的代码，\n         直到遇到break或者switch结束。如果没有找到和表达式的值相等的case就执行default后面的代码\n           \nc.注意:default可有可无，case可以有若干个\n```\n\n####  JS循环结构\n\n1.for-in循环:(和python的for循环一样)\n\n```python\n for(var 变量 in 序列)\n {\n \t循环体\n }\n \n执行过程: 依次从序列中取元素对应的索引(下标)，取完为止，每取一个执行一次循环体\n\n取值：遍历字符串，取的是字符对应的下标；遍历列表，取的是元素对应的下标；遍历对象，取的是属性名（key）\n```\n\n2.for循环:(和C语言的for循环一样)\n\n```python\n for(表达式1；表达式2；表达式3){\n \t循环体\n }\n \n执行过程:先执行表达式1，然后再判断表达式2的结果是否为true,如果为true，就执行循环体，执行完循环体再执行\t\t表达式3；然后再判断表达式2的结果是否为true，如果为true，又执行循环体，执行完循环体再执行表达式\t   3；一直循环，直到表达式2的结果为false，然后跳出循环\n```\n举例：\n\n```python\n计算1到100的和\nfor (var i = 1, sum=0; i<=100; i++) {\n\tsum += i\n}\nconsole.log(sum)\n\nvar sum = 0\nvar i = 1\nfor (;i<=100;) {\n\tsum += i\n\ti++\n}\nconsole.log(sum)  \n\n```\n\n3.while循环:(和python一样)\n\n```python\n while(条件语句){\n \t循环体\n }\n```\n\n4.do-while：\n\n```python\ndo{\n\t循环体\n}while(条件语句)\n\n执行：先执行一次循环体，然后再判断条件语句是否为true,为true又执行循环体，依次类推，直到条件语句为false，循环就结束\n\n```\n\n####  JS函数\n\n1.函数的声明\n\n```python\nfunction 函数名(参数列表){\n\t函数体\n}\n\n说明：\na.function: 是js中声明函数的关键字\nb.函数名: 标识符，不能是关键字;见名知义，驼峰式命名\nc.参数列表: 参数名1,参数名2...; 形参；将数据从函数的外面传到函数中\nd.函数体：实现函数的功能\n\n注意：函数体只有在函数调用的时候才执行\n\n```\n2.函数的调用：和python一样\n\n- 函数调用的时候要保证每个参数都有值！\n- 支持位置参数、参数设置默认值(js6)\n- 注意:js中不支持不定长参数、关键字参数\n\n3.函数的返回值\n\n- js中函数如果没有遇到return,函数的返回值是undefined\n- 注意：js中不能同时返回多个值（有元祖语法的语言才支持多个返回值）\n\n4.js中，函数也可以作为变量\n\n5.另外一种声明函数的方式\n```python\nvar 变量 = function(参数列表){\n\t函数体\n}\n```\n\n####  JS数据类型\n\n**new 类型名(值) ---> 可以将其他的类型的数据转换成相应类型的值**\n1.数字类型(Number)：所有的数字对应的类型不能转换的结果是NaN\n\n```python\nconsole.log(typeof(10))\nvar num1 = 100\nvar num2 = new Number(false)\nconsole.log(num2,num1)\n```\n\n2.布尔(Boolean): true和fasle\n\n- 数字->布尔： NaN和0是false, 其他的都是true\n- 字符串->布尔: 空串是false，其他的是true\n- 总结:所有为0为空的转换成布尔是false，NaN,null和undefined都是false;其他的都是true\n\n```python\nvar bool = new Boolean(undefined)\nconsole.log(bool)\n```\n\n3.字符串(String):unicode编码\n\n- a.获取单个字符：通过字符串[下标]\n- b.支持转义字符\n- c.注意：\n  - js中的下标支持0到长 度-1，不支持负值\n  -  js中不支持切片\n\n```python\nvar str1 = 'abcde'\nconsole.log(str1[3])\n```\n- d.长度: 字符串.length\n\n```python\nconsole.log(str1.length)\n```\n- e.运算符：比较和+\n  - 比较和python一样\n  - +: 如果是其他的数据类型和字符串相加，都是先将其他数据类型转换成字符串，然后做字符串拼接操作\n\n```python\nconsole.log('abc'+'123')   // 'abc123'\nconsole.log(123+'abc')  //'123abc'\n```\n- f.其他的方法(自己查)\n  String对象方法: 字符串.方法()\n\n```python\nconsole.log('abcde'.charCodeAt(1))\n```\n4.数组(相当于python中的列表)\n有序，可变的，元素的类型可以是任意类型的数据\n\n```python\nvar array = [1, 'abc', true, [1,2,3]]\n```\n- a.查\n\n```python\nconsole.log(array[1])\n```\n- b.增\n\n```python\narray.push('aa')\nconsole.log(array)\n```\n- c.删除\n\n```python\npop():删除最后一个元素\narray.pop()\nconsole.log(array)\n\nshift():删除第一个元素\narray.shift()\nconsole.log(array)\n\nsplice(删除的开始下标, 删除的元素的个数)\nvar array = [1, 'abc', true, [1,2,3]]\narray.splice(1,1)\nconsole.log(array)\n\nsplice(被删除的下标/添加的开始下标, 添加个数, \t被添加的元素列表)\nvar array = [1, 'abc', true, [1,2,3]]\narray.splice(4,2,'aa','bb')\nconsole.log(array)\n```\n- d.改\n\n```python\nvar array = [1, 'abc', true, [1,2,3]]\narray[0] = 100\nconsole.log(arra\n```\n\n####  函数\n\n构造方法：用来创建对象\nfunction 函数名（形参）：\n​\tthis.属性 = 属性值\n\n```python\nthis.变量名 = function（）{\n\t实现方法\n\t}\n```","source":"_posts/前端/JavaScript-one.md","raw":"---\ntitle: JavaScript_one\ndate: 2018-04-02 19:05:03\nauthor: smile\ncategories: 前端\ntags:\n  - JavaScript\n---\n\n#  JavaScript\n\n行为样式表，console.log（内容）在控制台打印内容\n\n注意：js中修改css样式表通过xxx.style.属性，其中属性如果通过连接符连接改成大写；js可以临时添加属性，xxx.新属性，和python一样是动态弱类型语言，都可以添加属性，删除属性\n\n```python\nevt.target.index = i\n```\n\nindex 就是一个新属性\n\n###  JS介绍\n\n1.专门用来处理网页中的行为的脚本语言，也是 web 标准中的行为标准\n2.位置\n\n - 内联的 js: 写在标签事件相关属性中\n - 内部的 js：写在 script 标签中，可以放在任何地方，但是一般放在 head 或者 body 中\n - 外部的 js：写在外部的 js 文件中（后缀是 .js 的文件），通过 script 标签中的 src 属性，跟上 js 的地址，导入 js \n\n3.js 作用： \n\n- 修改标签中的内容\n\n- 修改标签样式\n\n- 插入 html 代码\n\n4.注释：/* 注释内容 */\n\n5.标识符：\n\n- 用来命名的（给变量、函数命名、对象命名）\n\n- 标识符由字符、数字、下划线和$符组成，数字不开头\n\n- 大小写敏感\n\n####  JS基础语法\n\n1.数据类型\n\n - 常用类型:Number(数字-包含所有的数字)、Boolean(布尔类型)、String(字符串)、Array(数组)、Object(对象).....\n  - 注意：js 中没有元祖和集合\n - b. 常用的特殊的值：NaN (表示不存在的数字),null(空，一般用来清空变量中的内容),undefined(变量没有赋值的时候，默认是 undefined)\n\n2.字面量：\n\n - Number 字面量:所有的数字(支持科学计数法, 不支持复数)\n - Boolean 字面量:只有 true 和 false\n - String 字面量:用单引号或者双引号引起来的字符集, 支持转义字符(和 python 一样)\n - Array 字面量：js 中数组就相当于 python 的列表\n - Object 对象字面量: 相当于 python 中的字典+对象\n  \t- 注意：key 相当于属性，value 相当于属性的值\n - typeof：查看数据类型\n - js 中的语句：\n   - 一条语句结束后可以写分号，也可以不写。如果一行写多条语句就必须写分号\n   - js 中没有缩进语法的要求，需要使用代码的时候使用{}\n\n####   JS变量\n\n**js中变量的声明**\n\n - 语法：var 变量名 或者 var 变量名=初值\n\n - 说明：\n   - var: 是 js 中声明变量的关键字\n\n   - 变量名: 标识符，不能是 js 中的关键字; 驼峰式命名(第一个单词的首字母小写，后边每个单词首字母大写)，见名知义\n\n   - 初值：声明的时候可以赋初值，也可以不赋\n\n   - 可以同时声明多个变量\n\n    ```python\n    var age; var name\n    var age1, name1, studyId\n    var age2=10, name2, studyId2\n    ```\n\n   -  一个变量可以存储多种类型的值\n    注意：变量一定要先声明再使用\n\n####  JS运算\n\n- JS中的正则表达式的表示：**`/^正则表达式$/`**\n\n- js 中的运算符包含：数学运算符、比较运算符、逻辑运算符、赋值运算符、三目运算符、（位运算）\n\n1.数学运算符:+、-、*、/、%、**(js7中才有的)、++、--，其中：+、-、*、/、%、**和 python 中的功能一模一样\n\n- 注意：js 中没有整除对应的运算符，但是多了++和--\n\n  - ++(自加)：自加1\n    - 语法：变量++, ++变量 ----> 让变量的值加1， 相当于: 变量 += 1\n  - --(自减1操作)\n    - 语法：变量--, --变量   ----> 让变量的值减一,  相当于: 变量 -= 1\n\n-  赋值的时候，++/--写在变量的后面，是先赋值，然后再让变量的值加1/减1。++/--写变量的前面，就先加1/减1，然后再赋值\n\n  ```python\n  var a1=10,a2=10, b, c\n  b = a1++   // b = a1, a1 += 1  --- b=10, a1=11\n  c = ++a2   // a2 += 1, c = a2  --- a2=11, c=11\n  ```\n\n2.比较运算符:>,<,==,!=,>=, <=, ===, !==, >==, <==\n\n - 结果都是布尔值\n - 相等(==):只判断值是否相等\n - 完全相等(===):判断值和类型是否相等\n\n3.逻辑运算符：&&(与)，||(或), !(非)\n**js 逻辑运算符除了形式，其他的和 python 一样**\n\n4.赋值运算符：=， += ，-=， *=， /=， %= 等, 和 python 一样\n\n5.三目运算符: ?:\n\n- 语法：表达式1?值1:值2  ---> 判断表达式1的值是否为真，为真整个运算的结果就是值1，否则是值2\n\n## 三元条件运算符\n\n[参考网址](https://baike.baidu.com/item/%E4%B8%89%E5%85%83%E8%BF%90%E7%AE%97%E7%AC%A6/1394210?fr=aladdin)\n\n6.位运算（都是二元运算符）：&, |, ^, ~, >>, <<\n\n- &: 将符号左右两边的值转换成二进制，操作位同取1，异取0\n\n- | ：将符号左右两边的值转换成二进制，遇1取1，没有取0\n\n- ^: 将符号左右两边的值转换成二进制，遇1取1，遇同取0\n\n- ~：符号取反，二进制最后一位取反\n\n- <<左移: 1<<3 表示 1*(2^3)\n\n- *>>*右移: 1>>3 表示 1//(2^3)\n\n  ```python\n  <<运算符使指定值的二进制所有位都左移规定的次数，对于其移动规则只需记住丢弃最高位，0补最低位即按二进制形式把所有的数字向左移动对应的位数，高位移出(舍弃)，低位的空位补零。\n  \n  >>运算符使指定值的二进制所有位都右移规定的次数，对于其移动规则只需记住符号位不变，左边补上符号位即按二进制形式把所有的数字向右移动对应的位数，低位移出(舍弃)，高位的空位补符号位，即正数补零，负数补1。\n  ```\n\n  ![位运算](JavaScript-one\\位运算.png)\n\n7.运算顺序：和 python 基本一致(数学>比较>逻辑>赋值)，也可以通过加括号来改变运算顺序\n\n####  JS分支结构\n\n**1.if语句**\n\n```python\n a.if结构： \n  if(条件语句)\n  {\n  \t 代码段\n  }\n *执行过程: 先判断条件语句是否为true，为true就执行代码段\n \nb.if-else结构：\n if(条件语句){\n \t代码段1\n }else{\n \t代码段2\n }\n\n c.if-else if-else: (这儿的 else if 相当于 python 中的 elif)\n if(条件语句1){\n \t代码段1\n }else if(条件语句2){\n \t代码段2\n }else{\n \t代码段3\n }\n```\n**2.switch**\n\n```python\na.结构:\n switch(表达式){\n \tcase 值1:{\n \t\t代码段1\n \t\t\n \t}\n \tcase 值2:{\n \t\t代码段2\n \t\t\n \t}\n \t...\n \tdefault:{\n \t\t代码段3\n \t}\n }\n\nb.执行过程:先计算表达式的值，然后再用这个值去和后边case关键字后面的值一一对比，看是否相等。\n         找到第一个和表达式的值相等的case,然后将这个case作为入口，一次执行后边所有的代码，\n         直到遇到break或者switch结束。如果没有找到和表达式的值相等的case就执行default后面的代码\n           \nc.注意:default可有可无，case可以有若干个\n```\n\n####  JS循环结构\n\n1.for-in循环:(和python的for循环一样)\n\n```python\n for(var 变量 in 序列)\n {\n \t循环体\n }\n \n执行过程: 依次从序列中取元素对应的索引(下标)，取完为止，每取一个执行一次循环体\n\n取值：遍历字符串，取的是字符对应的下标；遍历列表，取的是元素对应的下标；遍历对象，取的是属性名（key）\n```\n\n2.for循环:(和C语言的for循环一样)\n\n```python\n for(表达式1；表达式2；表达式3){\n \t循环体\n }\n \n执行过程:先执行表达式1，然后再判断表达式2的结果是否为true,如果为true，就执行循环体，执行完循环体再执行\t\t表达式3；然后再判断表达式2的结果是否为true，如果为true，又执行循环体，执行完循环体再执行表达式\t   3；一直循环，直到表达式2的结果为false，然后跳出循环\n```\n举例：\n\n```python\n计算1到100的和\nfor (var i = 1, sum=0; i<=100; i++) {\n\tsum += i\n}\nconsole.log(sum)\n\nvar sum = 0\nvar i = 1\nfor (;i<=100;) {\n\tsum += i\n\ti++\n}\nconsole.log(sum)  \n\n```\n\n3.while循环:(和python一样)\n\n```python\n while(条件语句){\n \t循环体\n }\n```\n\n4.do-while：\n\n```python\ndo{\n\t循环体\n}while(条件语句)\n\n执行：先执行一次循环体，然后再判断条件语句是否为true,为true又执行循环体，依次类推，直到条件语句为false，循环就结束\n\n```\n\n####  JS函数\n\n1.函数的声明\n\n```python\nfunction 函数名(参数列表){\n\t函数体\n}\n\n说明：\na.function: 是js中声明函数的关键字\nb.函数名: 标识符，不能是关键字;见名知义，驼峰式命名\nc.参数列表: 参数名1,参数名2...; 形参；将数据从函数的外面传到函数中\nd.函数体：实现函数的功能\n\n注意：函数体只有在函数调用的时候才执行\n\n```\n2.函数的调用：和python一样\n\n- 函数调用的时候要保证每个参数都有值！\n- 支持位置参数、参数设置默认值(js6)\n- 注意:js中不支持不定长参数、关键字参数\n\n3.函数的返回值\n\n- js中函数如果没有遇到return,函数的返回值是undefined\n- 注意：js中不能同时返回多个值（有元祖语法的语言才支持多个返回值）\n\n4.js中，函数也可以作为变量\n\n5.另外一种声明函数的方式\n```python\nvar 变量 = function(参数列表){\n\t函数体\n}\n```\n\n####  JS数据类型\n\n**new 类型名(值) ---> 可以将其他的类型的数据转换成相应类型的值**\n1.数字类型(Number)：所有的数字对应的类型不能转换的结果是NaN\n\n```python\nconsole.log(typeof(10))\nvar num1 = 100\nvar num2 = new Number(false)\nconsole.log(num2,num1)\n```\n\n2.布尔(Boolean): true和fasle\n\n- 数字->布尔： NaN和0是false, 其他的都是true\n- 字符串->布尔: 空串是false，其他的是true\n- 总结:所有为0为空的转换成布尔是false，NaN,null和undefined都是false;其他的都是true\n\n```python\nvar bool = new Boolean(undefined)\nconsole.log(bool)\n```\n\n3.字符串(String):unicode编码\n\n- a.获取单个字符：通过字符串[下标]\n- b.支持转义字符\n- c.注意：\n  - js中的下标支持0到长 度-1，不支持负值\n  -  js中不支持切片\n\n```python\nvar str1 = 'abcde'\nconsole.log(str1[3])\n```\n- d.长度: 字符串.length\n\n```python\nconsole.log(str1.length)\n```\n- e.运算符：比较和+\n  - 比较和python一样\n  - +: 如果是其他的数据类型和字符串相加，都是先将其他数据类型转换成字符串，然后做字符串拼接操作\n\n```python\nconsole.log('abc'+'123')   // 'abc123'\nconsole.log(123+'abc')  //'123abc'\n```\n- f.其他的方法(自己查)\n  String对象方法: 字符串.方法()\n\n```python\nconsole.log('abcde'.charCodeAt(1))\n```\n4.数组(相当于python中的列表)\n有序，可变的，元素的类型可以是任意类型的数据\n\n```python\nvar array = [1, 'abc', true, [1,2,3]]\n```\n- a.查\n\n```python\nconsole.log(array[1])\n```\n- b.增\n\n```python\narray.push('aa')\nconsole.log(array)\n```\n- c.删除\n\n```python\npop():删除最后一个元素\narray.pop()\nconsole.log(array)\n\nshift():删除第一个元素\narray.shift()\nconsole.log(array)\n\nsplice(删除的开始下标, 删除的元素的个数)\nvar array = [1, 'abc', true, [1,2,3]]\narray.splice(1,1)\nconsole.log(array)\n\nsplice(被删除的下标/添加的开始下标, 添加个数, \t被添加的元素列表)\nvar array = [1, 'abc', true, [1,2,3]]\narray.splice(4,2,'aa','bb')\nconsole.log(array)\n```\n- d.改\n\n```python\nvar array = [1, 'abc', true, [1,2,3]]\narray[0] = 100\nconsole.log(arra\n```\n\n####  函数\n\n构造方法：用来创建对象\nfunction 函数名（形参）：\n​\tthis.属性 = 属性值\n\n```python\nthis.变量名 = function（）{\n\t实现方法\n\t}\n```","slug":"前端/JavaScript-one","published":1,"updated":"2019-03-14T01:49:14.858Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjt87kqos004br8r6ctov78l1","content":"<h1 id=\"JavaScript\"><a href=\"#JavaScript\" class=\"headerlink\" title=\"JavaScript\"></a>JavaScript</h1><p>行为样式表，console.log（内容）在控制台打印内容</p>\n<p>注意：js中修改css样式表通过xxx.style.属性，其中属性如果通过连接符连接改成大写；js可以临时添加属性，xxx.新属性，和python一样是动态弱类型语言，都可以添加属性，删除属性</p>\n<pre class=\" language-python\"><code class=\"language-python\">evt<span class=\"token punctuation\">.</span>target<span class=\"token punctuation\">.</span>index <span class=\"token operator\">=</span> i\n</code></pre>\n<p>index 就是一个新属性</p>\n<h3 id=\"JS介绍\"><a href=\"#JS介绍\" class=\"headerlink\" title=\"JS介绍\"></a>JS介绍</h3><p>1.专门用来处理网页中的行为的脚本语言，也是 web 标准中的行为标准<br>2.位置</p>\n<ul>\n<li>内联的 js: 写在标签事件相关属性中</li>\n<li>内部的 js：写在 script 标签中，可以放在任何地方，但是一般放在 head 或者 body 中</li>\n<li>外部的 js：写在外部的 js 文件中（后缀是 .js 的文件），通过 script 标签中的 src 属性，跟上 js 的地址，导入 js </li>\n</ul>\n<p>3.js 作用： </p>\n<ul>\n<li><p>修改标签中的内容</p>\n</li>\n<li><p>修改标签样式</p>\n</li>\n<li><p>插入 html 代码</p>\n</li>\n</ul>\n<p>4.注释：/<em> 注释内容 </em>/</p>\n<p>5.标识符：</p>\n<ul>\n<li><p>用来命名的（给变量、函数命名、对象命名）</p>\n</li>\n<li><p>标识符由字符、数字、下划线和$符组成，数字不开头</p>\n</li>\n<li><p>大小写敏感</p>\n</li>\n</ul>\n<h4 id=\"JS基础语法\"><a href=\"#JS基础语法\" class=\"headerlink\" title=\"JS基础语法\"></a>JS基础语法</h4><p>1.数据类型</p>\n<ul>\n<li>常用类型:Number(数字-包含所有的数字)、Boolean(布尔类型)、String(字符串)、Array(数组)、Object(对象)…..<ul>\n<li>注意：js 中没有元祖和集合</li>\n</ul>\n</li>\n<li>b. 常用的特殊的值：NaN (表示不存在的数字),null(空，一般用来清空变量中的内容),undefined(变量没有赋值的时候，默认是 undefined)</li>\n</ul>\n<p>2.字面量：</p>\n<ul>\n<li>Number 字面量:所有的数字(支持科学计数法, 不支持复数)</li>\n<li>Boolean 字面量:只有 true 和 false</li>\n<li>String 字面量:用单引号或者双引号引起来的字符集, 支持转义字符(和 python 一样)</li>\n<li>Array 字面量：js 中数组就相当于 python 的列表</li>\n<li>Object 对象字面量: 相当于 python 中的字典+对象<ul>\n<li>注意：key 相当于属性，value 相当于属性的值</li>\n</ul>\n</li>\n<li>typeof：查看数据类型</li>\n<li>js 中的语句：<ul>\n<li>一条语句结束后可以写分号，也可以不写。如果一行写多条语句就必须写分号</li>\n<li>js 中没有缩进语法的要求，需要使用代码的时候使用{}</li>\n</ul>\n</li>\n</ul>\n<h4 id=\"JS变量\"><a href=\"#JS变量\" class=\"headerlink\" title=\"JS变量\"></a>JS变量</h4><p><strong>js中变量的声明</strong></p>\n<ul>\n<li><p>语法：var 变量名 或者 var 变量名=初值</p>\n</li>\n<li><p>说明：</p>\n<ul>\n<li><p>var: 是 js 中声明变量的关键字</p>\n</li>\n<li><p>变量名: 标识符，不能是 js 中的关键字; 驼峰式命名(第一个单词的首字母小写，后边每个单词首字母大写)，见名知义</p>\n</li>\n<li><p>初值：声明的时候可以赋初值，也可以不赋</p>\n</li>\n<li><p>可以同时声明多个变量</p>\n<pre class=\" language-python\"><code class=\"language-python\">var age<span class=\"token punctuation\">;</span> var name\nvar age1<span class=\"token punctuation\">,</span> name1<span class=\"token punctuation\">,</span> studyId\nvar age2<span class=\"token operator\">=</span><span class=\"token number\">10</span><span class=\"token punctuation\">,</span> name2<span class=\"token punctuation\">,</span> studyId2\n</code></pre>\n</li>\n<li><p>一个变量可以存储多种类型的值<br>注意：变量一定要先声明再使用</p>\n</li>\n</ul>\n</li>\n</ul>\n<h4 id=\"JS运算\"><a href=\"#JS运算\" class=\"headerlink\" title=\"JS运算\"></a>JS运算</h4><ul>\n<li><p>JS中的正则表达式的表示：<strong><code>/^正则表达式$/</code></strong></p>\n</li>\n<li><p>js 中的运算符包含：数学运算符、比较运算符、逻辑运算符、赋值运算符、三目运算符、（位运算）</p>\n</li>\n</ul>\n<p>1.数学运算符:+、-、<em>、/、%、**(js7中才有的)、++、–，其中：+、-、</em>、/、%、**和 python 中的功能一模一样</p>\n<ul>\n<li><p>注意：js 中没有整除对应的运算符，但是多了++和–</p>\n<ul>\n<li>++(自加)：自加1<ul>\n<li>语法：变量++, ++变量 —-&gt; 让变量的值加1， 相当于: 变量 += 1</li>\n</ul>\n</li>\n<li>–(自减1操作)<ul>\n<li>语法：变量–, –变量   —-&gt; 让变量的值减一,  相当于: 变量 -= 1</li>\n</ul>\n</li>\n</ul>\n</li>\n<li><p>赋值的时候，++/–写在变量的后面，是先赋值，然后再让变量的值加1/减1。++/–写变量的前面，就先加1/减1，然后再赋值</p>\n<pre class=\" language-python\"><code class=\"language-python\">var a1<span class=\"token operator\">=</span><span class=\"token number\">10</span><span class=\"token punctuation\">,</span>a2<span class=\"token operator\">=</span><span class=\"token number\">10</span><span class=\"token punctuation\">,</span> b<span class=\"token punctuation\">,</span> c\nb <span class=\"token operator\">=</span> a1<span class=\"token operator\">+</span><span class=\"token operator\">+</span>   <span class=\"token operator\">//</span> b <span class=\"token operator\">=</span> a1<span class=\"token punctuation\">,</span> a1 <span class=\"token operator\">+=</span> <span class=\"token number\">1</span>  <span class=\"token operator\">-</span><span class=\"token operator\">-</span><span class=\"token operator\">-</span> b<span class=\"token operator\">=</span><span class=\"token number\">10</span><span class=\"token punctuation\">,</span> a1<span class=\"token operator\">=</span><span class=\"token number\">11</span>\nc <span class=\"token operator\">=</span> <span class=\"token operator\">+</span><span class=\"token operator\">+</span>a2   <span class=\"token operator\">//</span> a2 <span class=\"token operator\">+=</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span> c <span class=\"token operator\">=</span> a2  <span class=\"token operator\">-</span><span class=\"token operator\">-</span><span class=\"token operator\">-</span> a2<span class=\"token operator\">=</span><span class=\"token number\">11</span><span class=\"token punctuation\">,</span> c<span class=\"token operator\">=</span><span class=\"token number\">11</span>\n</code></pre>\n</li>\n</ul>\n<p>2.比较运算符:&gt;,&lt;,==,!=,&gt;=, &lt;=, ===, !==, &gt;==, &lt;==</p>\n<ul>\n<li>结果都是布尔值</li>\n<li>相等(==):只判断值是否相等</li>\n<li>完全相等(===):判断值和类型是否相等</li>\n</ul>\n<p>3.逻辑运算符：&amp;&amp;(与)，||(或), !(非)<br><strong>js 逻辑运算符除了形式，其他的和 python 一样</strong></p>\n<p>4.赋值运算符：=， += ，-=， *=， /=， %= 等, 和 python 一样</p>\n<p>5.三目运算符: ?:</p>\n<ul>\n<li>语法：表达式1?值1:值2  —&gt; 判断表达式1的值是否为真，为真整个运算的结果就是值1，否则是值2</li>\n</ul>\n<h2 id=\"三元条件运算符\"><a href=\"#三元条件运算符\" class=\"headerlink\" title=\"三元条件运算符\"></a>三元条件运算符</h2><p><a href=\"https://baike.baidu.com/item/%E4%B8%89%E5%85%83%E8%BF%90%E7%AE%97%E7%AC%A6/1394210?fr=aladdin\" target=\"_blank\" rel=\"noopener\">参考网址</a></p>\n<p>6.位运算（都是二元运算符）：&amp;, |, ^, ~, &gt;&gt;, &lt;&lt;</p>\n<ul>\n<li><p>&amp;: 将符号左右两边的值转换成二进制，操作位同取1，异取0</p>\n</li>\n<li><p>| ：将符号左右两边的值转换成二进制，遇1取1，没有取0</p>\n</li>\n<li><p>^: 将符号左右两边的值转换成二进制，遇1取1，遇同取0</p>\n</li>\n<li><p>~：符号取反，二进制最后一位取反</p>\n</li>\n<li><p>&lt;&lt;左移: 1&lt;&lt;3 表示 1*(2^3)</p>\n</li>\n<li><p><em>&gt;&gt;</em>右移: 1&gt;&gt;3 表示 1//(2^3)</p>\n<pre class=\" language-python\"><code class=\"language-python\"><span class=\"token operator\">&lt;&lt;</span>运算符使指定值的二进制所有位都左移规定的次数，对于其移动规则只需记住丢弃最高位，<span class=\"token number\">0</span>补最低位即按二进制形式把所有的数字向左移动对应的位数，高位移出<span class=\"token punctuation\">(</span>舍弃<span class=\"token punctuation\">)</span>，低位的空位补零。\n\n<span class=\"token operator\">>></span>运算符使指定值的二进制所有位都右移规定的次数，对于其移动规则只需记住符号位不变，左边补上符号位即按二进制形式把所有的数字向右移动对应的位数，低位移出<span class=\"token punctuation\">(</span>舍弃<span class=\"token punctuation\">)</span>，高位的空位补符号位，即正数补零，负数补<span class=\"token number\">1</span>。\n</code></pre>\n<p><img src=\"/2018/04/02/前端/JavaScript-one/位运算.png\" alt=\"位运算\"></p>\n</li>\n</ul>\n<p>7.运算顺序：和 python 基本一致(数学&gt;比较&gt;逻辑&gt;赋值)，也可以通过加括号来改变运算顺序</p>\n<h4 id=\"JS分支结构\"><a href=\"#JS分支结构\" class=\"headerlink\" title=\"JS分支结构\"></a>JS分支结构</h4><p><strong>1.if语句</strong></p>\n<pre class=\" language-python\"><code class=\"language-python\"> a<span class=\"token punctuation\">.</span><span class=\"token keyword\">if</span>结构： \n  <span class=\"token keyword\">if</span><span class=\"token punctuation\">(</span>条件语句<span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">{</span>\n       代码段\n  <span class=\"token punctuation\">}</span>\n <span class=\"token operator\">*</span>执行过程<span class=\"token punctuation\">:</span> 先判断条件语句是否为true，为true就执行代码段\n\nb<span class=\"token punctuation\">.</span><span class=\"token keyword\">if</span><span class=\"token operator\">-</span><span class=\"token keyword\">else</span>结构：\n <span class=\"token keyword\">if</span><span class=\"token punctuation\">(</span>条件语句<span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n     代码段<span class=\"token number\">1</span>\n <span class=\"token punctuation\">}</span><span class=\"token keyword\">else</span><span class=\"token punctuation\">{</span>\n     代码段<span class=\"token number\">2</span>\n <span class=\"token punctuation\">}</span>\n\n c<span class=\"token punctuation\">.</span><span class=\"token keyword\">if</span><span class=\"token operator\">-</span><span class=\"token keyword\">else</span> <span class=\"token keyword\">if</span><span class=\"token operator\">-</span><span class=\"token keyword\">else</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">(</span>这儿的 <span class=\"token keyword\">else</span> <span class=\"token keyword\">if</span> 相当于 python 中的 <span class=\"token keyword\">elif</span><span class=\"token punctuation\">)</span>\n <span class=\"token keyword\">if</span><span class=\"token punctuation\">(</span>条件语句<span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n     代码段<span class=\"token number\">1</span>\n <span class=\"token punctuation\">}</span><span class=\"token keyword\">else</span> <span class=\"token keyword\">if</span><span class=\"token punctuation\">(</span>条件语句<span class=\"token number\">2</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n     代码段<span class=\"token number\">2</span>\n <span class=\"token punctuation\">}</span><span class=\"token keyword\">else</span><span class=\"token punctuation\">{</span>\n     代码段<span class=\"token number\">3</span>\n <span class=\"token punctuation\">}</span>\n</code></pre>\n<p><strong>2.switch</strong></p>\n<pre class=\" language-python\"><code class=\"language-python\">a<span class=\"token punctuation\">.</span>结构<span class=\"token punctuation\">:</span>\n switch<span class=\"token punctuation\">(</span>表达式<span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n     case 值<span class=\"token number\">1</span><span class=\"token punctuation\">:</span><span class=\"token punctuation\">{</span>\n         代码段<span class=\"token number\">1</span>\n\n     <span class=\"token punctuation\">}</span>\n     case 值<span class=\"token number\">2</span><span class=\"token punctuation\">:</span><span class=\"token punctuation\">{</span>\n         代码段<span class=\"token number\">2</span>\n\n     <span class=\"token punctuation\">}</span>\n     <span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>\n     default<span class=\"token punctuation\">:</span><span class=\"token punctuation\">{</span>\n         代码段<span class=\"token number\">3</span>\n     <span class=\"token punctuation\">}</span>\n <span class=\"token punctuation\">}</span>\n\nb<span class=\"token punctuation\">.</span>执行过程<span class=\"token punctuation\">:</span>先计算表达式的值，然后再用这个值去和后边case关键字后面的值一一对比，看是否相等。\n         找到第一个和表达式的值相等的case<span class=\"token punctuation\">,</span>然后将这个case作为入口，一次执行后边所有的代码，\n         直到遇到<span class=\"token keyword\">break</span>或者switch结束。如果没有找到和表达式的值相等的case就执行default后面的代码\n\nc<span class=\"token punctuation\">.</span>注意<span class=\"token punctuation\">:</span>default可有可无，case可以有若干个\n</code></pre>\n<h4 id=\"JS循环结构\"><a href=\"#JS循环结构\" class=\"headerlink\" title=\"JS循环结构\"></a>JS循环结构</h4><p>1.for-in循环:(和python的for循环一样)</p>\n<pre class=\" language-python\"><code class=\"language-python\"> <span class=\"token keyword\">for</span><span class=\"token punctuation\">(</span>var 变量 <span class=\"token keyword\">in</span> 序列<span class=\"token punctuation\">)</span>\n <span class=\"token punctuation\">{</span>\n     循环体\n <span class=\"token punctuation\">}</span>\n\n执行过程<span class=\"token punctuation\">:</span> 依次从序列中取元素对应的索引<span class=\"token punctuation\">(</span>下标<span class=\"token punctuation\">)</span>，取完为止，每取一个执行一次循环体\n\n取值：遍历字符串，取的是字符对应的下标；遍历列表，取的是元素对应的下标；遍历对象，取的是属性名（key）\n</code></pre>\n<p>2.for循环:(和C语言的for循环一样)</p>\n<pre class=\" language-python\"><code class=\"language-python\"> <span class=\"token keyword\">for</span><span class=\"token punctuation\">(</span>表达式<span class=\"token number\">1</span>；表达式<span class=\"token number\">2</span>；表达式<span class=\"token number\">3</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n     循环体\n <span class=\"token punctuation\">}</span>\n\n执行过程<span class=\"token punctuation\">:</span>先执行表达式<span class=\"token number\">1</span>，然后再判断表达式<span class=\"token number\">2</span>的结果是否为true<span class=\"token punctuation\">,</span>如果为true，就执行循环体，执行完循环体再执行        表达式<span class=\"token number\">3</span>；然后再判断表达式<span class=\"token number\">2</span>的结果是否为true，如果为true，又执行循环体，执行完循环体再执行表达式       <span class=\"token number\">3</span>；一直循环，直到表达式<span class=\"token number\">2</span>的结果为false，然后跳出循环\n</code></pre>\n<p>举例：</p>\n<pre class=\" language-python\"><code class=\"language-python\">计算<span class=\"token number\">1</span>到<span class=\"token number\">100</span>的和\n<span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span>var i <span class=\"token operator\">=</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span> sum<span class=\"token operator\">=</span><span class=\"token number\">0</span><span class=\"token punctuation\">;</span> i<span class=\"token operator\">&lt;=</span><span class=\"token number\">100</span><span class=\"token punctuation\">;</span> i<span class=\"token operator\">+</span><span class=\"token operator\">+</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    sum <span class=\"token operator\">+=</span> i\n<span class=\"token punctuation\">}</span>\nconsole<span class=\"token punctuation\">.</span>log<span class=\"token punctuation\">(</span>sum<span class=\"token punctuation\">)</span>\n\nvar sum <span class=\"token operator\">=</span> <span class=\"token number\">0</span>\nvar i <span class=\"token operator\">=</span> <span class=\"token number\">1</span>\n<span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">;</span>i<span class=\"token operator\">&lt;=</span><span class=\"token number\">100</span><span class=\"token punctuation\">;</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    sum <span class=\"token operator\">+=</span> i\n    i<span class=\"token operator\">+</span><span class=\"token operator\">+</span>\n<span class=\"token punctuation\">}</span>\nconsole<span class=\"token punctuation\">.</span>log<span class=\"token punctuation\">(</span>sum<span class=\"token punctuation\">)</span>  \n\n</code></pre>\n<p>3.while循环:(和python一样)</p>\n<pre class=\" language-python\"><code class=\"language-python\"> <span class=\"token keyword\">while</span><span class=\"token punctuation\">(</span>条件语句<span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n     循环体\n <span class=\"token punctuation\">}</span>\n</code></pre>\n<p>4.do-while：</p>\n<pre class=\" language-python\"><code class=\"language-python\">do<span class=\"token punctuation\">{</span>\n    循环体\n<span class=\"token punctuation\">}</span><span class=\"token keyword\">while</span><span class=\"token punctuation\">(</span>条件语句<span class=\"token punctuation\">)</span>\n\n执行：先执行一次循环体，然后再判断条件语句是否为true<span class=\"token punctuation\">,</span>为true又执行循环体，依次类推，直到条件语句为false，循环就结束\n\n</code></pre>\n<h4 id=\"JS函数\"><a href=\"#JS函数\" class=\"headerlink\" title=\"JS函数\"></a>JS函数</h4><p>1.函数的声明</p>\n<pre class=\" language-python\"><code class=\"language-python\">function 函数名<span class=\"token punctuation\">(</span>参数列表<span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n    函数体\n<span class=\"token punctuation\">}</span>\n\n说明：\na<span class=\"token punctuation\">.</span>function<span class=\"token punctuation\">:</span> 是js中声明函数的关键字\nb<span class=\"token punctuation\">.</span>函数名<span class=\"token punctuation\">:</span> 标识符，不能是关键字<span class=\"token punctuation\">;</span>见名知义，驼峰式命名\nc<span class=\"token punctuation\">.</span>参数列表<span class=\"token punctuation\">:</span> 参数名<span class=\"token number\">1</span><span class=\"token punctuation\">,</span>参数名<span class=\"token number\">2</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">;</span> 形参；将数据从函数的外面传到函数中\nd<span class=\"token punctuation\">.</span>函数体：实现函数的功能\n\n注意：函数体只有在函数调用的时候才执行\n\n</code></pre>\n<p>2.函数的调用：和python一样</p>\n<ul>\n<li>函数调用的时候要保证每个参数都有值！</li>\n<li>支持位置参数、参数设置默认值(js6)</li>\n<li>注意:js中不支持不定长参数、关键字参数</li>\n</ul>\n<p>3.函数的返回值</p>\n<ul>\n<li>js中函数如果没有遇到return,函数的返回值是undefined</li>\n<li>注意：js中不能同时返回多个值（有元祖语法的语言才支持多个返回值）</li>\n</ul>\n<p>4.js中，函数也可以作为变量</p>\n<p>5.另外一种声明函数的方式</p>\n<pre class=\" language-python\"><code class=\"language-python\">var 变量 <span class=\"token operator\">=</span> function<span class=\"token punctuation\">(</span>参数列表<span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n    函数体\n<span class=\"token punctuation\">}</span>\n</code></pre>\n<h4 id=\"JS数据类型\"><a href=\"#JS数据类型\" class=\"headerlink\" title=\"JS数据类型\"></a>JS数据类型</h4><p><strong>new 类型名(值) —&gt; 可以将其他的类型的数据转换成相应类型的值</strong><br>1.数字类型(Number)：所有的数字对应的类型不能转换的结果是NaN</p>\n<pre class=\" language-python\"><code class=\"language-python\">console<span class=\"token punctuation\">.</span>log<span class=\"token punctuation\">(</span>typeof<span class=\"token punctuation\">(</span><span class=\"token number\">10</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\nvar num1 <span class=\"token operator\">=</span> <span class=\"token number\">100</span>\nvar num2 <span class=\"token operator\">=</span> new Number<span class=\"token punctuation\">(</span>false<span class=\"token punctuation\">)</span>\nconsole<span class=\"token punctuation\">.</span>log<span class=\"token punctuation\">(</span>num2<span class=\"token punctuation\">,</span>num1<span class=\"token punctuation\">)</span>\n</code></pre>\n<p>2.布尔(Boolean): true和fasle</p>\n<ul>\n<li>数字-&gt;布尔： NaN和0是false, 其他的都是true</li>\n<li>字符串-&gt;布尔: 空串是false，其他的是true</li>\n<li>总结:所有为0为空的转换成布尔是false，NaN,null和undefined都是false;其他的都是true</li>\n</ul>\n<pre class=\" language-python\"><code class=\"language-python\">var bool <span class=\"token operator\">=</span> new Boolean<span class=\"token punctuation\">(</span>undefined<span class=\"token punctuation\">)</span>\nconsole<span class=\"token punctuation\">.</span>log<span class=\"token punctuation\">(</span>bool<span class=\"token punctuation\">)</span>\n</code></pre>\n<p>3.字符串(String):unicode编码</p>\n<ul>\n<li>a.获取单个字符：通过字符串[下标]</li>\n<li>b.支持转义字符</li>\n<li>c.注意：<ul>\n<li>js中的下标支持0到长 度-1，不支持负值</li>\n<li>js中不支持切片</li>\n</ul>\n</li>\n</ul>\n<pre class=\" language-python\"><code class=\"language-python\">var str1 <span class=\"token operator\">=</span> <span class=\"token string\">'abcde'</span>\nconsole<span class=\"token punctuation\">.</span>log<span class=\"token punctuation\">(</span>str1<span class=\"token punctuation\">[</span><span class=\"token number\">3</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>\n</code></pre>\n<ul>\n<li>d.长度: 字符串.length</li>\n</ul>\n<pre class=\" language-python\"><code class=\"language-python\">console<span class=\"token punctuation\">.</span>log<span class=\"token punctuation\">(</span>str1<span class=\"token punctuation\">.</span>length<span class=\"token punctuation\">)</span>\n</code></pre>\n<ul>\n<li>e.运算符：比较和+<ul>\n<li>比较和python一样</li>\n<li>+: 如果是其他的数据类型和字符串相加，都是先将其他数据类型转换成字符串，然后做字符串拼接操作</li>\n</ul>\n</li>\n</ul>\n<pre class=\" language-python\"><code class=\"language-python\">console<span class=\"token punctuation\">.</span>log<span class=\"token punctuation\">(</span><span class=\"token string\">'abc'</span><span class=\"token operator\">+</span><span class=\"token string\">'123'</span><span class=\"token punctuation\">)</span>   <span class=\"token operator\">//</span> <span class=\"token string\">'abc123'</span>\nconsole<span class=\"token punctuation\">.</span>log<span class=\"token punctuation\">(</span><span class=\"token number\">123</span><span class=\"token operator\">+</span><span class=\"token string\">'abc'</span><span class=\"token punctuation\">)</span>  <span class=\"token operator\">//</span><span class=\"token string\">'123abc'</span>\n</code></pre>\n<ul>\n<li>f.其他的方法(自己查)<br>String对象方法: 字符串.方法()</li>\n</ul>\n<pre class=\" language-python\"><code class=\"language-python\">console<span class=\"token punctuation\">.</span>log<span class=\"token punctuation\">(</span><span class=\"token string\">'abcde'</span><span class=\"token punctuation\">.</span>charCodeAt<span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n</code></pre>\n<p>4.数组(相当于python中的列表)<br>有序，可变的，元素的类型可以是任意类型的数据</p>\n<pre class=\" language-python\"><code class=\"language-python\">var array <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'abc'</span><span class=\"token punctuation\">,</span> true<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span><span class=\"token number\">2</span><span class=\"token punctuation\">,</span><span class=\"token number\">3</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">]</span>\n</code></pre>\n<ul>\n<li>a.查</li>\n</ul>\n<pre class=\" language-python\"><code class=\"language-python\">console<span class=\"token punctuation\">.</span>log<span class=\"token punctuation\">(</span>array<span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>\n</code></pre>\n<ul>\n<li>b.增</li>\n</ul>\n<pre class=\" language-python\"><code class=\"language-python\">array<span class=\"token punctuation\">.</span>push<span class=\"token punctuation\">(</span><span class=\"token string\">'aa'</span><span class=\"token punctuation\">)</span>\nconsole<span class=\"token punctuation\">.</span>log<span class=\"token punctuation\">(</span>array<span class=\"token punctuation\">)</span>\n</code></pre>\n<ul>\n<li>c.删除</li>\n</ul>\n<pre class=\" language-python\"><code class=\"language-python\">pop<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>删除最后一个元素\narray<span class=\"token punctuation\">.</span>pop<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\nconsole<span class=\"token punctuation\">.</span>log<span class=\"token punctuation\">(</span>array<span class=\"token punctuation\">)</span>\n\nshift<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>删除第一个元素\narray<span class=\"token punctuation\">.</span>shift<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\nconsole<span class=\"token punctuation\">.</span>log<span class=\"token punctuation\">(</span>array<span class=\"token punctuation\">)</span>\n\nsplice<span class=\"token punctuation\">(</span>删除的开始下标<span class=\"token punctuation\">,</span> 删除的元素的个数<span class=\"token punctuation\">)</span>\nvar array <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'abc'</span><span class=\"token punctuation\">,</span> true<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span><span class=\"token number\">2</span><span class=\"token punctuation\">,</span><span class=\"token number\">3</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">]</span>\narray<span class=\"token punctuation\">.</span>splice<span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span>\nconsole<span class=\"token punctuation\">.</span>log<span class=\"token punctuation\">(</span>array<span class=\"token punctuation\">)</span>\n\nsplice<span class=\"token punctuation\">(</span>被删除的下标<span class=\"token operator\">/</span>添加的开始下标<span class=\"token punctuation\">,</span> 添加个数<span class=\"token punctuation\">,</span>     被添加的元素列表<span class=\"token punctuation\">)</span>\nvar array <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'abc'</span><span class=\"token punctuation\">,</span> true<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span><span class=\"token number\">2</span><span class=\"token punctuation\">,</span><span class=\"token number\">3</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">]</span>\narray<span class=\"token punctuation\">.</span>splice<span class=\"token punctuation\">(</span><span class=\"token number\">4</span><span class=\"token punctuation\">,</span><span class=\"token number\">2</span><span class=\"token punctuation\">,</span><span class=\"token string\">'aa'</span><span class=\"token punctuation\">,</span><span class=\"token string\">'bb'</span><span class=\"token punctuation\">)</span>\nconsole<span class=\"token punctuation\">.</span>log<span class=\"token punctuation\">(</span>array<span class=\"token punctuation\">)</span>\n</code></pre>\n<ul>\n<li>d.改</li>\n</ul>\n<pre class=\" language-python\"><code class=\"language-python\">var array <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'abc'</span><span class=\"token punctuation\">,</span> true<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span><span class=\"token number\">2</span><span class=\"token punctuation\">,</span><span class=\"token number\">3</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">]</span>\narray<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token number\">100</span>\nconsole<span class=\"token punctuation\">.</span>log<span class=\"token punctuation\">(</span>arra\n</code></pre>\n<h4 id=\"函数\"><a href=\"#函数\" class=\"headerlink\" title=\"函数\"></a>函数</h4><p>构造方法：用来创建对象<br>function 函数名（形参）：<br>​    this.属性 = 属性值</p>\n<pre class=\" language-python\"><code class=\"language-python\">this<span class=\"token punctuation\">.</span>变量名 <span class=\"token operator\">=</span> function（）<span class=\"token punctuation\">{</span>\n    实现方法\n    <span class=\"token punctuation\">}</span>\n</code></pre>\n","site":{"data":{}},"excerpt":"","more":"<h1 id=\"JavaScript\"><a href=\"#JavaScript\" class=\"headerlink\" title=\"JavaScript\"></a>JavaScript</h1><p>行为样式表，console.log（内容）在控制台打印内容</p>\n<p>注意：js中修改css样式表通过xxx.style.属性，其中属性如果通过连接符连接改成大写；js可以临时添加属性，xxx.新属性，和python一样是动态弱类型语言，都可以添加属性，删除属性</p>\n<pre><code class=\"python\">evt.target.index = i\n</code></pre>\n<p>index 就是一个新属性</p>\n<h3 id=\"JS介绍\"><a href=\"#JS介绍\" class=\"headerlink\" title=\"JS介绍\"></a>JS介绍</h3><p>1.专门用来处理网页中的行为的脚本语言，也是 web 标准中的行为标准<br>2.位置</p>\n<ul>\n<li>内联的 js: 写在标签事件相关属性中</li>\n<li>内部的 js：写在 script 标签中，可以放在任何地方，但是一般放在 head 或者 body 中</li>\n<li>外部的 js：写在外部的 js 文件中（后缀是 .js 的文件），通过 script 标签中的 src 属性，跟上 js 的地址，导入 js </li>\n</ul>\n<p>3.js 作用： </p>\n<ul>\n<li><p>修改标签中的内容</p>\n</li>\n<li><p>修改标签样式</p>\n</li>\n<li><p>插入 html 代码</p>\n</li>\n</ul>\n<p>4.注释：/<em> 注释内容 </em>/</p>\n<p>5.标识符：</p>\n<ul>\n<li><p>用来命名的（给变量、函数命名、对象命名）</p>\n</li>\n<li><p>标识符由字符、数字、下划线和$符组成，数字不开头</p>\n</li>\n<li><p>大小写敏感</p>\n</li>\n</ul>\n<h4 id=\"JS基础语法\"><a href=\"#JS基础语法\" class=\"headerlink\" title=\"JS基础语法\"></a>JS基础语法</h4><p>1.数据类型</p>\n<ul>\n<li>常用类型:Number(数字-包含所有的数字)、Boolean(布尔类型)、String(字符串)、Array(数组)、Object(对象)…..<ul>\n<li>注意：js 中没有元祖和集合</li>\n</ul>\n</li>\n<li>b. 常用的特殊的值：NaN (表示不存在的数字),null(空，一般用来清空变量中的内容),undefined(变量没有赋值的时候，默认是 undefined)</li>\n</ul>\n<p>2.字面量：</p>\n<ul>\n<li>Number 字面量:所有的数字(支持科学计数法, 不支持复数)</li>\n<li>Boolean 字面量:只有 true 和 false</li>\n<li>String 字面量:用单引号或者双引号引起来的字符集, 支持转义字符(和 python 一样)</li>\n<li>Array 字面量：js 中数组就相当于 python 的列表</li>\n<li>Object 对象字面量: 相当于 python 中的字典+对象<ul>\n<li>注意：key 相当于属性，value 相当于属性的值</li>\n</ul>\n</li>\n<li>typeof：查看数据类型</li>\n<li>js 中的语句：<ul>\n<li>一条语句结束后可以写分号，也可以不写。如果一行写多条语句就必须写分号</li>\n<li>js 中没有缩进语法的要求，需要使用代码的时候使用{}</li>\n</ul>\n</li>\n</ul>\n<h4 id=\"JS变量\"><a href=\"#JS变量\" class=\"headerlink\" title=\"JS变量\"></a>JS变量</h4><p><strong>js中变量的声明</strong></p>\n<ul>\n<li><p>语法：var 变量名 或者 var 变量名=初值</p>\n</li>\n<li><p>说明：</p>\n<ul>\n<li><p>var: 是 js 中声明变量的关键字</p>\n</li>\n<li><p>变量名: 标识符，不能是 js 中的关键字; 驼峰式命名(第一个单词的首字母小写，后边每个单词首字母大写)，见名知义</p>\n</li>\n<li><p>初值：声明的时候可以赋初值，也可以不赋</p>\n</li>\n<li><p>可以同时声明多个变量</p>\n<pre><code class=\"python\">var age; var name\nvar age1, name1, studyId\nvar age2=10, name2, studyId2\n</code></pre>\n</li>\n<li><p>一个变量可以存储多种类型的值<br>注意：变量一定要先声明再使用</p>\n</li>\n</ul>\n</li>\n</ul>\n<h4 id=\"JS运算\"><a href=\"#JS运算\" class=\"headerlink\" title=\"JS运算\"></a>JS运算</h4><ul>\n<li><p>JS中的正则表达式的表示：<strong><code>/^正则表达式$/</code></strong></p>\n</li>\n<li><p>js 中的运算符包含：数学运算符、比较运算符、逻辑运算符、赋值运算符、三目运算符、（位运算）</p>\n</li>\n</ul>\n<p>1.数学运算符:+、-、<em>、/、%、**(js7中才有的)、++、–，其中：+、-、</em>、/、%、**和 python 中的功能一模一样</p>\n<ul>\n<li><p>注意：js 中没有整除对应的运算符，但是多了++和–</p>\n<ul>\n<li>++(自加)：自加1<ul>\n<li>语法：变量++, ++变量 —-&gt; 让变量的值加1， 相当于: 变量 += 1</li>\n</ul>\n</li>\n<li>–(自减1操作)<ul>\n<li>语法：变量–, –变量   —-&gt; 让变量的值减一,  相当于: 变量 -= 1</li>\n</ul>\n</li>\n</ul>\n</li>\n<li><p>赋值的时候，++/–写在变量的后面，是先赋值，然后再让变量的值加1/减1。++/–写变量的前面，就先加1/减1，然后再赋值</p>\n<pre><code class=\"python\">var a1=10,a2=10, b, c\nb = a1++   // b = a1, a1 += 1  --- b=10, a1=11\nc = ++a2   // a2 += 1, c = a2  --- a2=11, c=11\n</code></pre>\n</li>\n</ul>\n<p>2.比较运算符:&gt;,&lt;,==,!=,&gt;=, &lt;=, ===, !==, &gt;==, &lt;==</p>\n<ul>\n<li>结果都是布尔值</li>\n<li>相等(==):只判断值是否相等</li>\n<li>完全相等(===):判断值和类型是否相等</li>\n</ul>\n<p>3.逻辑运算符：&amp;&amp;(与)，||(或), !(非)<br><strong>js 逻辑运算符除了形式，其他的和 python 一样</strong></p>\n<p>4.赋值运算符：=， += ，-=， *=， /=， %= 等, 和 python 一样</p>\n<p>5.三目运算符: ?:</p>\n<ul>\n<li>语法：表达式1?值1:值2  —&gt; 判断表达式1的值是否为真，为真整个运算的结果就是值1，否则是值2</li>\n</ul>\n<h2 id=\"三元条件运算符\"><a href=\"#三元条件运算符\" class=\"headerlink\" title=\"三元条件运算符\"></a>三元条件运算符</h2><p><a href=\"https://baike.baidu.com/item/%E4%B8%89%E5%85%83%E8%BF%90%E7%AE%97%E7%AC%A6/1394210?fr=aladdin\" target=\"_blank\" rel=\"noopener\">参考网址</a></p>\n<p>6.位运算（都是二元运算符）：&amp;, |, ^, ~, &gt;&gt;, &lt;&lt;</p>\n<ul>\n<li><p>&amp;: 将符号左右两边的值转换成二进制，操作位同取1，异取0</p>\n</li>\n<li><p>| ：将符号左右两边的值转换成二进制，遇1取1，没有取0</p>\n</li>\n<li><p>^: 将符号左右两边的值转换成二进制，遇1取1，遇同取0</p>\n</li>\n<li><p>~：符号取反，二进制最后一位取反</p>\n</li>\n<li><p>&lt;&lt;左移: 1&lt;&lt;3 表示 1*(2^3)</p>\n</li>\n<li><p><em>&gt;&gt;</em>右移: 1&gt;&gt;3 表示 1//(2^3)</p>\n<pre><code class=\"python\">&lt;&lt;运算符使指定值的二进制所有位都左移规定的次数，对于其移动规则只需记住丢弃最高位，0补最低位即按二进制形式把所有的数字向左移动对应的位数，高位移出(舍弃)，低位的空位补零。\n\n&gt;&gt;运算符使指定值的二进制所有位都右移规定的次数，对于其移动规则只需记住符号位不变，左边补上符号位即按二进制形式把所有的数字向右移动对应的位数，低位移出(舍弃)，高位的空位补符号位，即正数补零，负数补1。\n</code></pre>\n<p><img src=\"/2018/04/02/前端/JavaScript-one/位运算.png\" alt=\"位运算\"></p>\n</li>\n</ul>\n<p>7.运算顺序：和 python 基本一致(数学&gt;比较&gt;逻辑&gt;赋值)，也可以通过加括号来改变运算顺序</p>\n<h4 id=\"JS分支结构\"><a href=\"#JS分支结构\" class=\"headerlink\" title=\"JS分支结构\"></a>JS分支结构</h4><p><strong>1.if语句</strong></p>\n<pre><code class=\"python\"> a.if结构： \n  if(条件语句)\n  {\n       代码段\n  }\n *执行过程: 先判断条件语句是否为true，为true就执行代码段\n\nb.if-else结构：\n if(条件语句){\n     代码段1\n }else{\n     代码段2\n }\n\n c.if-else if-else: (这儿的 else if 相当于 python 中的 elif)\n if(条件语句1){\n     代码段1\n }else if(条件语句2){\n     代码段2\n }else{\n     代码段3\n }\n</code></pre>\n<p><strong>2.switch</strong></p>\n<pre><code class=\"python\">a.结构:\n switch(表达式){\n     case 值1:{\n         代码段1\n\n     }\n     case 值2:{\n         代码段2\n\n     }\n     ...\n     default:{\n         代码段3\n     }\n }\n\nb.执行过程:先计算表达式的值，然后再用这个值去和后边case关键字后面的值一一对比，看是否相等。\n         找到第一个和表达式的值相等的case,然后将这个case作为入口，一次执行后边所有的代码，\n         直到遇到break或者switch结束。如果没有找到和表达式的值相等的case就执行default后面的代码\n\nc.注意:default可有可无，case可以有若干个\n</code></pre>\n<h4 id=\"JS循环结构\"><a href=\"#JS循环结构\" class=\"headerlink\" title=\"JS循环结构\"></a>JS循环结构</h4><p>1.for-in循环:(和python的for循环一样)</p>\n<pre><code class=\"python\"> for(var 变量 in 序列)\n {\n     循环体\n }\n\n执行过程: 依次从序列中取元素对应的索引(下标)，取完为止，每取一个执行一次循环体\n\n取值：遍历字符串，取的是字符对应的下标；遍历列表，取的是元素对应的下标；遍历对象，取的是属性名（key）\n</code></pre>\n<p>2.for循环:(和C语言的for循环一样)</p>\n<pre><code class=\"python\"> for(表达式1；表达式2；表达式3){\n     循环体\n }\n\n执行过程:先执行表达式1，然后再判断表达式2的结果是否为true,如果为true，就执行循环体，执行完循环体再执行        表达式3；然后再判断表达式2的结果是否为true，如果为true，又执行循环体，执行完循环体再执行表达式       3；一直循环，直到表达式2的结果为false，然后跳出循环\n</code></pre>\n<p>举例：</p>\n<pre><code class=\"python\">计算1到100的和\nfor (var i = 1, sum=0; i&lt;=100; i++) {\n    sum += i\n}\nconsole.log(sum)\n\nvar sum = 0\nvar i = 1\nfor (;i&lt;=100;) {\n    sum += i\n    i++\n}\nconsole.log(sum)  \n\n</code></pre>\n<p>3.while循环:(和python一样)</p>\n<pre><code class=\"python\"> while(条件语句){\n     循环体\n }\n</code></pre>\n<p>4.do-while：</p>\n<pre><code class=\"python\">do{\n    循环体\n}while(条件语句)\n\n执行：先执行一次循环体，然后再判断条件语句是否为true,为true又执行循环体，依次类推，直到条件语句为false，循环就结束\n\n</code></pre>\n<h4 id=\"JS函数\"><a href=\"#JS函数\" class=\"headerlink\" title=\"JS函数\"></a>JS函数</h4><p>1.函数的声明</p>\n<pre><code class=\"python\">function 函数名(参数列表){\n    函数体\n}\n\n说明：\na.function: 是js中声明函数的关键字\nb.函数名: 标识符，不能是关键字;见名知义，驼峰式命名\nc.参数列表: 参数名1,参数名2...; 形参；将数据从函数的外面传到函数中\nd.函数体：实现函数的功能\n\n注意：函数体只有在函数调用的时候才执行\n\n</code></pre>\n<p>2.函数的调用：和python一样</p>\n<ul>\n<li>函数调用的时候要保证每个参数都有值！</li>\n<li>支持位置参数、参数设置默认值(js6)</li>\n<li>注意:js中不支持不定长参数、关键字参数</li>\n</ul>\n<p>3.函数的返回值</p>\n<ul>\n<li>js中函数如果没有遇到return,函数的返回值是undefined</li>\n<li>注意：js中不能同时返回多个值（有元祖语法的语言才支持多个返回值）</li>\n</ul>\n<p>4.js中，函数也可以作为变量</p>\n<p>5.另外一种声明函数的方式</p>\n<pre><code class=\"python\">var 变量 = function(参数列表){\n    函数体\n}\n</code></pre>\n<h4 id=\"JS数据类型\"><a href=\"#JS数据类型\" class=\"headerlink\" title=\"JS数据类型\"></a>JS数据类型</h4><p><strong>new 类型名(值) —&gt; 可以将其他的类型的数据转换成相应类型的值</strong><br>1.数字类型(Number)：所有的数字对应的类型不能转换的结果是NaN</p>\n<pre><code class=\"python\">console.log(typeof(10))\nvar num1 = 100\nvar num2 = new Number(false)\nconsole.log(num2,num1)\n</code></pre>\n<p>2.布尔(Boolean): true和fasle</p>\n<ul>\n<li>数字-&gt;布尔： NaN和0是false, 其他的都是true</li>\n<li>字符串-&gt;布尔: 空串是false，其他的是true</li>\n<li>总结:所有为0为空的转换成布尔是false，NaN,null和undefined都是false;其他的都是true</li>\n</ul>\n<pre><code class=\"python\">var bool = new Boolean(undefined)\nconsole.log(bool)\n</code></pre>\n<p>3.字符串(String):unicode编码</p>\n<ul>\n<li>a.获取单个字符：通过字符串[下标]</li>\n<li>b.支持转义字符</li>\n<li>c.注意：<ul>\n<li>js中的下标支持0到长 度-1，不支持负值</li>\n<li>js中不支持切片</li>\n</ul>\n</li>\n</ul>\n<pre><code class=\"python\">var str1 = &#39;abcde&#39;\nconsole.log(str1[3])\n</code></pre>\n<ul>\n<li>d.长度: 字符串.length</li>\n</ul>\n<pre><code class=\"python\">console.log(str1.length)\n</code></pre>\n<ul>\n<li>e.运算符：比较和+<ul>\n<li>比较和python一样</li>\n<li>+: 如果是其他的数据类型和字符串相加，都是先将其他数据类型转换成字符串，然后做字符串拼接操作</li>\n</ul>\n</li>\n</ul>\n<pre><code class=\"python\">console.log(&#39;abc&#39;+&#39;123&#39;)   // &#39;abc123&#39;\nconsole.log(123+&#39;abc&#39;)  //&#39;123abc&#39;\n</code></pre>\n<ul>\n<li>f.其他的方法(自己查)<br>String对象方法: 字符串.方法()</li>\n</ul>\n<pre><code class=\"python\">console.log(&#39;abcde&#39;.charCodeAt(1))\n</code></pre>\n<p>4.数组(相当于python中的列表)<br>有序，可变的，元素的类型可以是任意类型的数据</p>\n<pre><code class=\"python\">var array = [1, &#39;abc&#39;, true, [1,2,3]]\n</code></pre>\n<ul>\n<li>a.查</li>\n</ul>\n<pre><code class=\"python\">console.log(array[1])\n</code></pre>\n<ul>\n<li>b.增</li>\n</ul>\n<pre><code class=\"python\">array.push(&#39;aa&#39;)\nconsole.log(array)\n</code></pre>\n<ul>\n<li>c.删除</li>\n</ul>\n<pre><code class=\"python\">pop():删除最后一个元素\narray.pop()\nconsole.log(array)\n\nshift():删除第一个元素\narray.shift()\nconsole.log(array)\n\nsplice(删除的开始下标, 删除的元素的个数)\nvar array = [1, &#39;abc&#39;, true, [1,2,3]]\narray.splice(1,1)\nconsole.log(array)\n\nsplice(被删除的下标/添加的开始下标, 添加个数,     被添加的元素列表)\nvar array = [1, &#39;abc&#39;, true, [1,2,3]]\narray.splice(4,2,&#39;aa&#39;,&#39;bb&#39;)\nconsole.log(array)\n</code></pre>\n<ul>\n<li>d.改</li>\n</ul>\n<pre><code class=\"python\">var array = [1, &#39;abc&#39;, true, [1,2,3]]\narray[0] = 100\nconsole.log(arra\n</code></pre>\n<h4 id=\"函数\"><a href=\"#函数\" class=\"headerlink\" title=\"函数\"></a>函数</h4><p>构造方法：用来创建对象<br>function 函数名（形参）：<br>​    this.属性 = 属性值</p>\n<pre><code class=\"python\">this.变量名 = function（）{\n    实现方法\n    }\n</code></pre>\n"},{"title":"JavaScript_practice","date":"2018-03-10T11:06:57.000Z","author":"smile","_content":"\n```python\n<!DOCTYPE html>\n<html>\n\t<head>\n\t\t<meta charset=\"utf-8\" />\n\t\t<title></title>\n\t\t<style type=\"text/css\">\n\t\t\t#timer{\n\t\t\t\twidth: 300px;\n\t\t\t\theight: 30px;\n\t\t\t\tline-height: 30px;\n\t\t\t\ttext-align: center;\n\t\t\t\tbackground-color: blue;\n\t\t\t\tfloat: right;\n\t\t\t}\n\t\t\t#search{\n\t\t\t\tmargin: 50px;\n\t\t\t\tmargin-left: 500px;\n\t\t\t}\n\t\t\t#carno{\n\t\t\t\twidth: 400px;\n\t\t\t\theight: 60px;\n\t\t\t\t/*设置input中文字的样式*/\n\t\t\t\tfont: 28px/36px arial;\n\t\t\t\ttext-align: center;\n\t\t\t\tborder: none;\n\t\t\t\toutline: none;\n\t\t\t\tborder-bottom: 1px dotted darkgray;\n\t\t\t}\n\t\t\t#button1{\n\t\t\t\twidth: 200px;\n\t\t\t\theight: 60px;\n\t\t\t\tfont: 28px/36px arial;\n\t\t\t\ttext-align: center;\n\t\t\t\tborder: none;\n\t\t\t\toutline: none;\n\t\t\t\tbackground-color: red;\n\t\t\t}\n\t\t\t#button2{\n\t\t\t\twidth: 200px;\n\t\t\t\theight: 60px;\n\t\t\t\tfont: 28px/36px arial;\n\t\t\t\ttext-align: center;\n\t\t\t\tborder: none;\n\t\t\t\toutline: none;\n\t\t\t\tbackground-color: red;\n\t\t\t}\n\t\t\t#result {\n\t\t\t\twidth: 640px;\n\t\t\t\tmargin: 0 auto;\n\t\t\t\ttext-align: center;\n\t\t\t\tfont: 32px/36px arial;\n\t\t\t}\n\t\t</style>\n\t</head>\n\t<body>\n\t\t<div id=\"search\">\n\t\t\t<input id=\"carno\" type=\"text\" placeholder=\"请输入车牌号\" />\n\t\t\t<input id=\"button1\" type=\"button\" onclick=\"showResult()\" value=\"查询\" />\n\t\t\t<input id=\"button2\" type=\"button\" onclick=\"empty()\" value=\"清空历史记录\" />\n\t\t</div>\n\t\t<hr/>\n\t\t<p id=\"result\"></p>\n//        引入JS外部样式\n\t\t<script src=\"js/11-2.js\"></script>\n\t\t<button onclick=\"shutdown()\">关闭</button>\n\t\t<button onclick=\"openBaidu()\">打开百度</button>\n\t\t<div id=\"timer\"></div>\n\t\t<script>\n\t\t\tfunction showResult() {\n\t\t\t\tvar input = document.getElementById(\"carno\")\n\t\t\t\tvar p = document.getElementById(\"result\");\n\t\t\t\tvar carNo = input.value;\n\t\t\t\tvar regex = /^[川渝云贵京津沪][A-Z]\\s*[0-9A-Z]{5}$/;\n\t\t\t\tif (regex.test(carNo)) {\n\t\t\t\t\tvar digitStr = lastDigit(carNo);\n\t\t\t\t\tif (digitStr) {\n\t\t\t\t\t\tvar digit = parseInt(digitStr);\n\t\t\t\t\t\tvar day = new Date().getDay();\n\t\t\t\t\t\tif (digit % 5 == day || digit % 5 == day - 5) {\n\t\t\t\t\t\t\tp.innerHTML += carNo + \"今日限行<br>\";\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tp.innerHTML += carNo + \"今日不限行<br>\";\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tp.innerHTML += carNo + \"不是一个有效的车牌号<br>\";\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tp.innerHTML += carNo + \"不是有效的车牌号<br>\";\n\t\t\t\t}\n\t\t\t\tinput.value = \"\";\n\t\t\t}\n\t\t\t\n\t\t\t\n\t\t\tfunction empty(){\n//\t\t\t\t获取P标签中的内容\n\t\t\t\tvar p = document.getElementById(\"result\");\n\t\t\t\tp.innerHTML = \"\";\n\t\t\t}\n\t\t\t\n\t\t\t\n\t\t\tfunction lastDigit(str) {\n\t\t\t\tfor (var index = str.length - 1; index >= 0; index -= 1) {\n\t\t\t\t\tvar digitStr = str[index];\n\t\t\t\t\tif (digitStr >= \"0\" && digitStr <= \"9\") {\n\t\t\t\t\t\treturn digitStr;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn null;\n\t\t\t}\n\t\t\t\n\t\t\t\n\t\t\tfunction showTime() {\n\t\t\t\tvar now = new Date();\n\t\t\t\tvar year = now.getFullYear();\n\t\t\t\tvar month = now.getMonth();\n\t\t\t\tvar date = now.getDate();\n\t\t\t\tvar hour = now.getHours();\n\t\t\t\tvar minute = now.getMinutes();\n\t\t\t\tvar second = now.getSeconds();\n\t\t\t\tdays = [\"日\", \"一\", \"二\", \"三\", \"四\", \"五\", \"六\"];\n\t\t\t\tvar day = now.getDay();\n\t\t\t\t// 三元条件运算\n\t\t\t\tvar timeStr = year + \"年\" +\n\t\t\t\t\t(month < 10 ? \"0\" : \"\") + month + \"月\" +\n\t\t\t\t\t(date < 10 ? \"0\" : \"\") + date + \"日\" +\n\t\t\t\t\t(hour <10 ? \"0\" : \"\") + hour + \":\" +\n\t\t\t\t\t(minute < 10 ? \"0\" : \"\") + minute + \":\" +\n\t\t\t\t\t(second < 10 ? \"0\" : \"\") + second +\n\t\t\t\t\t\"&emsp;星期<b>\" + days[day] + \"</b>\";\n\t\t\t\tvar div = document.getElementById(\"timer\");\n\t\t\t\t// textContent 只有文本效果，没有&emsp;的效果\n\t\t\t\t// innerHTML 不只是文本，标签，实体替换符都有效果\n\t\t\t\tdiv.innerHTML = timeStr;\n\t\t\t}\n\t\t\t\n\t\t\t\n//\t\t\t定时器\n\t\t\tshowTime();\n\t\t\twindow.setInterval(showTime, 1000)\n\t\t\t\n\t\t\t\n//\t\t\t验证是否限行\n\t\t\tvar carNo = window.prompt(\"请输入车牌号：\");\n//\t\t\t判断车牌号的正则表达式\n\t\t\tvar regex = /^[川贵云渝津京][A-Z]\\s*[0-9A-Z]{5}$/;\n\t\t\tif (regex.test(carNo)) {\n\t\t\t\tvar digitStr = lastDigit(carNo);\n\t\t\t\tif (digitStr) {\n\t\t\t\t\tvar digit = parseInt(digitStr);\n\t\t\t\t\tvar day = new Date().getDay();\n\t\t\t\t\tif (day > 0 && day < 6 &&\n\t\t\t\t\t\t(digit % 5 == day || digit % 5 == day - 5)) {\n\t\t\t\t\t\twindow.alert(\"今日限行\");\t\n\t\t\t\t\t} else {\n\t\t\t\t\t\twindow.alert(\"今日不限行\");\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\twindow.alert(\"请输入有效的车牌号\");\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\twindow.alert(\"请输入有效的车牌号\");\n\t\t\t}\n\t\t\t\n\t\t\t\n\t\t\tfunction shutdown() {\n\t\t\t\tif (window.confirm(\"你确定要关闭吗？\")) {\n\t\t\t\t\twindow.close();\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\t\n\t\t\tfunction openBaidu() {\n\t\t\t\twindow.open(\"https:www.baidu.com\")\n\t\t\t}\n\n\n\t\t\tvar name = window.prompt(\"请输入你的名字：\")\n\t\t\tif (name != null) window.alert(\"你好\" + name + \"!\") : window.alert(\"大家好!\")\n\n\n\t\t\tvar flag = true;\n\t\t\twhile (flag) {\n\t\t\t\tvar yearStr = window.prompt(\"请输入年份:\");\n\t\t\t\tvar year = parseInt(yearStr);\n\t\t\t\tif (year == yearStr && year > 0) {\n//\t\t\t\t\tif (year % 400 == 0 || year % 4 == 0 && year % 100 != 0) {\n\t\t\t\t\tif (year % 4 == 0 && year % 100 != 0 \n\t\t\t\t\t\t|| year % 400 == 0) {\n\t\t\t\t\t\twindow.alert(year + \"是闰年\");\n\t\t\t\t\t} else {\n\t\t\t\t\t\twindow.alert(year + \"不是闰年\");\n\t\t\t\t\t}\n\t\t\t\t\tflag = window.confirm(\"是否继续？\");\n\t\t\t\t} else {\n\t\t\t\t\twindow.alert(\"请输入有效的年份\");\n\t\t\t\t}\n\t\t\t}\n\t\t</script>\n\t</body>\n</html>\n\n```\n\n####  example\n\n```html\n<!DOCTYPE html>\n<html>\n\t<head>\n\t\t<meta charset=\"UTF-8\">\n\t\t<title></title>\n\t\t<style type=\"text/css\">\n\t\t\t*{\n\t\t\t\tmargin: 0;\n\t\t\t\tpadding: 0;\n\t\t\t}\n\t\t\tdiv{\n\t\t\t\twidth: 200px;\n\t\t\t\theight: 200px;\n\t\t\t\tcolor: red;\n\t\t\t\tbackground-color:cornflowerblue ;\n\t\t\t\tposition: fixed;\n\t\t\t\tright: 10px;\n\t\t\t\ttop: 10px;\n\t\t\t}\n\t\t\t#closeBtn{\n\t\t\t\t/*固定定位*/\n\t\t\t\tposition: fixed;\n\t\t\t\tright: 9px;\n\t\t\t}\n\t\t\ta {\n\t\t\t\tposition: relative;\n\t\t\t\ttop: 50px;\n\t\t\t}\n\t\t</style>\n\t</head>\n\t<body>\n\t\t<div id=\"adv\">\n\t\t\t恶意广告\n\t\t\t<button id=\"closeBtn\">关闭</button>\n\t\t</div>\n\t\t<script>\n\t\t\t+function () {\n\t\t\t\tvar advDiv = document.querySelector(\"#adv\");\n\t\t\t\tvar button = document.querySelector(\"#adv button\");\n\t\t\t\tvar counter = 0;\n\t\t\t\tbutton.addEventListener(\"click\", function() {\n\t\t\t\t\tcounter += 1;\n\t\t\t\t\tif (counter < 5) {\n\t\t\t\t\t\t// 读取样式,先获取样式，然后更改样式\n\t\t\t\t\t\tvar currentStyle = \n\t\t\t\t\t\t\tdocument.defaultView.getComputedStyle(advDiv);\n\t\t\t\t\t\tvar newTop = parseInt(currentStyle.top) + 50;\n\t\t\t\t\t\tvar newWidth = parseInt(currentStyle.width) + 100;\n\t\t\t\t\t\tvar newHeight = parseInt(currentStyle.height) + 100;\n\t\t\t\t\t\tadvDiv.style.width = newWidth + \"px\";\n\t\t\t\t\t\tadvDiv.style.height = newHeight + \"px\";\n\t\t\t\t\t\tadvDiv.style.top = newTop + \"px\";\n\t\t\t\t\t} else {\n\t\t\t\t\t\t// 写样式\n\t\t\t\t\t\tadvDiv.style.display = \"none\";\n\t\t\t\t\t};\n\t\t\t\t});\n\t\t\t}();\n\t\t</script>\n\t</body>\n</html>\n\n\n```\n\n","source":"_posts/前端/JavaScript-practice.md","raw":"---\ntitle: JavaScript_practice\ndate: 2018-03-10 19:06:57\nauthor: smile\ncategories: 前端\ntags:\n  - JS\n  - practice\n---\n\n```python\n<!DOCTYPE html>\n<html>\n\t<head>\n\t\t<meta charset=\"utf-8\" />\n\t\t<title></title>\n\t\t<style type=\"text/css\">\n\t\t\t#timer{\n\t\t\t\twidth: 300px;\n\t\t\t\theight: 30px;\n\t\t\t\tline-height: 30px;\n\t\t\t\ttext-align: center;\n\t\t\t\tbackground-color: blue;\n\t\t\t\tfloat: right;\n\t\t\t}\n\t\t\t#search{\n\t\t\t\tmargin: 50px;\n\t\t\t\tmargin-left: 500px;\n\t\t\t}\n\t\t\t#carno{\n\t\t\t\twidth: 400px;\n\t\t\t\theight: 60px;\n\t\t\t\t/*设置input中文字的样式*/\n\t\t\t\tfont: 28px/36px arial;\n\t\t\t\ttext-align: center;\n\t\t\t\tborder: none;\n\t\t\t\toutline: none;\n\t\t\t\tborder-bottom: 1px dotted darkgray;\n\t\t\t}\n\t\t\t#button1{\n\t\t\t\twidth: 200px;\n\t\t\t\theight: 60px;\n\t\t\t\tfont: 28px/36px arial;\n\t\t\t\ttext-align: center;\n\t\t\t\tborder: none;\n\t\t\t\toutline: none;\n\t\t\t\tbackground-color: red;\n\t\t\t}\n\t\t\t#button2{\n\t\t\t\twidth: 200px;\n\t\t\t\theight: 60px;\n\t\t\t\tfont: 28px/36px arial;\n\t\t\t\ttext-align: center;\n\t\t\t\tborder: none;\n\t\t\t\toutline: none;\n\t\t\t\tbackground-color: red;\n\t\t\t}\n\t\t\t#result {\n\t\t\t\twidth: 640px;\n\t\t\t\tmargin: 0 auto;\n\t\t\t\ttext-align: center;\n\t\t\t\tfont: 32px/36px arial;\n\t\t\t}\n\t\t</style>\n\t</head>\n\t<body>\n\t\t<div id=\"search\">\n\t\t\t<input id=\"carno\" type=\"text\" placeholder=\"请输入车牌号\" />\n\t\t\t<input id=\"button1\" type=\"button\" onclick=\"showResult()\" value=\"查询\" />\n\t\t\t<input id=\"button2\" type=\"button\" onclick=\"empty()\" value=\"清空历史记录\" />\n\t\t</div>\n\t\t<hr/>\n\t\t<p id=\"result\"></p>\n//        引入JS外部样式\n\t\t<script src=\"js/11-2.js\"></script>\n\t\t<button onclick=\"shutdown()\">关闭</button>\n\t\t<button onclick=\"openBaidu()\">打开百度</button>\n\t\t<div id=\"timer\"></div>\n\t\t<script>\n\t\t\tfunction showResult() {\n\t\t\t\tvar input = document.getElementById(\"carno\")\n\t\t\t\tvar p = document.getElementById(\"result\");\n\t\t\t\tvar carNo = input.value;\n\t\t\t\tvar regex = /^[川渝云贵京津沪][A-Z]\\s*[0-9A-Z]{5}$/;\n\t\t\t\tif (regex.test(carNo)) {\n\t\t\t\t\tvar digitStr = lastDigit(carNo);\n\t\t\t\t\tif (digitStr) {\n\t\t\t\t\t\tvar digit = parseInt(digitStr);\n\t\t\t\t\t\tvar day = new Date().getDay();\n\t\t\t\t\t\tif (digit % 5 == day || digit % 5 == day - 5) {\n\t\t\t\t\t\t\tp.innerHTML += carNo + \"今日限行<br>\";\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tp.innerHTML += carNo + \"今日不限行<br>\";\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tp.innerHTML += carNo + \"不是一个有效的车牌号<br>\";\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tp.innerHTML += carNo + \"不是有效的车牌号<br>\";\n\t\t\t\t}\n\t\t\t\tinput.value = \"\";\n\t\t\t}\n\t\t\t\n\t\t\t\n\t\t\tfunction empty(){\n//\t\t\t\t获取P标签中的内容\n\t\t\t\tvar p = document.getElementById(\"result\");\n\t\t\t\tp.innerHTML = \"\";\n\t\t\t}\n\t\t\t\n\t\t\t\n\t\t\tfunction lastDigit(str) {\n\t\t\t\tfor (var index = str.length - 1; index >= 0; index -= 1) {\n\t\t\t\t\tvar digitStr = str[index];\n\t\t\t\t\tif (digitStr >= \"0\" && digitStr <= \"9\") {\n\t\t\t\t\t\treturn digitStr;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn null;\n\t\t\t}\n\t\t\t\n\t\t\t\n\t\t\tfunction showTime() {\n\t\t\t\tvar now = new Date();\n\t\t\t\tvar year = now.getFullYear();\n\t\t\t\tvar month = now.getMonth();\n\t\t\t\tvar date = now.getDate();\n\t\t\t\tvar hour = now.getHours();\n\t\t\t\tvar minute = now.getMinutes();\n\t\t\t\tvar second = now.getSeconds();\n\t\t\t\tdays = [\"日\", \"一\", \"二\", \"三\", \"四\", \"五\", \"六\"];\n\t\t\t\tvar day = now.getDay();\n\t\t\t\t// 三元条件运算\n\t\t\t\tvar timeStr = year + \"年\" +\n\t\t\t\t\t(month < 10 ? \"0\" : \"\") + month + \"月\" +\n\t\t\t\t\t(date < 10 ? \"0\" : \"\") + date + \"日\" +\n\t\t\t\t\t(hour <10 ? \"0\" : \"\") + hour + \":\" +\n\t\t\t\t\t(minute < 10 ? \"0\" : \"\") + minute + \":\" +\n\t\t\t\t\t(second < 10 ? \"0\" : \"\") + second +\n\t\t\t\t\t\"&emsp;星期<b>\" + days[day] + \"</b>\";\n\t\t\t\tvar div = document.getElementById(\"timer\");\n\t\t\t\t// textContent 只有文本效果，没有&emsp;的效果\n\t\t\t\t// innerHTML 不只是文本，标签，实体替换符都有效果\n\t\t\t\tdiv.innerHTML = timeStr;\n\t\t\t}\n\t\t\t\n\t\t\t\n//\t\t\t定时器\n\t\t\tshowTime();\n\t\t\twindow.setInterval(showTime, 1000)\n\t\t\t\n\t\t\t\n//\t\t\t验证是否限行\n\t\t\tvar carNo = window.prompt(\"请输入车牌号：\");\n//\t\t\t判断车牌号的正则表达式\n\t\t\tvar regex = /^[川贵云渝津京][A-Z]\\s*[0-9A-Z]{5}$/;\n\t\t\tif (regex.test(carNo)) {\n\t\t\t\tvar digitStr = lastDigit(carNo);\n\t\t\t\tif (digitStr) {\n\t\t\t\t\tvar digit = parseInt(digitStr);\n\t\t\t\t\tvar day = new Date().getDay();\n\t\t\t\t\tif (day > 0 && day < 6 &&\n\t\t\t\t\t\t(digit % 5 == day || digit % 5 == day - 5)) {\n\t\t\t\t\t\twindow.alert(\"今日限行\");\t\n\t\t\t\t\t} else {\n\t\t\t\t\t\twindow.alert(\"今日不限行\");\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\twindow.alert(\"请输入有效的车牌号\");\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\twindow.alert(\"请输入有效的车牌号\");\n\t\t\t}\n\t\t\t\n\t\t\t\n\t\t\tfunction shutdown() {\n\t\t\t\tif (window.confirm(\"你确定要关闭吗？\")) {\n\t\t\t\t\twindow.close();\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\t\n\t\t\tfunction openBaidu() {\n\t\t\t\twindow.open(\"https:www.baidu.com\")\n\t\t\t}\n\n\n\t\t\tvar name = window.prompt(\"请输入你的名字：\")\n\t\t\tif (name != null) window.alert(\"你好\" + name + \"!\") : window.alert(\"大家好!\")\n\n\n\t\t\tvar flag = true;\n\t\t\twhile (flag) {\n\t\t\t\tvar yearStr = window.prompt(\"请输入年份:\");\n\t\t\t\tvar year = parseInt(yearStr);\n\t\t\t\tif (year == yearStr && year > 0) {\n//\t\t\t\t\tif (year % 400 == 0 || year % 4 == 0 && year % 100 != 0) {\n\t\t\t\t\tif (year % 4 == 0 && year % 100 != 0 \n\t\t\t\t\t\t|| year % 400 == 0) {\n\t\t\t\t\t\twindow.alert(year + \"是闰年\");\n\t\t\t\t\t} else {\n\t\t\t\t\t\twindow.alert(year + \"不是闰年\");\n\t\t\t\t\t}\n\t\t\t\t\tflag = window.confirm(\"是否继续？\");\n\t\t\t\t} else {\n\t\t\t\t\twindow.alert(\"请输入有效的年份\");\n\t\t\t\t}\n\t\t\t}\n\t\t</script>\n\t</body>\n</html>\n\n```\n\n####  example\n\n```html\n<!DOCTYPE html>\n<html>\n\t<head>\n\t\t<meta charset=\"UTF-8\">\n\t\t<title></title>\n\t\t<style type=\"text/css\">\n\t\t\t*{\n\t\t\t\tmargin: 0;\n\t\t\t\tpadding: 0;\n\t\t\t}\n\t\t\tdiv{\n\t\t\t\twidth: 200px;\n\t\t\t\theight: 200px;\n\t\t\t\tcolor: red;\n\t\t\t\tbackground-color:cornflowerblue ;\n\t\t\t\tposition: fixed;\n\t\t\t\tright: 10px;\n\t\t\t\ttop: 10px;\n\t\t\t}\n\t\t\t#closeBtn{\n\t\t\t\t/*固定定位*/\n\t\t\t\tposition: fixed;\n\t\t\t\tright: 9px;\n\t\t\t}\n\t\t\ta {\n\t\t\t\tposition: relative;\n\t\t\t\ttop: 50px;\n\t\t\t}\n\t\t</style>\n\t</head>\n\t<body>\n\t\t<div id=\"adv\">\n\t\t\t恶意广告\n\t\t\t<button id=\"closeBtn\">关闭</button>\n\t\t</div>\n\t\t<script>\n\t\t\t+function () {\n\t\t\t\tvar advDiv = document.querySelector(\"#adv\");\n\t\t\t\tvar button = document.querySelector(\"#adv button\");\n\t\t\t\tvar counter = 0;\n\t\t\t\tbutton.addEventListener(\"click\", function() {\n\t\t\t\t\tcounter += 1;\n\t\t\t\t\tif (counter < 5) {\n\t\t\t\t\t\t// 读取样式,先获取样式，然后更改样式\n\t\t\t\t\t\tvar currentStyle = \n\t\t\t\t\t\t\tdocument.defaultView.getComputedStyle(advDiv);\n\t\t\t\t\t\tvar newTop = parseInt(currentStyle.top) + 50;\n\t\t\t\t\t\tvar newWidth = parseInt(currentStyle.width) + 100;\n\t\t\t\t\t\tvar newHeight = parseInt(currentStyle.height) + 100;\n\t\t\t\t\t\tadvDiv.style.width = newWidth + \"px\";\n\t\t\t\t\t\tadvDiv.style.height = newHeight + \"px\";\n\t\t\t\t\t\tadvDiv.style.top = newTop + \"px\";\n\t\t\t\t\t} else {\n\t\t\t\t\t\t// 写样式\n\t\t\t\t\t\tadvDiv.style.display = \"none\";\n\t\t\t\t\t};\n\t\t\t\t});\n\t\t\t}();\n\t\t</script>\n\t</body>\n</html>\n\n\n```\n\n","slug":"前端/JavaScript-practice","published":1,"updated":"2019-03-14T01:48:53.790Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjt87kqoy004dr8r6j3eb5yr5","content":"<pre class=\" language-python\"><code class=\"language-python\"><span class=\"token operator\">&lt;</span>!DOCTYPE html<span class=\"token operator\">></span>\n<span class=\"token operator\">&lt;</span>html<span class=\"token operator\">></span>\n    <span class=\"token operator\">&lt;</span>head<span class=\"token operator\">></span>\n        <span class=\"token operator\">&lt;</span>meta charset<span class=\"token operator\">=</span><span class=\"token string\">\"utf-8\"</span> <span class=\"token operator\">/</span><span class=\"token operator\">></span>\n        <span class=\"token operator\">&lt;</span>title<span class=\"token operator\">></span><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>title<span class=\"token operator\">></span>\n        <span class=\"token operator\">&lt;</span>style type<span class=\"token operator\">=</span><span class=\"token string\">\"text/css\"</span><span class=\"token operator\">></span>\n            <span class=\"token comment\" spellcheck=\"true\">#timer{</span>\n                width<span class=\"token punctuation\">:</span> 300px<span class=\"token punctuation\">;</span>\n                height<span class=\"token punctuation\">:</span> 30px<span class=\"token punctuation\">;</span>\n                line<span class=\"token operator\">-</span>height<span class=\"token punctuation\">:</span> 30px<span class=\"token punctuation\">;</span>\n                text<span class=\"token operator\">-</span>align<span class=\"token punctuation\">:</span> center<span class=\"token punctuation\">;</span>\n                background<span class=\"token operator\">-</span>color<span class=\"token punctuation\">:</span> blue<span class=\"token punctuation\">;</span>\n                float<span class=\"token punctuation\">:</span> right<span class=\"token punctuation\">;</span>\n            <span class=\"token punctuation\">}</span>\n            <span class=\"token comment\" spellcheck=\"true\">#search{</span>\n                margin<span class=\"token punctuation\">:</span> 50px<span class=\"token punctuation\">;</span>\n                margin<span class=\"token operator\">-</span>left<span class=\"token punctuation\">:</span> 500px<span class=\"token punctuation\">;</span>\n            <span class=\"token punctuation\">}</span>\n            <span class=\"token comment\" spellcheck=\"true\">#carno{</span>\n                width<span class=\"token punctuation\">:</span> 400px<span class=\"token punctuation\">;</span>\n                height<span class=\"token punctuation\">:</span> 60px<span class=\"token punctuation\">;</span>\n                <span class=\"token operator\">/</span><span class=\"token operator\">*</span>设置input中文字的样式<span class=\"token operator\">*</span><span class=\"token operator\">/</span>\n                font<span class=\"token punctuation\">:</span> 28px<span class=\"token operator\">/</span>36px arial<span class=\"token punctuation\">;</span>\n                text<span class=\"token operator\">-</span>align<span class=\"token punctuation\">:</span> center<span class=\"token punctuation\">;</span>\n                border<span class=\"token punctuation\">:</span> none<span class=\"token punctuation\">;</span>\n                outline<span class=\"token punctuation\">:</span> none<span class=\"token punctuation\">;</span>\n                border<span class=\"token operator\">-</span>bottom<span class=\"token punctuation\">:</span> 1px dotted darkgray<span class=\"token punctuation\">;</span>\n            <span class=\"token punctuation\">}</span>\n            <span class=\"token comment\" spellcheck=\"true\">#button1{</span>\n                width<span class=\"token punctuation\">:</span> 200px<span class=\"token punctuation\">;</span>\n                height<span class=\"token punctuation\">:</span> 60px<span class=\"token punctuation\">;</span>\n                font<span class=\"token punctuation\">:</span> 28px<span class=\"token operator\">/</span>36px arial<span class=\"token punctuation\">;</span>\n                text<span class=\"token operator\">-</span>align<span class=\"token punctuation\">:</span> center<span class=\"token punctuation\">;</span>\n                border<span class=\"token punctuation\">:</span> none<span class=\"token punctuation\">;</span>\n                outline<span class=\"token punctuation\">:</span> none<span class=\"token punctuation\">;</span>\n                background<span class=\"token operator\">-</span>color<span class=\"token punctuation\">:</span> red<span class=\"token punctuation\">;</span>\n            <span class=\"token punctuation\">}</span>\n            <span class=\"token comment\" spellcheck=\"true\">#button2{</span>\n                width<span class=\"token punctuation\">:</span> 200px<span class=\"token punctuation\">;</span>\n                height<span class=\"token punctuation\">:</span> 60px<span class=\"token punctuation\">;</span>\n                font<span class=\"token punctuation\">:</span> 28px<span class=\"token operator\">/</span>36px arial<span class=\"token punctuation\">;</span>\n                text<span class=\"token operator\">-</span>align<span class=\"token punctuation\">:</span> center<span class=\"token punctuation\">;</span>\n                border<span class=\"token punctuation\">:</span> none<span class=\"token punctuation\">;</span>\n                outline<span class=\"token punctuation\">:</span> none<span class=\"token punctuation\">;</span>\n                background<span class=\"token operator\">-</span>color<span class=\"token punctuation\">:</span> red<span class=\"token punctuation\">;</span>\n            <span class=\"token punctuation\">}</span>\n            <span class=\"token comment\" spellcheck=\"true\">#result {</span>\n                width<span class=\"token punctuation\">:</span> 640px<span class=\"token punctuation\">;</span>\n                margin<span class=\"token punctuation\">:</span> <span class=\"token number\">0</span> auto<span class=\"token punctuation\">;</span>\n                text<span class=\"token operator\">-</span>align<span class=\"token punctuation\">:</span> center<span class=\"token punctuation\">;</span>\n                font<span class=\"token punctuation\">:</span> 32px<span class=\"token operator\">/</span>36px arial<span class=\"token punctuation\">;</span>\n            <span class=\"token punctuation\">}</span>\n        <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>style<span class=\"token operator\">></span>\n    <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>head<span class=\"token operator\">></span>\n    <span class=\"token operator\">&lt;</span>body<span class=\"token operator\">></span>\n        <span class=\"token operator\">&lt;</span>div id<span class=\"token operator\">=</span><span class=\"token string\">\"search\"</span><span class=\"token operator\">></span>\n            <span class=\"token operator\">&lt;</span>input id<span class=\"token operator\">=</span><span class=\"token string\">\"carno\"</span> type<span class=\"token operator\">=</span><span class=\"token string\">\"text\"</span> placeholder<span class=\"token operator\">=</span><span class=\"token string\">\"请输入车牌号\"</span> <span class=\"token operator\">/</span><span class=\"token operator\">></span>\n            <span class=\"token operator\">&lt;</span>input id<span class=\"token operator\">=</span><span class=\"token string\">\"button1\"</span> type<span class=\"token operator\">=</span><span class=\"token string\">\"button\"</span> onclick<span class=\"token operator\">=</span><span class=\"token string\">\"showResult()\"</span> value<span class=\"token operator\">=</span><span class=\"token string\">\"查询\"</span> <span class=\"token operator\">/</span><span class=\"token operator\">></span>\n            <span class=\"token operator\">&lt;</span>input id<span class=\"token operator\">=</span><span class=\"token string\">\"button2\"</span> type<span class=\"token operator\">=</span><span class=\"token string\">\"button\"</span> onclick<span class=\"token operator\">=</span><span class=\"token string\">\"empty()\"</span> value<span class=\"token operator\">=</span><span class=\"token string\">\"清空历史记录\"</span> <span class=\"token operator\">/</span><span class=\"token operator\">></span>\n        <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>div<span class=\"token operator\">></span>\n        <span class=\"token operator\">&lt;</span>hr<span class=\"token operator\">/</span><span class=\"token operator\">></span>\n        <span class=\"token operator\">&lt;</span>p id<span class=\"token operator\">=</span><span class=\"token string\">\"result\"</span><span class=\"token operator\">></span><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>p<span class=\"token operator\">></span>\n<span class=\"token operator\">//</span>        引入JS外部样式\n        <span class=\"token operator\">&lt;</span>script src<span class=\"token operator\">=</span><span class=\"token string\">\"js/11-2.js\"</span><span class=\"token operator\">></span><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>script<span class=\"token operator\">></span>\n        <span class=\"token operator\">&lt;</span>button onclick<span class=\"token operator\">=</span><span class=\"token string\">\"shutdown()\"</span><span class=\"token operator\">></span>关闭<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>button<span class=\"token operator\">></span>\n        <span class=\"token operator\">&lt;</span>button onclick<span class=\"token operator\">=</span><span class=\"token string\">\"openBaidu()\"</span><span class=\"token operator\">></span>打开百度<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>button<span class=\"token operator\">></span>\n        <span class=\"token operator\">&lt;</span>div id<span class=\"token operator\">=</span><span class=\"token string\">\"timer\"</span><span class=\"token operator\">></span><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>div<span class=\"token operator\">></span>\n        <span class=\"token operator\">&lt;</span>script<span class=\"token operator\">></span>\n            function showResult<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n                var input <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span>getElementById<span class=\"token punctuation\">(</span><span class=\"token string\">\"carno\"</span><span class=\"token punctuation\">)</span>\n                var p <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span>getElementById<span class=\"token punctuation\">(</span><span class=\"token string\">\"result\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                var carNo <span class=\"token operator\">=</span> input<span class=\"token punctuation\">.</span>value<span class=\"token punctuation\">;</span>\n                var regex <span class=\"token operator\">=</span> <span class=\"token operator\">/</span><span class=\"token operator\">^</span><span class=\"token punctuation\">[</span>川渝云贵京津沪<span class=\"token punctuation\">]</span><span class=\"token punctuation\">[</span>A<span class=\"token operator\">-</span>Z<span class=\"token punctuation\">]</span>\\s<span class=\"token operator\">*</span><span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token operator\">-</span><span class=\"token number\">9A</span><span class=\"token operator\">-</span>Z<span class=\"token punctuation\">]</span><span class=\"token punctuation\">{</span><span class=\"token number\">5</span><span class=\"token punctuation\">}</span>$<span class=\"token operator\">/</span><span class=\"token punctuation\">;</span>\n                <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>regex<span class=\"token punctuation\">.</span>test<span class=\"token punctuation\">(</span>carNo<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n                    var digitStr <span class=\"token operator\">=</span> lastDigit<span class=\"token punctuation\">(</span>carNo<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>digitStr<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n                        var digit <span class=\"token operator\">=</span> parseInt<span class=\"token punctuation\">(</span>digitStr<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                        var day <span class=\"token operator\">=</span> new Date<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>getDay<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                        <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>digit <span class=\"token operator\">%</span> <span class=\"token number\">5</span> <span class=\"token operator\">==</span> day <span class=\"token operator\">|</span><span class=\"token operator\">|</span> digit <span class=\"token operator\">%</span> <span class=\"token number\">5</span> <span class=\"token operator\">==</span> day <span class=\"token operator\">-</span> <span class=\"token number\">5</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n                            p<span class=\"token punctuation\">.</span>innerHTML <span class=\"token operator\">+=</span> carNo <span class=\"token operator\">+</span> <span class=\"token string\">\"今日限行&lt;br>\"</span><span class=\"token punctuation\">;</span>\n                        <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span>\n                            p<span class=\"token punctuation\">.</span>innerHTML <span class=\"token operator\">+=</span> carNo <span class=\"token operator\">+</span> <span class=\"token string\">\"今日不限行&lt;br>\"</span><span class=\"token punctuation\">;</span>\n                        <span class=\"token punctuation\">}</span>\n                    <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span>\n                        p<span class=\"token punctuation\">.</span>innerHTML <span class=\"token operator\">+=</span> carNo <span class=\"token operator\">+</span> <span class=\"token string\">\"不是一个有效的车牌号&lt;br>\"</span><span class=\"token punctuation\">;</span>\n                    <span class=\"token punctuation\">}</span>\n                <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span>\n                    p<span class=\"token punctuation\">.</span>innerHTML <span class=\"token operator\">+=</span> carNo <span class=\"token operator\">+</span> <span class=\"token string\">\"不是有效的车牌号&lt;br>\"</span><span class=\"token punctuation\">;</span>\n                <span class=\"token punctuation\">}</span>\n                input<span class=\"token punctuation\">.</span>value <span class=\"token operator\">=</span> <span class=\"token string\">\"\"</span><span class=\"token punctuation\">;</span>\n            <span class=\"token punctuation\">}</span>\n\n\n            function empty<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n<span class=\"token operator\">//</span>                获取P标签中的内容\n                var p <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span>getElementById<span class=\"token punctuation\">(</span><span class=\"token string\">\"result\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                p<span class=\"token punctuation\">.</span>innerHTML <span class=\"token operator\">=</span> <span class=\"token string\">\"\"</span><span class=\"token punctuation\">;</span>\n            <span class=\"token punctuation\">}</span>\n\n\n            function lastDigit<span class=\"token punctuation\">(</span>str<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n                <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span>var index <span class=\"token operator\">=</span> str<span class=\"token punctuation\">.</span>length <span class=\"token operator\">-</span> <span class=\"token number\">1</span><span class=\"token punctuation\">;</span> index <span class=\"token operator\">>=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span> index <span class=\"token operator\">-=</span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n                    var digitStr <span class=\"token operator\">=</span> str<span class=\"token punctuation\">[</span>index<span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n                    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>digitStr <span class=\"token operator\">>=</span> <span class=\"token string\">\"0\"</span> <span class=\"token operator\">&amp;</span><span class=\"token operator\">&amp;</span> digitStr <span class=\"token operator\">&lt;=</span> <span class=\"token string\">\"9\"</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n                        <span class=\"token keyword\">return</span> digitStr<span class=\"token punctuation\">;</span>\n                    <span class=\"token punctuation\">}</span>\n                <span class=\"token punctuation\">}</span>\n                <span class=\"token keyword\">return</span> null<span class=\"token punctuation\">;</span>\n            <span class=\"token punctuation\">}</span>\n\n\n            function showTime<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n                var now <span class=\"token operator\">=</span> new Date<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                var year <span class=\"token operator\">=</span> now<span class=\"token punctuation\">.</span>getFullYear<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                var month <span class=\"token operator\">=</span> now<span class=\"token punctuation\">.</span>getMonth<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                var date <span class=\"token operator\">=</span> now<span class=\"token punctuation\">.</span>getDate<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                var hour <span class=\"token operator\">=</span> now<span class=\"token punctuation\">.</span>getHours<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                var minute <span class=\"token operator\">=</span> now<span class=\"token punctuation\">.</span>getMinutes<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                var second <span class=\"token operator\">=</span> now<span class=\"token punctuation\">.</span>getSeconds<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                days <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token string\">\"日\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"一\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"二\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"三\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"四\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"五\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"六\"</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n                var day <span class=\"token operator\">=</span> now<span class=\"token punctuation\">.</span>getDay<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                <span class=\"token operator\">//</span> 三元条件运算\n                var timeStr <span class=\"token operator\">=</span> year <span class=\"token operator\">+</span> <span class=\"token string\">\"年\"</span> <span class=\"token operator\">+</span>\n                    <span class=\"token punctuation\">(</span>month <span class=\"token operator\">&lt;</span> <span class=\"token number\">10</span> ? <span class=\"token string\">\"0\"</span> <span class=\"token punctuation\">:</span> <span class=\"token string\">\"\"</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">+</span> month <span class=\"token operator\">+</span> <span class=\"token string\">\"月\"</span> <span class=\"token operator\">+</span>\n                    <span class=\"token punctuation\">(</span>date <span class=\"token operator\">&lt;</span> <span class=\"token number\">10</span> ? <span class=\"token string\">\"0\"</span> <span class=\"token punctuation\">:</span> <span class=\"token string\">\"\"</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">+</span> date <span class=\"token operator\">+</span> <span class=\"token string\">\"日\"</span> <span class=\"token operator\">+</span>\n                    <span class=\"token punctuation\">(</span>hour <span class=\"token operator\">&lt;</span><span class=\"token number\">10</span> ? <span class=\"token string\">\"0\"</span> <span class=\"token punctuation\">:</span> <span class=\"token string\">\"\"</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">+</span> hour <span class=\"token operator\">+</span> <span class=\"token string\">\":\"</span> <span class=\"token operator\">+</span>\n                    <span class=\"token punctuation\">(</span>minute <span class=\"token operator\">&lt;</span> <span class=\"token number\">10</span> ? <span class=\"token string\">\"0\"</span> <span class=\"token punctuation\">:</span> <span class=\"token string\">\"\"</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">+</span> minute <span class=\"token operator\">+</span> <span class=\"token string\">\":\"</span> <span class=\"token operator\">+</span>\n                    <span class=\"token punctuation\">(</span>second <span class=\"token operator\">&lt;</span> <span class=\"token number\">10</span> ? <span class=\"token string\">\"0\"</span> <span class=\"token punctuation\">:</span> <span class=\"token string\">\"\"</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">+</span> second <span class=\"token operator\">+</span>\n                    <span class=\"token string\">\"&amp;emsp;星期&lt;b>\"</span> <span class=\"token operator\">+</span> days<span class=\"token punctuation\">[</span>day<span class=\"token punctuation\">]</span> <span class=\"token operator\">+</span> <span class=\"token string\">\"&lt;/b>\"</span><span class=\"token punctuation\">;</span>\n                var div <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span>getElementById<span class=\"token punctuation\">(</span><span class=\"token string\">\"timer\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                <span class=\"token operator\">//</span> textContent 只有文本效果，没有<span class=\"token operator\">&amp;</span>emsp<span class=\"token punctuation\">;</span>的效果\n                <span class=\"token operator\">//</span> innerHTML 不只是文本，标签，实体替换符都有效果\n                div<span class=\"token punctuation\">.</span>innerHTML <span class=\"token operator\">=</span> timeStr<span class=\"token punctuation\">;</span>\n            <span class=\"token punctuation\">}</span>\n\n\n<span class=\"token operator\">//</span>            定时器\n            showTime<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            window<span class=\"token punctuation\">.</span>setInterval<span class=\"token punctuation\">(</span>showTime<span class=\"token punctuation\">,</span> <span class=\"token number\">1000</span><span class=\"token punctuation\">)</span>\n\n\n<span class=\"token operator\">//</span>            验证是否限行\n            var carNo <span class=\"token operator\">=</span> window<span class=\"token punctuation\">.</span>prompt<span class=\"token punctuation\">(</span><span class=\"token string\">\"请输入车牌号：\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token operator\">//</span>            判断车牌号的正则表达式\n            var regex <span class=\"token operator\">=</span> <span class=\"token operator\">/</span><span class=\"token operator\">^</span><span class=\"token punctuation\">[</span>川贵云渝津京<span class=\"token punctuation\">]</span><span class=\"token punctuation\">[</span>A<span class=\"token operator\">-</span>Z<span class=\"token punctuation\">]</span>\\s<span class=\"token operator\">*</span><span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token operator\">-</span><span class=\"token number\">9A</span><span class=\"token operator\">-</span>Z<span class=\"token punctuation\">]</span><span class=\"token punctuation\">{</span><span class=\"token number\">5</span><span class=\"token punctuation\">}</span>$<span class=\"token operator\">/</span><span class=\"token punctuation\">;</span>\n            <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>regex<span class=\"token punctuation\">.</span>test<span class=\"token punctuation\">(</span>carNo<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n                var digitStr <span class=\"token operator\">=</span> lastDigit<span class=\"token punctuation\">(</span>carNo<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>digitStr<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n                    var digit <span class=\"token operator\">=</span> parseInt<span class=\"token punctuation\">(</span>digitStr<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                    var day <span class=\"token operator\">=</span> new Date<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>getDay<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>day <span class=\"token operator\">></span> <span class=\"token number\">0</span> <span class=\"token operator\">&amp;</span><span class=\"token operator\">&amp;</span> day <span class=\"token operator\">&lt;</span> <span class=\"token number\">6</span> <span class=\"token operator\">&amp;</span><span class=\"token operator\">&amp;</span>\n                        <span class=\"token punctuation\">(</span>digit <span class=\"token operator\">%</span> <span class=\"token number\">5</span> <span class=\"token operator\">==</span> day <span class=\"token operator\">|</span><span class=\"token operator\">|</span> digit <span class=\"token operator\">%</span> <span class=\"token number\">5</span> <span class=\"token operator\">==</span> day <span class=\"token operator\">-</span> <span class=\"token number\">5</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n                        window<span class=\"token punctuation\">.</span>alert<span class=\"token punctuation\">(</span><span class=\"token string\">\"今日限行\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>    \n                    <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span>\n                        window<span class=\"token punctuation\">.</span>alert<span class=\"token punctuation\">(</span><span class=\"token string\">\"今日不限行\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                    <span class=\"token punctuation\">}</span>\n                <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span>\n                    window<span class=\"token punctuation\">.</span>alert<span class=\"token punctuation\">(</span><span class=\"token string\">\"请输入有效的车牌号\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                <span class=\"token punctuation\">}</span>\n            <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span>\n                window<span class=\"token punctuation\">.</span>alert<span class=\"token punctuation\">(</span><span class=\"token string\">\"请输入有效的车牌号\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            <span class=\"token punctuation\">}</span>\n\n\n            function shutdown<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n                <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>window<span class=\"token punctuation\">.</span>confirm<span class=\"token punctuation\">(</span><span class=\"token string\">\"你确定要关闭吗？\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n                    window<span class=\"token punctuation\">.</span>close<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                <span class=\"token punctuation\">}</span>\n            <span class=\"token punctuation\">}</span>\n\n\n            function openBaidu<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n                window<span class=\"token punctuation\">.</span>open<span class=\"token punctuation\">(</span><span class=\"token string\">\"https:www.baidu.com\"</span><span class=\"token punctuation\">)</span>\n            <span class=\"token punctuation\">}</span>\n\n\n            var name <span class=\"token operator\">=</span> window<span class=\"token punctuation\">.</span>prompt<span class=\"token punctuation\">(</span><span class=\"token string\">\"请输入你的名字：\"</span><span class=\"token punctuation\">)</span>\n            <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>name <span class=\"token operator\">!=</span> null<span class=\"token punctuation\">)</span> window<span class=\"token punctuation\">.</span>alert<span class=\"token punctuation\">(</span><span class=\"token string\">\"你好\"</span> <span class=\"token operator\">+</span> name <span class=\"token operator\">+</span> <span class=\"token string\">\"!\"</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">:</span> window<span class=\"token punctuation\">.</span>alert<span class=\"token punctuation\">(</span><span class=\"token string\">\"大家好!\"</span><span class=\"token punctuation\">)</span>\n\n\n            var flag <span class=\"token operator\">=</span> true<span class=\"token punctuation\">;</span>\n            <span class=\"token keyword\">while</span> <span class=\"token punctuation\">(</span>flag<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n                var yearStr <span class=\"token operator\">=</span> window<span class=\"token punctuation\">.</span>prompt<span class=\"token punctuation\">(</span><span class=\"token string\">\"请输入年份:\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                var year <span class=\"token operator\">=</span> parseInt<span class=\"token punctuation\">(</span>yearStr<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>year <span class=\"token operator\">==</span> yearStr <span class=\"token operator\">&amp;</span><span class=\"token operator\">&amp;</span> year <span class=\"token operator\">></span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n<span class=\"token operator\">//</span>                    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>year <span class=\"token operator\">%</span> <span class=\"token number\">400</span> <span class=\"token operator\">==</span> <span class=\"token number\">0</span> <span class=\"token operator\">|</span><span class=\"token operator\">|</span> year <span class=\"token operator\">%</span> <span class=\"token number\">4</span> <span class=\"token operator\">==</span> <span class=\"token number\">0</span> <span class=\"token operator\">&amp;</span><span class=\"token operator\">&amp;</span> year <span class=\"token operator\">%</span> <span class=\"token number\">100</span> <span class=\"token operator\">!=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n                    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>year <span class=\"token operator\">%</span> <span class=\"token number\">4</span> <span class=\"token operator\">==</span> <span class=\"token number\">0</span> <span class=\"token operator\">&amp;</span><span class=\"token operator\">&amp;</span> year <span class=\"token operator\">%</span> <span class=\"token number\">100</span> <span class=\"token operator\">!=</span> <span class=\"token number\">0</span> \n                        <span class=\"token operator\">|</span><span class=\"token operator\">|</span> year <span class=\"token operator\">%</span> <span class=\"token number\">400</span> <span class=\"token operator\">==</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n                        window<span class=\"token punctuation\">.</span>alert<span class=\"token punctuation\">(</span>year <span class=\"token operator\">+</span> <span class=\"token string\">\"是闰年\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                    <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span>\n                        window<span class=\"token punctuation\">.</span>alert<span class=\"token punctuation\">(</span>year <span class=\"token operator\">+</span> <span class=\"token string\">\"不是闰年\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                    <span class=\"token punctuation\">}</span>\n                    flag <span class=\"token operator\">=</span> window<span class=\"token punctuation\">.</span>confirm<span class=\"token punctuation\">(</span><span class=\"token string\">\"是否继续？\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span>\n                    window<span class=\"token punctuation\">.</span>alert<span class=\"token punctuation\">(</span><span class=\"token string\">\"请输入有效的年份\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                <span class=\"token punctuation\">}</span>\n            <span class=\"token punctuation\">}</span>\n        <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>script<span class=\"token operator\">></span>\n    <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>body<span class=\"token operator\">></span>\n<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>html<span class=\"token operator\">></span>\n\n</code></pre>\n<h4 id=\"example\"><a href=\"#example\" class=\"headerlink\" title=\"example\"></a>example</h4><pre class=\" language-html\"><code class=\"language-html\"><span class=\"token doctype\">&lt;!DOCTYPE html></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>html</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>head</span><span class=\"token punctuation\">></span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>meta</span> <span class=\"token attr-name\">charset</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>UTF-8<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>title</span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>title</span><span class=\"token punctuation\">></span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>style</span> <span class=\"token attr-name\">type</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>text/css<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token style language-css\">\n            <span class=\"token selector\">*</span><span class=\"token punctuation\">{</span>\n                <span class=\"token property\">margin</span><span class=\"token punctuation\">:</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span>\n                <span class=\"token property\">padding</span><span class=\"token punctuation\">:</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span>\n            <span class=\"token punctuation\">}</span>\n            <span class=\"token selector\">div</span><span class=\"token punctuation\">{</span>\n                <span class=\"token property\">width</span><span class=\"token punctuation\">:</span> <span class=\"token number\">200</span>px<span class=\"token punctuation\">;</span>\n                <span class=\"token property\">height</span><span class=\"token punctuation\">:</span> <span class=\"token number\">200</span>px<span class=\"token punctuation\">;</span>\n                <span class=\"token property\">color</span><span class=\"token punctuation\">:</span> red<span class=\"token punctuation\">;</span>\n                <span class=\"token property\">background-color</span><span class=\"token punctuation\">:</span>cornflowerblue <span class=\"token punctuation\">;</span>\n                <span class=\"token property\">position</span><span class=\"token punctuation\">:</span> fixed<span class=\"token punctuation\">;</span>\n                <span class=\"token property\">right</span><span class=\"token punctuation\">:</span> <span class=\"token number\">10</span>px<span class=\"token punctuation\">;</span>\n                <span class=\"token property\">top</span><span class=\"token punctuation\">:</span> <span class=\"token number\">10</span>px<span class=\"token punctuation\">;</span>\n            <span class=\"token punctuation\">}</span>\n            <span class=\"token selector\"><span class=\"token id\">#closeBtn</span></span><span class=\"token punctuation\">{</span>\n                <span class=\"token comment\" spellcheck=\"true\">/*固定定位*/</span>\n                <span class=\"token property\">position</span><span class=\"token punctuation\">:</span> fixed<span class=\"token punctuation\">;</span>\n                <span class=\"token property\">right</span><span class=\"token punctuation\">:</span> <span class=\"token number\">9</span>px<span class=\"token punctuation\">;</span>\n            <span class=\"token punctuation\">}</span>\n            <span class=\"token selector\">a </span><span class=\"token punctuation\">{</span>\n                <span class=\"token property\">position</span><span class=\"token punctuation\">:</span> relative<span class=\"token punctuation\">;</span>\n                <span class=\"token property\">top</span><span class=\"token punctuation\">:</span> <span class=\"token number\">50</span>px<span class=\"token punctuation\">;</span>\n            <span class=\"token punctuation\">}</span>\n        </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>style</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>head</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>body</span><span class=\"token punctuation\">></span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">id</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>adv<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n            恶意广告\n            <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>button</span> <span class=\"token attr-name\">id</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>closeBtn<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>关闭<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>button</span><span class=\"token punctuation\">></span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>script</span><span class=\"token punctuation\">></span></span><span class=\"token script language-javascript\">\n            <span class=\"token operator\">+</span><span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n                <span class=\"token keyword\">var</span> advDiv <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">querySelector</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"#adv\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                <span class=\"token keyword\">var</span> button <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">querySelector</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"#adv button\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                <span class=\"token keyword\">var</span> counter <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span>\n                button<span class=\"token punctuation\">.</span><span class=\"token function\">addEventListener</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"click\"</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n                    counter <span class=\"token operator\">+</span><span class=\"token operator\">=</span> <span class=\"token number\">1</span><span class=\"token punctuation\">;</span>\n                    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>counter <span class=\"token operator\">&lt;</span> <span class=\"token number\">5</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n                        <span class=\"token comment\" spellcheck=\"true\">// 读取样式,先获取样式，然后更改样式</span>\n                        <span class=\"token keyword\">var</span> currentStyle <span class=\"token operator\">=</span> \n                            document<span class=\"token punctuation\">.</span>defaultView<span class=\"token punctuation\">.</span><span class=\"token function\">getComputedStyle</span><span class=\"token punctuation\">(</span>advDiv<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                        <span class=\"token keyword\">var</span> newTop <span class=\"token operator\">=</span> <span class=\"token function\">parseInt</span><span class=\"token punctuation\">(</span>currentStyle<span class=\"token punctuation\">.</span>top<span class=\"token punctuation\">)</span> <span class=\"token operator\">+</span> <span class=\"token number\">50</span><span class=\"token punctuation\">;</span>\n                        <span class=\"token keyword\">var</span> newWidth <span class=\"token operator\">=</span> <span class=\"token function\">parseInt</span><span class=\"token punctuation\">(</span>currentStyle<span class=\"token punctuation\">.</span>width<span class=\"token punctuation\">)</span> <span class=\"token operator\">+</span> <span class=\"token number\">100</span><span class=\"token punctuation\">;</span>\n                        <span class=\"token keyword\">var</span> newHeight <span class=\"token operator\">=</span> <span class=\"token function\">parseInt</span><span class=\"token punctuation\">(</span>currentStyle<span class=\"token punctuation\">.</span>height<span class=\"token punctuation\">)</span> <span class=\"token operator\">+</span> <span class=\"token number\">100</span><span class=\"token punctuation\">;</span>\n                        advDiv<span class=\"token punctuation\">.</span>style<span class=\"token punctuation\">.</span>width <span class=\"token operator\">=</span> newWidth <span class=\"token operator\">+</span> <span class=\"token string\">\"px\"</span><span class=\"token punctuation\">;</span>\n                        advDiv<span class=\"token punctuation\">.</span>style<span class=\"token punctuation\">.</span>height <span class=\"token operator\">=</span> newHeight <span class=\"token operator\">+</span> <span class=\"token string\">\"px\"</span><span class=\"token punctuation\">;</span>\n                        advDiv<span class=\"token punctuation\">.</span>style<span class=\"token punctuation\">.</span>top <span class=\"token operator\">=</span> newTop <span class=\"token operator\">+</span> <span class=\"token string\">\"px\"</span><span class=\"token punctuation\">;</span>\n                    <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span>\n                        <span class=\"token comment\" spellcheck=\"true\">// 写样式</span>\n                        advDiv<span class=\"token punctuation\">.</span>style<span class=\"token punctuation\">.</span>display <span class=\"token operator\">=</span> <span class=\"token string\">\"none\"</span><span class=\"token punctuation\">;</span>\n                    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n                <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            <span class=\"token punctuation\">}</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>script</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>body</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>html</span><span class=\"token punctuation\">></span></span>\n\n\n</code></pre>\n","site":{"data":{}},"excerpt":"","more":"<pre><code class=\"python\">&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n    &lt;head&gt;\n        &lt;meta charset=&quot;utf-8&quot; /&gt;\n        &lt;title&gt;&lt;/title&gt;\n        &lt;style type=&quot;text/css&quot;&gt;\n            #timer{\n                width: 300px;\n                height: 30px;\n                line-height: 30px;\n                text-align: center;\n                background-color: blue;\n                float: right;\n            }\n            #search{\n                margin: 50px;\n                margin-left: 500px;\n            }\n            #carno{\n                width: 400px;\n                height: 60px;\n                /*设置input中文字的样式*/\n                font: 28px/36px arial;\n                text-align: center;\n                border: none;\n                outline: none;\n                border-bottom: 1px dotted darkgray;\n            }\n            #button1{\n                width: 200px;\n                height: 60px;\n                font: 28px/36px arial;\n                text-align: center;\n                border: none;\n                outline: none;\n                background-color: red;\n            }\n            #button2{\n                width: 200px;\n                height: 60px;\n                font: 28px/36px arial;\n                text-align: center;\n                border: none;\n                outline: none;\n                background-color: red;\n            }\n            #result {\n                width: 640px;\n                margin: 0 auto;\n                text-align: center;\n                font: 32px/36px arial;\n            }\n        &lt;/style&gt;\n    &lt;/head&gt;\n    &lt;body&gt;\n        &lt;div id=&quot;search&quot;&gt;\n            &lt;input id=&quot;carno&quot; type=&quot;text&quot; placeholder=&quot;请输入车牌号&quot; /&gt;\n            &lt;input id=&quot;button1&quot; type=&quot;button&quot; onclick=&quot;showResult()&quot; value=&quot;查询&quot; /&gt;\n            &lt;input id=&quot;button2&quot; type=&quot;button&quot; onclick=&quot;empty()&quot; value=&quot;清空历史记录&quot; /&gt;\n        &lt;/div&gt;\n        &lt;hr/&gt;\n        &lt;p id=&quot;result&quot;&gt;&lt;/p&gt;\n//        引入JS外部样式\n        &lt;script src=&quot;js/11-2.js&quot;&gt;&lt;/script&gt;\n        &lt;button onclick=&quot;shutdown()&quot;&gt;关闭&lt;/button&gt;\n        &lt;button onclick=&quot;openBaidu()&quot;&gt;打开百度&lt;/button&gt;\n        &lt;div id=&quot;timer&quot;&gt;&lt;/div&gt;\n        &lt;script&gt;\n            function showResult() {\n                var input = document.getElementById(&quot;carno&quot;)\n                var p = document.getElementById(&quot;result&quot;);\n                var carNo = input.value;\n                var regex = /^[川渝云贵京津沪][A-Z]\\s*[0-9A-Z]{5}$/;\n                if (regex.test(carNo)) {\n                    var digitStr = lastDigit(carNo);\n                    if (digitStr) {\n                        var digit = parseInt(digitStr);\n                        var day = new Date().getDay();\n                        if (digit % 5 == day || digit % 5 == day - 5) {\n                            p.innerHTML += carNo + &quot;今日限行&lt;br&gt;&quot;;\n                        } else {\n                            p.innerHTML += carNo + &quot;今日不限行&lt;br&gt;&quot;;\n                        }\n                    } else {\n                        p.innerHTML += carNo + &quot;不是一个有效的车牌号&lt;br&gt;&quot;;\n                    }\n                } else {\n                    p.innerHTML += carNo + &quot;不是有效的车牌号&lt;br&gt;&quot;;\n                }\n                input.value = &quot;&quot;;\n            }\n\n\n            function empty(){\n//                获取P标签中的内容\n                var p = document.getElementById(&quot;result&quot;);\n                p.innerHTML = &quot;&quot;;\n            }\n\n\n            function lastDigit(str) {\n                for (var index = str.length - 1; index &gt;= 0; index -= 1) {\n                    var digitStr = str[index];\n                    if (digitStr &gt;= &quot;0&quot; &amp;&amp; digitStr &lt;= &quot;9&quot;) {\n                        return digitStr;\n                    }\n                }\n                return null;\n            }\n\n\n            function showTime() {\n                var now = new Date();\n                var year = now.getFullYear();\n                var month = now.getMonth();\n                var date = now.getDate();\n                var hour = now.getHours();\n                var minute = now.getMinutes();\n                var second = now.getSeconds();\n                days = [&quot;日&quot;, &quot;一&quot;, &quot;二&quot;, &quot;三&quot;, &quot;四&quot;, &quot;五&quot;, &quot;六&quot;];\n                var day = now.getDay();\n                // 三元条件运算\n                var timeStr = year + &quot;年&quot; +\n                    (month &lt; 10 ? &quot;0&quot; : &quot;&quot;) + month + &quot;月&quot; +\n                    (date &lt; 10 ? &quot;0&quot; : &quot;&quot;) + date + &quot;日&quot; +\n                    (hour &lt;10 ? &quot;0&quot; : &quot;&quot;) + hour + &quot;:&quot; +\n                    (minute &lt; 10 ? &quot;0&quot; : &quot;&quot;) + minute + &quot;:&quot; +\n                    (second &lt; 10 ? &quot;0&quot; : &quot;&quot;) + second +\n                    &quot;&amp;emsp;星期&lt;b&gt;&quot; + days[day] + &quot;&lt;/b&gt;&quot;;\n                var div = document.getElementById(&quot;timer&quot;);\n                // textContent 只有文本效果，没有&amp;emsp;的效果\n                // innerHTML 不只是文本，标签，实体替换符都有效果\n                div.innerHTML = timeStr;\n            }\n\n\n//            定时器\n            showTime();\n            window.setInterval(showTime, 1000)\n\n\n//            验证是否限行\n            var carNo = window.prompt(&quot;请输入车牌号：&quot;);\n//            判断车牌号的正则表达式\n            var regex = /^[川贵云渝津京][A-Z]\\s*[0-9A-Z]{5}$/;\n            if (regex.test(carNo)) {\n                var digitStr = lastDigit(carNo);\n                if (digitStr) {\n                    var digit = parseInt(digitStr);\n                    var day = new Date().getDay();\n                    if (day &gt; 0 &amp;&amp; day &lt; 6 &amp;&amp;\n                        (digit % 5 == day || digit % 5 == day - 5)) {\n                        window.alert(&quot;今日限行&quot;);    \n                    } else {\n                        window.alert(&quot;今日不限行&quot;);\n                    }\n                } else {\n                    window.alert(&quot;请输入有效的车牌号&quot;);\n                }\n            } else {\n                window.alert(&quot;请输入有效的车牌号&quot;);\n            }\n\n\n            function shutdown() {\n                if (window.confirm(&quot;你确定要关闭吗？&quot;)) {\n                    window.close();\n                }\n            }\n\n\n            function openBaidu() {\n                window.open(&quot;https:www.baidu.com&quot;)\n            }\n\n\n            var name = window.prompt(&quot;请输入你的名字：&quot;)\n            if (name != null) window.alert(&quot;你好&quot; + name + &quot;!&quot;) : window.alert(&quot;大家好!&quot;)\n\n\n            var flag = true;\n            while (flag) {\n                var yearStr = window.prompt(&quot;请输入年份:&quot;);\n                var year = parseInt(yearStr);\n                if (year == yearStr &amp;&amp; year &gt; 0) {\n//                    if (year % 400 == 0 || year % 4 == 0 &amp;&amp; year % 100 != 0) {\n                    if (year % 4 == 0 &amp;&amp; year % 100 != 0 \n                        || year % 400 == 0) {\n                        window.alert(year + &quot;是闰年&quot;);\n                    } else {\n                        window.alert(year + &quot;不是闰年&quot;);\n                    }\n                    flag = window.confirm(&quot;是否继续？&quot;);\n                } else {\n                    window.alert(&quot;请输入有效的年份&quot;);\n                }\n            }\n        &lt;/script&gt;\n    &lt;/body&gt;\n&lt;/html&gt;\n\n</code></pre>\n<h4 id=\"example\"><a href=\"#example\" class=\"headerlink\" title=\"example\"></a>example</h4><pre><code class=\"html\">&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n    &lt;head&gt;\n        &lt;meta charset=&quot;UTF-8&quot;&gt;\n        &lt;title&gt;&lt;/title&gt;\n        &lt;style type=&quot;text/css&quot;&gt;\n            *{\n                margin: 0;\n                padding: 0;\n            }\n            div{\n                width: 200px;\n                height: 200px;\n                color: red;\n                background-color:cornflowerblue ;\n                position: fixed;\n                right: 10px;\n                top: 10px;\n            }\n            #closeBtn{\n                /*固定定位*/\n                position: fixed;\n                right: 9px;\n            }\n            a {\n                position: relative;\n                top: 50px;\n            }\n        &lt;/style&gt;\n    &lt;/head&gt;\n    &lt;body&gt;\n        &lt;div id=&quot;adv&quot;&gt;\n            恶意广告\n            &lt;button id=&quot;closeBtn&quot;&gt;关闭&lt;/button&gt;\n        &lt;/div&gt;\n        &lt;script&gt;\n            +function () {\n                var advDiv = document.querySelector(&quot;#adv&quot;);\n                var button = document.querySelector(&quot;#adv button&quot;);\n                var counter = 0;\n                button.addEventListener(&quot;click&quot;, function() {\n                    counter += 1;\n                    if (counter &lt; 5) {\n                        // 读取样式,先获取样式，然后更改样式\n                        var currentStyle = \n                            document.defaultView.getComputedStyle(advDiv);\n                        var newTop = parseInt(currentStyle.top) + 50;\n                        var newWidth = parseInt(currentStyle.width) + 100;\n                        var newHeight = parseInt(currentStyle.height) + 100;\n                        advDiv.style.width = newWidth + &quot;px&quot;;\n                        advDiv.style.height = newHeight + &quot;px&quot;;\n                        advDiv.style.top = newTop + &quot;px&quot;;\n                    } else {\n                        // 写样式\n                        advDiv.style.display = &quot;none&quot;;\n                    };\n                });\n            }();\n        &lt;/script&gt;\n    &lt;/body&gt;\n&lt;/html&gt;\n\n\n</code></pre>\n"},{"title":"模型","date":"2018-10-25T07:02:52.000Z","author":"smile","_content":"\n\n#### 模型类型\n\n##### （1）定义模型\n\n一个模型可以看做一个类，它对应数据库中的一张表；模型中定义的一个字段，对应一个类的属性\n\n```python\nclass Student(models.Model):\n    s_name = models.CharField(max_length=10)\n    s_age = models.IntegerField()\n    s_gender = models.BooleanField()\n   \n    class Meat:\n        # 对列表进行重命名\n        db_table = 'cd_student'\n        ordering = []\n        对象默认排序字段，获取对象列表时使用，升序ordering['id'],降序ordering['-id']\n```\n\n##### （2）迁移数据\n\n```python\npython manage.py makemigrations    ----------  生成迁移文件，不会生成数据库中的表\n​```\n如果生成文件报错，No changes detected,就需要删除__pycache__文件；强制生成文件python manage.py makemigrations xxx (xxx就是app的名称)；并删除数据库中app字段为XXX的数据。\n​```\npython manage.py migrate  -------------  迁移文件，生成数据库\n```\n\n##### （3）ORM\n\nORM(Objects Relational Mapping)对象关系映射，是一种程序技术，用于实现面向对象编程语言里不同类型系统的数据之间的转换。可以简单理解为翻译机。\n\n![django_models](F:\\gitee\\web-img\\django_models.jpg)\n\n##### (3)模型查询\n\n- 模型成员objects\n\n**Django默认通过模型的objects对象实现模型数据查询**\n\n- 过滤器\n\n查询集：表示从数据库中获取的要查询对象的集合\n\n**过滤器：就是通过一系列的筛选，得到自己想要的数据的一种方式，它是一个函数，用所给的参数去限制查询的结果**\n\n```\n从SQL角度来说，查询集合和select语句等价，过滤器就像where条件\n\nDjango有两种过滤器用于筛选记录\n\n\tfilter\t  : 返回符合筛选条件的数据集\n\tget获取不到数据会直接报错, filter获取不到数据是返回空\n\texclude   : 返回不符合筛选条件的数据集\n注：filter与exclude可以连在一起限制查询的结果\n```\n\n**过滤器**\n\n```python\nall（）               返回所有的数据\nfilter（）            返回符合条件的数据\nexclude（）           返回不符合条件的数据\norder_by（）          排序，默认是升序\nvalues（）            一条数据就是一个字典，返回一个列表\n```\n\n- 查询单个数据的方法：\n\n  ```\n  get()：返回一个满足条件的对象。如果没有返回符合条件的对象，会引发模型类DoesNotExist异常，如果找到多个，会引发模型类MultiObjectsReturned异常\n  \n  first()：返回查询集中的第一个对象，可以拿到只有一个元素的集合中的元素\n  \n  last()：返回查询集中的最后一个对象，同上\n  \n  count()：返回当前查询集中的对象个数，计数作用\n  \n  exists()：判断查询集中是否有数据，如果有数据返回True，没有返回False\n  \n  ```\n\n- 限制查询集\n\n可以通过下标，来获取想要的数据，等价于sql中的limit   -------------   **`模型名.objects.all()[0:5]`**取值的下标不能为负。\n\n- 查询字段\n\n\n\n  ```\n  对SQL中的where实现，作为方法filter(),exclude(),get()的参数\n  语法：属性名_比较运算符 = 值\n  外键：属性名_id\n  注意：like语句中使用%表示通配符。比如sql语句查询 where name like '%xxx%'，等同于filter(name_contains='xxx')\n  ```\n\n- 比较查询\n\n```python\ncontains:是否包含，对大小写敏感\nstartswith，endswith：以values开头或者结尾，大小写敏感 以上的运算符前加上i(ignore)就不区分大小写了\nisnull，isnotnull：是否为空  ------------  filter(name__isnull=True)\nin：是否包含在范围内  -----------  filter(id__in=[1,2,3])\ngt，gte，lt，lte：大于，大于等于，小于，小于等于  ----------  filter(age__gt=10)\npk：代表主键，也就是id  ------------  filter(pk=1)\n```\n\n- 聚合函数\n\n```python\nagregate()函数返回聚合函数的值\nAvg：平均值\nCount：数量\nMax：最大\nMin：最小\nSum：求和\nexample: Student.objects.aggregate(Max('age'))\n```\n\n- F对象/Q对象\n\n**F对象**:可以使用模型的A属性与B属性进行比较\n\n```python\n班级中有女生个数字段以及男生个数字段，统计女生数大于男生数的班级可以如下操作:\n\ngrades = Grade.objects.filter(girlnum__gt=F('boynum'))\n```\n\n**Q对象:**Q()对象就是为了将过滤条件组合起来,使用符号&或者|将多个Q()对象组合起来传递给filter()，exclude()，get()等函数.\n\n```python\n查询学生中不是12岁的或者姓名叫张三的学生\nstudent = Student.objects.filter(~Q(age=12) | Q(name='张三'))\n\n查询python班语文小于80并且数学小于等于80的学生\ngrade = Grade.objects.filter(g_name='python').first()\nstudents = grade.student_set.all()\nstu = students.filter(~Q(s_yuwen__gte=80) & Q(s_shuxue__lte=80))\n\n查询python班语文大于等于80或者数学小于等于80的学生\ngrade = Grade.objects.filter(g_name='python').first()\nstudents = grade.student_set.all()\nstu = students.filter(Q(s_yuwen__gte=80) | Q(s_shuxue__lte=80))\n```\n\n#### [关系](https://github.com/JackChenSmile/web-frame/blob/master/django/3.1django_model_more.md)\n\n- 一对一：\n  - 已知a对象，查找b对象：a.b\n  - 已知a对象，查找b对象：b.a(小写)\n- 一对多：\n  - 已知a对象，查找b对象：a.b\n  - 已知a对象，查找b对象：b.a_set\n\n- 多对多：\n\n```\n多对多关系：\n1. 生成表的时候会多生成一张表（实际会有三张表）\n2. 生成的表是专门用来维护关系的\n3. 生成的表是使用两个外键来维护多对多的关系\n4. 两个一对多的关系来实现多对多的实现　　　\n5. 删除一个表的数据的话，中间关联表也要删除相关的信息\n```\n\n#### 模板\n\n**1.加载静态配置文件**\n\n```\n在settings.py中最下面有一个叫做static的文件夹，主要用来加载一些模板中用到的资源，提供给全局使用\n这个静态文件主要用来配置css，html，图片，文字文件等\n\nSTATIC_URL = ‘/static/’\nSTATICFILES_DIRS = [\n    os.path.join(BASE_DIR, ‘static’)\n]\n\n只后在模板中，首先加载静态文件，之后调用静态，就不用写绝对全路径了\n```\n\n**2.使用静态配置文件**\n\n```\na) 加载渲染静态配置文件 模板中声明\n\n{% load static %} 或者 {% load staticfiles %}\n在引用资源的时候使用\n\n{% static ‘xxx’ %} xxx就是相当于staticfiles_dirs的一个位置\nb) 直接定义静态配置\n\n<img src=\"/static/images/mvc.png\">\n其中: 展示static文件夹下有一个images文件夹，下面有一个mvc.png的图片\n```\n\n**3.模板主要部分**\n\n- HTML静态代码\n- 动态插入的代码段（挖坑，填坑）也就是block\n\n","source":"_posts/前端/day04.md","raw":"---\ntitle: 模型\ndate: 2018-10-25 15:02:52\nauthor: smile\ncategories: Django\ntags: \n  - 模型\n---\n\n\n#### 模型类型\n\n##### （1）定义模型\n\n一个模型可以看做一个类，它对应数据库中的一张表；模型中定义的一个字段，对应一个类的属性\n\n```python\nclass Student(models.Model):\n    s_name = models.CharField(max_length=10)\n    s_age = models.IntegerField()\n    s_gender = models.BooleanField()\n   \n    class Meat:\n        # 对列表进行重命名\n        db_table = 'cd_student'\n        ordering = []\n        对象默认排序字段，获取对象列表时使用，升序ordering['id'],降序ordering['-id']\n```\n\n##### （2）迁移数据\n\n```python\npython manage.py makemigrations    ----------  生成迁移文件，不会生成数据库中的表\n​```\n如果生成文件报错，No changes detected,就需要删除__pycache__文件；强制生成文件python manage.py makemigrations xxx (xxx就是app的名称)；并删除数据库中app字段为XXX的数据。\n​```\npython manage.py migrate  -------------  迁移文件，生成数据库\n```\n\n##### （3）ORM\n\nORM(Objects Relational Mapping)对象关系映射，是一种程序技术，用于实现面向对象编程语言里不同类型系统的数据之间的转换。可以简单理解为翻译机。\n\n![django_models](F:\\gitee\\web-img\\django_models.jpg)\n\n##### (3)模型查询\n\n- 模型成员objects\n\n**Django默认通过模型的objects对象实现模型数据查询**\n\n- 过滤器\n\n查询集：表示从数据库中获取的要查询对象的集合\n\n**过滤器：就是通过一系列的筛选，得到自己想要的数据的一种方式，它是一个函数，用所给的参数去限制查询的结果**\n\n```\n从SQL角度来说，查询集合和select语句等价，过滤器就像where条件\n\nDjango有两种过滤器用于筛选记录\n\n\tfilter\t  : 返回符合筛选条件的数据集\n\tget获取不到数据会直接报错, filter获取不到数据是返回空\n\texclude   : 返回不符合筛选条件的数据集\n注：filter与exclude可以连在一起限制查询的结果\n```\n\n**过滤器**\n\n```python\nall（）               返回所有的数据\nfilter（）            返回符合条件的数据\nexclude（）           返回不符合条件的数据\norder_by（）          排序，默认是升序\nvalues（）            一条数据就是一个字典，返回一个列表\n```\n\n- 查询单个数据的方法：\n\n  ```\n  get()：返回一个满足条件的对象。如果没有返回符合条件的对象，会引发模型类DoesNotExist异常，如果找到多个，会引发模型类MultiObjectsReturned异常\n  \n  first()：返回查询集中的第一个对象，可以拿到只有一个元素的集合中的元素\n  \n  last()：返回查询集中的最后一个对象，同上\n  \n  count()：返回当前查询集中的对象个数，计数作用\n  \n  exists()：判断查询集中是否有数据，如果有数据返回True，没有返回False\n  \n  ```\n\n- 限制查询集\n\n可以通过下标，来获取想要的数据，等价于sql中的limit   -------------   **`模型名.objects.all()[0:5]`**取值的下标不能为负。\n\n- 查询字段\n\n\n\n  ```\n  对SQL中的where实现，作为方法filter(),exclude(),get()的参数\n  语法：属性名_比较运算符 = 值\n  外键：属性名_id\n  注意：like语句中使用%表示通配符。比如sql语句查询 where name like '%xxx%'，等同于filter(name_contains='xxx')\n  ```\n\n- 比较查询\n\n```python\ncontains:是否包含，对大小写敏感\nstartswith，endswith：以values开头或者结尾，大小写敏感 以上的运算符前加上i(ignore)就不区分大小写了\nisnull，isnotnull：是否为空  ------------  filter(name__isnull=True)\nin：是否包含在范围内  -----------  filter(id__in=[1,2,3])\ngt，gte，lt，lte：大于，大于等于，小于，小于等于  ----------  filter(age__gt=10)\npk：代表主键，也就是id  ------------  filter(pk=1)\n```\n\n- 聚合函数\n\n```python\nagregate()函数返回聚合函数的值\nAvg：平均值\nCount：数量\nMax：最大\nMin：最小\nSum：求和\nexample: Student.objects.aggregate(Max('age'))\n```\n\n- F对象/Q对象\n\n**F对象**:可以使用模型的A属性与B属性进行比较\n\n```python\n班级中有女生个数字段以及男生个数字段，统计女生数大于男生数的班级可以如下操作:\n\ngrades = Grade.objects.filter(girlnum__gt=F('boynum'))\n```\n\n**Q对象:**Q()对象就是为了将过滤条件组合起来,使用符号&或者|将多个Q()对象组合起来传递给filter()，exclude()，get()等函数.\n\n```python\n查询学生中不是12岁的或者姓名叫张三的学生\nstudent = Student.objects.filter(~Q(age=12) | Q(name='张三'))\n\n查询python班语文小于80并且数学小于等于80的学生\ngrade = Grade.objects.filter(g_name='python').first()\nstudents = grade.student_set.all()\nstu = students.filter(~Q(s_yuwen__gte=80) & Q(s_shuxue__lte=80))\n\n查询python班语文大于等于80或者数学小于等于80的学生\ngrade = Grade.objects.filter(g_name='python').first()\nstudents = grade.student_set.all()\nstu = students.filter(Q(s_yuwen__gte=80) | Q(s_shuxue__lte=80))\n```\n\n#### [关系](https://github.com/JackChenSmile/web-frame/blob/master/django/3.1django_model_more.md)\n\n- 一对一：\n  - 已知a对象，查找b对象：a.b\n  - 已知a对象，查找b对象：b.a(小写)\n- 一对多：\n  - 已知a对象，查找b对象：a.b\n  - 已知a对象，查找b对象：b.a_set\n\n- 多对多：\n\n```\n多对多关系：\n1. 生成表的时候会多生成一张表（实际会有三张表）\n2. 生成的表是专门用来维护关系的\n3. 生成的表是使用两个外键来维护多对多的关系\n4. 两个一对多的关系来实现多对多的实现　　　\n5. 删除一个表的数据的话，中间关联表也要删除相关的信息\n```\n\n#### 模板\n\n**1.加载静态配置文件**\n\n```\n在settings.py中最下面有一个叫做static的文件夹，主要用来加载一些模板中用到的资源，提供给全局使用\n这个静态文件主要用来配置css，html，图片，文字文件等\n\nSTATIC_URL = ‘/static/’\nSTATICFILES_DIRS = [\n    os.path.join(BASE_DIR, ‘static’)\n]\n\n只后在模板中，首先加载静态文件，之后调用静态，就不用写绝对全路径了\n```\n\n**2.使用静态配置文件**\n\n```\na) 加载渲染静态配置文件 模板中声明\n\n{% load static %} 或者 {% load staticfiles %}\n在引用资源的时候使用\n\n{% static ‘xxx’ %} xxx就是相当于staticfiles_dirs的一个位置\nb) 直接定义静态配置\n\n<img src=\"/static/images/mvc.png\">\n其中: 展示static文件夹下有一个images文件夹，下面有一个mvc.png的图片\n```\n\n**3.模板主要部分**\n\n- HTML静态代码\n- 动态插入的代码段（挖坑，填坑）也就是block\n\n","slug":"前端/day04","published":1,"updated":"2019-01-19T09:56:58.740Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjt87kqp5004ir8r6hcyblcsw","content":"<h4 id=\"模型类型\"><a href=\"#模型类型\" class=\"headerlink\" title=\"模型类型\"></a>模型类型</h4><h5 id=\"（1）定义模型\"><a href=\"#（1）定义模型\" class=\"headerlink\" title=\"（1）定义模型\"></a>（1）定义模型</h5><p>一个模型可以看做一个类，它对应数据库中的一张表；模型中定义的一个字段，对应一个类的属性</p>\n<pre class=\" language-python\"><code class=\"language-python\"><span class=\"token keyword\">class</span> <span class=\"token class-name\">Student</span><span class=\"token punctuation\">(</span>models<span class=\"token punctuation\">.</span>Model<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    s_name <span class=\"token operator\">=</span> models<span class=\"token punctuation\">.</span>CharField<span class=\"token punctuation\">(</span>max_length<span class=\"token operator\">=</span><span class=\"token number\">10</span><span class=\"token punctuation\">)</span>\n    s_age <span class=\"token operator\">=</span> models<span class=\"token punctuation\">.</span>IntegerField<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    s_gender <span class=\"token operator\">=</span> models<span class=\"token punctuation\">.</span>BooleanField<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n\n    <span class=\"token keyword\">class</span> <span class=\"token class-name\">Meat</span><span class=\"token punctuation\">:</span>\n        <span class=\"token comment\" spellcheck=\"true\"># 对列表进行重命名</span>\n        db_table <span class=\"token operator\">=</span> <span class=\"token string\">'cd_student'</span>\n        ordering <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span>\n        对象默认排序字段，获取对象列表时使用，升序ordering<span class=\"token punctuation\">[</span><span class=\"token string\">'id'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>降序ordering<span class=\"token punctuation\">[</span><span class=\"token string\">'-id'</span><span class=\"token punctuation\">]</span>\n</code></pre>\n<h5 id=\"（2）迁移数据\"><a href=\"#（2）迁移数据\" class=\"headerlink\" title=\"（2）迁移数据\"></a>（2）迁移数据</h5><pre class=\" language-python\"><code class=\"language-python\">python manage<span class=\"token punctuation\">.</span>py makemigrations    <span class=\"token operator\">-</span><span class=\"token operator\">-</span><span class=\"token operator\">-</span><span class=\"token operator\">-</span><span class=\"token operator\">-</span><span class=\"token operator\">-</span><span class=\"token operator\">-</span><span class=\"token operator\">-</span><span class=\"token operator\">-</span><span class=\"token operator\">-</span>  生成迁移文件，不会生成数据库中的表\n​\n</code></pre>\n<p>如果生成文件报错，No changes detected,就需要删除<strong>pycache</strong>文件；强制生成文件python manage.py makemigrations xxx (xxx就是app的名称)；并删除数据库中app字段为XXX的数据。<br>​<code>`</code><br>python manage.py migrate  ————-  迁移文件，生成数据库</p>\n<pre><code>\n##### （3）ORM\n\nORM(Objects Relational Mapping)对象关系映射，是一种程序技术，用于实现面向对象编程语言里不同类型系统的数据之间的转换。可以简单理解为翻译机。\n\n![django_models](F:\\gitee\\web-img\\django_models.jpg)\n\n##### (3)模型查询\n\n- 模型成员objects\n\n**Django默认通过模型的objects对象实现模型数据查询**\n\n- 过滤器\n\n查询集：表示从数据库中获取的要查询对象的集合\n\n**过滤器：就是通过一系列的筛选，得到自己想要的数据的一种方式，它是一个函数，用所给的参数去限制查询的结果**\n\n</code></pre><p>从SQL角度来说，查询集合和select语句等价，过滤器就像where条件</p>\n<p>Django有两种过滤器用于筛选记录</p>\n<pre><code>filter      : 返回符合筛选条件的数据集\nget获取不到数据会直接报错, filter获取不到数据是返回空\nexclude   : 返回不符合筛选条件的数据集\n</code></pre><p>注：filter与exclude可以连在一起限制查询的结果</p>\n<pre><code>\n**过滤器**\n\n```python\nall（）               返回所有的数据\nfilter（）            返回符合条件的数据\nexclude（）           返回不符合条件的数据\norder_by（）          排序，默认是升序\nvalues（）            一条数据就是一个字典，返回一个列表\n</code></pre><ul>\n<li><p>查询单个数据的方法：</p>\n<pre><code>get()：返回一个满足条件的对象。如果没有返回符合条件的对象，会引发模型类DoesNotExist异常，如果找到多个，会引发模型类MultiObjectsReturned异常\n\nfirst()：返回查询集中的第一个对象，可以拿到只有一个元素的集合中的元素\n\nlast()：返回查询集中的最后一个对象，同上\n\ncount()：返回当前查询集中的对象个数，计数作用\n\nexists()：判断查询集中是否有数据，如果有数据返回True，没有返回False\n\n</code></pre></li>\n<li><p>限制查询集</p>\n</li>\n</ul>\n<p>可以通过下标，来获取想要的数据，等价于sql中的limit   ————-   <strong><code>模型名.objects.all()[0:5]</code></strong>取值的下标不能为负。</p>\n<ul>\n<li>查询字段</li>\n</ul>\n<pre><code>  对SQL中的where实现，作为方法filter(),exclude(),get()的参数\n  语法：属性名_比较运算符 = 值\n  外键：属性名_id\n  注意：like语句中使用%表示通配符。比如sql语句查询 where name like &#39;%xxx%&#39;，等同于filter(name_contains=&#39;xxx&#39;)\n</code></pre><ul>\n<li>比较查询</li>\n</ul>\n<pre class=\" language-python\"><code class=\"language-python\">contains<span class=\"token punctuation\">:</span>是否包含，对大小写敏感\nstartswith，endswith：以values开头或者结尾，大小写敏感 以上的运算符前加上i<span class=\"token punctuation\">(</span>ignore<span class=\"token punctuation\">)</span>就不区分大小写了\nisnull，isnotnull：是否为空  <span class=\"token operator\">-</span><span class=\"token operator\">-</span><span class=\"token operator\">-</span><span class=\"token operator\">-</span><span class=\"token operator\">-</span><span class=\"token operator\">-</span><span class=\"token operator\">-</span><span class=\"token operator\">-</span><span class=\"token operator\">-</span><span class=\"token operator\">-</span><span class=\"token operator\">-</span><span class=\"token operator\">-</span>  filter<span class=\"token punctuation\">(</span>name__isnull<span class=\"token operator\">=</span><span class=\"token boolean\">True</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">in</span>：是否包含在范围内  <span class=\"token operator\">-</span><span class=\"token operator\">-</span><span class=\"token operator\">-</span><span class=\"token operator\">-</span><span class=\"token operator\">-</span><span class=\"token operator\">-</span><span class=\"token operator\">-</span><span class=\"token operator\">-</span><span class=\"token operator\">-</span><span class=\"token operator\">-</span><span class=\"token operator\">-</span>  filter<span class=\"token punctuation\">(</span>id__in<span class=\"token operator\">=</span><span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span><span class=\"token number\">2</span><span class=\"token punctuation\">,</span><span class=\"token number\">3</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>\ngt，gte，lt，lte：大于，大于等于，小于，小于等于  <span class=\"token operator\">-</span><span class=\"token operator\">-</span><span class=\"token operator\">-</span><span class=\"token operator\">-</span><span class=\"token operator\">-</span><span class=\"token operator\">-</span><span class=\"token operator\">-</span><span class=\"token operator\">-</span><span class=\"token operator\">-</span><span class=\"token operator\">-</span>  filter<span class=\"token punctuation\">(</span>age__gt<span class=\"token operator\">=</span><span class=\"token number\">10</span><span class=\"token punctuation\">)</span>\npk：代表主键，也就是id  <span class=\"token operator\">-</span><span class=\"token operator\">-</span><span class=\"token operator\">-</span><span class=\"token operator\">-</span><span class=\"token operator\">-</span><span class=\"token operator\">-</span><span class=\"token operator\">-</span><span class=\"token operator\">-</span><span class=\"token operator\">-</span><span class=\"token operator\">-</span><span class=\"token operator\">-</span><span class=\"token operator\">-</span>  filter<span class=\"token punctuation\">(</span>pk<span class=\"token operator\">=</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span>\n</code></pre>\n<ul>\n<li>聚合函数</li>\n</ul>\n<pre class=\" language-python\"><code class=\"language-python\">agregate<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>函数返回聚合函数的值\nAvg：平均值\nCount：数量\nMax：最大\nMin：最小\nSum：求和\nexample<span class=\"token punctuation\">:</span> Student<span class=\"token punctuation\">.</span>objects<span class=\"token punctuation\">.</span>aggregate<span class=\"token punctuation\">(</span>Max<span class=\"token punctuation\">(</span><span class=\"token string\">'age'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n</code></pre>\n<ul>\n<li>F对象/Q对象</li>\n</ul>\n<p><strong>F对象</strong>:可以使用模型的A属性与B属性进行比较</p>\n<pre class=\" language-python\"><code class=\"language-python\">班级中有女生个数字段以及男生个数字段，统计女生数大于男生数的班级可以如下操作<span class=\"token punctuation\">:</span>\n\ngrades <span class=\"token operator\">=</span> Grade<span class=\"token punctuation\">.</span>objects<span class=\"token punctuation\">.</span>filter<span class=\"token punctuation\">(</span>girlnum__gt<span class=\"token operator\">=</span>F<span class=\"token punctuation\">(</span><span class=\"token string\">'boynum'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n</code></pre>\n<p><strong>Q对象:</strong>Q()对象就是为了将过滤条件组合起来,使用符号&amp;或者|将多个Q()对象组合起来传递给filter()，exclude()，get()等函数.</p>\n<pre class=\" language-python\"><code class=\"language-python\">查询学生中不是<span class=\"token number\">12</span>岁的或者姓名叫张三的学生\nstudent <span class=\"token operator\">=</span> Student<span class=\"token punctuation\">.</span>objects<span class=\"token punctuation\">.</span>filter<span class=\"token punctuation\">(</span><span class=\"token operator\">~</span>Q<span class=\"token punctuation\">(</span>age<span class=\"token operator\">=</span><span class=\"token number\">12</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">|</span> Q<span class=\"token punctuation\">(</span>name<span class=\"token operator\">=</span><span class=\"token string\">'张三'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n\n查询python班语文小于<span class=\"token number\">80</span>并且数学小于等于<span class=\"token number\">80</span>的学生\ngrade <span class=\"token operator\">=</span> Grade<span class=\"token punctuation\">.</span>objects<span class=\"token punctuation\">.</span>filter<span class=\"token punctuation\">(</span>g_name<span class=\"token operator\">=</span><span class=\"token string\">'python'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>first<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\nstudents <span class=\"token operator\">=</span> grade<span class=\"token punctuation\">.</span>student_set<span class=\"token punctuation\">.</span>all<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\nstu <span class=\"token operator\">=</span> students<span class=\"token punctuation\">.</span>filter<span class=\"token punctuation\">(</span><span class=\"token operator\">~</span>Q<span class=\"token punctuation\">(</span>s_yuwen__gte<span class=\"token operator\">=</span><span class=\"token number\">80</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">&amp;</span> Q<span class=\"token punctuation\">(</span>s_shuxue__lte<span class=\"token operator\">=</span><span class=\"token number\">80</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n\n查询python班语文大于等于<span class=\"token number\">80</span>或者数学小于等于<span class=\"token number\">80</span>的学生\ngrade <span class=\"token operator\">=</span> Grade<span class=\"token punctuation\">.</span>objects<span class=\"token punctuation\">.</span>filter<span class=\"token punctuation\">(</span>g_name<span class=\"token operator\">=</span><span class=\"token string\">'python'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>first<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\nstudents <span class=\"token operator\">=</span> grade<span class=\"token punctuation\">.</span>student_set<span class=\"token punctuation\">.</span>all<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\nstu <span class=\"token operator\">=</span> students<span class=\"token punctuation\">.</span>filter<span class=\"token punctuation\">(</span>Q<span class=\"token punctuation\">(</span>s_yuwen__gte<span class=\"token operator\">=</span><span class=\"token number\">80</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">|</span> Q<span class=\"token punctuation\">(</span>s_shuxue__lte<span class=\"token operator\">=</span><span class=\"token number\">80</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n</code></pre>\n<h4 id=\"关系\"><a href=\"#关系\" class=\"headerlink\" title=\"关系\"></a><a href=\"https://github.com/JackChenSmile/web-frame/blob/master/django/3.1django_model_more.md\" target=\"_blank\" rel=\"noopener\">关系</a></h4><ul>\n<li>一对一：<ul>\n<li>已知a对象，查找b对象：a.b</li>\n<li>已知a对象，查找b对象：b.a(小写)</li>\n</ul>\n</li>\n<li><p>一对多：</p>\n<ul>\n<li>已知a对象，查找b对象：a.b</li>\n<li>已知a对象，查找b对象：b.a_set</li>\n</ul>\n</li>\n<li><p>多对多：</p>\n</li>\n</ul>\n<pre><code>多对多关系：\n1. 生成表的时候会多生成一张表（实际会有三张表）\n2. 生成的表是专门用来维护关系的\n3. 生成的表是使用两个外键来维护多对多的关系\n4. 两个一对多的关系来实现多对多的实现　　　\n5. 删除一个表的数据的话，中间关联表也要删除相关的信息\n</code></pre><h4 id=\"模板\"><a href=\"#模板\" class=\"headerlink\" title=\"模板\"></a>模板</h4><p><strong>1.加载静态配置文件</strong></p>\n<pre><code>在settings.py中最下面有一个叫做static的文件夹，主要用来加载一些模板中用到的资源，提供给全局使用\n这个静态文件主要用来配置css，html，图片，文字文件等\n\nSTATIC_URL = ‘/static/’\nSTATICFILES_DIRS = [\n    os.path.join(BASE_DIR, ‘static’)\n]\n\n只后在模板中，首先加载静态文件，之后调用静态，就不用写绝对全路径了\n</code></pre><p><strong>2.使用静态配置文件</strong></p>\n<pre><code>a) 加载渲染静态配置文件 模板中声明\n\n{% load static %} 或者 {% load staticfiles %}\n在引用资源的时候使用\n\n{% static ‘xxx’ %} xxx就是相当于staticfiles_dirs的一个位置\nb) 直接定义静态配置\n\n&lt;img src=&quot;/static/images/mvc.png&quot;&gt;\n其中: 展示static文件夹下有一个images文件夹，下面有一个mvc.png的图片\n</code></pre><p><strong>3.模板主要部分</strong></p>\n<ul>\n<li>HTML静态代码</li>\n<li>动态插入的代码段（挖坑，填坑）也就是block</li>\n</ul>\n","site":{"data":{}},"excerpt":"","more":"<h4 id=\"模型类型\"><a href=\"#模型类型\" class=\"headerlink\" title=\"模型类型\"></a>模型类型</h4><h5 id=\"（1）定义模型\"><a href=\"#（1）定义模型\" class=\"headerlink\" title=\"（1）定义模型\"></a>（1）定义模型</h5><p>一个模型可以看做一个类，它对应数据库中的一张表；模型中定义的一个字段，对应一个类的属性</p>\n<pre><code class=\"python\">class Student(models.Model):\n    s_name = models.CharField(max_length=10)\n    s_age = models.IntegerField()\n    s_gender = models.BooleanField()\n\n    class Meat:\n        # 对列表进行重命名\n        db_table = &#39;cd_student&#39;\n        ordering = []\n        对象默认排序字段，获取对象列表时使用，升序ordering[&#39;id&#39;],降序ordering[&#39;-id&#39;]\n</code></pre>\n<h5 id=\"（2）迁移数据\"><a href=\"#（2）迁移数据\" class=\"headerlink\" title=\"（2）迁移数据\"></a>（2）迁移数据</h5><pre><code class=\"python\">python manage.py makemigrations    ----------  生成迁移文件，不会生成数据库中的表\n​\n</code></pre>\n<p>如果生成文件报错，No changes detected,就需要删除<strong>pycache</strong>文件；强制生成文件python manage.py makemigrations xxx (xxx就是app的名称)；并删除数据库中app字段为XXX的数据。<br>​<code>`</code><br>python manage.py migrate  ————-  迁移文件，生成数据库</p>\n<pre><code>\n##### （3）ORM\n\nORM(Objects Relational Mapping)对象关系映射，是一种程序技术，用于实现面向对象编程语言里不同类型系统的数据之间的转换。可以简单理解为翻译机。\n\n![django_models](F:\\gitee\\web-img\\django_models.jpg)\n\n##### (3)模型查询\n\n- 模型成员objects\n\n**Django默认通过模型的objects对象实现模型数据查询**\n\n- 过滤器\n\n查询集：表示从数据库中获取的要查询对象的集合\n\n**过滤器：就是通过一系列的筛选，得到自己想要的数据的一种方式，它是一个函数，用所给的参数去限制查询的结果**\n\n</code></pre><p>从SQL角度来说，查询集合和select语句等价，过滤器就像where条件</p>\n<p>Django有两种过滤器用于筛选记录</p>\n<pre><code>filter      : 返回符合筛选条件的数据集\nget获取不到数据会直接报错, filter获取不到数据是返回空\nexclude   : 返回不符合筛选条件的数据集\n</code></pre><p>注：filter与exclude可以连在一起限制查询的结果</p>\n<pre><code>\n**过滤器**\n\n```python\nall（）               返回所有的数据\nfilter（）            返回符合条件的数据\nexclude（）           返回不符合条件的数据\norder_by（）          排序，默认是升序\nvalues（）            一条数据就是一个字典，返回一个列表\n</code></pre><ul>\n<li><p>查询单个数据的方法：</p>\n<pre><code>get()：返回一个满足条件的对象。如果没有返回符合条件的对象，会引发模型类DoesNotExist异常，如果找到多个，会引发模型类MultiObjectsReturned异常\n\nfirst()：返回查询集中的第一个对象，可以拿到只有一个元素的集合中的元素\n\nlast()：返回查询集中的最后一个对象，同上\n\ncount()：返回当前查询集中的对象个数，计数作用\n\nexists()：判断查询集中是否有数据，如果有数据返回True，没有返回False\n\n</code></pre></li>\n<li><p>限制查询集</p>\n</li>\n</ul>\n<p>可以通过下标，来获取想要的数据，等价于sql中的limit   ————-   <strong><code>模型名.objects.all()[0:5]</code></strong>取值的下标不能为负。</p>\n<ul>\n<li>查询字段</li>\n</ul>\n<pre><code>  对SQL中的where实现，作为方法filter(),exclude(),get()的参数\n  语法：属性名_比较运算符 = 值\n  外键：属性名_id\n  注意：like语句中使用%表示通配符。比如sql语句查询 where name like &#39;%xxx%&#39;，等同于filter(name_contains=&#39;xxx&#39;)\n</code></pre><ul>\n<li>比较查询</li>\n</ul>\n<pre><code class=\"python\">contains:是否包含，对大小写敏感\nstartswith，endswith：以values开头或者结尾，大小写敏感 以上的运算符前加上i(ignore)就不区分大小写了\nisnull，isnotnull：是否为空  ------------  filter(name__isnull=True)\nin：是否包含在范围内  -----------  filter(id__in=[1,2,3])\ngt，gte，lt，lte：大于，大于等于，小于，小于等于  ----------  filter(age__gt=10)\npk：代表主键，也就是id  ------------  filter(pk=1)\n</code></pre>\n<ul>\n<li>聚合函数</li>\n</ul>\n<pre><code class=\"python\">agregate()函数返回聚合函数的值\nAvg：平均值\nCount：数量\nMax：最大\nMin：最小\nSum：求和\nexample: Student.objects.aggregate(Max(&#39;age&#39;))\n</code></pre>\n<ul>\n<li>F对象/Q对象</li>\n</ul>\n<p><strong>F对象</strong>:可以使用模型的A属性与B属性进行比较</p>\n<pre><code class=\"python\">班级中有女生个数字段以及男生个数字段，统计女生数大于男生数的班级可以如下操作:\n\ngrades = Grade.objects.filter(girlnum__gt=F(&#39;boynum&#39;))\n</code></pre>\n<p><strong>Q对象:</strong>Q()对象就是为了将过滤条件组合起来,使用符号&amp;或者|将多个Q()对象组合起来传递给filter()，exclude()，get()等函数.</p>\n<pre><code class=\"python\">查询学生中不是12岁的或者姓名叫张三的学生\nstudent = Student.objects.filter(~Q(age=12) | Q(name=&#39;张三&#39;))\n\n查询python班语文小于80并且数学小于等于80的学生\ngrade = Grade.objects.filter(g_name=&#39;python&#39;).first()\nstudents = grade.student_set.all()\nstu = students.filter(~Q(s_yuwen__gte=80) &amp; Q(s_shuxue__lte=80))\n\n查询python班语文大于等于80或者数学小于等于80的学生\ngrade = Grade.objects.filter(g_name=&#39;python&#39;).first()\nstudents = grade.student_set.all()\nstu = students.filter(Q(s_yuwen__gte=80) | Q(s_shuxue__lte=80))\n</code></pre>\n<h4 id=\"关系\"><a href=\"#关系\" class=\"headerlink\" title=\"关系\"></a><a href=\"https://github.com/JackChenSmile/web-frame/blob/master/django/3.1django_model_more.md\" target=\"_blank\" rel=\"noopener\">关系</a></h4><ul>\n<li>一对一：<ul>\n<li>已知a对象，查找b对象：a.b</li>\n<li>已知a对象，查找b对象：b.a(小写)</li>\n</ul>\n</li>\n<li><p>一对多：</p>\n<ul>\n<li>已知a对象，查找b对象：a.b</li>\n<li>已知a对象，查找b对象：b.a_set</li>\n</ul>\n</li>\n<li><p>多对多：</p>\n</li>\n</ul>\n<pre><code>多对多关系：\n1. 生成表的时候会多生成一张表（实际会有三张表）\n2. 生成的表是专门用来维护关系的\n3. 生成的表是使用两个外键来维护多对多的关系\n4. 两个一对多的关系来实现多对多的实现　　　\n5. 删除一个表的数据的话，中间关联表也要删除相关的信息\n</code></pre><h4 id=\"模板\"><a href=\"#模板\" class=\"headerlink\" title=\"模板\"></a>模板</h4><p><strong>1.加载静态配置文件</strong></p>\n<pre><code>在settings.py中最下面有一个叫做static的文件夹，主要用来加载一些模板中用到的资源，提供给全局使用\n这个静态文件主要用来配置css，html，图片，文字文件等\n\nSTATIC_URL = ‘/static/’\nSTATICFILES_DIRS = [\n    os.path.join(BASE_DIR, ‘static’)\n]\n\n只后在模板中，首先加载静态文件，之后调用静态，就不用写绝对全路径了\n</code></pre><p><strong>2.使用静态配置文件</strong></p>\n<pre><code>a) 加载渲染静态配置文件 模板中声明\n\n{% load static %} 或者 {% load staticfiles %}\n在引用资源的时候使用\n\n{% static ‘xxx’ %} xxx就是相当于staticfiles_dirs的一个位置\nb) 直接定义静态配置\n\n&lt;img src=&quot;/static/images/mvc.png&quot;&gt;\n其中: 展示static文件夹下有一个images文件夹，下面有一个mvc.png的图片\n</code></pre><p><strong>3.模板主要部分</strong></p>\n<ul>\n<li>HTML静态代码</li>\n<li>动态插入的代码段（挖坑，填坑）也就是block</li>\n</ul>\n"},{"title":"databases","date":"2018-07-24T10:19:35.000Z","author":"smile","_content":"\n#### 查询表格中的数据（2）：\n\n```python\nfrom django.http import HttpResponse\n\n1.或条件（引入函数模块Q）\n# Q(),alt+enter ----- 引入模块的快捷键 ------- from django.db.models import Q, F\nstus = Student.objects.filter(Q(s_age=20) | Q(s_gender=1))\n2.且条件\nstus = Student.objects.filter(Q(s_age=20) & Q(s_gender=1))\n3.非条件\nstus = Student.objects.filter(~Q(s_age=20))\n4.查询表中数据的大小\nstus = Student.objects.filter(字段__gt=F('另一个字段'))\n5.查询语文比数学多10分的同学\nstus = Student.objects.filter(yuwen__gt=F('math') + 10)\n\nstu_names = [stu.s_name for stu in stus]    # 将stus这个字典变成一个生成器，取出每个同学的名字\nreturn HttpResponse('查询成功')\n```\n\n#### 删除列表中的数据：\n\n```python\ndef del_stu(request):\n\t# 实现删除\n\tStudent.objects.filter(s_name='旺财').delete()\n\treturn HttpResponse('删除成功')\n```\n\n#### 更新列表中的数据\n\n```python\n方法一：\ndef update_stu(request)：\n\t# 实现更新\n\tstu = Student.objects.filter(s_name'旺财').first()   # 取到的是一个字典，所以可以用first（）或者last（）\n\t# Student.objects.get(s_name='李哥')    # 从页面上获取s_name，也可以进行数据的更新\n\tstu.s_name = '王老五'\n\tstu.save()    # 保存更新后的信息\n\treturn HttpResponse('修改成功')      # 返回一个提示语\n\n方法二：\ndef update_stu(request):\n    Student.objects.filter(s_name='被修改内容').update(s_name='修改内容')\n    return HttpResponse('修改成功')\n```\n\n### 在页面上获取所有学生的信息\n\n```python\nfrom django.shortcuts import render\n\n# 1.在文件中新建一个Directory,命名为templates，在templates文件中，新建一个HTML文件，就是网页文件名\n# 2.在views.py中创建一个函数\ndef all_stu(request):\n\t# 获取所有学生的信息\n    stus = Student.objects.all()\n    # 返回页面\n    return render(request, '页面文件名', 数据内容)\n\n# 3.页面内容\n\n<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <title>Title</title>\n</head>\n<body>\n    <table>\n        <thead>\n        <th>姓名</th>\n        <th>年龄</th>\n        <th>数学成绩</th>\n        <th>语文成绩</th>\n        <th>操作</th>\n        </thead>\n        {% for stu in students %}\n        <tbody>\n            <!--解析变量-->\n            <td>{{ stu.s_name }}</td>\n            <td>{{ stu.s_age }}</td>\n            <td>{{ stu.math }}</td>\n            <td>{{ stu.yuwen }}</td>\n            <td>\n                <a href=\"/add_info/?stu_id={{ stu.id }}\">添加拓展信息</a>\n            </td>\n        </tbody>\n        {% endfor %}\n    </table>\n</body>\n</html>\n# 4.在urls.py文件urlpatterns中添加访问的路由地址\n# url(正则表达式，views.创建的函数名)\nurl(r'^all_stu/', views.all_stu)\n```\n\n### 一对一的搜索\n\n```python\n# 1.先创建一个一对一的类\nclass StudentInfo(models.Model):\n    phone = models.CharField(max_length=11, null=True)\n    address = models.CharField(max_length=100)\n    # OneToOneField  指定一对一的关系\n    stu = models.OneToOneField(Student)\n    \n    class Meat\n        db_table = 'student_info'   # 对这个表格命名\n# 2.创建一个函数\ndef add_info (request):\n    # method 获取请求Http方式\n    if request.method = 'GET':\n        return render(request, 'info.html')\n    if request.method = 'POST':\n        # 获取页面中提交的手机号码和地址，并保存\n        phone = request.POST.get('phone')\n        address = request.POST.get('address')\n        stu_id = request.GET.get('stu_id')\n        # 保存\n        StudentInfo.objects.create(phone=phone, address=address, stu_id=stu_id)\n        return HttpResponse('创建拓展表成功')\n# 3.在templates文件中创建一个info的HTML文件\n# 内容：\n<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <title>Title</title>\n</head>\n<body>\n    <form action=\"\" method=\"post\">\n        电话号码：<input type=\"text\" name=\"phone\">\n        地址：<input type=\"text\" name=\"address\">\n        <input type=\"submit\" value=\"提交\">\n    </form>\n\n</body>\n</html>\n# 4.设置路由地址\nurl(r'^sel_info/', views.sel_info)\n```\n\n### 一对多的搜索\n\n```python\n# 1.创建一个Grade的类\nclass Grade(models.Model):\n    g_name = models.CharField(max_length=10, unique=True)\n\n    class Meat:\n        db_table = 'grade'\n# 2.一个班级有多个学生，所以在学生类中添加主键\nclass Student(models.Model):\n    # 定义s_name字段，varchar类型，最长不超过6字符，唯一\n    s_name = models.CharField(max_length=6, unique=True)\n    # 定义s_age字段，int类型\n    s_age = models.IntegerField(default=18)\n    # 定义s_gender字段，bool型\n    s_gender = models.BooleanField(default=1)\n    # 定义create_time字段，创建时间\n    create_time = models.DateTimeField(auto_now_add=True, null=True)\n    # 定义operate_time字段，修改时间\n    operate_time = models.DateTimeField(auto_now=True, null=True)\n    # 定义yuwen字段，语文成绩\n    yuwen = models.DecimalField(decimal_places=1, max_digits=4, null=True)\n    #     # 定义math，数学成绩\n    math = models.DecimalField(decimal_places=1, max_digits=4, null=True)\n\n    grade = models.ForeignKey(Grade, null=True)      #  添加的主键\n# 3.创建一个查询的函数\ndef sel_info_by_stu(request):\n    if request.method == 'GET':\n        # 通过学生查询拓展信息\n        # 第一种方法\n        stu = Student.objects.get(s_name='小明')\n        info = StudentInfo.objects.filter(stu_id=stu.id)\n        info = StudentInfo.objects.filter(stu=stu)\n        \n        # 第二种方法 ,学生对象，关联的模型名的小写（一对多）\n        info = stu.studentinfo\n\n        return HttpResponse('通过学生查找拓展表信息')\n# 4.创建路由地址\nurl(r'^sel_info_by_stu/', views.sel_info_by_stu),\n\n# 5.创建一个通过电话号码查找的函数\n\ndef sel_stu_by_info(request):\n    if request.method == 'GET':\n        # 知道手机号码，找人\n        info = StudentInfo.objects.get(phone='12536524521')\n        student = info.stu\n        print(student)\n        return HttpResponse('通过手机号码查找学生信息')\n\nurl(r'^sel_stu_by_info/', views.sel_stu_by_info),\n\n# 6.通过班级查找\ndef add_grade(request):\n    if request.method == 'GET':\n        names = ['物联网', 'python', '外语']\n        for name in names:\n            Grade.objects.create(g_name=name)\n        return HttpResponse('创建班级成功')\n    \n\nurl(r'^add_grade/', views.add_grade),\n    \n    \ndef sel_stu_grade(request):\n    if request.method == 'GET':\n        # 通过学生查找班级\n        stu = Student.objects.filter(s_name='小明').first()\n        gradec = stu.grade\n        # 通过班级查找学生\n        grade = Grade.objects.get(g_name='物联网')\n        student = grade.student_set.filter(s_gender=0).all()\n        return HttpResponse('查询学生和班级信息')\n    \nurl(r'^sel_stu_grade/', views.sel_stu_grade),\n\n\n```\n\n","source":"_posts/前端/daythird.md","raw":"---\ntitle: databases\ndate: 2018-07-24 18:19:35\nauthor: smile\ncategories: databases\ntags: \n  - 查\n  - 删\n  - 改\n---\n\n#### 查询表格中的数据（2）：\n\n```python\nfrom django.http import HttpResponse\n\n1.或条件（引入函数模块Q）\n# Q(),alt+enter ----- 引入模块的快捷键 ------- from django.db.models import Q, F\nstus = Student.objects.filter(Q(s_age=20) | Q(s_gender=1))\n2.且条件\nstus = Student.objects.filter(Q(s_age=20) & Q(s_gender=1))\n3.非条件\nstus = Student.objects.filter(~Q(s_age=20))\n4.查询表中数据的大小\nstus = Student.objects.filter(字段__gt=F('另一个字段'))\n5.查询语文比数学多10分的同学\nstus = Student.objects.filter(yuwen__gt=F('math') + 10)\n\nstu_names = [stu.s_name for stu in stus]    # 将stus这个字典变成一个生成器，取出每个同学的名字\nreturn HttpResponse('查询成功')\n```\n\n#### 删除列表中的数据：\n\n```python\ndef del_stu(request):\n\t# 实现删除\n\tStudent.objects.filter(s_name='旺财').delete()\n\treturn HttpResponse('删除成功')\n```\n\n#### 更新列表中的数据\n\n```python\n方法一：\ndef update_stu(request)：\n\t# 实现更新\n\tstu = Student.objects.filter(s_name'旺财').first()   # 取到的是一个字典，所以可以用first（）或者last（）\n\t# Student.objects.get(s_name='李哥')    # 从页面上获取s_name，也可以进行数据的更新\n\tstu.s_name = '王老五'\n\tstu.save()    # 保存更新后的信息\n\treturn HttpResponse('修改成功')      # 返回一个提示语\n\n方法二：\ndef update_stu(request):\n    Student.objects.filter(s_name='被修改内容').update(s_name='修改内容')\n    return HttpResponse('修改成功')\n```\n\n### 在页面上获取所有学生的信息\n\n```python\nfrom django.shortcuts import render\n\n# 1.在文件中新建一个Directory,命名为templates，在templates文件中，新建一个HTML文件，就是网页文件名\n# 2.在views.py中创建一个函数\ndef all_stu(request):\n\t# 获取所有学生的信息\n    stus = Student.objects.all()\n    # 返回页面\n    return render(request, '页面文件名', 数据内容)\n\n# 3.页面内容\n\n<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <title>Title</title>\n</head>\n<body>\n    <table>\n        <thead>\n        <th>姓名</th>\n        <th>年龄</th>\n        <th>数学成绩</th>\n        <th>语文成绩</th>\n        <th>操作</th>\n        </thead>\n        {% for stu in students %}\n        <tbody>\n            <!--解析变量-->\n            <td>{{ stu.s_name }}</td>\n            <td>{{ stu.s_age }}</td>\n            <td>{{ stu.math }}</td>\n            <td>{{ stu.yuwen }}</td>\n            <td>\n                <a href=\"/add_info/?stu_id={{ stu.id }}\">添加拓展信息</a>\n            </td>\n        </tbody>\n        {% endfor %}\n    </table>\n</body>\n</html>\n# 4.在urls.py文件urlpatterns中添加访问的路由地址\n# url(正则表达式，views.创建的函数名)\nurl(r'^all_stu/', views.all_stu)\n```\n\n### 一对一的搜索\n\n```python\n# 1.先创建一个一对一的类\nclass StudentInfo(models.Model):\n    phone = models.CharField(max_length=11, null=True)\n    address = models.CharField(max_length=100)\n    # OneToOneField  指定一对一的关系\n    stu = models.OneToOneField(Student)\n    \n    class Meat\n        db_table = 'student_info'   # 对这个表格命名\n# 2.创建一个函数\ndef add_info (request):\n    # method 获取请求Http方式\n    if request.method = 'GET':\n        return render(request, 'info.html')\n    if request.method = 'POST':\n        # 获取页面中提交的手机号码和地址，并保存\n        phone = request.POST.get('phone')\n        address = request.POST.get('address')\n        stu_id = request.GET.get('stu_id')\n        # 保存\n        StudentInfo.objects.create(phone=phone, address=address, stu_id=stu_id)\n        return HttpResponse('创建拓展表成功')\n# 3.在templates文件中创建一个info的HTML文件\n# 内容：\n<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <title>Title</title>\n</head>\n<body>\n    <form action=\"\" method=\"post\">\n        电话号码：<input type=\"text\" name=\"phone\">\n        地址：<input type=\"text\" name=\"address\">\n        <input type=\"submit\" value=\"提交\">\n    </form>\n\n</body>\n</html>\n# 4.设置路由地址\nurl(r'^sel_info/', views.sel_info)\n```\n\n### 一对多的搜索\n\n```python\n# 1.创建一个Grade的类\nclass Grade(models.Model):\n    g_name = models.CharField(max_length=10, unique=True)\n\n    class Meat:\n        db_table = 'grade'\n# 2.一个班级有多个学生，所以在学生类中添加主键\nclass Student(models.Model):\n    # 定义s_name字段，varchar类型，最长不超过6字符，唯一\n    s_name = models.CharField(max_length=6, unique=True)\n    # 定义s_age字段，int类型\n    s_age = models.IntegerField(default=18)\n    # 定义s_gender字段，bool型\n    s_gender = models.BooleanField(default=1)\n    # 定义create_time字段，创建时间\n    create_time = models.DateTimeField(auto_now_add=True, null=True)\n    # 定义operate_time字段，修改时间\n    operate_time = models.DateTimeField(auto_now=True, null=True)\n    # 定义yuwen字段，语文成绩\n    yuwen = models.DecimalField(decimal_places=1, max_digits=4, null=True)\n    #     # 定义math，数学成绩\n    math = models.DecimalField(decimal_places=1, max_digits=4, null=True)\n\n    grade = models.ForeignKey(Grade, null=True)      #  添加的主键\n# 3.创建一个查询的函数\ndef sel_info_by_stu(request):\n    if request.method == 'GET':\n        # 通过学生查询拓展信息\n        # 第一种方法\n        stu = Student.objects.get(s_name='小明')\n        info = StudentInfo.objects.filter(stu_id=stu.id)\n        info = StudentInfo.objects.filter(stu=stu)\n        \n        # 第二种方法 ,学生对象，关联的模型名的小写（一对多）\n        info = stu.studentinfo\n\n        return HttpResponse('通过学生查找拓展表信息')\n# 4.创建路由地址\nurl(r'^sel_info_by_stu/', views.sel_info_by_stu),\n\n# 5.创建一个通过电话号码查找的函数\n\ndef sel_stu_by_info(request):\n    if request.method == 'GET':\n        # 知道手机号码，找人\n        info = StudentInfo.objects.get(phone='12536524521')\n        student = info.stu\n        print(student)\n        return HttpResponse('通过手机号码查找学生信息')\n\nurl(r'^sel_stu_by_info/', views.sel_stu_by_info),\n\n# 6.通过班级查找\ndef add_grade(request):\n    if request.method == 'GET':\n        names = ['物联网', 'python', '外语']\n        for name in names:\n            Grade.objects.create(g_name=name)\n        return HttpResponse('创建班级成功')\n    \n\nurl(r'^add_grade/', views.add_grade),\n    \n    \ndef sel_stu_grade(request):\n    if request.method == 'GET':\n        # 通过学生查找班级\n        stu = Student.objects.filter(s_name='小明').first()\n        gradec = stu.grade\n        # 通过班级查找学生\n        grade = Grade.objects.get(g_name='物联网')\n        student = grade.student_set.filter(s_gender=0).all()\n        return HttpResponse('查询学生和班级信息')\n    \nurl(r'^sel_stu_grade/', views.sel_stu_grade),\n\n\n```\n\n","slug":"前端/daythird","published":1,"updated":"2019-03-14T01:49:57.439Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjt87kqpf004lr8r6njrcbdyu","content":"<h4 id=\"查询表格中的数据（2）：\"><a href=\"#查询表格中的数据（2）：\" class=\"headerlink\" title=\"查询表格中的数据（2）：\"></a>查询表格中的数据（2）：</h4><pre class=\" language-python\"><code class=\"language-python\"><span class=\"token keyword\">from</span> django<span class=\"token punctuation\">.</span>http <span class=\"token keyword\">import</span> HttpResponse\n\n<span class=\"token number\">1</span><span class=\"token punctuation\">.</span>或条件（引入函数模块Q）\n<span class=\"token comment\" spellcheck=\"true\"># Q(),alt+enter ----- 引入模块的快捷键 ------- from django.db.models import Q, F</span>\nstus <span class=\"token operator\">=</span> Student<span class=\"token punctuation\">.</span>objects<span class=\"token punctuation\">.</span>filter<span class=\"token punctuation\">(</span>Q<span class=\"token punctuation\">(</span>s_age<span class=\"token operator\">=</span><span class=\"token number\">20</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">|</span> Q<span class=\"token punctuation\">(</span>s_gender<span class=\"token operator\">=</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n<span class=\"token number\">2</span><span class=\"token punctuation\">.</span>且条件\nstus <span class=\"token operator\">=</span> Student<span class=\"token punctuation\">.</span>objects<span class=\"token punctuation\">.</span>filter<span class=\"token punctuation\">(</span>Q<span class=\"token punctuation\">(</span>s_age<span class=\"token operator\">=</span><span class=\"token number\">20</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">&amp;</span> Q<span class=\"token punctuation\">(</span>s_gender<span class=\"token operator\">=</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n<span class=\"token number\">3</span><span class=\"token punctuation\">.</span>非条件\nstus <span class=\"token operator\">=</span> Student<span class=\"token punctuation\">.</span>objects<span class=\"token punctuation\">.</span>filter<span class=\"token punctuation\">(</span><span class=\"token operator\">~</span>Q<span class=\"token punctuation\">(</span>s_age<span class=\"token operator\">=</span><span class=\"token number\">20</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n<span class=\"token number\">4</span><span class=\"token punctuation\">.</span>查询表中数据的大小\nstus <span class=\"token operator\">=</span> Student<span class=\"token punctuation\">.</span>objects<span class=\"token punctuation\">.</span>filter<span class=\"token punctuation\">(</span>字段__gt<span class=\"token operator\">=</span>F<span class=\"token punctuation\">(</span><span class=\"token string\">'另一个字段'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n<span class=\"token number\">5</span><span class=\"token punctuation\">.</span>查询语文比数学多<span class=\"token number\">10</span>分的同学\nstus <span class=\"token operator\">=</span> Student<span class=\"token punctuation\">.</span>objects<span class=\"token punctuation\">.</span>filter<span class=\"token punctuation\">(</span>yuwen__gt<span class=\"token operator\">=</span>F<span class=\"token punctuation\">(</span><span class=\"token string\">'math'</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">+</span> <span class=\"token number\">10</span><span class=\"token punctuation\">)</span>\n\nstu_names <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span>stu<span class=\"token punctuation\">.</span>s_name <span class=\"token keyword\">for</span> stu <span class=\"token keyword\">in</span> stus<span class=\"token punctuation\">]</span>    <span class=\"token comment\" spellcheck=\"true\"># 将stus这个字典变成一个生成器，取出每个同学的名字</span>\n<span class=\"token keyword\">return</span> HttpResponse<span class=\"token punctuation\">(</span><span class=\"token string\">'查询成功'</span><span class=\"token punctuation\">)</span>\n</code></pre>\n<h4 id=\"删除列表中的数据：\"><a href=\"#删除列表中的数据：\" class=\"headerlink\" title=\"删除列表中的数据：\"></a>删除列表中的数据：</h4><pre class=\" language-python\"><code class=\"language-python\"><span class=\"token keyword\">def</span> <span class=\"token function\">del_stu</span><span class=\"token punctuation\">(</span>request<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    <span class=\"token comment\" spellcheck=\"true\"># 实现删除</span>\n    Student<span class=\"token punctuation\">.</span>objects<span class=\"token punctuation\">.</span>filter<span class=\"token punctuation\">(</span>s_name<span class=\"token operator\">=</span><span class=\"token string\">'旺财'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>delete<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">return</span> HttpResponse<span class=\"token punctuation\">(</span><span class=\"token string\">'删除成功'</span><span class=\"token punctuation\">)</span>\n</code></pre>\n<h4 id=\"更新列表中的数据\"><a href=\"#更新列表中的数据\" class=\"headerlink\" title=\"更新列表中的数据\"></a>更新列表中的数据</h4><pre class=\" language-python\"><code class=\"language-python\">方法一：\n<span class=\"token keyword\">def</span> <span class=\"token function\">update_stu</span><span class=\"token punctuation\">(</span>request<span class=\"token punctuation\">)</span>：\n    <span class=\"token comment\" spellcheck=\"true\"># 实现更新</span>\n    stu <span class=\"token operator\">=</span> Student<span class=\"token punctuation\">.</span>objects<span class=\"token punctuation\">.</span>filter<span class=\"token punctuation\">(</span>s_name<span class=\"token string\">'旺财'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>first<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>   <span class=\"token comment\" spellcheck=\"true\"># 取到的是一个字典，所以可以用first（）或者last（）</span>\n    <span class=\"token comment\" spellcheck=\"true\"># Student.objects.get(s_name='李哥')    # 从页面上获取s_name，也可以进行数据的更新</span>\n    stu<span class=\"token punctuation\">.</span>s_name <span class=\"token operator\">=</span> <span class=\"token string\">'王老五'</span>\n    stu<span class=\"token punctuation\">.</span>save<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>    <span class=\"token comment\" spellcheck=\"true\"># 保存更新后的信息</span>\n    <span class=\"token keyword\">return</span> HttpResponse<span class=\"token punctuation\">(</span><span class=\"token string\">'修改成功'</span><span class=\"token punctuation\">)</span>      <span class=\"token comment\" spellcheck=\"true\"># 返回一个提示语</span>\n\n方法二：\n<span class=\"token keyword\">def</span> <span class=\"token function\">update_stu</span><span class=\"token punctuation\">(</span>request<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    Student<span class=\"token punctuation\">.</span>objects<span class=\"token punctuation\">.</span>filter<span class=\"token punctuation\">(</span>s_name<span class=\"token operator\">=</span><span class=\"token string\">'被修改内容'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>update<span class=\"token punctuation\">(</span>s_name<span class=\"token operator\">=</span><span class=\"token string\">'修改内容'</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">return</span> HttpResponse<span class=\"token punctuation\">(</span><span class=\"token string\">'修改成功'</span><span class=\"token punctuation\">)</span>\n</code></pre>\n<h3 id=\"在页面上获取所有学生的信息\"><a href=\"#在页面上获取所有学生的信息\" class=\"headerlink\" title=\"在页面上获取所有学生的信息\"></a>在页面上获取所有学生的信息</h3><pre class=\" language-python\"><code class=\"language-python\"><span class=\"token keyword\">from</span> django<span class=\"token punctuation\">.</span>shortcuts <span class=\"token keyword\">import</span> render\n\n<span class=\"token comment\" spellcheck=\"true\"># 1.在文件中新建一个Directory,命名为templates，在templates文件中，新建一个HTML文件，就是网页文件名</span>\n<span class=\"token comment\" spellcheck=\"true\"># 2.在views.py中创建一个函数</span>\n<span class=\"token keyword\">def</span> <span class=\"token function\">all_stu</span><span class=\"token punctuation\">(</span>request<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    <span class=\"token comment\" spellcheck=\"true\"># 获取所有学生的信息</span>\n    stus <span class=\"token operator\">=</span> Student<span class=\"token punctuation\">.</span>objects<span class=\"token punctuation\">.</span>all<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    <span class=\"token comment\" spellcheck=\"true\"># 返回页面</span>\n    <span class=\"token keyword\">return</span> render<span class=\"token punctuation\">(</span>request<span class=\"token punctuation\">,</span> <span class=\"token string\">'页面文件名'</span><span class=\"token punctuation\">,</span> 数据内容<span class=\"token punctuation\">)</span>\n\n<span class=\"token comment\" spellcheck=\"true\"># 3.页面内容</span>\n\n<span class=\"token operator\">&lt;</span>!DOCTYPE html<span class=\"token operator\">></span>\n<span class=\"token operator\">&lt;</span>html lang<span class=\"token operator\">=</span><span class=\"token string\">\"en\"</span><span class=\"token operator\">></span>\n<span class=\"token operator\">&lt;</span>head<span class=\"token operator\">></span>\n    <span class=\"token operator\">&lt;</span>meta charset<span class=\"token operator\">=</span><span class=\"token string\">\"UTF-8\"</span><span class=\"token operator\">></span>\n    <span class=\"token operator\">&lt;</span>title<span class=\"token operator\">></span>Title<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>title<span class=\"token operator\">></span>\n<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>head<span class=\"token operator\">></span>\n<span class=\"token operator\">&lt;</span>body<span class=\"token operator\">></span>\n    <span class=\"token operator\">&lt;</span>table<span class=\"token operator\">></span>\n        <span class=\"token operator\">&lt;</span>thead<span class=\"token operator\">></span>\n        <span class=\"token operator\">&lt;</span>th<span class=\"token operator\">></span>姓名<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>th<span class=\"token operator\">></span>\n        <span class=\"token operator\">&lt;</span>th<span class=\"token operator\">></span>年龄<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>th<span class=\"token operator\">></span>\n        <span class=\"token operator\">&lt;</span>th<span class=\"token operator\">></span>数学成绩<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>th<span class=\"token operator\">></span>\n        <span class=\"token operator\">&lt;</span>th<span class=\"token operator\">></span>语文成绩<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>th<span class=\"token operator\">></span>\n        <span class=\"token operator\">&lt;</span>th<span class=\"token operator\">></span>操作<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>th<span class=\"token operator\">></span>\n        <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>thead<span class=\"token operator\">></span>\n        <span class=\"token punctuation\">{</span><span class=\"token operator\">%</span> <span class=\"token keyword\">for</span> stu <span class=\"token keyword\">in</span> students <span class=\"token operator\">%</span><span class=\"token punctuation\">}</span>\n        <span class=\"token operator\">&lt;</span>tbody<span class=\"token operator\">></span>\n            <span class=\"token operator\">&lt;</span>!<span class=\"token operator\">-</span><span class=\"token operator\">-</span>解析变量<span class=\"token operator\">-</span><span class=\"token operator\">-</span><span class=\"token operator\">></span>\n            <span class=\"token operator\">&lt;</span>td<span class=\"token operator\">></span><span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span> stu<span class=\"token punctuation\">.</span>s_name <span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>td<span class=\"token operator\">></span>\n            <span class=\"token operator\">&lt;</span>td<span class=\"token operator\">></span><span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span> stu<span class=\"token punctuation\">.</span>s_age <span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>td<span class=\"token operator\">></span>\n            <span class=\"token operator\">&lt;</span>td<span class=\"token operator\">></span><span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span> stu<span class=\"token punctuation\">.</span>math <span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>td<span class=\"token operator\">></span>\n            <span class=\"token operator\">&lt;</span>td<span class=\"token operator\">></span><span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span> stu<span class=\"token punctuation\">.</span>yuwen <span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>td<span class=\"token operator\">></span>\n            <span class=\"token operator\">&lt;</span>td<span class=\"token operator\">></span>\n                <span class=\"token operator\">&lt;</span>a href<span class=\"token operator\">=</span><span class=\"token string\">\"/add_info/?stu_id={{ stu.id }}\"</span><span class=\"token operator\">></span>添加拓展信息<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>a<span class=\"token operator\">></span>\n            <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>td<span class=\"token operator\">></span>\n        <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>tbody<span class=\"token operator\">></span>\n        <span class=\"token punctuation\">{</span><span class=\"token operator\">%</span> endfor <span class=\"token operator\">%</span><span class=\"token punctuation\">}</span>\n    <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>table<span class=\"token operator\">></span>\n<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>body<span class=\"token operator\">></span>\n<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>html<span class=\"token operator\">></span>\n<span class=\"token comment\" spellcheck=\"true\"># 4.在urls.py文件urlpatterns中添加访问的路由地址</span>\n<span class=\"token comment\" spellcheck=\"true\"># url(正则表达式，views.创建的函数名)</span>\nurl<span class=\"token punctuation\">(</span>r<span class=\"token string\">'^all_stu/'</span><span class=\"token punctuation\">,</span> views<span class=\"token punctuation\">.</span>all_stu<span class=\"token punctuation\">)</span>\n</code></pre>\n<h3 id=\"一对一的搜索\"><a href=\"#一对一的搜索\" class=\"headerlink\" title=\"一对一的搜索\"></a>一对一的搜索</h3><pre class=\" language-python\"><code class=\"language-python\"><span class=\"token comment\" spellcheck=\"true\"># 1.先创建一个一对一的类</span>\n<span class=\"token keyword\">class</span> <span class=\"token class-name\">StudentInfo</span><span class=\"token punctuation\">(</span>models<span class=\"token punctuation\">.</span>Model<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    phone <span class=\"token operator\">=</span> models<span class=\"token punctuation\">.</span>CharField<span class=\"token punctuation\">(</span>max_length<span class=\"token operator\">=</span><span class=\"token number\">11</span><span class=\"token punctuation\">,</span> null<span class=\"token operator\">=</span><span class=\"token boolean\">True</span><span class=\"token punctuation\">)</span>\n    address <span class=\"token operator\">=</span> models<span class=\"token punctuation\">.</span>CharField<span class=\"token punctuation\">(</span>max_length<span class=\"token operator\">=</span><span class=\"token number\">100</span><span class=\"token punctuation\">)</span>\n    <span class=\"token comment\" spellcheck=\"true\"># OneToOneField  指定一对一的关系</span>\n    stu <span class=\"token operator\">=</span> models<span class=\"token punctuation\">.</span>OneToOneField<span class=\"token punctuation\">(</span>Student<span class=\"token punctuation\">)</span>\n\n    <span class=\"token keyword\">class</span> <span class=\"token class-name\">Meat</span>\n        db_table <span class=\"token operator\">=</span> <span class=\"token string\">'student_info'</span>   <span class=\"token comment\" spellcheck=\"true\"># 对这个表格命名</span>\n<span class=\"token comment\" spellcheck=\"true\"># 2.创建一个函数</span>\n<span class=\"token keyword\">def</span> add_info <span class=\"token punctuation\">(</span>request<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    <span class=\"token comment\" spellcheck=\"true\"># method 获取请求Http方式</span>\n    <span class=\"token keyword\">if</span> request<span class=\"token punctuation\">.</span>method <span class=\"token operator\">=</span> <span class=\"token string\">'GET'</span><span class=\"token punctuation\">:</span>\n        <span class=\"token keyword\">return</span> render<span class=\"token punctuation\">(</span>request<span class=\"token punctuation\">,</span> <span class=\"token string\">'info.html'</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">if</span> request<span class=\"token punctuation\">.</span>method <span class=\"token operator\">=</span> <span class=\"token string\">'POST'</span><span class=\"token punctuation\">:</span>\n        <span class=\"token comment\" spellcheck=\"true\"># 获取页面中提交的手机号码和地址，并保存</span>\n        phone <span class=\"token operator\">=</span> request<span class=\"token punctuation\">.</span>POST<span class=\"token punctuation\">.</span>get<span class=\"token punctuation\">(</span><span class=\"token string\">'phone'</span><span class=\"token punctuation\">)</span>\n        address <span class=\"token operator\">=</span> request<span class=\"token punctuation\">.</span>POST<span class=\"token punctuation\">.</span>get<span class=\"token punctuation\">(</span><span class=\"token string\">'address'</span><span class=\"token punctuation\">)</span>\n        stu_id <span class=\"token operator\">=</span> request<span class=\"token punctuation\">.</span>GET<span class=\"token punctuation\">.</span>get<span class=\"token punctuation\">(</span><span class=\"token string\">'stu_id'</span><span class=\"token punctuation\">)</span>\n        <span class=\"token comment\" spellcheck=\"true\"># 保存</span>\n        StudentInfo<span class=\"token punctuation\">.</span>objects<span class=\"token punctuation\">.</span>create<span class=\"token punctuation\">(</span>phone<span class=\"token operator\">=</span>phone<span class=\"token punctuation\">,</span> address<span class=\"token operator\">=</span>address<span class=\"token punctuation\">,</span> stu_id<span class=\"token operator\">=</span>stu_id<span class=\"token punctuation\">)</span>\n        <span class=\"token keyword\">return</span> HttpResponse<span class=\"token punctuation\">(</span><span class=\"token string\">'创建拓展表成功'</span><span class=\"token punctuation\">)</span>\n<span class=\"token comment\" spellcheck=\"true\"># 3.在templates文件中创建一个info的HTML文件</span>\n<span class=\"token comment\" spellcheck=\"true\"># 内容：</span>\n<span class=\"token operator\">&lt;</span>!DOCTYPE html<span class=\"token operator\">></span>\n<span class=\"token operator\">&lt;</span>html lang<span class=\"token operator\">=</span><span class=\"token string\">\"en\"</span><span class=\"token operator\">></span>\n<span class=\"token operator\">&lt;</span>head<span class=\"token operator\">></span>\n    <span class=\"token operator\">&lt;</span>meta charset<span class=\"token operator\">=</span><span class=\"token string\">\"UTF-8\"</span><span class=\"token operator\">></span>\n    <span class=\"token operator\">&lt;</span>title<span class=\"token operator\">></span>Title<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>title<span class=\"token operator\">></span>\n<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>head<span class=\"token operator\">></span>\n<span class=\"token operator\">&lt;</span>body<span class=\"token operator\">></span>\n    <span class=\"token operator\">&lt;</span>form action<span class=\"token operator\">=</span><span class=\"token string\">\"\"</span> method<span class=\"token operator\">=</span><span class=\"token string\">\"post\"</span><span class=\"token operator\">></span>\n        电话号码：<span class=\"token operator\">&lt;</span>input type<span class=\"token operator\">=</span><span class=\"token string\">\"text\"</span> name<span class=\"token operator\">=</span><span class=\"token string\">\"phone\"</span><span class=\"token operator\">></span>\n        地址：<span class=\"token operator\">&lt;</span>input type<span class=\"token operator\">=</span><span class=\"token string\">\"text\"</span> name<span class=\"token operator\">=</span><span class=\"token string\">\"address\"</span><span class=\"token operator\">></span>\n        <span class=\"token operator\">&lt;</span>input type<span class=\"token operator\">=</span><span class=\"token string\">\"submit\"</span> value<span class=\"token operator\">=</span><span class=\"token string\">\"提交\"</span><span class=\"token operator\">></span>\n    <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>form<span class=\"token operator\">></span>\n\n<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>body<span class=\"token operator\">></span>\n<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>html<span class=\"token operator\">></span>\n<span class=\"token comment\" spellcheck=\"true\"># 4.设置路由地址</span>\nurl<span class=\"token punctuation\">(</span>r<span class=\"token string\">'^sel_info/'</span><span class=\"token punctuation\">,</span> views<span class=\"token punctuation\">.</span>sel_info<span class=\"token punctuation\">)</span>\n</code></pre>\n<h3 id=\"一对多的搜索\"><a href=\"#一对多的搜索\" class=\"headerlink\" title=\"一对多的搜索\"></a>一对多的搜索</h3><pre class=\" language-python\"><code class=\"language-python\"><span class=\"token comment\" spellcheck=\"true\"># 1.创建一个Grade的类</span>\n<span class=\"token keyword\">class</span> <span class=\"token class-name\">Grade</span><span class=\"token punctuation\">(</span>models<span class=\"token punctuation\">.</span>Model<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    g_name <span class=\"token operator\">=</span> models<span class=\"token punctuation\">.</span>CharField<span class=\"token punctuation\">(</span>max_length<span class=\"token operator\">=</span><span class=\"token number\">10</span><span class=\"token punctuation\">,</span> unique<span class=\"token operator\">=</span><span class=\"token boolean\">True</span><span class=\"token punctuation\">)</span>\n\n    <span class=\"token keyword\">class</span> <span class=\"token class-name\">Meat</span><span class=\"token punctuation\">:</span>\n        db_table <span class=\"token operator\">=</span> <span class=\"token string\">'grade'</span>\n<span class=\"token comment\" spellcheck=\"true\"># 2.一个班级有多个学生，所以在学生类中添加主键</span>\n<span class=\"token keyword\">class</span> <span class=\"token class-name\">Student</span><span class=\"token punctuation\">(</span>models<span class=\"token punctuation\">.</span>Model<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    <span class=\"token comment\" spellcheck=\"true\"># 定义s_name字段，varchar类型，最长不超过6字符，唯一</span>\n    s_name <span class=\"token operator\">=</span> models<span class=\"token punctuation\">.</span>CharField<span class=\"token punctuation\">(</span>max_length<span class=\"token operator\">=</span><span class=\"token number\">6</span><span class=\"token punctuation\">,</span> unique<span class=\"token operator\">=</span><span class=\"token boolean\">True</span><span class=\"token punctuation\">)</span>\n    <span class=\"token comment\" spellcheck=\"true\"># 定义s_age字段，int类型</span>\n    s_age <span class=\"token operator\">=</span> models<span class=\"token punctuation\">.</span>IntegerField<span class=\"token punctuation\">(</span>default<span class=\"token operator\">=</span><span class=\"token number\">18</span><span class=\"token punctuation\">)</span>\n    <span class=\"token comment\" spellcheck=\"true\"># 定义s_gender字段，bool型</span>\n    s_gender <span class=\"token operator\">=</span> models<span class=\"token punctuation\">.</span>BooleanField<span class=\"token punctuation\">(</span>default<span class=\"token operator\">=</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span>\n    <span class=\"token comment\" spellcheck=\"true\"># 定义create_time字段，创建时间</span>\n    create_time <span class=\"token operator\">=</span> models<span class=\"token punctuation\">.</span>DateTimeField<span class=\"token punctuation\">(</span>auto_now_add<span class=\"token operator\">=</span><span class=\"token boolean\">True</span><span class=\"token punctuation\">,</span> null<span class=\"token operator\">=</span><span class=\"token boolean\">True</span><span class=\"token punctuation\">)</span>\n    <span class=\"token comment\" spellcheck=\"true\"># 定义operate_time字段，修改时间</span>\n    operate_time <span class=\"token operator\">=</span> models<span class=\"token punctuation\">.</span>DateTimeField<span class=\"token punctuation\">(</span>auto_now<span class=\"token operator\">=</span><span class=\"token boolean\">True</span><span class=\"token punctuation\">,</span> null<span class=\"token operator\">=</span><span class=\"token boolean\">True</span><span class=\"token punctuation\">)</span>\n    <span class=\"token comment\" spellcheck=\"true\"># 定义yuwen字段，语文成绩</span>\n    yuwen <span class=\"token operator\">=</span> models<span class=\"token punctuation\">.</span>DecimalField<span class=\"token punctuation\">(</span>decimal_places<span class=\"token operator\">=</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> max_digits<span class=\"token operator\">=</span><span class=\"token number\">4</span><span class=\"token punctuation\">,</span> null<span class=\"token operator\">=</span><span class=\"token boolean\">True</span><span class=\"token punctuation\">)</span>\n    <span class=\"token comment\" spellcheck=\"true\">#     # 定义math，数学成绩</span>\n    math <span class=\"token operator\">=</span> models<span class=\"token punctuation\">.</span>DecimalField<span class=\"token punctuation\">(</span>decimal_places<span class=\"token operator\">=</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> max_digits<span class=\"token operator\">=</span><span class=\"token number\">4</span><span class=\"token punctuation\">,</span> null<span class=\"token operator\">=</span><span class=\"token boolean\">True</span><span class=\"token punctuation\">)</span>\n\n    grade <span class=\"token operator\">=</span> models<span class=\"token punctuation\">.</span>ForeignKey<span class=\"token punctuation\">(</span>Grade<span class=\"token punctuation\">,</span> null<span class=\"token operator\">=</span><span class=\"token boolean\">True</span><span class=\"token punctuation\">)</span>      <span class=\"token comment\" spellcheck=\"true\">#  添加的主键</span>\n<span class=\"token comment\" spellcheck=\"true\"># 3.创建一个查询的函数</span>\n<span class=\"token keyword\">def</span> <span class=\"token function\">sel_info_by_stu</span><span class=\"token punctuation\">(</span>request<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    <span class=\"token keyword\">if</span> request<span class=\"token punctuation\">.</span>method <span class=\"token operator\">==</span> <span class=\"token string\">'GET'</span><span class=\"token punctuation\">:</span>\n        <span class=\"token comment\" spellcheck=\"true\"># 通过学生查询拓展信息</span>\n        <span class=\"token comment\" spellcheck=\"true\"># 第一种方法</span>\n        stu <span class=\"token operator\">=</span> Student<span class=\"token punctuation\">.</span>objects<span class=\"token punctuation\">.</span>get<span class=\"token punctuation\">(</span>s_name<span class=\"token operator\">=</span><span class=\"token string\">'小明'</span><span class=\"token punctuation\">)</span>\n        info <span class=\"token operator\">=</span> StudentInfo<span class=\"token punctuation\">.</span>objects<span class=\"token punctuation\">.</span>filter<span class=\"token punctuation\">(</span>stu_id<span class=\"token operator\">=</span>stu<span class=\"token punctuation\">.</span>id<span class=\"token punctuation\">)</span>\n        info <span class=\"token operator\">=</span> StudentInfo<span class=\"token punctuation\">.</span>objects<span class=\"token punctuation\">.</span>filter<span class=\"token punctuation\">(</span>stu<span class=\"token operator\">=</span>stu<span class=\"token punctuation\">)</span>\n\n        <span class=\"token comment\" spellcheck=\"true\"># 第二种方法 ,学生对象，关联的模型名的小写（一对多）</span>\n        info <span class=\"token operator\">=</span> stu<span class=\"token punctuation\">.</span>studentinfo\n\n        <span class=\"token keyword\">return</span> HttpResponse<span class=\"token punctuation\">(</span><span class=\"token string\">'通过学生查找拓展表信息'</span><span class=\"token punctuation\">)</span>\n<span class=\"token comment\" spellcheck=\"true\"># 4.创建路由地址</span>\nurl<span class=\"token punctuation\">(</span>r<span class=\"token string\">'^sel_info_by_stu/'</span><span class=\"token punctuation\">,</span> views<span class=\"token punctuation\">.</span>sel_info_by_stu<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n\n<span class=\"token comment\" spellcheck=\"true\"># 5.创建一个通过电话号码查找的函数</span>\n\n<span class=\"token keyword\">def</span> <span class=\"token function\">sel_stu_by_info</span><span class=\"token punctuation\">(</span>request<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    <span class=\"token keyword\">if</span> request<span class=\"token punctuation\">.</span>method <span class=\"token operator\">==</span> <span class=\"token string\">'GET'</span><span class=\"token punctuation\">:</span>\n        <span class=\"token comment\" spellcheck=\"true\"># 知道手机号码，找人</span>\n        info <span class=\"token operator\">=</span> StudentInfo<span class=\"token punctuation\">.</span>objects<span class=\"token punctuation\">.</span>get<span class=\"token punctuation\">(</span>phone<span class=\"token operator\">=</span><span class=\"token string\">'12536524521'</span><span class=\"token punctuation\">)</span>\n        student <span class=\"token operator\">=</span> info<span class=\"token punctuation\">.</span>stu\n        <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>student<span class=\"token punctuation\">)</span>\n        <span class=\"token keyword\">return</span> HttpResponse<span class=\"token punctuation\">(</span><span class=\"token string\">'通过手机号码查找学生信息'</span><span class=\"token punctuation\">)</span>\n\nurl<span class=\"token punctuation\">(</span>r<span class=\"token string\">'^sel_stu_by_info/'</span><span class=\"token punctuation\">,</span> views<span class=\"token punctuation\">.</span>sel_stu_by_info<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n\n<span class=\"token comment\" spellcheck=\"true\"># 6.通过班级查找</span>\n<span class=\"token keyword\">def</span> <span class=\"token function\">add_grade</span><span class=\"token punctuation\">(</span>request<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    <span class=\"token keyword\">if</span> request<span class=\"token punctuation\">.</span>method <span class=\"token operator\">==</span> <span class=\"token string\">'GET'</span><span class=\"token punctuation\">:</span>\n        names <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token string\">'物联网'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'python'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'外语'</span><span class=\"token punctuation\">]</span>\n        <span class=\"token keyword\">for</span> name <span class=\"token keyword\">in</span> names<span class=\"token punctuation\">:</span>\n            Grade<span class=\"token punctuation\">.</span>objects<span class=\"token punctuation\">.</span>create<span class=\"token punctuation\">(</span>g_name<span class=\"token operator\">=</span>name<span class=\"token punctuation\">)</span>\n        <span class=\"token keyword\">return</span> HttpResponse<span class=\"token punctuation\">(</span><span class=\"token string\">'创建班级成功'</span><span class=\"token punctuation\">)</span>\n\n\nurl<span class=\"token punctuation\">(</span>r<span class=\"token string\">'^add_grade/'</span><span class=\"token punctuation\">,</span> views<span class=\"token punctuation\">.</span>add_grade<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n\n\n<span class=\"token keyword\">def</span> <span class=\"token function\">sel_stu_grade</span><span class=\"token punctuation\">(</span>request<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    <span class=\"token keyword\">if</span> request<span class=\"token punctuation\">.</span>method <span class=\"token operator\">==</span> <span class=\"token string\">'GET'</span><span class=\"token punctuation\">:</span>\n        <span class=\"token comment\" spellcheck=\"true\"># 通过学生查找班级</span>\n        stu <span class=\"token operator\">=</span> Student<span class=\"token punctuation\">.</span>objects<span class=\"token punctuation\">.</span>filter<span class=\"token punctuation\">(</span>s_name<span class=\"token operator\">=</span><span class=\"token string\">'小明'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>first<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n        gradec <span class=\"token operator\">=</span> stu<span class=\"token punctuation\">.</span>grade\n        <span class=\"token comment\" spellcheck=\"true\"># 通过班级查找学生</span>\n        grade <span class=\"token operator\">=</span> Grade<span class=\"token punctuation\">.</span>objects<span class=\"token punctuation\">.</span>get<span class=\"token punctuation\">(</span>g_name<span class=\"token operator\">=</span><span class=\"token string\">'物联网'</span><span class=\"token punctuation\">)</span>\n        student <span class=\"token operator\">=</span> grade<span class=\"token punctuation\">.</span>student_set<span class=\"token punctuation\">.</span>filter<span class=\"token punctuation\">(</span>s_gender<span class=\"token operator\">=</span><span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>all<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n        <span class=\"token keyword\">return</span> HttpResponse<span class=\"token punctuation\">(</span><span class=\"token string\">'查询学生和班级信息'</span><span class=\"token punctuation\">)</span>\n\nurl<span class=\"token punctuation\">(</span>r<span class=\"token string\">'^sel_stu_grade/'</span><span class=\"token punctuation\">,</span> views<span class=\"token punctuation\">.</span>sel_stu_grade<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n\n\n</code></pre>\n","site":{"data":{}},"excerpt":"","more":"<h4 id=\"查询表格中的数据（2）：\"><a href=\"#查询表格中的数据（2）：\" class=\"headerlink\" title=\"查询表格中的数据（2）：\"></a>查询表格中的数据（2）：</h4><pre><code class=\"python\">from django.http import HttpResponse\n\n1.或条件（引入函数模块Q）\n# Q(),alt+enter ----- 引入模块的快捷键 ------- from django.db.models import Q, F\nstus = Student.objects.filter(Q(s_age=20) | Q(s_gender=1))\n2.且条件\nstus = Student.objects.filter(Q(s_age=20) &amp; Q(s_gender=1))\n3.非条件\nstus = Student.objects.filter(~Q(s_age=20))\n4.查询表中数据的大小\nstus = Student.objects.filter(字段__gt=F(&#39;另一个字段&#39;))\n5.查询语文比数学多10分的同学\nstus = Student.objects.filter(yuwen__gt=F(&#39;math&#39;) + 10)\n\nstu_names = [stu.s_name for stu in stus]    # 将stus这个字典变成一个生成器，取出每个同学的名字\nreturn HttpResponse(&#39;查询成功&#39;)\n</code></pre>\n<h4 id=\"删除列表中的数据：\"><a href=\"#删除列表中的数据：\" class=\"headerlink\" title=\"删除列表中的数据：\"></a>删除列表中的数据：</h4><pre><code class=\"python\">def del_stu(request):\n    # 实现删除\n    Student.objects.filter(s_name=&#39;旺财&#39;).delete()\n    return HttpResponse(&#39;删除成功&#39;)\n</code></pre>\n<h4 id=\"更新列表中的数据\"><a href=\"#更新列表中的数据\" class=\"headerlink\" title=\"更新列表中的数据\"></a>更新列表中的数据</h4><pre><code class=\"python\">方法一：\ndef update_stu(request)：\n    # 实现更新\n    stu = Student.objects.filter(s_name&#39;旺财&#39;).first()   # 取到的是一个字典，所以可以用first（）或者last（）\n    # Student.objects.get(s_name=&#39;李哥&#39;)    # 从页面上获取s_name，也可以进行数据的更新\n    stu.s_name = &#39;王老五&#39;\n    stu.save()    # 保存更新后的信息\n    return HttpResponse(&#39;修改成功&#39;)      # 返回一个提示语\n\n方法二：\ndef update_stu(request):\n    Student.objects.filter(s_name=&#39;被修改内容&#39;).update(s_name=&#39;修改内容&#39;)\n    return HttpResponse(&#39;修改成功&#39;)\n</code></pre>\n<h3 id=\"在页面上获取所有学生的信息\"><a href=\"#在页面上获取所有学生的信息\" class=\"headerlink\" title=\"在页面上获取所有学生的信息\"></a>在页面上获取所有学生的信息</h3><pre><code class=\"python\">from django.shortcuts import render\n\n# 1.在文件中新建一个Directory,命名为templates，在templates文件中，新建一个HTML文件，就是网页文件名\n# 2.在views.py中创建一个函数\ndef all_stu(request):\n    # 获取所有学生的信息\n    stus = Student.objects.all()\n    # 返回页面\n    return render(request, &#39;页面文件名&#39;, 数据内容)\n\n# 3.页面内容\n\n&lt;!DOCTYPE html&gt;\n&lt;html lang=&quot;en&quot;&gt;\n&lt;head&gt;\n    &lt;meta charset=&quot;UTF-8&quot;&gt;\n    &lt;title&gt;Title&lt;/title&gt;\n&lt;/head&gt;\n&lt;body&gt;\n    &lt;table&gt;\n        &lt;thead&gt;\n        &lt;th&gt;姓名&lt;/th&gt;\n        &lt;th&gt;年龄&lt;/th&gt;\n        &lt;th&gt;数学成绩&lt;/th&gt;\n        &lt;th&gt;语文成绩&lt;/th&gt;\n        &lt;th&gt;操作&lt;/th&gt;\n        &lt;/thead&gt;\n        {% for stu in students %}\n        <tbody>\n            <!--解析变量-->\n            <td>{{ stu.s_name }}</td>\n            <td>{{ stu.s_age }}</td>\n            <td>{{ stu.math }}</td>\n            <td>{{ stu.yuwen }}</td>\n            <td>\n                <a href=\"/add_info/?stu_id={{ stu.id }}\">添加拓展信息</a>\n            </td>\n        </tbody>\n        {% endfor %}\n    &lt;/table&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n# 4.在urls.py文件urlpatterns中添加访问的路由地址\n# url(正则表达式，views.创建的函数名)\nurl(r&#39;^all_stu/&#39;, views.all_stu)\n</code></pre>\n<h3 id=\"一对一的搜索\"><a href=\"#一对一的搜索\" class=\"headerlink\" title=\"一对一的搜索\"></a>一对一的搜索</h3><pre><code class=\"python\"># 1.先创建一个一对一的类\nclass StudentInfo(models.Model):\n    phone = models.CharField(max_length=11, null=True)\n    address = models.CharField(max_length=100)\n    # OneToOneField  指定一对一的关系\n    stu = models.OneToOneField(Student)\n\n    class Meat\n        db_table = &#39;student_info&#39;   # 对这个表格命名\n# 2.创建一个函数\ndef add_info (request):\n    # method 获取请求Http方式\n    if request.method = &#39;GET&#39;:\n        return render(request, &#39;info.html&#39;)\n    if request.method = &#39;POST&#39;:\n        # 获取页面中提交的手机号码和地址，并保存\n        phone = request.POST.get(&#39;phone&#39;)\n        address = request.POST.get(&#39;address&#39;)\n        stu_id = request.GET.get(&#39;stu_id&#39;)\n        # 保存\n        StudentInfo.objects.create(phone=phone, address=address, stu_id=stu_id)\n        return HttpResponse(&#39;创建拓展表成功&#39;)\n# 3.在templates文件中创建一个info的HTML文件\n# 内容：\n&lt;!DOCTYPE html&gt;\n&lt;html lang=&quot;en&quot;&gt;\n&lt;head&gt;\n    &lt;meta charset=&quot;UTF-8&quot;&gt;\n    &lt;title&gt;Title&lt;/title&gt;\n&lt;/head&gt;\n&lt;body&gt;\n    &lt;form action=&quot;&quot; method=&quot;post&quot;&gt;\n        电话号码：&lt;input type=&quot;text&quot; name=&quot;phone&quot;&gt;\n        地址：&lt;input type=&quot;text&quot; name=&quot;address&quot;&gt;\n        &lt;input type=&quot;submit&quot; value=&quot;提交&quot;&gt;\n    &lt;/form&gt;\n\n&lt;/body&gt;\n&lt;/html&gt;\n# 4.设置路由地址\nurl(r&#39;^sel_info/&#39;, views.sel_info)\n</code></pre>\n<h3 id=\"一对多的搜索\"><a href=\"#一对多的搜索\" class=\"headerlink\" title=\"一对多的搜索\"></a>一对多的搜索</h3><pre><code class=\"python\"># 1.创建一个Grade的类\nclass Grade(models.Model):\n    g_name = models.CharField(max_length=10, unique=True)\n\n    class Meat:\n        db_table = &#39;grade&#39;\n# 2.一个班级有多个学生，所以在学生类中添加主键\nclass Student(models.Model):\n    # 定义s_name字段，varchar类型，最长不超过6字符，唯一\n    s_name = models.CharField(max_length=6, unique=True)\n    # 定义s_age字段，int类型\n    s_age = models.IntegerField(default=18)\n    # 定义s_gender字段，bool型\n    s_gender = models.BooleanField(default=1)\n    # 定义create_time字段，创建时间\n    create_time = models.DateTimeField(auto_now_add=True, null=True)\n    # 定义operate_time字段，修改时间\n    operate_time = models.DateTimeField(auto_now=True, null=True)\n    # 定义yuwen字段，语文成绩\n    yuwen = models.DecimalField(decimal_places=1, max_digits=4, null=True)\n    #     # 定义math，数学成绩\n    math = models.DecimalField(decimal_places=1, max_digits=4, null=True)\n\n    grade = models.ForeignKey(Grade, null=True)      #  添加的主键\n# 3.创建一个查询的函数\ndef sel_info_by_stu(request):\n    if request.method == &#39;GET&#39;:\n        # 通过学生查询拓展信息\n        # 第一种方法\n        stu = Student.objects.get(s_name=&#39;小明&#39;)\n        info = StudentInfo.objects.filter(stu_id=stu.id)\n        info = StudentInfo.objects.filter(stu=stu)\n\n        # 第二种方法 ,学生对象，关联的模型名的小写（一对多）\n        info = stu.studentinfo\n\n        return HttpResponse(&#39;通过学生查找拓展表信息&#39;)\n# 4.创建路由地址\nurl(r&#39;^sel_info_by_stu/&#39;, views.sel_info_by_stu),\n\n# 5.创建一个通过电话号码查找的函数\n\ndef sel_stu_by_info(request):\n    if request.method == &#39;GET&#39;:\n        # 知道手机号码，找人\n        info = StudentInfo.objects.get(phone=&#39;12536524521&#39;)\n        student = info.stu\n        print(student)\n        return HttpResponse(&#39;通过手机号码查找学生信息&#39;)\n\nurl(r&#39;^sel_stu_by_info/&#39;, views.sel_stu_by_info),\n\n# 6.通过班级查找\ndef add_grade(request):\n    if request.method == &#39;GET&#39;:\n        names = [&#39;物联网&#39;, &#39;python&#39;, &#39;外语&#39;]\n        for name in names:\n            Grade.objects.create(g_name=name)\n        return HttpResponse(&#39;创建班级成功&#39;)\n\n\nurl(r&#39;^add_grade/&#39;, views.add_grade),\n\n\ndef sel_stu_grade(request):\n    if request.method == &#39;GET&#39;:\n        # 通过学生查找班级\n        stu = Student.objects.filter(s_name=&#39;小明&#39;).first()\n        gradec = stu.grade\n        # 通过班级查找学生\n        grade = Grade.objects.get(g_name=&#39;物联网&#39;)\n        student = grade.student_set.filter(s_gender=0).all()\n        return HttpResponse(&#39;查询学生和班级信息&#39;)\n\nurl(r&#39;^sel_stu_grade/&#39;, views.sel_stu_grade),\n\n\n</code></pre>\n"},{"title":"Hello World","date":"2018-03-14T23:44:14.000Z","author":"smile","_content":"\nWelcome to [Hexo](https://hexo.io/)! This is your very first post. Check [documentation](https://hexo.io/docs/) for more info. If you get any problems when using Hexo, you can find the answer in [troubleshooting](https://hexo.io/docs/troubleshooting.html) or you can ask me on [GitHub](https://github.com/hexojs/hexo/issues).\n\n## Quick Start\n\n### Create a new post\n\n``` zh-\n$ hexo new \"My New Post\"\n```\n\nMore info: [Writing](https://hexo.io/docs/writing.html)\n\n### Run server\n\n``` bash\n$ hexo server\n```\n\nMore info: [Server](https://hexo.io/docs/server.html)\n\n### Generate static files\n\n``` bash\n$ hexo generate\n```\n\nMore info: [Generating](https://hexo.io/docs/generating.html)\n\n### Deploy to remote sites\n\n``` \n$ hexo deploy\n```\n\nMore info: [Deployment](https://hexo.io/docs/deployment.html)\n","source":"_posts/前端/hello-world.md","raw":"---\ntitle: Hello World\ndate: 2018-03-15 07:44:14\nauthor: smile\ncategories: Markdown\ntags: \n  - Hexo\n---\n\nWelcome to [Hexo](https://hexo.io/)! This is your very first post. Check [documentation](https://hexo.io/docs/) for more info. If you get any problems when using Hexo, you can find the answer in [troubleshooting](https://hexo.io/docs/troubleshooting.html) or you can ask me on [GitHub](https://github.com/hexojs/hexo/issues).\n\n## Quick Start\n\n### Create a new post\n\n``` zh-\n$ hexo new \"My New Post\"\n```\n\nMore info: [Writing](https://hexo.io/docs/writing.html)\n\n### Run server\n\n``` bash\n$ hexo server\n```\n\nMore info: [Server](https://hexo.io/docs/server.html)\n\n### Generate static files\n\n``` bash\n$ hexo generate\n```\n\nMore info: [Generating](https://hexo.io/docs/generating.html)\n\n### Deploy to remote sites\n\n``` \n$ hexo deploy\n```\n\nMore info: [Deployment](https://hexo.io/docs/deployment.html)\n","slug":"前端/hello-world","published":1,"updated":"2019-03-14T01:49:49.420Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjt87kqpl004or8r686lt9jxy","content":"<p>Welcome to <a href=\"https://hexo.io/\" target=\"_blank\" rel=\"noopener\">Hexo</a>! This is your very first post. Check <a href=\"https://hexo.io/docs/\" target=\"_blank\" rel=\"noopener\">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href=\"https://hexo.io/docs/troubleshooting.html\" target=\"_blank\" rel=\"noopener\">troubleshooting</a> or you can ask me on <a href=\"https://github.com/hexojs/hexo/issues\" target=\"_blank\" rel=\"noopener\">GitHub</a>.</p>\n<h2 id=\"Quick-Start\"><a href=\"#Quick-Start\" class=\"headerlink\" title=\"Quick Start\"></a>Quick Start</h2><h3 id=\"Create-a-new-post\"><a href=\"#Create-a-new-post\" class=\"headerlink\" title=\"Create a new post\"></a>Create a new post</h3><pre class=\" language-zh-\"><code class=\"language-zh-\">$ hexo new \"My New Post\"\n</code></pre>\n<p>More info: <a href=\"https://hexo.io/docs/writing.html\" target=\"_blank\" rel=\"noopener\">Writing</a></p>\n<h3 id=\"Run-server\"><a href=\"#Run-server\" class=\"headerlink\" title=\"Run server\"></a>Run server</h3><pre class=\" language-bash\"><code class=\"language-bash\">$ hexo server\n</code></pre>\n<p>More info: <a href=\"https://hexo.io/docs/server.html\" target=\"_blank\" rel=\"noopener\">Server</a></p>\n<h3 id=\"Generate-static-files\"><a href=\"#Generate-static-files\" class=\"headerlink\" title=\"Generate static files\"></a>Generate static files</h3><pre class=\" language-bash\"><code class=\"language-bash\">$ hexo generate\n</code></pre>\n<p>More info: <a href=\"https://hexo.io/docs/generating.html\" target=\"_blank\" rel=\"noopener\">Generating</a></p>\n<h3 id=\"Deploy-to-remote-sites\"><a href=\"#Deploy-to-remote-sites\" class=\"headerlink\" title=\"Deploy to remote sites\"></a>Deploy to remote sites</h3><pre><code>$ hexo deploy\n</code></pre><p>More info: <a href=\"https://hexo.io/docs/deployment.html\" target=\"_blank\" rel=\"noopener\">Deployment</a></p>\n","site":{"data":{}},"excerpt":"","more":"<p>Welcome to <a href=\"https://hexo.io/\" target=\"_blank\" rel=\"noopener\">Hexo</a>! This is your very first post. Check <a href=\"https://hexo.io/docs/\" target=\"_blank\" rel=\"noopener\">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href=\"https://hexo.io/docs/troubleshooting.html\" target=\"_blank\" rel=\"noopener\">troubleshooting</a> or you can ask me on <a href=\"https://github.com/hexojs/hexo/issues\" target=\"_blank\" rel=\"noopener\">GitHub</a>.</p>\n<h2 id=\"Quick-Start\"><a href=\"#Quick-Start\" class=\"headerlink\" title=\"Quick Start\"></a>Quick Start</h2><h3 id=\"Create-a-new-post\"><a href=\"#Create-a-new-post\" class=\"headerlink\" title=\"Create a new post\"></a>Create a new post</h3><pre><code class=\"zh-\">$ hexo new &quot;My New Post&quot;\n</code></pre>\n<p>More info: <a href=\"https://hexo.io/docs/writing.html\" target=\"_blank\" rel=\"noopener\">Writing</a></p>\n<h3 id=\"Run-server\"><a href=\"#Run-server\" class=\"headerlink\" title=\"Run server\"></a>Run server</h3><pre><code class=\"bash\">$ hexo server\n</code></pre>\n<p>More info: <a href=\"https://hexo.io/docs/server.html\" target=\"_blank\" rel=\"noopener\">Server</a></p>\n<h3 id=\"Generate-static-files\"><a href=\"#Generate-static-files\" class=\"headerlink\" title=\"Generate static files\"></a>Generate static files</h3><pre><code class=\"bash\">$ hexo generate\n</code></pre>\n<p>More info: <a href=\"https://hexo.io/docs/generating.html\" target=\"_blank\" rel=\"noopener\">Generating</a></p>\n<h3 id=\"Deploy-to-remote-sites\"><a href=\"#Deploy-to-remote-sites\" class=\"headerlink\" title=\"Deploy to remote sites\"></a>Deploy to remote sites</h3><pre><code>$ hexo deploy\n</code></pre><p>More info: <a href=\"https://hexo.io/docs/deployment.html\" target=\"_blank\" rel=\"noopener\">Deployment</a></p>\n"},{"title":"jQuery","date":"2018-03-02T04:07:03.000Z","author":"smile","_content":"\n###  下载jQuery库\n\n```html\n<!--加载本地的jQuery文件适合开发和测试使用-->\n\t\t<script src=\"js/jQuery.min.js\"></script>\n<!--下面的适合商业项目通过CDN服务器来加速获取jQuery的JS文件-->\n\t\t<script src=\" https://cdn.bootcss.com/jquery/3.3.1/jquery.min.js\"></script>\n\t\t\n```\n\n####  example1\n\n```html\n<!DOCTYPE html>\n<html>\n\t<head>\n\t\t<meta charset=\"utf-8\">\n\t\t<title></title>\n\t\t<style>\n\t\t\t* {\n\t\t\t\tmargin: 0;\n\t\t\t\tpadding: 0;\n\t\t\t}\n\t\t\t#container {\n\t\t\t\tmargin: 20px 50px;\n\t\t\t}\n\t\t\t#fruits li {\n\t\t\t\tlist-style: none;\n\t\t\t\twidth: 200px;\n\t\t\t\theight: 50px;\n\t\t\t\tfont-size: 20px;\n\t\t\t\tline-height: 50px;\n\t\t\t\tbackground-color: cadetblue;\n\t\t\t\tcolor: white;\n\t\t\t\ttext-align: center;\n\t\t\t\tmargin: 2px 0;\n\t\t\t}\n\t\t\t#fruits>li>a {\n\t\t\t\tfloat: right;\n\t\t\t\ttext-decoration: none;\n\t\t\t\tcolor: white;\n\t\t\t\tposition: relative;\n\t\t\t\tright: 5px;\n\t\t\t}\n\t\t\t#fruits~input {\n\t\t\t\tborder: none;\n\t\t\t\toutline: none;\n\t\t\t\tfont-size: 18px;\n\t\t\t}\n\t\t\t#fruits~input[type=text] {\n\t\t\t\tborder-bottom: 1px solid darkgray;\n\t\t\t\twidth: 200px;\n\t\t\t\theight: 50px;\n\t\t\t\ttext-align: center;\n\t\t\t}\n\t\t\t#fruits~input[type=button] {\n\t\t\t\twidth: 80px;\n\t\t\t\theight: 30px;\n\t\t\t\tbackground-color: coral;\n\t\t\t\tcolor: white;\n\t\t\t\tvertical-align: bottom;\n\t\t\t\tcursor: pointer;\n\t\t\t}\n\t\t</style>\n\t</head>\n\t<body>\n\t\t<div id=\"container\">\n\t\t\t<ul id=\"fruits\">\n\t\t\t\t<li>苹果<a href=\"javascript:void(0)\">×</a></li>\n\t\t\t\t<li>香蕉<a href=\"javascript:void(0)\">×</a></li>\n\t\t\t\t<li>火龙果<a href=\"javascript:void(0)\">×</a></li>\n\t\t\t\t<li>西瓜<a href=\"javascript:void(0)\">×</a></li>\n\t\t\t</ul>\n\t\t\t<input type=\"text\" name=\"fruit\">\n\t\t\t<input id=\"ok\" type=\"button\" value=\"确定\">\n\t\t</div>\n\t\t<script src=\"js/jQuery.min.js\"></script>\n\t\t<script>\n\t\t\t//  JS是动态语言\n\t\t\t//\n\t\t\t//  jQuery对象的本质是一个伪数组\n\t\t\t//  - 有lenght属性\n\t\t\t//  - 可以通过下标获取数据\n\t\t\t//  $函数的四种用法：\n\t\t\t//  1.$函数的参数是一个函数 - 传入的函数是页面加载完成之后要执行的回调函数\n\t\t\t//  2.$函数的参数是选择器字符串 - 获取页面上的标签而且转成jQuery对象（伪数组）\n\t\t\t//   为什么要获取jQuery对象 - 因为jQuery对象有更多的封装好的方法可供调用\n\t\t\t//  - 绑定/反绑定事件：on()/off()/one()\n\t\t\t//  - 获取/修改标签内容：text（）/html()\n\t\t\t//  - 获取/修改标签属性：attr(name,value)\n\t\t\t//  - 添加子节点：append()/prepend()\n\t\t\t//  - 删除/清空节点：remove()/empty()\n\t\t\t//  - 修改样式表：css()   一个参数表示读样式，两个参数表示修改样式，JSON修改多个样式\n\t\t\t//  - 获取父节点：parent（）\n\t\t\t//  - 获取子节点：children（）\n\t\t\t// - 相邻的上一个兄弟：上一个兄弟prev()/下一个兄弟next()\n\t\t\t//  3.$函数的参数是标签字符串 - 创建标签并且返回对应的jQuery对象\n\t\t\t//  4.$函数的参数是原生JS对象 - 将原生JS对象转成jQuery对象\n\t\t\t//  如何将jQuery对象转换成原生对象  - 如果bar是一个jQuery对象可以通过bar[0] / bar.get(0)\n\t\t\t// $(document).ready(function() {});\n\t\t\t$(function() {\n\t\t\t\tfunction deleteItem(evt) {\n\t\t\t\t\t$(evt.target).parent().remove();\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t$(\"#fruits a\").on(\"click\", deleteItem);\n\t\t\t\t$(\"#ok\").on(\"click\", function() {\n\t\t\t\t\tvar fruitName = $(\"#container input[type=text]\").val().trim();\n\t\t\t\t\tif (fruitName.length > 0) {\n\t\t\t\t\t\t$(\"#fruits\").append(\n\t\t\t\t\t\t\t$(\"<li>\").text(fruitName).append(\n\t\t\t\t\t\t\t\t// attr  创建标签，（属性，属性值）\n\t\t\t\t\t\t\t\t$(\"<a>\").text(\"×\").attr(\"href\",\"javascript:void(0);\")\n\t\t\t\t\t\t\t\t\t.on(\"click\",deleteItem)\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\t\t\t\t});     //  on 绑定/one   绑定只能用一次的按钮/off  反绑定\n\t\t\t});\n\t\t</script>\n\t</body>\n</html>\n\n```\n\n####  example2\n\n```html\n<!DOCTYPE html>\n<html>\n\t<head>\n\t\t<meta charset=\"UTF-8\">\n\t\t<title></title>\n\t\t<style>\n\t\t\t#data {\n\t\t\t\tborder-collapse: collapse;\n\t\t\t}\n\t\t\t#data td, #data th {\n\t\t\t\twidth: 120px;\n\t\t\t\theight: 40px;\n\t\t\t\ttext-align: center;\n\t\t\t\tborder: 1px solid black;\n\t\t\t}\n\t\t\t#buttons {\n\t\t\t\tmargin: 10px 0;\n\t\t\t}\n\t\t</style>\n\t</head>\n\t<body>\n\t\t<div id=\"big\">\n\t\t<table id=\"data\">\n\t\t\t<caption>数据统计表</caption>\n\t\t\t<tr>\n\t\t\t\t<th>姓名</th>\n\t\t\t\t<th>年龄</th>\n\t\t\t\t<th>性别</th>\n\t\t\t\t<th>身高</th>\n\t\t\t\t<th>体重</th>\n\t\t\t</tr>\n\t\t\t<tr>\n\t\t\t\t<td>Item1</td>\n\t\t\t\t<td>Item2</td>\n\t\t\t\t<td>Item3</td>\n\t\t\t\t<td>Item4</td>\n\t\t\t\t<td>Item5</td>\n\t\t\t</tr>\n\t\t\t<tr>\n\t\t\t\t<td>Item1</td>\n\t\t\t\t<td>Item2</td>\n\t\t\t\t<td>Item3</td>\n\t\t\t\t<td>Item4</td>\n\t\t\t\t<td>Item5</td>\n\t\t\t</tr>\n\t\t\t<tr>\n\t\t\t\t<td>Item1</td>\n\t\t\t\t<td>Item2</td>\n\t\t\t\t<td>Item3</td>\n\t\t\t\t<td>Item4</td>\n\t\t\t\t<td>Item5</td>\n\t\t\t</tr>\n\t\t\t<tr>\n\t\t\t\t<td>Item1</td>\n\t\t\t\t<td>Item2</td>\n\t\t\t\t<td>Item3</td>\n\t\t\t\t<td>Item4</td>\n\t\t\t\t<td>Item5</td>\n\t\t\t</tr>\n\t\t\t<tr>\n\t\t\t\t<td>Item1</td>\n\t\t\t\t<td>Item2</td>\n\t\t\t\t<td><a>Item3</a></td>\n\t\t\t\t<td>Item4</td>\n\t\t\t\t<td>Item5</td>\n\t\t\t</tr>\n\t\t\t<tr>\n\t\t\t\t<td>Item1</td>\n\t\t\t\t<td>Item2</td>\n\t\t\t\t<td>Item3</td>\n\t\t\t\t<td>Item4</td>\n\t\t\t\t<td><a>Item5</a></td>\n\t\t\t</tr>\n\t\t</table>\n\t\t</div>\n\t\t<div id=\"buttons\">\n\t\t\t<button id=\"pretty\">美化表格</button>\n\t\t\t<button id=\"clear\">清除数据</button>\n\t\t\t<button id=\"remove\">删单元格</button>\n\t\t\t<button id=\"add\">添加一行</button>\n\t\t\t<button id=\"hide\">隐藏表格</button>\n\t\t</div>\n\t\t\n\t\t\n\t\t<!--加载本地的jQuery文件适合开发和测试使用-->\n\t\t<script src=\"js/jQuery.min.js\"></script>\n\t\t<!--下面的适合商业项目通过CDN服务器来加速获取jQuery的JS文件-->\n\t\t<!--<script src=\"<script src=\"https://cdn.bootcss.com/jquery/3.3.1/jquery.min.js\"></script>\"></script>-->\n\t\t<script>\n\t\t\t$(function() {\n\t\t\t\t// on 绑定事件，off 反绑定事件\n\t\t\t\t$(\"#hide\").on(\"click\", function() {\n\t\t\t\t\t// 根据样式表选择器获取元素，获取到的不是原生的JS对象\n\t\t\t\t\t// 而是京城jQuery封装之后的对象\n\t\t\t\t\t// css 读写样式表\n\t\t\t\t\t$(\"#data\").css(\"visibility\", \"hidden\");\n\t\t\t\t\t// $(\"#data\").hide(2000);  两秒隐藏\n\t\t\t\t});\n\t\t\t\t$(\"#remove\").on(\"click\", function() {\n\t\t\t\t\t$(\"#data tr:gt(0):last-child\").remove();\n\t\t\t\t});\n\t\t\t\t$(\"#clear\").on(\"click\", function() {\n\t\t\t\t\t$(\"#data tr:gt(0)>td\").text(\" \");\n\t\t\t\t});\n\t\t\t\t$(\"#pretty\").on(\"click\", function() {\n\t\t\t\t\t// gt(0) ---- 跳过表头； odd ------ 表示奇数行，从0开始的；even 与 odd 相反\n\t\t\t\t\t$(\"#data tr:gt(0):odd\")\n\t\t\t\t\t\t.css(\"background-color\",\"lightblue\")\n\t\t\t\t\t\t.css(\"font-size\", \"30px\");\n\t\t\t\t\t$(\"#data tr:gt(0):even\").css({\n\t\t\t\t\t\t\"background-color\": \"red\",\n\t\t\t\t\t\t\"font-size\": \"20px\",\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t});\n\t\t</script>\n\t</body>\n</html>\n\n```\n\n####  example-恶意广告\n\n```html\n<!DOCTYPE html>\n<html>\n\t<head>\n\t\t<meta charset=\"UTF-8\">\n\t\t<title></title>\n\t\t<style type=\"text/css\">\n\t\t\t*{\n\t\t\t\tmargin: 0;\n\t\t\t\tpadding: 0;\n\t\t\t}\n\t\t\tdiv{\n\t\t\t\twidth: 200px;\n\t\t\t\theight: 200px;\n\t\t\t\tcolor: red;\n\t\t\t\tbackground-color:cornflowerblue ;\n\t\t\t\tposition: fixed;\n\t\t\t\tright: 10px;\n\t\t\t\ttop: 10px;\n\t\t\t}\n\t\t\t#closeBtn{\n\t\t\t\t/*固定定位*/\n\t\t\t\tposition: fixed;\n\t\t\t\tright: 9px;\n\t\t\t}\n\t\t\ta {\n\t\t\t\tposition: relative;\n\t\t\t\ttop: 50px;\n\t\t\t}\n\t\t</style>\n\t</head>\n\t<body>\n\t\t<div id=\"adv\">\n\t\t\t恶意广告\n\t\t\t<button id=\"closeBtn\">关闭</button>\n\t\t</div>\n\t\t<script>\n\t\t\t+function () {\n\t\t\t\tvar advDiv = document.querySelector(\"#adv\");\n\t\t\t\tvar button = document.querySelector(\"#adv button\");\n\t\t\t\tvar counter = 0;\n\t\t\t\tbutton.addEventListener(\"click\", function() {\n\t\t\t\t\tcounter += 1;\n\t\t\t\t\tif (counter < 5) {\n\t\t\t\t\t\t// 读取样式,先获取样式，然后更改样式\n\t\t\t\t\t\tvar currentStyle = \n\t\t\t\t\t\t\tdocument.defaultView.getComputedStyle(advDiv);\n\t\t\t\t\t\tvar newTop = parseInt(currentStyle.top) + 50;\n\t\t\t\t\t\tvar newWidth = parseInt(currentStyle.width) + 100;\n\t\t\t\t\t\tvar newHeight = parseInt(currentStyle.height) + 100;\n\t\t\t\t\t\tadvDiv.style.width = newWidth + \"px\";\n\t\t\t\t\t\tadvDiv.style.height = newHeight + \"px\";\n\t\t\t\t\t\tadvDiv.style.top = newTop + \"px\";\n\t\t\t\t\t} else {\n\t\t\t\t\t\t// 写样式\n\t\t\t\t\t\tadvDiv.style.display = \"none\";\n\t\t\t\t\t};\n\t\t\t\t});\n\t\t\t}();\n\t\t</script>\n\t</body>\n</html>\n\n\n```\n\n\n\n","source":"_posts/前端/jQuery.md","raw":"---\ntitle: jQuery\ndate: 2018-03-02 12:07:03\nauthor: smile\ncategories: 前端\ntags:\n  - jQuery\n---\n\n###  下载jQuery库\n\n```html\n<!--加载本地的jQuery文件适合开发和测试使用-->\n\t\t<script src=\"js/jQuery.min.js\"></script>\n<!--下面的适合商业项目通过CDN服务器来加速获取jQuery的JS文件-->\n\t\t<script src=\" https://cdn.bootcss.com/jquery/3.3.1/jquery.min.js\"></script>\n\t\t\n```\n\n####  example1\n\n```html\n<!DOCTYPE html>\n<html>\n\t<head>\n\t\t<meta charset=\"utf-8\">\n\t\t<title></title>\n\t\t<style>\n\t\t\t* {\n\t\t\t\tmargin: 0;\n\t\t\t\tpadding: 0;\n\t\t\t}\n\t\t\t#container {\n\t\t\t\tmargin: 20px 50px;\n\t\t\t}\n\t\t\t#fruits li {\n\t\t\t\tlist-style: none;\n\t\t\t\twidth: 200px;\n\t\t\t\theight: 50px;\n\t\t\t\tfont-size: 20px;\n\t\t\t\tline-height: 50px;\n\t\t\t\tbackground-color: cadetblue;\n\t\t\t\tcolor: white;\n\t\t\t\ttext-align: center;\n\t\t\t\tmargin: 2px 0;\n\t\t\t}\n\t\t\t#fruits>li>a {\n\t\t\t\tfloat: right;\n\t\t\t\ttext-decoration: none;\n\t\t\t\tcolor: white;\n\t\t\t\tposition: relative;\n\t\t\t\tright: 5px;\n\t\t\t}\n\t\t\t#fruits~input {\n\t\t\t\tborder: none;\n\t\t\t\toutline: none;\n\t\t\t\tfont-size: 18px;\n\t\t\t}\n\t\t\t#fruits~input[type=text] {\n\t\t\t\tborder-bottom: 1px solid darkgray;\n\t\t\t\twidth: 200px;\n\t\t\t\theight: 50px;\n\t\t\t\ttext-align: center;\n\t\t\t}\n\t\t\t#fruits~input[type=button] {\n\t\t\t\twidth: 80px;\n\t\t\t\theight: 30px;\n\t\t\t\tbackground-color: coral;\n\t\t\t\tcolor: white;\n\t\t\t\tvertical-align: bottom;\n\t\t\t\tcursor: pointer;\n\t\t\t}\n\t\t</style>\n\t</head>\n\t<body>\n\t\t<div id=\"container\">\n\t\t\t<ul id=\"fruits\">\n\t\t\t\t<li>苹果<a href=\"javascript:void(0)\">×</a></li>\n\t\t\t\t<li>香蕉<a href=\"javascript:void(0)\">×</a></li>\n\t\t\t\t<li>火龙果<a href=\"javascript:void(0)\">×</a></li>\n\t\t\t\t<li>西瓜<a href=\"javascript:void(0)\">×</a></li>\n\t\t\t</ul>\n\t\t\t<input type=\"text\" name=\"fruit\">\n\t\t\t<input id=\"ok\" type=\"button\" value=\"确定\">\n\t\t</div>\n\t\t<script src=\"js/jQuery.min.js\"></script>\n\t\t<script>\n\t\t\t//  JS是动态语言\n\t\t\t//\n\t\t\t//  jQuery对象的本质是一个伪数组\n\t\t\t//  - 有lenght属性\n\t\t\t//  - 可以通过下标获取数据\n\t\t\t//  $函数的四种用法：\n\t\t\t//  1.$函数的参数是一个函数 - 传入的函数是页面加载完成之后要执行的回调函数\n\t\t\t//  2.$函数的参数是选择器字符串 - 获取页面上的标签而且转成jQuery对象（伪数组）\n\t\t\t//   为什么要获取jQuery对象 - 因为jQuery对象有更多的封装好的方法可供调用\n\t\t\t//  - 绑定/反绑定事件：on()/off()/one()\n\t\t\t//  - 获取/修改标签内容：text（）/html()\n\t\t\t//  - 获取/修改标签属性：attr(name,value)\n\t\t\t//  - 添加子节点：append()/prepend()\n\t\t\t//  - 删除/清空节点：remove()/empty()\n\t\t\t//  - 修改样式表：css()   一个参数表示读样式，两个参数表示修改样式，JSON修改多个样式\n\t\t\t//  - 获取父节点：parent（）\n\t\t\t//  - 获取子节点：children（）\n\t\t\t// - 相邻的上一个兄弟：上一个兄弟prev()/下一个兄弟next()\n\t\t\t//  3.$函数的参数是标签字符串 - 创建标签并且返回对应的jQuery对象\n\t\t\t//  4.$函数的参数是原生JS对象 - 将原生JS对象转成jQuery对象\n\t\t\t//  如何将jQuery对象转换成原生对象  - 如果bar是一个jQuery对象可以通过bar[0] / bar.get(0)\n\t\t\t// $(document).ready(function() {});\n\t\t\t$(function() {\n\t\t\t\tfunction deleteItem(evt) {\n\t\t\t\t\t$(evt.target).parent().remove();\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t$(\"#fruits a\").on(\"click\", deleteItem);\n\t\t\t\t$(\"#ok\").on(\"click\", function() {\n\t\t\t\t\tvar fruitName = $(\"#container input[type=text]\").val().trim();\n\t\t\t\t\tif (fruitName.length > 0) {\n\t\t\t\t\t\t$(\"#fruits\").append(\n\t\t\t\t\t\t\t$(\"<li>\").text(fruitName).append(\n\t\t\t\t\t\t\t\t// attr  创建标签，（属性，属性值）\n\t\t\t\t\t\t\t\t$(\"<a>\").text(\"×\").attr(\"href\",\"javascript:void(0);\")\n\t\t\t\t\t\t\t\t\t.on(\"click\",deleteItem)\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\t\t\t\t});     //  on 绑定/one   绑定只能用一次的按钮/off  反绑定\n\t\t\t});\n\t\t</script>\n\t</body>\n</html>\n\n```\n\n####  example2\n\n```html\n<!DOCTYPE html>\n<html>\n\t<head>\n\t\t<meta charset=\"UTF-8\">\n\t\t<title></title>\n\t\t<style>\n\t\t\t#data {\n\t\t\t\tborder-collapse: collapse;\n\t\t\t}\n\t\t\t#data td, #data th {\n\t\t\t\twidth: 120px;\n\t\t\t\theight: 40px;\n\t\t\t\ttext-align: center;\n\t\t\t\tborder: 1px solid black;\n\t\t\t}\n\t\t\t#buttons {\n\t\t\t\tmargin: 10px 0;\n\t\t\t}\n\t\t</style>\n\t</head>\n\t<body>\n\t\t<div id=\"big\">\n\t\t<table id=\"data\">\n\t\t\t<caption>数据统计表</caption>\n\t\t\t<tr>\n\t\t\t\t<th>姓名</th>\n\t\t\t\t<th>年龄</th>\n\t\t\t\t<th>性别</th>\n\t\t\t\t<th>身高</th>\n\t\t\t\t<th>体重</th>\n\t\t\t</tr>\n\t\t\t<tr>\n\t\t\t\t<td>Item1</td>\n\t\t\t\t<td>Item2</td>\n\t\t\t\t<td>Item3</td>\n\t\t\t\t<td>Item4</td>\n\t\t\t\t<td>Item5</td>\n\t\t\t</tr>\n\t\t\t<tr>\n\t\t\t\t<td>Item1</td>\n\t\t\t\t<td>Item2</td>\n\t\t\t\t<td>Item3</td>\n\t\t\t\t<td>Item4</td>\n\t\t\t\t<td>Item5</td>\n\t\t\t</tr>\n\t\t\t<tr>\n\t\t\t\t<td>Item1</td>\n\t\t\t\t<td>Item2</td>\n\t\t\t\t<td>Item3</td>\n\t\t\t\t<td>Item4</td>\n\t\t\t\t<td>Item5</td>\n\t\t\t</tr>\n\t\t\t<tr>\n\t\t\t\t<td>Item1</td>\n\t\t\t\t<td>Item2</td>\n\t\t\t\t<td>Item3</td>\n\t\t\t\t<td>Item4</td>\n\t\t\t\t<td>Item5</td>\n\t\t\t</tr>\n\t\t\t<tr>\n\t\t\t\t<td>Item1</td>\n\t\t\t\t<td>Item2</td>\n\t\t\t\t<td><a>Item3</a></td>\n\t\t\t\t<td>Item4</td>\n\t\t\t\t<td>Item5</td>\n\t\t\t</tr>\n\t\t\t<tr>\n\t\t\t\t<td>Item1</td>\n\t\t\t\t<td>Item2</td>\n\t\t\t\t<td>Item3</td>\n\t\t\t\t<td>Item4</td>\n\t\t\t\t<td><a>Item5</a></td>\n\t\t\t</tr>\n\t\t</table>\n\t\t</div>\n\t\t<div id=\"buttons\">\n\t\t\t<button id=\"pretty\">美化表格</button>\n\t\t\t<button id=\"clear\">清除数据</button>\n\t\t\t<button id=\"remove\">删单元格</button>\n\t\t\t<button id=\"add\">添加一行</button>\n\t\t\t<button id=\"hide\">隐藏表格</button>\n\t\t</div>\n\t\t\n\t\t\n\t\t<!--加载本地的jQuery文件适合开发和测试使用-->\n\t\t<script src=\"js/jQuery.min.js\"></script>\n\t\t<!--下面的适合商业项目通过CDN服务器来加速获取jQuery的JS文件-->\n\t\t<!--<script src=\"<script src=\"https://cdn.bootcss.com/jquery/3.3.1/jquery.min.js\"></script>\"></script>-->\n\t\t<script>\n\t\t\t$(function() {\n\t\t\t\t// on 绑定事件，off 反绑定事件\n\t\t\t\t$(\"#hide\").on(\"click\", function() {\n\t\t\t\t\t// 根据样式表选择器获取元素，获取到的不是原生的JS对象\n\t\t\t\t\t// 而是京城jQuery封装之后的对象\n\t\t\t\t\t// css 读写样式表\n\t\t\t\t\t$(\"#data\").css(\"visibility\", \"hidden\");\n\t\t\t\t\t// $(\"#data\").hide(2000);  两秒隐藏\n\t\t\t\t});\n\t\t\t\t$(\"#remove\").on(\"click\", function() {\n\t\t\t\t\t$(\"#data tr:gt(0):last-child\").remove();\n\t\t\t\t});\n\t\t\t\t$(\"#clear\").on(\"click\", function() {\n\t\t\t\t\t$(\"#data tr:gt(0)>td\").text(\" \");\n\t\t\t\t});\n\t\t\t\t$(\"#pretty\").on(\"click\", function() {\n\t\t\t\t\t// gt(0) ---- 跳过表头； odd ------ 表示奇数行，从0开始的；even 与 odd 相反\n\t\t\t\t\t$(\"#data tr:gt(0):odd\")\n\t\t\t\t\t\t.css(\"background-color\",\"lightblue\")\n\t\t\t\t\t\t.css(\"font-size\", \"30px\");\n\t\t\t\t\t$(\"#data tr:gt(0):even\").css({\n\t\t\t\t\t\t\"background-color\": \"red\",\n\t\t\t\t\t\t\"font-size\": \"20px\",\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t});\n\t\t</script>\n\t</body>\n</html>\n\n```\n\n####  example-恶意广告\n\n```html\n<!DOCTYPE html>\n<html>\n\t<head>\n\t\t<meta charset=\"UTF-8\">\n\t\t<title></title>\n\t\t<style type=\"text/css\">\n\t\t\t*{\n\t\t\t\tmargin: 0;\n\t\t\t\tpadding: 0;\n\t\t\t}\n\t\t\tdiv{\n\t\t\t\twidth: 200px;\n\t\t\t\theight: 200px;\n\t\t\t\tcolor: red;\n\t\t\t\tbackground-color:cornflowerblue ;\n\t\t\t\tposition: fixed;\n\t\t\t\tright: 10px;\n\t\t\t\ttop: 10px;\n\t\t\t}\n\t\t\t#closeBtn{\n\t\t\t\t/*固定定位*/\n\t\t\t\tposition: fixed;\n\t\t\t\tright: 9px;\n\t\t\t}\n\t\t\ta {\n\t\t\t\tposition: relative;\n\t\t\t\ttop: 50px;\n\t\t\t}\n\t\t</style>\n\t</head>\n\t<body>\n\t\t<div id=\"adv\">\n\t\t\t恶意广告\n\t\t\t<button id=\"closeBtn\">关闭</button>\n\t\t</div>\n\t\t<script>\n\t\t\t+function () {\n\t\t\t\tvar advDiv = document.querySelector(\"#adv\");\n\t\t\t\tvar button = document.querySelector(\"#adv button\");\n\t\t\t\tvar counter = 0;\n\t\t\t\tbutton.addEventListener(\"click\", function() {\n\t\t\t\t\tcounter += 1;\n\t\t\t\t\tif (counter < 5) {\n\t\t\t\t\t\t// 读取样式,先获取样式，然后更改样式\n\t\t\t\t\t\tvar currentStyle = \n\t\t\t\t\t\t\tdocument.defaultView.getComputedStyle(advDiv);\n\t\t\t\t\t\tvar newTop = parseInt(currentStyle.top) + 50;\n\t\t\t\t\t\tvar newWidth = parseInt(currentStyle.width) + 100;\n\t\t\t\t\t\tvar newHeight = parseInt(currentStyle.height) + 100;\n\t\t\t\t\t\tadvDiv.style.width = newWidth + \"px\";\n\t\t\t\t\t\tadvDiv.style.height = newHeight + \"px\";\n\t\t\t\t\t\tadvDiv.style.top = newTop + \"px\";\n\t\t\t\t\t} else {\n\t\t\t\t\t\t// 写样式\n\t\t\t\t\t\tadvDiv.style.display = \"none\";\n\t\t\t\t\t};\n\t\t\t\t});\n\t\t\t}();\n\t\t</script>\n\t</body>\n</html>\n\n\n```\n\n\n\n","slug":"前端/jQuery","published":1,"updated":"2019-03-14T01:48:44.175Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjt87kqpt004sr8r6gnm0av07","content":"<h3 id=\"下载jQuery库\"><a href=\"#下载jQuery库\" class=\"headerlink\" title=\"下载jQuery库\"></a>下载jQuery库</h3><pre class=\" language-html\"><code class=\"language-html\"><span class=\"token comment\" spellcheck=\"true\">&lt;!--加载本地的jQuery文件适合开发和测试使用--></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>script</span> <span class=\"token attr-name\">src</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>js/jQuery.min.js<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token script language-javascript\"></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>script</span><span class=\"token punctuation\">></span></span>\n<span class=\"token comment\" spellcheck=\"true\">&lt;!--下面的适合商业项目通过CDN服务器来加速获取jQuery的JS文件--></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>script</span> <span class=\"token attr-name\">src</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span> https://cdn.bootcss.com/jquery/3.3.1/jquery.min.js<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token script language-javascript\"></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>script</span><span class=\"token punctuation\">></span></span>\n\n</code></pre>\n<h4 id=\"example1\"><a href=\"#example1\" class=\"headerlink\" title=\"example1\"></a>example1</h4><pre class=\" language-html\"><code class=\"language-html\"><span class=\"token doctype\">&lt;!DOCTYPE html></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>html</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>head</span><span class=\"token punctuation\">></span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>meta</span> <span class=\"token attr-name\">charset</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>utf-8<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>title</span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>title</span><span class=\"token punctuation\">></span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>style</span><span class=\"token punctuation\">></span></span><span class=\"token style language-css\">\n            <span class=\"token selector\">* </span><span class=\"token punctuation\">{</span>\n                <span class=\"token property\">margin</span><span class=\"token punctuation\">:</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span>\n                <span class=\"token property\">padding</span><span class=\"token punctuation\">:</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span>\n            <span class=\"token punctuation\">}</span>\n            <span class=\"token selector\"><span class=\"token id\">#container</span> </span><span class=\"token punctuation\">{</span>\n                <span class=\"token property\">margin</span><span class=\"token punctuation\">:</span> <span class=\"token number\">20</span>px <span class=\"token number\">50</span>px<span class=\"token punctuation\">;</span>\n            <span class=\"token punctuation\">}</span>\n            <span class=\"token selector\"><span class=\"token id\">#fruits</span> li </span><span class=\"token punctuation\">{</span>\n                <span class=\"token property\">list-style</span><span class=\"token punctuation\">:</span> none<span class=\"token punctuation\">;</span>\n                <span class=\"token property\">width</span><span class=\"token punctuation\">:</span> <span class=\"token number\">200</span>px<span class=\"token punctuation\">;</span>\n                <span class=\"token property\">height</span><span class=\"token punctuation\">:</span> <span class=\"token number\">50</span>px<span class=\"token punctuation\">;</span>\n                <span class=\"token property\">font-size</span><span class=\"token punctuation\">:</span> <span class=\"token number\">20</span>px<span class=\"token punctuation\">;</span>\n                <span class=\"token property\">line-height</span><span class=\"token punctuation\">:</span> <span class=\"token number\">50</span>px<span class=\"token punctuation\">;</span>\n                <span class=\"token property\">background-color</span><span class=\"token punctuation\">:</span> cadetblue<span class=\"token punctuation\">;</span>\n                <span class=\"token property\">color</span><span class=\"token punctuation\">:</span> white<span class=\"token punctuation\">;</span>\n                <span class=\"token property\">text-align</span><span class=\"token punctuation\">:</span> center<span class=\"token punctuation\">;</span>\n                <span class=\"token property\">margin</span><span class=\"token punctuation\">:</span> <span class=\"token number\">2</span>px <span class=\"token number\">0</span><span class=\"token punctuation\">;</span>\n            <span class=\"token punctuation\">}</span>\n            <span class=\"token selector\"><span class=\"token id\">#fruits</span>>li>a </span><span class=\"token punctuation\">{</span>\n                <span class=\"token property\">float</span><span class=\"token punctuation\">:</span> right<span class=\"token punctuation\">;</span>\n                <span class=\"token property\">text-decoration</span><span class=\"token punctuation\">:</span> none<span class=\"token punctuation\">;</span>\n                <span class=\"token property\">color</span><span class=\"token punctuation\">:</span> white<span class=\"token punctuation\">;</span>\n                <span class=\"token property\">position</span><span class=\"token punctuation\">:</span> relative<span class=\"token punctuation\">;</span>\n                <span class=\"token property\">right</span><span class=\"token punctuation\">:</span> <span class=\"token number\">5</span>px<span class=\"token punctuation\">;</span>\n            <span class=\"token punctuation\">}</span>\n            <span class=\"token selector\"><span class=\"token id\">#fruits</span>~input </span><span class=\"token punctuation\">{</span>\n                <span class=\"token property\">border</span><span class=\"token punctuation\">:</span> none<span class=\"token punctuation\">;</span>\n                <span class=\"token property\">outline</span><span class=\"token punctuation\">:</span> none<span class=\"token punctuation\">;</span>\n                <span class=\"token property\">font-size</span><span class=\"token punctuation\">:</span> <span class=\"token number\">18</span>px<span class=\"token punctuation\">;</span>\n            <span class=\"token punctuation\">}</span>\n            <span class=\"token selector\"><span class=\"token id\">#fruits</span>~input<span class=\"token attribute\">[type=text]</span> </span><span class=\"token punctuation\">{</span>\n                <span class=\"token property\">border-bottom</span><span class=\"token punctuation\">:</span> <span class=\"token number\">1</span>px solid darkgray<span class=\"token punctuation\">;</span>\n                <span class=\"token property\">width</span><span class=\"token punctuation\">:</span> <span class=\"token number\">200</span>px<span class=\"token punctuation\">;</span>\n                <span class=\"token property\">height</span><span class=\"token punctuation\">:</span> <span class=\"token number\">50</span>px<span class=\"token punctuation\">;</span>\n                <span class=\"token property\">text-align</span><span class=\"token punctuation\">:</span> center<span class=\"token punctuation\">;</span>\n            <span class=\"token punctuation\">}</span>\n            <span class=\"token selector\"><span class=\"token id\">#fruits</span>~input<span class=\"token attribute\">[type=button]</span> </span><span class=\"token punctuation\">{</span>\n                <span class=\"token property\">width</span><span class=\"token punctuation\">:</span> <span class=\"token number\">80</span>px<span class=\"token punctuation\">;</span>\n                <span class=\"token property\">height</span><span class=\"token punctuation\">:</span> <span class=\"token number\">30</span>px<span class=\"token punctuation\">;</span>\n                <span class=\"token property\">background-color</span><span class=\"token punctuation\">:</span> coral<span class=\"token punctuation\">;</span>\n                <span class=\"token property\">color</span><span class=\"token punctuation\">:</span> white<span class=\"token punctuation\">;</span>\n                <span class=\"token property\">vertical-align</span><span class=\"token punctuation\">:</span> bottom<span class=\"token punctuation\">;</span>\n                <span class=\"token property\">cursor</span><span class=\"token punctuation\">:</span> pointer<span class=\"token punctuation\">;</span>\n            <span class=\"token punctuation\">}</span>\n        </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>style</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>head</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>body</span><span class=\"token punctuation\">></span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">id</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>container<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n            <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>ul</span> <span class=\"token attr-name\">id</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>fruits<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n                <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>li</span><span class=\"token punctuation\">></span></span>苹果<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>a</span> <span class=\"token attr-name\">href</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>javascript:void(0)<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>×<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>a</span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>li</span><span class=\"token punctuation\">></span></span>\n                <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>li</span><span class=\"token punctuation\">></span></span>香蕉<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>a</span> <span class=\"token attr-name\">href</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>javascript:void(0)<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>×<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>a</span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>li</span><span class=\"token punctuation\">></span></span>\n                <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>li</span><span class=\"token punctuation\">></span></span>火龙果<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>a</span> <span class=\"token attr-name\">href</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>javascript:void(0)<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>×<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>a</span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>li</span><span class=\"token punctuation\">></span></span>\n                <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>li</span><span class=\"token punctuation\">></span></span>西瓜<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>a</span> <span class=\"token attr-name\">href</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>javascript:void(0)<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>×<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>a</span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>li</span><span class=\"token punctuation\">></span></span>\n            <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>ul</span><span class=\"token punctuation\">></span></span>\n            <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>input</span> <span class=\"token attr-name\">type</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>text<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">name</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>fruit<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n            <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>input</span> <span class=\"token attr-name\">id</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>ok<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">type</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>button<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">value</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>确定<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>script</span> <span class=\"token attr-name\">src</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>js/jQuery.min.js<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token script language-javascript\"></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>script</span><span class=\"token punctuation\">></span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>script</span><span class=\"token punctuation\">></span></span><span class=\"token script language-javascript\">\n            <span class=\"token comment\" spellcheck=\"true\">//  JS是动态语言</span>\n            <span class=\"token comment\" spellcheck=\"true\">//</span>\n            <span class=\"token comment\" spellcheck=\"true\">//  jQuery对象的本质是一个伪数组</span>\n            <span class=\"token comment\" spellcheck=\"true\">//  - 有lenght属性</span>\n            <span class=\"token comment\" spellcheck=\"true\">//  - 可以通过下标获取数据</span>\n            <span class=\"token comment\" spellcheck=\"true\">//  $函数的四种用法：</span>\n            <span class=\"token comment\" spellcheck=\"true\">//  1.$函数的参数是一个函数 - 传入的函数是页面加载完成之后要执行的回调函数</span>\n            <span class=\"token comment\" spellcheck=\"true\">//  2.$函数的参数是选择器字符串 - 获取页面上的标签而且转成jQuery对象（伪数组）</span>\n            <span class=\"token comment\" spellcheck=\"true\">//   为什么要获取jQuery对象 - 因为jQuery对象有更多的封装好的方法可供调用</span>\n            <span class=\"token comment\" spellcheck=\"true\">//  - 绑定/反绑定事件：on()/off()/one()</span>\n            <span class=\"token comment\" spellcheck=\"true\">//  - 获取/修改标签内容：text（）/html()</span>\n            <span class=\"token comment\" spellcheck=\"true\">//  - 获取/修改标签属性：attr(name,value)</span>\n            <span class=\"token comment\" spellcheck=\"true\">//  - 添加子节点：append()/prepend()</span>\n            <span class=\"token comment\" spellcheck=\"true\">//  - 删除/清空节点：remove()/empty()</span>\n            <span class=\"token comment\" spellcheck=\"true\">//  - 修改样式表：css()   一个参数表示读样式，两个参数表示修改样式，JSON修改多个样式</span>\n            <span class=\"token comment\" spellcheck=\"true\">//  - 获取父节点：parent（）</span>\n            <span class=\"token comment\" spellcheck=\"true\">//  - 获取子节点：children（）</span>\n            <span class=\"token comment\" spellcheck=\"true\">// - 相邻的上一个兄弟：上一个兄弟prev()/下一个兄弟next()</span>\n            <span class=\"token comment\" spellcheck=\"true\">//  3.$函数的参数是标签字符串 - 创建标签并且返回对应的jQuery对象</span>\n            <span class=\"token comment\" spellcheck=\"true\">//  4.$函数的参数是原生JS对象 - 将原生JS对象转成jQuery对象</span>\n            <span class=\"token comment\" spellcheck=\"true\">//  如何将jQuery对象转换成原生对象  - 如果bar是一个jQuery对象可以通过bar[0] / bar.get(0)</span>\n            <span class=\"token comment\" spellcheck=\"true\">// $(document).ready(function() {});</span>\n            <span class=\"token function\">$</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n                <span class=\"token keyword\">function</span> <span class=\"token function\">deleteItem</span><span class=\"token punctuation\">(</span>evt<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n                    <span class=\"token function\">$</span><span class=\"token punctuation\">(</span>evt<span class=\"token punctuation\">.</span>target<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">parent</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">remove</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                <span class=\"token punctuation\">}</span>\n\n                <span class=\"token function\">$</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"#fruits a\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">on</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"click\"</span><span class=\"token punctuation\">,</span> deleteItem<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                <span class=\"token function\">$</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"#ok\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">on</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"click\"</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n                    <span class=\"token keyword\">var</span> fruitName <span class=\"token operator\">=</span> <span class=\"token function\">$</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"#container input[type=text]\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">val</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">trim</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>fruitName<span class=\"token punctuation\">.</span>length <span class=\"token operator\">></span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n                        <span class=\"token function\">$</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"#fruits\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">append</span><span class=\"token punctuation\">(</span>\n                            <span class=\"token function\">$</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"&lt;li>\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">text</span><span class=\"token punctuation\">(</span>fruitName<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">append</span><span class=\"token punctuation\">(</span>\n                                <span class=\"token comment\" spellcheck=\"true\">// attr  创建标签，（属性，属性值）</span>\n                                <span class=\"token function\">$</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"&lt;a>\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">text</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"×\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">attr</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"href\"</span><span class=\"token punctuation\">,</span><span class=\"token string\">\"javascript:void(0);\"</span><span class=\"token punctuation\">)</span>\n                                    <span class=\"token punctuation\">.</span><span class=\"token function\">on</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"click\"</span><span class=\"token punctuation\">,</span>deleteItem<span class=\"token punctuation\">)</span>\n                            <span class=\"token punctuation\">)</span>\n                        <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                    <span class=\"token punctuation\">}</span>\n                <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>     <span class=\"token comment\" spellcheck=\"true\">//  on 绑定/one   绑定只能用一次的按钮/off  反绑定</span>\n            <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>script</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>body</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>html</span><span class=\"token punctuation\">></span></span>\n\n</code></pre>\n<h4 id=\"example2\"><a href=\"#example2\" class=\"headerlink\" title=\"example2\"></a>example2</h4><pre class=\" language-html\"><code class=\"language-html\"><span class=\"token doctype\">&lt;!DOCTYPE html></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>html</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>head</span><span class=\"token punctuation\">></span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>meta</span> <span class=\"token attr-name\">charset</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>UTF-8<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>title</span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>title</span><span class=\"token punctuation\">></span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>style</span><span class=\"token punctuation\">></span></span><span class=\"token style language-css\">\n            <span class=\"token selector\"><span class=\"token id\">#data</span> </span><span class=\"token punctuation\">{</span>\n                <span class=\"token property\">border-collapse</span><span class=\"token punctuation\">:</span> collapse<span class=\"token punctuation\">;</span>\n            <span class=\"token punctuation\">}</span>\n            <span class=\"token selector\"><span class=\"token id\">#data</span> td, <span class=\"token id\">#data</span> th </span><span class=\"token punctuation\">{</span>\n                <span class=\"token property\">width</span><span class=\"token punctuation\">:</span> <span class=\"token number\">120</span>px<span class=\"token punctuation\">;</span>\n                <span class=\"token property\">height</span><span class=\"token punctuation\">:</span> <span class=\"token number\">40</span>px<span class=\"token punctuation\">;</span>\n                <span class=\"token property\">text-align</span><span class=\"token punctuation\">:</span> center<span class=\"token punctuation\">;</span>\n                <span class=\"token property\">border</span><span class=\"token punctuation\">:</span> <span class=\"token number\">1</span>px solid black<span class=\"token punctuation\">;</span>\n            <span class=\"token punctuation\">}</span>\n            <span class=\"token selector\"><span class=\"token id\">#buttons</span> </span><span class=\"token punctuation\">{</span>\n                <span class=\"token property\">margin</span><span class=\"token punctuation\">:</span> <span class=\"token number\">10</span>px <span class=\"token number\">0</span><span class=\"token punctuation\">;</span>\n            <span class=\"token punctuation\">}</span>\n        </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>style</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>head</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>body</span><span class=\"token punctuation\">></span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">id</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>big<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>table</span> <span class=\"token attr-name\">id</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>data<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n            <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>caption</span><span class=\"token punctuation\">></span></span>数据统计表<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>caption</span><span class=\"token punctuation\">></span></span>\n            <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>tr</span><span class=\"token punctuation\">></span></span>\n                <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>th</span><span class=\"token punctuation\">></span></span>姓名<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>th</span><span class=\"token punctuation\">></span></span>\n                <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>th</span><span class=\"token punctuation\">></span></span>年龄<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>th</span><span class=\"token punctuation\">></span></span>\n                <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>th</span><span class=\"token punctuation\">></span></span>性别<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>th</span><span class=\"token punctuation\">></span></span>\n                <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>th</span><span class=\"token punctuation\">></span></span>身高<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>th</span><span class=\"token punctuation\">></span></span>\n                <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>th</span><span class=\"token punctuation\">></span></span>体重<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>th</span><span class=\"token punctuation\">></span></span>\n            <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>tr</span><span class=\"token punctuation\">></span></span>\n            <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>tr</span><span class=\"token punctuation\">></span></span>\n                <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>td</span><span class=\"token punctuation\">></span></span>Item1<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>td</span><span class=\"token punctuation\">></span></span>\n                <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>td</span><span class=\"token punctuation\">></span></span>Item2<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>td</span><span class=\"token punctuation\">></span></span>\n                <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>td</span><span class=\"token punctuation\">></span></span>Item3<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>td</span><span class=\"token punctuation\">></span></span>\n                <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>td</span><span class=\"token punctuation\">></span></span>Item4<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>td</span><span class=\"token punctuation\">></span></span>\n                <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>td</span><span class=\"token punctuation\">></span></span>Item5<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>td</span><span class=\"token punctuation\">></span></span>\n            <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>tr</span><span class=\"token punctuation\">></span></span>\n            <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>tr</span><span class=\"token punctuation\">></span></span>\n                <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>td</span><span class=\"token punctuation\">></span></span>Item1<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>td</span><span class=\"token punctuation\">></span></span>\n                <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>td</span><span class=\"token punctuation\">></span></span>Item2<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>td</span><span class=\"token punctuation\">></span></span>\n                <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>td</span><span class=\"token punctuation\">></span></span>Item3<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>td</span><span class=\"token punctuation\">></span></span>\n                <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>td</span><span class=\"token punctuation\">></span></span>Item4<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>td</span><span class=\"token punctuation\">></span></span>\n                <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>td</span><span class=\"token punctuation\">></span></span>Item5<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>td</span><span class=\"token punctuation\">></span></span>\n            <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>tr</span><span class=\"token punctuation\">></span></span>\n            <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>tr</span><span class=\"token punctuation\">></span></span>\n                <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>td</span><span class=\"token punctuation\">></span></span>Item1<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>td</span><span class=\"token punctuation\">></span></span>\n                <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>td</span><span class=\"token punctuation\">></span></span>Item2<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>td</span><span class=\"token punctuation\">></span></span>\n                <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>td</span><span class=\"token punctuation\">></span></span>Item3<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>td</span><span class=\"token punctuation\">></span></span>\n                <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>td</span><span class=\"token punctuation\">></span></span>Item4<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>td</span><span class=\"token punctuation\">></span></span>\n                <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>td</span><span class=\"token punctuation\">></span></span>Item5<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>td</span><span class=\"token punctuation\">></span></span>\n            <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>tr</span><span class=\"token punctuation\">></span></span>\n            <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>tr</span><span class=\"token punctuation\">></span></span>\n                <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>td</span><span class=\"token punctuation\">></span></span>Item1<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>td</span><span class=\"token punctuation\">></span></span>\n                <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>td</span><span class=\"token punctuation\">></span></span>Item2<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>td</span><span class=\"token punctuation\">></span></span>\n                <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>td</span><span class=\"token punctuation\">></span></span>Item3<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>td</span><span class=\"token punctuation\">></span></span>\n                <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>td</span><span class=\"token punctuation\">></span></span>Item4<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>td</span><span class=\"token punctuation\">></span></span>\n                <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>td</span><span class=\"token punctuation\">></span></span>Item5<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>td</span><span class=\"token punctuation\">></span></span>\n            <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>tr</span><span class=\"token punctuation\">></span></span>\n            <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>tr</span><span class=\"token punctuation\">></span></span>\n                <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>td</span><span class=\"token punctuation\">></span></span>Item1<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>td</span><span class=\"token punctuation\">></span></span>\n                <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>td</span><span class=\"token punctuation\">></span></span>Item2<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>td</span><span class=\"token punctuation\">></span></span>\n                <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>td</span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>a</span><span class=\"token punctuation\">></span></span>Item3<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>a</span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>td</span><span class=\"token punctuation\">></span></span>\n                <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>td</span><span class=\"token punctuation\">></span></span>Item4<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>td</span><span class=\"token punctuation\">></span></span>\n                <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>td</span><span class=\"token punctuation\">></span></span>Item5<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>td</span><span class=\"token punctuation\">></span></span>\n            <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>tr</span><span class=\"token punctuation\">></span></span>\n            <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>tr</span><span class=\"token punctuation\">></span></span>\n                <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>td</span><span class=\"token punctuation\">></span></span>Item1<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>td</span><span class=\"token punctuation\">></span></span>\n                <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>td</span><span class=\"token punctuation\">></span></span>Item2<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>td</span><span class=\"token punctuation\">></span></span>\n                <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>td</span><span class=\"token punctuation\">></span></span>Item3<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>td</span><span class=\"token punctuation\">></span></span>\n                <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>td</span><span class=\"token punctuation\">></span></span>Item4<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>td</span><span class=\"token punctuation\">></span></span>\n                <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>td</span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>a</span><span class=\"token punctuation\">></span></span>Item5<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>a</span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>td</span><span class=\"token punctuation\">></span></span>\n            <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>tr</span><span class=\"token punctuation\">></span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>table</span><span class=\"token punctuation\">></span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">id</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>buttons<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n            <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>button</span> <span class=\"token attr-name\">id</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>pretty<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>美化表格<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>button</span><span class=\"token punctuation\">></span></span>\n            <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>button</span> <span class=\"token attr-name\">id</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>clear<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>清除数据<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>button</span><span class=\"token punctuation\">></span></span>\n            <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>button</span> <span class=\"token attr-name\">id</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>remove<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>删单元格<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>button</span><span class=\"token punctuation\">></span></span>\n            <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>button</span> <span class=\"token attr-name\">id</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>add<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>添加一行<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>button</span><span class=\"token punctuation\">></span></span>\n            <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>button</span> <span class=\"token attr-name\">id</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>hide<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>隐藏表格<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>button</span><span class=\"token punctuation\">></span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span>\n\n\n        <span class=\"token comment\" spellcheck=\"true\">&lt;!--加载本地的jQuery文件适合开发和测试使用--></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>script</span> <span class=\"token attr-name\">src</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>js/jQuery.min.js<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token script language-javascript\"></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>script</span><span class=\"token punctuation\">></span></span>\n        <span class=\"token comment\" spellcheck=\"true\">&lt;!--下面的适合商业项目通过CDN服务器来加速获取jQuery的JS文件--></span>\n        <span class=\"token comment\" spellcheck=\"true\">&lt;!--&lt;script src=\"&lt;script src=\"https://cdn.bootcss.com/jquery/3.3.1/jquery.min.js\">&lt;/script>\">&lt;/script>--></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>script</span><span class=\"token punctuation\">></span></span><span class=\"token script language-javascript\">\n            <span class=\"token function\">$</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n                <span class=\"token comment\" spellcheck=\"true\">// on 绑定事件，off 反绑定事件</span>\n                <span class=\"token function\">$</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"#hide\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">on</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"click\"</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n                    <span class=\"token comment\" spellcheck=\"true\">// 根据样式表选择器获取元素，获取到的不是原生的JS对象</span>\n                    <span class=\"token comment\" spellcheck=\"true\">// 而是京城jQuery封装之后的对象</span>\n                    <span class=\"token comment\" spellcheck=\"true\">// css 读写样式表</span>\n                    <span class=\"token function\">$</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"#data\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">css</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"visibility\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"hidden\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                    <span class=\"token comment\" spellcheck=\"true\">// $(\"#data\").hide(2000);  两秒隐藏</span>\n                <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                <span class=\"token function\">$</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"#remove\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">on</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"click\"</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n                    <span class=\"token function\">$</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"#data tr:gt(0):last-child\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">remove</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                <span class=\"token function\">$</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"#clear\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">on</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"click\"</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n                    <span class=\"token function\">$</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"#data tr:gt(0)>td\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">text</span><span class=\"token punctuation\">(</span><span class=\"token string\">\" \"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                <span class=\"token function\">$</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"#pretty\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">on</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"click\"</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n                    <span class=\"token comment\" spellcheck=\"true\">// gt(0) ---- 跳过表头； odd ------ 表示奇数行，从0开始的；even 与 odd 相反</span>\n                    <span class=\"token function\">$</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"#data tr:gt(0):odd\"</span><span class=\"token punctuation\">)</span>\n                        <span class=\"token punctuation\">.</span><span class=\"token function\">css</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"background-color\"</span><span class=\"token punctuation\">,</span><span class=\"token string\">\"lightblue\"</span><span class=\"token punctuation\">)</span>\n                        <span class=\"token punctuation\">.</span><span class=\"token function\">css</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"font-size\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"30px\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                    <span class=\"token function\">$</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"#data tr:gt(0):even\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">css</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n                        <span class=\"token string\">\"background-color\"</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"red\"</span><span class=\"token punctuation\">,</span>\n                        <span class=\"token string\">\"font-size\"</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"20px\"</span><span class=\"token punctuation\">,</span>\n                    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>script</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>body</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>html</span><span class=\"token punctuation\">></span></span>\n\n</code></pre>\n<h4 id=\"example-恶意广告\"><a href=\"#example-恶意广告\" class=\"headerlink\" title=\"example-恶意广告\"></a>example-恶意广告</h4><pre class=\" language-html\"><code class=\"language-html\"><span class=\"token doctype\">&lt;!DOCTYPE html></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>html</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>head</span><span class=\"token punctuation\">></span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>meta</span> <span class=\"token attr-name\">charset</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>UTF-8<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>title</span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>title</span><span class=\"token punctuation\">></span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>style</span> <span class=\"token attr-name\">type</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>text/css<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token style language-css\">\n            <span class=\"token selector\">*</span><span class=\"token punctuation\">{</span>\n                <span class=\"token property\">margin</span><span class=\"token punctuation\">:</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span>\n                <span class=\"token property\">padding</span><span class=\"token punctuation\">:</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span>\n            <span class=\"token punctuation\">}</span>\n            <span class=\"token selector\">div</span><span class=\"token punctuation\">{</span>\n                <span class=\"token property\">width</span><span class=\"token punctuation\">:</span> <span class=\"token number\">200</span>px<span class=\"token punctuation\">;</span>\n                <span class=\"token property\">height</span><span class=\"token punctuation\">:</span> <span class=\"token number\">200</span>px<span class=\"token punctuation\">;</span>\n                <span class=\"token property\">color</span><span class=\"token punctuation\">:</span> red<span class=\"token punctuation\">;</span>\n                <span class=\"token property\">background-color</span><span class=\"token punctuation\">:</span>cornflowerblue <span class=\"token punctuation\">;</span>\n                <span class=\"token property\">position</span><span class=\"token punctuation\">:</span> fixed<span class=\"token punctuation\">;</span>\n                <span class=\"token property\">right</span><span class=\"token punctuation\">:</span> <span class=\"token number\">10</span>px<span class=\"token punctuation\">;</span>\n                <span class=\"token property\">top</span><span class=\"token punctuation\">:</span> <span class=\"token number\">10</span>px<span class=\"token punctuation\">;</span>\n            <span class=\"token punctuation\">}</span>\n            <span class=\"token selector\"><span class=\"token id\">#closeBtn</span></span><span class=\"token punctuation\">{</span>\n                <span class=\"token comment\" spellcheck=\"true\">/*固定定位*/</span>\n                <span class=\"token property\">position</span><span class=\"token punctuation\">:</span> fixed<span class=\"token punctuation\">;</span>\n                <span class=\"token property\">right</span><span class=\"token punctuation\">:</span> <span class=\"token number\">9</span>px<span class=\"token punctuation\">;</span>\n            <span class=\"token punctuation\">}</span>\n            <span class=\"token selector\">a </span><span class=\"token punctuation\">{</span>\n                <span class=\"token property\">position</span><span class=\"token punctuation\">:</span> relative<span class=\"token punctuation\">;</span>\n                <span class=\"token property\">top</span><span class=\"token punctuation\">:</span> <span class=\"token number\">50</span>px<span class=\"token punctuation\">;</span>\n            <span class=\"token punctuation\">}</span>\n        </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>style</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>head</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>body</span><span class=\"token punctuation\">></span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">id</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>adv<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n            恶意广告\n            <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>button</span> <span class=\"token attr-name\">id</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>closeBtn<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>关闭<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>button</span><span class=\"token punctuation\">></span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>script</span><span class=\"token punctuation\">></span></span><span class=\"token script language-javascript\">\n            <span class=\"token operator\">+</span><span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n                <span class=\"token keyword\">var</span> advDiv <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">querySelector</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"#adv\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                <span class=\"token keyword\">var</span> button <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">querySelector</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"#adv button\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                <span class=\"token keyword\">var</span> counter <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span>\n                button<span class=\"token punctuation\">.</span><span class=\"token function\">addEventListener</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"click\"</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n                    counter <span class=\"token operator\">+</span><span class=\"token operator\">=</span> <span class=\"token number\">1</span><span class=\"token punctuation\">;</span>\n                    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>counter <span class=\"token operator\">&lt;</span> <span class=\"token number\">5</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n                        <span class=\"token comment\" spellcheck=\"true\">// 读取样式,先获取样式，然后更改样式</span>\n                        <span class=\"token keyword\">var</span> currentStyle <span class=\"token operator\">=</span> \n                            document<span class=\"token punctuation\">.</span>defaultView<span class=\"token punctuation\">.</span><span class=\"token function\">getComputedStyle</span><span class=\"token punctuation\">(</span>advDiv<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                        <span class=\"token keyword\">var</span> newTop <span class=\"token operator\">=</span> <span class=\"token function\">parseInt</span><span class=\"token punctuation\">(</span>currentStyle<span class=\"token punctuation\">.</span>top<span class=\"token punctuation\">)</span> <span class=\"token operator\">+</span> <span class=\"token number\">50</span><span class=\"token punctuation\">;</span>\n                        <span class=\"token keyword\">var</span> newWidth <span class=\"token operator\">=</span> <span class=\"token function\">parseInt</span><span class=\"token punctuation\">(</span>currentStyle<span class=\"token punctuation\">.</span>width<span class=\"token punctuation\">)</span> <span class=\"token operator\">+</span> <span class=\"token number\">100</span><span class=\"token punctuation\">;</span>\n                        <span class=\"token keyword\">var</span> newHeight <span class=\"token operator\">=</span> <span class=\"token function\">parseInt</span><span class=\"token punctuation\">(</span>currentStyle<span class=\"token punctuation\">.</span>height<span class=\"token punctuation\">)</span> <span class=\"token operator\">+</span> <span class=\"token number\">100</span><span class=\"token punctuation\">;</span>\n                        advDiv<span class=\"token punctuation\">.</span>style<span class=\"token punctuation\">.</span>width <span class=\"token operator\">=</span> newWidth <span class=\"token operator\">+</span> <span class=\"token string\">\"px\"</span><span class=\"token punctuation\">;</span>\n                        advDiv<span class=\"token punctuation\">.</span>style<span class=\"token punctuation\">.</span>height <span class=\"token operator\">=</span> newHeight <span class=\"token operator\">+</span> <span class=\"token string\">\"px\"</span><span class=\"token punctuation\">;</span>\n                        advDiv<span class=\"token punctuation\">.</span>style<span class=\"token punctuation\">.</span>top <span class=\"token operator\">=</span> newTop <span class=\"token operator\">+</span> <span class=\"token string\">\"px\"</span><span class=\"token punctuation\">;</span>\n                    <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span>\n                        <span class=\"token comment\" spellcheck=\"true\">// 写样式</span>\n                        advDiv<span class=\"token punctuation\">.</span>style<span class=\"token punctuation\">.</span>display <span class=\"token operator\">=</span> <span class=\"token string\">\"none\"</span><span class=\"token punctuation\">;</span>\n                    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n                <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            <span class=\"token punctuation\">}</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>script</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>body</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>html</span><span class=\"token punctuation\">></span></span>\n\n\n</code></pre>\n","site":{"data":{}},"excerpt":"","more":"<h3 id=\"下载jQuery库\"><a href=\"#下载jQuery库\" class=\"headerlink\" title=\"下载jQuery库\"></a>下载jQuery库</h3><pre><code class=\"html\">&lt;!--加载本地的jQuery文件适合开发和测试使用--&gt;\n        &lt;script src=&quot;js/jQuery.min.js&quot;&gt;&lt;/script&gt;\n&lt;!--下面的适合商业项目通过CDN服务器来加速获取jQuery的JS文件--&gt;\n        &lt;script src=&quot; https://cdn.bootcss.com/jquery/3.3.1/jquery.min.js&quot;&gt;&lt;/script&gt;\n\n</code></pre>\n<h4 id=\"example1\"><a href=\"#example1\" class=\"headerlink\" title=\"example1\"></a>example1</h4><pre><code class=\"html\">&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n    &lt;head&gt;\n        &lt;meta charset=&quot;utf-8&quot;&gt;\n        &lt;title&gt;&lt;/title&gt;\n        &lt;style&gt;\n            * {\n                margin: 0;\n                padding: 0;\n            }\n            #container {\n                margin: 20px 50px;\n            }\n            #fruits li {\n                list-style: none;\n                width: 200px;\n                height: 50px;\n                font-size: 20px;\n                line-height: 50px;\n                background-color: cadetblue;\n                color: white;\n                text-align: center;\n                margin: 2px 0;\n            }\n            #fruits&gt;li&gt;a {\n                float: right;\n                text-decoration: none;\n                color: white;\n                position: relative;\n                right: 5px;\n            }\n            #fruits~input {\n                border: none;\n                outline: none;\n                font-size: 18px;\n            }\n            #fruits~input[type=text] {\n                border-bottom: 1px solid darkgray;\n                width: 200px;\n                height: 50px;\n                text-align: center;\n            }\n            #fruits~input[type=button] {\n                width: 80px;\n                height: 30px;\n                background-color: coral;\n                color: white;\n                vertical-align: bottom;\n                cursor: pointer;\n            }\n        &lt;/style&gt;\n    &lt;/head&gt;\n    &lt;body&gt;\n        &lt;div id=&quot;container&quot;&gt;\n            &lt;ul id=&quot;fruits&quot;&gt;\n                &lt;li&gt;苹果&lt;a href=&quot;javascript:void(0)&quot;&gt;×&lt;/a&gt;&lt;/li&gt;\n                &lt;li&gt;香蕉&lt;a href=&quot;javascript:void(0)&quot;&gt;×&lt;/a&gt;&lt;/li&gt;\n                &lt;li&gt;火龙果&lt;a href=&quot;javascript:void(0)&quot;&gt;×&lt;/a&gt;&lt;/li&gt;\n                &lt;li&gt;西瓜&lt;a href=&quot;javascript:void(0)&quot;&gt;×&lt;/a&gt;&lt;/li&gt;\n            &lt;/ul&gt;\n            &lt;input type=&quot;text&quot; name=&quot;fruit&quot;&gt;\n            &lt;input id=&quot;ok&quot; type=&quot;button&quot; value=&quot;确定&quot;&gt;\n        &lt;/div&gt;\n        &lt;script src=&quot;js/jQuery.min.js&quot;&gt;&lt;/script&gt;\n        &lt;script&gt;\n            //  JS是动态语言\n            //\n            //  jQuery对象的本质是一个伪数组\n            //  - 有lenght属性\n            //  - 可以通过下标获取数据\n            //  $函数的四种用法：\n            //  1.$函数的参数是一个函数 - 传入的函数是页面加载完成之后要执行的回调函数\n            //  2.$函数的参数是选择器字符串 - 获取页面上的标签而且转成jQuery对象（伪数组）\n            //   为什么要获取jQuery对象 - 因为jQuery对象有更多的封装好的方法可供调用\n            //  - 绑定/反绑定事件：on()/off()/one()\n            //  - 获取/修改标签内容：text（）/html()\n            //  - 获取/修改标签属性：attr(name,value)\n            //  - 添加子节点：append()/prepend()\n            //  - 删除/清空节点：remove()/empty()\n            //  - 修改样式表：css()   一个参数表示读样式，两个参数表示修改样式，JSON修改多个样式\n            //  - 获取父节点：parent（）\n            //  - 获取子节点：children（）\n            // - 相邻的上一个兄弟：上一个兄弟prev()/下一个兄弟next()\n            //  3.$函数的参数是标签字符串 - 创建标签并且返回对应的jQuery对象\n            //  4.$函数的参数是原生JS对象 - 将原生JS对象转成jQuery对象\n            //  如何将jQuery对象转换成原生对象  - 如果bar是一个jQuery对象可以通过bar[0] / bar.get(0)\n            // $(document).ready(function() {});\n            $(function() {\n                function deleteItem(evt) {\n                    $(evt.target).parent().remove();\n                }\n\n                $(&quot;#fruits a&quot;).on(&quot;click&quot;, deleteItem);\n                $(&quot;#ok&quot;).on(&quot;click&quot;, function() {\n                    var fruitName = $(&quot;#container input[type=text]&quot;).val().trim();\n                    if (fruitName.length &gt; 0) {\n                        $(&quot;#fruits&quot;).append(\n                            $(&quot;&lt;li&gt;&quot;).text(fruitName).append(\n                                // attr  创建标签，（属性，属性值）\n                                $(&quot;&lt;a&gt;&quot;).text(&quot;×&quot;).attr(&quot;href&quot;,&quot;javascript:void(0);&quot;)\n                                    .on(&quot;click&quot;,deleteItem)\n                            )\n                        );\n                    }\n                });     //  on 绑定/one   绑定只能用一次的按钮/off  反绑定\n            });\n        &lt;/script&gt;\n    &lt;/body&gt;\n&lt;/html&gt;\n\n</code></pre>\n<h4 id=\"example2\"><a href=\"#example2\" class=\"headerlink\" title=\"example2\"></a>example2</h4><pre><code class=\"html\">&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n    &lt;head&gt;\n        &lt;meta charset=&quot;UTF-8&quot;&gt;\n        &lt;title&gt;&lt;/title&gt;\n        &lt;style&gt;\n            #data {\n                border-collapse: collapse;\n            }\n            #data td, #data th {\n                width: 120px;\n                height: 40px;\n                text-align: center;\n                border: 1px solid black;\n            }\n            #buttons {\n                margin: 10px 0;\n            }\n        &lt;/style&gt;\n    &lt;/head&gt;\n    &lt;body&gt;\n        &lt;div id=&quot;big&quot;&gt;\n        &lt;table id=&quot;data&quot;&gt;\n            &lt;caption&gt;数据统计表&lt;/caption&gt;\n            &lt;tr&gt;\n                &lt;th&gt;姓名&lt;/th&gt;\n                &lt;th&gt;年龄&lt;/th&gt;\n                &lt;th&gt;性别&lt;/th&gt;\n                &lt;th&gt;身高&lt;/th&gt;\n                &lt;th&gt;体重&lt;/th&gt;\n            &lt;/tr&gt;\n            &lt;tr&gt;\n                &lt;td&gt;Item1&lt;/td&gt;\n                &lt;td&gt;Item2&lt;/td&gt;\n                &lt;td&gt;Item3&lt;/td&gt;\n                &lt;td&gt;Item4&lt;/td&gt;\n                &lt;td&gt;Item5&lt;/td&gt;\n            &lt;/tr&gt;\n            &lt;tr&gt;\n                &lt;td&gt;Item1&lt;/td&gt;\n                &lt;td&gt;Item2&lt;/td&gt;\n                &lt;td&gt;Item3&lt;/td&gt;\n                &lt;td&gt;Item4&lt;/td&gt;\n                &lt;td&gt;Item5&lt;/td&gt;\n            &lt;/tr&gt;\n            &lt;tr&gt;\n                &lt;td&gt;Item1&lt;/td&gt;\n                &lt;td&gt;Item2&lt;/td&gt;\n                &lt;td&gt;Item3&lt;/td&gt;\n                &lt;td&gt;Item4&lt;/td&gt;\n                &lt;td&gt;Item5&lt;/td&gt;\n            &lt;/tr&gt;\n            &lt;tr&gt;\n                &lt;td&gt;Item1&lt;/td&gt;\n                &lt;td&gt;Item2&lt;/td&gt;\n                &lt;td&gt;Item3&lt;/td&gt;\n                &lt;td&gt;Item4&lt;/td&gt;\n                &lt;td&gt;Item5&lt;/td&gt;\n            &lt;/tr&gt;\n            &lt;tr&gt;\n                &lt;td&gt;Item1&lt;/td&gt;\n                &lt;td&gt;Item2&lt;/td&gt;\n                &lt;td&gt;&lt;a&gt;Item3&lt;/a&gt;&lt;/td&gt;\n                &lt;td&gt;Item4&lt;/td&gt;\n                &lt;td&gt;Item5&lt;/td&gt;\n            &lt;/tr&gt;\n            &lt;tr&gt;\n                &lt;td&gt;Item1&lt;/td&gt;\n                &lt;td&gt;Item2&lt;/td&gt;\n                &lt;td&gt;Item3&lt;/td&gt;\n                &lt;td&gt;Item4&lt;/td&gt;\n                &lt;td&gt;&lt;a&gt;Item5&lt;/a&gt;&lt;/td&gt;\n            &lt;/tr&gt;\n        &lt;/table&gt;\n        &lt;/div&gt;\n        &lt;div id=&quot;buttons&quot;&gt;\n            &lt;button id=&quot;pretty&quot;&gt;美化表格&lt;/button&gt;\n            &lt;button id=&quot;clear&quot;&gt;清除数据&lt;/button&gt;\n            &lt;button id=&quot;remove&quot;&gt;删单元格&lt;/button&gt;\n            &lt;button id=&quot;add&quot;&gt;添加一行&lt;/button&gt;\n            &lt;button id=&quot;hide&quot;&gt;隐藏表格&lt;/button&gt;\n        &lt;/div&gt;\n\n\n        &lt;!--加载本地的jQuery文件适合开发和测试使用--&gt;\n        &lt;script src=&quot;js/jQuery.min.js&quot;&gt;&lt;/script&gt;\n        &lt;!--下面的适合商业项目通过CDN服务器来加速获取jQuery的JS文件--&gt;\n        &lt;!--&lt;script src=&quot;&lt;script src=&quot;https://cdn.bootcss.com/jquery/3.3.1/jquery.min.js&quot;&gt;&lt;/script&gt;&quot;&gt;&lt;/script&gt;--&gt;\n        &lt;script&gt;\n            $(function() {\n                // on 绑定事件，off 反绑定事件\n                $(&quot;#hide&quot;).on(&quot;click&quot;, function() {\n                    // 根据样式表选择器获取元素，获取到的不是原生的JS对象\n                    // 而是京城jQuery封装之后的对象\n                    // css 读写样式表\n                    $(&quot;#data&quot;).css(&quot;visibility&quot;, &quot;hidden&quot;);\n                    // $(&quot;#data&quot;).hide(2000);  两秒隐藏\n                });\n                $(&quot;#remove&quot;).on(&quot;click&quot;, function() {\n                    $(&quot;#data tr:gt(0):last-child&quot;).remove();\n                });\n                $(&quot;#clear&quot;).on(&quot;click&quot;, function() {\n                    $(&quot;#data tr:gt(0)&gt;td&quot;).text(&quot; &quot;);\n                });\n                $(&quot;#pretty&quot;).on(&quot;click&quot;, function() {\n                    // gt(0) ---- 跳过表头； odd ------ 表示奇数行，从0开始的；even 与 odd 相反\n                    $(&quot;#data tr:gt(0):odd&quot;)\n                        .css(&quot;background-color&quot;,&quot;lightblue&quot;)\n                        .css(&quot;font-size&quot;, &quot;30px&quot;);\n                    $(&quot;#data tr:gt(0):even&quot;).css({\n                        &quot;background-color&quot;: &quot;red&quot;,\n                        &quot;font-size&quot;: &quot;20px&quot;,\n                    });\n                });\n            });\n        &lt;/script&gt;\n    &lt;/body&gt;\n&lt;/html&gt;\n\n</code></pre>\n<h4 id=\"example-恶意广告\"><a href=\"#example-恶意广告\" class=\"headerlink\" title=\"example-恶意广告\"></a>example-恶意广告</h4><pre><code class=\"html\">&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n    &lt;head&gt;\n        &lt;meta charset=&quot;UTF-8&quot;&gt;\n        &lt;title&gt;&lt;/title&gt;\n        &lt;style type=&quot;text/css&quot;&gt;\n            *{\n                margin: 0;\n                padding: 0;\n            }\n            div{\n                width: 200px;\n                height: 200px;\n                color: red;\n                background-color:cornflowerblue ;\n                position: fixed;\n                right: 10px;\n                top: 10px;\n            }\n            #closeBtn{\n                /*固定定位*/\n                position: fixed;\n                right: 9px;\n            }\n            a {\n                position: relative;\n                top: 50px;\n            }\n        &lt;/style&gt;\n    &lt;/head&gt;\n    &lt;body&gt;\n        &lt;div id=&quot;adv&quot;&gt;\n            恶意广告\n            &lt;button id=&quot;closeBtn&quot;&gt;关闭&lt;/button&gt;\n        &lt;/div&gt;\n        &lt;script&gt;\n            +function () {\n                var advDiv = document.querySelector(&quot;#adv&quot;);\n                var button = document.querySelector(&quot;#adv button&quot;);\n                var counter = 0;\n                button.addEventListener(&quot;click&quot;, function() {\n                    counter += 1;\n                    if (counter &lt; 5) {\n                        // 读取样式,先获取样式，然后更改样式\n                        var currentStyle = \n                            document.defaultView.getComputedStyle(advDiv);\n                        var newTop = parseInt(currentStyle.top) + 50;\n                        var newWidth = parseInt(currentStyle.width) + 100;\n                        var newHeight = parseInt(currentStyle.height) + 100;\n                        advDiv.style.width = newWidth + &quot;px&quot;;\n                        advDiv.style.height = newHeight + &quot;px&quot;;\n                        advDiv.style.top = newTop + &quot;px&quot;;\n                    } else {\n                        // 写样式\n                        advDiv.style.display = &quot;none&quot;;\n                    };\n                });\n            }();\n        &lt;/script&gt;\n    &lt;/body&gt;\n&lt;/html&gt;\n\n\n</code></pre>\n"},{"title":"web-daytwo","date":"2018-01-23T02:40:40.000Z","author":"smile","_content":"\n\n\n####  进入虚拟环境\n\n- env/djenv6/Scripts/activate\n  - 将代码放到code文件中,从虚拟环境中，进入code文件夹\n- 退出虚拟环境 ------- deactivate\n\n#### 启动一个脚本文件：\n\n![QQ截图20181023121317](web-daytwo\\QQ截图20181023121317.png)\n\n- Run -> Debug Configurations ---- 修改\n\n  - Parameters 改成 runserver 8080\n\n- 引入Django模块\n\n- 修改settings中的DATABASE的数据\n\n  ![QQ截图20181023141556](web-daytwo\\QQ截图20181023141556.png)\n\n#### 在model中创建表格模型\n1.在settings中的INSTALLED_APPS中添加app\n\n![QQ截图20181023121548](web-daytwo\\QQ截图20181023121548.png)\n\n2.执行python manage.py startapp app\n\n3.执行python manage.py makemiigrations\n\n-  Provide a one-off default now (will be set on all existing rows) --------- 缺少一个默认值\n\n4.再执行python manage.py migrate  ---- 迁移表格\n\n注意：如果执行后没有生成迁移文件，一直提示**No changes detected**这个结果的话，就要手动的去处理了\n\n- 处理方式一：\n\n  - 先删除_pycache__文件夹\n  - 直接强制的去执行迁移命令，python manage.py makemigrations xxx (xxx就是app的名称)\n  - 查看自动生成的数据库，查看表django_migrations,删掉app字段为xxx的数据（xxx就是app的名称）\n\n- 处理方式二\n\n  - 执行迁移生成数据库\n\n    **`python manage.py migrate`**\n\n    注意：生成迁移文件的时候，并没有在数据库中生成对应的表，而是执行migrate命令之后才会在数据库中生成表\n\n5.如果报错，查看Django_migrations的表格的最后一行\n\n#### 表格中的操作\n- 添加表格的列（定义字段）都写在models.py中创建的模型（类）中，定义字段，就表示定义这个类的对象的属性，然后执行上面的第三、四步骤就创建好了\n\n```python\n  from django.db import models\n  \n  # Create your models here.\n  class Student(models.Model):\n      # 定义s_name字段，varchar类型，最长不超过6字符，唯一\n      s_name = models.CharField(max_length=6, unique=True)\n      # 定义s_age字段，int类型\n      s_age = models.IntegerField(default=18)\n      # 定义s_gender字段，bool型\n      s_gender = models.BooleanField(default=1)\n      # 定义create_time字段，创建时间\n      create_time = models.DateTimeField(auto_now_add=True, null=True)\n      # 定义operate_time字段，修改时间\n      operate_time = models.DateTimeField(auto_now=True, null=True)\n  \n  \n      class Meta:\n          # 定义模型迁移到数据库中的表格\n          db_table = 'student'\n```\n\n##### （增）创建表格中的数据（1）：\n\n- **1.url路由**\n\n  在urls.py --> urlpatterns中添加一个url（正则表达式，调用views中的方法）\n\n```python\n    from app import views\n    \n    urlpatterns = [\n        # 127.0.0.1:8080/admin/\n        url(r'^admin/', admin.site.urls),\n        # 127.0.0.1/8080/hello/\n        url(r'^hello/', views.hello),\n        # 127.0.0.1:8080/create_stu/\n        url(r'^create_stu', views.create_stu)\n```\n\n```python\n    def hello(request):\n        return HttpResponse('你好， hello！')\n    \n    \n    def create_stu(request):\n        # 创建学生\n        stu = Student()\n        stu.s_name = '李二狗'\n        stu.s_age = 20\n        stu.save()\n        return HttpResponse('创建成功')\n```\n\n   - **2.运行程序**\n\n    查看调用方法生成的ip地址，在数据库中就创建好了数据\n    \n    ![QQ截图20181023122235](web-daytwo\\QQ截图20181023122235.png)\n\n##### 创建表格中的数据（2）\n\n```python\ndef create_stu(request):\n    Student.objects.create(s_name='小明')\n    return HttpResponse('创建成功')\n```\n\n##### （查）查询数据 ：\n\n**准确查询**\n\n```python\ndef sel_stu(request):\n    # 实现查询\n    # 查询所有的数据\n    stus = Student.objects.all()\n    # filter() 过滤\n    stus = Student.objects.filter(s_name='小明')\n    # first()获取第一个\n    # last()获取最后一个\n    stus = Student.objects.filter(s_age=20).first()\n    # get拿不到值和拿到多个值都会报错，filter不会报错，会取到空值\n    stus = Student.objects.get(s_age=20)\n    # 查询多个条件\n    stus = Student.objects.filter(s_age=20).filter(s_gender=1)\n    stus = Student.objects.filter(s_age=20, s_gender=1)\n    print(stu_names)\n    return HttpResponse('查询成功')\n```\n\n**模糊查询**\n\n```python\ndef sel_stu(request):\n# 模糊查询 like '%xxx%' '_xx'\n\t# 名字中含有'吴'字\n    stus = Student.objects.filter(s_name__contains='吴')\n    # 以小开头\n    stus = Student.objects.filter(s_name__startswith='小')\n    # 以小字结尾\n    stus = Student.objects.filter(s_name__endswith='小')\n    stu_names = [stu.s_name for stu in stus]\n    print(stu_names)\n    return HttpResponse('查询成功')\n```\n\n**其它查询**\n\n```python\ndef sel_stu(request):\n\t# 大于 gt/gte  小于 lt/lte\n    stus = Student.objects.filter(s_age__gt=18)\n    stus = Student.objects.filter(s_age__lt=18)\n    stus = Student.objects.filter(s_age__gte=18)\n\n    # 排序 order_by()\n    # 升序\n    stus = Student.objects.order_by('id')\n    # 降序\n    stus = Student.objects.order_by('-id')\n\n    # 查询部满足条件的数据\n    stus = Student.objects.exclude(s_age=20)\n\n    # 计数方法count(),len()\n    print(len(stus))\n    stus_count = stus.count()\n    print(stus_count)\n\n    # values()\n    stus_values = stus.values()\n\n    # id=pk\n    stus = Student.objects.filter(id=2)\n    stus = Student.objects.filter(pk=2)\n\n    stu_names = [stu.s_name for stu in stus]\n    print(stu_names)\n    return HttpResponse('查询成功')\n```\n\n","source":"_posts/前端/web-daytwo.md","raw":"---\ntitle: web-daytwo\ndate: 2018-01-23 10:40:40\nauthor: smile\ncategories: Django\ntags: \n  - web框架\n  - Django\n---\n\n\n\n####  进入虚拟环境\n\n- env/djenv6/Scripts/activate\n  - 将代码放到code文件中,从虚拟环境中，进入code文件夹\n- 退出虚拟环境 ------- deactivate\n\n#### 启动一个脚本文件：\n\n![QQ截图20181023121317](web-daytwo\\QQ截图20181023121317.png)\n\n- Run -> Debug Configurations ---- 修改\n\n  - Parameters 改成 runserver 8080\n\n- 引入Django模块\n\n- 修改settings中的DATABASE的数据\n\n  ![QQ截图20181023141556](web-daytwo\\QQ截图20181023141556.png)\n\n#### 在model中创建表格模型\n1.在settings中的INSTALLED_APPS中添加app\n\n![QQ截图20181023121548](web-daytwo\\QQ截图20181023121548.png)\n\n2.执行python manage.py startapp app\n\n3.执行python manage.py makemiigrations\n\n-  Provide a one-off default now (will be set on all existing rows) --------- 缺少一个默认值\n\n4.再执行python manage.py migrate  ---- 迁移表格\n\n注意：如果执行后没有生成迁移文件，一直提示**No changes detected**这个结果的话，就要手动的去处理了\n\n- 处理方式一：\n\n  - 先删除_pycache__文件夹\n  - 直接强制的去执行迁移命令，python manage.py makemigrations xxx (xxx就是app的名称)\n  - 查看自动生成的数据库，查看表django_migrations,删掉app字段为xxx的数据（xxx就是app的名称）\n\n- 处理方式二\n\n  - 执行迁移生成数据库\n\n    **`python manage.py migrate`**\n\n    注意：生成迁移文件的时候，并没有在数据库中生成对应的表，而是执行migrate命令之后才会在数据库中生成表\n\n5.如果报错，查看Django_migrations的表格的最后一行\n\n#### 表格中的操作\n- 添加表格的列（定义字段）都写在models.py中创建的模型（类）中，定义字段，就表示定义这个类的对象的属性，然后执行上面的第三、四步骤就创建好了\n\n```python\n  from django.db import models\n  \n  # Create your models here.\n  class Student(models.Model):\n      # 定义s_name字段，varchar类型，最长不超过6字符，唯一\n      s_name = models.CharField(max_length=6, unique=True)\n      # 定义s_age字段，int类型\n      s_age = models.IntegerField(default=18)\n      # 定义s_gender字段，bool型\n      s_gender = models.BooleanField(default=1)\n      # 定义create_time字段，创建时间\n      create_time = models.DateTimeField(auto_now_add=True, null=True)\n      # 定义operate_time字段，修改时间\n      operate_time = models.DateTimeField(auto_now=True, null=True)\n  \n  \n      class Meta:\n          # 定义模型迁移到数据库中的表格\n          db_table = 'student'\n```\n\n##### （增）创建表格中的数据（1）：\n\n- **1.url路由**\n\n  在urls.py --> urlpatterns中添加一个url（正则表达式，调用views中的方法）\n\n```python\n    from app import views\n    \n    urlpatterns = [\n        # 127.0.0.1:8080/admin/\n        url(r'^admin/', admin.site.urls),\n        # 127.0.0.1/8080/hello/\n        url(r'^hello/', views.hello),\n        # 127.0.0.1:8080/create_stu/\n        url(r'^create_stu', views.create_stu)\n```\n\n```python\n    def hello(request):\n        return HttpResponse('你好， hello！')\n    \n    \n    def create_stu(request):\n        # 创建学生\n        stu = Student()\n        stu.s_name = '李二狗'\n        stu.s_age = 20\n        stu.save()\n        return HttpResponse('创建成功')\n```\n\n   - **2.运行程序**\n\n    查看调用方法生成的ip地址，在数据库中就创建好了数据\n    \n    ![QQ截图20181023122235](web-daytwo\\QQ截图20181023122235.png)\n\n##### 创建表格中的数据（2）\n\n```python\ndef create_stu(request):\n    Student.objects.create(s_name='小明')\n    return HttpResponse('创建成功')\n```\n\n##### （查）查询数据 ：\n\n**准确查询**\n\n```python\ndef sel_stu(request):\n    # 实现查询\n    # 查询所有的数据\n    stus = Student.objects.all()\n    # filter() 过滤\n    stus = Student.objects.filter(s_name='小明')\n    # first()获取第一个\n    # last()获取最后一个\n    stus = Student.objects.filter(s_age=20).first()\n    # get拿不到值和拿到多个值都会报错，filter不会报错，会取到空值\n    stus = Student.objects.get(s_age=20)\n    # 查询多个条件\n    stus = Student.objects.filter(s_age=20).filter(s_gender=1)\n    stus = Student.objects.filter(s_age=20, s_gender=1)\n    print(stu_names)\n    return HttpResponse('查询成功')\n```\n\n**模糊查询**\n\n```python\ndef sel_stu(request):\n# 模糊查询 like '%xxx%' '_xx'\n\t# 名字中含有'吴'字\n    stus = Student.objects.filter(s_name__contains='吴')\n    # 以小开头\n    stus = Student.objects.filter(s_name__startswith='小')\n    # 以小字结尾\n    stus = Student.objects.filter(s_name__endswith='小')\n    stu_names = [stu.s_name for stu in stus]\n    print(stu_names)\n    return HttpResponse('查询成功')\n```\n\n**其它查询**\n\n```python\ndef sel_stu(request):\n\t# 大于 gt/gte  小于 lt/lte\n    stus = Student.objects.filter(s_age__gt=18)\n    stus = Student.objects.filter(s_age__lt=18)\n    stus = Student.objects.filter(s_age__gte=18)\n\n    # 排序 order_by()\n    # 升序\n    stus = Student.objects.order_by('id')\n    # 降序\n    stus = Student.objects.order_by('-id')\n\n    # 查询部满足条件的数据\n    stus = Student.objects.exclude(s_age=20)\n\n    # 计数方法count(),len()\n    print(len(stus))\n    stus_count = stus.count()\n    print(stus_count)\n\n    # values()\n    stus_values = stus.values()\n\n    # id=pk\n    stus = Student.objects.filter(id=2)\n    stus = Student.objects.filter(pk=2)\n\n    stu_names = [stu.s_name for stu in stus]\n    print(stu_names)\n    return HttpResponse('查询成功')\n```\n\n","slug":"前端/web-daytwo","published":1,"updated":"2019-03-14T01:48:30.453Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjt87kqpy004vr8r681h7todz","content":"<h4 id=\"进入虚拟环境\"><a href=\"#进入虚拟环境\" class=\"headerlink\" title=\"进入虚拟环境\"></a>进入虚拟环境</h4><ul>\n<li>env/djenv6/Scripts/activate<ul>\n<li>将代码放到code文件中,从虚拟环境中，进入code文件夹</li>\n</ul>\n</li>\n<li>退出虚拟环境 ——- deactivate</li>\n</ul>\n<h4 id=\"启动一个脚本文件：\"><a href=\"#启动一个脚本文件：\" class=\"headerlink\" title=\"启动一个脚本文件：\"></a>启动一个脚本文件：</h4><p><img src=\"/2018/01/23/前端/web-daytwo/QQ截图20181023121317.png\" alt=\"QQ截图20181023121317\"></p>\n<ul>\n<li><p>Run -&gt; Debug Configurations —- 修改</p>\n<ul>\n<li>Parameters 改成 runserver 8080</li>\n</ul>\n</li>\n<li><p>引入Django模块</p>\n</li>\n<li><p>修改settings中的DATABASE的数据</p>\n<p><img src=\"/2018/01/23/前端/web-daytwo/QQ截图20181023141556.png\" alt=\"QQ截图20181023141556\"></p>\n</li>\n</ul>\n<h4 id=\"在model中创建表格模型\"><a href=\"#在model中创建表格模型\" class=\"headerlink\" title=\"在model中创建表格模型\"></a>在model中创建表格模型</h4><p>1.在settings中的INSTALLED_APPS中添加app</p>\n<p><img src=\"/2018/01/23/前端/web-daytwo/QQ截图20181023121548.png\" alt=\"QQ截图20181023121548\"></p>\n<p>2.执行python manage.py startapp app</p>\n<p>3.执行python manage.py makemiigrations</p>\n<ul>\n<li>Provide a one-off default now (will be set on all existing rows) ——— 缺少一个默认值</li>\n</ul>\n<p>4.再执行python manage.py migrate  —- 迁移表格</p>\n<p>注意：如果执行后没有生成迁移文件，一直提示<strong>No changes detected</strong>这个结果的话，就要手动的去处理了</p>\n<ul>\n<li><p>处理方式一：</p>\n<ul>\n<li>先删除_pycache__文件夹</li>\n<li>直接强制的去执行迁移命令，python manage.py makemigrations xxx (xxx就是app的名称)</li>\n<li>查看自动生成的数据库，查看表django_migrations,删掉app字段为xxx的数据（xxx就是app的名称）</li>\n</ul>\n</li>\n<li><p>处理方式二</p>\n<ul>\n<li><p>执行迁移生成数据库</p>\n<p><strong><code>python manage.py migrate</code></strong></p>\n<p>注意：生成迁移文件的时候，并没有在数据库中生成对应的表，而是执行migrate命令之后才会在数据库中生成表</p>\n</li>\n</ul>\n</li>\n</ul>\n<p>5.如果报错，查看Django_migrations的表格的最后一行</p>\n<h4 id=\"表格中的操作\"><a href=\"#表格中的操作\" class=\"headerlink\" title=\"表格中的操作\"></a>表格中的操作</h4><ul>\n<li>添加表格的列（定义字段）都写在models.py中创建的模型（类）中，定义字段，就表示定义这个类的对象的属性，然后执行上面的第三、四步骤就创建好了</li>\n</ul>\n<pre class=\" language-python\"><code class=\"language-python\">  <span class=\"token keyword\">from</span> django<span class=\"token punctuation\">.</span>db <span class=\"token keyword\">import</span> models\n\n  <span class=\"token comment\" spellcheck=\"true\"># Create your models here.</span>\n  <span class=\"token keyword\">class</span> <span class=\"token class-name\">Student</span><span class=\"token punctuation\">(</span>models<span class=\"token punctuation\">.</span>Model<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n      <span class=\"token comment\" spellcheck=\"true\"># 定义s_name字段，varchar类型，最长不超过6字符，唯一</span>\n      s_name <span class=\"token operator\">=</span> models<span class=\"token punctuation\">.</span>CharField<span class=\"token punctuation\">(</span>max_length<span class=\"token operator\">=</span><span class=\"token number\">6</span><span class=\"token punctuation\">,</span> unique<span class=\"token operator\">=</span><span class=\"token boolean\">True</span><span class=\"token punctuation\">)</span>\n      <span class=\"token comment\" spellcheck=\"true\"># 定义s_age字段，int类型</span>\n      s_age <span class=\"token operator\">=</span> models<span class=\"token punctuation\">.</span>IntegerField<span class=\"token punctuation\">(</span>default<span class=\"token operator\">=</span><span class=\"token number\">18</span><span class=\"token punctuation\">)</span>\n      <span class=\"token comment\" spellcheck=\"true\"># 定义s_gender字段，bool型</span>\n      s_gender <span class=\"token operator\">=</span> models<span class=\"token punctuation\">.</span>BooleanField<span class=\"token punctuation\">(</span>default<span class=\"token operator\">=</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span>\n      <span class=\"token comment\" spellcheck=\"true\"># 定义create_time字段，创建时间</span>\n      create_time <span class=\"token operator\">=</span> models<span class=\"token punctuation\">.</span>DateTimeField<span class=\"token punctuation\">(</span>auto_now_add<span class=\"token operator\">=</span><span class=\"token boolean\">True</span><span class=\"token punctuation\">,</span> null<span class=\"token operator\">=</span><span class=\"token boolean\">True</span><span class=\"token punctuation\">)</span>\n      <span class=\"token comment\" spellcheck=\"true\"># 定义operate_time字段，修改时间</span>\n      operate_time <span class=\"token operator\">=</span> models<span class=\"token punctuation\">.</span>DateTimeField<span class=\"token punctuation\">(</span>auto_now<span class=\"token operator\">=</span><span class=\"token boolean\">True</span><span class=\"token punctuation\">,</span> null<span class=\"token operator\">=</span><span class=\"token boolean\">True</span><span class=\"token punctuation\">)</span>\n\n\n      <span class=\"token keyword\">class</span> <span class=\"token class-name\">Meta</span><span class=\"token punctuation\">:</span>\n          <span class=\"token comment\" spellcheck=\"true\"># 定义模型迁移到数据库中的表格</span>\n          db_table <span class=\"token operator\">=</span> <span class=\"token string\">'student'</span>\n</code></pre>\n<h5 id=\"（增）创建表格中的数据（1）：\"><a href=\"#（增）创建表格中的数据（1）：\" class=\"headerlink\" title=\"（增）创建表格中的数据（1）：\"></a>（增）创建表格中的数据（1）：</h5><ul>\n<li><p><strong>1.url路由</strong></p>\n<p>在urls.py –&gt; urlpatterns中添加一个url（正则表达式，调用views中的方法）</p>\n</li>\n</ul>\n<pre class=\" language-python\"><code class=\"language-python\">    <span class=\"token keyword\">from</span> app <span class=\"token keyword\">import</span> views\n\n    urlpatterns <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span>\n        <span class=\"token comment\" spellcheck=\"true\"># 127.0.0.1:8080/admin/</span>\n        url<span class=\"token punctuation\">(</span>r<span class=\"token string\">'^admin/'</span><span class=\"token punctuation\">,</span> admin<span class=\"token punctuation\">.</span>site<span class=\"token punctuation\">.</span>urls<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n        <span class=\"token comment\" spellcheck=\"true\"># 127.0.0.1/8080/hello/</span>\n        url<span class=\"token punctuation\">(</span>r<span class=\"token string\">'^hello/'</span><span class=\"token punctuation\">,</span> views<span class=\"token punctuation\">.</span>hello<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n        <span class=\"token comment\" spellcheck=\"true\"># 127.0.0.1:8080/create_stu/</span>\n        url<span class=\"token punctuation\">(</span>r<span class=\"token string\">'^create_stu'</span><span class=\"token punctuation\">,</span> views<span class=\"token punctuation\">.</span>create_stu<span class=\"token punctuation\">)</span>\n</code></pre>\n<pre class=\" language-python\"><code class=\"language-python\">    <span class=\"token keyword\">def</span> <span class=\"token function\">hello</span><span class=\"token punctuation\">(</span>request<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n        <span class=\"token keyword\">return</span> HttpResponse<span class=\"token punctuation\">(</span><span class=\"token string\">'你好， hello！'</span><span class=\"token punctuation\">)</span>\n\n\n    <span class=\"token keyword\">def</span> <span class=\"token function\">create_stu</span><span class=\"token punctuation\">(</span>request<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n        <span class=\"token comment\" spellcheck=\"true\"># 创建学生</span>\n        stu <span class=\"token operator\">=</span> Student<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n        stu<span class=\"token punctuation\">.</span>s_name <span class=\"token operator\">=</span> <span class=\"token string\">'李二狗'</span>\n        stu<span class=\"token punctuation\">.</span>s_age <span class=\"token operator\">=</span> <span class=\"token number\">20</span>\n        stu<span class=\"token punctuation\">.</span>save<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n        <span class=\"token keyword\">return</span> HttpResponse<span class=\"token punctuation\">(</span><span class=\"token string\">'创建成功'</span><span class=\"token punctuation\">)</span>\n</code></pre>\n<ul>\n<li><p><strong>2.运行程序</strong></p>\n<p>查看调用方法生成的ip地址，在数据库中就创建好了数据</p>\n<p><img src=\"/2018/01/23/前端/web-daytwo/QQ截图20181023122235.png\" alt=\"QQ截图20181023122235\"></p>\n</li>\n</ul>\n<h5 id=\"创建表格中的数据（2）\"><a href=\"#创建表格中的数据（2）\" class=\"headerlink\" title=\"创建表格中的数据（2）\"></a>创建表格中的数据（2）</h5><pre class=\" language-python\"><code class=\"language-python\"><span class=\"token keyword\">def</span> <span class=\"token function\">create_stu</span><span class=\"token punctuation\">(</span>request<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    Student<span class=\"token punctuation\">.</span>objects<span class=\"token punctuation\">.</span>create<span class=\"token punctuation\">(</span>s_name<span class=\"token operator\">=</span><span class=\"token string\">'小明'</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">return</span> HttpResponse<span class=\"token punctuation\">(</span><span class=\"token string\">'创建成功'</span><span class=\"token punctuation\">)</span>\n</code></pre>\n<h5 id=\"（查）查询数据-：\"><a href=\"#（查）查询数据-：\" class=\"headerlink\" title=\"（查）查询数据 ：\"></a>（查）查询数据 ：</h5><p><strong>准确查询</strong></p>\n<pre class=\" language-python\"><code class=\"language-python\"><span class=\"token keyword\">def</span> <span class=\"token function\">sel_stu</span><span class=\"token punctuation\">(</span>request<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    <span class=\"token comment\" spellcheck=\"true\"># 实现查询</span>\n    <span class=\"token comment\" spellcheck=\"true\"># 查询所有的数据</span>\n    stus <span class=\"token operator\">=</span> Student<span class=\"token punctuation\">.</span>objects<span class=\"token punctuation\">.</span>all<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    <span class=\"token comment\" spellcheck=\"true\"># filter() 过滤</span>\n    stus <span class=\"token operator\">=</span> Student<span class=\"token punctuation\">.</span>objects<span class=\"token punctuation\">.</span>filter<span class=\"token punctuation\">(</span>s_name<span class=\"token operator\">=</span><span class=\"token string\">'小明'</span><span class=\"token punctuation\">)</span>\n    <span class=\"token comment\" spellcheck=\"true\"># first()获取第一个</span>\n    <span class=\"token comment\" spellcheck=\"true\"># last()获取最后一个</span>\n    stus <span class=\"token operator\">=</span> Student<span class=\"token punctuation\">.</span>objects<span class=\"token punctuation\">.</span>filter<span class=\"token punctuation\">(</span>s_age<span class=\"token operator\">=</span><span class=\"token number\">20</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>first<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    <span class=\"token comment\" spellcheck=\"true\"># get拿不到值和拿到多个值都会报错，filter不会报错，会取到空值</span>\n    stus <span class=\"token operator\">=</span> Student<span class=\"token punctuation\">.</span>objects<span class=\"token punctuation\">.</span>get<span class=\"token punctuation\">(</span>s_age<span class=\"token operator\">=</span><span class=\"token number\">20</span><span class=\"token punctuation\">)</span>\n    <span class=\"token comment\" spellcheck=\"true\"># 查询多个条件</span>\n    stus <span class=\"token operator\">=</span> Student<span class=\"token punctuation\">.</span>objects<span class=\"token punctuation\">.</span>filter<span class=\"token punctuation\">(</span>s_age<span class=\"token operator\">=</span><span class=\"token number\">20</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>filter<span class=\"token punctuation\">(</span>s_gender<span class=\"token operator\">=</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span>\n    stus <span class=\"token operator\">=</span> Student<span class=\"token punctuation\">.</span>objects<span class=\"token punctuation\">.</span>filter<span class=\"token punctuation\">(</span>s_age<span class=\"token operator\">=</span><span class=\"token number\">20</span><span class=\"token punctuation\">,</span> s_gender<span class=\"token operator\">=</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>stu_names<span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">return</span> HttpResponse<span class=\"token punctuation\">(</span><span class=\"token string\">'查询成功'</span><span class=\"token punctuation\">)</span>\n</code></pre>\n<p><strong>模糊查询</strong></p>\n<pre class=\" language-python\"><code class=\"language-python\"><span class=\"token keyword\">def</span> <span class=\"token function\">sel_stu</span><span class=\"token punctuation\">(</span>request<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n<span class=\"token comment\" spellcheck=\"true\"># 模糊查询 like '%xxx%' '_xx'</span>\n    <span class=\"token comment\" spellcheck=\"true\"># 名字中含有'吴'字</span>\n    stus <span class=\"token operator\">=</span> Student<span class=\"token punctuation\">.</span>objects<span class=\"token punctuation\">.</span>filter<span class=\"token punctuation\">(</span>s_name__contains<span class=\"token operator\">=</span><span class=\"token string\">'吴'</span><span class=\"token punctuation\">)</span>\n    <span class=\"token comment\" spellcheck=\"true\"># 以小开头</span>\n    stus <span class=\"token operator\">=</span> Student<span class=\"token punctuation\">.</span>objects<span class=\"token punctuation\">.</span>filter<span class=\"token punctuation\">(</span>s_name__startswith<span class=\"token operator\">=</span><span class=\"token string\">'小'</span><span class=\"token punctuation\">)</span>\n    <span class=\"token comment\" spellcheck=\"true\"># 以小字结尾</span>\n    stus <span class=\"token operator\">=</span> Student<span class=\"token punctuation\">.</span>objects<span class=\"token punctuation\">.</span>filter<span class=\"token punctuation\">(</span>s_name__endswith<span class=\"token operator\">=</span><span class=\"token string\">'小'</span><span class=\"token punctuation\">)</span>\n    stu_names <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span>stu<span class=\"token punctuation\">.</span>s_name <span class=\"token keyword\">for</span> stu <span class=\"token keyword\">in</span> stus<span class=\"token punctuation\">]</span>\n    <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>stu_names<span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">return</span> HttpResponse<span class=\"token punctuation\">(</span><span class=\"token string\">'查询成功'</span><span class=\"token punctuation\">)</span>\n</code></pre>\n<p><strong>其它查询</strong></p>\n<pre class=\" language-python\"><code class=\"language-python\"><span class=\"token keyword\">def</span> <span class=\"token function\">sel_stu</span><span class=\"token punctuation\">(</span>request<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    <span class=\"token comment\" spellcheck=\"true\"># 大于 gt/gte  小于 lt/lte</span>\n    stus <span class=\"token operator\">=</span> Student<span class=\"token punctuation\">.</span>objects<span class=\"token punctuation\">.</span>filter<span class=\"token punctuation\">(</span>s_age__gt<span class=\"token operator\">=</span><span class=\"token number\">18</span><span class=\"token punctuation\">)</span>\n    stus <span class=\"token operator\">=</span> Student<span class=\"token punctuation\">.</span>objects<span class=\"token punctuation\">.</span>filter<span class=\"token punctuation\">(</span>s_age__lt<span class=\"token operator\">=</span><span class=\"token number\">18</span><span class=\"token punctuation\">)</span>\n    stus <span class=\"token operator\">=</span> Student<span class=\"token punctuation\">.</span>objects<span class=\"token punctuation\">.</span>filter<span class=\"token punctuation\">(</span>s_age__gte<span class=\"token operator\">=</span><span class=\"token number\">18</span><span class=\"token punctuation\">)</span>\n\n    <span class=\"token comment\" spellcheck=\"true\"># 排序 order_by()</span>\n    <span class=\"token comment\" spellcheck=\"true\"># 升序</span>\n    stus <span class=\"token operator\">=</span> Student<span class=\"token punctuation\">.</span>objects<span class=\"token punctuation\">.</span>order_by<span class=\"token punctuation\">(</span><span class=\"token string\">'id'</span><span class=\"token punctuation\">)</span>\n    <span class=\"token comment\" spellcheck=\"true\"># 降序</span>\n    stus <span class=\"token operator\">=</span> Student<span class=\"token punctuation\">.</span>objects<span class=\"token punctuation\">.</span>order_by<span class=\"token punctuation\">(</span><span class=\"token string\">'-id'</span><span class=\"token punctuation\">)</span>\n\n    <span class=\"token comment\" spellcheck=\"true\"># 查询部满足条件的数据</span>\n    stus <span class=\"token operator\">=</span> Student<span class=\"token punctuation\">.</span>objects<span class=\"token punctuation\">.</span>exclude<span class=\"token punctuation\">(</span>s_age<span class=\"token operator\">=</span><span class=\"token number\">20</span><span class=\"token punctuation\">)</span>\n\n    <span class=\"token comment\" spellcheck=\"true\"># 计数方法count(),len()</span>\n    <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>len<span class=\"token punctuation\">(</span>stus<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n    stus_count <span class=\"token operator\">=</span> stus<span class=\"token punctuation\">.</span>count<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>stus_count<span class=\"token punctuation\">)</span>\n\n    <span class=\"token comment\" spellcheck=\"true\"># values()</span>\n    stus_values <span class=\"token operator\">=</span> stus<span class=\"token punctuation\">.</span>values<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n\n    <span class=\"token comment\" spellcheck=\"true\"># id=pk</span>\n    stus <span class=\"token operator\">=</span> Student<span class=\"token punctuation\">.</span>objects<span class=\"token punctuation\">.</span>filter<span class=\"token punctuation\">(</span>id<span class=\"token operator\">=</span><span class=\"token number\">2</span><span class=\"token punctuation\">)</span>\n    stus <span class=\"token operator\">=</span> Student<span class=\"token punctuation\">.</span>objects<span class=\"token punctuation\">.</span>filter<span class=\"token punctuation\">(</span>pk<span class=\"token operator\">=</span><span class=\"token number\">2</span><span class=\"token punctuation\">)</span>\n\n    stu_names <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span>stu<span class=\"token punctuation\">.</span>s_name <span class=\"token keyword\">for</span> stu <span class=\"token keyword\">in</span> stus<span class=\"token punctuation\">]</span>\n    <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>stu_names<span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">return</span> HttpResponse<span class=\"token punctuation\">(</span><span class=\"token string\">'查询成功'</span><span class=\"token punctuation\">)</span>\n</code></pre>\n","site":{"data":{}},"excerpt":"","more":"<h4 id=\"进入虚拟环境\"><a href=\"#进入虚拟环境\" class=\"headerlink\" title=\"进入虚拟环境\"></a>进入虚拟环境</h4><ul>\n<li>env/djenv6/Scripts/activate<ul>\n<li>将代码放到code文件中,从虚拟环境中，进入code文件夹</li>\n</ul>\n</li>\n<li>退出虚拟环境 ——- deactivate</li>\n</ul>\n<h4 id=\"启动一个脚本文件：\"><a href=\"#启动一个脚本文件：\" class=\"headerlink\" title=\"启动一个脚本文件：\"></a>启动一个脚本文件：</h4><p><img src=\"/2018/01/23/前端/web-daytwo/QQ截图20181023121317.png\" alt=\"QQ截图20181023121317\"></p>\n<ul>\n<li><p>Run -&gt; Debug Configurations —- 修改</p>\n<ul>\n<li>Parameters 改成 runserver 8080</li>\n</ul>\n</li>\n<li><p>引入Django模块</p>\n</li>\n<li><p>修改settings中的DATABASE的数据</p>\n<p><img src=\"/2018/01/23/前端/web-daytwo/QQ截图20181023141556.png\" alt=\"QQ截图20181023141556\"></p>\n</li>\n</ul>\n<h4 id=\"在model中创建表格模型\"><a href=\"#在model中创建表格模型\" class=\"headerlink\" title=\"在model中创建表格模型\"></a>在model中创建表格模型</h4><p>1.在settings中的INSTALLED_APPS中添加app</p>\n<p><img src=\"/2018/01/23/前端/web-daytwo/QQ截图20181023121548.png\" alt=\"QQ截图20181023121548\"></p>\n<p>2.执行python manage.py startapp app</p>\n<p>3.执行python manage.py makemiigrations</p>\n<ul>\n<li>Provide a one-off default now (will be set on all existing rows) ——— 缺少一个默认值</li>\n</ul>\n<p>4.再执行python manage.py migrate  —- 迁移表格</p>\n<p>注意：如果执行后没有生成迁移文件，一直提示<strong>No changes detected</strong>这个结果的话，就要手动的去处理了</p>\n<ul>\n<li><p>处理方式一：</p>\n<ul>\n<li>先删除_pycache__文件夹</li>\n<li>直接强制的去执行迁移命令，python manage.py makemigrations xxx (xxx就是app的名称)</li>\n<li>查看自动生成的数据库，查看表django_migrations,删掉app字段为xxx的数据（xxx就是app的名称）</li>\n</ul>\n</li>\n<li><p>处理方式二</p>\n<ul>\n<li><p>执行迁移生成数据库</p>\n<p><strong><code>python manage.py migrate</code></strong></p>\n<p>注意：生成迁移文件的时候，并没有在数据库中生成对应的表，而是执行migrate命令之后才会在数据库中生成表</p>\n</li>\n</ul>\n</li>\n</ul>\n<p>5.如果报错，查看Django_migrations的表格的最后一行</p>\n<h4 id=\"表格中的操作\"><a href=\"#表格中的操作\" class=\"headerlink\" title=\"表格中的操作\"></a>表格中的操作</h4><ul>\n<li>添加表格的列（定义字段）都写在models.py中创建的模型（类）中，定义字段，就表示定义这个类的对象的属性，然后执行上面的第三、四步骤就创建好了</li>\n</ul>\n<pre><code class=\"python\">  from django.db import models\n\n  # Create your models here.\n  class Student(models.Model):\n      # 定义s_name字段，varchar类型，最长不超过6字符，唯一\n      s_name = models.CharField(max_length=6, unique=True)\n      # 定义s_age字段，int类型\n      s_age = models.IntegerField(default=18)\n      # 定义s_gender字段，bool型\n      s_gender = models.BooleanField(default=1)\n      # 定义create_time字段，创建时间\n      create_time = models.DateTimeField(auto_now_add=True, null=True)\n      # 定义operate_time字段，修改时间\n      operate_time = models.DateTimeField(auto_now=True, null=True)\n\n\n      class Meta:\n          # 定义模型迁移到数据库中的表格\n          db_table = &#39;student&#39;\n</code></pre>\n<h5 id=\"（增）创建表格中的数据（1）：\"><a href=\"#（增）创建表格中的数据（1）：\" class=\"headerlink\" title=\"（增）创建表格中的数据（1）：\"></a>（增）创建表格中的数据（1）：</h5><ul>\n<li><p><strong>1.url路由</strong></p>\n<p>在urls.py –&gt; urlpatterns中添加一个url（正则表达式，调用views中的方法）</p>\n</li>\n</ul>\n<pre><code class=\"python\">    from app import views\n\n    urlpatterns = [\n        # 127.0.0.1:8080/admin/\n        url(r&#39;^admin/&#39;, admin.site.urls),\n        # 127.0.0.1/8080/hello/\n        url(r&#39;^hello/&#39;, views.hello),\n        # 127.0.0.1:8080/create_stu/\n        url(r&#39;^create_stu&#39;, views.create_stu)\n</code></pre>\n<pre><code class=\"python\">    def hello(request):\n        return HttpResponse(&#39;你好， hello！&#39;)\n\n\n    def create_stu(request):\n        # 创建学生\n        stu = Student()\n        stu.s_name = &#39;李二狗&#39;\n        stu.s_age = 20\n        stu.save()\n        return HttpResponse(&#39;创建成功&#39;)\n</code></pre>\n<ul>\n<li><p><strong>2.运行程序</strong></p>\n<p>查看调用方法生成的ip地址，在数据库中就创建好了数据</p>\n<p><img src=\"/2018/01/23/前端/web-daytwo/QQ截图20181023122235.png\" alt=\"QQ截图20181023122235\"></p>\n</li>\n</ul>\n<h5 id=\"创建表格中的数据（2）\"><a href=\"#创建表格中的数据（2）\" class=\"headerlink\" title=\"创建表格中的数据（2）\"></a>创建表格中的数据（2）</h5><pre><code class=\"python\">def create_stu(request):\n    Student.objects.create(s_name=&#39;小明&#39;)\n    return HttpResponse(&#39;创建成功&#39;)\n</code></pre>\n<h5 id=\"（查）查询数据-：\"><a href=\"#（查）查询数据-：\" class=\"headerlink\" title=\"（查）查询数据 ：\"></a>（查）查询数据 ：</h5><p><strong>准确查询</strong></p>\n<pre><code class=\"python\">def sel_stu(request):\n    # 实现查询\n    # 查询所有的数据\n    stus = Student.objects.all()\n    # filter() 过滤\n    stus = Student.objects.filter(s_name=&#39;小明&#39;)\n    # first()获取第一个\n    # last()获取最后一个\n    stus = Student.objects.filter(s_age=20).first()\n    # get拿不到值和拿到多个值都会报错，filter不会报错，会取到空值\n    stus = Student.objects.get(s_age=20)\n    # 查询多个条件\n    stus = Student.objects.filter(s_age=20).filter(s_gender=1)\n    stus = Student.objects.filter(s_age=20, s_gender=1)\n    print(stu_names)\n    return HttpResponse(&#39;查询成功&#39;)\n</code></pre>\n<p><strong>模糊查询</strong></p>\n<pre><code class=\"python\">def sel_stu(request):\n# 模糊查询 like &#39;%xxx%&#39; &#39;_xx&#39;\n    # 名字中含有&#39;吴&#39;字\n    stus = Student.objects.filter(s_name__contains=&#39;吴&#39;)\n    # 以小开头\n    stus = Student.objects.filter(s_name__startswith=&#39;小&#39;)\n    # 以小字结尾\n    stus = Student.objects.filter(s_name__endswith=&#39;小&#39;)\n    stu_names = [stu.s_name for stu in stus]\n    print(stu_names)\n    return HttpResponse(&#39;查询成功&#39;)\n</code></pre>\n<p><strong>其它查询</strong></p>\n<pre><code class=\"python\">def sel_stu(request):\n    # 大于 gt/gte  小于 lt/lte\n    stus = Student.objects.filter(s_age__gt=18)\n    stus = Student.objects.filter(s_age__lt=18)\n    stus = Student.objects.filter(s_age__gte=18)\n\n    # 排序 order_by()\n    # 升序\n    stus = Student.objects.order_by(&#39;id&#39;)\n    # 降序\n    stus = Student.objects.order_by(&#39;-id&#39;)\n\n    # 查询部满足条件的数据\n    stus = Student.objects.exclude(s_age=20)\n\n    # 计数方法count(),len()\n    print(len(stus))\n    stus_count = stus.count()\n    print(stus_count)\n\n    # values()\n    stus_values = stus.values()\n\n    # id=pk\n    stus = Student.objects.filter(id=2)\n    stus = Student.objects.filter(pk=2)\n\n    stu_names = [stu.s_name for stu in stus]\n    print(stu_names)\n    return HttpResponse(&#39;查询成功&#39;)\n</code></pre>\n"},{"title":"Django—框架","date":"2018-01-22T01:42:39.000Z","author":"smile","_content":"\n## *框架*\n\n#### Django:Python Web应用开发框架\n\n&emsp;&emsp;Django 应该是最出名的Python框架，GAE甚至Erlang都有框架受它影响。Django是走大而全的方向，它最出名的是其全自动化的管理后台：只需要使用起ORM，做简单的对象定义，它就能自动生成数据库结构、以及全功能的管理后台。\n\n#### Flask：一个用Python编写的轻量级Web应用框架\n\n&emsp;&emsp;Flask是一个使用Python编写的轻量级Web应用框架。基于Werkzeug WSGI工具箱和Jinja2 \n模板引擎。Flask也被称为“microframework”，因为它使用简单的核心，用extension增加其他功能。Flask没有默认使用的数\n据库、窗体验证工具.\n\n#### Cubes：轻量级Python OLAP框架\n\n&emsp;&emsp;Cubes是一个轻量级Python框架，包含OLAP、多维数据分析和浏览聚合数据（aggregated data）等工具.\n\n#### Pulsar：Python的事件驱动并发框架\n\n&emsp;&emsp;Pulsar是一个事件驱动的并发框架，有了pulsar，你可以写出在不同进程或线程中运行一个或多个活动的异步服务器.\n\n#### Web2py：全栈式Web框架\n\n&emsp;&emsp;Web2py是一个为Python语言提供的全功能Web应用框架，旨在敏捷快速的开发Web应用，具有快速、安全以及可移植的数据库驱动的应用，兼容Google App Engine.\n\n#### Scrapy：Python的爬虫框架\n\n&emsp;&emsp;Scrapy是一个使用Python编写的，轻量级的，简单轻巧，并且使用起来非常的方便.\n\n## *Django*\n\n#### MVC：\n\nM(模型层)、V(视图层)、C(业务层)\n\n&emsp;&emsp;MVC（Model View Controller）是模型-视图-控制器，一种软件设计典范，用一种业务逻辑、数据、界面显示分离的方法组织代码，将业务逻辑狙击到一个部件里，在改进和个性化定制界面及用户交互的同时，不需要重新编写业务逻辑。MVC被独特的发展起来用于映射传统的输入、处理和输出功能在一个逻辑的图形化用户界面的结构中。通俗的来讲就是，强制性的使应用程序的输入，处理和输出分开。\n\n![QQ截图20181022103251](web-the-firstone\\QQ截图20181022103251.png)\n\n#### MVT：\n\nM(模型层)、V(视图：处理业务逻辑)、T(模板Template：html)\n\n&emsp;&emsp;严格来说，Django的模式应该是MVT模式，本质上和MVC没什么区别，也是各组件之间为了保持松耦合关系，只是定义上有些许不同。\n\nModel： 负责业务与数据库(ORM)的对象\n\nView： 负责业务逻辑并适当调用Model和Template\n\nTemplate: 负责把页面渲染展示给用户\n\n注意： Django中还有一个url分发器，也叫作路由。主要用于将url请求发送给不同的View处理，View在进行相关的业务逻辑处理。\n\n## *安装Django和创建Django的虚拟环境*\n\n#### 创建虚拟环境（1）\n\n##### 操作命令\n\n##### VIRTUALENV创建虚拟环境\n\n1.在cmd中能通过python去启动，如果不可以，直接跳到第三部\n\n![python](web-the-firstone\\python.png)\n\n2.在cmd中能通过pip3启动安装软件，如果不可以直接跳到第三步\n\n![pip3](web-the-firstone\\pip3.png)\n\n3.配置python环境和pip环境\n\n![python_pip_envir](web-the-firstone\\python_pip_envir.png)\n\n4.确认pip安装成功，如果Scrip文件夹下没有pip可执行文件，则执行第五步\n\n5.由于python3.6安装以后，在Scrip文件中没有pip的可执行软件，需要输入下一个命令进行安装\n\n`python -m ensurepip`\n\n![ensurepip](web-the-firstone\\ensurepip.png)\n\n注：现在在python的安装文件夹Scripts下就有pip.exe以及easy_install.exe等可执行文件了，就可以使用pip安装\n\n##### window中安装使用\n\n1.安装virtualenv\n\n`pip install virtualenv`\n\n![pip_virtualenv](web-the-firstone\\pip_virtualenv.png)\n\n2.创建虚拟环境\n\n先查看一下安装虚拟环境有那些参数，是必须填写的\n\n![virtualenv_help](web-the-firstone\\virtualenv_help.png)\n\n参数： --no-site-package 和-p参数\n\n```\n创建纯净的虚拟环境：\nvirtualenv --no-site-package  环境名\n```\n\n以下是指定安装虚拟环境中的python版本和安装方式：\n\npython版本3.6 + Django 1.11\n\n![virtualenv_env_p](web-the-firstone\\virtualenv_env_p.png)\n\n3.进入/退出evn\n\n```\n进入 cd env/Scripts/文件夹 在activate命令\n退出 deactivate\n```\n\nubuntu中安装使用\n\n1.安装virtualenv\n\n`apt-get install python-virtualenv`\n\n2.创建包含python3版本的虚拟环境\n\n`virtualenv -p /usr/bin/python3 env`\n\nenv代表创建的虚拟环境的名称\n\n3.进入/退出env\n\n```\n进入 source env/bin/activate\n\tpip list\n\tpip install django==1.11 ---------- 安装django\n\tpip install PyMySQL ------------ 安装PyMySQL\n退出 deactivate\n```\n\n4.pip使用\n\n查看虚拟环境下安装的所有包\n\n`pip list`\n\n查看虚拟环境中通过pip安装的包\n\n`pip freeze`\n\n#### 创建虚拟环境（2）\n\n1.新建文件夹  -------->  env\n\n2.在env中 新建文件 --------- djenv6\n\n3.在djenv6中，保存pip所有需要的文件\n\n4.通过`pip list`查看虚拟环境下安装的所有包\n\n5.安装Django\n\n`pip install django==1.11`\n\n## *在Django的虚拟环境中*\n\n- 创建项目\n\n  `django-admin startproject day01`\n\n- 在python中打开文件\n\n  ![QQ截图20181022171438](web-the-firstone\\QQ截图20181022171438.png)\n\n  - __init__.py：说明该目录结构是一个python包，会在后期被用来初始化一些工具。\n  - seetings.py：Django项目的配置文件，其中定义了本项目的引用组件，项目名，数据库，静态资源，调试模式，域名限制等，可以用来修改一些文件设置。\n  - urls：项目的URL路由映射，实现客户端请求的url由那个模块进行响应。\n  - wsgi.py：定义WSGI接口信息，通常本文件生成后无需改动。\n  - manage.py：是Django用于管理本项目的管理集工具，之后站点运行，数据库自动生成，数据表的修改等都是通过该文件完成。\n\n- Django驱动页面\n\n  `python manage.py runserver`\n\n- 修改Django的驱动页面的语言设置\n\n中文和时区设置：\n\n![QQ截图20181022152640](web-the-firstone\\QQ截图20181022152640.png)\n\n英文和时区设置：\n\n![QQ截图20181022152916](F:\\hexo\\source\\_posts\\web-the-firstone\\QQ截图20181022152916.png)\n\n- 启动Django的方法\n\n  `python manage.py runserver 8080`\n\n  `python manage.py runserver IP:8080`\n\n- 访问管理后台 ------- admin\n\n  `http://127.0.0.1:8080/admin`\n\n- 修改数据库的配置 -------- settings.py\n\n  `ENGINE, USER, PASSWORD, HOST, PORT, NAME`\n\n- 将Django中自带的模型迁移（映射）到数据库中\n\n  `python manage.py migrate`\n\n- 安装数据库驱动\n\n  `pip install pymysql`\n\n- 初始化数据库的驱动______init__.py\n\n  ```python\n  import pymysql\n  pymysql.install__as__mysqldb()\n  ```\n\n- 设置Django后台账户和密码\n\n  ```python\n  python manage.py createsuperuser\n  python manage.py changepassword\n  ```\n","source":"_posts/前端/web-the-firstone.md","raw":"---\ntitle: Django—框架\ndate: 2018-01-22 09:42:39\nauthor: smile\ncategories: Django\ntags:\n  - 框架\n  - Django\n---\n\n## *框架*\n\n#### Django:Python Web应用开发框架\n\n&emsp;&emsp;Django 应该是最出名的Python框架，GAE甚至Erlang都有框架受它影响。Django是走大而全的方向，它最出名的是其全自动化的管理后台：只需要使用起ORM，做简单的对象定义，它就能自动生成数据库结构、以及全功能的管理后台。\n\n#### Flask：一个用Python编写的轻量级Web应用框架\n\n&emsp;&emsp;Flask是一个使用Python编写的轻量级Web应用框架。基于Werkzeug WSGI工具箱和Jinja2 \n模板引擎。Flask也被称为“microframework”，因为它使用简单的核心，用extension增加其他功能。Flask没有默认使用的数\n据库、窗体验证工具.\n\n#### Cubes：轻量级Python OLAP框架\n\n&emsp;&emsp;Cubes是一个轻量级Python框架，包含OLAP、多维数据分析和浏览聚合数据（aggregated data）等工具.\n\n#### Pulsar：Python的事件驱动并发框架\n\n&emsp;&emsp;Pulsar是一个事件驱动的并发框架，有了pulsar，你可以写出在不同进程或线程中运行一个或多个活动的异步服务器.\n\n#### Web2py：全栈式Web框架\n\n&emsp;&emsp;Web2py是一个为Python语言提供的全功能Web应用框架，旨在敏捷快速的开发Web应用，具有快速、安全以及可移植的数据库驱动的应用，兼容Google App Engine.\n\n#### Scrapy：Python的爬虫框架\n\n&emsp;&emsp;Scrapy是一个使用Python编写的，轻量级的，简单轻巧，并且使用起来非常的方便.\n\n## *Django*\n\n#### MVC：\n\nM(模型层)、V(视图层)、C(业务层)\n\n&emsp;&emsp;MVC（Model View Controller）是模型-视图-控制器，一种软件设计典范，用一种业务逻辑、数据、界面显示分离的方法组织代码，将业务逻辑狙击到一个部件里，在改进和个性化定制界面及用户交互的同时，不需要重新编写业务逻辑。MVC被独特的发展起来用于映射传统的输入、处理和输出功能在一个逻辑的图形化用户界面的结构中。通俗的来讲就是，强制性的使应用程序的输入，处理和输出分开。\n\n![QQ截图20181022103251](web-the-firstone\\QQ截图20181022103251.png)\n\n#### MVT：\n\nM(模型层)、V(视图：处理业务逻辑)、T(模板Template：html)\n\n&emsp;&emsp;严格来说，Django的模式应该是MVT模式，本质上和MVC没什么区别，也是各组件之间为了保持松耦合关系，只是定义上有些许不同。\n\nModel： 负责业务与数据库(ORM)的对象\n\nView： 负责业务逻辑并适当调用Model和Template\n\nTemplate: 负责把页面渲染展示给用户\n\n注意： Django中还有一个url分发器，也叫作路由。主要用于将url请求发送给不同的View处理，View在进行相关的业务逻辑处理。\n\n## *安装Django和创建Django的虚拟环境*\n\n#### 创建虚拟环境（1）\n\n##### 操作命令\n\n##### VIRTUALENV创建虚拟环境\n\n1.在cmd中能通过python去启动，如果不可以，直接跳到第三部\n\n![python](web-the-firstone\\python.png)\n\n2.在cmd中能通过pip3启动安装软件，如果不可以直接跳到第三步\n\n![pip3](web-the-firstone\\pip3.png)\n\n3.配置python环境和pip环境\n\n![python_pip_envir](web-the-firstone\\python_pip_envir.png)\n\n4.确认pip安装成功，如果Scrip文件夹下没有pip可执行文件，则执行第五步\n\n5.由于python3.6安装以后，在Scrip文件中没有pip的可执行软件，需要输入下一个命令进行安装\n\n`python -m ensurepip`\n\n![ensurepip](web-the-firstone\\ensurepip.png)\n\n注：现在在python的安装文件夹Scripts下就有pip.exe以及easy_install.exe等可执行文件了，就可以使用pip安装\n\n##### window中安装使用\n\n1.安装virtualenv\n\n`pip install virtualenv`\n\n![pip_virtualenv](web-the-firstone\\pip_virtualenv.png)\n\n2.创建虚拟环境\n\n先查看一下安装虚拟环境有那些参数，是必须填写的\n\n![virtualenv_help](web-the-firstone\\virtualenv_help.png)\n\n参数： --no-site-package 和-p参数\n\n```\n创建纯净的虚拟环境：\nvirtualenv --no-site-package  环境名\n```\n\n以下是指定安装虚拟环境中的python版本和安装方式：\n\npython版本3.6 + Django 1.11\n\n![virtualenv_env_p](web-the-firstone\\virtualenv_env_p.png)\n\n3.进入/退出evn\n\n```\n进入 cd env/Scripts/文件夹 在activate命令\n退出 deactivate\n```\n\nubuntu中安装使用\n\n1.安装virtualenv\n\n`apt-get install python-virtualenv`\n\n2.创建包含python3版本的虚拟环境\n\n`virtualenv -p /usr/bin/python3 env`\n\nenv代表创建的虚拟环境的名称\n\n3.进入/退出env\n\n```\n进入 source env/bin/activate\n\tpip list\n\tpip install django==1.11 ---------- 安装django\n\tpip install PyMySQL ------------ 安装PyMySQL\n退出 deactivate\n```\n\n4.pip使用\n\n查看虚拟环境下安装的所有包\n\n`pip list`\n\n查看虚拟环境中通过pip安装的包\n\n`pip freeze`\n\n#### 创建虚拟环境（2）\n\n1.新建文件夹  -------->  env\n\n2.在env中 新建文件 --------- djenv6\n\n3.在djenv6中，保存pip所有需要的文件\n\n4.通过`pip list`查看虚拟环境下安装的所有包\n\n5.安装Django\n\n`pip install django==1.11`\n\n## *在Django的虚拟环境中*\n\n- 创建项目\n\n  `django-admin startproject day01`\n\n- 在python中打开文件\n\n  ![QQ截图20181022171438](web-the-firstone\\QQ截图20181022171438.png)\n\n  - __init__.py：说明该目录结构是一个python包，会在后期被用来初始化一些工具。\n  - seetings.py：Django项目的配置文件，其中定义了本项目的引用组件，项目名，数据库，静态资源，调试模式，域名限制等，可以用来修改一些文件设置。\n  - urls：项目的URL路由映射，实现客户端请求的url由那个模块进行响应。\n  - wsgi.py：定义WSGI接口信息，通常本文件生成后无需改动。\n  - manage.py：是Django用于管理本项目的管理集工具，之后站点运行，数据库自动生成，数据表的修改等都是通过该文件完成。\n\n- Django驱动页面\n\n  `python manage.py runserver`\n\n- 修改Django的驱动页面的语言设置\n\n中文和时区设置：\n\n![QQ截图20181022152640](web-the-firstone\\QQ截图20181022152640.png)\n\n英文和时区设置：\n\n![QQ截图20181022152916](F:\\hexo\\source\\_posts\\web-the-firstone\\QQ截图20181022152916.png)\n\n- 启动Django的方法\n\n  `python manage.py runserver 8080`\n\n  `python manage.py runserver IP:8080`\n\n- 访问管理后台 ------- admin\n\n  `http://127.0.0.1:8080/admin`\n\n- 修改数据库的配置 -------- settings.py\n\n  `ENGINE, USER, PASSWORD, HOST, PORT, NAME`\n\n- 将Django中自带的模型迁移（映射）到数据库中\n\n  `python manage.py migrate`\n\n- 安装数据库驱动\n\n  `pip install pymysql`\n\n- 初始化数据库的驱动______init__.py\n\n  ```python\n  import pymysql\n  pymysql.install__as__mysqldb()\n  ```\n\n- 设置Django后台账户和密码\n\n  ```python\n  python manage.py createsuperuser\n  python manage.py changepassword\n  ```\n","slug":"前端/web-the-firstone","published":1,"updated":"2019-03-14T01:48:20.222Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjt87kqq5004yr8r6swn3xqa4","content":"<h2 id=\"框架\"><a href=\"#框架\" class=\"headerlink\" title=\"框架\"></a><em>框架</em></h2><h4 id=\"Django-Python-Web应用开发框架\"><a href=\"#Django-Python-Web应用开发框架\" class=\"headerlink\" title=\"Django:Python Web应用开发框架\"></a>Django:Python Web应用开发框架</h4><p>&emsp;&emsp;Django 应该是最出名的Python框架，GAE甚至Erlang都有框架受它影响。Django是走大而全的方向，它最出名的是其全自动化的管理后台：只需要使用起ORM，做简单的对象定义，它就能自动生成数据库结构、以及全功能的管理后台。</p>\n<h4 id=\"Flask：一个用Python编写的轻量级Web应用框架\"><a href=\"#Flask：一个用Python编写的轻量级Web应用框架\" class=\"headerlink\" title=\"Flask：一个用Python编写的轻量级Web应用框架\"></a>Flask：一个用Python编写的轻量级Web应用框架</h4><p>&emsp;&emsp;Flask是一个使用Python编写的轻量级Web应用框架。基于Werkzeug WSGI工具箱和Jinja2<br>模板引擎。Flask也被称为“microframework”，因为它使用简单的核心，用extension增加其他功能。Flask没有默认使用的数<br>据库、窗体验证工具.</p>\n<h4 id=\"Cubes：轻量级Python-OLAP框架\"><a href=\"#Cubes：轻量级Python-OLAP框架\" class=\"headerlink\" title=\"Cubes：轻量级Python OLAP框架\"></a>Cubes：轻量级Python OLAP框架</h4><p>&emsp;&emsp;Cubes是一个轻量级Python框架，包含OLAP、多维数据分析和浏览聚合数据（aggregated data）等工具.</p>\n<h4 id=\"Pulsar：Python的事件驱动并发框架\"><a href=\"#Pulsar：Python的事件驱动并发框架\" class=\"headerlink\" title=\"Pulsar：Python的事件驱动并发框架\"></a>Pulsar：Python的事件驱动并发框架</h4><p>&emsp;&emsp;Pulsar是一个事件驱动的并发框架，有了pulsar，你可以写出在不同进程或线程中运行一个或多个活动的异步服务器.</p>\n<h4 id=\"Web2py：全栈式Web框架\"><a href=\"#Web2py：全栈式Web框架\" class=\"headerlink\" title=\"Web2py：全栈式Web框架\"></a>Web2py：全栈式Web框架</h4><p>&emsp;&emsp;Web2py是一个为Python语言提供的全功能Web应用框架，旨在敏捷快速的开发Web应用，具有快速、安全以及可移植的数据库驱动的应用，兼容Google App Engine.</p>\n<h4 id=\"Scrapy：Python的爬虫框架\"><a href=\"#Scrapy：Python的爬虫框架\" class=\"headerlink\" title=\"Scrapy：Python的爬虫框架\"></a>Scrapy：Python的爬虫框架</h4><p>&emsp;&emsp;Scrapy是一个使用Python编写的，轻量级的，简单轻巧，并且使用起来非常的方便.</p>\n<h2 id=\"Django\"><a href=\"#Django\" class=\"headerlink\" title=\"Django\"></a><em>Django</em></h2><h4 id=\"MVC：\"><a href=\"#MVC：\" class=\"headerlink\" title=\"MVC：\"></a>MVC：</h4><p>M(模型层)、V(视图层)、C(业务层)</p>\n<p>&emsp;&emsp;MVC（Model View Controller）是模型-视图-控制器，一种软件设计典范，用一种业务逻辑、数据、界面显示分离的方法组织代码，将业务逻辑狙击到一个部件里，在改进和个性化定制界面及用户交互的同时，不需要重新编写业务逻辑。MVC被独特的发展起来用于映射传统的输入、处理和输出功能在一个逻辑的图形化用户界面的结构中。通俗的来讲就是，强制性的使应用程序的输入，处理和输出分开。</p>\n<p><img src=\"/2018/01/22/前端/web-the-firstone/QQ截图20181022103251.png\" alt=\"QQ截图20181022103251\"></p>\n<h4 id=\"MVT：\"><a href=\"#MVT：\" class=\"headerlink\" title=\"MVT：\"></a>MVT：</h4><p>M(模型层)、V(视图：处理业务逻辑)、T(模板Template：html)</p>\n<p>&emsp;&emsp;严格来说，Django的模式应该是MVT模式，本质上和MVC没什么区别，也是各组件之间为了保持松耦合关系，只是定义上有些许不同。</p>\n<p>Model： 负责业务与数据库(ORM)的对象</p>\n<p>View： 负责业务逻辑并适当调用Model和Template</p>\n<p>Template: 负责把页面渲染展示给用户</p>\n<p>注意： Django中还有一个url分发器，也叫作路由。主要用于将url请求发送给不同的View处理，View在进行相关的业务逻辑处理。</p>\n<h2 id=\"安装Django和创建Django的虚拟环境\"><a href=\"#安装Django和创建Django的虚拟环境\" class=\"headerlink\" title=\"安装Django和创建Django的虚拟环境\"></a><em>安装Django和创建Django的虚拟环境</em></h2><h4 id=\"创建虚拟环境（1）\"><a href=\"#创建虚拟环境（1）\" class=\"headerlink\" title=\"创建虚拟环境（1）\"></a>创建虚拟环境（1）</h4><h5 id=\"操作命令\"><a href=\"#操作命令\" class=\"headerlink\" title=\"操作命令\"></a>操作命令</h5><h5 id=\"VIRTUALENV创建虚拟环境\"><a href=\"#VIRTUALENV创建虚拟环境\" class=\"headerlink\" title=\"VIRTUALENV创建虚拟环境\"></a>VIRTUALENV创建虚拟环境</h5><p>1.在cmd中能通过python去启动，如果不可以，直接跳到第三部</p>\n<p><img src=\"/2018/01/22/前端/web-the-firstone/python.png\" alt=\"python\"></p>\n<p>2.在cmd中能通过pip3启动安装软件，如果不可以直接跳到第三步</p>\n<p><img src=\"/2018/01/22/前端/web-the-firstone/pip3.png\" alt=\"pip3\"></p>\n<p>3.配置python环境和pip环境</p>\n<p><img src=\"/2018/01/22/前端/web-the-firstone/python_pip_envir.png\" alt=\"python_pip_envir\"></p>\n<p>4.确认pip安装成功，如果Scrip文件夹下没有pip可执行文件，则执行第五步</p>\n<p>5.由于python3.6安装以后，在Scrip文件中没有pip的可执行软件，需要输入下一个命令进行安装</p>\n<p><code>python -m ensurepip</code></p>\n<p><img src=\"/2018/01/22/前端/web-the-firstone/ensurepip.png\" alt=\"ensurepip\"></p>\n<p>注：现在在python的安装文件夹Scripts下就有pip.exe以及easy_install.exe等可执行文件了，就可以使用pip安装</p>\n<h5 id=\"window中安装使用\"><a href=\"#window中安装使用\" class=\"headerlink\" title=\"window中安装使用\"></a>window中安装使用</h5><p>1.安装virtualenv</p>\n<p><code>pip install virtualenv</code></p>\n<p><img src=\"/2018/01/22/前端/web-the-firstone/pip_virtualenv.png\" alt=\"pip_virtualenv\"></p>\n<p>2.创建虚拟环境</p>\n<p>先查看一下安装虚拟环境有那些参数，是必须填写的</p>\n<p><img src=\"/2018/01/22/前端/web-the-firstone/virtualenv_help.png\" alt=\"virtualenv_help\"></p>\n<p>参数： –no-site-package 和-p参数</p>\n<pre><code>创建纯净的虚拟环境：\nvirtualenv --no-site-package  环境名\n</code></pre><p>以下是指定安装虚拟环境中的python版本和安装方式：</p>\n<p>python版本3.6 + Django 1.11</p>\n<p><img src=\"/2018/01/22/前端/web-the-firstone/virtualenv_env_p.png\" alt=\"virtualenv_env_p\"></p>\n<p>3.进入/退出evn</p>\n<pre><code>进入 cd env/Scripts/文件夹 在activate命令\n退出 deactivate\n</code></pre><p>ubuntu中安装使用</p>\n<p>1.安装virtualenv</p>\n<p><code>apt-get install python-virtualenv</code></p>\n<p>2.创建包含python3版本的虚拟环境</p>\n<p><code>virtualenv -p /usr/bin/python3 env</code></p>\n<p>env代表创建的虚拟环境的名称</p>\n<p>3.进入/退出env</p>\n<pre><code>进入 source env/bin/activate\n    pip list\n    pip install django==1.11 ---------- 安装django\n    pip install PyMySQL ------------ 安装PyMySQL\n退出 deactivate\n</code></pre><p>4.pip使用</p>\n<p>查看虚拟环境下安装的所有包</p>\n<p><code>pip list</code></p>\n<p>查看虚拟环境中通过pip安装的包</p>\n<p><code>pip freeze</code></p>\n<h4 id=\"创建虚拟环境（2）\"><a href=\"#创建虚拟环境（2）\" class=\"headerlink\" title=\"创建虚拟环境（2）\"></a>创建虚拟环境（2）</h4><p>1.新建文件夹  ——–&gt;  env</p>\n<p>2.在env中 新建文件 ——— djenv6</p>\n<p>3.在djenv6中，保存pip所有需要的文件</p>\n<p>4.通过<code>pip list</code>查看虚拟环境下安装的所有包</p>\n<p>5.安装Django</p>\n<p><code>pip install django==1.11</code></p>\n<h2 id=\"在Django的虚拟环境中\"><a href=\"#在Django的虚拟环境中\" class=\"headerlink\" title=\"在Django的虚拟环境中\"></a><em>在Django的虚拟环境中</em></h2><ul>\n<li><p>创建项目</p>\n<p><code>django-admin startproject day01</code></p>\n</li>\n<li><p>在python中打开文件</p>\n<p><img src=\"/2018/01/22/前端/web-the-firstone/QQ截图20181022171438.png\" alt=\"QQ截图20181022171438\"></p>\n<ul>\n<li><strong>init</strong>.py：说明该目录结构是一个python包，会在后期被用来初始化一些工具。</li>\n<li>seetings.py：Django项目的配置文件，其中定义了本项目的引用组件，项目名，数据库，静态资源，调试模式，域名限制等，可以用来修改一些文件设置。</li>\n<li>urls：项目的URL路由映射，实现客户端请求的url由那个模块进行响应。</li>\n<li>wsgi.py：定义WSGI接口信息，通常本文件生成后无需改动。</li>\n<li>manage.py：是Django用于管理本项目的管理集工具，之后站点运行，数据库自动生成，数据表的修改等都是通过该文件完成。</li>\n</ul>\n</li>\n<li><p>Django驱动页面</p>\n<p><code>python manage.py runserver</code></p>\n</li>\n<li><p>修改Django的驱动页面的语言设置</p>\n</li>\n</ul>\n<p>中文和时区设置：</p>\n<p><img src=\"/2018/01/22/前端/web-the-firstone/QQ截图20181022152640.png\" alt=\"QQ截图20181022152640\"></p>\n<p>英文和时区设置：</p>\n<p><img src=\"/2018/01/22/前端/web-the-firstone/F:/hexo\\source\\_posts\\web-the-firstone\\QQ截图20181022152916.png\" alt=\"QQ截图20181022152916\"></p>\n<ul>\n<li><p>启动Django的方法</p>\n<p><code>python manage.py runserver 8080</code></p>\n<p><code>python manage.py runserver IP:8080</code></p>\n</li>\n<li><p>访问管理后台 ——- admin</p>\n<p><code>http://127.0.0.1:8080/admin</code></p>\n</li>\n<li><p>修改数据库的配置 ——– settings.py</p>\n<p><code>ENGINE, USER, PASSWORD, HOST, PORT, NAME</code></p>\n</li>\n<li><p>将Django中自带的模型迁移（映射）到数据库中</p>\n<p><code>python manage.py migrate</code></p>\n</li>\n<li><p>安装数据库驱动</p>\n<p><code>pip install pymysql</code></p>\n</li>\n<li><p>初始化数据库的驱动<strong>__</strong>init__.py</p>\n<pre class=\" language-python\"><code class=\"language-python\"><span class=\"token keyword\">import</span> pymysql\npymysql<span class=\"token punctuation\">.</span>install__as__mysqldb<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n</code></pre>\n</li>\n<li><p>设置Django后台账户和密码</p>\n<pre class=\" language-python\"><code class=\"language-python\">python manage<span class=\"token punctuation\">.</span>py createsuperuser\npython manage<span class=\"token punctuation\">.</span>py changepassword\n</code></pre>\n</li>\n</ul>\n","site":{"data":{}},"excerpt":"","more":"<h2 id=\"框架\"><a href=\"#框架\" class=\"headerlink\" title=\"框架\"></a><em>框架</em></h2><h4 id=\"Django-Python-Web应用开发框架\"><a href=\"#Django-Python-Web应用开发框架\" class=\"headerlink\" title=\"Django:Python Web应用开发框架\"></a>Django:Python Web应用开发框架</h4><p>&emsp;&emsp;Django 应该是最出名的Python框架，GAE甚至Erlang都有框架受它影响。Django是走大而全的方向，它最出名的是其全自动化的管理后台：只需要使用起ORM，做简单的对象定义，它就能自动生成数据库结构、以及全功能的管理后台。</p>\n<h4 id=\"Flask：一个用Python编写的轻量级Web应用框架\"><a href=\"#Flask：一个用Python编写的轻量级Web应用框架\" class=\"headerlink\" title=\"Flask：一个用Python编写的轻量级Web应用框架\"></a>Flask：一个用Python编写的轻量级Web应用框架</h4><p>&emsp;&emsp;Flask是一个使用Python编写的轻量级Web应用框架。基于Werkzeug WSGI工具箱和Jinja2<br>模板引擎。Flask也被称为“microframework”，因为它使用简单的核心，用extension增加其他功能。Flask没有默认使用的数<br>据库、窗体验证工具.</p>\n<h4 id=\"Cubes：轻量级Python-OLAP框架\"><a href=\"#Cubes：轻量级Python-OLAP框架\" class=\"headerlink\" title=\"Cubes：轻量级Python OLAP框架\"></a>Cubes：轻量级Python OLAP框架</h4><p>&emsp;&emsp;Cubes是一个轻量级Python框架，包含OLAP、多维数据分析和浏览聚合数据（aggregated data）等工具.</p>\n<h4 id=\"Pulsar：Python的事件驱动并发框架\"><a href=\"#Pulsar：Python的事件驱动并发框架\" class=\"headerlink\" title=\"Pulsar：Python的事件驱动并发框架\"></a>Pulsar：Python的事件驱动并发框架</h4><p>&emsp;&emsp;Pulsar是一个事件驱动的并发框架，有了pulsar，你可以写出在不同进程或线程中运行一个或多个活动的异步服务器.</p>\n<h4 id=\"Web2py：全栈式Web框架\"><a href=\"#Web2py：全栈式Web框架\" class=\"headerlink\" title=\"Web2py：全栈式Web框架\"></a>Web2py：全栈式Web框架</h4><p>&emsp;&emsp;Web2py是一个为Python语言提供的全功能Web应用框架，旨在敏捷快速的开发Web应用，具有快速、安全以及可移植的数据库驱动的应用，兼容Google App Engine.</p>\n<h4 id=\"Scrapy：Python的爬虫框架\"><a href=\"#Scrapy：Python的爬虫框架\" class=\"headerlink\" title=\"Scrapy：Python的爬虫框架\"></a>Scrapy：Python的爬虫框架</h4><p>&emsp;&emsp;Scrapy是一个使用Python编写的，轻量级的，简单轻巧，并且使用起来非常的方便.</p>\n<h2 id=\"Django\"><a href=\"#Django\" class=\"headerlink\" title=\"Django\"></a><em>Django</em></h2><h4 id=\"MVC：\"><a href=\"#MVC：\" class=\"headerlink\" title=\"MVC：\"></a>MVC：</h4><p>M(模型层)、V(视图层)、C(业务层)</p>\n<p>&emsp;&emsp;MVC（Model View Controller）是模型-视图-控制器，一种软件设计典范，用一种业务逻辑、数据、界面显示分离的方法组织代码，将业务逻辑狙击到一个部件里，在改进和个性化定制界面及用户交互的同时，不需要重新编写业务逻辑。MVC被独特的发展起来用于映射传统的输入、处理和输出功能在一个逻辑的图形化用户界面的结构中。通俗的来讲就是，强制性的使应用程序的输入，处理和输出分开。</p>\n<p><img src=\"/2018/01/22/前端/web-the-firstone/QQ截图20181022103251.png\" alt=\"QQ截图20181022103251\"></p>\n<h4 id=\"MVT：\"><a href=\"#MVT：\" class=\"headerlink\" title=\"MVT：\"></a>MVT：</h4><p>M(模型层)、V(视图：处理业务逻辑)、T(模板Template：html)</p>\n<p>&emsp;&emsp;严格来说，Django的模式应该是MVT模式，本质上和MVC没什么区别，也是各组件之间为了保持松耦合关系，只是定义上有些许不同。</p>\n<p>Model： 负责业务与数据库(ORM)的对象</p>\n<p>View： 负责业务逻辑并适当调用Model和Template</p>\n<p>Template: 负责把页面渲染展示给用户</p>\n<p>注意： Django中还有一个url分发器，也叫作路由。主要用于将url请求发送给不同的View处理，View在进行相关的业务逻辑处理。</p>\n<h2 id=\"安装Django和创建Django的虚拟环境\"><a href=\"#安装Django和创建Django的虚拟环境\" class=\"headerlink\" title=\"安装Django和创建Django的虚拟环境\"></a><em>安装Django和创建Django的虚拟环境</em></h2><h4 id=\"创建虚拟环境（1）\"><a href=\"#创建虚拟环境（1）\" class=\"headerlink\" title=\"创建虚拟环境（1）\"></a>创建虚拟环境（1）</h4><h5 id=\"操作命令\"><a href=\"#操作命令\" class=\"headerlink\" title=\"操作命令\"></a>操作命令</h5><h5 id=\"VIRTUALENV创建虚拟环境\"><a href=\"#VIRTUALENV创建虚拟环境\" class=\"headerlink\" title=\"VIRTUALENV创建虚拟环境\"></a>VIRTUALENV创建虚拟环境</h5><p>1.在cmd中能通过python去启动，如果不可以，直接跳到第三部</p>\n<p><img src=\"/2018/01/22/前端/web-the-firstone/python.png\" alt=\"python\"></p>\n<p>2.在cmd中能通过pip3启动安装软件，如果不可以直接跳到第三步</p>\n<p><img src=\"/2018/01/22/前端/web-the-firstone/pip3.png\" alt=\"pip3\"></p>\n<p>3.配置python环境和pip环境</p>\n<p><img src=\"/2018/01/22/前端/web-the-firstone/python_pip_envir.png\" alt=\"python_pip_envir\"></p>\n<p>4.确认pip安装成功，如果Scrip文件夹下没有pip可执行文件，则执行第五步</p>\n<p>5.由于python3.6安装以后，在Scrip文件中没有pip的可执行软件，需要输入下一个命令进行安装</p>\n<p><code>python -m ensurepip</code></p>\n<p><img src=\"/2018/01/22/前端/web-the-firstone/ensurepip.png\" alt=\"ensurepip\"></p>\n<p>注：现在在python的安装文件夹Scripts下就有pip.exe以及easy_install.exe等可执行文件了，就可以使用pip安装</p>\n<h5 id=\"window中安装使用\"><a href=\"#window中安装使用\" class=\"headerlink\" title=\"window中安装使用\"></a>window中安装使用</h5><p>1.安装virtualenv</p>\n<p><code>pip install virtualenv</code></p>\n<p><img src=\"/2018/01/22/前端/web-the-firstone/pip_virtualenv.png\" alt=\"pip_virtualenv\"></p>\n<p>2.创建虚拟环境</p>\n<p>先查看一下安装虚拟环境有那些参数，是必须填写的</p>\n<p><img src=\"/2018/01/22/前端/web-the-firstone/virtualenv_help.png\" alt=\"virtualenv_help\"></p>\n<p>参数： –no-site-package 和-p参数</p>\n<pre><code>创建纯净的虚拟环境：\nvirtualenv --no-site-package  环境名\n</code></pre><p>以下是指定安装虚拟环境中的python版本和安装方式：</p>\n<p>python版本3.6 + Django 1.11</p>\n<p><img src=\"/2018/01/22/前端/web-the-firstone/virtualenv_env_p.png\" alt=\"virtualenv_env_p\"></p>\n<p>3.进入/退出evn</p>\n<pre><code>进入 cd env/Scripts/文件夹 在activate命令\n退出 deactivate\n</code></pre><p>ubuntu中安装使用</p>\n<p>1.安装virtualenv</p>\n<p><code>apt-get install python-virtualenv</code></p>\n<p>2.创建包含python3版本的虚拟环境</p>\n<p><code>virtualenv -p /usr/bin/python3 env</code></p>\n<p>env代表创建的虚拟环境的名称</p>\n<p>3.进入/退出env</p>\n<pre><code>进入 source env/bin/activate\n    pip list\n    pip install django==1.11 ---------- 安装django\n    pip install PyMySQL ------------ 安装PyMySQL\n退出 deactivate\n</code></pre><p>4.pip使用</p>\n<p>查看虚拟环境下安装的所有包</p>\n<p><code>pip list</code></p>\n<p>查看虚拟环境中通过pip安装的包</p>\n<p><code>pip freeze</code></p>\n<h4 id=\"创建虚拟环境（2）\"><a href=\"#创建虚拟环境（2）\" class=\"headerlink\" title=\"创建虚拟环境（2）\"></a>创建虚拟环境（2）</h4><p>1.新建文件夹  ——–&gt;  env</p>\n<p>2.在env中 新建文件 ——— djenv6</p>\n<p>3.在djenv6中，保存pip所有需要的文件</p>\n<p>4.通过<code>pip list</code>查看虚拟环境下安装的所有包</p>\n<p>5.安装Django</p>\n<p><code>pip install django==1.11</code></p>\n<h2 id=\"在Django的虚拟环境中\"><a href=\"#在Django的虚拟环境中\" class=\"headerlink\" title=\"在Django的虚拟环境中\"></a><em>在Django的虚拟环境中</em></h2><ul>\n<li><p>创建项目</p>\n<p><code>django-admin startproject day01</code></p>\n</li>\n<li><p>在python中打开文件</p>\n<p><img src=\"/2018/01/22/前端/web-the-firstone/QQ截图20181022171438.png\" alt=\"QQ截图20181022171438\"></p>\n<ul>\n<li><strong>init</strong>.py：说明该目录结构是一个python包，会在后期被用来初始化一些工具。</li>\n<li>seetings.py：Django项目的配置文件，其中定义了本项目的引用组件，项目名，数据库，静态资源，调试模式，域名限制等，可以用来修改一些文件设置。</li>\n<li>urls：项目的URL路由映射，实现客户端请求的url由那个模块进行响应。</li>\n<li>wsgi.py：定义WSGI接口信息，通常本文件生成后无需改动。</li>\n<li>manage.py：是Django用于管理本项目的管理集工具，之后站点运行，数据库自动生成，数据表的修改等都是通过该文件完成。</li>\n</ul>\n</li>\n<li><p>Django驱动页面</p>\n<p><code>python manage.py runserver</code></p>\n</li>\n<li><p>修改Django的驱动页面的语言设置</p>\n</li>\n</ul>\n<p>中文和时区设置：</p>\n<p><img src=\"/2018/01/22/前端/web-the-firstone/QQ截图20181022152640.png\" alt=\"QQ截图20181022152640\"></p>\n<p>英文和时区设置：</p>\n<p><img src=\"/2018/01/22/前端/web-the-firstone/F:/hexo\\source\\_posts\\web-the-firstone\\QQ截图20181022152916.png\" alt=\"QQ截图20181022152916\"></p>\n<ul>\n<li><p>启动Django的方法</p>\n<p><code>python manage.py runserver 8080</code></p>\n<p><code>python manage.py runserver IP:8080</code></p>\n</li>\n<li><p>访问管理后台 ——- admin</p>\n<p><code>http://127.0.0.1:8080/admin</code></p>\n</li>\n<li><p>修改数据库的配置 ——– settings.py</p>\n<p><code>ENGINE, USER, PASSWORD, HOST, PORT, NAME</code></p>\n</li>\n<li><p>将Django中自带的模型迁移（映射）到数据库中</p>\n<p><code>python manage.py migrate</code></p>\n</li>\n<li><p>安装数据库驱动</p>\n<p><code>pip install pymysql</code></p>\n</li>\n<li><p>初始化数据库的驱动<strong>__</strong>init__.py</p>\n<pre><code class=\"python\">import pymysql\npymysql.install__as__mysqldb()\n</code></pre>\n</li>\n<li><p>设置Django后台账户和密码</p>\n<pre><code class=\"python\">python manage.py createsuperuser\npython manage.py changepassword\n</code></pre>\n</li>\n</ul>\n"},{"title":"MySQL","date":"2018-10-16T07:12:55.000Z","author":"smile","_content":"\nMySQL是一种[开放源代码](https://baike.baidu.com/item/%E5%BC%80%E6%94%BE%E6%BA%90%E4%BB%A3%E7%A0%81)的关系型[数据库管理](https://baike.baidu.com/item/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%AE%A1%E7%90%86)系统（RDBMS），MySQL[数据库系统](https://baike.baidu.com/item/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F)使用最常用的数据库管理语言--[结构化查询语言](https://baike.baidu.com/item/%E7%BB%93%E6%9E%84%E5%8C%96%E6%9F%A5%E8%AF%A2%E8%AF%AD%E8%A8%80)（SQL）进行数据库管理。\n\n\n\n\n\n端口是IP地址区分不同服务的\n\n- Docker ---- 屏蔽硬件和软件的差异\n- 虚拟机（Virtual Machine）指通过软件模拟的具有完整硬件系统功能的、运行在一个完全隔离环境中的完整计算机系统\n\n图形化的MySQL客户端工具\n- Navicat for MySQL\n- Tod for MySQL\n- SQLyog\n\n### ER ----- 实体关系图\n\n![image](MySQL\\表与表的关系.png)\n\n### MySQL中表与表的关系\n一对一：一个实体只对应一个实体\n\n一对多：一个实体可以对应多个实体\n\n多对多：多个实体对应多个实体\n\n##### 外键\n外键/外键约束 ------- 外来的主键 ---- 参照完整性\n\n数据的完整性\n- 实体完整性==：==\n  - 每条记录都是独一无二的，没有冗余\n  - 主键/唯一索引（唯一的约束）\n\n`alter table tb_college add constraint uni_college_collname unique(collname)`\n- 参照完整性：\n  - B表参照了A表，A表没有的记录在B表中决不能出现\n  - 外键(外键约束)\n```\nalter table tb_student add column coll_stuid int;\nalter table tb_student add constraint fk_teacher_coll_stuid\nforeign key (coll_stuid) references tb_college (num);\n```\n- 域完整性：录入的数据都是有效的\n  - 数据类型/非空约束/默认值约束/检查约束(MySQL中不生效)\n\n数据的一致性\n\n#### 聚合函数：在所有的数据库中都支持的函数\n- max()/ main()/ sum()/ avg()/ count()","source":"_posts/数据库/MySQL.md","raw":"---\ntitle: MySQL\ndate: 2018-10-16 15:12:55\nauthor: smile\ncategories: databases\ntags: \n  - 虚拟机\n  - 集合函数\n---\n\nMySQL是一种[开放源代码](https://baike.baidu.com/item/%E5%BC%80%E6%94%BE%E6%BA%90%E4%BB%A3%E7%A0%81)的关系型[数据库管理](https://baike.baidu.com/item/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%AE%A1%E7%90%86)系统（RDBMS），MySQL[数据库系统](https://baike.baidu.com/item/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F)使用最常用的数据库管理语言--[结构化查询语言](https://baike.baidu.com/item/%E7%BB%93%E6%9E%84%E5%8C%96%E6%9F%A5%E8%AF%A2%E8%AF%AD%E8%A8%80)（SQL）进行数据库管理。\n\n\n\n\n\n端口是IP地址区分不同服务的\n\n- Docker ---- 屏蔽硬件和软件的差异\n- 虚拟机（Virtual Machine）指通过软件模拟的具有完整硬件系统功能的、运行在一个完全隔离环境中的完整计算机系统\n\n图形化的MySQL客户端工具\n- Navicat for MySQL\n- Tod for MySQL\n- SQLyog\n\n### ER ----- 实体关系图\n\n![image](MySQL\\表与表的关系.png)\n\n### MySQL中表与表的关系\n一对一：一个实体只对应一个实体\n\n一对多：一个实体可以对应多个实体\n\n多对多：多个实体对应多个实体\n\n##### 外键\n外键/外键约束 ------- 外来的主键 ---- 参照完整性\n\n数据的完整性\n- 实体完整性==：==\n  - 每条记录都是独一无二的，没有冗余\n  - 主键/唯一索引（唯一的约束）\n\n`alter table tb_college add constraint uni_college_collname unique(collname)`\n- 参照完整性：\n  - B表参照了A表，A表没有的记录在B表中决不能出现\n  - 外键(外键约束)\n```\nalter table tb_student add column coll_stuid int;\nalter table tb_student add constraint fk_teacher_coll_stuid\nforeign key (coll_stuid) references tb_college (num);\n```\n- 域完整性：录入的数据都是有效的\n  - 数据类型/非空约束/默认值约束/检查约束(MySQL中不生效)\n\n数据的一致性\n\n#### 聚合函数：在所有的数据库中都支持的函数\n- max()/ main()/ sum()/ avg()/ count()","slug":"数据库/MySQL","published":1,"updated":"2019-01-17T07:09:50.285Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjt87kqqe0050r8r6hjmzm7zp","content":"<p>MySQL是一种<a href=\"https://baike.baidu.com/item/%E5%BC%80%E6%94%BE%E6%BA%90%E4%BB%A3%E7%A0%81\" target=\"_blank\" rel=\"noopener\">开放源代码</a>的关系型<a href=\"https://baike.baidu.com/item/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%AE%A1%E7%90%86\" target=\"_blank\" rel=\"noopener\">数据库管理</a>系统（RDBMS），MySQL<a href=\"https://baike.baidu.com/item/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F\" target=\"_blank\" rel=\"noopener\">数据库系统</a>使用最常用的数据库管理语言–<a href=\"https://baike.baidu.com/item/%E7%BB%93%E6%9E%84%E5%8C%96%E6%9F%A5%E8%AF%A2%E8%AF%AD%E8%A8%80\" target=\"_blank\" rel=\"noopener\">结构化查询语言</a>（SQL）进行数据库管理。</p>\n<p>端口是IP地址区分不同服务的</p>\n<ul>\n<li>Docker —- 屏蔽硬件和软件的差异</li>\n<li>虚拟机（Virtual Machine）指通过软件模拟的具有完整硬件系统功能的、运行在一个完全隔离环境中的完整计算机系统</li>\n</ul>\n<p>图形化的MySQL客户端工具</p>\n<ul>\n<li>Navicat for MySQL</li>\n<li>Tod for MySQL</li>\n<li>SQLyog</li>\n</ul>\n<h3 id=\"ER-—–-实体关系图\"><a href=\"#ER-—–-实体关系图\" class=\"headerlink\" title=\"ER —– 实体关系图\"></a>ER —– 实体关系图</h3><p><img src=\"/2018/10/16/数据库/MySQL/表与表的关系.png\" alt=\"image\"></p>\n<h3 id=\"MySQL中表与表的关系\"><a href=\"#MySQL中表与表的关系\" class=\"headerlink\" title=\"MySQL中表与表的关系\"></a>MySQL中表与表的关系</h3><p>一对一：一个实体只对应一个实体</p>\n<p>一对多：一个实体可以对应多个实体</p>\n<p>多对多：多个实体对应多个实体</p>\n<h5 id=\"外键\"><a href=\"#外键\" class=\"headerlink\" title=\"外键\"></a>外键</h5><p>外键/外键约束 ——- 外来的主键 —- 参照完整性</p>\n<p>数据的完整性</p>\n<ul>\n<li>实体完整性==：==<ul>\n<li>每条记录都是独一无二的，没有冗余</li>\n<li>主键/唯一索引（唯一的约束）</li>\n</ul>\n</li>\n</ul>\n<p><code>alter table tb_college add constraint uni_college_collname unique(collname)</code></p>\n<ul>\n<li>参照完整性：<ul>\n<li>B表参照了A表，A表没有的记录在B表中决不能出现</li>\n<li>外键(外键约束)<pre><code>alter table tb_student add column coll_stuid int;\nalter table tb_student add constraint fk_teacher_coll_stuid\nforeign key (coll_stuid) references tb_college (num);\n</code></pre></li>\n</ul>\n</li>\n<li>域完整性：录入的数据都是有效的<ul>\n<li>数据类型/非空约束/默认值约束/检查约束(MySQL中不生效)</li>\n</ul>\n</li>\n</ul>\n<p>数据的一致性</p>\n<h4 id=\"聚合函数：在所有的数据库中都支持的函数\"><a href=\"#聚合函数：在所有的数据库中都支持的函数\" class=\"headerlink\" title=\"聚合函数：在所有的数据库中都支持的函数\"></a>聚合函数：在所有的数据库中都支持的函数</h4><ul>\n<li>max()/ main()/ sum()/ avg()/ count()</li>\n</ul>\n","site":{"data":{}},"excerpt":"","more":"<p>MySQL是一种<a href=\"https://baike.baidu.com/item/%E5%BC%80%E6%94%BE%E6%BA%90%E4%BB%A3%E7%A0%81\" target=\"_blank\" rel=\"noopener\">开放源代码</a>的关系型<a href=\"https://baike.baidu.com/item/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%AE%A1%E7%90%86\" target=\"_blank\" rel=\"noopener\">数据库管理</a>系统（RDBMS），MySQL<a href=\"https://baike.baidu.com/item/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F\" target=\"_blank\" rel=\"noopener\">数据库系统</a>使用最常用的数据库管理语言–<a href=\"https://baike.baidu.com/item/%E7%BB%93%E6%9E%84%E5%8C%96%E6%9F%A5%E8%AF%A2%E8%AF%AD%E8%A8%80\" target=\"_blank\" rel=\"noopener\">结构化查询语言</a>（SQL）进行数据库管理。</p>\n<p>端口是IP地址区分不同服务的</p>\n<ul>\n<li>Docker —- 屏蔽硬件和软件的差异</li>\n<li>虚拟机（Virtual Machine）指通过软件模拟的具有完整硬件系统功能的、运行在一个完全隔离环境中的完整计算机系统</li>\n</ul>\n<p>图形化的MySQL客户端工具</p>\n<ul>\n<li>Navicat for MySQL</li>\n<li>Tod for MySQL</li>\n<li>SQLyog</li>\n</ul>\n<h3 id=\"ER-—–-实体关系图\"><a href=\"#ER-—–-实体关系图\" class=\"headerlink\" title=\"ER —– 实体关系图\"></a>ER —– 实体关系图</h3><p><img src=\"/2018/10/16/数据库/MySQL/表与表的关系.png\" alt=\"image\"></p>\n<h3 id=\"MySQL中表与表的关系\"><a href=\"#MySQL中表与表的关系\" class=\"headerlink\" title=\"MySQL中表与表的关系\"></a>MySQL中表与表的关系</h3><p>一对一：一个实体只对应一个实体</p>\n<p>一对多：一个实体可以对应多个实体</p>\n<p>多对多：多个实体对应多个实体</p>\n<h5 id=\"外键\"><a href=\"#外键\" class=\"headerlink\" title=\"外键\"></a>外键</h5><p>外键/外键约束 ——- 外来的主键 —- 参照完整性</p>\n<p>数据的完整性</p>\n<ul>\n<li>实体完整性==：==<ul>\n<li>每条记录都是独一无二的，没有冗余</li>\n<li>主键/唯一索引（唯一的约束）</li>\n</ul>\n</li>\n</ul>\n<p><code>alter table tb_college add constraint uni_college_collname unique(collname)</code></p>\n<ul>\n<li>参照完整性：<ul>\n<li>B表参照了A表，A表没有的记录在B表中决不能出现</li>\n<li>外键(外键约束)<pre><code>alter table tb_student add column coll_stuid int;\nalter table tb_student add constraint fk_teacher_coll_stuid\nforeign key (coll_stuid) references tb_college (num);\n</code></pre></li>\n</ul>\n</li>\n<li>域完整性：录入的数据都是有效的<ul>\n<li>数据类型/非空约束/默认值约束/检查约束(MySQL中不生效)</li>\n</ul>\n</li>\n</ul>\n<p>数据的一致性</p>\n<h4 id=\"聚合函数：在所有的数据库中都支持的函数\"><a href=\"#聚合函数：在所有的数据库中都支持的函数\" class=\"headerlink\" title=\"聚合函数：在所有的数据库中都支持的函数\"></a>聚合函数：在所有的数据库中都支持的函数</h4><ul>\n<li>max()/ main()/ sum()/ avg()/ count()</li>\n</ul>\n"},{"title":"MySQL","date":"2018-10-14T23:44:14.000Z","author":"smile","img":"/images/Xia.jpg","_content":"\nMySQL的海豚标志的名字叫“sakila”，它是由MySQL AB的创始人从用户在“海豚命名”的竞赛中建议的大量的名字表中选出的。获胜的名字是由来自非洲斯威士兰的开源软件开发者Ambrose Twebaze提供。\n\n\n\n\n\n# MySQL预习\n\n### MySQL目录结构\n\n- bin目录，存储可执行文件\n- data目录，存储数据文件\n- docs，文档\n- include目录，存储包含的头文件\n- lib目录，存储库文件\n- share，错误消息和字符集文件\n\n### MySQL的配置选项\n\n- **修改编码方式**\n\n  **[mysql]**\n\n  **default-character-set=utf8**\n\n  **[mysqld]**\n\n  **character-set-server=utf8**\n\n### MySQL服务的启动和关闭\n\n- **启动MySQL服务**\n\n  **net start mysql**\n\n- **关闭MySQL服务**\n\n  **net stop mysql**\n\n### MySQL的使用\n\n1. **MySQL登录**\n\n   - mysql  参数\n\n     ![MySQL1](MySQL预习\\MySQL1.jpg)\n\n2. **MySQL退出**\n\n   - **mysql > exit;**\n   - **mysql > quit;**\n   - **mysql > \\q;**\n\n### 修改MySQL提示符\n\n- **连接客户端时通过参数指定**\n\n  ` shell>mysql -uroot -proot -prompt 提示符`\t\n\n- **连接上客户端后，通过prompt的命令来实现**\n\n  - ` mysql>prompt 提示符`\t\n    - **\\D ----------- 完整的日期**\n    - **\\d ----------- 当前数据库**\n    - **\\h ----------- 服务器的名称**\n    - **\\u ----------- 当前用户**\n\n### MySQL常用命令\n\n- **显示当前服务器版本**\n\n  **SELECT  VERSION();**\n\n- **显示当前日期时间**\n\n  **SELECT  NOW();**\n\n- **显示当前用户**\n\n  **SELECT  USER();**\n\n### MySQL语句的规范\n\n- **关键字与函数名称全部大写**\n- **数据库名称、表名称、字段名称全部小写**\n- **SQL语句必须以分号结尾**\n\n### 创建数据库\n\n- **CREATE {DATABASE | SCHEMA} [IF NOT EXISTS] DB_name**\n\n  **[DEFAULT] CHARACTER SET [=] charset_name**\n\n### 查看当前服务器下的数据表列表\n\n- **SHOW {DATABASES | SCHEMAS}**\n\n  **[LIKE 'pattern‘ | WHERE expr]**\n\n### 修改数据库\n\n- **ALTER {DATABASE | SCHEMA} [db_name]**\n\n  **[DEFAULT] CHARACTER SET [=] charset_name**\n\n### 删除数据库\n\n- **DROP {DATABASE | SCHEMA} [IF EXISTS] bd_name**","source":"_posts/数据库/MySQL预习.md","raw":"---\ntitle: MySQL\ndate: 2018-10-15 07:44:14\nauthor: smile\nimg: /images/Xia.jpg\ncategories: databases\ntags: \n---\n\nMySQL的海豚标志的名字叫“sakila”，它是由MySQL AB的创始人从用户在“海豚命名”的竞赛中建议的大量的名字表中选出的。获胜的名字是由来自非洲斯威士兰的开源软件开发者Ambrose Twebaze提供。\n\n\n\n\n\n# MySQL预习\n\n### MySQL目录结构\n\n- bin目录，存储可执行文件\n- data目录，存储数据文件\n- docs，文档\n- include目录，存储包含的头文件\n- lib目录，存储库文件\n- share，错误消息和字符集文件\n\n### MySQL的配置选项\n\n- **修改编码方式**\n\n  **[mysql]**\n\n  **default-character-set=utf8**\n\n  **[mysqld]**\n\n  **character-set-server=utf8**\n\n### MySQL服务的启动和关闭\n\n- **启动MySQL服务**\n\n  **net start mysql**\n\n- **关闭MySQL服务**\n\n  **net stop mysql**\n\n### MySQL的使用\n\n1. **MySQL登录**\n\n   - mysql  参数\n\n     ![MySQL1](MySQL预习\\MySQL1.jpg)\n\n2. **MySQL退出**\n\n   - **mysql > exit;**\n   - **mysql > quit;**\n   - **mysql > \\q;**\n\n### 修改MySQL提示符\n\n- **连接客户端时通过参数指定**\n\n  ` shell>mysql -uroot -proot -prompt 提示符`\t\n\n- **连接上客户端后，通过prompt的命令来实现**\n\n  - ` mysql>prompt 提示符`\t\n    - **\\D ----------- 完整的日期**\n    - **\\d ----------- 当前数据库**\n    - **\\h ----------- 服务器的名称**\n    - **\\u ----------- 当前用户**\n\n### MySQL常用命令\n\n- **显示当前服务器版本**\n\n  **SELECT  VERSION();**\n\n- **显示当前日期时间**\n\n  **SELECT  NOW();**\n\n- **显示当前用户**\n\n  **SELECT  USER();**\n\n### MySQL语句的规范\n\n- **关键字与函数名称全部大写**\n- **数据库名称、表名称、字段名称全部小写**\n- **SQL语句必须以分号结尾**\n\n### 创建数据库\n\n- **CREATE {DATABASE | SCHEMA} [IF NOT EXISTS] DB_name**\n\n  **[DEFAULT] CHARACTER SET [=] charset_name**\n\n### 查看当前服务器下的数据表列表\n\n- **SHOW {DATABASES | SCHEMAS}**\n\n  **[LIKE 'pattern‘ | WHERE expr]**\n\n### 修改数据库\n\n- **ALTER {DATABASE | SCHEMA} [db_name]**\n\n  **[DEFAULT] CHARACTER SET [=] charset_name**\n\n### 删除数据库\n\n- **DROP {DATABASE | SCHEMA} [IF EXISTS] bd_name**","slug":"数据库/MySQL预习","published":1,"updated":"2019-01-19T09:54:36.721Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjt87kqqn0054r8r6bjyckhgk","content":"<p>MySQL的海豚标志的名字叫“sakila”，它是由MySQL AB的创始人从用户在“海豚命名”的竞赛中建议的大量的名字表中选出的。获胜的名字是由来自非洲斯威士兰的开源软件开发者Ambrose Twebaze提供。</p>\n<h1 id=\"MySQL预习\"><a href=\"#MySQL预习\" class=\"headerlink\" title=\"MySQL预习\"></a>MySQL预习</h1><h3 id=\"MySQL目录结构\"><a href=\"#MySQL目录结构\" class=\"headerlink\" title=\"MySQL目录结构\"></a>MySQL目录结构</h3><ul>\n<li>bin目录，存储可执行文件</li>\n<li>data目录，存储数据文件</li>\n<li>docs，文档</li>\n<li>include目录，存储包含的头文件</li>\n<li>lib目录，存储库文件</li>\n<li>share，错误消息和字符集文件</li>\n</ul>\n<h3 id=\"MySQL的配置选项\"><a href=\"#MySQL的配置选项\" class=\"headerlink\" title=\"MySQL的配置选项\"></a>MySQL的配置选项</h3><ul>\n<li><p><strong>修改编码方式</strong></p>\n<p><strong>[mysql]</strong></p>\n<p><strong>default-character-set=utf8</strong></p>\n<p><strong>[mysqld]</strong></p>\n<p><strong>character-set-server=utf8</strong></p>\n</li>\n</ul>\n<h3 id=\"MySQL服务的启动和关闭\"><a href=\"#MySQL服务的启动和关闭\" class=\"headerlink\" title=\"MySQL服务的启动和关闭\"></a>MySQL服务的启动和关闭</h3><ul>\n<li><p><strong>启动MySQL服务</strong></p>\n<p><strong>net start mysql</strong></p>\n</li>\n<li><p><strong>关闭MySQL服务</strong></p>\n<p><strong>net stop mysql</strong></p>\n</li>\n</ul>\n<h3 id=\"MySQL的使用\"><a href=\"#MySQL的使用\" class=\"headerlink\" title=\"MySQL的使用\"></a>MySQL的使用</h3><ol>\n<li><p><strong>MySQL登录</strong></p>\n<ul>\n<li><p>mysql  参数</p>\n<p><img src=\"/2018/10/15/数据库/MySQL预习/MySQL1.jpg\" alt=\"MySQL1\"></p>\n</li>\n</ul>\n</li>\n<li><p><strong>MySQL退出</strong></p>\n<ul>\n<li><strong>mysql &gt; exit;</strong></li>\n<li><strong>mysql &gt; quit;</strong></li>\n<li><strong>mysql &gt; \\q;</strong></li>\n</ul>\n</li>\n</ol>\n<h3 id=\"修改MySQL提示符\"><a href=\"#修改MySQL提示符\" class=\"headerlink\" title=\"修改MySQL提示符\"></a>修改MySQL提示符</h3><ul>\n<li><p><strong>连接客户端时通过参数指定</strong></p>\n<p><code>shell&gt;mysql -uroot -proot -prompt 提示符</code>    </p>\n</li>\n<li><p><strong>连接上客户端后，通过prompt的命令来实现</strong></p>\n<ul>\n<li><code>mysql&gt;prompt 提示符</code>    <ul>\n<li><strong>\\D ———– 完整的日期</strong></li>\n<li><strong>\\d ———– 当前数据库</strong></li>\n<li><strong>\\h ———– 服务器的名称</strong></li>\n<li><strong>\\u ———– 当前用户</strong></li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<h3 id=\"MySQL常用命令\"><a href=\"#MySQL常用命令\" class=\"headerlink\" title=\"MySQL常用命令\"></a>MySQL常用命令</h3><ul>\n<li><p><strong>显示当前服务器版本</strong></p>\n<p><strong>SELECT  VERSION();</strong></p>\n</li>\n<li><p><strong>显示当前日期时间</strong></p>\n<p><strong>SELECT  NOW();</strong></p>\n</li>\n<li><p><strong>显示当前用户</strong></p>\n<p><strong>SELECT  USER();</strong></p>\n</li>\n</ul>\n<h3 id=\"MySQL语句的规范\"><a href=\"#MySQL语句的规范\" class=\"headerlink\" title=\"MySQL语句的规范\"></a>MySQL语句的规范</h3><ul>\n<li><strong>关键字与函数名称全部大写</strong></li>\n<li><strong>数据库名称、表名称、字段名称全部小写</strong></li>\n<li><strong>SQL语句必须以分号结尾</strong></li>\n</ul>\n<h3 id=\"创建数据库\"><a href=\"#创建数据库\" class=\"headerlink\" title=\"创建数据库\"></a>创建数据库</h3><ul>\n<li><p><strong>CREATE {DATABASE | SCHEMA} [IF NOT EXISTS] DB_name</strong></p>\n<p><strong>[DEFAULT] CHARACTER SET [=] charset_name</strong></p>\n</li>\n</ul>\n<h3 id=\"查看当前服务器下的数据表列表\"><a href=\"#查看当前服务器下的数据表列表\" class=\"headerlink\" title=\"查看当前服务器下的数据表列表\"></a>查看当前服务器下的数据表列表</h3><ul>\n<li><p><strong>SHOW {DATABASES | SCHEMAS}</strong></p>\n<p><strong>[LIKE ‘pattern‘ | WHERE expr]</strong></p>\n</li>\n</ul>\n<h3 id=\"修改数据库\"><a href=\"#修改数据库\" class=\"headerlink\" title=\"修改数据库\"></a>修改数据库</h3><ul>\n<li><p><strong>ALTER {DATABASE | SCHEMA} [db_name]</strong></p>\n<p><strong>[DEFAULT] CHARACTER SET [=] charset_name</strong></p>\n</li>\n</ul>\n<h3 id=\"删除数据库\"><a href=\"#删除数据库\" class=\"headerlink\" title=\"删除数据库\"></a>删除数据库</h3><ul>\n<li><strong>DROP {DATABASE | SCHEMA} [IF EXISTS] bd_name</strong></li>\n</ul>\n","site":{"data":{}},"excerpt":"","more":"<p>MySQL的海豚标志的名字叫“sakila”，它是由MySQL AB的创始人从用户在“海豚命名”的竞赛中建议的大量的名字表中选出的。获胜的名字是由来自非洲斯威士兰的开源软件开发者Ambrose Twebaze提供。</p>\n<h1 id=\"MySQL预习\"><a href=\"#MySQL预习\" class=\"headerlink\" title=\"MySQL预习\"></a>MySQL预习</h1><h3 id=\"MySQL目录结构\"><a href=\"#MySQL目录结构\" class=\"headerlink\" title=\"MySQL目录结构\"></a>MySQL目录结构</h3><ul>\n<li>bin目录，存储可执行文件</li>\n<li>data目录，存储数据文件</li>\n<li>docs，文档</li>\n<li>include目录，存储包含的头文件</li>\n<li>lib目录，存储库文件</li>\n<li>share，错误消息和字符集文件</li>\n</ul>\n<h3 id=\"MySQL的配置选项\"><a href=\"#MySQL的配置选项\" class=\"headerlink\" title=\"MySQL的配置选项\"></a>MySQL的配置选项</h3><ul>\n<li><p><strong>修改编码方式</strong></p>\n<p><strong>[mysql]</strong></p>\n<p><strong>default-character-set=utf8</strong></p>\n<p><strong>[mysqld]</strong></p>\n<p><strong>character-set-server=utf8</strong></p>\n</li>\n</ul>\n<h3 id=\"MySQL服务的启动和关闭\"><a href=\"#MySQL服务的启动和关闭\" class=\"headerlink\" title=\"MySQL服务的启动和关闭\"></a>MySQL服务的启动和关闭</h3><ul>\n<li><p><strong>启动MySQL服务</strong></p>\n<p><strong>net start mysql</strong></p>\n</li>\n<li><p><strong>关闭MySQL服务</strong></p>\n<p><strong>net stop mysql</strong></p>\n</li>\n</ul>\n<h3 id=\"MySQL的使用\"><a href=\"#MySQL的使用\" class=\"headerlink\" title=\"MySQL的使用\"></a>MySQL的使用</h3><ol>\n<li><p><strong>MySQL登录</strong></p>\n<ul>\n<li><p>mysql  参数</p>\n<p><img src=\"/2018/10/15/数据库/MySQL预习/MySQL1.jpg\" alt=\"MySQL1\"></p>\n</li>\n</ul>\n</li>\n<li><p><strong>MySQL退出</strong></p>\n<ul>\n<li><strong>mysql &gt; exit;</strong></li>\n<li><strong>mysql &gt; quit;</strong></li>\n<li><strong>mysql &gt; \\q;</strong></li>\n</ul>\n</li>\n</ol>\n<h3 id=\"修改MySQL提示符\"><a href=\"#修改MySQL提示符\" class=\"headerlink\" title=\"修改MySQL提示符\"></a>修改MySQL提示符</h3><ul>\n<li><p><strong>连接客户端时通过参数指定</strong></p>\n<p><code>shell&gt;mysql -uroot -proot -prompt 提示符</code>    </p>\n</li>\n<li><p><strong>连接上客户端后，通过prompt的命令来实现</strong></p>\n<ul>\n<li><code>mysql&gt;prompt 提示符</code>    <ul>\n<li><strong>\\D ———– 完整的日期</strong></li>\n<li><strong>\\d ———– 当前数据库</strong></li>\n<li><strong>\\h ———– 服务器的名称</strong></li>\n<li><strong>\\u ———– 当前用户</strong></li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<h3 id=\"MySQL常用命令\"><a href=\"#MySQL常用命令\" class=\"headerlink\" title=\"MySQL常用命令\"></a>MySQL常用命令</h3><ul>\n<li><p><strong>显示当前服务器版本</strong></p>\n<p><strong>SELECT  VERSION();</strong></p>\n</li>\n<li><p><strong>显示当前日期时间</strong></p>\n<p><strong>SELECT  NOW();</strong></p>\n</li>\n<li><p><strong>显示当前用户</strong></p>\n<p><strong>SELECT  USER();</strong></p>\n</li>\n</ul>\n<h3 id=\"MySQL语句的规范\"><a href=\"#MySQL语句的规范\" class=\"headerlink\" title=\"MySQL语句的规范\"></a>MySQL语句的规范</h3><ul>\n<li><strong>关键字与函数名称全部大写</strong></li>\n<li><strong>数据库名称、表名称、字段名称全部小写</strong></li>\n<li><strong>SQL语句必须以分号结尾</strong></li>\n</ul>\n<h3 id=\"创建数据库\"><a href=\"#创建数据库\" class=\"headerlink\" title=\"创建数据库\"></a>创建数据库</h3><ul>\n<li><p><strong>CREATE {DATABASE | SCHEMA} [IF NOT EXISTS] DB_name</strong></p>\n<p><strong>[DEFAULT] CHARACTER SET [=] charset_name</strong></p>\n</li>\n</ul>\n<h3 id=\"查看当前服务器下的数据表列表\"><a href=\"#查看当前服务器下的数据表列表\" class=\"headerlink\" title=\"查看当前服务器下的数据表列表\"></a>查看当前服务器下的数据表列表</h3><ul>\n<li><p><strong>SHOW {DATABASES | SCHEMAS}</strong></p>\n<p><strong>[LIKE ‘pattern‘ | WHERE expr]</strong></p>\n</li>\n</ul>\n<h3 id=\"修改数据库\"><a href=\"#修改数据库\" class=\"headerlink\" title=\"修改数据库\"></a>修改数据库</h3><ul>\n<li><p><strong>ALTER {DATABASE | SCHEMA} [db_name]</strong></p>\n<p><strong>[DEFAULT] CHARACTER SET [=] charset_name</strong></p>\n</li>\n</ul>\n<h3 id=\"删除数据库\"><a href=\"#删除数据库\" class=\"headerlink\" title=\"删除数据库\"></a>删除数据库</h3><ul>\n<li><strong>DROP {DATABASE | SCHEMA} [IF EXISTS] bd_name</strong></li>\n</ul>\n"},{"title":"practice linkman","date":"2018-10-20T10:06:33.000Z","author":"smile","_content":"\n###  MY简单的联系人练习\n\n```python\nimport pymysql\n\n\ndef add_con(con):\n    while True:\n        telname = input('联系人姓名：')\n        relation = input('与联系人关系：')\n        tel = input('联系人电话：')\n        with con.cursor() as cursor:\n            result = cursor.execute(\n                args=(telname, relation, tel),\n                query=\"insert into tb_cont values (default, %s, %s, %s)\")\n            if result == 1:\n                print('添加成功!')\n                print('-' * 30)\n                option = str(input('是否继续添加 yes / no  :'))\n                if option == 'yes':\n                    continue\n                else:\n                    break\n            else:\n                print('添加失败，请重新添加')\n                continue\n\n\ndef function(cursor):\n    print('编号    \\t姓名    \\t   关系    \\t电话    ')\n    print('=' * 50)\n    for row in cursor.fetchall():\n        print(str(row['id']).ljust(8), end='')\n        print((row['telname'].ljust(8) if len(row['telname']) == 3 else row['telname'].ljust(9)), end='')\n        print(str(row['relation']).ljust(9), end='')\n        print(str(row['tel']).ljust(15))\n    print('=' * 50)\n\n\ndef check_all_con(con):\n    figure = 0\n    while True:\n        print('=' * 50)\n        with con.cursor() as cursor:\n            cursor.execute(\n                args=(figure,),\n                query=\"select id, telname, relation, tel from tb_cont order by id limit %s, 5\")\n            function(cursor)\n        print('1.删除联系人')\n        print('2.查看下一页')\n        print('3.查看上一页')\n        print('4.修改联系人信息')\n        print('5.返回上一级')\n        print('-' * 30)\n        elect = input('请选择：')\n        if elect == '1':\n            del_con(con)\n        elif elect == '2':\n            figure += 5\n            continue\n        elif elect == '3':\n            if figure >= 5:\n                figure -= 5\n            else:\n                print('没有上一页，请重新选择')\n            continue\n        elif elect == '4':\n            updeat_con(con)\n        else:\n            break\n\n\ndef fuzzy1(con):\n    figure = 0\n    while True:\n        content = str(input('请输入搜索内容：'))\n        with con.cursor() as cursor:\n            cursor.execute(\n                args=(\"%\" + content + \"%\", figure),\n                query=\" select id, telname, relation, tel from tb_cont where telname like %s \"\n                      \" order by id limit %s, 5\")\n            function(cursor)\n        print('1.删除联系人')\n        print('2.查看下一页')\n        print('3.查看上一页')\n        print('4.退出搜索')\n        elect = input('请选择：')\n        if elect == '1':\n            cho = int(input('请输入要删除联系人的编号：'))\n            with con.cursor() as cursor:\n                result = cursor.execute(\n                    args=(cho,),\n                    query=\"delete from tb_cont where id=%s\")\n                if result == 1:\n                    print('删除成功！')\n                    print('-' * 30)\n                    option = str(input('是否继续删除 yes / no  :'))\n                    if option == 'yes':\n                        del_con(con)\n                    else:\n                        break\n                else:\n                    print('删除失败，请重新删除')\n                    continue\n        elif elect == '2':\n            figure += 5\n            continue\n        else:\n            break\n\n\ndef fuzzy2(con):\n    figure = 0\n    while True:\n        content = str(input('请输入搜索电话：'))\n        with con.cursor() as cursor:\n            cursor.execute(\n                args=(\"%\" + content + \"%\", figure),\n                query=\" select id, telname, relation, tel from tb_cont where tel like %s \"\n                      \" order by id limit %s, 5 \")\n            function(cursor)\n        print('1.删除联系人')\n        print('2.查看下一页')\n        print('3.查看上一页')\n        print('4.退出搜索')\n        elect = input('请选择：')\n        if elect == '1':\n            cho = int(input('请输入要删除联系人的编号：'))\n            with con.cursor() as cursor:\n                result = cursor.execute(\n                    args=(cho,),\n                    query=\"delete from tb_cont where id=%s\")\n                if result == 1:\n                    print('删除成功！')\n                    print('-' * 30)\n                    option = str(input('是否继续删除 yes / no  :'))\n                    if option == 'yes':\n                        del_con(con)\n                    else:\n                        break\n                else:\n                    print('删除失败，请重新删除')\n                    continue\n        elif elect == '2':\n            figure += 5\n            continue\n        elif elect == '3':\n            if figure >= 5:\n                figure -= 5\n            else:\n                print('没有上一页，请重新选择')\n            continue\n        else:\n            break\n\n\ndef updeat_con(con):\n    while True:\n        id = int(input('请输入要修改的联系人编号：'))\n        telname = input('联系人姓名：')\n        relation = input('与联系人关系：')\n        tel = input('联系人电话：')\n        with con.cursor() as cursor:\n            result = cursor.execute(\n                args=(telname, relation, tel, id),\n                query=\"update tb_cont set telname=%s, relation=%s, tel=%s where id=%s\")\n            if result == 1:\n                print('修改成功！')\n                print('-' * 30)\n                option = str(input('是否继续修改 yes / no  :'))\n                if option == 'yes':\n                    continue\n                else:\n                    break\n            else:\n                print('修改失败，请重新修改')\n                continue\n\n\ndef del_con(con):\n    while True:\n        cho = int(input('请输入要删除联系人的编号：'))\n        with con.cursor() as cursor:\n            result = cursor.execute(\n                args=(cho,),\n                query=\"delete from tb_cont where id=%s\")\n            if result == 1:\n                print('删除成功！')\n                print('-' * 30)\n                option = str(input('是否继续删除 yes / no  :'))\n                if option == 'yes':\n                    continue\n                else:\n                    break\n            else:\n                print('删除失败！')\n                print('-' * 30)\n                option = str(input('是否继续删除 yes / no  :'))\n                if option == 'yes':\n                    continue\n                else:\n                    break\n\ndef check_con(con):\n    while True:\n        print('-' * 30)\n        print('1.查看全部联系人')\n        print('2.搜索联系人')\n        print('3.返回上一级')\n        print('-' * 30)\n        sel = input('请选择查看方式：')\n        if sel == '1':\n            check_all_con(con)\n        elif sel == '2':\n            while True:\n                print('-' * 30)\n                print('1.按姓名搜索')\n                print('2.按电话搜索')\n                print('3.退出搜索')\n                print('-' * 30)\n                choose = input('请选择搜索方式：')\n                if choose == '1':\n                    fuzzy1(con)\n                elif choose == '2':\n                    fuzzy2(con)\n                else:\n                    break\n        elif sel == '3':\n            break\n        else:\n            print('输入错误，请重新选择')\n            continue\n\n\ndef clo(con):\n    print('欢迎再次使用！')\n    con.close()\ndef main():\n    while True:\n        print('1.添加联系人')\n        print('2.查看联系人')\n        print('3.退出系统')\n        print('-' * 30)\n        con = pymysql.connect(\n            host='localhost', port=3306, user='root', db='contact', charset='utf8', password='123456',\n            autocommit=True, cursorclass=pymysql.cursors.DictCursor)\n        num = input('请选择：')\n        if num == '1':\n            add_con(con)\n        elif num == '2':\n            check_con(con)\n        elif num == '3':\n            clo(con)\n            break\n        else:\n            print('输入错误，请重新选择')\n            continue\n\n\nif __name__ == '__main__':\n    main()\n\n```","source":"_posts/数据库/practice-linkman.md","raw":"---\ntitle: practice linkman\ndate: 2018-10-20 18:06:33\nauthor: smile\ncategories: databases\ntags: \n  - linkman\n---\n\n###  MY简单的联系人练习\n\n```python\nimport pymysql\n\n\ndef add_con(con):\n    while True:\n        telname = input('联系人姓名：')\n        relation = input('与联系人关系：')\n        tel = input('联系人电话：')\n        with con.cursor() as cursor:\n            result = cursor.execute(\n                args=(telname, relation, tel),\n                query=\"insert into tb_cont values (default, %s, %s, %s)\")\n            if result == 1:\n                print('添加成功!')\n                print('-' * 30)\n                option = str(input('是否继续添加 yes / no  :'))\n                if option == 'yes':\n                    continue\n                else:\n                    break\n            else:\n                print('添加失败，请重新添加')\n                continue\n\n\ndef function(cursor):\n    print('编号    \\t姓名    \\t   关系    \\t电话    ')\n    print('=' * 50)\n    for row in cursor.fetchall():\n        print(str(row['id']).ljust(8), end='')\n        print((row['telname'].ljust(8) if len(row['telname']) == 3 else row['telname'].ljust(9)), end='')\n        print(str(row['relation']).ljust(9), end='')\n        print(str(row['tel']).ljust(15))\n    print('=' * 50)\n\n\ndef check_all_con(con):\n    figure = 0\n    while True:\n        print('=' * 50)\n        with con.cursor() as cursor:\n            cursor.execute(\n                args=(figure,),\n                query=\"select id, telname, relation, tel from tb_cont order by id limit %s, 5\")\n            function(cursor)\n        print('1.删除联系人')\n        print('2.查看下一页')\n        print('3.查看上一页')\n        print('4.修改联系人信息')\n        print('5.返回上一级')\n        print('-' * 30)\n        elect = input('请选择：')\n        if elect == '1':\n            del_con(con)\n        elif elect == '2':\n            figure += 5\n            continue\n        elif elect == '3':\n            if figure >= 5:\n                figure -= 5\n            else:\n                print('没有上一页，请重新选择')\n            continue\n        elif elect == '4':\n            updeat_con(con)\n        else:\n            break\n\n\ndef fuzzy1(con):\n    figure = 0\n    while True:\n        content = str(input('请输入搜索内容：'))\n        with con.cursor() as cursor:\n            cursor.execute(\n                args=(\"%\" + content + \"%\", figure),\n                query=\" select id, telname, relation, tel from tb_cont where telname like %s \"\n                      \" order by id limit %s, 5\")\n            function(cursor)\n        print('1.删除联系人')\n        print('2.查看下一页')\n        print('3.查看上一页')\n        print('4.退出搜索')\n        elect = input('请选择：')\n        if elect == '1':\n            cho = int(input('请输入要删除联系人的编号：'))\n            with con.cursor() as cursor:\n                result = cursor.execute(\n                    args=(cho,),\n                    query=\"delete from tb_cont where id=%s\")\n                if result == 1:\n                    print('删除成功！')\n                    print('-' * 30)\n                    option = str(input('是否继续删除 yes / no  :'))\n                    if option == 'yes':\n                        del_con(con)\n                    else:\n                        break\n                else:\n                    print('删除失败，请重新删除')\n                    continue\n        elif elect == '2':\n            figure += 5\n            continue\n        else:\n            break\n\n\ndef fuzzy2(con):\n    figure = 0\n    while True:\n        content = str(input('请输入搜索电话：'))\n        with con.cursor() as cursor:\n            cursor.execute(\n                args=(\"%\" + content + \"%\", figure),\n                query=\" select id, telname, relation, tel from tb_cont where tel like %s \"\n                      \" order by id limit %s, 5 \")\n            function(cursor)\n        print('1.删除联系人')\n        print('2.查看下一页')\n        print('3.查看上一页')\n        print('4.退出搜索')\n        elect = input('请选择：')\n        if elect == '1':\n            cho = int(input('请输入要删除联系人的编号：'))\n            with con.cursor() as cursor:\n                result = cursor.execute(\n                    args=(cho,),\n                    query=\"delete from tb_cont where id=%s\")\n                if result == 1:\n                    print('删除成功！')\n                    print('-' * 30)\n                    option = str(input('是否继续删除 yes / no  :'))\n                    if option == 'yes':\n                        del_con(con)\n                    else:\n                        break\n                else:\n                    print('删除失败，请重新删除')\n                    continue\n        elif elect == '2':\n            figure += 5\n            continue\n        elif elect == '3':\n            if figure >= 5:\n                figure -= 5\n            else:\n                print('没有上一页，请重新选择')\n            continue\n        else:\n            break\n\n\ndef updeat_con(con):\n    while True:\n        id = int(input('请输入要修改的联系人编号：'))\n        telname = input('联系人姓名：')\n        relation = input('与联系人关系：')\n        tel = input('联系人电话：')\n        with con.cursor() as cursor:\n            result = cursor.execute(\n                args=(telname, relation, tel, id),\n                query=\"update tb_cont set telname=%s, relation=%s, tel=%s where id=%s\")\n            if result == 1:\n                print('修改成功！')\n                print('-' * 30)\n                option = str(input('是否继续修改 yes / no  :'))\n                if option == 'yes':\n                    continue\n                else:\n                    break\n            else:\n                print('修改失败，请重新修改')\n                continue\n\n\ndef del_con(con):\n    while True:\n        cho = int(input('请输入要删除联系人的编号：'))\n        with con.cursor() as cursor:\n            result = cursor.execute(\n                args=(cho,),\n                query=\"delete from tb_cont where id=%s\")\n            if result == 1:\n                print('删除成功！')\n                print('-' * 30)\n                option = str(input('是否继续删除 yes / no  :'))\n                if option == 'yes':\n                    continue\n                else:\n                    break\n            else:\n                print('删除失败！')\n                print('-' * 30)\n                option = str(input('是否继续删除 yes / no  :'))\n                if option == 'yes':\n                    continue\n                else:\n                    break\n\ndef check_con(con):\n    while True:\n        print('-' * 30)\n        print('1.查看全部联系人')\n        print('2.搜索联系人')\n        print('3.返回上一级')\n        print('-' * 30)\n        sel = input('请选择查看方式：')\n        if sel == '1':\n            check_all_con(con)\n        elif sel == '2':\n            while True:\n                print('-' * 30)\n                print('1.按姓名搜索')\n                print('2.按电话搜索')\n                print('3.退出搜索')\n                print('-' * 30)\n                choose = input('请选择搜索方式：')\n                if choose == '1':\n                    fuzzy1(con)\n                elif choose == '2':\n                    fuzzy2(con)\n                else:\n                    break\n        elif sel == '3':\n            break\n        else:\n            print('输入错误，请重新选择')\n            continue\n\n\ndef clo(con):\n    print('欢迎再次使用！')\n    con.close()\ndef main():\n    while True:\n        print('1.添加联系人')\n        print('2.查看联系人')\n        print('3.退出系统')\n        print('-' * 30)\n        con = pymysql.connect(\n            host='localhost', port=3306, user='root', db='contact', charset='utf8', password='123456',\n            autocommit=True, cursorclass=pymysql.cursors.DictCursor)\n        num = input('请选择：')\n        if num == '1':\n            add_con(con)\n        elif num == '2':\n            check_con(con)\n        elif num == '3':\n            clo(con)\n            break\n        else:\n            print('输入错误，请重新选择')\n            continue\n\n\nif __name__ == '__main__':\n    main()\n\n```","slug":"数据库/practice-linkman","published":1,"updated":"2019-01-17T07:11:32.839Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjt87kqqt0056r8r6xhps6334","content":"<h3 id=\"MY简单的联系人练习\"><a href=\"#MY简单的联系人练习\" class=\"headerlink\" title=\"MY简单的联系人练习\"></a>MY简单的联系人练习</h3><pre class=\" language-python\"><code class=\"language-python\"><span class=\"token keyword\">import</span> pymysql\n\n\n<span class=\"token keyword\">def</span> <span class=\"token function\">add_con</span><span class=\"token punctuation\">(</span>con<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    <span class=\"token keyword\">while</span> <span class=\"token boolean\">True</span><span class=\"token punctuation\">:</span>\n        telname <span class=\"token operator\">=</span> input<span class=\"token punctuation\">(</span><span class=\"token string\">'联系人姓名：'</span><span class=\"token punctuation\">)</span>\n        relation <span class=\"token operator\">=</span> input<span class=\"token punctuation\">(</span><span class=\"token string\">'与联系人关系：'</span><span class=\"token punctuation\">)</span>\n        tel <span class=\"token operator\">=</span> input<span class=\"token punctuation\">(</span><span class=\"token string\">'联系人电话：'</span><span class=\"token punctuation\">)</span>\n        <span class=\"token keyword\">with</span> con<span class=\"token punctuation\">.</span>cursor<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">as</span> cursor<span class=\"token punctuation\">:</span>\n            result <span class=\"token operator\">=</span> cursor<span class=\"token punctuation\">.</span>execute<span class=\"token punctuation\">(</span>\n                args<span class=\"token operator\">=</span><span class=\"token punctuation\">(</span>telname<span class=\"token punctuation\">,</span> relation<span class=\"token punctuation\">,</span> tel<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n                query<span class=\"token operator\">=</span><span class=\"token string\">\"insert into tb_cont values (default, %s, %s, %s)\"</span><span class=\"token punctuation\">)</span>\n            <span class=\"token keyword\">if</span> result <span class=\"token operator\">==</span> <span class=\"token number\">1</span><span class=\"token punctuation\">:</span>\n                <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string\">'添加成功!'</span><span class=\"token punctuation\">)</span>\n                <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string\">'-'</span> <span class=\"token operator\">*</span> <span class=\"token number\">30</span><span class=\"token punctuation\">)</span>\n                option <span class=\"token operator\">=</span> str<span class=\"token punctuation\">(</span>input<span class=\"token punctuation\">(</span><span class=\"token string\">'是否继续添加 yes / no  :'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n                <span class=\"token keyword\">if</span> option <span class=\"token operator\">==</span> <span class=\"token string\">'yes'</span><span class=\"token punctuation\">:</span>\n                    <span class=\"token keyword\">continue</span>\n                <span class=\"token keyword\">else</span><span class=\"token punctuation\">:</span>\n                    <span class=\"token keyword\">break</span>\n            <span class=\"token keyword\">else</span><span class=\"token punctuation\">:</span>\n                <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string\">'添加失败，请重新添加'</span><span class=\"token punctuation\">)</span>\n                <span class=\"token keyword\">continue</span>\n\n\n<span class=\"token keyword\">def</span> <span class=\"token function\">function</span><span class=\"token punctuation\">(</span>cursor<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string\">'编号    \\t姓名    \\t   关系    \\t电话    '</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string\">'='</span> <span class=\"token operator\">*</span> <span class=\"token number\">50</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">for</span> row <span class=\"token keyword\">in</span> cursor<span class=\"token punctuation\">.</span>fetchall<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n        <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>str<span class=\"token punctuation\">(</span>row<span class=\"token punctuation\">[</span><span class=\"token string\">'id'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>ljust<span class=\"token punctuation\">(</span><span class=\"token number\">8</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> end<span class=\"token operator\">=</span><span class=\"token string\">''</span><span class=\"token punctuation\">)</span>\n        <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span>row<span class=\"token punctuation\">[</span><span class=\"token string\">'telname'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span>ljust<span class=\"token punctuation\">(</span><span class=\"token number\">8</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">if</span> len<span class=\"token punctuation\">(</span>row<span class=\"token punctuation\">[</span><span class=\"token string\">'telname'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">==</span> <span class=\"token number\">3</span> <span class=\"token keyword\">else</span> row<span class=\"token punctuation\">[</span><span class=\"token string\">'telname'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span>ljust<span class=\"token punctuation\">(</span><span class=\"token number\">9</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> end<span class=\"token operator\">=</span><span class=\"token string\">''</span><span class=\"token punctuation\">)</span>\n        <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>str<span class=\"token punctuation\">(</span>row<span class=\"token punctuation\">[</span><span class=\"token string\">'relation'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>ljust<span class=\"token punctuation\">(</span><span class=\"token number\">9</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> end<span class=\"token operator\">=</span><span class=\"token string\">''</span><span class=\"token punctuation\">)</span>\n        <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>str<span class=\"token punctuation\">(</span>row<span class=\"token punctuation\">[</span><span class=\"token string\">'tel'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>ljust<span class=\"token punctuation\">(</span><span class=\"token number\">15</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string\">'='</span> <span class=\"token operator\">*</span> <span class=\"token number\">50</span><span class=\"token punctuation\">)</span>\n\n\n<span class=\"token keyword\">def</span> <span class=\"token function\">check_all_con</span><span class=\"token punctuation\">(</span>con<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    figure <span class=\"token operator\">=</span> <span class=\"token number\">0</span>\n    <span class=\"token keyword\">while</span> <span class=\"token boolean\">True</span><span class=\"token punctuation\">:</span>\n        <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string\">'='</span> <span class=\"token operator\">*</span> <span class=\"token number\">50</span><span class=\"token punctuation\">)</span>\n        <span class=\"token keyword\">with</span> con<span class=\"token punctuation\">.</span>cursor<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">as</span> cursor<span class=\"token punctuation\">:</span>\n            cursor<span class=\"token punctuation\">.</span>execute<span class=\"token punctuation\">(</span>\n                args<span class=\"token operator\">=</span><span class=\"token punctuation\">(</span>figure<span class=\"token punctuation\">,</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n                query<span class=\"token operator\">=</span><span class=\"token string\">\"select id, telname, relation, tel from tb_cont order by id limit %s, 5\"</span><span class=\"token punctuation\">)</span>\n            function<span class=\"token punctuation\">(</span>cursor<span class=\"token punctuation\">)</span>\n        <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string\">'1.删除联系人'</span><span class=\"token punctuation\">)</span>\n        <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string\">'2.查看下一页'</span><span class=\"token punctuation\">)</span>\n        <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string\">'3.查看上一页'</span><span class=\"token punctuation\">)</span>\n        <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string\">'4.修改联系人信息'</span><span class=\"token punctuation\">)</span>\n        <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string\">'5.返回上一级'</span><span class=\"token punctuation\">)</span>\n        <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string\">'-'</span> <span class=\"token operator\">*</span> <span class=\"token number\">30</span><span class=\"token punctuation\">)</span>\n        elect <span class=\"token operator\">=</span> input<span class=\"token punctuation\">(</span><span class=\"token string\">'请选择：'</span><span class=\"token punctuation\">)</span>\n        <span class=\"token keyword\">if</span> elect <span class=\"token operator\">==</span> <span class=\"token string\">'1'</span><span class=\"token punctuation\">:</span>\n            del_con<span class=\"token punctuation\">(</span>con<span class=\"token punctuation\">)</span>\n        <span class=\"token keyword\">elif</span> elect <span class=\"token operator\">==</span> <span class=\"token string\">'2'</span><span class=\"token punctuation\">:</span>\n            figure <span class=\"token operator\">+=</span> <span class=\"token number\">5</span>\n            <span class=\"token keyword\">continue</span>\n        <span class=\"token keyword\">elif</span> elect <span class=\"token operator\">==</span> <span class=\"token string\">'3'</span><span class=\"token punctuation\">:</span>\n            <span class=\"token keyword\">if</span> figure <span class=\"token operator\">>=</span> <span class=\"token number\">5</span><span class=\"token punctuation\">:</span>\n                figure <span class=\"token operator\">-=</span> <span class=\"token number\">5</span>\n            <span class=\"token keyword\">else</span><span class=\"token punctuation\">:</span>\n                <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string\">'没有上一页，请重新选择'</span><span class=\"token punctuation\">)</span>\n            <span class=\"token keyword\">continue</span>\n        <span class=\"token keyword\">elif</span> elect <span class=\"token operator\">==</span> <span class=\"token string\">'4'</span><span class=\"token punctuation\">:</span>\n            updeat_con<span class=\"token punctuation\">(</span>con<span class=\"token punctuation\">)</span>\n        <span class=\"token keyword\">else</span><span class=\"token punctuation\">:</span>\n            <span class=\"token keyword\">break</span>\n\n\n<span class=\"token keyword\">def</span> <span class=\"token function\">fuzzy1</span><span class=\"token punctuation\">(</span>con<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    figure <span class=\"token operator\">=</span> <span class=\"token number\">0</span>\n    <span class=\"token keyword\">while</span> <span class=\"token boolean\">True</span><span class=\"token punctuation\">:</span>\n        content <span class=\"token operator\">=</span> str<span class=\"token punctuation\">(</span>input<span class=\"token punctuation\">(</span><span class=\"token string\">'请输入搜索内容：'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n        <span class=\"token keyword\">with</span> con<span class=\"token punctuation\">.</span>cursor<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">as</span> cursor<span class=\"token punctuation\">:</span>\n            cursor<span class=\"token punctuation\">.</span>execute<span class=\"token punctuation\">(</span>\n                args<span class=\"token operator\">=</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"%\"</span> <span class=\"token operator\">+</span> content <span class=\"token operator\">+</span> <span class=\"token string\">\"%\"</span><span class=\"token punctuation\">,</span> figure<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n                query<span class=\"token operator\">=</span><span class=\"token string\">\" select id, telname, relation, tel from tb_cont where telname like %s \"</span>\n                      <span class=\"token string\">\" order by id limit %s, 5\"</span><span class=\"token punctuation\">)</span>\n            function<span class=\"token punctuation\">(</span>cursor<span class=\"token punctuation\">)</span>\n        <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string\">'1.删除联系人'</span><span class=\"token punctuation\">)</span>\n        <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string\">'2.查看下一页'</span><span class=\"token punctuation\">)</span>\n        <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string\">'3.查看上一页'</span><span class=\"token punctuation\">)</span>\n        <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string\">'4.退出搜索'</span><span class=\"token punctuation\">)</span>\n        elect <span class=\"token operator\">=</span> input<span class=\"token punctuation\">(</span><span class=\"token string\">'请选择：'</span><span class=\"token punctuation\">)</span>\n        <span class=\"token keyword\">if</span> elect <span class=\"token operator\">==</span> <span class=\"token string\">'1'</span><span class=\"token punctuation\">:</span>\n            cho <span class=\"token operator\">=</span> int<span class=\"token punctuation\">(</span>input<span class=\"token punctuation\">(</span><span class=\"token string\">'请输入要删除联系人的编号：'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n            <span class=\"token keyword\">with</span> con<span class=\"token punctuation\">.</span>cursor<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">as</span> cursor<span class=\"token punctuation\">:</span>\n                result <span class=\"token operator\">=</span> cursor<span class=\"token punctuation\">.</span>execute<span class=\"token punctuation\">(</span>\n                    args<span class=\"token operator\">=</span><span class=\"token punctuation\">(</span>cho<span class=\"token punctuation\">,</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n                    query<span class=\"token operator\">=</span><span class=\"token string\">\"delete from tb_cont where id=%s\"</span><span class=\"token punctuation\">)</span>\n                <span class=\"token keyword\">if</span> result <span class=\"token operator\">==</span> <span class=\"token number\">1</span><span class=\"token punctuation\">:</span>\n                    <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string\">'删除成功！'</span><span class=\"token punctuation\">)</span>\n                    <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string\">'-'</span> <span class=\"token operator\">*</span> <span class=\"token number\">30</span><span class=\"token punctuation\">)</span>\n                    option <span class=\"token operator\">=</span> str<span class=\"token punctuation\">(</span>input<span class=\"token punctuation\">(</span><span class=\"token string\">'是否继续删除 yes / no  :'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n                    <span class=\"token keyword\">if</span> option <span class=\"token operator\">==</span> <span class=\"token string\">'yes'</span><span class=\"token punctuation\">:</span>\n                        del_con<span class=\"token punctuation\">(</span>con<span class=\"token punctuation\">)</span>\n                    <span class=\"token keyword\">else</span><span class=\"token punctuation\">:</span>\n                        <span class=\"token keyword\">break</span>\n                <span class=\"token keyword\">else</span><span class=\"token punctuation\">:</span>\n                    <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string\">'删除失败，请重新删除'</span><span class=\"token punctuation\">)</span>\n                    <span class=\"token keyword\">continue</span>\n        <span class=\"token keyword\">elif</span> elect <span class=\"token operator\">==</span> <span class=\"token string\">'2'</span><span class=\"token punctuation\">:</span>\n            figure <span class=\"token operator\">+=</span> <span class=\"token number\">5</span>\n            <span class=\"token keyword\">continue</span>\n        <span class=\"token keyword\">else</span><span class=\"token punctuation\">:</span>\n            <span class=\"token keyword\">break</span>\n\n\n<span class=\"token keyword\">def</span> <span class=\"token function\">fuzzy2</span><span class=\"token punctuation\">(</span>con<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    figure <span class=\"token operator\">=</span> <span class=\"token number\">0</span>\n    <span class=\"token keyword\">while</span> <span class=\"token boolean\">True</span><span class=\"token punctuation\">:</span>\n        content <span class=\"token operator\">=</span> str<span class=\"token punctuation\">(</span>input<span class=\"token punctuation\">(</span><span class=\"token string\">'请输入搜索电话：'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n        <span class=\"token keyword\">with</span> con<span class=\"token punctuation\">.</span>cursor<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">as</span> cursor<span class=\"token punctuation\">:</span>\n            cursor<span class=\"token punctuation\">.</span>execute<span class=\"token punctuation\">(</span>\n                args<span class=\"token operator\">=</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"%\"</span> <span class=\"token operator\">+</span> content <span class=\"token operator\">+</span> <span class=\"token string\">\"%\"</span><span class=\"token punctuation\">,</span> figure<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n                query<span class=\"token operator\">=</span><span class=\"token string\">\" select id, telname, relation, tel from tb_cont where tel like %s \"</span>\n                      <span class=\"token string\">\" order by id limit %s, 5 \"</span><span class=\"token punctuation\">)</span>\n            function<span class=\"token punctuation\">(</span>cursor<span class=\"token punctuation\">)</span>\n        <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string\">'1.删除联系人'</span><span class=\"token punctuation\">)</span>\n        <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string\">'2.查看下一页'</span><span class=\"token punctuation\">)</span>\n        <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string\">'3.查看上一页'</span><span class=\"token punctuation\">)</span>\n        <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string\">'4.退出搜索'</span><span class=\"token punctuation\">)</span>\n        elect <span class=\"token operator\">=</span> input<span class=\"token punctuation\">(</span><span class=\"token string\">'请选择：'</span><span class=\"token punctuation\">)</span>\n        <span class=\"token keyword\">if</span> elect <span class=\"token operator\">==</span> <span class=\"token string\">'1'</span><span class=\"token punctuation\">:</span>\n            cho <span class=\"token operator\">=</span> int<span class=\"token punctuation\">(</span>input<span class=\"token punctuation\">(</span><span class=\"token string\">'请输入要删除联系人的编号：'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n            <span class=\"token keyword\">with</span> con<span class=\"token punctuation\">.</span>cursor<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">as</span> cursor<span class=\"token punctuation\">:</span>\n                result <span class=\"token operator\">=</span> cursor<span class=\"token punctuation\">.</span>execute<span class=\"token punctuation\">(</span>\n                    args<span class=\"token operator\">=</span><span class=\"token punctuation\">(</span>cho<span class=\"token punctuation\">,</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n                    query<span class=\"token operator\">=</span><span class=\"token string\">\"delete from tb_cont where id=%s\"</span><span class=\"token punctuation\">)</span>\n                <span class=\"token keyword\">if</span> result <span class=\"token operator\">==</span> <span class=\"token number\">1</span><span class=\"token punctuation\">:</span>\n                    <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string\">'删除成功！'</span><span class=\"token punctuation\">)</span>\n                    <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string\">'-'</span> <span class=\"token operator\">*</span> <span class=\"token number\">30</span><span class=\"token punctuation\">)</span>\n                    option <span class=\"token operator\">=</span> str<span class=\"token punctuation\">(</span>input<span class=\"token punctuation\">(</span><span class=\"token string\">'是否继续删除 yes / no  :'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n                    <span class=\"token keyword\">if</span> option <span class=\"token operator\">==</span> <span class=\"token string\">'yes'</span><span class=\"token punctuation\">:</span>\n                        del_con<span class=\"token punctuation\">(</span>con<span class=\"token punctuation\">)</span>\n                    <span class=\"token keyword\">else</span><span class=\"token punctuation\">:</span>\n                        <span class=\"token keyword\">break</span>\n                <span class=\"token keyword\">else</span><span class=\"token punctuation\">:</span>\n                    <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string\">'删除失败，请重新删除'</span><span class=\"token punctuation\">)</span>\n                    <span class=\"token keyword\">continue</span>\n        <span class=\"token keyword\">elif</span> elect <span class=\"token operator\">==</span> <span class=\"token string\">'2'</span><span class=\"token punctuation\">:</span>\n            figure <span class=\"token operator\">+=</span> <span class=\"token number\">5</span>\n            <span class=\"token keyword\">continue</span>\n        <span class=\"token keyword\">elif</span> elect <span class=\"token operator\">==</span> <span class=\"token string\">'3'</span><span class=\"token punctuation\">:</span>\n            <span class=\"token keyword\">if</span> figure <span class=\"token operator\">>=</span> <span class=\"token number\">5</span><span class=\"token punctuation\">:</span>\n                figure <span class=\"token operator\">-=</span> <span class=\"token number\">5</span>\n            <span class=\"token keyword\">else</span><span class=\"token punctuation\">:</span>\n                <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string\">'没有上一页，请重新选择'</span><span class=\"token punctuation\">)</span>\n            <span class=\"token keyword\">continue</span>\n        <span class=\"token keyword\">else</span><span class=\"token punctuation\">:</span>\n            <span class=\"token keyword\">break</span>\n\n\n<span class=\"token keyword\">def</span> <span class=\"token function\">updeat_con</span><span class=\"token punctuation\">(</span>con<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    <span class=\"token keyword\">while</span> <span class=\"token boolean\">True</span><span class=\"token punctuation\">:</span>\n        id <span class=\"token operator\">=</span> int<span class=\"token punctuation\">(</span>input<span class=\"token punctuation\">(</span><span class=\"token string\">'请输入要修改的联系人编号：'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n        telname <span class=\"token operator\">=</span> input<span class=\"token punctuation\">(</span><span class=\"token string\">'联系人姓名：'</span><span class=\"token punctuation\">)</span>\n        relation <span class=\"token operator\">=</span> input<span class=\"token punctuation\">(</span><span class=\"token string\">'与联系人关系：'</span><span class=\"token punctuation\">)</span>\n        tel <span class=\"token operator\">=</span> input<span class=\"token punctuation\">(</span><span class=\"token string\">'联系人电话：'</span><span class=\"token punctuation\">)</span>\n        <span class=\"token keyword\">with</span> con<span class=\"token punctuation\">.</span>cursor<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">as</span> cursor<span class=\"token punctuation\">:</span>\n            result <span class=\"token operator\">=</span> cursor<span class=\"token punctuation\">.</span>execute<span class=\"token punctuation\">(</span>\n                args<span class=\"token operator\">=</span><span class=\"token punctuation\">(</span>telname<span class=\"token punctuation\">,</span> relation<span class=\"token punctuation\">,</span> tel<span class=\"token punctuation\">,</span> id<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n                query<span class=\"token operator\">=</span><span class=\"token string\">\"update tb_cont set telname=%s, relation=%s, tel=%s where id=%s\"</span><span class=\"token punctuation\">)</span>\n            <span class=\"token keyword\">if</span> result <span class=\"token operator\">==</span> <span class=\"token number\">1</span><span class=\"token punctuation\">:</span>\n                <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string\">'修改成功！'</span><span class=\"token punctuation\">)</span>\n                <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string\">'-'</span> <span class=\"token operator\">*</span> <span class=\"token number\">30</span><span class=\"token punctuation\">)</span>\n                option <span class=\"token operator\">=</span> str<span class=\"token punctuation\">(</span>input<span class=\"token punctuation\">(</span><span class=\"token string\">'是否继续修改 yes / no  :'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n                <span class=\"token keyword\">if</span> option <span class=\"token operator\">==</span> <span class=\"token string\">'yes'</span><span class=\"token punctuation\">:</span>\n                    <span class=\"token keyword\">continue</span>\n                <span class=\"token keyword\">else</span><span class=\"token punctuation\">:</span>\n                    <span class=\"token keyword\">break</span>\n            <span class=\"token keyword\">else</span><span class=\"token punctuation\">:</span>\n                <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string\">'修改失败，请重新修改'</span><span class=\"token punctuation\">)</span>\n                <span class=\"token keyword\">continue</span>\n\n\n<span class=\"token keyword\">def</span> <span class=\"token function\">del_con</span><span class=\"token punctuation\">(</span>con<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    <span class=\"token keyword\">while</span> <span class=\"token boolean\">True</span><span class=\"token punctuation\">:</span>\n        cho <span class=\"token operator\">=</span> int<span class=\"token punctuation\">(</span>input<span class=\"token punctuation\">(</span><span class=\"token string\">'请输入要删除联系人的编号：'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n        <span class=\"token keyword\">with</span> con<span class=\"token punctuation\">.</span>cursor<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">as</span> cursor<span class=\"token punctuation\">:</span>\n            result <span class=\"token operator\">=</span> cursor<span class=\"token punctuation\">.</span>execute<span class=\"token punctuation\">(</span>\n                args<span class=\"token operator\">=</span><span class=\"token punctuation\">(</span>cho<span class=\"token punctuation\">,</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n                query<span class=\"token operator\">=</span><span class=\"token string\">\"delete from tb_cont where id=%s\"</span><span class=\"token punctuation\">)</span>\n            <span class=\"token keyword\">if</span> result <span class=\"token operator\">==</span> <span class=\"token number\">1</span><span class=\"token punctuation\">:</span>\n                <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string\">'删除成功！'</span><span class=\"token punctuation\">)</span>\n                <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string\">'-'</span> <span class=\"token operator\">*</span> <span class=\"token number\">30</span><span class=\"token punctuation\">)</span>\n                option <span class=\"token operator\">=</span> str<span class=\"token punctuation\">(</span>input<span class=\"token punctuation\">(</span><span class=\"token string\">'是否继续删除 yes / no  :'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n                <span class=\"token keyword\">if</span> option <span class=\"token operator\">==</span> <span class=\"token string\">'yes'</span><span class=\"token punctuation\">:</span>\n                    <span class=\"token keyword\">continue</span>\n                <span class=\"token keyword\">else</span><span class=\"token punctuation\">:</span>\n                    <span class=\"token keyword\">break</span>\n            <span class=\"token keyword\">else</span><span class=\"token punctuation\">:</span>\n                <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string\">'删除失败！'</span><span class=\"token punctuation\">)</span>\n                <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string\">'-'</span> <span class=\"token operator\">*</span> <span class=\"token number\">30</span><span class=\"token punctuation\">)</span>\n                option <span class=\"token operator\">=</span> str<span class=\"token punctuation\">(</span>input<span class=\"token punctuation\">(</span><span class=\"token string\">'是否继续删除 yes / no  :'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n                <span class=\"token keyword\">if</span> option <span class=\"token operator\">==</span> <span class=\"token string\">'yes'</span><span class=\"token punctuation\">:</span>\n                    <span class=\"token keyword\">continue</span>\n                <span class=\"token keyword\">else</span><span class=\"token punctuation\">:</span>\n                    <span class=\"token keyword\">break</span>\n\n<span class=\"token keyword\">def</span> <span class=\"token function\">check_con</span><span class=\"token punctuation\">(</span>con<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    <span class=\"token keyword\">while</span> <span class=\"token boolean\">True</span><span class=\"token punctuation\">:</span>\n        <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string\">'-'</span> <span class=\"token operator\">*</span> <span class=\"token number\">30</span><span class=\"token punctuation\">)</span>\n        <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string\">'1.查看全部联系人'</span><span class=\"token punctuation\">)</span>\n        <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string\">'2.搜索联系人'</span><span class=\"token punctuation\">)</span>\n        <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string\">'3.返回上一级'</span><span class=\"token punctuation\">)</span>\n        <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string\">'-'</span> <span class=\"token operator\">*</span> <span class=\"token number\">30</span><span class=\"token punctuation\">)</span>\n        sel <span class=\"token operator\">=</span> input<span class=\"token punctuation\">(</span><span class=\"token string\">'请选择查看方式：'</span><span class=\"token punctuation\">)</span>\n        <span class=\"token keyword\">if</span> sel <span class=\"token operator\">==</span> <span class=\"token string\">'1'</span><span class=\"token punctuation\">:</span>\n            check_all_con<span class=\"token punctuation\">(</span>con<span class=\"token punctuation\">)</span>\n        <span class=\"token keyword\">elif</span> sel <span class=\"token operator\">==</span> <span class=\"token string\">'2'</span><span class=\"token punctuation\">:</span>\n            <span class=\"token keyword\">while</span> <span class=\"token boolean\">True</span><span class=\"token punctuation\">:</span>\n                <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string\">'-'</span> <span class=\"token operator\">*</span> <span class=\"token number\">30</span><span class=\"token punctuation\">)</span>\n                <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string\">'1.按姓名搜索'</span><span class=\"token punctuation\">)</span>\n                <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string\">'2.按电话搜索'</span><span class=\"token punctuation\">)</span>\n                <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string\">'3.退出搜索'</span><span class=\"token punctuation\">)</span>\n                <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string\">'-'</span> <span class=\"token operator\">*</span> <span class=\"token number\">30</span><span class=\"token punctuation\">)</span>\n                choose <span class=\"token operator\">=</span> input<span class=\"token punctuation\">(</span><span class=\"token string\">'请选择搜索方式：'</span><span class=\"token punctuation\">)</span>\n                <span class=\"token keyword\">if</span> choose <span class=\"token operator\">==</span> <span class=\"token string\">'1'</span><span class=\"token punctuation\">:</span>\n                    fuzzy1<span class=\"token punctuation\">(</span>con<span class=\"token punctuation\">)</span>\n                <span class=\"token keyword\">elif</span> choose <span class=\"token operator\">==</span> <span class=\"token string\">'2'</span><span class=\"token punctuation\">:</span>\n                    fuzzy2<span class=\"token punctuation\">(</span>con<span class=\"token punctuation\">)</span>\n                <span class=\"token keyword\">else</span><span class=\"token punctuation\">:</span>\n                    <span class=\"token keyword\">break</span>\n        <span class=\"token keyword\">elif</span> sel <span class=\"token operator\">==</span> <span class=\"token string\">'3'</span><span class=\"token punctuation\">:</span>\n            <span class=\"token keyword\">break</span>\n        <span class=\"token keyword\">else</span><span class=\"token punctuation\">:</span>\n            <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string\">'输入错误，请重新选择'</span><span class=\"token punctuation\">)</span>\n            <span class=\"token keyword\">continue</span>\n\n\n<span class=\"token keyword\">def</span> <span class=\"token function\">clo</span><span class=\"token punctuation\">(</span>con<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string\">'欢迎再次使用！'</span><span class=\"token punctuation\">)</span>\n    con<span class=\"token punctuation\">.</span>close<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">def</span> <span class=\"token function\">main</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    <span class=\"token keyword\">while</span> <span class=\"token boolean\">True</span><span class=\"token punctuation\">:</span>\n        <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string\">'1.添加联系人'</span><span class=\"token punctuation\">)</span>\n        <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string\">'2.查看联系人'</span><span class=\"token punctuation\">)</span>\n        <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string\">'3.退出系统'</span><span class=\"token punctuation\">)</span>\n        <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string\">'-'</span> <span class=\"token operator\">*</span> <span class=\"token number\">30</span><span class=\"token punctuation\">)</span>\n        con <span class=\"token operator\">=</span> pymysql<span class=\"token punctuation\">.</span>connect<span class=\"token punctuation\">(</span>\n            host<span class=\"token operator\">=</span><span class=\"token string\">'localhost'</span><span class=\"token punctuation\">,</span> port<span class=\"token operator\">=</span><span class=\"token number\">3306</span><span class=\"token punctuation\">,</span> user<span class=\"token operator\">=</span><span class=\"token string\">'root'</span><span class=\"token punctuation\">,</span> db<span class=\"token operator\">=</span><span class=\"token string\">'contact'</span><span class=\"token punctuation\">,</span> charset<span class=\"token operator\">=</span><span class=\"token string\">'utf8'</span><span class=\"token punctuation\">,</span> password<span class=\"token operator\">=</span><span class=\"token string\">'123456'</span><span class=\"token punctuation\">,</span>\n            autocommit<span class=\"token operator\">=</span><span class=\"token boolean\">True</span><span class=\"token punctuation\">,</span> cursorclass<span class=\"token operator\">=</span>pymysql<span class=\"token punctuation\">.</span>cursors<span class=\"token punctuation\">.</span>DictCursor<span class=\"token punctuation\">)</span>\n        num <span class=\"token operator\">=</span> input<span class=\"token punctuation\">(</span><span class=\"token string\">'请选择：'</span><span class=\"token punctuation\">)</span>\n        <span class=\"token keyword\">if</span> num <span class=\"token operator\">==</span> <span class=\"token string\">'1'</span><span class=\"token punctuation\">:</span>\n            add_con<span class=\"token punctuation\">(</span>con<span class=\"token punctuation\">)</span>\n        <span class=\"token keyword\">elif</span> num <span class=\"token operator\">==</span> <span class=\"token string\">'2'</span><span class=\"token punctuation\">:</span>\n            check_con<span class=\"token punctuation\">(</span>con<span class=\"token punctuation\">)</span>\n        <span class=\"token keyword\">elif</span> num <span class=\"token operator\">==</span> <span class=\"token string\">'3'</span><span class=\"token punctuation\">:</span>\n            clo<span class=\"token punctuation\">(</span>con<span class=\"token punctuation\">)</span>\n            <span class=\"token keyword\">break</span>\n        <span class=\"token keyword\">else</span><span class=\"token punctuation\">:</span>\n            <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string\">'输入错误，请重新选择'</span><span class=\"token punctuation\">)</span>\n            <span class=\"token keyword\">continue</span>\n\n\n<span class=\"token keyword\">if</span> __name__ <span class=\"token operator\">==</span> <span class=\"token string\">'__main__'</span><span class=\"token punctuation\">:</span>\n    main<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n\n</code></pre>\n","site":{"data":{}},"excerpt":"","more":"<h3 id=\"MY简单的联系人练习\"><a href=\"#MY简单的联系人练习\" class=\"headerlink\" title=\"MY简单的联系人练习\"></a>MY简单的联系人练习</h3><pre><code class=\"python\">import pymysql\n\n\ndef add_con(con):\n    while True:\n        telname = input(&#39;联系人姓名：&#39;)\n        relation = input(&#39;与联系人关系：&#39;)\n        tel = input(&#39;联系人电话：&#39;)\n        with con.cursor() as cursor:\n            result = cursor.execute(\n                args=(telname, relation, tel),\n                query=&quot;insert into tb_cont values (default, %s, %s, %s)&quot;)\n            if result == 1:\n                print(&#39;添加成功!&#39;)\n                print(&#39;-&#39; * 30)\n                option = str(input(&#39;是否继续添加 yes / no  :&#39;))\n                if option == &#39;yes&#39;:\n                    continue\n                else:\n                    break\n            else:\n                print(&#39;添加失败，请重新添加&#39;)\n                continue\n\n\ndef function(cursor):\n    print(&#39;编号    \\t姓名    \\t   关系    \\t电话    &#39;)\n    print(&#39;=&#39; * 50)\n    for row in cursor.fetchall():\n        print(str(row[&#39;id&#39;]).ljust(8), end=&#39;&#39;)\n        print((row[&#39;telname&#39;].ljust(8) if len(row[&#39;telname&#39;]) == 3 else row[&#39;telname&#39;].ljust(9)), end=&#39;&#39;)\n        print(str(row[&#39;relation&#39;]).ljust(9), end=&#39;&#39;)\n        print(str(row[&#39;tel&#39;]).ljust(15))\n    print(&#39;=&#39; * 50)\n\n\ndef check_all_con(con):\n    figure = 0\n    while True:\n        print(&#39;=&#39; * 50)\n        with con.cursor() as cursor:\n            cursor.execute(\n                args=(figure,),\n                query=&quot;select id, telname, relation, tel from tb_cont order by id limit %s, 5&quot;)\n            function(cursor)\n        print(&#39;1.删除联系人&#39;)\n        print(&#39;2.查看下一页&#39;)\n        print(&#39;3.查看上一页&#39;)\n        print(&#39;4.修改联系人信息&#39;)\n        print(&#39;5.返回上一级&#39;)\n        print(&#39;-&#39; * 30)\n        elect = input(&#39;请选择：&#39;)\n        if elect == &#39;1&#39;:\n            del_con(con)\n        elif elect == &#39;2&#39;:\n            figure += 5\n            continue\n        elif elect == &#39;3&#39;:\n            if figure &gt;= 5:\n                figure -= 5\n            else:\n                print(&#39;没有上一页，请重新选择&#39;)\n            continue\n        elif elect == &#39;4&#39;:\n            updeat_con(con)\n        else:\n            break\n\n\ndef fuzzy1(con):\n    figure = 0\n    while True:\n        content = str(input(&#39;请输入搜索内容：&#39;))\n        with con.cursor() as cursor:\n            cursor.execute(\n                args=(&quot;%&quot; + content + &quot;%&quot;, figure),\n                query=&quot; select id, telname, relation, tel from tb_cont where telname like %s &quot;\n                      &quot; order by id limit %s, 5&quot;)\n            function(cursor)\n        print(&#39;1.删除联系人&#39;)\n        print(&#39;2.查看下一页&#39;)\n        print(&#39;3.查看上一页&#39;)\n        print(&#39;4.退出搜索&#39;)\n        elect = input(&#39;请选择：&#39;)\n        if elect == &#39;1&#39;:\n            cho = int(input(&#39;请输入要删除联系人的编号：&#39;))\n            with con.cursor() as cursor:\n                result = cursor.execute(\n                    args=(cho,),\n                    query=&quot;delete from tb_cont where id=%s&quot;)\n                if result == 1:\n                    print(&#39;删除成功！&#39;)\n                    print(&#39;-&#39; * 30)\n                    option = str(input(&#39;是否继续删除 yes / no  :&#39;))\n                    if option == &#39;yes&#39;:\n                        del_con(con)\n                    else:\n                        break\n                else:\n                    print(&#39;删除失败，请重新删除&#39;)\n                    continue\n        elif elect == &#39;2&#39;:\n            figure += 5\n            continue\n        else:\n            break\n\n\ndef fuzzy2(con):\n    figure = 0\n    while True:\n        content = str(input(&#39;请输入搜索电话：&#39;))\n        with con.cursor() as cursor:\n            cursor.execute(\n                args=(&quot;%&quot; + content + &quot;%&quot;, figure),\n                query=&quot; select id, telname, relation, tel from tb_cont where tel like %s &quot;\n                      &quot; order by id limit %s, 5 &quot;)\n            function(cursor)\n        print(&#39;1.删除联系人&#39;)\n        print(&#39;2.查看下一页&#39;)\n        print(&#39;3.查看上一页&#39;)\n        print(&#39;4.退出搜索&#39;)\n        elect = input(&#39;请选择：&#39;)\n        if elect == &#39;1&#39;:\n            cho = int(input(&#39;请输入要删除联系人的编号：&#39;))\n            with con.cursor() as cursor:\n                result = cursor.execute(\n                    args=(cho,),\n                    query=&quot;delete from tb_cont where id=%s&quot;)\n                if result == 1:\n                    print(&#39;删除成功！&#39;)\n                    print(&#39;-&#39; * 30)\n                    option = str(input(&#39;是否继续删除 yes / no  :&#39;))\n                    if option == &#39;yes&#39;:\n                        del_con(con)\n                    else:\n                        break\n                else:\n                    print(&#39;删除失败，请重新删除&#39;)\n                    continue\n        elif elect == &#39;2&#39;:\n            figure += 5\n            continue\n        elif elect == &#39;3&#39;:\n            if figure &gt;= 5:\n                figure -= 5\n            else:\n                print(&#39;没有上一页，请重新选择&#39;)\n            continue\n        else:\n            break\n\n\ndef updeat_con(con):\n    while True:\n        id = int(input(&#39;请输入要修改的联系人编号：&#39;))\n        telname = input(&#39;联系人姓名：&#39;)\n        relation = input(&#39;与联系人关系：&#39;)\n        tel = input(&#39;联系人电话：&#39;)\n        with con.cursor() as cursor:\n            result = cursor.execute(\n                args=(telname, relation, tel, id),\n                query=&quot;update tb_cont set telname=%s, relation=%s, tel=%s where id=%s&quot;)\n            if result == 1:\n                print(&#39;修改成功！&#39;)\n                print(&#39;-&#39; * 30)\n                option = str(input(&#39;是否继续修改 yes / no  :&#39;))\n                if option == &#39;yes&#39;:\n                    continue\n                else:\n                    break\n            else:\n                print(&#39;修改失败，请重新修改&#39;)\n                continue\n\n\ndef del_con(con):\n    while True:\n        cho = int(input(&#39;请输入要删除联系人的编号：&#39;))\n        with con.cursor() as cursor:\n            result = cursor.execute(\n                args=(cho,),\n                query=&quot;delete from tb_cont where id=%s&quot;)\n            if result == 1:\n                print(&#39;删除成功！&#39;)\n                print(&#39;-&#39; * 30)\n                option = str(input(&#39;是否继续删除 yes / no  :&#39;))\n                if option == &#39;yes&#39;:\n                    continue\n                else:\n                    break\n            else:\n                print(&#39;删除失败！&#39;)\n                print(&#39;-&#39; * 30)\n                option = str(input(&#39;是否继续删除 yes / no  :&#39;))\n                if option == &#39;yes&#39;:\n                    continue\n                else:\n                    break\n\ndef check_con(con):\n    while True:\n        print(&#39;-&#39; * 30)\n        print(&#39;1.查看全部联系人&#39;)\n        print(&#39;2.搜索联系人&#39;)\n        print(&#39;3.返回上一级&#39;)\n        print(&#39;-&#39; * 30)\n        sel = input(&#39;请选择查看方式：&#39;)\n        if sel == &#39;1&#39;:\n            check_all_con(con)\n        elif sel == &#39;2&#39;:\n            while True:\n                print(&#39;-&#39; * 30)\n                print(&#39;1.按姓名搜索&#39;)\n                print(&#39;2.按电话搜索&#39;)\n                print(&#39;3.退出搜索&#39;)\n                print(&#39;-&#39; * 30)\n                choose = input(&#39;请选择搜索方式：&#39;)\n                if choose == &#39;1&#39;:\n                    fuzzy1(con)\n                elif choose == &#39;2&#39;:\n                    fuzzy2(con)\n                else:\n                    break\n        elif sel == &#39;3&#39;:\n            break\n        else:\n            print(&#39;输入错误，请重新选择&#39;)\n            continue\n\n\ndef clo(con):\n    print(&#39;欢迎再次使用！&#39;)\n    con.close()\ndef main():\n    while True:\n        print(&#39;1.添加联系人&#39;)\n        print(&#39;2.查看联系人&#39;)\n        print(&#39;3.退出系统&#39;)\n        print(&#39;-&#39; * 30)\n        con = pymysql.connect(\n            host=&#39;localhost&#39;, port=3306, user=&#39;root&#39;, db=&#39;contact&#39;, charset=&#39;utf8&#39;, password=&#39;123456&#39;,\n            autocommit=True, cursorclass=pymysql.cursors.DictCursor)\n        num = input(&#39;请选择：&#39;)\n        if num == &#39;1&#39;:\n            add_con(con)\n        elif num == &#39;2&#39;:\n            check_con(con)\n        elif num == &#39;3&#39;:\n            clo(con)\n            break\n        else:\n            print(&#39;输入错误，请重新选择&#39;)\n            continue\n\n\nif __name__ == &#39;__main__&#39;:\n    main()\n\n</code></pre>\n"},{"title":"practice","date":"2018-10-16T12:11:59.000Z","author":"smile","img":"/images/timg.jpg","_content":"\n### practice1\n\n##### 创建列表过程\n\n- 创建SRS数据库\n\n  ```mysql\n  drop database if exists SRS;\n  create database SRS default charset utf8 collate utf8_bin;\n  ```\n\n- 切换到SRS数据库\n\n  ```mysql\n  use SRS;\n  ```\n\n- 创建学院表\n\n  ```mysql\n  create table tb_college\n  (\n  collid int not null auto_increment comment '学院编号',\n  collname varchar(50) not null comment '学院名称',\n  collmaster varchar(20) not null comment '院长姓名',\n  collweb varchar(511) default '' comment '学院网站',\n  primary key (collid)\n  );\n  ```\n\n- 添加唯一约束\n\n  ```mysql\n  alter table tb_college add constraint uni_college_collname unique (collname);\n  ```\n\n- 创建学生表\n\n  ```mysql\n  create table tb_student\n  (\n  stuid int not null comment '学号',\n  sname varchar(20) not null comment '学生姓名',\n  gender bit default 1 comment '性别',\n  birth date not null comment '出生日期',\n  addr varchar(255) default '' comment '籍贯',\n  collid int not null comment '所属学院编号',\n  primary key (stuid)\n  );\n  ```\n\n- 添加外键约束\n\n  ```mysql\n  - alter table tb_student add constraint fk_student_collid foreign key (collid) references tb_college (collid);\n  ```\n\n- 创建教师表\n\n  ```mysql\n  create table tb_teacher\n  (\n  teaid int not null comment '教师工号',\n  tname varchar(20) not null comment '教师姓名',\n  title varchar(10) default '' comment '职称',\n  collid int not null comment '所属学院编号'\n  );\n  ```\n\n- 添加主键约束\n\n  ```mysql\n  alter table tb_teacher add constraint pk_teacher primary key (teaid);\n  ```\n\n- 添加外键约束\n\n  ```mysql\n  alter table tb_teacher add constraint fk_teacher_collid foreign key (collid) references tb_college (collid);\n  ```\n\n- 创建课程表\n\n  ```mysql\n  create table tb_course\n  (\n  couid int not null comment '课程编号',\n  cname varchar(50) not null comment '课程名称',\n  credit tinyint not null comment '学分',\n  teaid int not null comment '教师工号',\n  primary key (couid)\n  );\n  ```\n\n- 添加外键约束\n\n  ```mysql\n  alter table tb_course add constraint fk_course_tid foreign key (teaid) references tb_teacher (teaid);\n  ```\n\n- 创建学生选课表\n\n  ```mysql\n  create table tb_score\n  (\n  scid int not null auto_increment comment '选课编号',\n  sid int not null comment '学号',\n  cid int not null comment '课程编号',\n  seldate date comment '选课时间日期',\n  mark decimal(4,1) comment '考试成绩',\n  primary key (scid)\n  );\n  ```\n\n- 添加外键约束\n\n  ```mysql\n  alter table tb_score add constraint fk_score_sid foreign key (sid) references tb_student (stuid);\n  alter table tb_score add constraint fk_score_cid foreign key (cid) references tb_course (couid);\n  \n  -- 添加唯一约束\n  alter table tb_score add constraint uni_score_sid_cid unique (sid, cid);\n  \n  ```\n\n- 插入学院数据\n\n  ```mysql\n  insert into tb_college (collname, collmaster, collweb) values \n  ('计算机学院', '左冷禅', 'http://www.abc.com'),\n  ('外国语学院', '岳不群', 'http://www.xyz.com'),\n  ('经济管理学院', '风清扬', 'http://www.foo.com');\n  ```\n\n- 插入学生数据\n\n  ```mysql\n  insert into tb_student (stuid, sname, gender, birth, addr, collid) values\n  (1001, '杨逍', 1, '1990-3-4', '四川成都', 1),\n  (1002, '任我行', 1, '1992-2-2', '湖南长沙', 1),\n  (1033, '王语嫣', 0, '1989-12-3', '四川成都', 1),\n  (1572, '岳不群', 1, '1993-7-19', '陕西咸阳', 1),\n  (1378, '纪嫣然', 0, '1995-8-12', '四川绵阳', 1),\n  (1954, '林平之', 1, '1994-9-20', '福建莆田', 1),\n  (2035, '东方不败', 1, '1988-6-30', null, 2),\n  (3011, '林震南', 1, '1985-12-12', '福建莆田', 3),\n  (3755, '项少龙', 1, '1993-1-25', null, 3),\n  (3923, '杨不悔', 0, '1985-4-17', '四川成都', 3);\n  ```\n\n- 插入老师数据\n\n  ```mysql\n  insert into tb_teacher (teaid, tname, title, collid) values \n  (1122, '张三丰', '教授', 1),\n  (1133, '宋远桥', '副教授', 1),\n  (1144, '杨逍', '副教授', 1),\n  (2255, '范遥', '副教授', 2),\n  (3366, '韦一笑', '讲师', 3);\n  ```\n\n- 插入课程数据\n\n  ```mysql\n  insert into tb_course (couid, cname, credit, teaid) values \n  (1111, 'Python程序设计', 3, 1122),\n  (2222, 'Web前端开发', 2, 1122),\n  (3333, '操作系统', 4, 1122),\n  (4444, '计算机网络', 2, 1133),\n  (5555, '编译原理', 4, 1144),\n  (6666, '算法和数据结构', 3, 1144),\n  (7777, '经贸法语', 3, 2255),\n  (8888, '成本会计', 2, 3366),\n  (9999, '审计学', 3, 3366);\n  ```\n\n- 插入选课数据\n\n  ```mysql\n  insert into tb_score (sid, cid, seldate, mark) values \n  (1001, 1111, '2017-09-01', 95),\n  (1001, 2222, '2017-09-01', 87.5),\n  (1001, 3333, '2017-09-01', 100),\n  (1001, 4444, '2018-09-03', null),\n  (1001, 6666, '2017-09-02', 100),\n  (1002, 1111, '2017-09-03', 65),\n  (1002, 5555, '2017-09-01', 42),\n  (1033, 1111, '2017-09-03', 92.5),\n  (1033, 4444, '2017-09-01', 78),\n  (1033, 5555, '2017-09-01', 82.5),\n  (1572, 1111, '2017-09-02', 78),\n  (1378, 1111, '2017-09-05', 82),\n  (1378, 7777, '2017-09-02', 65.5),\n  (2035, 7777, '2018-09-03', 88),\n  (2035, 9999, date(now()), null),\n  (3755, 1111, date(now()), null),\n  (3755, 8888, date(now()), null),\n  (3755, 9999, '2017-09-01', 92);\n  ```\n\n##### 习题\n\n- 查询所有学生信\n\n  ```mysql\nselect * from tb_student;\n  ```\n\n- 查询所有课程名称及学分(投影和别名)\n\n  ```mysql\n  select cname as 课程名称,credit as 学分 from tb_course;\n  ```\n\n- 查询所有女学生的姓名和出生日期(筛选)\n\n  ```mysql\n  select sname as 姓名,birth as 出生日期 from tb_student where gender=0;\n  ```\n\n- 查询所有80后学生的姓名、性别和出生日期(筛选)\n\n  ```mysql\n  判断\n  方法一(只适用于mysql数据库)：\n  select sname,if(gender, '男', '女'),birth from tb_student where birth between'1980-1-1' and '1989-12-31';\n  方法二(适用于所有数据库)：\n  select sname,case gender when 1 then '男' else '女' end,birth from tb_student where birth between'1980-1-1' and '1989-12-31';\n  ```\n\n- 查询姓”杨“的学生姓名和性别(模糊)\n\n  ```mysql\n  select sname,gender from tb_student where sname like '杨%';\n  ```\n\n- 查询姓”杨“名字两个字的学生姓名和性别(模糊)\n\n  ```mysql\n  select sname,gender from tb_student where sname like '杨_';\n  ```\n\n- 查询姓”杨“名字三个字的学生姓名和性别(模糊)\n\n  ```mysql\n  select sname,gender from tb_student where sname like '杨__';\n  ```\n\n- 查询名字中有”不“字或“嫣”字的学生的姓名(模糊)\n\n  ```mysql\n  select sname from tb_student where sname like '%不%' or sname like '%嫣%';\n  ```\n\n- 查询没有录入家庭住址的学生姓名(空值)\n\n  ```mysql\n  select sname from tb_student where addr is null or addr='';\n  ```\n\n- 查询录入了家庭住址的学生姓名(空值)\n\n  ```mysql\n  select sname from tb_student where addr is not null and addr<>'';\n  ```\n\n- 查询学生选课的所有日期(diatinct ----- 去重)\n\n  ```mysql\n  select distinct seldate from tb_score;\n  ```\n\n- 查询学生的家庭住址\n\n  ```mysql\n  select distinct addr from tb_student where addr is not null and addr<>'';\n  ```\n\n- 查询学生的姓名和生日按年龄从大到小排列(排序)\n\n  ```mysql\n  查询生日：\n  select sname,birth from tb_student order by birth asc;\n  查询年龄：\n  select sname,year(now()) - year(birth) as 年龄 from tb_student order by birth asc;\n  ```\n\n- 查询所有男学生的姓名和生日按年龄从大到小排列(排序)( order by ------- 排序)\n\n  ```mysql\n  select sname,birth from tb_student where gender=1 order by birth asc;\n  ```\n\n- 查询年龄最大的学生的出生日期(聚合函数)\n\n  ```mysql\n  select min(birth) from tb_student;\n  ```\n\n- 查询年龄最小的学生的出生日期(聚合函数)\n\n  ```mysql\n  select max(birth) from tb_student;\n  ```\n\n- 查询男女学生的人数(分组和聚合函数)( 分组--------- group by)\n\n  ```mysql\n  按人数排降序：\n  select if(gender, '男', '女') as 性别, count(gender) as 人数 from tb_student group by gender order by 人数 desc;\n  ```\n\n- 查询课程编号为1111的课程的平均成绩(筛选和聚合函数)\n\n  ```mysql\n  select avg(mark) as 平均分 from tb_score where cid=1111;\n  ```\n\n- 查询学号为1001的学生所有课程的总成绩(筛选和聚合函数)\n\n  ```mysql\n  select sum(mark) as 平均分 from tb_score where cid=1001;\n  ```\n\n- 查询每个学生的学号和平均成绩(分组和聚合函数)\n\n  ```mysql\n  select sid,avg(mark) from tb_score where mark is not null group by sid;\n  ```\n\n- 查询平均成绩大于等于90分的学生的学号和平均成绩(先分组，再筛选 --------- 分组后跟having)\n\n  ```mysql\n  select sid,avgmark from tb_score group by sid having avg(mark)>=90;\n  ```\n\n- 查询年龄最大的学生的姓名(子查询)\n\n  - 子查询 --- 在一个查询中又使用到了另外一个查询的结果\n\n  - 查询年龄最大的学生的姓名（子查询）\n\n    ```mysql\n    select sname from tb_student where birth= (select min(birth) from tb_student);\n    ```\n\n- 查询年龄最大的学生的姓名和年龄\n\n  ```mysql\n  select sname as 姓名, year(now()) - year(birth) as 年龄\n  from tb_student where birth= (select min(birth) from tb_student); \n  ```\n\n- 查询选了两门以上的课程的学生姓名(子查询/分组条件/集合运算)\n\n  ```mysql\n  select sname from tb_student where stuid in (\n  select sid from tb_score group by sid having count(sid)>2);\n  ```\n\n- 查询选课学生的姓名和平均成绩(子查询和连接查询)\n\n  ```mysql\n  select sname, avgmark from tb_student t1,\n  (select sid, avg(mark) as avgmark from tb_score group by sid) t2\n  where stuid=sid;\n  \n  select sname,cname,mark from tb_student\n  inner join tb_score on stuid=sid\n  inner join tb_course on couid=cid\n  where mark is not null;\n  -- 注意：在连接查询时结果没有给出连接条件就会形成笛卡尔积\n  \n  -- 笛卡儿积\n  -- A(a, b, c)*B(d, e)={ad, ae,bd, be, cd, ce}\n  \n  -- 查询学生姓名、所选课程名称和成绩(连接查询)\n  -- 连接查询(连接查询/连结查询)\n  select sname,cname,mark\n  from tb_score, tb_student, tb_course\n  where stuid=sid and couid=cid and mark is not null;\n  \n  -- 查询每个学生的姓名和选课数量（左外连接和子查询）\n  -- 左外连接(left outer join) ----- 把左表（写在连接前面的表）不满足连接条件的记录也查询出来对应记录补null值\n  -- 右外连接(right outer join) ----- 把右表（写在连接后面的表）不满足连接条件的记录也查询出来对应记录补null值\n  -- 全外连接(full outer join) ------ 把满足和不满足条件的记录全部查出来，mysql数据库不支持此操作\n  select sname as 姓名, conter as 选课数量 from tb_student left join,\n  (select sid, count(sid) as conter from tb_score group by sid)t2\n  on stuid(+)=sid;\n  \n  ```\n\n### 表的连接关系\n\n![表连接1](practice\\表连接1.png)\n\n#### 内连接的方式\n\n![表连接2](practice\\表连接2.png)\n\n#### 自连接的方式\n\n![表连接3](practice\\表连接3.png)\n\n#### 外连接的方式\n\n![表连接4](practice\\表连接4.png)\n\n## practice2\n\n- 创建人力资源管理系统数据库\n\n  ```mysql\n  drop database if exists HRS;\n  create database HRS default charset utf8 collate utf8_bin;\n  ```\n\n- 切换数据库上下文环境\n  `use HRS;`\n\n- 删除表\n\n  ```mysql\n  drop table if exists TbEmp;\n  drop table if exists TbDept;\n  ```\n\n- 创建部门表\n\n  ```mysql\n  create table TbDept\n  (\n  dno tinyint not null comment '部门编号',\n  dname varchar(10) not null comment '部门名称',\n  dloc varchar(20) not null comment '部门所在地',\n  primary key (dno)\n  );\n  ```\n\n- 添加部门记录\n\n  ```mysql\n  insert into TbDept values (10, '会计部', '北京');\n  insert into TbDept values (20, '研发部', '成都');\n  insert into TbDept values (30, '销售部', '重庆');\n  insert into TbDept values (40, '运维部', '深圳');\n  ```\n\n- 创建员工表\n\n  ```mysql\n  create table TbEmp\n  (\n  eno int not null comment '员工编号',\n  ename varchar(20) not null comment '员工姓名',\n  job varchar(20) not null comment '员工职位',\n  mgr int comment '主管编号',\n  sal int not null comment '月薪',\n  comm int comment '月补贴',\n  dno tinyint comment '所在部门编号',\n  primary key (eno)\n  );\n  ```\n\n- 添加外键约束\n\n  ```mysql\n  alter table TbEmp add constraint fk_dno foreign key (dno) references TbDept(dno) on delete set null on update cascade;\n  -- 更新，删除后赋值为null，所以前面创建的时候就不能添加（is not null)\n  -- on delete set null on update cascade;\n  ```\n\n- 添加员工记录\n\n  ```mysql\n  insert into TbEmp values \n  (7800, '张三丰', '总裁', null, 9000, 1200, 20),\n  (2056, '乔峰', '分析师', 7800, 5000, 1500, 20),\n  (3088, '李莫愁', '设计师', 2056, 3500, 800, 20),\n  (3211, '张无忌', '程序员', 2056, 3200, null, 20),\n  (3233, '丘处机', '程序员', 2056, 3400, null, 20),\n  (3251, '张翠山', '程序员', 2056, 4000, null, 20),\n  (5566, '宋远桥', '会计师', 7800, 4000, 1000, 10),\n  (5234, '郭靖', '出纳', 5566, 2000, null, 10),\n  (3344, '黄蓉', '销售主管', 7800, 3000, 800, 30),\n  (1359, '胡一刀', '销售员', 3344, 1800, 200, 30),\n  (4466, '苗人凤', '销售员', 3344, 2500, null, 30),\n  (3244, '欧阳锋', '程序员', 3088, 3200, null, 20),\n  (3577, '杨过', '会计', 5566, 2200, null, 10),\n  (3588, '朱九真', '会计', 5566, 2500, null, 10);\n  ```\n\n  #### 习题\n\n- 查询薪资最高的员工姓名和工资\n\n  ```mysql\n  -- select ename, sal+comm from TbEmp order by sal desc limit 0, 1;        ------- 排序出现的问题：可能前几个人的工资一样\n  select ename as 总裁, sal as 工资 from tbemp\n  where sal=(select max(sal) from tbemp);\n  ```\n\n- 查询员工的姓名和年薪((月薪+补贴)*12)\n\n  ```mysql\n  -- select ename as 姓名, sal12 + if(comm12,comm12,0) as 年薪 from TbEmp; or\n  select ename as 姓名, (sal + ifnull(comm,0))12 as 年薪 from TbEmp;\n  ```\n\n- 查询年薪大于5万的员工的姓名和年薪\n\n  ```mysql\n  select ename as 姓名, (sal + ifnull(comm,0))12 as 年薪\n  -- from TbEmp where 年薪>50000;\n  from TbEmp where (sal + ifnull(comm,0))12>50000;\n  ```\n\n- 查询有员工的部门的编号和人数\n  `select dno,count(dno) as 人数 from TbEmp group by dno;`.\n\n- 查询所有部门的名称和人数\n\n```mysql\nselect dno as 部门编号,dname as 部门名称,counter as 人数 from tbdept as t1,\n(select dno as d,count(dno) as counter from tbemp group by dno)t2\nwhere t1.dno=t2.d;\n```\n```mysql\nselect dname as 部门名称, ifnull(total, 0) as 人数 from tbdept t1 left join\n(select dno, count(dno) as total from tbemp group by dno)t2\non t1.dno=t2.dno;\n```\n\n- 查询薪资最高的员工(Boss除外)的姓名和工资\n  ```mysql\n  -- select ename as 姓名, sal+if(comm, comm, 0) as 工资 from TbEmp\n  -- order by (sal+if(comm, comm, 0)) desc limit 1, 1;\n  select ename as 员工, sal as 工资 from tbemp\n  where sal=(select max(sal) from tbemp where mgr is not null);\n  ```\n\n- 查询薪水超过平均薪水的员工的姓名和工资\n\n  ```mysql\n  select ename as 姓名, sal as 工资 from tbemp\n  where (sal+if(comm, comm, 0))>(\n  select avg(sal+if(comm, comm, 0)) from tbemp);\n  ```\n  ```mysql\n  select ename as 姓名, sal as 工资 from TbEmp\n  where sal>(select avg(sal) from tbemp);\n  ```\n\n- 查询薪水超过其所在部门平均薪水的员工的姓名、部门编号和工资\n\n  ```mysql\n  select ename, t1.dno, avgsal from tbemp t1,\n  (select dno, avg(sal) as avgsal from tbemp group by dno)t2\n  where t1.dno=t2.dno and sal>avgsal;\n  -- 多个连表条件之间用and连接\n  ```\n\n- 查询薪水超过其所在部门平均薪水的员工的姓名、部门名称和工资\n\n  ```mysql\n  select ename, dname, sal from tbemp t1,\n  (select dno, avg(sal) as avgsal from tbemp group by dno)t2,\n  tbdept t3\n  where t1.dno=t2.dno and sal>avgsal and t2.dno=t3.dno;\n  ```\n\n- 查询部门中薪水最高的人姓名、工资和所在部门名称\n\n  ```mysql\n  select ename, dname, sal from tbemp t1,\n  (select dno, max(sal) as maxsal from tbemp group by dno)t2,\n  tbdept t3\n  where t1.dno=t2.dno and t2.dno=t3.dno and sal=maxsal;\n  ```\n\n- 查询主管的姓名\n\n  ```mysql\n  - -- select ename from tbemp where job like'%主管%';\n  select ename, job from tbemp\n  where eno in (select distinct mgr from tbemp where mgr is not null);\n  \n  -- 说明：去重操作和集合运算效率是非常低的,可以使用以下方法\n  select ename as 主管, job as 职位 from tbemp t1 where exists \n  (select 'x' from tbemp t2 where t1.eno=t2.mgr) order by eno desc;\n  ```\n\n- 通常建议用exists或者not exists操作来代替去重和集合运算\n\n  ```mysql\n  select ename, job from tbemp t1\n  where exists (select 'x' from tbemp t2 where t1.eno=t2.mgr);\n  ```\n\n- 视图是查询的快照\n\n  ```mysql\n  -- 创建视图\n  create view vw_dept_emp_count as\n  select dno, count(dno) from tbemp group by dno;\n  -- 查看视图\n  select * from vw_dept_emp_count;\n  -- 通过视图可以将用户对表的访问权限进一步加以限制\n  -- 也就是说普通用户看到的就是限制的视图内容\n  create view emp_no_sal as\n  select ename, dname, sal from tbemp t1,\n  (select dno, avg(sal) as avgsal from tbemp group by dno)t2,\n  tbdept t3\n  where t1.dno=t2.dno and sal>avgsal and t2.dno=t3.dno;\n  -- 查看视图,限制条件\n  select ename, dname from emp_no_sal;\n  ```\n\n- 用硬件做的事情，用软件也可以做；反之亦可\n\n- 索引(相当于一本书的目录）\n\n  - 为表创建索引可以加速查询(用空间换时间)\n\n  - 索引不能滥用：\n\n    - 一、索引会让增删改变得更慢，应为增删改的操作可能会导致更新索引\n\n    - 二、索引会占用额外的存储空间\n    - 索引应该建在经常被用于查询的筛选条件的列上面，主键上有默认的索引(唯一索引)\n\n- 创建索引\n\n  ```mysql\n  -- 说明：使用模糊查询 ----- 如果查询条件不以%开头，索引有效;反之,无效\n  create index idx_emp_ename on tbemp(ename);\n  -- 唯一索引\n  create unique index uni_emp_ename on tbemp(ename);\n  ```\n\n- 删除索引\n  `alter table tbemp drop index uni_emp_ename;`","source":"_posts/数据库/practice.md","raw":"---\ntitle: practice\ndate: 2018-10-16 20:11:59\nauthor: smile\nimg: /images/timg.jpg\ncategories: databases\ntags:\n---\n\n### practice1\n\n##### 创建列表过程\n\n- 创建SRS数据库\n\n  ```mysql\n  drop database if exists SRS;\n  create database SRS default charset utf8 collate utf8_bin;\n  ```\n\n- 切换到SRS数据库\n\n  ```mysql\n  use SRS;\n  ```\n\n- 创建学院表\n\n  ```mysql\n  create table tb_college\n  (\n  collid int not null auto_increment comment '学院编号',\n  collname varchar(50) not null comment '学院名称',\n  collmaster varchar(20) not null comment '院长姓名',\n  collweb varchar(511) default '' comment '学院网站',\n  primary key (collid)\n  );\n  ```\n\n- 添加唯一约束\n\n  ```mysql\n  alter table tb_college add constraint uni_college_collname unique (collname);\n  ```\n\n- 创建学生表\n\n  ```mysql\n  create table tb_student\n  (\n  stuid int not null comment '学号',\n  sname varchar(20) not null comment '学生姓名',\n  gender bit default 1 comment '性别',\n  birth date not null comment '出生日期',\n  addr varchar(255) default '' comment '籍贯',\n  collid int not null comment '所属学院编号',\n  primary key (stuid)\n  );\n  ```\n\n- 添加外键约束\n\n  ```mysql\n  - alter table tb_student add constraint fk_student_collid foreign key (collid) references tb_college (collid);\n  ```\n\n- 创建教师表\n\n  ```mysql\n  create table tb_teacher\n  (\n  teaid int not null comment '教师工号',\n  tname varchar(20) not null comment '教师姓名',\n  title varchar(10) default '' comment '职称',\n  collid int not null comment '所属学院编号'\n  );\n  ```\n\n- 添加主键约束\n\n  ```mysql\n  alter table tb_teacher add constraint pk_teacher primary key (teaid);\n  ```\n\n- 添加外键约束\n\n  ```mysql\n  alter table tb_teacher add constraint fk_teacher_collid foreign key (collid) references tb_college (collid);\n  ```\n\n- 创建课程表\n\n  ```mysql\n  create table tb_course\n  (\n  couid int not null comment '课程编号',\n  cname varchar(50) not null comment '课程名称',\n  credit tinyint not null comment '学分',\n  teaid int not null comment '教师工号',\n  primary key (couid)\n  );\n  ```\n\n- 添加外键约束\n\n  ```mysql\n  alter table tb_course add constraint fk_course_tid foreign key (teaid) references tb_teacher (teaid);\n  ```\n\n- 创建学生选课表\n\n  ```mysql\n  create table tb_score\n  (\n  scid int not null auto_increment comment '选课编号',\n  sid int not null comment '学号',\n  cid int not null comment '课程编号',\n  seldate date comment '选课时间日期',\n  mark decimal(4,1) comment '考试成绩',\n  primary key (scid)\n  );\n  ```\n\n- 添加外键约束\n\n  ```mysql\n  alter table tb_score add constraint fk_score_sid foreign key (sid) references tb_student (stuid);\n  alter table tb_score add constraint fk_score_cid foreign key (cid) references tb_course (couid);\n  \n  -- 添加唯一约束\n  alter table tb_score add constraint uni_score_sid_cid unique (sid, cid);\n  \n  ```\n\n- 插入学院数据\n\n  ```mysql\n  insert into tb_college (collname, collmaster, collweb) values \n  ('计算机学院', '左冷禅', 'http://www.abc.com'),\n  ('外国语学院', '岳不群', 'http://www.xyz.com'),\n  ('经济管理学院', '风清扬', 'http://www.foo.com');\n  ```\n\n- 插入学生数据\n\n  ```mysql\n  insert into tb_student (stuid, sname, gender, birth, addr, collid) values\n  (1001, '杨逍', 1, '1990-3-4', '四川成都', 1),\n  (1002, '任我行', 1, '1992-2-2', '湖南长沙', 1),\n  (1033, '王语嫣', 0, '1989-12-3', '四川成都', 1),\n  (1572, '岳不群', 1, '1993-7-19', '陕西咸阳', 1),\n  (1378, '纪嫣然', 0, '1995-8-12', '四川绵阳', 1),\n  (1954, '林平之', 1, '1994-9-20', '福建莆田', 1),\n  (2035, '东方不败', 1, '1988-6-30', null, 2),\n  (3011, '林震南', 1, '1985-12-12', '福建莆田', 3),\n  (3755, '项少龙', 1, '1993-1-25', null, 3),\n  (3923, '杨不悔', 0, '1985-4-17', '四川成都', 3);\n  ```\n\n- 插入老师数据\n\n  ```mysql\n  insert into tb_teacher (teaid, tname, title, collid) values \n  (1122, '张三丰', '教授', 1),\n  (1133, '宋远桥', '副教授', 1),\n  (1144, '杨逍', '副教授', 1),\n  (2255, '范遥', '副教授', 2),\n  (3366, '韦一笑', '讲师', 3);\n  ```\n\n- 插入课程数据\n\n  ```mysql\n  insert into tb_course (couid, cname, credit, teaid) values \n  (1111, 'Python程序设计', 3, 1122),\n  (2222, 'Web前端开发', 2, 1122),\n  (3333, '操作系统', 4, 1122),\n  (4444, '计算机网络', 2, 1133),\n  (5555, '编译原理', 4, 1144),\n  (6666, '算法和数据结构', 3, 1144),\n  (7777, '经贸法语', 3, 2255),\n  (8888, '成本会计', 2, 3366),\n  (9999, '审计学', 3, 3366);\n  ```\n\n- 插入选课数据\n\n  ```mysql\n  insert into tb_score (sid, cid, seldate, mark) values \n  (1001, 1111, '2017-09-01', 95),\n  (1001, 2222, '2017-09-01', 87.5),\n  (1001, 3333, '2017-09-01', 100),\n  (1001, 4444, '2018-09-03', null),\n  (1001, 6666, '2017-09-02', 100),\n  (1002, 1111, '2017-09-03', 65),\n  (1002, 5555, '2017-09-01', 42),\n  (1033, 1111, '2017-09-03', 92.5),\n  (1033, 4444, '2017-09-01', 78),\n  (1033, 5555, '2017-09-01', 82.5),\n  (1572, 1111, '2017-09-02', 78),\n  (1378, 1111, '2017-09-05', 82),\n  (1378, 7777, '2017-09-02', 65.5),\n  (2035, 7777, '2018-09-03', 88),\n  (2035, 9999, date(now()), null),\n  (3755, 1111, date(now()), null),\n  (3755, 8888, date(now()), null),\n  (3755, 9999, '2017-09-01', 92);\n  ```\n\n##### 习题\n\n- 查询所有学生信\n\n  ```mysql\nselect * from tb_student;\n  ```\n\n- 查询所有课程名称及学分(投影和别名)\n\n  ```mysql\n  select cname as 课程名称,credit as 学分 from tb_course;\n  ```\n\n- 查询所有女学生的姓名和出生日期(筛选)\n\n  ```mysql\n  select sname as 姓名,birth as 出生日期 from tb_student where gender=0;\n  ```\n\n- 查询所有80后学生的姓名、性别和出生日期(筛选)\n\n  ```mysql\n  判断\n  方法一(只适用于mysql数据库)：\n  select sname,if(gender, '男', '女'),birth from tb_student where birth between'1980-1-1' and '1989-12-31';\n  方法二(适用于所有数据库)：\n  select sname,case gender when 1 then '男' else '女' end,birth from tb_student where birth between'1980-1-1' and '1989-12-31';\n  ```\n\n- 查询姓”杨“的学生姓名和性别(模糊)\n\n  ```mysql\n  select sname,gender from tb_student where sname like '杨%';\n  ```\n\n- 查询姓”杨“名字两个字的学生姓名和性别(模糊)\n\n  ```mysql\n  select sname,gender from tb_student where sname like '杨_';\n  ```\n\n- 查询姓”杨“名字三个字的学生姓名和性别(模糊)\n\n  ```mysql\n  select sname,gender from tb_student where sname like '杨__';\n  ```\n\n- 查询名字中有”不“字或“嫣”字的学生的姓名(模糊)\n\n  ```mysql\n  select sname from tb_student where sname like '%不%' or sname like '%嫣%';\n  ```\n\n- 查询没有录入家庭住址的学生姓名(空值)\n\n  ```mysql\n  select sname from tb_student where addr is null or addr='';\n  ```\n\n- 查询录入了家庭住址的学生姓名(空值)\n\n  ```mysql\n  select sname from tb_student where addr is not null and addr<>'';\n  ```\n\n- 查询学生选课的所有日期(diatinct ----- 去重)\n\n  ```mysql\n  select distinct seldate from tb_score;\n  ```\n\n- 查询学生的家庭住址\n\n  ```mysql\n  select distinct addr from tb_student where addr is not null and addr<>'';\n  ```\n\n- 查询学生的姓名和生日按年龄从大到小排列(排序)\n\n  ```mysql\n  查询生日：\n  select sname,birth from tb_student order by birth asc;\n  查询年龄：\n  select sname,year(now()) - year(birth) as 年龄 from tb_student order by birth asc;\n  ```\n\n- 查询所有男学生的姓名和生日按年龄从大到小排列(排序)( order by ------- 排序)\n\n  ```mysql\n  select sname,birth from tb_student where gender=1 order by birth asc;\n  ```\n\n- 查询年龄最大的学生的出生日期(聚合函数)\n\n  ```mysql\n  select min(birth) from tb_student;\n  ```\n\n- 查询年龄最小的学生的出生日期(聚合函数)\n\n  ```mysql\n  select max(birth) from tb_student;\n  ```\n\n- 查询男女学生的人数(分组和聚合函数)( 分组--------- group by)\n\n  ```mysql\n  按人数排降序：\n  select if(gender, '男', '女') as 性别, count(gender) as 人数 from tb_student group by gender order by 人数 desc;\n  ```\n\n- 查询课程编号为1111的课程的平均成绩(筛选和聚合函数)\n\n  ```mysql\n  select avg(mark) as 平均分 from tb_score where cid=1111;\n  ```\n\n- 查询学号为1001的学生所有课程的总成绩(筛选和聚合函数)\n\n  ```mysql\n  select sum(mark) as 平均分 from tb_score where cid=1001;\n  ```\n\n- 查询每个学生的学号和平均成绩(分组和聚合函数)\n\n  ```mysql\n  select sid,avg(mark) from tb_score where mark is not null group by sid;\n  ```\n\n- 查询平均成绩大于等于90分的学生的学号和平均成绩(先分组，再筛选 --------- 分组后跟having)\n\n  ```mysql\n  select sid,avgmark from tb_score group by sid having avg(mark)>=90;\n  ```\n\n- 查询年龄最大的学生的姓名(子查询)\n\n  - 子查询 --- 在一个查询中又使用到了另外一个查询的结果\n\n  - 查询年龄最大的学生的姓名（子查询）\n\n    ```mysql\n    select sname from tb_student where birth= (select min(birth) from tb_student);\n    ```\n\n- 查询年龄最大的学生的姓名和年龄\n\n  ```mysql\n  select sname as 姓名, year(now()) - year(birth) as 年龄\n  from tb_student where birth= (select min(birth) from tb_student); \n  ```\n\n- 查询选了两门以上的课程的学生姓名(子查询/分组条件/集合运算)\n\n  ```mysql\n  select sname from tb_student where stuid in (\n  select sid from tb_score group by sid having count(sid)>2);\n  ```\n\n- 查询选课学生的姓名和平均成绩(子查询和连接查询)\n\n  ```mysql\n  select sname, avgmark from tb_student t1,\n  (select sid, avg(mark) as avgmark from tb_score group by sid) t2\n  where stuid=sid;\n  \n  select sname,cname,mark from tb_student\n  inner join tb_score on stuid=sid\n  inner join tb_course on couid=cid\n  where mark is not null;\n  -- 注意：在连接查询时结果没有给出连接条件就会形成笛卡尔积\n  \n  -- 笛卡儿积\n  -- A(a, b, c)*B(d, e)={ad, ae,bd, be, cd, ce}\n  \n  -- 查询学生姓名、所选课程名称和成绩(连接查询)\n  -- 连接查询(连接查询/连结查询)\n  select sname,cname,mark\n  from tb_score, tb_student, tb_course\n  where stuid=sid and couid=cid and mark is not null;\n  \n  -- 查询每个学生的姓名和选课数量（左外连接和子查询）\n  -- 左外连接(left outer join) ----- 把左表（写在连接前面的表）不满足连接条件的记录也查询出来对应记录补null值\n  -- 右外连接(right outer join) ----- 把右表（写在连接后面的表）不满足连接条件的记录也查询出来对应记录补null值\n  -- 全外连接(full outer join) ------ 把满足和不满足条件的记录全部查出来，mysql数据库不支持此操作\n  select sname as 姓名, conter as 选课数量 from tb_student left join,\n  (select sid, count(sid) as conter from tb_score group by sid)t2\n  on stuid(+)=sid;\n  \n  ```\n\n### 表的连接关系\n\n![表连接1](practice\\表连接1.png)\n\n#### 内连接的方式\n\n![表连接2](practice\\表连接2.png)\n\n#### 自连接的方式\n\n![表连接3](practice\\表连接3.png)\n\n#### 外连接的方式\n\n![表连接4](practice\\表连接4.png)\n\n## practice2\n\n- 创建人力资源管理系统数据库\n\n  ```mysql\n  drop database if exists HRS;\n  create database HRS default charset utf8 collate utf8_bin;\n  ```\n\n- 切换数据库上下文环境\n  `use HRS;`\n\n- 删除表\n\n  ```mysql\n  drop table if exists TbEmp;\n  drop table if exists TbDept;\n  ```\n\n- 创建部门表\n\n  ```mysql\n  create table TbDept\n  (\n  dno tinyint not null comment '部门编号',\n  dname varchar(10) not null comment '部门名称',\n  dloc varchar(20) not null comment '部门所在地',\n  primary key (dno)\n  );\n  ```\n\n- 添加部门记录\n\n  ```mysql\n  insert into TbDept values (10, '会计部', '北京');\n  insert into TbDept values (20, '研发部', '成都');\n  insert into TbDept values (30, '销售部', '重庆');\n  insert into TbDept values (40, '运维部', '深圳');\n  ```\n\n- 创建员工表\n\n  ```mysql\n  create table TbEmp\n  (\n  eno int not null comment '员工编号',\n  ename varchar(20) not null comment '员工姓名',\n  job varchar(20) not null comment '员工职位',\n  mgr int comment '主管编号',\n  sal int not null comment '月薪',\n  comm int comment '月补贴',\n  dno tinyint comment '所在部门编号',\n  primary key (eno)\n  );\n  ```\n\n- 添加外键约束\n\n  ```mysql\n  alter table TbEmp add constraint fk_dno foreign key (dno) references TbDept(dno) on delete set null on update cascade;\n  -- 更新，删除后赋值为null，所以前面创建的时候就不能添加（is not null)\n  -- on delete set null on update cascade;\n  ```\n\n- 添加员工记录\n\n  ```mysql\n  insert into TbEmp values \n  (7800, '张三丰', '总裁', null, 9000, 1200, 20),\n  (2056, '乔峰', '分析师', 7800, 5000, 1500, 20),\n  (3088, '李莫愁', '设计师', 2056, 3500, 800, 20),\n  (3211, '张无忌', '程序员', 2056, 3200, null, 20),\n  (3233, '丘处机', '程序员', 2056, 3400, null, 20),\n  (3251, '张翠山', '程序员', 2056, 4000, null, 20),\n  (5566, '宋远桥', '会计师', 7800, 4000, 1000, 10),\n  (5234, '郭靖', '出纳', 5566, 2000, null, 10),\n  (3344, '黄蓉', '销售主管', 7800, 3000, 800, 30),\n  (1359, '胡一刀', '销售员', 3344, 1800, 200, 30),\n  (4466, '苗人凤', '销售员', 3344, 2500, null, 30),\n  (3244, '欧阳锋', '程序员', 3088, 3200, null, 20),\n  (3577, '杨过', '会计', 5566, 2200, null, 10),\n  (3588, '朱九真', '会计', 5566, 2500, null, 10);\n  ```\n\n  #### 习题\n\n- 查询薪资最高的员工姓名和工资\n\n  ```mysql\n  -- select ename, sal+comm from TbEmp order by sal desc limit 0, 1;        ------- 排序出现的问题：可能前几个人的工资一样\n  select ename as 总裁, sal as 工资 from tbemp\n  where sal=(select max(sal) from tbemp);\n  ```\n\n- 查询员工的姓名和年薪((月薪+补贴)*12)\n\n  ```mysql\n  -- select ename as 姓名, sal12 + if(comm12,comm12,0) as 年薪 from TbEmp; or\n  select ename as 姓名, (sal + ifnull(comm,0))12 as 年薪 from TbEmp;\n  ```\n\n- 查询年薪大于5万的员工的姓名和年薪\n\n  ```mysql\n  select ename as 姓名, (sal + ifnull(comm,0))12 as 年薪\n  -- from TbEmp where 年薪>50000;\n  from TbEmp where (sal + ifnull(comm,0))12>50000;\n  ```\n\n- 查询有员工的部门的编号和人数\n  `select dno,count(dno) as 人数 from TbEmp group by dno;`.\n\n- 查询所有部门的名称和人数\n\n```mysql\nselect dno as 部门编号,dname as 部门名称,counter as 人数 from tbdept as t1,\n(select dno as d,count(dno) as counter from tbemp group by dno)t2\nwhere t1.dno=t2.d;\n```\n```mysql\nselect dname as 部门名称, ifnull(total, 0) as 人数 from tbdept t1 left join\n(select dno, count(dno) as total from tbemp group by dno)t2\non t1.dno=t2.dno;\n```\n\n- 查询薪资最高的员工(Boss除外)的姓名和工资\n  ```mysql\n  -- select ename as 姓名, sal+if(comm, comm, 0) as 工资 from TbEmp\n  -- order by (sal+if(comm, comm, 0)) desc limit 1, 1;\n  select ename as 员工, sal as 工资 from tbemp\n  where sal=(select max(sal) from tbemp where mgr is not null);\n  ```\n\n- 查询薪水超过平均薪水的员工的姓名和工资\n\n  ```mysql\n  select ename as 姓名, sal as 工资 from tbemp\n  where (sal+if(comm, comm, 0))>(\n  select avg(sal+if(comm, comm, 0)) from tbemp);\n  ```\n  ```mysql\n  select ename as 姓名, sal as 工资 from TbEmp\n  where sal>(select avg(sal) from tbemp);\n  ```\n\n- 查询薪水超过其所在部门平均薪水的员工的姓名、部门编号和工资\n\n  ```mysql\n  select ename, t1.dno, avgsal from tbemp t1,\n  (select dno, avg(sal) as avgsal from tbemp group by dno)t2\n  where t1.dno=t2.dno and sal>avgsal;\n  -- 多个连表条件之间用and连接\n  ```\n\n- 查询薪水超过其所在部门平均薪水的员工的姓名、部门名称和工资\n\n  ```mysql\n  select ename, dname, sal from tbemp t1,\n  (select dno, avg(sal) as avgsal from tbemp group by dno)t2,\n  tbdept t3\n  where t1.dno=t2.dno and sal>avgsal and t2.dno=t3.dno;\n  ```\n\n- 查询部门中薪水最高的人姓名、工资和所在部门名称\n\n  ```mysql\n  select ename, dname, sal from tbemp t1,\n  (select dno, max(sal) as maxsal from tbemp group by dno)t2,\n  tbdept t3\n  where t1.dno=t2.dno and t2.dno=t3.dno and sal=maxsal;\n  ```\n\n- 查询主管的姓名\n\n  ```mysql\n  - -- select ename from tbemp where job like'%主管%';\n  select ename, job from tbemp\n  where eno in (select distinct mgr from tbemp where mgr is not null);\n  \n  -- 说明：去重操作和集合运算效率是非常低的,可以使用以下方法\n  select ename as 主管, job as 职位 from tbemp t1 where exists \n  (select 'x' from tbemp t2 where t1.eno=t2.mgr) order by eno desc;\n  ```\n\n- 通常建议用exists或者not exists操作来代替去重和集合运算\n\n  ```mysql\n  select ename, job from tbemp t1\n  where exists (select 'x' from tbemp t2 where t1.eno=t2.mgr);\n  ```\n\n- 视图是查询的快照\n\n  ```mysql\n  -- 创建视图\n  create view vw_dept_emp_count as\n  select dno, count(dno) from tbemp group by dno;\n  -- 查看视图\n  select * from vw_dept_emp_count;\n  -- 通过视图可以将用户对表的访问权限进一步加以限制\n  -- 也就是说普通用户看到的就是限制的视图内容\n  create view emp_no_sal as\n  select ename, dname, sal from tbemp t1,\n  (select dno, avg(sal) as avgsal from tbemp group by dno)t2,\n  tbdept t3\n  where t1.dno=t2.dno and sal>avgsal and t2.dno=t3.dno;\n  -- 查看视图,限制条件\n  select ename, dname from emp_no_sal;\n  ```\n\n- 用硬件做的事情，用软件也可以做；反之亦可\n\n- 索引(相当于一本书的目录）\n\n  - 为表创建索引可以加速查询(用空间换时间)\n\n  - 索引不能滥用：\n\n    - 一、索引会让增删改变得更慢，应为增删改的操作可能会导致更新索引\n\n    - 二、索引会占用额外的存储空间\n    - 索引应该建在经常被用于查询的筛选条件的列上面，主键上有默认的索引(唯一索引)\n\n- 创建索引\n\n  ```mysql\n  -- 说明：使用模糊查询 ----- 如果查询条件不以%开头，索引有效;反之,无效\n  create index idx_emp_ename on tbemp(ename);\n  -- 唯一索引\n  create unique index uni_emp_ename on tbemp(ename);\n  ```\n\n- 删除索引\n  `alter table tbemp drop index uni_emp_ename;`","slug":"数据库/practice","published":1,"updated":"2019-01-17T07:12:27.252Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjt87kqqz0059r8r6y5qbkfv1","content":"<h3 id=\"practice1\"><a href=\"#practice1\" class=\"headerlink\" title=\"practice1\"></a>practice1</h3><h5 id=\"创建列表过程\"><a href=\"#创建列表过程\" class=\"headerlink\" title=\"创建列表过程\"></a>创建列表过程</h5><ul>\n<li><p>创建SRS数据库</p>\n<pre class=\" language-mysql\"><code class=\"language-mysql\">drop database if exists SRS;\ncreate database SRS default charset utf8 collate utf8_bin;\n</code></pre>\n</li>\n<li><p>切换到SRS数据库</p>\n<pre class=\" language-mysql\"><code class=\"language-mysql\">use SRS;\n</code></pre>\n</li>\n<li><p>创建学院表</p>\n<pre class=\" language-mysql\"><code class=\"language-mysql\">create table tb_college\n(\ncollid int not null auto_increment comment '学院编号',\ncollname varchar(50) not null comment '学院名称',\ncollmaster varchar(20) not null comment '院长姓名',\ncollweb varchar(511) default '' comment '学院网站',\nprimary key (collid)\n);\n</code></pre>\n</li>\n<li><p>添加唯一约束</p>\n<pre class=\" language-mysql\"><code class=\"language-mysql\">alter table tb_college add constraint uni_college_collname unique (collname);\n</code></pre>\n</li>\n<li><p>创建学生表</p>\n<pre class=\" language-mysql\"><code class=\"language-mysql\">create table tb_student\n(\nstuid int not null comment '学号',\nsname varchar(20) not null comment '学生姓名',\ngender bit default 1 comment '性别',\nbirth date not null comment '出生日期',\naddr varchar(255) default '' comment '籍贯',\ncollid int not null comment '所属学院编号',\nprimary key (stuid)\n);\n</code></pre>\n</li>\n<li><p>添加外键约束</p>\n<pre class=\" language-mysql\"><code class=\"language-mysql\">- alter table tb_student add constraint fk_student_collid foreign key (collid) references tb_college (collid);\n</code></pre>\n</li>\n<li><p>创建教师表</p>\n<pre class=\" language-mysql\"><code class=\"language-mysql\">create table tb_teacher\n(\nteaid int not null comment '教师工号',\ntname varchar(20) not null comment '教师姓名',\ntitle varchar(10) default '' comment '职称',\ncollid int not null comment '所属学院编号'\n);\n</code></pre>\n</li>\n<li><p>添加主键约束</p>\n<pre class=\" language-mysql\"><code class=\"language-mysql\">alter table tb_teacher add constraint pk_teacher primary key (teaid);\n</code></pre>\n</li>\n<li><p>添加外键约束</p>\n<pre class=\" language-mysql\"><code class=\"language-mysql\">alter table tb_teacher add constraint fk_teacher_collid foreign key (collid) references tb_college (collid);\n</code></pre>\n</li>\n<li><p>创建课程表</p>\n<pre class=\" language-mysql\"><code class=\"language-mysql\">create table tb_course\n(\ncouid int not null comment '课程编号',\ncname varchar(50) not null comment '课程名称',\ncredit tinyint not null comment '学分',\nteaid int not null comment '教师工号',\nprimary key (couid)\n);\n</code></pre>\n</li>\n<li><p>添加外键约束</p>\n<pre class=\" language-mysql\"><code class=\"language-mysql\">alter table tb_course add constraint fk_course_tid foreign key (teaid) references tb_teacher (teaid);\n</code></pre>\n</li>\n<li><p>创建学生选课表</p>\n<pre class=\" language-mysql\"><code class=\"language-mysql\">create table tb_score\n(\nscid int not null auto_increment comment '选课编号',\nsid int not null comment '学号',\ncid int not null comment '课程编号',\nseldate date comment '选课时间日期',\nmark decimal(4,1) comment '考试成绩',\nprimary key (scid)\n);\n</code></pre>\n</li>\n<li><p>添加外键约束</p>\n<pre class=\" language-mysql\"><code class=\"language-mysql\">alter table tb_score add constraint fk_score_sid foreign key (sid) references tb_student (stuid);\nalter table tb_score add constraint fk_score_cid foreign key (cid) references tb_course (couid);\n\n-- 添加唯一约束\nalter table tb_score add constraint uni_score_sid_cid unique (sid, cid);\n\n</code></pre>\n</li>\n<li><p>插入学院数据</p>\n<pre class=\" language-mysql\"><code class=\"language-mysql\">insert into tb_college (collname, collmaster, collweb) values \n('计算机学院', '左冷禅', 'http://www.abc.com'),\n('外国语学院', '岳不群', 'http://www.xyz.com'),\n('经济管理学院', '风清扬', 'http://www.foo.com');\n</code></pre>\n</li>\n<li><p>插入学生数据</p>\n<pre class=\" language-mysql\"><code class=\"language-mysql\">insert into tb_student (stuid, sname, gender, birth, addr, collid) values\n(1001, '杨逍', 1, '1990-3-4', '四川成都', 1),\n(1002, '任我行', 1, '1992-2-2', '湖南长沙', 1),\n(1033, '王语嫣', 0, '1989-12-3', '四川成都', 1),\n(1572, '岳不群', 1, '1993-7-19', '陕西咸阳', 1),\n(1378, '纪嫣然', 0, '1995-8-12', '四川绵阳', 1),\n(1954, '林平之', 1, '1994-9-20', '福建莆田', 1),\n(2035, '东方不败', 1, '1988-6-30', null, 2),\n(3011, '林震南', 1, '1985-12-12', '福建莆田', 3),\n(3755, '项少龙', 1, '1993-1-25', null, 3),\n(3923, '杨不悔', 0, '1985-4-17', '四川成都', 3);\n</code></pre>\n</li>\n<li><p>插入老师数据</p>\n<pre class=\" language-mysql\"><code class=\"language-mysql\">insert into tb_teacher (teaid, tname, title, collid) values \n(1122, '张三丰', '教授', 1),\n(1133, '宋远桥', '副教授', 1),\n(1144, '杨逍', '副教授', 1),\n(2255, '范遥', '副教授', 2),\n(3366, '韦一笑', '讲师', 3);\n</code></pre>\n</li>\n<li><p>插入课程数据</p>\n<pre class=\" language-mysql\"><code class=\"language-mysql\">insert into tb_course (couid, cname, credit, teaid) values \n(1111, 'Python程序设计', 3, 1122),\n(2222, 'Web前端开发', 2, 1122),\n(3333, '操作系统', 4, 1122),\n(4444, '计算机网络', 2, 1133),\n(5555, '编译原理', 4, 1144),\n(6666, '算法和数据结构', 3, 1144),\n(7777, '经贸法语', 3, 2255),\n(8888, '成本会计', 2, 3366),\n(9999, '审计学', 3, 3366);\n</code></pre>\n</li>\n<li><p>插入选课数据</p>\n<pre class=\" language-mysql\"><code class=\"language-mysql\">insert into tb_score (sid, cid, seldate, mark) values \n(1001, 1111, '2017-09-01', 95),\n(1001, 2222, '2017-09-01', 87.5),\n(1001, 3333, '2017-09-01', 100),\n(1001, 4444, '2018-09-03', null),\n(1001, 6666, '2017-09-02', 100),\n(1002, 1111, '2017-09-03', 65),\n(1002, 5555, '2017-09-01', 42),\n(1033, 1111, '2017-09-03', 92.5),\n(1033, 4444, '2017-09-01', 78),\n(1033, 5555, '2017-09-01', 82.5),\n(1572, 1111, '2017-09-02', 78),\n(1378, 1111, '2017-09-05', 82),\n(1378, 7777, '2017-09-02', 65.5),\n(2035, 7777, '2018-09-03', 88),\n(2035, 9999, date(now()), null),\n(3755, 1111, date(now()), null),\n(3755, 8888, date(now()), null),\n(3755, 9999, '2017-09-01', 92);\n</code></pre>\n</li>\n</ul>\n<h5 id=\"习题\"><a href=\"#习题\" class=\"headerlink\" title=\"习题\"></a>习题</h5><ul>\n<li><p>查询所有学生信</p>\n<pre class=\" language-mysql\"><code class=\"language-mysql\">select * from tb_student;\n</code></pre>\n</li>\n<li><p>查询所有课程名称及学分(投影和别名)</p>\n<pre class=\" language-mysql\"><code class=\"language-mysql\">select cname as 课程名称,credit as 学分 from tb_course;\n</code></pre>\n</li>\n<li><p>查询所有女学生的姓名和出生日期(筛选)</p>\n<pre class=\" language-mysql\"><code class=\"language-mysql\">select sname as 姓名,birth as 出生日期 from tb_student where gender=0;\n</code></pre>\n</li>\n<li><p>查询所有80后学生的姓名、性别和出生日期(筛选)</p>\n<pre class=\" language-mysql\"><code class=\"language-mysql\">判断\n方法一(只适用于mysql数据库)：\nselect sname,if(gender, '男', '女'),birth from tb_student where birth between'1980-1-1' and '1989-12-31';\n方法二(适用于所有数据库)：\nselect sname,case gender when 1 then '男' else '女' end,birth from tb_student where birth between'1980-1-1' and '1989-12-31';\n</code></pre>\n</li>\n<li><p>查询姓”杨“的学生姓名和性别(模糊)</p>\n<pre class=\" language-mysql\"><code class=\"language-mysql\">select sname,gender from tb_student where sname like '杨%';\n</code></pre>\n</li>\n<li><p>查询姓”杨“名字两个字的学生姓名和性别(模糊)</p>\n<pre class=\" language-mysql\"><code class=\"language-mysql\">select sname,gender from tb_student where sname like '杨_';\n</code></pre>\n</li>\n<li><p>查询姓”杨“名字三个字的学生姓名和性别(模糊)</p>\n<pre class=\" language-mysql\"><code class=\"language-mysql\">select sname,gender from tb_student where sname like '杨__';\n</code></pre>\n</li>\n<li><p>查询名字中有”不“字或“嫣”字的学生的姓名(模糊)</p>\n<pre class=\" language-mysql\"><code class=\"language-mysql\">select sname from tb_student where sname like '%不%' or sname like '%嫣%';\n</code></pre>\n</li>\n<li><p>查询没有录入家庭住址的学生姓名(空值)</p>\n<pre class=\" language-mysql\"><code class=\"language-mysql\">select sname from tb_student where addr is null or addr='';\n</code></pre>\n</li>\n<li><p>查询录入了家庭住址的学生姓名(空值)</p>\n<pre class=\" language-mysql\"><code class=\"language-mysql\">select sname from tb_student where addr is not null and addr<>'';\n</code></pre>\n</li>\n<li><p>查询学生选课的所有日期(diatinct —– 去重)</p>\n<pre class=\" language-mysql\"><code class=\"language-mysql\">select distinct seldate from tb_score;\n</code></pre>\n</li>\n<li><p>查询学生的家庭住址</p>\n<pre class=\" language-mysql\"><code class=\"language-mysql\">select distinct addr from tb_student where addr is not null and addr<>'';\n</code></pre>\n</li>\n<li><p>查询学生的姓名和生日按年龄从大到小排列(排序)</p>\n<pre class=\" language-mysql\"><code class=\"language-mysql\">查询生日：\nselect sname,birth from tb_student order by birth asc;\n查询年龄：\nselect sname,year(now()) - year(birth) as 年龄 from tb_student order by birth asc;\n</code></pre>\n</li>\n<li><p>查询所有男学生的姓名和生日按年龄从大到小排列(排序)( order by ——- 排序)</p>\n<pre class=\" language-mysql\"><code class=\"language-mysql\">select sname,birth from tb_student where gender=1 order by birth asc;\n</code></pre>\n</li>\n<li><p>查询年龄最大的学生的出生日期(聚合函数)</p>\n<pre class=\" language-mysql\"><code class=\"language-mysql\">select min(birth) from tb_student;\n</code></pre>\n</li>\n<li><p>查询年龄最小的学生的出生日期(聚合函数)</p>\n<pre class=\" language-mysql\"><code class=\"language-mysql\">select max(birth) from tb_student;\n</code></pre>\n</li>\n<li><p>查询男女学生的人数(分组和聚合函数)( 分组——— group by)</p>\n<pre class=\" language-mysql\"><code class=\"language-mysql\">按人数排降序：\nselect if(gender, '男', '女') as 性别, count(gender) as 人数 from tb_student group by gender order by 人数 desc;\n</code></pre>\n</li>\n<li><p>查询课程编号为1111的课程的平均成绩(筛选和聚合函数)</p>\n<pre class=\" language-mysql\"><code class=\"language-mysql\">select avg(mark) as 平均分 from tb_score where cid=1111;\n</code></pre>\n</li>\n<li><p>查询学号为1001的学生所有课程的总成绩(筛选和聚合函数)</p>\n<pre class=\" language-mysql\"><code class=\"language-mysql\">select sum(mark) as 平均分 from tb_score where cid=1001;\n</code></pre>\n</li>\n<li><p>查询每个学生的学号和平均成绩(分组和聚合函数)</p>\n<pre class=\" language-mysql\"><code class=\"language-mysql\">select sid,avg(mark) from tb_score where mark is not null group by sid;\n</code></pre>\n</li>\n<li><p>查询平均成绩大于等于90分的学生的学号和平均成绩(先分组，再筛选 ——— 分组后跟having)</p>\n<pre class=\" language-mysql\"><code class=\"language-mysql\">select sid,avgmark from tb_score group by sid having avg(mark)>=90;\n</code></pre>\n</li>\n<li><p>查询年龄最大的学生的姓名(子查询)</p>\n<ul>\n<li><p>子查询 — 在一个查询中又使用到了另外一个查询的结果</p>\n</li>\n<li><p>查询年龄最大的学生的姓名（子查询）</p>\n<pre class=\" language-mysql\"><code class=\"language-mysql\">select sname from tb_student where birth= (select min(birth) from tb_student);\n</code></pre>\n</li>\n</ul>\n</li>\n<li><p>查询年龄最大的学生的姓名和年龄</p>\n<pre class=\" language-mysql\"><code class=\"language-mysql\">select sname as 姓名, year(now()) - year(birth) as 年龄\nfrom tb_student where birth= (select min(birth) from tb_student); \n</code></pre>\n</li>\n<li><p>查询选了两门以上的课程的学生姓名(子查询/分组条件/集合运算)</p>\n<pre class=\" language-mysql\"><code class=\"language-mysql\">select sname from tb_student where stuid in (\nselect sid from tb_score group by sid having count(sid)>2);\n</code></pre>\n</li>\n<li><p>查询选课学生的姓名和平均成绩(子查询和连接查询)</p>\n<pre class=\" language-mysql\"><code class=\"language-mysql\">select sname, avgmark from tb_student t1,\n(select sid, avg(mark) as avgmark from tb_score group by sid) t2\nwhere stuid=sid;\n\nselect sname,cname,mark from tb_student\ninner join tb_score on stuid=sid\ninner join tb_course on couid=cid\nwhere mark is not null;\n-- 注意：在连接查询时结果没有给出连接条件就会形成笛卡尔积\n\n-- 笛卡儿积\n-- A(a, b, c)*B(d, e)={ad, ae,bd, be, cd, ce}\n\n-- 查询学生姓名、所选课程名称和成绩(连接查询)\n-- 连接查询(连接查询/连结查询)\nselect sname,cname,mark\nfrom tb_score, tb_student, tb_course\nwhere stuid=sid and couid=cid and mark is not null;\n\n-- 查询每个学生的姓名和选课数量（左外连接和子查询）\n-- 左外连接(left outer join) ----- 把左表（写在连接前面的表）不满足连接条件的记录也查询出来对应记录补null值\n-- 右外连接(right outer join) ----- 把右表（写在连接后面的表）不满足连接条件的记录也查询出来对应记录补null值\n-- 全外连接(full outer join) ------ 把满足和不满足条件的记录全部查出来，mysql数据库不支持此操作\nselect sname as 姓名, conter as 选课数量 from tb_student left join,\n(select sid, count(sid) as conter from tb_score group by sid)t2\non stuid(+)=sid;\n\n</code></pre>\n</li>\n</ul>\n<h3 id=\"表的连接关系\"><a href=\"#表的连接关系\" class=\"headerlink\" title=\"表的连接关系\"></a>表的连接关系</h3><p><img src=\"/2018/10/16/数据库/practice/表连接1.png\" alt=\"表连接1\"></p>\n<h4 id=\"内连接的方式\"><a href=\"#内连接的方式\" class=\"headerlink\" title=\"内连接的方式\"></a>内连接的方式</h4><p><img src=\"/2018/10/16/数据库/practice/表连接2.png\" alt=\"表连接2\"></p>\n<h4 id=\"自连接的方式\"><a href=\"#自连接的方式\" class=\"headerlink\" title=\"自连接的方式\"></a>自连接的方式</h4><p><img src=\"/2018/10/16/数据库/practice/表连接3.png\" alt=\"表连接3\"></p>\n<h4 id=\"外连接的方式\"><a href=\"#外连接的方式\" class=\"headerlink\" title=\"外连接的方式\"></a>外连接的方式</h4><p><img src=\"/2018/10/16/数据库/practice/表连接4.png\" alt=\"表连接4\"></p>\n<h2 id=\"practice2\"><a href=\"#practice2\" class=\"headerlink\" title=\"practice2\"></a>practice2</h2><ul>\n<li><p>创建人力资源管理系统数据库</p>\n<pre class=\" language-mysql\"><code class=\"language-mysql\">drop database if exists HRS;\ncreate database HRS default charset utf8 collate utf8_bin;\n</code></pre>\n</li>\n<li><p>切换数据库上下文环境<br><code>use HRS;</code></p>\n</li>\n<li><p>删除表</p>\n<pre class=\" language-mysql\"><code class=\"language-mysql\">drop table if exists TbEmp;\ndrop table if exists TbDept;\n</code></pre>\n</li>\n<li><p>创建部门表</p>\n<pre class=\" language-mysql\"><code class=\"language-mysql\">create table TbDept\n(\ndno tinyint not null comment '部门编号',\ndname varchar(10) not null comment '部门名称',\ndloc varchar(20) not null comment '部门所在地',\nprimary key (dno)\n);\n</code></pre>\n</li>\n<li><p>添加部门记录</p>\n<pre class=\" language-mysql\"><code class=\"language-mysql\">insert into TbDept values (10, '会计部', '北京');\ninsert into TbDept values (20, '研发部', '成都');\ninsert into TbDept values (30, '销售部', '重庆');\ninsert into TbDept values (40, '运维部', '深圳');\n</code></pre>\n</li>\n<li><p>创建员工表</p>\n<pre class=\" language-mysql\"><code class=\"language-mysql\">create table TbEmp\n(\neno int not null comment '员工编号',\nename varchar(20) not null comment '员工姓名',\njob varchar(20) not null comment '员工职位',\nmgr int comment '主管编号',\nsal int not null comment '月薪',\ncomm int comment '月补贴',\ndno tinyint comment '所在部门编号',\nprimary key (eno)\n);\n</code></pre>\n</li>\n<li><p>添加外键约束</p>\n<pre class=\" language-mysql\"><code class=\"language-mysql\">alter table TbEmp add constraint fk_dno foreign key (dno) references TbDept(dno) on delete set null on update cascade;\n-- 更新，删除后赋值为null，所以前面创建的时候就不能添加（is not null)\n-- on delete set null on update cascade;\n</code></pre>\n</li>\n<li><p>添加员工记录</p>\n<pre class=\" language-mysql\"><code class=\"language-mysql\">insert into TbEmp values \n(7800, '张三丰', '总裁', null, 9000, 1200, 20),\n(2056, '乔峰', '分析师', 7800, 5000, 1500, 20),\n(3088, '李莫愁', '设计师', 2056, 3500, 800, 20),\n(3211, '张无忌', '程序员', 2056, 3200, null, 20),\n(3233, '丘处机', '程序员', 2056, 3400, null, 20),\n(3251, '张翠山', '程序员', 2056, 4000, null, 20),\n(5566, '宋远桥', '会计师', 7800, 4000, 1000, 10),\n(5234, '郭靖', '出纳', 5566, 2000, null, 10),\n(3344, '黄蓉', '销售主管', 7800, 3000, 800, 30),\n(1359, '胡一刀', '销售员', 3344, 1800, 200, 30),\n(4466, '苗人凤', '销售员', 3344, 2500, null, 30),\n(3244, '欧阳锋', '程序员', 3088, 3200, null, 20),\n(3577, '杨过', '会计', 5566, 2200, null, 10),\n(3588, '朱九真', '会计', 5566, 2500, null, 10);\n</code></pre>\n<h4 id=\"习题-1\"><a href=\"#习题-1\" class=\"headerlink\" title=\"习题\"></a>习题</h4></li>\n<li><p>查询薪资最高的员工姓名和工资</p>\n<pre class=\" language-mysql\"><code class=\"language-mysql\">-- select ename, sal+comm from TbEmp order by sal desc limit 0, 1;        ------- 排序出现的问题：可能前几个人的工资一样\nselect ename as 总裁, sal as 工资 from tbemp\nwhere sal=(select max(sal) from tbemp);\n</code></pre>\n</li>\n<li><p>查询员工的姓名和年薪((月薪+补贴)*12)</p>\n<pre class=\" language-mysql\"><code class=\"language-mysql\">-- select ename as 姓名, sal12 + if(comm12,comm12,0) as 年薪 from TbEmp; or\nselect ename as 姓名, (sal + ifnull(comm,0))12 as 年薪 from TbEmp;\n</code></pre>\n</li>\n<li><p>查询年薪大于5万的员工的姓名和年薪</p>\n<pre class=\" language-mysql\"><code class=\"language-mysql\">select ename as 姓名, (sal + ifnull(comm,0))12 as 年薪\n-- from TbEmp where 年薪>50000;\nfrom TbEmp where (sal + ifnull(comm,0))12>50000;\n</code></pre>\n</li>\n<li><p>查询有员工的部门的编号和人数<br><code>select dno,count(dno) as 人数 from TbEmp group by dno;</code>.</p>\n</li>\n<li><p>查询所有部门的名称和人数</p>\n</li>\n</ul>\n<pre class=\" language-mysql\"><code class=\"language-mysql\">select dno as 部门编号,dname as 部门名称,counter as 人数 from tbdept as t1,\n(select dno as d,count(dno) as counter from tbemp group by dno)t2\nwhere t1.dno=t2.d;\n</code></pre>\n<pre class=\" language-mysql\"><code class=\"language-mysql\">select dname as 部门名称, ifnull(total, 0) as 人数 from tbdept t1 left join\n(select dno, count(dno) as total from tbemp group by dno)t2\non t1.dno=t2.dno;\n</code></pre>\n<ul>\n<li><p>查询薪资最高的员工(Boss除外)的姓名和工资</p>\n<pre class=\" language-mysql\"><code class=\"language-mysql\">-- select ename as 姓名, sal+if(comm, comm, 0) as 工资 from TbEmp\n-- order by (sal+if(comm, comm, 0)) desc limit 1, 1;\nselect ename as 员工, sal as 工资 from tbemp\nwhere sal=(select max(sal) from tbemp where mgr is not null);\n</code></pre>\n</li>\n<li><p>查询薪水超过平均薪水的员工的姓名和工资</p>\n<pre class=\" language-mysql\"><code class=\"language-mysql\">select ename as 姓名, sal as 工资 from tbemp\nwhere (sal+if(comm, comm, 0))>(\nselect avg(sal+if(comm, comm, 0)) from tbemp);\n</code></pre>\n<pre class=\" language-mysql\"><code class=\"language-mysql\">select ename as 姓名, sal as 工资 from TbEmp\nwhere sal>(select avg(sal) from tbemp);\n</code></pre>\n</li>\n<li><p>查询薪水超过其所在部门平均薪水的员工的姓名、部门编号和工资</p>\n<pre class=\" language-mysql\"><code class=\"language-mysql\">select ename, t1.dno, avgsal from tbemp t1,\n(select dno, avg(sal) as avgsal from tbemp group by dno)t2\nwhere t1.dno=t2.dno and sal>avgsal;\n-- 多个连表条件之间用and连接\n</code></pre>\n</li>\n<li><p>查询薪水超过其所在部门平均薪水的员工的姓名、部门名称和工资</p>\n<pre class=\" language-mysql\"><code class=\"language-mysql\">select ename, dname, sal from tbemp t1,\n(select dno, avg(sal) as avgsal from tbemp group by dno)t2,\ntbdept t3\nwhere t1.dno=t2.dno and sal>avgsal and t2.dno=t3.dno;\n</code></pre>\n</li>\n<li><p>查询部门中薪水最高的人姓名、工资和所在部门名称</p>\n<pre class=\" language-mysql\"><code class=\"language-mysql\">select ename, dname, sal from tbemp t1,\n(select dno, max(sal) as maxsal from tbemp group by dno)t2,\ntbdept t3\nwhere t1.dno=t2.dno and t2.dno=t3.dno and sal=maxsal;\n</code></pre>\n</li>\n<li><p>查询主管的姓名</p>\n<pre class=\" language-mysql\"><code class=\"language-mysql\">- -- select ename from tbemp where job like'%主管%';\nselect ename, job from tbemp\nwhere eno in (select distinct mgr from tbemp where mgr is not null);\n\n-- 说明：去重操作和集合运算效率是非常低的,可以使用以下方法\nselect ename as 主管, job as 职位 from tbemp t1 where exists \n(select 'x' from tbemp t2 where t1.eno=t2.mgr) order by eno desc;\n</code></pre>\n</li>\n<li><p>通常建议用exists或者not exists操作来代替去重和集合运算</p>\n<pre class=\" language-mysql\"><code class=\"language-mysql\">select ename, job from tbemp t1\nwhere exists (select 'x' from tbemp t2 where t1.eno=t2.mgr);\n</code></pre>\n</li>\n<li><p>视图是查询的快照</p>\n<pre class=\" language-mysql\"><code class=\"language-mysql\">-- 创建视图\ncreate view vw_dept_emp_count as\nselect dno, count(dno) from tbemp group by dno;\n-- 查看视图\nselect * from vw_dept_emp_count;\n-- 通过视图可以将用户对表的访问权限进一步加以限制\n-- 也就是说普通用户看到的就是限制的视图内容\ncreate view emp_no_sal as\nselect ename, dname, sal from tbemp t1,\n(select dno, avg(sal) as avgsal from tbemp group by dno)t2,\ntbdept t3\nwhere t1.dno=t2.dno and sal>avgsal and t2.dno=t3.dno;\n-- 查看视图,限制条件\nselect ename, dname from emp_no_sal;\n</code></pre>\n</li>\n<li><p>用硬件做的事情，用软件也可以做；反之亦可</p>\n</li>\n<li><p>索引(相当于一本书的目录）</p>\n<ul>\n<li><p>为表创建索引可以加速查询(用空间换时间)</p>\n</li>\n<li><p>索引不能滥用：</p>\n<ul>\n<li><p>一、索引会让增删改变得更慢，应为增删改的操作可能会导致更新索引</p>\n</li>\n<li><p>二、索引会占用额外的存储空间</p>\n</li>\n<li>索引应该建在经常被用于查询的筛选条件的列上面，主键上有默认的索引(唯一索引)</li>\n</ul>\n</li>\n</ul>\n</li>\n<li><p>创建索引</p>\n<pre class=\" language-mysql\"><code class=\"language-mysql\">-- 说明：使用模糊查询 ----- 如果查询条件不以%开头，索引有效;反之,无效\ncreate index idx_emp_ename on tbemp(ename);\n-- 唯一索引\ncreate unique index uni_emp_ename on tbemp(ename);\n</code></pre>\n</li>\n<li><p>删除索引<br><code>alter table tbemp drop index uni_emp_ename;</code></p>\n</li>\n</ul>\n","site":{"data":{}},"excerpt":"","more":"<h3 id=\"practice1\"><a href=\"#practice1\" class=\"headerlink\" title=\"practice1\"></a>practice1</h3><h5 id=\"创建列表过程\"><a href=\"#创建列表过程\" class=\"headerlink\" title=\"创建列表过程\"></a>创建列表过程</h5><ul>\n<li><p>创建SRS数据库</p>\n<pre><code class=\"mysql\">drop database if exists SRS;\ncreate database SRS default charset utf8 collate utf8_bin;\n</code></pre>\n</li>\n<li><p>切换到SRS数据库</p>\n<pre><code class=\"mysql\">use SRS;\n</code></pre>\n</li>\n<li><p>创建学院表</p>\n<pre><code class=\"mysql\">create table tb_college\n(\ncollid int not null auto_increment comment &#39;学院编号&#39;,\ncollname varchar(50) not null comment &#39;学院名称&#39;,\ncollmaster varchar(20) not null comment &#39;院长姓名&#39;,\ncollweb varchar(511) default &#39;&#39; comment &#39;学院网站&#39;,\nprimary key (collid)\n);\n</code></pre>\n</li>\n<li><p>添加唯一约束</p>\n<pre><code class=\"mysql\">alter table tb_college add constraint uni_college_collname unique (collname);\n</code></pre>\n</li>\n<li><p>创建学生表</p>\n<pre><code class=\"mysql\">create table tb_student\n(\nstuid int not null comment &#39;学号&#39;,\nsname varchar(20) not null comment &#39;学生姓名&#39;,\ngender bit default 1 comment &#39;性别&#39;,\nbirth date not null comment &#39;出生日期&#39;,\naddr varchar(255) default &#39;&#39; comment &#39;籍贯&#39;,\ncollid int not null comment &#39;所属学院编号&#39;,\nprimary key (stuid)\n);\n</code></pre>\n</li>\n<li><p>添加外键约束</p>\n<pre><code class=\"mysql\">- alter table tb_student add constraint fk_student_collid foreign key (collid) references tb_college (collid);\n</code></pre>\n</li>\n<li><p>创建教师表</p>\n<pre><code class=\"mysql\">create table tb_teacher\n(\nteaid int not null comment &#39;教师工号&#39;,\ntname varchar(20) not null comment &#39;教师姓名&#39;,\ntitle varchar(10) default &#39;&#39; comment &#39;职称&#39;,\ncollid int not null comment &#39;所属学院编号&#39;\n);\n</code></pre>\n</li>\n<li><p>添加主键约束</p>\n<pre><code class=\"mysql\">alter table tb_teacher add constraint pk_teacher primary key (teaid);\n</code></pre>\n</li>\n<li><p>添加外键约束</p>\n<pre><code class=\"mysql\">alter table tb_teacher add constraint fk_teacher_collid foreign key (collid) references tb_college (collid);\n</code></pre>\n</li>\n<li><p>创建课程表</p>\n<pre><code class=\"mysql\">create table tb_course\n(\ncouid int not null comment &#39;课程编号&#39;,\ncname varchar(50) not null comment &#39;课程名称&#39;,\ncredit tinyint not null comment &#39;学分&#39;,\nteaid int not null comment &#39;教师工号&#39;,\nprimary key (couid)\n);\n</code></pre>\n</li>\n<li><p>添加外键约束</p>\n<pre><code class=\"mysql\">alter table tb_course add constraint fk_course_tid foreign key (teaid) references tb_teacher (teaid);\n</code></pre>\n</li>\n<li><p>创建学生选课表</p>\n<pre><code class=\"mysql\">create table tb_score\n(\nscid int not null auto_increment comment &#39;选课编号&#39;,\nsid int not null comment &#39;学号&#39;,\ncid int not null comment &#39;课程编号&#39;,\nseldate date comment &#39;选课时间日期&#39;,\nmark decimal(4,1) comment &#39;考试成绩&#39;,\nprimary key (scid)\n);\n</code></pre>\n</li>\n<li><p>添加外键约束</p>\n<pre><code class=\"mysql\">alter table tb_score add constraint fk_score_sid foreign key (sid) references tb_student (stuid);\nalter table tb_score add constraint fk_score_cid foreign key (cid) references tb_course (couid);\n\n-- 添加唯一约束\nalter table tb_score add constraint uni_score_sid_cid unique (sid, cid);\n\n</code></pre>\n</li>\n<li><p>插入学院数据</p>\n<pre><code class=\"mysql\">insert into tb_college (collname, collmaster, collweb) values \n(&#39;计算机学院&#39;, &#39;左冷禅&#39;, &#39;http://www.abc.com&#39;),\n(&#39;外国语学院&#39;, &#39;岳不群&#39;, &#39;http://www.xyz.com&#39;),\n(&#39;经济管理学院&#39;, &#39;风清扬&#39;, &#39;http://www.foo.com&#39;);\n</code></pre>\n</li>\n<li><p>插入学生数据</p>\n<pre><code class=\"mysql\">insert into tb_student (stuid, sname, gender, birth, addr, collid) values\n(1001, &#39;杨逍&#39;, 1, &#39;1990-3-4&#39;, &#39;四川成都&#39;, 1),\n(1002, &#39;任我行&#39;, 1, &#39;1992-2-2&#39;, &#39;湖南长沙&#39;, 1),\n(1033, &#39;王语嫣&#39;, 0, &#39;1989-12-3&#39;, &#39;四川成都&#39;, 1),\n(1572, &#39;岳不群&#39;, 1, &#39;1993-7-19&#39;, &#39;陕西咸阳&#39;, 1),\n(1378, &#39;纪嫣然&#39;, 0, &#39;1995-8-12&#39;, &#39;四川绵阳&#39;, 1),\n(1954, &#39;林平之&#39;, 1, &#39;1994-9-20&#39;, &#39;福建莆田&#39;, 1),\n(2035, &#39;东方不败&#39;, 1, &#39;1988-6-30&#39;, null, 2),\n(3011, &#39;林震南&#39;, 1, &#39;1985-12-12&#39;, &#39;福建莆田&#39;, 3),\n(3755, &#39;项少龙&#39;, 1, &#39;1993-1-25&#39;, null, 3),\n(3923, &#39;杨不悔&#39;, 0, &#39;1985-4-17&#39;, &#39;四川成都&#39;, 3);\n</code></pre>\n</li>\n<li><p>插入老师数据</p>\n<pre><code class=\"mysql\">insert into tb_teacher (teaid, tname, title, collid) values \n(1122, &#39;张三丰&#39;, &#39;教授&#39;, 1),\n(1133, &#39;宋远桥&#39;, &#39;副教授&#39;, 1),\n(1144, &#39;杨逍&#39;, &#39;副教授&#39;, 1),\n(2255, &#39;范遥&#39;, &#39;副教授&#39;, 2),\n(3366, &#39;韦一笑&#39;, &#39;讲师&#39;, 3);\n</code></pre>\n</li>\n<li><p>插入课程数据</p>\n<pre><code class=\"mysql\">insert into tb_course (couid, cname, credit, teaid) values \n(1111, &#39;Python程序设计&#39;, 3, 1122),\n(2222, &#39;Web前端开发&#39;, 2, 1122),\n(3333, &#39;操作系统&#39;, 4, 1122),\n(4444, &#39;计算机网络&#39;, 2, 1133),\n(5555, &#39;编译原理&#39;, 4, 1144),\n(6666, &#39;算法和数据结构&#39;, 3, 1144),\n(7777, &#39;经贸法语&#39;, 3, 2255),\n(8888, &#39;成本会计&#39;, 2, 3366),\n(9999, &#39;审计学&#39;, 3, 3366);\n</code></pre>\n</li>\n<li><p>插入选课数据</p>\n<pre><code class=\"mysql\">insert into tb_score (sid, cid, seldate, mark) values \n(1001, 1111, &#39;2017-09-01&#39;, 95),\n(1001, 2222, &#39;2017-09-01&#39;, 87.5),\n(1001, 3333, &#39;2017-09-01&#39;, 100),\n(1001, 4444, &#39;2018-09-03&#39;, null),\n(1001, 6666, &#39;2017-09-02&#39;, 100),\n(1002, 1111, &#39;2017-09-03&#39;, 65),\n(1002, 5555, &#39;2017-09-01&#39;, 42),\n(1033, 1111, &#39;2017-09-03&#39;, 92.5),\n(1033, 4444, &#39;2017-09-01&#39;, 78),\n(1033, 5555, &#39;2017-09-01&#39;, 82.5),\n(1572, 1111, &#39;2017-09-02&#39;, 78),\n(1378, 1111, &#39;2017-09-05&#39;, 82),\n(1378, 7777, &#39;2017-09-02&#39;, 65.5),\n(2035, 7777, &#39;2018-09-03&#39;, 88),\n(2035, 9999, date(now()), null),\n(3755, 1111, date(now()), null),\n(3755, 8888, date(now()), null),\n(3755, 9999, &#39;2017-09-01&#39;, 92);\n</code></pre>\n</li>\n</ul>\n<h5 id=\"习题\"><a href=\"#习题\" class=\"headerlink\" title=\"习题\"></a>习题</h5><ul>\n<li><p>查询所有学生信</p>\n<pre><code class=\"mysql\">select * from tb_student;\n</code></pre>\n</li>\n<li><p>查询所有课程名称及学分(投影和别名)</p>\n<pre><code class=\"mysql\">select cname as 课程名称,credit as 学分 from tb_course;\n</code></pre>\n</li>\n<li><p>查询所有女学生的姓名和出生日期(筛选)</p>\n<pre><code class=\"mysql\">select sname as 姓名,birth as 出生日期 from tb_student where gender=0;\n</code></pre>\n</li>\n<li><p>查询所有80后学生的姓名、性别和出生日期(筛选)</p>\n<pre><code class=\"mysql\">判断\n方法一(只适用于mysql数据库)：\nselect sname,if(gender, &#39;男&#39;, &#39;女&#39;),birth from tb_student where birth between&#39;1980-1-1&#39; and &#39;1989-12-31&#39;;\n方法二(适用于所有数据库)：\nselect sname,case gender when 1 then &#39;男&#39; else &#39;女&#39; end,birth from tb_student where birth between&#39;1980-1-1&#39; and &#39;1989-12-31&#39;;\n</code></pre>\n</li>\n<li><p>查询姓”杨“的学生姓名和性别(模糊)</p>\n<pre><code class=\"mysql\">select sname,gender from tb_student where sname like &#39;杨%&#39;;\n</code></pre>\n</li>\n<li><p>查询姓”杨“名字两个字的学生姓名和性别(模糊)</p>\n<pre><code class=\"mysql\">select sname,gender from tb_student where sname like &#39;杨_&#39;;\n</code></pre>\n</li>\n<li><p>查询姓”杨“名字三个字的学生姓名和性别(模糊)</p>\n<pre><code class=\"mysql\">select sname,gender from tb_student where sname like &#39;杨__&#39;;\n</code></pre>\n</li>\n<li><p>查询名字中有”不“字或“嫣”字的学生的姓名(模糊)</p>\n<pre><code class=\"mysql\">select sname from tb_student where sname like &#39;%不%&#39; or sname like &#39;%嫣%&#39;;\n</code></pre>\n</li>\n<li><p>查询没有录入家庭住址的学生姓名(空值)</p>\n<pre><code class=\"mysql\">select sname from tb_student where addr is null or addr=&#39;&#39;;\n</code></pre>\n</li>\n<li><p>查询录入了家庭住址的学生姓名(空值)</p>\n<pre><code class=\"mysql\">select sname from tb_student where addr is not null and addr&lt;&gt;&#39;&#39;;\n</code></pre>\n</li>\n<li><p>查询学生选课的所有日期(diatinct —– 去重)</p>\n<pre><code class=\"mysql\">select distinct seldate from tb_score;\n</code></pre>\n</li>\n<li><p>查询学生的家庭住址</p>\n<pre><code class=\"mysql\">select distinct addr from tb_student where addr is not null and addr&lt;&gt;&#39;&#39;;\n</code></pre>\n</li>\n<li><p>查询学生的姓名和生日按年龄从大到小排列(排序)</p>\n<pre><code class=\"mysql\">查询生日：\nselect sname,birth from tb_student order by birth asc;\n查询年龄：\nselect sname,year(now()) - year(birth) as 年龄 from tb_student order by birth asc;\n</code></pre>\n</li>\n<li><p>查询所有男学生的姓名和生日按年龄从大到小排列(排序)( order by ——- 排序)</p>\n<pre><code class=\"mysql\">select sname,birth from tb_student where gender=1 order by birth asc;\n</code></pre>\n</li>\n<li><p>查询年龄最大的学生的出生日期(聚合函数)</p>\n<pre><code class=\"mysql\">select min(birth) from tb_student;\n</code></pre>\n</li>\n<li><p>查询年龄最小的学生的出生日期(聚合函数)</p>\n<pre><code class=\"mysql\">select max(birth) from tb_student;\n</code></pre>\n</li>\n<li><p>查询男女学生的人数(分组和聚合函数)( 分组——— group by)</p>\n<pre><code class=\"mysql\">按人数排降序：\nselect if(gender, &#39;男&#39;, &#39;女&#39;) as 性别, count(gender) as 人数 from tb_student group by gender order by 人数 desc;\n</code></pre>\n</li>\n<li><p>查询课程编号为1111的课程的平均成绩(筛选和聚合函数)</p>\n<pre><code class=\"mysql\">select avg(mark) as 平均分 from tb_score where cid=1111;\n</code></pre>\n</li>\n<li><p>查询学号为1001的学生所有课程的总成绩(筛选和聚合函数)</p>\n<pre><code class=\"mysql\">select sum(mark) as 平均分 from tb_score where cid=1001;\n</code></pre>\n</li>\n<li><p>查询每个学生的学号和平均成绩(分组和聚合函数)</p>\n<pre><code class=\"mysql\">select sid,avg(mark) from tb_score where mark is not null group by sid;\n</code></pre>\n</li>\n<li><p>查询平均成绩大于等于90分的学生的学号和平均成绩(先分组，再筛选 ——— 分组后跟having)</p>\n<pre><code class=\"mysql\">select sid,avgmark from tb_score group by sid having avg(mark)&gt;=90;\n</code></pre>\n</li>\n<li><p>查询年龄最大的学生的姓名(子查询)</p>\n<ul>\n<li><p>子查询 — 在一个查询中又使用到了另外一个查询的结果</p>\n</li>\n<li><p>查询年龄最大的学生的姓名（子查询）</p>\n<pre><code class=\"mysql\">select sname from tb_student where birth= (select min(birth) from tb_student);\n</code></pre>\n</li>\n</ul>\n</li>\n<li><p>查询年龄最大的学生的姓名和年龄</p>\n<pre><code class=\"mysql\">select sname as 姓名, year(now()) - year(birth) as 年龄\nfrom tb_student where birth= (select min(birth) from tb_student); \n</code></pre>\n</li>\n<li><p>查询选了两门以上的课程的学生姓名(子查询/分组条件/集合运算)</p>\n<pre><code class=\"mysql\">select sname from tb_student where stuid in (\nselect sid from tb_score group by sid having count(sid)&gt;2);\n</code></pre>\n</li>\n<li><p>查询选课学生的姓名和平均成绩(子查询和连接查询)</p>\n<pre><code class=\"mysql\">select sname, avgmark from tb_student t1,\n(select sid, avg(mark) as avgmark from tb_score group by sid) t2\nwhere stuid=sid;\n\nselect sname,cname,mark from tb_student\ninner join tb_score on stuid=sid\ninner join tb_course on couid=cid\nwhere mark is not null;\n-- 注意：在连接查询时结果没有给出连接条件就会形成笛卡尔积\n\n-- 笛卡儿积\n-- A(a, b, c)*B(d, e)={ad, ae,bd, be, cd, ce}\n\n-- 查询学生姓名、所选课程名称和成绩(连接查询)\n-- 连接查询(连接查询/连结查询)\nselect sname,cname,mark\nfrom tb_score, tb_student, tb_course\nwhere stuid=sid and couid=cid and mark is not null;\n\n-- 查询每个学生的姓名和选课数量（左外连接和子查询）\n-- 左外连接(left outer join) ----- 把左表（写在连接前面的表）不满足连接条件的记录也查询出来对应记录补null值\n-- 右外连接(right outer join) ----- 把右表（写在连接后面的表）不满足连接条件的记录也查询出来对应记录补null值\n-- 全外连接(full outer join) ------ 把满足和不满足条件的记录全部查出来，mysql数据库不支持此操作\nselect sname as 姓名, conter as 选课数量 from tb_student left join,\n(select sid, count(sid) as conter from tb_score group by sid)t2\non stuid(+)=sid;\n\n</code></pre>\n</li>\n</ul>\n<h3 id=\"表的连接关系\"><a href=\"#表的连接关系\" class=\"headerlink\" title=\"表的连接关系\"></a>表的连接关系</h3><p><img src=\"/2018/10/16/数据库/practice/表连接1.png\" alt=\"表连接1\"></p>\n<h4 id=\"内连接的方式\"><a href=\"#内连接的方式\" class=\"headerlink\" title=\"内连接的方式\"></a>内连接的方式</h4><p><img src=\"/2018/10/16/数据库/practice/表连接2.png\" alt=\"表连接2\"></p>\n<h4 id=\"自连接的方式\"><a href=\"#自连接的方式\" class=\"headerlink\" title=\"自连接的方式\"></a>自连接的方式</h4><p><img src=\"/2018/10/16/数据库/practice/表连接3.png\" alt=\"表连接3\"></p>\n<h4 id=\"外连接的方式\"><a href=\"#外连接的方式\" class=\"headerlink\" title=\"外连接的方式\"></a>外连接的方式</h4><p><img src=\"/2018/10/16/数据库/practice/表连接4.png\" alt=\"表连接4\"></p>\n<h2 id=\"practice2\"><a href=\"#practice2\" class=\"headerlink\" title=\"practice2\"></a>practice2</h2><ul>\n<li><p>创建人力资源管理系统数据库</p>\n<pre><code class=\"mysql\">drop database if exists HRS;\ncreate database HRS default charset utf8 collate utf8_bin;\n</code></pre>\n</li>\n<li><p>切换数据库上下文环境<br><code>use HRS;</code></p>\n</li>\n<li><p>删除表</p>\n<pre><code class=\"mysql\">drop table if exists TbEmp;\ndrop table if exists TbDept;\n</code></pre>\n</li>\n<li><p>创建部门表</p>\n<pre><code class=\"mysql\">create table TbDept\n(\ndno tinyint not null comment &#39;部门编号&#39;,\ndname varchar(10) not null comment &#39;部门名称&#39;,\ndloc varchar(20) not null comment &#39;部门所在地&#39;,\nprimary key (dno)\n);\n</code></pre>\n</li>\n<li><p>添加部门记录</p>\n<pre><code class=\"mysql\">insert into TbDept values (10, &#39;会计部&#39;, &#39;北京&#39;);\ninsert into TbDept values (20, &#39;研发部&#39;, &#39;成都&#39;);\ninsert into TbDept values (30, &#39;销售部&#39;, &#39;重庆&#39;);\ninsert into TbDept values (40, &#39;运维部&#39;, &#39;深圳&#39;);\n</code></pre>\n</li>\n<li><p>创建员工表</p>\n<pre><code class=\"mysql\">create table TbEmp\n(\neno int not null comment &#39;员工编号&#39;,\nename varchar(20) not null comment &#39;员工姓名&#39;,\njob varchar(20) not null comment &#39;员工职位&#39;,\nmgr int comment &#39;主管编号&#39;,\nsal int not null comment &#39;月薪&#39;,\ncomm int comment &#39;月补贴&#39;,\ndno tinyint comment &#39;所在部门编号&#39;,\nprimary key (eno)\n);\n</code></pre>\n</li>\n<li><p>添加外键约束</p>\n<pre><code class=\"mysql\">alter table TbEmp add constraint fk_dno foreign key (dno) references TbDept(dno) on delete set null on update cascade;\n-- 更新，删除后赋值为null，所以前面创建的时候就不能添加（is not null)\n-- on delete set null on update cascade;\n</code></pre>\n</li>\n<li><p>添加员工记录</p>\n<pre><code class=\"mysql\">insert into TbEmp values \n(7800, &#39;张三丰&#39;, &#39;总裁&#39;, null, 9000, 1200, 20),\n(2056, &#39;乔峰&#39;, &#39;分析师&#39;, 7800, 5000, 1500, 20),\n(3088, &#39;李莫愁&#39;, &#39;设计师&#39;, 2056, 3500, 800, 20),\n(3211, &#39;张无忌&#39;, &#39;程序员&#39;, 2056, 3200, null, 20),\n(3233, &#39;丘处机&#39;, &#39;程序员&#39;, 2056, 3400, null, 20),\n(3251, &#39;张翠山&#39;, &#39;程序员&#39;, 2056, 4000, null, 20),\n(5566, &#39;宋远桥&#39;, &#39;会计师&#39;, 7800, 4000, 1000, 10),\n(5234, &#39;郭靖&#39;, &#39;出纳&#39;, 5566, 2000, null, 10),\n(3344, &#39;黄蓉&#39;, &#39;销售主管&#39;, 7800, 3000, 800, 30),\n(1359, &#39;胡一刀&#39;, &#39;销售员&#39;, 3344, 1800, 200, 30),\n(4466, &#39;苗人凤&#39;, &#39;销售员&#39;, 3344, 2500, null, 30),\n(3244, &#39;欧阳锋&#39;, &#39;程序员&#39;, 3088, 3200, null, 20),\n(3577, &#39;杨过&#39;, &#39;会计&#39;, 5566, 2200, null, 10),\n(3588, &#39;朱九真&#39;, &#39;会计&#39;, 5566, 2500, null, 10);\n</code></pre>\n<h4 id=\"习题-1\"><a href=\"#习题-1\" class=\"headerlink\" title=\"习题\"></a>习题</h4></li>\n<li><p>查询薪资最高的员工姓名和工资</p>\n<pre><code class=\"mysql\">-- select ename, sal+comm from TbEmp order by sal desc limit 0, 1;        ------- 排序出现的问题：可能前几个人的工资一样\nselect ename as 总裁, sal as 工资 from tbemp\nwhere sal=(select max(sal) from tbemp);\n</code></pre>\n</li>\n<li><p>查询员工的姓名和年薪((月薪+补贴)*12)</p>\n<pre><code class=\"mysql\">-- select ename as 姓名, sal12 + if(comm12,comm12,0) as 年薪 from TbEmp; or\nselect ename as 姓名, (sal + ifnull(comm,0))12 as 年薪 from TbEmp;\n</code></pre>\n</li>\n<li><p>查询年薪大于5万的员工的姓名和年薪</p>\n<pre><code class=\"mysql\">select ename as 姓名, (sal + ifnull(comm,0))12 as 年薪\n-- from TbEmp where 年薪&gt;50000;\nfrom TbEmp where (sal + ifnull(comm,0))12&gt;50000;\n</code></pre>\n</li>\n<li><p>查询有员工的部门的编号和人数<br><code>select dno,count(dno) as 人数 from TbEmp group by dno;</code>.</p>\n</li>\n<li><p>查询所有部门的名称和人数</p>\n</li>\n</ul>\n<pre><code class=\"mysql\">select dno as 部门编号,dname as 部门名称,counter as 人数 from tbdept as t1,\n(select dno as d,count(dno) as counter from tbemp group by dno)t2\nwhere t1.dno=t2.d;\n</code></pre>\n<pre><code class=\"mysql\">select dname as 部门名称, ifnull(total, 0) as 人数 from tbdept t1 left join\n(select dno, count(dno) as total from tbemp group by dno)t2\non t1.dno=t2.dno;\n</code></pre>\n<ul>\n<li><p>查询薪资最高的员工(Boss除外)的姓名和工资</p>\n<pre><code class=\"mysql\">-- select ename as 姓名, sal+if(comm, comm, 0) as 工资 from TbEmp\n-- order by (sal+if(comm, comm, 0)) desc limit 1, 1;\nselect ename as 员工, sal as 工资 from tbemp\nwhere sal=(select max(sal) from tbemp where mgr is not null);\n</code></pre>\n</li>\n<li><p>查询薪水超过平均薪水的员工的姓名和工资</p>\n<pre><code class=\"mysql\">select ename as 姓名, sal as 工资 from tbemp\nwhere (sal+if(comm, comm, 0))&gt;(\nselect avg(sal+if(comm, comm, 0)) from tbemp);\n</code></pre>\n<pre><code class=\"mysql\">select ename as 姓名, sal as 工资 from TbEmp\nwhere sal&gt;(select avg(sal) from tbemp);\n</code></pre>\n</li>\n<li><p>查询薪水超过其所在部门平均薪水的员工的姓名、部门编号和工资</p>\n<pre><code class=\"mysql\">select ename, t1.dno, avgsal from tbemp t1,\n(select dno, avg(sal) as avgsal from tbemp group by dno)t2\nwhere t1.dno=t2.dno and sal&gt;avgsal;\n-- 多个连表条件之间用and连接\n</code></pre>\n</li>\n<li><p>查询薪水超过其所在部门平均薪水的员工的姓名、部门名称和工资</p>\n<pre><code class=\"mysql\">select ename, dname, sal from tbemp t1,\n(select dno, avg(sal) as avgsal from tbemp group by dno)t2,\ntbdept t3\nwhere t1.dno=t2.dno and sal&gt;avgsal and t2.dno=t3.dno;\n</code></pre>\n</li>\n<li><p>查询部门中薪水最高的人姓名、工资和所在部门名称</p>\n<pre><code class=\"mysql\">select ename, dname, sal from tbemp t1,\n(select dno, max(sal) as maxsal from tbemp group by dno)t2,\ntbdept t3\nwhere t1.dno=t2.dno and t2.dno=t3.dno and sal=maxsal;\n</code></pre>\n</li>\n<li><p>查询主管的姓名</p>\n<pre><code class=\"mysql\">- -- select ename from tbemp where job like&#39;%主管%&#39;;\nselect ename, job from tbemp\nwhere eno in (select distinct mgr from tbemp where mgr is not null);\n\n-- 说明：去重操作和集合运算效率是非常低的,可以使用以下方法\nselect ename as 主管, job as 职位 from tbemp t1 where exists \n(select &#39;x&#39; from tbemp t2 where t1.eno=t2.mgr) order by eno desc;\n</code></pre>\n</li>\n<li><p>通常建议用exists或者not exists操作来代替去重和集合运算</p>\n<pre><code class=\"mysql\">select ename, job from tbemp t1\nwhere exists (select &#39;x&#39; from tbemp t2 where t1.eno=t2.mgr);\n</code></pre>\n</li>\n<li><p>视图是查询的快照</p>\n<pre><code class=\"mysql\">-- 创建视图\ncreate view vw_dept_emp_count as\nselect dno, count(dno) from tbemp group by dno;\n-- 查看视图\nselect * from vw_dept_emp_count;\n-- 通过视图可以将用户对表的访问权限进一步加以限制\n-- 也就是说普通用户看到的就是限制的视图内容\ncreate view emp_no_sal as\nselect ename, dname, sal from tbemp t1,\n(select dno, avg(sal) as avgsal from tbemp group by dno)t2,\ntbdept t3\nwhere t1.dno=t2.dno and sal&gt;avgsal and t2.dno=t3.dno;\n-- 查看视图,限制条件\nselect ename, dname from emp_no_sal;\n</code></pre>\n</li>\n<li><p>用硬件做的事情，用软件也可以做；反之亦可</p>\n</li>\n<li><p>索引(相当于一本书的目录）</p>\n<ul>\n<li><p>为表创建索引可以加速查询(用空间换时间)</p>\n</li>\n<li><p>索引不能滥用：</p>\n<ul>\n<li><p>一、索引会让增删改变得更慢，应为增删改的操作可能会导致更新索引</p>\n</li>\n<li><p>二、索引会占用额外的存储空间</p>\n</li>\n<li>索引应该建在经常被用于查询的筛选条件的列上面，主键上有默认的索引(唯一索引)</li>\n</ul>\n</li>\n</ul>\n</li>\n<li><p>创建索引</p>\n<pre><code class=\"mysql\">-- 说明：使用模糊查询 ----- 如果查询条件不以%开头，索引有效;反之,无效\ncreate index idx_emp_ename on tbemp(ename);\n-- 唯一索引\ncreate unique index uni_emp_ename on tbemp(ename);\n</code></pre>\n</li>\n<li><p>删除索引<br><code>alter table tbemp drop index uni_emp_ename;</code></p>\n</li>\n</ul>\n"},{"title":"pymysql","date":"2018-08-22T08:11:01.000Z","author":"smile","_content":"\n###  learn\n\ninsert/update/delete\n\n```python\nimport pymysql\n\n\ndef main():\n    no = int(input('部门编号：'))\n    name = input('部门名称：')\n    loc = input('部门所在地：')\n    # 创建连接(主机、端口、用户、密码、数据库名)\n    con = pymysql.connect(host='localhost', port=3306,\n                          user='root', password='123456',\n                          database='hrs', charset='utf8', autocommit=True)\n    try:\n        # 通过连接对象的cursor方法获取游标\n        '''\n        # 添加操作\n        with con.cursor() as cursor:\n            # 通过游标对象的execute方法向数据库服务器发出SQL\n            # executemany方法可以一次性执行多个SQL操作，相当于是以批处理的方式执行SQL，效率高\n            result = cursor.execute(\n                'insert into tbdept values (%s, %s, %s)',\n                (no, name, loc)\n            )\n            # 处理服务器返回的信息\n            if result == 1:\n                print('添加成功')\n                # con.commit()\n        \n        # 更新操作\n        with con.cursor() as cursor:\n            result1 = cursor.execute(\n                'update tbdept set dname=%s,dloc=%s where dno=%s',\n                (name, loc, no)\n            )\n            if result1 == 1:\n                print('更新成功')\n        '''\n\n        # 删除操作\n        with con.cursor() as cursor:\n            result1 = cursor.execute(\n                'delete from tbdept where dno=%s',\n                (no,)\n            )\n            if result1 == 1:\n                print('删除成功')\n    except pymysql.MySQLError as e:\n        print(e)\n        # con.rollback()\n    finally:\n        # 关闭连接，释放资源\n        con.close()\n\n\nif __name__ == '__main__':\n    main()\n\n```\n\nselect\n\n```python\nimport pymysql\n\n\nclass Dept(object):\n\n    def __init__(self, no, name, loc):\n        self.no = no\n        self.name = name\n        self.loc = loc\n\n    def __str__(self):\n        return f'{self.no}\\t{self.name}\\t{self.loc}'\n\n\ndef main():\n    con = pymysql.connect(host='localhost',\n                          port=3306,\n                          user='root',\n                          password='123456',\n                          database='hrs',\n                          charset='utf8',\n                          cursorclass=pymysql.cursors.DictCursor)\n    try:\n        with con.cursor() as cursor:\n            # cursor.execute('select * from tbdept')\n            # depts = cursor.fetchall()\n            # for dept in depts:\n            #     print(f'{dept[0]} | {dept[1]} | {dept[2]}')\n            #     print('-' * 18)\n\n            cursor.execute('select dno no, dname name, dloc loc from tbdept')\n            depts = cursor.fetchall()\n            for dept_dict in depts:\n                # print(dept['no'], dept['name'], dept['loc'])\n                dept = Dept(**dept_dict)\n                print(dept)\n    except pymysql.MySQLError as e:\n        print(e)\n    finally:\n        con.close()\n\n\nif __name__ == '__main__':\n    main()\n\n```\n\n","source":"_posts/数据库/pymysql.md","raw":"---\ntitle: pymysql\ndate: 2018-08-22 16:11:01\nauthor: smile\ncategories: databases\ntags:\n---\n\n###  learn\n\ninsert/update/delete\n\n```python\nimport pymysql\n\n\ndef main():\n    no = int(input('部门编号：'))\n    name = input('部门名称：')\n    loc = input('部门所在地：')\n    # 创建连接(主机、端口、用户、密码、数据库名)\n    con = pymysql.connect(host='localhost', port=3306,\n                          user='root', password='123456',\n                          database='hrs', charset='utf8', autocommit=True)\n    try:\n        # 通过连接对象的cursor方法获取游标\n        '''\n        # 添加操作\n        with con.cursor() as cursor:\n            # 通过游标对象的execute方法向数据库服务器发出SQL\n            # executemany方法可以一次性执行多个SQL操作，相当于是以批处理的方式执行SQL，效率高\n            result = cursor.execute(\n                'insert into tbdept values (%s, %s, %s)',\n                (no, name, loc)\n            )\n            # 处理服务器返回的信息\n            if result == 1:\n                print('添加成功')\n                # con.commit()\n        \n        # 更新操作\n        with con.cursor() as cursor:\n            result1 = cursor.execute(\n                'update tbdept set dname=%s,dloc=%s where dno=%s',\n                (name, loc, no)\n            )\n            if result1 == 1:\n                print('更新成功')\n        '''\n\n        # 删除操作\n        with con.cursor() as cursor:\n            result1 = cursor.execute(\n                'delete from tbdept where dno=%s',\n                (no,)\n            )\n            if result1 == 1:\n                print('删除成功')\n    except pymysql.MySQLError as e:\n        print(e)\n        # con.rollback()\n    finally:\n        # 关闭连接，释放资源\n        con.close()\n\n\nif __name__ == '__main__':\n    main()\n\n```\n\nselect\n\n```python\nimport pymysql\n\n\nclass Dept(object):\n\n    def __init__(self, no, name, loc):\n        self.no = no\n        self.name = name\n        self.loc = loc\n\n    def __str__(self):\n        return f'{self.no}\\t{self.name}\\t{self.loc}'\n\n\ndef main():\n    con = pymysql.connect(host='localhost',\n                          port=3306,\n                          user='root',\n                          password='123456',\n                          database='hrs',\n                          charset='utf8',\n                          cursorclass=pymysql.cursors.DictCursor)\n    try:\n        with con.cursor() as cursor:\n            # cursor.execute('select * from tbdept')\n            # depts = cursor.fetchall()\n            # for dept in depts:\n            #     print(f'{dept[0]} | {dept[1]} | {dept[2]}')\n            #     print('-' * 18)\n\n            cursor.execute('select dno no, dname name, dloc loc from tbdept')\n            depts = cursor.fetchall()\n            for dept_dict in depts:\n                # print(dept['no'], dept['name'], dept['loc'])\n                dept = Dept(**dept_dict)\n                print(dept)\n    except pymysql.MySQLError as e:\n        print(e)\n    finally:\n        con.close()\n\n\nif __name__ == '__main__':\n    main()\n\n```\n\n","slug":"数据库/pymysql","published":1,"updated":"2019-03-14T01:51:09.111Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjt87kqr5005cr8r65mzz7wwa","content":"<h3 id=\"learn\"><a href=\"#learn\" class=\"headerlink\" title=\"learn\"></a>learn</h3><p>insert/update/delete</p>\n<pre class=\" language-python\"><code class=\"language-python\"><span class=\"token keyword\">import</span> pymysql\n\n\n<span class=\"token keyword\">def</span> <span class=\"token function\">main</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    no <span class=\"token operator\">=</span> int<span class=\"token punctuation\">(</span>input<span class=\"token punctuation\">(</span><span class=\"token string\">'部门编号：'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n    name <span class=\"token operator\">=</span> input<span class=\"token punctuation\">(</span><span class=\"token string\">'部门名称：'</span><span class=\"token punctuation\">)</span>\n    loc <span class=\"token operator\">=</span> input<span class=\"token punctuation\">(</span><span class=\"token string\">'部门所在地：'</span><span class=\"token punctuation\">)</span>\n    <span class=\"token comment\" spellcheck=\"true\"># 创建连接(主机、端口、用户、密码、数据库名)</span>\n    con <span class=\"token operator\">=</span> pymysql<span class=\"token punctuation\">.</span>connect<span class=\"token punctuation\">(</span>host<span class=\"token operator\">=</span><span class=\"token string\">'localhost'</span><span class=\"token punctuation\">,</span> port<span class=\"token operator\">=</span><span class=\"token number\">3306</span><span class=\"token punctuation\">,</span>\n                          user<span class=\"token operator\">=</span><span class=\"token string\">'root'</span><span class=\"token punctuation\">,</span> password<span class=\"token operator\">=</span><span class=\"token string\">'123456'</span><span class=\"token punctuation\">,</span>\n                          database<span class=\"token operator\">=</span><span class=\"token string\">'hrs'</span><span class=\"token punctuation\">,</span> charset<span class=\"token operator\">=</span><span class=\"token string\">'utf8'</span><span class=\"token punctuation\">,</span> autocommit<span class=\"token operator\">=</span><span class=\"token boolean\">True</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">try</span><span class=\"token punctuation\">:</span>\n        <span class=\"token comment\" spellcheck=\"true\"># 通过连接对象的cursor方法获取游标</span>\n        <span class=\"token triple-quoted-string string\">'''\n        # 添加操作\n        with con.cursor() as cursor:\n            # 通过游标对象的execute方法向数据库服务器发出SQL\n            # executemany方法可以一次性执行多个SQL操作，相当于是以批处理的方式执行SQL，效率高\n            result = cursor.execute(\n                'insert into tbdept values (%s, %s, %s)',\n                (no, name, loc)\n            )\n            # 处理服务器返回的信息\n            if result == 1:\n                print('添加成功')\n                # con.commit()\n\n        # 更新操作\n        with con.cursor() as cursor:\n            result1 = cursor.execute(\n                'update tbdept set dname=%s,dloc=%s where dno=%s',\n                (name, loc, no)\n            )\n            if result1 == 1:\n                print('更新成功')\n        '''</span>\n\n        <span class=\"token comment\" spellcheck=\"true\"># 删除操作</span>\n        <span class=\"token keyword\">with</span> con<span class=\"token punctuation\">.</span>cursor<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">as</span> cursor<span class=\"token punctuation\">:</span>\n            result1 <span class=\"token operator\">=</span> cursor<span class=\"token punctuation\">.</span>execute<span class=\"token punctuation\">(</span>\n                <span class=\"token string\">'delete from tbdept where dno=%s'</span><span class=\"token punctuation\">,</span>\n                <span class=\"token punctuation\">(</span>no<span class=\"token punctuation\">,</span><span class=\"token punctuation\">)</span>\n            <span class=\"token punctuation\">)</span>\n            <span class=\"token keyword\">if</span> result1 <span class=\"token operator\">==</span> <span class=\"token number\">1</span><span class=\"token punctuation\">:</span>\n                <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string\">'删除成功'</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">except</span> pymysql<span class=\"token punctuation\">.</span>MySQLError <span class=\"token keyword\">as</span> e<span class=\"token punctuation\">:</span>\n        <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>e<span class=\"token punctuation\">)</span>\n        <span class=\"token comment\" spellcheck=\"true\"># con.rollback()</span>\n    <span class=\"token keyword\">finally</span><span class=\"token punctuation\">:</span>\n        <span class=\"token comment\" spellcheck=\"true\"># 关闭连接，释放资源</span>\n        con<span class=\"token punctuation\">.</span>close<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n\n\n<span class=\"token keyword\">if</span> __name__ <span class=\"token operator\">==</span> <span class=\"token string\">'__main__'</span><span class=\"token punctuation\">:</span>\n    main<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n\n</code></pre>\n<p>select</p>\n<pre class=\" language-python\"><code class=\"language-python\"><span class=\"token keyword\">import</span> pymysql\n\n\n<span class=\"token keyword\">class</span> <span class=\"token class-name\">Dept</span><span class=\"token punctuation\">(</span>object<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n\n    <span class=\"token keyword\">def</span> <span class=\"token function\">__init__</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">,</span> no<span class=\"token punctuation\">,</span> name<span class=\"token punctuation\">,</span> loc<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n        self<span class=\"token punctuation\">.</span>no <span class=\"token operator\">=</span> no\n        self<span class=\"token punctuation\">.</span>name <span class=\"token operator\">=</span> name\n        self<span class=\"token punctuation\">.</span>loc <span class=\"token operator\">=</span> loc\n\n    <span class=\"token keyword\">def</span> <span class=\"token function\">__str__</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n        <span class=\"token keyword\">return</span> f<span class=\"token string\">'{self.no}\\t{self.name}\\t{self.loc}'</span>\n\n\n<span class=\"token keyword\">def</span> <span class=\"token function\">main</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    con <span class=\"token operator\">=</span> pymysql<span class=\"token punctuation\">.</span>connect<span class=\"token punctuation\">(</span>host<span class=\"token operator\">=</span><span class=\"token string\">'localhost'</span><span class=\"token punctuation\">,</span>\n                          port<span class=\"token operator\">=</span><span class=\"token number\">3306</span><span class=\"token punctuation\">,</span>\n                          user<span class=\"token operator\">=</span><span class=\"token string\">'root'</span><span class=\"token punctuation\">,</span>\n                          password<span class=\"token operator\">=</span><span class=\"token string\">'123456'</span><span class=\"token punctuation\">,</span>\n                          database<span class=\"token operator\">=</span><span class=\"token string\">'hrs'</span><span class=\"token punctuation\">,</span>\n                          charset<span class=\"token operator\">=</span><span class=\"token string\">'utf8'</span><span class=\"token punctuation\">,</span>\n                          cursorclass<span class=\"token operator\">=</span>pymysql<span class=\"token punctuation\">.</span>cursors<span class=\"token punctuation\">.</span>DictCursor<span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">try</span><span class=\"token punctuation\">:</span>\n        <span class=\"token keyword\">with</span> con<span class=\"token punctuation\">.</span>cursor<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">as</span> cursor<span class=\"token punctuation\">:</span>\n            <span class=\"token comment\" spellcheck=\"true\"># cursor.execute('select * from tbdept')</span>\n            <span class=\"token comment\" spellcheck=\"true\"># depts = cursor.fetchall()</span>\n            <span class=\"token comment\" spellcheck=\"true\"># for dept in depts:</span>\n            <span class=\"token comment\" spellcheck=\"true\">#     print(f'{dept[0]} | {dept[1]} | {dept[2]}')</span>\n            <span class=\"token comment\" spellcheck=\"true\">#     print('-' * 18)</span>\n\n            cursor<span class=\"token punctuation\">.</span>execute<span class=\"token punctuation\">(</span><span class=\"token string\">'select dno no, dname name, dloc loc from tbdept'</span><span class=\"token punctuation\">)</span>\n            depts <span class=\"token operator\">=</span> cursor<span class=\"token punctuation\">.</span>fetchall<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n            <span class=\"token keyword\">for</span> dept_dict <span class=\"token keyword\">in</span> depts<span class=\"token punctuation\">:</span>\n                <span class=\"token comment\" spellcheck=\"true\"># print(dept['no'], dept['name'], dept['loc'])</span>\n                dept <span class=\"token operator\">=</span> Dept<span class=\"token punctuation\">(</span><span class=\"token operator\">**</span>dept_dict<span class=\"token punctuation\">)</span>\n                <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>dept<span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">except</span> pymysql<span class=\"token punctuation\">.</span>MySQLError <span class=\"token keyword\">as</span> e<span class=\"token punctuation\">:</span>\n        <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>e<span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">finally</span><span class=\"token punctuation\">:</span>\n        con<span class=\"token punctuation\">.</span>close<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n\n\n<span class=\"token keyword\">if</span> __name__ <span class=\"token operator\">==</span> <span class=\"token string\">'__main__'</span><span class=\"token punctuation\">:</span>\n    main<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n\n</code></pre>\n","site":{"data":{}},"excerpt":"","more":"<h3 id=\"learn\"><a href=\"#learn\" class=\"headerlink\" title=\"learn\"></a>learn</h3><p>insert/update/delete</p>\n<pre><code class=\"python\">import pymysql\n\n\ndef main():\n    no = int(input(&#39;部门编号：&#39;))\n    name = input(&#39;部门名称：&#39;)\n    loc = input(&#39;部门所在地：&#39;)\n    # 创建连接(主机、端口、用户、密码、数据库名)\n    con = pymysql.connect(host=&#39;localhost&#39;, port=3306,\n                          user=&#39;root&#39;, password=&#39;123456&#39;,\n                          database=&#39;hrs&#39;, charset=&#39;utf8&#39;, autocommit=True)\n    try:\n        # 通过连接对象的cursor方法获取游标\n        &#39;&#39;&#39;\n        # 添加操作\n        with con.cursor() as cursor:\n            # 通过游标对象的execute方法向数据库服务器发出SQL\n            # executemany方法可以一次性执行多个SQL操作，相当于是以批处理的方式执行SQL，效率高\n            result = cursor.execute(\n                &#39;insert into tbdept values (%s, %s, %s)&#39;,\n                (no, name, loc)\n            )\n            # 处理服务器返回的信息\n            if result == 1:\n                print(&#39;添加成功&#39;)\n                # con.commit()\n\n        # 更新操作\n        with con.cursor() as cursor:\n            result1 = cursor.execute(\n                &#39;update tbdept set dname=%s,dloc=%s where dno=%s&#39;,\n                (name, loc, no)\n            )\n            if result1 == 1:\n                print(&#39;更新成功&#39;)\n        &#39;&#39;&#39;\n\n        # 删除操作\n        with con.cursor() as cursor:\n            result1 = cursor.execute(\n                &#39;delete from tbdept where dno=%s&#39;,\n                (no,)\n            )\n            if result1 == 1:\n                print(&#39;删除成功&#39;)\n    except pymysql.MySQLError as e:\n        print(e)\n        # con.rollback()\n    finally:\n        # 关闭连接，释放资源\n        con.close()\n\n\nif __name__ == &#39;__main__&#39;:\n    main()\n\n</code></pre>\n<p>select</p>\n<pre><code class=\"python\">import pymysql\n\n\nclass Dept(object):\n\n    def __init__(self, no, name, loc):\n        self.no = no\n        self.name = name\n        self.loc = loc\n\n    def __str__(self):\n        return f&#39;{self.no}\\t{self.name}\\t{self.loc}&#39;\n\n\ndef main():\n    con = pymysql.connect(host=&#39;localhost&#39;,\n                          port=3306,\n                          user=&#39;root&#39;,\n                          password=&#39;123456&#39;,\n                          database=&#39;hrs&#39;,\n                          charset=&#39;utf8&#39;,\n                          cursorclass=pymysql.cursors.DictCursor)\n    try:\n        with con.cursor() as cursor:\n            # cursor.execute(&#39;select * from tbdept&#39;)\n            # depts = cursor.fetchall()\n            # for dept in depts:\n            #     print(f&#39;{dept[0]} | {dept[1]} | {dept[2]}&#39;)\n            #     print(&#39;-&#39; * 18)\n\n            cursor.execute(&#39;select dno no, dname name, dloc loc from tbdept&#39;)\n            depts = cursor.fetchall()\n            for dept_dict in depts:\n                # print(dept[&#39;no&#39;], dept[&#39;name&#39;], dept[&#39;loc&#39;])\n                dept = Dept(**dept_dict)\n                print(dept)\n    except pymysql.MySQLError as e:\n        print(e)\n    finally:\n        con.close()\n\n\nif __name__ == &#39;__main__&#39;:\n    main()\n\n</code></pre>\n"},{"title":"redis_order","date":"2018-08-18T13:43:12.000Z","author":"smile","_content":"\n## redis 命令\n\n- Redis：REmote Dictionary Server\n- Server(Redis)远程字典服务器，为网站提供高速缓存服务\n\n#### 网站优化两大定律\n\n1.缓存 ----- 用空间换时间（redis/Memcached）\n\n2.削峰 ------ 能推迟的事情都不要马上做(RabbitMQ/ RocketMQ)\n\n\n\n#### 信息隐藏:\n\n&emsp;&emsp;信息隐藏是指在设计和确定模块时，使得一个模块内包含的特定信息（过程或数据），对于不需要这些信息的其他模块来说，是不可访问的\n##### 启动Redis服务器步骤(谨慎):\n```mysql\n1.修改Redis配置文件redis.conf(安装文件目录下)\n    cp redis-4.0.11/redis.conf redis.conf\n    # redis-server --post -- requirepass   ----- 也可以修改配置\n    vim redis.conf\n    bind 内网地址\n    requirepass 密码\n    appendonly yes\n2.启动服务器\n    redis-server redis.conf(配置文件) > redis.log &\n3.启动客户端\n    redis-cli -h ip地址(私用ip地址)\n4.验证身份\n    auth 密码\n5.停止服务器\n   1.kill 进程号\n   2.把进程放到前台，Ctrl c\n   3.客户端>shutdown\n6.测试连接输入ping 回应PONG表示连接成功\n```\n##### 操作命令  ------- http://redisdoc.com/\n```mysql\n操作:\n\tkeys *  查看所有键\n\tselect 1切换到1号数据库\n\tselect 15切换到15号数据库\n\tflushall 删掉所有数据库的所有数据\n\tflushdb 删掉当前一个数据库的数据删掉\n\tsave 保存数据\n\tbgsave 后台保存\n\tset key value ex 存活时间 ：设置键值对并设置存活时间\n    ttl key:查看数据的存活时间（ttl time to live),如果看到-1说明这个数据永不超时，如果-2说明没这个数据\n\texpire key 时间: 设置已有键的存活时间\n\tince key:增加值\n\tdecr key:减少值\n\n基准测试：\n\tredis-benchmark -h ip -a 密码\t测试redis性能\n\n\n    LBS：Location-Base Service\n字符串:\n    setnx:如果不存在才赋值\n    setex:在设置键值对的时候同时设置存活时间\n    mset:一次放很多键值对\n    mget:一次获取多个键值对\n\n哈希表(hash)\n    hset:设置hash类型\n    hget:获取值 hget key filed\n    hgetall:获取对应key的所有值（hgetall key）\n    hmget:一次性获取多个值\n    hmset:一次性赋值多个\n\t    hmset stu1 id 101 name baiyuan age 12 gender male\n    hdel:删除哈希数据\n\t    hdel stu1 age\n    hexists:判断对应键是否存在某字典\n\t    hexists stu1 mile\n    hlen:统计键有多少字段\n    hkey:取出对应键的所有字段\n    hvals:取出对应键的所有值\n    hscan:遍历键值对\n\n列表:(List)\n    lpush:向列表放原始(从左边开始放)\n\t    lpush list1 1 2 3 4 5\n\n    lpop:从左边开始取\n    rpop:从右边开始取\n    rpush:(从右边开始放)\n    lrange:指定范围取元素()\n\t    lrange list1 start end\n\t    lrange list1 0 -1\n    lset:修改列表指定下标的值\n\t    lset list 1 1000\n    blpop:如果列表没东西，且时间未超时就阻塞，有东西拿走，超时就结束（从左边取）\n\t    blpop list1 20\n    brpop：如果列表没东西，且时间未超时就阻塞，有东西拿走，超时就结束（从右边取）\n    brpoplpush:从右边取一个元素，并把这个元素放到另一个列表的左边（阻塞式）\n\n集合(Set):\n    sadd:向集合添加元素\n\t    sadd set1 10 20 10 20 30\n    smebers:查看集合中的元素\t\n\t    smerbers set1\n    sinter:交集\n\t    sinter 集合1 集合2\n    sunion:并集\n\t    sunion 集合1 集合2\n    sdiff:差集\n\t    sdiff 集合1 集合2\n    sismenber:判断元素在不在集合中\n\t    sismenber 集合 元素\n    spop:从集合中取出一个元素\n    srandmenber:从集合中随机返回一个元素（实际没有拿走）\n    srem:移除集合中的一个或者多个元素，如果不存在就忽略\n\n浮点数表示法的问题\n    有序集合（SortedSet）\n    zadd:添加有序集合\n\t    zadd 集合名 值 元素\n    zrange:查看元素\n\t    zrange zs1 0 -1\n\t    zrange zs1 0 -1 withscores 显示元素的时候把分数值也显示出来\n    zrangebyscore:指定搜索范围来搜索数据\n\t    zrangebyscore zs1 10 20\n    zrank:查看元素的排名\n\t    zrank zs1 apple\n    zreverange:从大到小排序查询\n\t    zreverange zs1\n\ntype(值)：查看对应值的类型\n\n事务:\nmult开始事务\nexec:执行\ndiscard：放弃执行\n\n\n服务器:\nbgsave：后台保存\ndbsize: 查看数据库有多少键\nslaveof:把redis设置成那个的奴隶（主从复制，读写分离）\nshutdown：关闭服务器\ninfo:查看服务器相关信息\n\nredis-check-aof -fix appendonly.aof\t修复aof的文件\n```\n\n- type ----- 查看键的类型\n- setnx ----- 设置已存在键的值\n- sentex ---- 设置键值对的同时设置时间\n\n#### Hash ------- 保存对象 \n- hset ----- 创建key\n- hget ----- 取出key\n- hgetall ---- 取出key的全部属性\n- hmset ------- 创建key并设置多个属性\n- hmget ------- 取出key的多个属性\n- hdel ----- 删除key的一个或多个属性\n- hexists ----- 查看key是否存在\n- hlen ----- 统计key对应多少个字段\n- hkeys ------- 返回key中的所有的域\n- hscan ------- 遍历key及域（遍历字典的键和值）\n\n#### List\n**`lset list1 0 name`**\n\n- lset ------ 给列表1中的下标为0的元素赋值为name\n- lpop ------ 取出列表的头元素（左边第一个）元素\n- rpop ------ 取出列表的尾元素（右边第一个）元素\n- lpush ------ 在表头插入一个或多个值\n- rpush ------ 在表尾插入一个或多个值\n- lrange ------ 取出指定的元素\n- lset ------ 修改原有列表的特定元素值\n- blpop ------ 阻塞式从左边取出元素（有元素，不阻塞，没有元素，等待输入元素，然后取出）\n- blpop ------ 阻塞式从右边取出元素（有元素，不阻塞，没有元素，等待输入元素，然后取出）\n- rpoplpush A B ------ 从A中取出，从B中左边存入\n\n####  Set（集合）\n- sadd ----- 添加一个或多个元素\n- srem ----- 删除一个或多个指定的元素\n- scard ------ 查看集合中有多少个元素\n- smembers ----- 查看集合的元素\n- sinter ------ 查看两个集合的交集\n- sunion ----- 查看两个集合的并集\n- sdiff ------ 查看两个集合的差集\n- sismember ------ 查看一个集合中是否存在一个给定的元素\n- spop ----- 取出一个随机元素（不同）\n- srandmember ------ 取出一个随机元素（可能相同）\n\n#### Sortedset（有序集合）\n- zadd ----- 添加元素\n- zrange ----- 查看元素（排好序的）\n- zrangebyscore ---- 指定范围查看\n- zrank ----- 排名（从0开始排的）\n- zrem ----- 删除\n- zrevrange ------ 倒序排列\n\n\n\n### 复制：\n\n##### 主从复制（读写分离）修改内容：\n\n- master不用修改配置\n- slave修改两条配置\n  - slaveof master的IP地址 master的端口\n  - masterrauth master的口令\n- info replication ------- 查看是否有奴隶\n- info ------- 查看服务器信息 \n- ps -ef | grep deris | grep -v grep | awk '{print $2}' | xargs kill ------- 杀掉所有的奴隶\n- slaveof no one --------- 拒绝当奴隶\n\n###### 故障处理\n\n配置哨兵（sentinel.conf）\n\n- 修改sentinel.conf配置文件\n  - 修改69行的监视窗口 跟上票数\n  - 98行master的死亡时间设置\n    - 在规定的时间回来了，还是master，没回来就重选\n  - 131行的意思：master在3分钟内回来，也只能当奴隶，没回来，就直接杀死\n- redis-server sentinel.conf --sentinel -------- 启动哨兵文件\n\n\n\n### MySQL / MongoDB\n\n- 热（点）数据 ---- 经常被访问的数据\n\n- redis放的应该是体量不大的热点数据\n\n","source":"_posts/数据库/redis-order.md","raw":"---\ntitle: redis_order\ndate: 2018-08-18 21:43:12\nauthor: smile\ncategories: databases\ntags: \n  - order\n---\n\n## redis 命令\n\n- Redis：REmote Dictionary Server\n- Server(Redis)远程字典服务器，为网站提供高速缓存服务\n\n#### 网站优化两大定律\n\n1.缓存 ----- 用空间换时间（redis/Memcached）\n\n2.削峰 ------ 能推迟的事情都不要马上做(RabbitMQ/ RocketMQ)\n\n\n\n#### 信息隐藏:\n\n&emsp;&emsp;信息隐藏是指在设计和确定模块时，使得一个模块内包含的特定信息（过程或数据），对于不需要这些信息的其他模块来说，是不可访问的\n##### 启动Redis服务器步骤(谨慎):\n```mysql\n1.修改Redis配置文件redis.conf(安装文件目录下)\n    cp redis-4.0.11/redis.conf redis.conf\n    # redis-server --post -- requirepass   ----- 也可以修改配置\n    vim redis.conf\n    bind 内网地址\n    requirepass 密码\n    appendonly yes\n2.启动服务器\n    redis-server redis.conf(配置文件) > redis.log &\n3.启动客户端\n    redis-cli -h ip地址(私用ip地址)\n4.验证身份\n    auth 密码\n5.停止服务器\n   1.kill 进程号\n   2.把进程放到前台，Ctrl c\n   3.客户端>shutdown\n6.测试连接输入ping 回应PONG表示连接成功\n```\n##### 操作命令  ------- http://redisdoc.com/\n```mysql\n操作:\n\tkeys *  查看所有键\n\tselect 1切换到1号数据库\n\tselect 15切换到15号数据库\n\tflushall 删掉所有数据库的所有数据\n\tflushdb 删掉当前一个数据库的数据删掉\n\tsave 保存数据\n\tbgsave 后台保存\n\tset key value ex 存活时间 ：设置键值对并设置存活时间\n    ttl key:查看数据的存活时间（ttl time to live),如果看到-1说明这个数据永不超时，如果-2说明没这个数据\n\texpire key 时间: 设置已有键的存活时间\n\tince key:增加值\n\tdecr key:减少值\n\n基准测试：\n\tredis-benchmark -h ip -a 密码\t测试redis性能\n\n\n    LBS：Location-Base Service\n字符串:\n    setnx:如果不存在才赋值\n    setex:在设置键值对的时候同时设置存活时间\n    mset:一次放很多键值对\n    mget:一次获取多个键值对\n\n哈希表(hash)\n    hset:设置hash类型\n    hget:获取值 hget key filed\n    hgetall:获取对应key的所有值（hgetall key）\n    hmget:一次性获取多个值\n    hmset:一次性赋值多个\n\t    hmset stu1 id 101 name baiyuan age 12 gender male\n    hdel:删除哈希数据\n\t    hdel stu1 age\n    hexists:判断对应键是否存在某字典\n\t    hexists stu1 mile\n    hlen:统计键有多少字段\n    hkey:取出对应键的所有字段\n    hvals:取出对应键的所有值\n    hscan:遍历键值对\n\n列表:(List)\n    lpush:向列表放原始(从左边开始放)\n\t    lpush list1 1 2 3 4 5\n\n    lpop:从左边开始取\n    rpop:从右边开始取\n    rpush:(从右边开始放)\n    lrange:指定范围取元素()\n\t    lrange list1 start end\n\t    lrange list1 0 -1\n    lset:修改列表指定下标的值\n\t    lset list 1 1000\n    blpop:如果列表没东西，且时间未超时就阻塞，有东西拿走，超时就结束（从左边取）\n\t    blpop list1 20\n    brpop：如果列表没东西，且时间未超时就阻塞，有东西拿走，超时就结束（从右边取）\n    brpoplpush:从右边取一个元素，并把这个元素放到另一个列表的左边（阻塞式）\n\n集合(Set):\n    sadd:向集合添加元素\n\t    sadd set1 10 20 10 20 30\n    smebers:查看集合中的元素\t\n\t    smerbers set1\n    sinter:交集\n\t    sinter 集合1 集合2\n    sunion:并集\n\t    sunion 集合1 集合2\n    sdiff:差集\n\t    sdiff 集合1 集合2\n    sismenber:判断元素在不在集合中\n\t    sismenber 集合 元素\n    spop:从集合中取出一个元素\n    srandmenber:从集合中随机返回一个元素（实际没有拿走）\n    srem:移除集合中的一个或者多个元素，如果不存在就忽略\n\n浮点数表示法的问题\n    有序集合（SortedSet）\n    zadd:添加有序集合\n\t    zadd 集合名 值 元素\n    zrange:查看元素\n\t    zrange zs1 0 -1\n\t    zrange zs1 0 -1 withscores 显示元素的时候把分数值也显示出来\n    zrangebyscore:指定搜索范围来搜索数据\n\t    zrangebyscore zs1 10 20\n    zrank:查看元素的排名\n\t    zrank zs1 apple\n    zreverange:从大到小排序查询\n\t    zreverange zs1\n\ntype(值)：查看对应值的类型\n\n事务:\nmult开始事务\nexec:执行\ndiscard：放弃执行\n\n\n服务器:\nbgsave：后台保存\ndbsize: 查看数据库有多少键\nslaveof:把redis设置成那个的奴隶（主从复制，读写分离）\nshutdown：关闭服务器\ninfo:查看服务器相关信息\n\nredis-check-aof -fix appendonly.aof\t修复aof的文件\n```\n\n- type ----- 查看键的类型\n- setnx ----- 设置已存在键的值\n- sentex ---- 设置键值对的同时设置时间\n\n#### Hash ------- 保存对象 \n- hset ----- 创建key\n- hget ----- 取出key\n- hgetall ---- 取出key的全部属性\n- hmset ------- 创建key并设置多个属性\n- hmget ------- 取出key的多个属性\n- hdel ----- 删除key的一个或多个属性\n- hexists ----- 查看key是否存在\n- hlen ----- 统计key对应多少个字段\n- hkeys ------- 返回key中的所有的域\n- hscan ------- 遍历key及域（遍历字典的键和值）\n\n#### List\n**`lset list1 0 name`**\n\n- lset ------ 给列表1中的下标为0的元素赋值为name\n- lpop ------ 取出列表的头元素（左边第一个）元素\n- rpop ------ 取出列表的尾元素（右边第一个）元素\n- lpush ------ 在表头插入一个或多个值\n- rpush ------ 在表尾插入一个或多个值\n- lrange ------ 取出指定的元素\n- lset ------ 修改原有列表的特定元素值\n- blpop ------ 阻塞式从左边取出元素（有元素，不阻塞，没有元素，等待输入元素，然后取出）\n- blpop ------ 阻塞式从右边取出元素（有元素，不阻塞，没有元素，等待输入元素，然后取出）\n- rpoplpush A B ------ 从A中取出，从B中左边存入\n\n####  Set（集合）\n- sadd ----- 添加一个或多个元素\n- srem ----- 删除一个或多个指定的元素\n- scard ------ 查看集合中有多少个元素\n- smembers ----- 查看集合的元素\n- sinter ------ 查看两个集合的交集\n- sunion ----- 查看两个集合的并集\n- sdiff ------ 查看两个集合的差集\n- sismember ------ 查看一个集合中是否存在一个给定的元素\n- spop ----- 取出一个随机元素（不同）\n- srandmember ------ 取出一个随机元素（可能相同）\n\n#### Sortedset（有序集合）\n- zadd ----- 添加元素\n- zrange ----- 查看元素（排好序的）\n- zrangebyscore ---- 指定范围查看\n- zrank ----- 排名（从0开始排的）\n- zrem ----- 删除\n- zrevrange ------ 倒序排列\n\n\n\n### 复制：\n\n##### 主从复制（读写分离）修改内容：\n\n- master不用修改配置\n- slave修改两条配置\n  - slaveof master的IP地址 master的端口\n  - masterrauth master的口令\n- info replication ------- 查看是否有奴隶\n- info ------- 查看服务器信息 \n- ps -ef | grep deris | grep -v grep | awk '{print $2}' | xargs kill ------- 杀掉所有的奴隶\n- slaveof no one --------- 拒绝当奴隶\n\n###### 故障处理\n\n配置哨兵（sentinel.conf）\n\n- 修改sentinel.conf配置文件\n  - 修改69行的监视窗口 跟上票数\n  - 98行master的死亡时间设置\n    - 在规定的时间回来了，还是master，没回来就重选\n  - 131行的意思：master在3分钟内回来，也只能当奴隶，没回来，就直接杀死\n- redis-server sentinel.conf --sentinel -------- 启动哨兵文件\n\n\n\n### MySQL / MongoDB\n\n- 热（点）数据 ---- 经常被访问的数据\n\n- redis放的应该是体量不大的热点数据\n\n","slug":"数据库/redis-order","published":1,"updated":"2019-03-14T01:51:03.033Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjt87kqra005fr8r6nc88fidl","content":"<h2 id=\"redis-命令\"><a href=\"#redis-命令\" class=\"headerlink\" title=\"redis 命令\"></a>redis 命令</h2><ul>\n<li>Redis：REmote Dictionary Server</li>\n<li>Server(Redis)远程字典服务器，为网站提供高速缓存服务</li>\n</ul>\n<h4 id=\"网站优化两大定律\"><a href=\"#网站优化两大定律\" class=\"headerlink\" title=\"网站优化两大定律\"></a>网站优化两大定律</h4><p>1.缓存 —– 用空间换时间（redis/Memcached）</p>\n<p>2.削峰 —— 能推迟的事情都不要马上做(RabbitMQ/ RocketMQ)</p>\n<h4 id=\"信息隐藏\"><a href=\"#信息隐藏\" class=\"headerlink\" title=\"信息隐藏:\"></a>信息隐藏:</h4><p>&emsp;&emsp;信息隐藏是指在设计和确定模块时，使得一个模块内包含的特定信息（过程或数据），对于不需要这些信息的其他模块来说，是不可访问的</p>\n<h5 id=\"启动Redis服务器步骤-谨慎\"><a href=\"#启动Redis服务器步骤-谨慎\" class=\"headerlink\" title=\"启动Redis服务器步骤(谨慎):\"></a>启动Redis服务器步骤(谨慎):</h5><pre class=\" language-mysql\"><code class=\"language-mysql\">1.修改Redis配置文件redis.conf(安装文件目录下)\n    cp redis-4.0.11/redis.conf redis.conf\n    # redis-server --post -- requirepass   ----- 也可以修改配置\n    vim redis.conf\n    bind 内网地址\n    requirepass 密码\n    appendonly yes\n2.启动服务器\n    redis-server redis.conf(配置文件) > redis.log &\n3.启动客户端\n    redis-cli -h ip地址(私用ip地址)\n4.验证身份\n    auth 密码\n5.停止服务器\n   1.kill 进程号\n   2.把进程放到前台，Ctrl c\n   3.客户端>shutdown\n6.测试连接输入ping 回应PONG表示连接成功\n</code></pre>\n<h5 id=\"操作命令-——-http-redisdoc-com\"><a href=\"#操作命令-——-http-redisdoc-com\" class=\"headerlink\" title=\"操作命令  ——- http://redisdoc.com/\"></a>操作命令  ——- <a href=\"http://redisdoc.com/\" target=\"_blank\" rel=\"noopener\">http://redisdoc.com/</a></h5><pre class=\" language-mysql\"><code class=\"language-mysql\">操作:\n    keys *  查看所有键\n    select 1切换到1号数据库\n    select 15切换到15号数据库\n    flushall 删掉所有数据库的所有数据\n    flushdb 删掉当前一个数据库的数据删掉\n    save 保存数据\n    bgsave 后台保存\n    set key value ex 存活时间 ：设置键值对并设置存活时间\n    ttl key:查看数据的存活时间（ttl time to live),如果看到-1说明这个数据永不超时，如果-2说明没这个数据\n    expire key 时间: 设置已有键的存活时间\n    ince key:增加值\n    decr key:减少值\n\n基准测试：\n    redis-benchmark -h ip -a 密码    测试redis性能\n\n\n    LBS：Location-Base Service\n字符串:\n    setnx:如果不存在才赋值\n    setex:在设置键值对的时候同时设置存活时间\n    mset:一次放很多键值对\n    mget:一次获取多个键值对\n\n哈希表(hash)\n    hset:设置hash类型\n    hget:获取值 hget key filed\n    hgetall:获取对应key的所有值（hgetall key）\n    hmget:一次性获取多个值\n    hmset:一次性赋值多个\n        hmset stu1 id 101 name baiyuan age 12 gender male\n    hdel:删除哈希数据\n        hdel stu1 age\n    hexists:判断对应键是否存在某字典\n        hexists stu1 mile\n    hlen:统计键有多少字段\n    hkey:取出对应键的所有字段\n    hvals:取出对应键的所有值\n    hscan:遍历键值对\n\n列表:(List)\n    lpush:向列表放原始(从左边开始放)\n        lpush list1 1 2 3 4 5\n\n    lpop:从左边开始取\n    rpop:从右边开始取\n    rpush:(从右边开始放)\n    lrange:指定范围取元素()\n        lrange list1 start end\n        lrange list1 0 -1\n    lset:修改列表指定下标的值\n        lset list 1 1000\n    blpop:如果列表没东西，且时间未超时就阻塞，有东西拿走，超时就结束（从左边取）\n        blpop list1 20\n    brpop：如果列表没东西，且时间未超时就阻塞，有东西拿走，超时就结束（从右边取）\n    brpoplpush:从右边取一个元素，并把这个元素放到另一个列表的左边（阻塞式）\n\n集合(Set):\n    sadd:向集合添加元素\n        sadd set1 10 20 10 20 30\n    smebers:查看集合中的元素    \n        smerbers set1\n    sinter:交集\n        sinter 集合1 集合2\n    sunion:并集\n        sunion 集合1 集合2\n    sdiff:差集\n        sdiff 集合1 集合2\n    sismenber:判断元素在不在集合中\n        sismenber 集合 元素\n    spop:从集合中取出一个元素\n    srandmenber:从集合中随机返回一个元素（实际没有拿走）\n    srem:移除集合中的一个或者多个元素，如果不存在就忽略\n\n浮点数表示法的问题\n    有序集合（SortedSet）\n    zadd:添加有序集合\n        zadd 集合名 值 元素\n    zrange:查看元素\n        zrange zs1 0 -1\n        zrange zs1 0 -1 withscores 显示元素的时候把分数值也显示出来\n    zrangebyscore:指定搜索范围来搜索数据\n        zrangebyscore zs1 10 20\n    zrank:查看元素的排名\n        zrank zs1 apple\n    zreverange:从大到小排序查询\n        zreverange zs1\n\ntype(值)：查看对应值的类型\n\n事务:\nmult开始事务\nexec:执行\ndiscard：放弃执行\n\n\n服务器:\nbgsave：后台保存\ndbsize: 查看数据库有多少键\nslaveof:把redis设置成那个的奴隶（主从复制，读写分离）\nshutdown：关闭服务器\ninfo:查看服务器相关信息\n\nredis-check-aof -fix appendonly.aof    修复aof的文件\n</code></pre>\n<ul>\n<li>type —– 查看键的类型</li>\n<li>setnx —– 设置已存在键的值</li>\n<li>sentex —- 设置键值对的同时设置时间</li>\n</ul>\n<h4 id=\"Hash-——-保存对象\"><a href=\"#Hash-——-保存对象\" class=\"headerlink\" title=\"Hash ——- 保存对象\"></a>Hash ——- 保存对象</h4><ul>\n<li>hset —– 创建key</li>\n<li>hget —– 取出key</li>\n<li>hgetall —- 取出key的全部属性</li>\n<li>hmset ——- 创建key并设置多个属性</li>\n<li>hmget ——- 取出key的多个属性</li>\n<li>hdel —– 删除key的一个或多个属性</li>\n<li>hexists —– 查看key是否存在</li>\n<li>hlen —– 统计key对应多少个字段</li>\n<li>hkeys ——- 返回key中的所有的域</li>\n<li>hscan ——- 遍历key及域（遍历字典的键和值）</li>\n</ul>\n<h4 id=\"List\"><a href=\"#List\" class=\"headerlink\" title=\"List\"></a>List</h4><p><strong><code>lset list1 0 name</code></strong></p>\n<ul>\n<li>lset —— 给列表1中的下标为0的元素赋值为name</li>\n<li>lpop —— 取出列表的头元素（左边第一个）元素</li>\n<li>rpop —— 取出列表的尾元素（右边第一个）元素</li>\n<li>lpush —— 在表头插入一个或多个值</li>\n<li>rpush —— 在表尾插入一个或多个值</li>\n<li>lrange —— 取出指定的元素</li>\n<li>lset —— 修改原有列表的特定元素值</li>\n<li>blpop —— 阻塞式从左边取出元素（有元素，不阻塞，没有元素，等待输入元素，然后取出）</li>\n<li>blpop —— 阻塞式从右边取出元素（有元素，不阻塞，没有元素，等待输入元素，然后取出）</li>\n<li>rpoplpush A B —— 从A中取出，从B中左边存入</li>\n</ul>\n<h4 id=\"Set（集合）\"><a href=\"#Set（集合）\" class=\"headerlink\" title=\"Set（集合）\"></a>Set（集合）</h4><ul>\n<li>sadd —– 添加一个或多个元素</li>\n<li>srem —– 删除一个或多个指定的元素</li>\n<li>scard —— 查看集合中有多少个元素</li>\n<li>smembers —– 查看集合的元素</li>\n<li>sinter —— 查看两个集合的交集</li>\n<li>sunion —– 查看两个集合的并集</li>\n<li>sdiff —— 查看两个集合的差集</li>\n<li>sismember —— 查看一个集合中是否存在一个给定的元素</li>\n<li>spop —– 取出一个随机元素（不同）</li>\n<li>srandmember —— 取出一个随机元素（可能相同）</li>\n</ul>\n<h4 id=\"Sortedset（有序集合）\"><a href=\"#Sortedset（有序集合）\" class=\"headerlink\" title=\"Sortedset（有序集合）\"></a>Sortedset（有序集合）</h4><ul>\n<li>zadd —– 添加元素</li>\n<li>zrange —– 查看元素（排好序的）</li>\n<li>zrangebyscore —- 指定范围查看</li>\n<li>zrank —– 排名（从0开始排的）</li>\n<li>zrem —– 删除</li>\n<li>zrevrange —— 倒序排列</li>\n</ul>\n<h3 id=\"复制：\"><a href=\"#复制：\" class=\"headerlink\" title=\"复制：\"></a>复制：</h3><h5 id=\"主从复制（读写分离）修改内容：\"><a href=\"#主从复制（读写分离）修改内容：\" class=\"headerlink\" title=\"主从复制（读写分离）修改内容：\"></a>主从复制（读写分离）修改内容：</h5><ul>\n<li>master不用修改配置</li>\n<li>slave修改两条配置<ul>\n<li>slaveof master的IP地址 master的端口</li>\n<li>masterrauth master的口令</li>\n</ul>\n</li>\n<li>info replication ——- 查看是否有奴隶</li>\n<li>info ——- 查看服务器信息 </li>\n<li>ps -ef | grep deris | grep -v grep | awk ‘{print $2}’ | xargs kill ——- 杀掉所有的奴隶</li>\n<li>slaveof no one ——— 拒绝当奴隶</li>\n</ul>\n<h6 id=\"故障处理\"><a href=\"#故障处理\" class=\"headerlink\" title=\"故障处理\"></a>故障处理</h6><p>配置哨兵（sentinel.conf）</p>\n<ul>\n<li>修改sentinel.conf配置文件<ul>\n<li>修改69行的监视窗口 跟上票数</li>\n<li>98行master的死亡时间设置<ul>\n<li>在规定的时间回来了，还是master，没回来就重选</li>\n</ul>\n</li>\n<li>131行的意思：master在3分钟内回来，也只能当奴隶，没回来，就直接杀死</li>\n</ul>\n</li>\n<li>redis-server sentinel.conf –sentinel ——– 启动哨兵文件</li>\n</ul>\n<h3 id=\"MySQL-MongoDB\"><a href=\"#MySQL-MongoDB\" class=\"headerlink\" title=\"MySQL / MongoDB\"></a>MySQL / MongoDB</h3><ul>\n<li><p>热（点）数据 —- 经常被访问的数据</p>\n</li>\n<li><p>redis放的应该是体量不大的热点数据</p>\n</li>\n</ul>\n","site":{"data":{}},"excerpt":"","more":"<h2 id=\"redis-命令\"><a href=\"#redis-命令\" class=\"headerlink\" title=\"redis 命令\"></a>redis 命令</h2><ul>\n<li>Redis：REmote Dictionary Server</li>\n<li>Server(Redis)远程字典服务器，为网站提供高速缓存服务</li>\n</ul>\n<h4 id=\"网站优化两大定律\"><a href=\"#网站优化两大定律\" class=\"headerlink\" title=\"网站优化两大定律\"></a>网站优化两大定律</h4><p>1.缓存 —– 用空间换时间（redis/Memcached）</p>\n<p>2.削峰 —— 能推迟的事情都不要马上做(RabbitMQ/ RocketMQ)</p>\n<h4 id=\"信息隐藏\"><a href=\"#信息隐藏\" class=\"headerlink\" title=\"信息隐藏:\"></a>信息隐藏:</h4><p>&emsp;&emsp;信息隐藏是指在设计和确定模块时，使得一个模块内包含的特定信息（过程或数据），对于不需要这些信息的其他模块来说，是不可访问的</p>\n<h5 id=\"启动Redis服务器步骤-谨慎\"><a href=\"#启动Redis服务器步骤-谨慎\" class=\"headerlink\" title=\"启动Redis服务器步骤(谨慎):\"></a>启动Redis服务器步骤(谨慎):</h5><pre><code class=\"mysql\">1.修改Redis配置文件redis.conf(安装文件目录下)\n    cp redis-4.0.11/redis.conf redis.conf\n    # redis-server --post -- requirepass   ----- 也可以修改配置\n    vim redis.conf\n    bind 内网地址\n    requirepass 密码\n    appendonly yes\n2.启动服务器\n    redis-server redis.conf(配置文件) &gt; redis.log &amp;\n3.启动客户端\n    redis-cli -h ip地址(私用ip地址)\n4.验证身份\n    auth 密码\n5.停止服务器\n   1.kill 进程号\n   2.把进程放到前台，Ctrl c\n   3.客户端&gt;shutdown\n6.测试连接输入ping 回应PONG表示连接成功\n</code></pre>\n<h5 id=\"操作命令-——-http-redisdoc-com\"><a href=\"#操作命令-——-http-redisdoc-com\" class=\"headerlink\" title=\"操作命令  ——- http://redisdoc.com/\"></a>操作命令  ——- <a href=\"http://redisdoc.com/\" target=\"_blank\" rel=\"noopener\">http://redisdoc.com/</a></h5><pre><code class=\"mysql\">操作:\n    keys *  查看所有键\n    select 1切换到1号数据库\n    select 15切换到15号数据库\n    flushall 删掉所有数据库的所有数据\n    flushdb 删掉当前一个数据库的数据删掉\n    save 保存数据\n    bgsave 后台保存\n    set key value ex 存活时间 ：设置键值对并设置存活时间\n    ttl key:查看数据的存活时间（ttl time to live),如果看到-1说明这个数据永不超时，如果-2说明没这个数据\n    expire key 时间: 设置已有键的存活时间\n    ince key:增加值\n    decr key:减少值\n\n基准测试：\n    redis-benchmark -h ip -a 密码    测试redis性能\n\n\n    LBS：Location-Base Service\n字符串:\n    setnx:如果不存在才赋值\n    setex:在设置键值对的时候同时设置存活时间\n    mset:一次放很多键值对\n    mget:一次获取多个键值对\n\n哈希表(hash)\n    hset:设置hash类型\n    hget:获取值 hget key filed\n    hgetall:获取对应key的所有值（hgetall key）\n    hmget:一次性获取多个值\n    hmset:一次性赋值多个\n        hmset stu1 id 101 name baiyuan age 12 gender male\n    hdel:删除哈希数据\n        hdel stu1 age\n    hexists:判断对应键是否存在某字典\n        hexists stu1 mile\n    hlen:统计键有多少字段\n    hkey:取出对应键的所有字段\n    hvals:取出对应键的所有值\n    hscan:遍历键值对\n\n列表:(List)\n    lpush:向列表放原始(从左边开始放)\n        lpush list1 1 2 3 4 5\n\n    lpop:从左边开始取\n    rpop:从右边开始取\n    rpush:(从右边开始放)\n    lrange:指定范围取元素()\n        lrange list1 start end\n        lrange list1 0 -1\n    lset:修改列表指定下标的值\n        lset list 1 1000\n    blpop:如果列表没东西，且时间未超时就阻塞，有东西拿走，超时就结束（从左边取）\n        blpop list1 20\n    brpop：如果列表没东西，且时间未超时就阻塞，有东西拿走，超时就结束（从右边取）\n    brpoplpush:从右边取一个元素，并把这个元素放到另一个列表的左边（阻塞式）\n\n集合(Set):\n    sadd:向集合添加元素\n        sadd set1 10 20 10 20 30\n    smebers:查看集合中的元素    \n        smerbers set1\n    sinter:交集\n        sinter 集合1 集合2\n    sunion:并集\n        sunion 集合1 集合2\n    sdiff:差集\n        sdiff 集合1 集合2\n    sismenber:判断元素在不在集合中\n        sismenber 集合 元素\n    spop:从集合中取出一个元素\n    srandmenber:从集合中随机返回一个元素（实际没有拿走）\n    srem:移除集合中的一个或者多个元素，如果不存在就忽略\n\n浮点数表示法的问题\n    有序集合（SortedSet）\n    zadd:添加有序集合\n        zadd 集合名 值 元素\n    zrange:查看元素\n        zrange zs1 0 -1\n        zrange zs1 0 -1 withscores 显示元素的时候把分数值也显示出来\n    zrangebyscore:指定搜索范围来搜索数据\n        zrangebyscore zs1 10 20\n    zrank:查看元素的排名\n        zrank zs1 apple\n    zreverange:从大到小排序查询\n        zreverange zs1\n\ntype(值)：查看对应值的类型\n\n事务:\nmult开始事务\nexec:执行\ndiscard：放弃执行\n\n\n服务器:\nbgsave：后台保存\ndbsize: 查看数据库有多少键\nslaveof:把redis设置成那个的奴隶（主从复制，读写分离）\nshutdown：关闭服务器\ninfo:查看服务器相关信息\n\nredis-check-aof -fix appendonly.aof    修复aof的文件\n</code></pre>\n<ul>\n<li>type —– 查看键的类型</li>\n<li>setnx —– 设置已存在键的值</li>\n<li>sentex —- 设置键值对的同时设置时间</li>\n</ul>\n<h4 id=\"Hash-——-保存对象\"><a href=\"#Hash-——-保存对象\" class=\"headerlink\" title=\"Hash ——- 保存对象\"></a>Hash ——- 保存对象</h4><ul>\n<li>hset —– 创建key</li>\n<li>hget —– 取出key</li>\n<li>hgetall —- 取出key的全部属性</li>\n<li>hmset ——- 创建key并设置多个属性</li>\n<li>hmget ——- 取出key的多个属性</li>\n<li>hdel —– 删除key的一个或多个属性</li>\n<li>hexists —– 查看key是否存在</li>\n<li>hlen —– 统计key对应多少个字段</li>\n<li>hkeys ——- 返回key中的所有的域</li>\n<li>hscan ——- 遍历key及域（遍历字典的键和值）</li>\n</ul>\n<h4 id=\"List\"><a href=\"#List\" class=\"headerlink\" title=\"List\"></a>List</h4><p><strong><code>lset list1 0 name</code></strong></p>\n<ul>\n<li>lset —— 给列表1中的下标为0的元素赋值为name</li>\n<li>lpop —— 取出列表的头元素（左边第一个）元素</li>\n<li>rpop —— 取出列表的尾元素（右边第一个）元素</li>\n<li>lpush —— 在表头插入一个或多个值</li>\n<li>rpush —— 在表尾插入一个或多个值</li>\n<li>lrange —— 取出指定的元素</li>\n<li>lset —— 修改原有列表的特定元素值</li>\n<li>blpop —— 阻塞式从左边取出元素（有元素，不阻塞，没有元素，等待输入元素，然后取出）</li>\n<li>blpop —— 阻塞式从右边取出元素（有元素，不阻塞，没有元素，等待输入元素，然后取出）</li>\n<li>rpoplpush A B —— 从A中取出，从B中左边存入</li>\n</ul>\n<h4 id=\"Set（集合）\"><a href=\"#Set（集合）\" class=\"headerlink\" title=\"Set（集合）\"></a>Set（集合）</h4><ul>\n<li>sadd —– 添加一个或多个元素</li>\n<li>srem —– 删除一个或多个指定的元素</li>\n<li>scard —— 查看集合中有多少个元素</li>\n<li>smembers —– 查看集合的元素</li>\n<li>sinter —— 查看两个集合的交集</li>\n<li>sunion —– 查看两个集合的并集</li>\n<li>sdiff —— 查看两个集合的差集</li>\n<li>sismember —— 查看一个集合中是否存在一个给定的元素</li>\n<li>spop —– 取出一个随机元素（不同）</li>\n<li>srandmember —— 取出一个随机元素（可能相同）</li>\n</ul>\n<h4 id=\"Sortedset（有序集合）\"><a href=\"#Sortedset（有序集合）\" class=\"headerlink\" title=\"Sortedset（有序集合）\"></a>Sortedset（有序集合）</h4><ul>\n<li>zadd —– 添加元素</li>\n<li>zrange —– 查看元素（排好序的）</li>\n<li>zrangebyscore —- 指定范围查看</li>\n<li>zrank —– 排名（从0开始排的）</li>\n<li>zrem —– 删除</li>\n<li>zrevrange —— 倒序排列</li>\n</ul>\n<h3 id=\"复制：\"><a href=\"#复制：\" class=\"headerlink\" title=\"复制：\"></a>复制：</h3><h5 id=\"主从复制（读写分离）修改内容：\"><a href=\"#主从复制（读写分离）修改内容：\" class=\"headerlink\" title=\"主从复制（读写分离）修改内容：\"></a>主从复制（读写分离）修改内容：</h5><ul>\n<li>master不用修改配置</li>\n<li>slave修改两条配置<ul>\n<li>slaveof master的IP地址 master的端口</li>\n<li>masterrauth master的口令</li>\n</ul>\n</li>\n<li>info replication ——- 查看是否有奴隶</li>\n<li>info ——- 查看服务器信息 </li>\n<li>ps -ef | grep deris | grep -v grep | awk ‘{print $2}’ | xargs kill ——- 杀掉所有的奴隶</li>\n<li>slaveof no one ——— 拒绝当奴隶</li>\n</ul>\n<h6 id=\"故障处理\"><a href=\"#故障处理\" class=\"headerlink\" title=\"故障处理\"></a>故障处理</h6><p>配置哨兵（sentinel.conf）</p>\n<ul>\n<li>修改sentinel.conf配置文件<ul>\n<li>修改69行的监视窗口 跟上票数</li>\n<li>98行master的死亡时间设置<ul>\n<li>在规定的时间回来了，还是master，没回来就重选</li>\n</ul>\n</li>\n<li>131行的意思：master在3分钟内回来，也只能当奴隶，没回来，就直接杀死</li>\n</ul>\n</li>\n<li>redis-server sentinel.conf –sentinel ——– 启动哨兵文件</li>\n</ul>\n<h3 id=\"MySQL-MongoDB\"><a href=\"#MySQL-MongoDB\" class=\"headerlink\" title=\"MySQL / MongoDB\"></a>MySQL / MongoDB</h3><ul>\n<li><p>热（点）数据 —- 经常被访问的数据</p>\n</li>\n<li><p>redis放的应该是体量不大的热点数据</p>\n</li>\n</ul>\n"},{"title":"数据库","date":"2018-08-14T23:44:14.000Z","author":"smile","img":"/images/LoL1.jpg","_content":"\n​\t\t数据库（Database）是按照数据结构来组织、存储和管理数据的仓库，\n\n每个数据库都有一个或多个不同的API用于创建，访问，管理，搜索和复制所保存的数据。\n\n----- 从删库，到跑路额！\n\n\n\n- 数据库 ----- database - 数据的仓库（集散地）\n    - 通过数据库可以实现数据的持久化\n    - 数据持久化：文件操作（读写文件）-文本文件 / Excel\n    - 使用数据库的原因：当我们做数据持久化操作时不仅仅是希望能够把数据长久的保存下来，更为重要的是我们很方便的管理数据，在需要数据的时候能够很方便的把需要的数据取出来\n- 1907s IBM - 关系型数据库\n    - 理论基础：关系代数和集合论\n    - 具体表象：用二维表（行，列）来组织数据\n        - 行：记录（1212 电脑城 男） - 实体的具体记录\n        - 列：字段（学号，姓名，性别） - 实体的属性\n    - 关系型数据库自己的编程语言 - SQL（结构化查询语言）\n    - DDL（数据定义语言）：create / drop / alter(修改）\n    - DML（数据操作语言）: insert / delete /update / select\n    - DCL（数据控制语言）: grant(授权）/ revoke(撤销）\n    - 关系型数据库产品：\n        - Oracle - Oracle 12c\n        - MySQL -Oracle\n        - SQLServer\n        - PostgreSQl\n        - DB2\n#### 创建数据库\n- SQL （Structred Query Language)\n- DDL（数据定义语言）：create / drop / alter(修改）\n- DML（数据操作语言）: insert / delete /update / select\n- DCL（数据控制语言）: grant(授权）/ revoke(撤销)\n- DDL(Data Default Language)\n\n\n\n## DML\n\n### 创建数据库\n\n`create database school default charset utf8;`\n\n#### 删除数据库\n`drop database if exists school;`\n#### 切换到数据库school\n`use school;`\n#### 删除表\n`drop table if exists tb_student;`\n#### 创建二维表保存数据\n- 列名 数据类型 约束条件\n- 非空约束 ---- not null\n- 默认值约束 ----- default\n- 主键 ------- 表中能够唯一标识一条记录的列\n- 主键约束 ------ primary key\n```mysql\ncreate table tb_student\n(\nstuid int not null,\nstuname varchar(4) not null,\ngender bit default 1,\nbrith date,\naddr varchar(50),\nprimary key (stuid)\n);\n```\n- 修改表\n```mysql\nalter table tb_student add column tel char(11) not null;\nalter table tb_student drop column brith;\nalter table tb_student add score int not null;\n```\n- 插入数据\n  -- DMl (Data Manipulation Language)\n```mysql\ninsert into tb_student values \n(1001, '天明', 0, '四川', '17640141329', 90);\ninsert into tb_student values \n(1002, '王大锤', 1, '四川', '17640141329',80);\ninsert into tb_student (stuid, tel, stuname, score, addr) values\n(1003, '17640141329', '盖聂', 100, '四川成都');\ninsert into tb_student (stuid, tel, stuname, score) values\n(1004, '17640141329', '张三', 60),\n(1005, '17640141329', '豆丁', 85),\n(1006, '17640141329', '小明', 55);\n```\n- 删除数据\n```mysql\ndelete from tb_student where stuid=1006;\ndelete from tb_student where stuname='天明';\ndelete from tb_student where stuid in (1004, 1006, 2000);\n```\n- 截断数据（删除全表）\n  ` truncate table tb_student;`\n- 更新数据\n```mysql\nupdate tb_student set addr='四川绵阳', gender=0 \nwhere stuid in (1003, 1004);\n```\n- 查询数据\n```mysql\nselect * from tb_student;\n-- 投影\nselect stuname, gender from tb_student;\n-- 别名（alias --- as）\nselect stuname as 姓名,gender 性别 from tb_student;\nselect stuname as 姓名,if(gender, '男', '女') as 性别 from tb_student;\nselect stuname as 姓名,case gender when 1 then '男' else '女' end as 性别 from tb_student;\n```\n- 对列做运算\n  select concat(stuname, ': ', tel) as 信息 from tb_student;\n- 筛选\n  select * from tb_student where stuid=1001;\n- 不等号用<>表示\n ```mysql\nselect * from tb_student where stuid<>1001;\nselect * from tb_student where stuid in (1001, 1003, 1005);\nselect stuid, stuname, gender from tb_student where stuid>1002;\nselect stuid, stuname, gender from tb_student where stuid<=1002;\nselect stuid, stuname, gender from tb_student where gender=0;\nselect * from tb_student where stuid between 1002 and 1004;\nselect * from tb_student where stuid>1004 and gender=0;\nselect * from tb_student where stuid>1004 or gender=0;\n- 注意：判断一个字段是否为null不能用=和<>\nselect * from tb_student where addr is null;\nselect * from tb_student where addr is not null;\n ```\n- %是一个通配符表示零个或任意多个字符\n```mysql\nselect * from tb_student where stuname like '张%';\nselect * from tb_student where stuname like '%三%';\n```\n- _也是一个通配符，它表示一个字符\n```mysql\nselect * from tb_student where stuname like '张_';\nselect * from tb_student where stuname like '张__';\n```\n- 排序------order by \n- 默认升序（ascending）可以不写，降序descending必须写\n```mysql\nselect * from tb_student order by stuid desc;\nselect * from tb_student order by tel asc;\nselect * from tb_student order by gender asc, stuid desc;\nselect * from tb_student where gender=0 order by stuid desc;\n```\n- 分页（限制）\n```mysql\nselect * from tb_student limit 3;\nselect * from tb_student limit 3 offset 3;\n```\n- 跳过6条信息，查3条信息\n  `select * from tb_student limit 3 offset 6;`\n\n- 跳过2条信息，查4条信息\n ```mysql\nselect * from tb_student limit 2,4;\nselect * from tb_student where gender=1 order by stuid desc limit 0, 3;\n ```\n\n\n\n ## DCL\n- 创建hellokitty用户并设置口令\n```mysql\ncreate user 'hellokitty'@'%'identified by '123123';\n```\n\n- 给hellokitty授权\n```mysql\ngrant select on srs.* to 'hellokitty'@'%';\ngrant insert, delete, update on srs.* to 'hellokitty'@'%';\ngrant create, drop, alter on srs.* to 'hellokitty'@'%';\n```\n\n- 获得srs的所有权限，但不能授权给别人\n```mysql\ngrant all privileges on srs.* to 'hellokitty'@'%';\ngrant all privileges on *.* to 'hellokitty'@'%';\n```\n\n- 将hellokitty自己得到的权限再授权给别人\n```mysql\ngrant all privileges on srs.* to 'hellokitty'@'%' with grant option;\n```\n\n- 召回权限\n```mysql\nrevoke all privileges on srs.* from 'hellokitty'@'%';\n```\n\n##### 事务控制\n\n- 创建hellokitty用户并设置口令\n```mysql\ncreate user 'hellokitty'@'%'identified by '123123';\n```\n\n- 给hellokitty授权\n```mysql\ngrant select on srs.* to 'hellokitty'@'%';\ngrant insert, delete, update on srs.* to 'hellokitty'@'%';\ngrant create, drop, alter on srs.* to 'hellokitty'@'%';\n```\n\n- 获得srs的所有权限，但不能授权给别人\n```mysql\ngrant all privileges on srs.* to 'hellokitty'@'%';\ngrant all privileges on *.* to 'hellokitty'@'%';\n```\n\n- 将hellokitty自己得到的权限再授权给别人\n```mysql\ngrant all privileges on srs.* to 'hellokitty'@'%' with grant option;\n```\n\n- 召回权限\n```mysql\nrevoke all privileges on srs.* from 'hellokitty'@'%';\n```\n\n###### 事务控制\n- 开启事务环境\n```mysql\nbegin\n-- start transaction\nupdate tb_score set mark=mark-2 where sid=1001 and mark is not null;\nupdate tb_score set mark=mark+2 where sid=1002 and mark is not null;\n```\n\n- 事务提交\n  `commit；`\n- 事务回滚\n  `rollback；`","source":"_posts/数据库/数据库.md","raw":"---\ntitle: 数据库\ndate: 2018-08-15 07:44:14\nauthor: smile\nimg: /images/LoL1.jpg\ncategories: databases\ntags: \n  - 数据库 \n  - 表格\n---\n\n​\t\t数据库（Database）是按照数据结构来组织、存储和管理数据的仓库，\n\n每个数据库都有一个或多个不同的API用于创建，访问，管理，搜索和复制所保存的数据。\n\n----- 从删库，到跑路额！\n\n\n\n- 数据库 ----- database - 数据的仓库（集散地）\n    - 通过数据库可以实现数据的持久化\n    - 数据持久化：文件操作（读写文件）-文本文件 / Excel\n    - 使用数据库的原因：当我们做数据持久化操作时不仅仅是希望能够把数据长久的保存下来，更为重要的是我们很方便的管理数据，在需要数据的时候能够很方便的把需要的数据取出来\n- 1907s IBM - 关系型数据库\n    - 理论基础：关系代数和集合论\n    - 具体表象：用二维表（行，列）来组织数据\n        - 行：记录（1212 电脑城 男） - 实体的具体记录\n        - 列：字段（学号，姓名，性别） - 实体的属性\n    - 关系型数据库自己的编程语言 - SQL（结构化查询语言）\n    - DDL（数据定义语言）：create / drop / alter(修改）\n    - DML（数据操作语言）: insert / delete /update / select\n    - DCL（数据控制语言）: grant(授权）/ revoke(撤销）\n    - 关系型数据库产品：\n        - Oracle - Oracle 12c\n        - MySQL -Oracle\n        - SQLServer\n        - PostgreSQl\n        - DB2\n#### 创建数据库\n- SQL （Structred Query Language)\n- DDL（数据定义语言）：create / drop / alter(修改）\n- DML（数据操作语言）: insert / delete /update / select\n- DCL（数据控制语言）: grant(授权）/ revoke(撤销)\n- DDL(Data Default Language)\n\n\n\n## DML\n\n### 创建数据库\n\n`create database school default charset utf8;`\n\n#### 删除数据库\n`drop database if exists school;`\n#### 切换到数据库school\n`use school;`\n#### 删除表\n`drop table if exists tb_student;`\n#### 创建二维表保存数据\n- 列名 数据类型 约束条件\n- 非空约束 ---- not null\n- 默认值约束 ----- default\n- 主键 ------- 表中能够唯一标识一条记录的列\n- 主键约束 ------ primary key\n```mysql\ncreate table tb_student\n(\nstuid int not null,\nstuname varchar(4) not null,\ngender bit default 1,\nbrith date,\naddr varchar(50),\nprimary key (stuid)\n);\n```\n- 修改表\n```mysql\nalter table tb_student add column tel char(11) not null;\nalter table tb_student drop column brith;\nalter table tb_student add score int not null;\n```\n- 插入数据\n  -- DMl (Data Manipulation Language)\n```mysql\ninsert into tb_student values \n(1001, '天明', 0, '四川', '17640141329', 90);\ninsert into tb_student values \n(1002, '王大锤', 1, '四川', '17640141329',80);\ninsert into tb_student (stuid, tel, stuname, score, addr) values\n(1003, '17640141329', '盖聂', 100, '四川成都');\ninsert into tb_student (stuid, tel, stuname, score) values\n(1004, '17640141329', '张三', 60),\n(1005, '17640141329', '豆丁', 85),\n(1006, '17640141329', '小明', 55);\n```\n- 删除数据\n```mysql\ndelete from tb_student where stuid=1006;\ndelete from tb_student where stuname='天明';\ndelete from tb_student where stuid in (1004, 1006, 2000);\n```\n- 截断数据（删除全表）\n  ` truncate table tb_student;`\n- 更新数据\n```mysql\nupdate tb_student set addr='四川绵阳', gender=0 \nwhere stuid in (1003, 1004);\n```\n- 查询数据\n```mysql\nselect * from tb_student;\n-- 投影\nselect stuname, gender from tb_student;\n-- 别名（alias --- as）\nselect stuname as 姓名,gender 性别 from tb_student;\nselect stuname as 姓名,if(gender, '男', '女') as 性别 from tb_student;\nselect stuname as 姓名,case gender when 1 then '男' else '女' end as 性别 from tb_student;\n```\n- 对列做运算\n  select concat(stuname, ': ', tel) as 信息 from tb_student;\n- 筛选\n  select * from tb_student where stuid=1001;\n- 不等号用<>表示\n ```mysql\nselect * from tb_student where stuid<>1001;\nselect * from tb_student where stuid in (1001, 1003, 1005);\nselect stuid, stuname, gender from tb_student where stuid>1002;\nselect stuid, stuname, gender from tb_student where stuid<=1002;\nselect stuid, stuname, gender from tb_student where gender=0;\nselect * from tb_student where stuid between 1002 and 1004;\nselect * from tb_student where stuid>1004 and gender=0;\nselect * from tb_student where stuid>1004 or gender=0;\n- 注意：判断一个字段是否为null不能用=和<>\nselect * from tb_student where addr is null;\nselect * from tb_student where addr is not null;\n ```\n- %是一个通配符表示零个或任意多个字符\n```mysql\nselect * from tb_student where stuname like '张%';\nselect * from tb_student where stuname like '%三%';\n```\n- _也是一个通配符，它表示一个字符\n```mysql\nselect * from tb_student where stuname like '张_';\nselect * from tb_student where stuname like '张__';\n```\n- 排序------order by \n- 默认升序（ascending）可以不写，降序descending必须写\n```mysql\nselect * from tb_student order by stuid desc;\nselect * from tb_student order by tel asc;\nselect * from tb_student order by gender asc, stuid desc;\nselect * from tb_student where gender=0 order by stuid desc;\n```\n- 分页（限制）\n```mysql\nselect * from tb_student limit 3;\nselect * from tb_student limit 3 offset 3;\n```\n- 跳过6条信息，查3条信息\n  `select * from tb_student limit 3 offset 6;`\n\n- 跳过2条信息，查4条信息\n ```mysql\nselect * from tb_student limit 2,4;\nselect * from tb_student where gender=1 order by stuid desc limit 0, 3;\n ```\n\n\n\n ## DCL\n- 创建hellokitty用户并设置口令\n```mysql\ncreate user 'hellokitty'@'%'identified by '123123';\n```\n\n- 给hellokitty授权\n```mysql\ngrant select on srs.* to 'hellokitty'@'%';\ngrant insert, delete, update on srs.* to 'hellokitty'@'%';\ngrant create, drop, alter on srs.* to 'hellokitty'@'%';\n```\n\n- 获得srs的所有权限，但不能授权给别人\n```mysql\ngrant all privileges on srs.* to 'hellokitty'@'%';\ngrant all privileges on *.* to 'hellokitty'@'%';\n```\n\n- 将hellokitty自己得到的权限再授权给别人\n```mysql\ngrant all privileges on srs.* to 'hellokitty'@'%' with grant option;\n```\n\n- 召回权限\n```mysql\nrevoke all privileges on srs.* from 'hellokitty'@'%';\n```\n\n##### 事务控制\n\n- 创建hellokitty用户并设置口令\n```mysql\ncreate user 'hellokitty'@'%'identified by '123123';\n```\n\n- 给hellokitty授权\n```mysql\ngrant select on srs.* to 'hellokitty'@'%';\ngrant insert, delete, update on srs.* to 'hellokitty'@'%';\ngrant create, drop, alter on srs.* to 'hellokitty'@'%';\n```\n\n- 获得srs的所有权限，但不能授权给别人\n```mysql\ngrant all privileges on srs.* to 'hellokitty'@'%';\ngrant all privileges on *.* to 'hellokitty'@'%';\n```\n\n- 将hellokitty自己得到的权限再授权给别人\n```mysql\ngrant all privileges on srs.* to 'hellokitty'@'%' with grant option;\n```\n\n- 召回权限\n```mysql\nrevoke all privileges on srs.* from 'hellokitty'@'%';\n```\n\n###### 事务控制\n- 开启事务环境\n```mysql\nbegin\n-- start transaction\nupdate tb_score set mark=mark-2 where sid=1001 and mark is not null;\nupdate tb_score set mark=mark+2 where sid=1002 and mark is not null;\n```\n\n- 事务提交\n  `commit；`\n- 事务回滚\n  `rollback；`","slug":"数据库/数据库","published":1,"updated":"2019-03-14T01:50:56.785Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjt87kqrg005hr8r6ld9n5zw5","content":"<p>​        数据库（Database）是按照数据结构来组织、存储和管理数据的仓库，</p>\n<p>每个数据库都有一个或多个不同的API用于创建，访问，管理，搜索和复制所保存的数据。</p>\n<p>—– 从删库，到跑路额！</p>\n<ul>\n<li>数据库 —– database - 数据的仓库（集散地）<ul>\n<li>通过数据库可以实现数据的持久化</li>\n<li>数据持久化：文件操作（读写文件）-文本文件 / Excel</li>\n<li>使用数据库的原因：当我们做数据持久化操作时不仅仅是希望能够把数据长久的保存下来，更为重要的是我们很方便的管理数据，在需要数据的时候能够很方便的把需要的数据取出来</li>\n</ul>\n</li>\n<li>1907s IBM - 关系型数据库<ul>\n<li>理论基础：关系代数和集合论</li>\n<li>具体表象：用二维表（行，列）来组织数据<ul>\n<li>行：记录（1212 电脑城 男） - 实体的具体记录</li>\n<li>列：字段（学号，姓名，性别） - 实体的属性</li>\n</ul>\n</li>\n<li>关系型数据库自己的编程语言 - SQL（结构化查询语言）</li>\n<li>DDL（数据定义语言）：create / drop / alter(修改）</li>\n<li>DML（数据操作语言）: insert / delete /update / select</li>\n<li>DCL（数据控制语言）: grant(授权）/ revoke(撤销）</li>\n<li>关系型数据库产品：<ul>\n<li>Oracle - Oracle 12c</li>\n<li>MySQL -Oracle</li>\n<li>SQLServer</li>\n<li>PostgreSQl</li>\n<li>DB2<h4 id=\"创建数据库\"><a href=\"#创建数据库\" class=\"headerlink\" title=\"创建数据库\"></a>创建数据库</h4></li>\n</ul>\n</li>\n</ul>\n</li>\n<li>SQL （Structred Query Language)</li>\n<li>DDL（数据定义语言）：create / drop / alter(修改）</li>\n<li>DML（数据操作语言）: insert / delete /update / select</li>\n<li>DCL（数据控制语言）: grant(授权）/ revoke(撤销)</li>\n<li>DDL(Data Default Language)</li>\n</ul>\n<h2 id=\"DML\"><a href=\"#DML\" class=\"headerlink\" title=\"DML\"></a>DML</h2><h3 id=\"创建数据库-1\"><a href=\"#创建数据库-1\" class=\"headerlink\" title=\"创建数据库\"></a>创建数据库</h3><p><code>create database school default charset utf8;</code></p>\n<h4 id=\"删除数据库\"><a href=\"#删除数据库\" class=\"headerlink\" title=\"删除数据库\"></a>删除数据库</h4><p><code>drop database if exists school;</code></p>\n<h4 id=\"切换到数据库school\"><a href=\"#切换到数据库school\" class=\"headerlink\" title=\"切换到数据库school\"></a>切换到数据库school</h4><p><code>use school;</code></p>\n<h4 id=\"删除表\"><a href=\"#删除表\" class=\"headerlink\" title=\"删除表\"></a>删除表</h4><p><code>drop table if exists tb_student;</code></p>\n<h4 id=\"创建二维表保存数据\"><a href=\"#创建二维表保存数据\" class=\"headerlink\" title=\"创建二维表保存数据\"></a>创建二维表保存数据</h4><ul>\n<li>列名 数据类型 约束条件</li>\n<li>非空约束 —- not null</li>\n<li>默认值约束 —– default</li>\n<li>主键 ——- 表中能够唯一标识一条记录的列</li>\n<li>主键约束 —— primary key<pre class=\" language-mysql\"><code class=\"language-mysql\">create table tb_student\n(\nstuid int not null,\nstuname varchar(4) not null,\ngender bit default 1,\nbrith date,\naddr varchar(50),\nprimary key (stuid)\n);\n</code></pre>\n</li>\n<li>修改表<pre class=\" language-mysql\"><code class=\"language-mysql\">alter table tb_student add column tel char(11) not null;\nalter table tb_student drop column brith;\nalter table tb_student add score int not null;\n</code></pre>\n</li>\n<li>插入数据<br>– DMl (Data Manipulation Language)<pre class=\" language-mysql\"><code class=\"language-mysql\">insert into tb_student values \n(1001, '天明', 0, '四川', '17640141329', 90);\ninsert into tb_student values \n(1002, '王大锤', 1, '四川', '17640141329',80);\ninsert into tb_student (stuid, tel, stuname, score, addr) values\n(1003, '17640141329', '盖聂', 100, '四川成都');\ninsert into tb_student (stuid, tel, stuname, score) values\n(1004, '17640141329', '张三', 60),\n(1005, '17640141329', '豆丁', 85),\n(1006, '17640141329', '小明', 55);\n</code></pre>\n</li>\n<li>删除数据<pre class=\" language-mysql\"><code class=\"language-mysql\">delete from tb_student where stuid=1006;\ndelete from tb_student where stuname='天明';\ndelete from tb_student where stuid in (1004, 1006, 2000);\n</code></pre>\n</li>\n<li>截断数据（删除全表）<br><code>truncate table tb_student;</code></li>\n<li>更新数据<pre class=\" language-mysql\"><code class=\"language-mysql\">update tb_student set addr='四川绵阳', gender=0 \nwhere stuid in (1003, 1004);\n</code></pre>\n</li>\n<li>查询数据<pre class=\" language-mysql\"><code class=\"language-mysql\">select * from tb_student;\n-- 投影\nselect stuname, gender from tb_student;\n-- 别名（alias --- as）\nselect stuname as 姓名,gender 性别 from tb_student;\nselect stuname as 姓名,if(gender, '男', '女') as 性别 from tb_student;\nselect stuname as 姓名,case gender when 1 then '男' else '女' end as 性别 from tb_student;\n</code></pre>\n</li>\n<li>对列做运算<br>select concat(stuname, ‘: ‘, tel) as 信息 from tb_student;</li>\n<li>筛选<br>select * from tb_student where stuid=1001;</li>\n<li>不等号用&lt;&gt;表示<br><code>`</code>mysql<br>select <em> from tb_student where stuid&lt;&gt;1001;<br>select </em> from tb_student where stuid in (1001, 1003, 1005);<br>select stuid, stuname, gender from tb_student where stuid&gt;1002;<br>select stuid, stuname, gender from tb_student where stuid&lt;=1002;<br>select stuid, stuname, gender from tb_student where gender=0;<br>select <em> from tb_student where stuid between 1002 and 1004;<br>select </em> from tb_student where stuid&gt;1004 and gender=0;<br>select * from tb_student where stuid&gt;1004 or gender=0;</li>\n<li>注意：判断一个字段是否为null不能用=和&lt;&gt;<br>select <em> from tb_student where addr is null;<br>select </em> from tb_student where addr is not null;<br><code>`</code></li>\n<li>%是一个通配符表示零个或任意多个字符<pre class=\" language-mysql\"><code class=\"language-mysql\">select * from tb_student where stuname like '张%';\nselect * from tb_student where stuname like '%三%';\n</code></pre>\n</li>\n<li>_也是一个通配符，它表示一个字符<pre class=\" language-mysql\"><code class=\"language-mysql\">select * from tb_student where stuname like '张_';\nselect * from tb_student where stuname like '张__';\n</code></pre>\n</li>\n<li>排序——order by </li>\n<li>默认升序（ascending）可以不写，降序descending必须写<pre class=\" language-mysql\"><code class=\"language-mysql\">select * from tb_student order by stuid desc;\nselect * from tb_student order by tel asc;\nselect * from tb_student order by gender asc, stuid desc;\nselect * from tb_student where gender=0 order by stuid desc;\n</code></pre>\n</li>\n<li>分页（限制）<pre class=\" language-mysql\"><code class=\"language-mysql\">select * from tb_student limit 3;\nselect * from tb_student limit 3 offset 3;\n</code></pre>\n</li>\n<li><p>跳过6条信息，查3条信息<br><code>select * from tb_student limit 3 offset 6;</code></p>\n</li>\n<li><p>跳过2条信息，查4条信息</p>\n<pre class=\" language-mysql\"><code class=\"language-mysql\">select * from tb_student limit 2,4;\nselect * from tb_student where gender=1 order by stuid desc limit 0, 3;\n</code></pre>\n</li>\n</ul>\n<h2 id=\"DCL\"><a href=\"#DCL\" class=\"headerlink\" title=\"DCL\"></a>DCL</h2><ul>\n<li><p>创建hellokitty用户并设置口令</p>\n<pre class=\" language-mysql\"><code class=\"language-mysql\">create user 'hellokitty'@'%'identified by '123123';\n</code></pre>\n</li>\n<li><p>给hellokitty授权</p>\n<pre class=\" language-mysql\"><code class=\"language-mysql\">grant select on srs.* to 'hellokitty'@'%';\ngrant insert, delete, update on srs.* to 'hellokitty'@'%';\ngrant create, drop, alter on srs.* to 'hellokitty'@'%';\n</code></pre>\n</li>\n<li><p>获得srs的所有权限，但不能授权给别人</p>\n<pre class=\" language-mysql\"><code class=\"language-mysql\">grant all privileges on srs.* to 'hellokitty'@'%';\ngrant all privileges on *.* to 'hellokitty'@'%';\n</code></pre>\n</li>\n<li><p>将hellokitty自己得到的权限再授权给别人</p>\n<pre class=\" language-mysql\"><code class=\"language-mysql\">grant all privileges on srs.* to 'hellokitty'@'%' with grant option;\n</code></pre>\n</li>\n<li><p>召回权限</p>\n<pre class=\" language-mysql\"><code class=\"language-mysql\">revoke all privileges on srs.* from 'hellokitty'@'%';\n</code></pre>\n</li>\n</ul>\n<h5 id=\"事务控制\"><a href=\"#事务控制\" class=\"headerlink\" title=\"事务控制\"></a>事务控制</h5><ul>\n<li><p>创建hellokitty用户并设置口令</p>\n<pre class=\" language-mysql\"><code class=\"language-mysql\">create user 'hellokitty'@'%'identified by '123123';\n</code></pre>\n</li>\n<li><p>给hellokitty授权</p>\n<pre class=\" language-mysql\"><code class=\"language-mysql\">grant select on srs.* to 'hellokitty'@'%';\ngrant insert, delete, update on srs.* to 'hellokitty'@'%';\ngrant create, drop, alter on srs.* to 'hellokitty'@'%';\n</code></pre>\n</li>\n<li><p>获得srs的所有权限，但不能授权给别人</p>\n<pre class=\" language-mysql\"><code class=\"language-mysql\">grant all privileges on srs.* to 'hellokitty'@'%';\ngrant all privileges on *.* to 'hellokitty'@'%';\n</code></pre>\n</li>\n<li><p>将hellokitty自己得到的权限再授权给别人</p>\n<pre class=\" language-mysql\"><code class=\"language-mysql\">grant all privileges on srs.* to 'hellokitty'@'%' with grant option;\n</code></pre>\n</li>\n<li><p>召回权限</p>\n<pre class=\" language-mysql\"><code class=\"language-mysql\">revoke all privileges on srs.* from 'hellokitty'@'%';\n</code></pre>\n</li>\n</ul>\n<h6 id=\"事务控制-1\"><a href=\"#事务控制-1\" class=\"headerlink\" title=\"事务控制\"></a>事务控制</h6><ul>\n<li><p>开启事务环境</p>\n<pre class=\" language-mysql\"><code class=\"language-mysql\">begin\n-- start transaction\nupdate tb_score set mark=mark-2 where sid=1001 and mark is not null;\nupdate tb_score set mark=mark+2 where sid=1002 and mark is not null;\n</code></pre>\n</li>\n<li><p>事务提交<br><code>commit；</code></p>\n</li>\n<li>事务回滚<br><code>rollback；</code></li>\n</ul>\n","site":{"data":{}},"excerpt":"","more":"<p>​        数据库（Database）是按照数据结构来组织、存储和管理数据的仓库，</p>\n<p>每个数据库都有一个或多个不同的API用于创建，访问，管理，搜索和复制所保存的数据。</p>\n<p>—– 从删库，到跑路额！</p>\n<ul>\n<li>数据库 —– database - 数据的仓库（集散地）<ul>\n<li>通过数据库可以实现数据的持久化</li>\n<li>数据持久化：文件操作（读写文件）-文本文件 / Excel</li>\n<li>使用数据库的原因：当我们做数据持久化操作时不仅仅是希望能够把数据长久的保存下来，更为重要的是我们很方便的管理数据，在需要数据的时候能够很方便的把需要的数据取出来</li>\n</ul>\n</li>\n<li>1907s IBM - 关系型数据库<ul>\n<li>理论基础：关系代数和集合论</li>\n<li>具体表象：用二维表（行，列）来组织数据<ul>\n<li>行：记录（1212 电脑城 男） - 实体的具体记录</li>\n<li>列：字段（学号，姓名，性别） - 实体的属性</li>\n</ul>\n</li>\n<li>关系型数据库自己的编程语言 - SQL（结构化查询语言）</li>\n<li>DDL（数据定义语言）：create / drop / alter(修改）</li>\n<li>DML（数据操作语言）: insert / delete /update / select</li>\n<li>DCL（数据控制语言）: grant(授权）/ revoke(撤销）</li>\n<li>关系型数据库产品：<ul>\n<li>Oracle - Oracle 12c</li>\n<li>MySQL -Oracle</li>\n<li>SQLServer</li>\n<li>PostgreSQl</li>\n<li>DB2<h4 id=\"创建数据库\"><a href=\"#创建数据库\" class=\"headerlink\" title=\"创建数据库\"></a>创建数据库</h4></li>\n</ul>\n</li>\n</ul>\n</li>\n<li>SQL （Structred Query Language)</li>\n<li>DDL（数据定义语言）：create / drop / alter(修改）</li>\n<li>DML（数据操作语言）: insert / delete /update / select</li>\n<li>DCL（数据控制语言）: grant(授权）/ revoke(撤销)</li>\n<li>DDL(Data Default Language)</li>\n</ul>\n<h2 id=\"DML\"><a href=\"#DML\" class=\"headerlink\" title=\"DML\"></a>DML</h2><h3 id=\"创建数据库-1\"><a href=\"#创建数据库-1\" class=\"headerlink\" title=\"创建数据库\"></a>创建数据库</h3><p><code>create database school default charset utf8;</code></p>\n<h4 id=\"删除数据库\"><a href=\"#删除数据库\" class=\"headerlink\" title=\"删除数据库\"></a>删除数据库</h4><p><code>drop database if exists school;</code></p>\n<h4 id=\"切换到数据库school\"><a href=\"#切换到数据库school\" class=\"headerlink\" title=\"切换到数据库school\"></a>切换到数据库school</h4><p><code>use school;</code></p>\n<h4 id=\"删除表\"><a href=\"#删除表\" class=\"headerlink\" title=\"删除表\"></a>删除表</h4><p><code>drop table if exists tb_student;</code></p>\n<h4 id=\"创建二维表保存数据\"><a href=\"#创建二维表保存数据\" class=\"headerlink\" title=\"创建二维表保存数据\"></a>创建二维表保存数据</h4><ul>\n<li>列名 数据类型 约束条件</li>\n<li>非空约束 —- not null</li>\n<li>默认值约束 —– default</li>\n<li>主键 ——- 表中能够唯一标识一条记录的列</li>\n<li>主键约束 —— primary key<pre><code class=\"mysql\">create table tb_student\n(\nstuid int not null,\nstuname varchar(4) not null,\ngender bit default 1,\nbrith date,\naddr varchar(50),\nprimary key (stuid)\n);\n</code></pre>\n</li>\n<li>修改表<pre><code class=\"mysql\">alter table tb_student add column tel char(11) not null;\nalter table tb_student drop column brith;\nalter table tb_student add score int not null;\n</code></pre>\n</li>\n<li>插入数据<br>– DMl (Data Manipulation Language)<pre><code class=\"mysql\">insert into tb_student values \n(1001, &#39;天明&#39;, 0, &#39;四川&#39;, &#39;17640141329&#39;, 90);\ninsert into tb_student values \n(1002, &#39;王大锤&#39;, 1, &#39;四川&#39;, &#39;17640141329&#39;,80);\ninsert into tb_student (stuid, tel, stuname, score, addr) values\n(1003, &#39;17640141329&#39;, &#39;盖聂&#39;, 100, &#39;四川成都&#39;);\ninsert into tb_student (stuid, tel, stuname, score) values\n(1004, &#39;17640141329&#39;, &#39;张三&#39;, 60),\n(1005, &#39;17640141329&#39;, &#39;豆丁&#39;, 85),\n(1006, &#39;17640141329&#39;, &#39;小明&#39;, 55);\n</code></pre>\n</li>\n<li>删除数据<pre><code class=\"mysql\">delete from tb_student where stuid=1006;\ndelete from tb_student where stuname=&#39;天明&#39;;\ndelete from tb_student where stuid in (1004, 1006, 2000);\n</code></pre>\n</li>\n<li>截断数据（删除全表）<br><code>truncate table tb_student;</code></li>\n<li>更新数据<pre><code class=\"mysql\">update tb_student set addr=&#39;四川绵阳&#39;, gender=0 \nwhere stuid in (1003, 1004);\n</code></pre>\n</li>\n<li>查询数据<pre><code class=\"mysql\">select * from tb_student;\n-- 投影\nselect stuname, gender from tb_student;\n-- 别名（alias --- as）\nselect stuname as 姓名,gender 性别 from tb_student;\nselect stuname as 姓名,if(gender, &#39;男&#39;, &#39;女&#39;) as 性别 from tb_student;\nselect stuname as 姓名,case gender when 1 then &#39;男&#39; else &#39;女&#39; end as 性别 from tb_student;\n</code></pre>\n</li>\n<li>对列做运算<br>select concat(stuname, ‘: ‘, tel) as 信息 from tb_student;</li>\n<li>筛选<br>select * from tb_student where stuid=1001;</li>\n<li>不等号用&lt;&gt;表示<br><code>`</code>mysql<br>select <em> from tb_student where stuid&lt;&gt;1001;<br>select </em> from tb_student where stuid in (1001, 1003, 1005);<br>select stuid, stuname, gender from tb_student where stuid&gt;1002;<br>select stuid, stuname, gender from tb_student where stuid&lt;=1002;<br>select stuid, stuname, gender from tb_student where gender=0;<br>select <em> from tb_student where stuid between 1002 and 1004;<br>select </em> from tb_student where stuid&gt;1004 and gender=0;<br>select * from tb_student where stuid&gt;1004 or gender=0;</li>\n<li>注意：判断一个字段是否为null不能用=和&lt;&gt;<br>select <em> from tb_student where addr is null;<br>select </em> from tb_student where addr is not null;<br><code>`</code></li>\n<li>%是一个通配符表示零个或任意多个字符<pre><code class=\"mysql\">select * from tb_student where stuname like &#39;张%&#39;;\nselect * from tb_student where stuname like &#39;%三%&#39;;\n</code></pre>\n</li>\n<li>_也是一个通配符，它表示一个字符<pre><code class=\"mysql\">select * from tb_student where stuname like &#39;张_&#39;;\nselect * from tb_student where stuname like &#39;张__&#39;;\n</code></pre>\n</li>\n<li>排序——order by </li>\n<li>默认升序（ascending）可以不写，降序descending必须写<pre><code class=\"mysql\">select * from tb_student order by stuid desc;\nselect * from tb_student order by tel asc;\nselect * from tb_student order by gender asc, stuid desc;\nselect * from tb_student where gender=0 order by stuid desc;\n</code></pre>\n</li>\n<li>分页（限制）<pre><code class=\"mysql\">select * from tb_student limit 3;\nselect * from tb_student limit 3 offset 3;\n</code></pre>\n</li>\n<li><p>跳过6条信息，查3条信息<br><code>select * from tb_student limit 3 offset 6;</code></p>\n</li>\n<li><p>跳过2条信息，查4条信息</p>\n<pre><code class=\"mysql\">select * from tb_student limit 2,4;\nselect * from tb_student where gender=1 order by stuid desc limit 0, 3;\n</code></pre>\n</li>\n</ul>\n<h2 id=\"DCL\"><a href=\"#DCL\" class=\"headerlink\" title=\"DCL\"></a>DCL</h2><ul>\n<li><p>创建hellokitty用户并设置口令</p>\n<pre><code class=\"mysql\">create user &#39;hellokitty&#39;@&#39;%&#39;identified by &#39;123123&#39;;\n</code></pre>\n</li>\n<li><p>给hellokitty授权</p>\n<pre><code class=\"mysql\">grant select on srs.* to &#39;hellokitty&#39;@&#39;%&#39;;\ngrant insert, delete, update on srs.* to &#39;hellokitty&#39;@&#39;%&#39;;\ngrant create, drop, alter on srs.* to &#39;hellokitty&#39;@&#39;%&#39;;\n</code></pre>\n</li>\n<li><p>获得srs的所有权限，但不能授权给别人</p>\n<pre><code class=\"mysql\">grant all privileges on srs.* to &#39;hellokitty&#39;@&#39;%&#39;;\ngrant all privileges on *.* to &#39;hellokitty&#39;@&#39;%&#39;;\n</code></pre>\n</li>\n<li><p>将hellokitty自己得到的权限再授权给别人</p>\n<pre><code class=\"mysql\">grant all privileges on srs.* to &#39;hellokitty&#39;@&#39;%&#39; with grant option;\n</code></pre>\n</li>\n<li><p>召回权限</p>\n<pre><code class=\"mysql\">revoke all privileges on srs.* from &#39;hellokitty&#39;@&#39;%&#39;;\n</code></pre>\n</li>\n</ul>\n<h5 id=\"事务控制\"><a href=\"#事务控制\" class=\"headerlink\" title=\"事务控制\"></a>事务控制</h5><ul>\n<li><p>创建hellokitty用户并设置口令</p>\n<pre><code class=\"mysql\">create user &#39;hellokitty&#39;@&#39;%&#39;identified by &#39;123123&#39;;\n</code></pre>\n</li>\n<li><p>给hellokitty授权</p>\n<pre><code class=\"mysql\">grant select on srs.* to &#39;hellokitty&#39;@&#39;%&#39;;\ngrant insert, delete, update on srs.* to &#39;hellokitty&#39;@&#39;%&#39;;\ngrant create, drop, alter on srs.* to &#39;hellokitty&#39;@&#39;%&#39;;\n</code></pre>\n</li>\n<li><p>获得srs的所有权限，但不能授权给别人</p>\n<pre><code class=\"mysql\">grant all privileges on srs.* to &#39;hellokitty&#39;@&#39;%&#39;;\ngrant all privileges on *.* to &#39;hellokitty&#39;@&#39;%&#39;;\n</code></pre>\n</li>\n<li><p>将hellokitty自己得到的权限再授权给别人</p>\n<pre><code class=\"mysql\">grant all privileges on srs.* to &#39;hellokitty&#39;@&#39;%&#39; with grant option;\n</code></pre>\n</li>\n<li><p>召回权限</p>\n<pre><code class=\"mysql\">revoke all privileges on srs.* from &#39;hellokitty&#39;@&#39;%&#39;;\n</code></pre>\n</li>\n</ul>\n<h6 id=\"事务控制-1\"><a href=\"#事务控制-1\" class=\"headerlink\" title=\"事务控制\"></a>事务控制</h6><ul>\n<li><p>开启事务环境</p>\n<pre><code class=\"mysql\">begin\n-- start transaction\nupdate tb_score set mark=mark-2 where sid=1001 and mark is not null;\nupdate tb_score set mark=mark+2 where sid=1002 and mark is not null;\n</code></pre>\n</li>\n<li><p>事务提交<br><code>commit；</code></p>\n</li>\n<li>事务回滚<br><code>rollback；</code></li>\n</ul>\n"}],"PostAsset":[{"_id":"source/_posts/Linux/意外的操作/put.jpg","slug":"put.jpg","post":"cjt87kqgm000vr8r6mk9ntiuu","modified":0,"renderable":0},{"_id":"source/_posts/前端/web-the-firstone/python_pip_envir.png","slug":"python_pip_envir.png","post":"cjt87kqq5004yr8r6swn3xqa4","modified":0,"renderable":0},{"_id":"source/_posts/Django/Django/django_centos_nginx_peizhi.png","slug":"django_centos_nginx_peizhi.png","post":"cjt87kqeq0008r8r604yl23cj","modified":0,"renderable":0},{"_id":"source/_posts/Linux/Linux服务器/Linux1.jpg","slug":"Linux1.jpg","post":"cjt87kqg4000mr8r6ji1024vz","modified":0,"renderable":0},{"_id":"source/_posts/python/Word-cloud/Figure_2.png","slug":"Figure_2.png","post":"cjt87kqi1001er8r6zwkltfhk","modified":0,"renderable":0},{"_id":"source/_posts/前端/HTML/特殊字符表示.png","slug":"特殊字符表示.png","post":"cjt87kqo90042r8r6lrg2o4jo","modified":0,"renderable":0},{"_id":"source/_posts/前端/CSS样式表/常用的属性.png","slug":"常用的属性.png","post":"cjt87kqo4003yr8r6my407jps","modified":0,"renderable":0},{"_id":"source/_posts/前端/JavaScript-one/位运算.png","slug":"位运算.png","post":"cjt87kqos004br8r6ctov78l1","modified":0,"renderable":0},{"_id":"source/_posts/数据库/MySQL/表与表的关系.png","slug":"表与表的关系.png","post":"cjt87kqqe0050r8r6hjmzm7zp","modified":0,"renderable":0},{"_id":"source/_posts/数据库/MySQL预习/MySQL1.jpg","slug":"MySQL1.jpg","post":"cjt87kqqn0054r8r6bjyckhgk","modified":0,"renderable":0},{"_id":"source/_posts/Linux/意外的操作/1.jpg","slug":"1.jpg","post":"cjt87kqgm000vr8r6mk9ntiuu","modified":0,"renderable":0},{"_id":"source/_posts/数据库/practice/表连接1.png","slug":"表连接1.png","post":"cjt87kqqz0059r8r6y5qbkfv1","modified":0,"renderable":0},{"_id":"source/_posts/数据库/practice/表连接2.png","slug":"表连接2.png","post":"cjt87kqqz0059r8r6y5qbkfv1","modified":0,"renderable":0},{"_id":"source/_posts/数据库/practice/表连接3.png","slug":"表连接3.png","post":"cjt87kqqz0059r8r6y5qbkfv1","modified":0,"renderable":0},{"_id":"source/_posts/数据库/practice/表连接4.png","slug":"表连接4.png","post":"cjt87kqqz0059r8r6y5qbkfv1","modified":0,"renderable":0},{"_id":"source/_posts/前端/web-daytwo/QQ截图20181023121317.png","slug":"QQ截图20181023121317.png","post":"cjt87kqpy004vr8r681h7todz","modified":0,"renderable":0},{"_id":"source/_posts/前端/web-daytwo/QQ截图20181023121548.png","slug":"QQ截图20181023121548.png","post":"cjt87kqpy004vr8r681h7todz","modified":0,"renderable":0},{"_id":"source/_posts/前端/web-daytwo/QQ截图20181023122235.png","slug":"QQ截图20181023122235.png","post":"cjt87kqpy004vr8r681h7todz","modified":0,"renderable":0},{"_id":"source/_posts/前端/web-daytwo/QQ截图20181023141556.png","slug":"QQ截图20181023141556.png","post":"cjt87kqpy004vr8r681h7todz","modified":0,"renderable":0},{"_id":"source/_posts/前端/web-daytwo/database.jpg","slug":"database.jpg","post":"cjt87kqpy004vr8r681h7todz","modified":0,"renderable":0},{"_id":"source/_posts/前端/web-the-firstone/QQ截图20181022103251.png","slug":"QQ截图20181022103251.png","post":"cjt87kqq5004yr8r6swn3xqa4","modified":0,"renderable":0},{"_id":"source/_posts/前端/web-the-firstone/QQ截图20181022152640.png","slug":"QQ截图20181022152640.png","post":"cjt87kqq5004yr8r6swn3xqa4","modified":0,"renderable":0},{"_id":"source/_posts/前端/web-the-firstone/QQ截图20181022152916.png","slug":"QQ截图20181022152916.png","post":"cjt87kqq5004yr8r6swn3xqa4","modified":0,"renderable":0},{"_id":"source/_posts/前端/web-the-firstone/QQ截图20181022171438.png","slug":"QQ截图20181022171438.png","post":"cjt87kqq5004yr8r6swn3xqa4","modified":0,"renderable":0},{"_id":"source/_posts/前端/web-the-firstone/ensurepip.png","slug":"ensurepip.png","post":"cjt87kqq5004yr8r6swn3xqa4","modified":0,"renderable":0},{"_id":"source/_posts/前端/web-the-firstone/pip3.png","slug":"pip3.png","post":"cjt87kqq5004yr8r6swn3xqa4","modified":0,"renderable":0},{"_id":"source/_posts/前端/web-the-firstone/pip_virtualenv.png","slug":"pip_virtualenv.png","post":"cjt87kqq5004yr8r6swn3xqa4","modified":0,"renderable":0},{"_id":"source/_posts/前端/web-the-firstone/python.png","slug":"python.png","post":"cjt87kqq5004yr8r6swn3xqa4","modified":0,"renderable":0},{"_id":"source/_posts/前端/web-the-firstone/virtualenv_env_p.png","slug":"virtualenv_env_p.png","post":"cjt87kqq5004yr8r6swn3xqa4","modified":0,"renderable":0},{"_id":"source/_posts/前端/web-the-firstone/virtualenv_help.png","slug":"virtualenv_help.png","post":"cjt87kqq5004yr8r6swn3xqa4","modified":0,"renderable":0}],"PostCategory":[{"post_id":"cjt87kq460001r8r6k0y9g3nk","category_id":"cjt87kq4p0002r8r6kpi7o59b","_id":"cjt87kq5e0005r8r6cfljxxf8"},{"post_id":"cjt87kqeq0008r8r604yl23cj","category_id":"cjt87kqf2000ar8r6wctfzsk6","_id":"cjt87kqfy000jr8r6172yveqq"},{"post_id":"cjt87kqex0009r8r643xkgq9c","category_id":"cjt87kqfl000fr8r6l3w1u56w","_id":"cjt87kqgd000qr8r677qrjnrq"},{"post_id":"cjt87kqf5000cr8r65y7t1954","category_id":"cjt87kqfz000kr8r6d5jhhnfr","_id":"cjt87kqgq000wr8r619dczu3s"},{"post_id":"cjt87kqgg000tr8r6ffas3qix","category_id":"cjt87kqge000rr8r6afvnx94d","_id":"cjt87kqh60012r8r6qauu9507"},{"post_id":"cjt87kqfa000dr8r6t4pe21tb","category_id":"cjt87kqge000rr8r6afvnx94d","_id":"cjt87kqhf0015r8r6yid9kap7"},{"post_id":"cjt87kqgt000zr8r635qr0gbe","category_id":"cjt87kqge000rr8r6afvnx94d","_id":"cjt87kqho0019r8r6qxb8176r"},{"post_id":"cjt87kqfi000er8r6jkgovdpe","category_id":"cjt87kqfz000kr8r6d5jhhnfr","_id":"cjt87kqhx001cr8r6372k1xd3"},{"post_id":"cjt87kqfq000hr8r678fra898","category_id":"cjt87kqge000rr8r6afvnx94d","_id":"cjt87kqi7001hr8r608xgzxdb"},{"post_id":"cjt87kqg4000mr8r6ji1024vz","category_id":"cjt87kqge000rr8r6afvnx94d","_id":"cjt87kqil001nr8r60k460e8r"},{"post_id":"cjt87kqi1001er8r6zwkltfhk","category_id":"cjt87kqfl000fr8r6l3w1u56w","_id":"cjt87kqir001pr8r6f6jk9gwy"},{"post_id":"cjt87kqi8001ir8r65v7ri3vw","category_id":"cjt87kqfl000fr8r6l3w1u56w","_id":"cjt87kqiy001tr8r6kught57d"},{"post_id":"cjt87kqg9000or8r69fkyzbi1","category_id":"cjt87kqge000rr8r6afvnx94d","_id":"cjt87kqj7001wr8r624jnj4s2"},{"post_id":"cjt87kqif001kr8r6in4uc96y","category_id":"cjt87kqfl000fr8r6l3w1u56w","_id":"cjt87kqjd001zr8r6jlckw3gh"},{"post_id":"cjt87kqim001or8r6ign0cod4","category_id":"cjt87kqfl000fr8r6l3w1u56w","_id":"cjt87kqjm0022r8r6q69fv9pe"},{"post_id":"cjt87kqit001rr8r60xo08vxs","category_id":"cjt87kqfl000fr8r6l3w1u56w","_id":"cjt87kqkf0025r8r6kumo070f"},{"post_id":"cjt87kqh30011r8r6oee7ywns","category_id":"cjt87kqik001mr8r6hqexpf1e","_id":"cjt87kqkl0028r8r66zcs12ph"},{"post_id":"cjt87kqiz001ur8r64crgub1d","category_id":"cjt87kqfl000fr8r6l3w1u56w","_id":"cjt87kqkr002cr8r6gk5q2vcq"},{"post_id":"cjt87kqj8001xr8r6t7851olk","category_id":"cjt87kqfl000fr8r6l3w1u56w","_id":"cjt87kqky002fr8r60ar9knmu"},{"post_id":"cjt87kqha0014r8r6r3zk40jk","category_id":"cjt87kqik001mr8r6hqexpf1e","_id":"cjt87kql3002hr8r6wrg17363"},{"post_id":"cjt87kqjf0020r8r68bcwslcy","category_id":"cjt87kqfl000fr8r6l3w1u56w","_id":"cjt87kql9002lr8r6tcbv60nf"},{"post_id":"cjt87kqjn0023r8r64fglhh6w","category_id":"cjt87kqfl000fr8r6l3w1u56w","_id":"cjt87kqlf002or8r6atmebkay"},{"post_id":"cjt87kqhl0018r8r6knjsykea","category_id":"cjt87kqik001mr8r6hqexpf1e","_id":"cjt87kqll002rr8r64swc8wpz"},{"post_id":"cjt87kqkg0026r8r6lvtkxccu","category_id":"cjt87kqfl000fr8r6l3w1u56w","_id":"cjt87kqls002tr8r69xom9dr8"},{"post_id":"cjt87kqkm0029r8r6728t3usx","category_id":"cjt87kqfl000fr8r6l3w1u56w","_id":"cjt87kqm0002xr8r6nzdcofz0"},{"post_id":"cjt87kqkz002gr8r6rilr9n8n","category_id":"cjt87kqfl000fr8r6l3w1u56w","_id":"cjt87kqm60030r8r6il5ztni3"},{"post_id":"cjt87kqlm002sr8r6sndswizf","category_id":"cjt87kqlf002nr8r65dg5w5ir","_id":"cjt87kqmf0035r8r6eykmsy3j"},{"post_id":"cjt87kql4002jr8r6rl3imo4y","category_id":"cjt87kqlf002nr8r65dg5w5ir","_id":"cjt87kqmn0038r8r6hkowxtub"},{"post_id":"cjt87kqlt002ur8r63eg1k7tq","category_id":"cjt87kqlf002nr8r65dg5w5ir","_id":"cjt87kqmr003ar8r65oyf5vpy"},{"post_id":"cjt87kqm1002yr8r6kxez9xlp","category_id":"cjt87kqlf002nr8r65dg5w5ir","_id":"cjt87kqmx003er8r67ii03mjz"},{"post_id":"cjt87kqla002mr8r65yxijlv4","category_id":"cjt87kqlf002nr8r65dg5w5ir","_id":"cjt87kqn3003gr8r6133staq5"},{"post_id":"cjt87kqm80031r8r64oprhmds","category_id":"cjt87kqlf002nr8r65dg5w5ir","_id":"cjt87kqn9003jr8r6v53n9qev"},{"post_id":"cjt87kqmg0036r8r6vlp1iz7z","category_id":"cjt87kqlf002nr8r65dg5w5ir","_id":"cjt87kqnf003mr8r6eozledlp"},{"post_id":"cjt87kqlg002pr8r60vxutddf","category_id":"cjt87kqlf002nr8r65dg5w5ir","_id":"cjt87kqnn003pr8r6smi1hxds"},{"post_id":"cjt87kqmo0039r8r6ylz1xpuf","category_id":"cjt87kqlf002nr8r65dg5w5ir","_id":"cjt87kqns003sr8r6gbiv5h7e"},{"post_id":"cjt87kqmt003cr8r6nxyik6rn","category_id":"cjt87kqlf002nr8r65dg5w5ir","_id":"cjt87kqny003vr8r6x5n7qe5u"},{"post_id":"cjt87kqmy003fr8r6rqffl1vx","category_id":"cjt87kqlf002nr8r65dg5w5ir","_id":"cjt87kqo3003xr8r68zsxv2o9"},{"post_id":"cjt87kqn4003hr8r62nq7g7b2","category_id":"cjt87kqlf002nr8r65dg5w5ir","_id":"cjt87kqo80040r8r6y9sab8ai"},{"post_id":"cjt87kqna003lr8r64x6q6jee","category_id":"cjt87kqlf002nr8r65dg5w5ir","_id":"cjt87kqod0043r8r6h5a5c37x"},{"post_id":"cjt87kqno003qr8r6z6dic3mi","category_id":"cjt87kqlf002nr8r65dg5w5ir","_id":"cjt87kqoj0045r8r664v40hfq"},{"post_id":"cjt87kqnt003tr8r6n361zx5m","category_id":"cjt87kqlf002nr8r65dg5w5ir","_id":"cjt87kqoq0049r8r6t3fxr9lb"},{"post_id":"cjt87kqof0044r8r6g3932xfr","category_id":"cjt87kqo7003zr8r6l37jlgup","_id":"cjt87kqp1004er8r6l9ekeloi"},{"post_id":"cjt87kqnz003wr8r6zdhv4bod","category_id":"cjt87kqo7003zr8r6l37jlgup","_id":"cjt87kqpa004jr8r6tc83wqck"},{"post_id":"cjt87kqok0046r8r6vhuw7qsm","category_id":"cjt87kqo7003zr8r6l37jlgup","_id":"cjt87kqpi004mr8r6z8kxhnpl"},{"post_id":"cjt87kqos004br8r6ctov78l1","category_id":"cjt87kqo7003zr8r6l37jlgup","_id":"cjt87kqpq004pr8r60s4av77n"},{"post_id":"cjt87kqo4003yr8r6my407jps","category_id":"cjt87kqo7003zr8r6l37jlgup","_id":"cjt87kqpw004tr8r6xb79js6b"},{"post_id":"cjt87kqoy004dr8r6j3eb5yr5","category_id":"cjt87kqo7003zr8r6l37jlgup","_id":"cjt87kqq3004wr8r6x0487qxc"},{"post_id":"cjt87kqp5004ir8r6hcyblcsw","category_id":"cjt87kqf2000ar8r6wctfzsk6","_id":"cjt87kqqc004zr8r6d27idqy7"},{"post_id":"cjt87kqo90042r8r6lrg2o4jo","category_id":"cjt87kqo7003zr8r6l37jlgup","_id":"cjt87kqqk0051r8r6yqtim1ov"},{"post_id":"cjt87kqpl004or8r686lt9jxy","category_id":"cjt87kq4p0002r8r6kpi7o59b","_id":"cjt87kqqr0055r8r6h11s726n"},{"post_id":"cjt87kqpt004sr8r6gnm0av07","category_id":"cjt87kqo7003zr8r6l37jlgup","_id":"cjt87kqqw0057r8r62gb6aicr"},{"post_id":"cjt87kqpy004vr8r681h7todz","category_id":"cjt87kqf2000ar8r6wctfzsk6","_id":"cjt87kqr3005ar8r6si07t6qw"},{"post_id":"cjt87kqpf004lr8r6njrcbdyu","category_id":"cjt87kqps004rr8r651e6vd60","_id":"cjt87kqr8005dr8r6p4ogf4qw"},{"post_id":"cjt87kqq5004yr8r6swn3xqa4","category_id":"cjt87kqf2000ar8r6wctfzsk6","_id":"cjt87kqre005gr8r6giu0c8lm"},{"post_id":"cjt87kqqe0050r8r6hjmzm7zp","category_id":"cjt87kqps004rr8r651e6vd60","_id":"cjt87kqrj005ir8r69as94218"},{"post_id":"cjt87kqqn0054r8r6bjyckhgk","category_id":"cjt87kqps004rr8r651e6vd60","_id":"cjt87kqrm005lr8r6l339vm5n"},{"post_id":"cjt87kqqt0056r8r6xhps6334","category_id":"cjt87kqps004rr8r651e6vd60","_id":"cjt87kqro005nr8r6g40gkv5d"},{"post_id":"cjt87kqqz0059r8r6y5qbkfv1","category_id":"cjt87kqps004rr8r651e6vd60","_id":"cjt87kqrp005pr8r6mr8uv93y"},{"post_id":"cjt87kqr5005cr8r65mzz7wwa","category_id":"cjt87kqps004rr8r651e6vd60","_id":"cjt87kqrq005rr8r6n0vhrcyo"},{"post_id":"cjt87kqra005fr8r6nc88fidl","category_id":"cjt87kqps004rr8r651e6vd60","_id":"cjt87kqrr005sr8r6n1vyg96w"},{"post_id":"cjt87kqrg005hr8r6ld9n5zw5","category_id":"cjt87kqps004rr8r651e6vd60","_id":"cjt87kqrt005ur8r63dn5iaei"}],"PostTag":[{"post_id":"cjt87kq460001r8r6k0y9g3nk","tag_id":"cjt87kq4u0003r8r6c6gt8p3z","_id":"cjt87kq570004r8r6nn909jbr"},{"post_id":"cjt87kqeq0008r8r604yl23cj","tag_id":"cjt87kqf3000br8r6dr67x65e","_id":"cjt87kqg7000nr8r6w61b1glx"},{"post_id":"cjt87kqeq0008r8r604yl23cj","tag_id":"cjt87kqfm000gr8r6hmi06buz","_id":"cjt87kqgc000pr8r6gji317w9"},{"post_id":"cjt87kqex0009r8r643xkgq9c","tag_id":"cjt87kqg0000lr8r6oiks58za","_id":"cjt87kqgl000ur8r6yto24i1h"},{"post_id":"cjt87kqf5000cr8r65y7t1954","tag_id":"cjt87kqge000sr8r6x2rtpc2x","_id":"cjt87kqh20010r8r6ltxezs8l"},{"post_id":"cjt87kqfa000dr8r6t4pe21tb","tag_id":"cjt87kqgs000yr8r6wq9t66m1","_id":"cjt87kqhk0017r8r6nzuxyugr"},{"post_id":"cjt87kqfi000er8r6jkgovdpe","tag_id":"cjt87kqhi0016r8r6il215cr1","_id":"cjt87kqi4001fr8r6d7e2rght"},{"post_id":"cjt87kqfq000hr8r678fra898","tag_id":"cjt87kqhz001dr8r6q3wg25in","_id":"cjt87kqij001lr8r6vlh50dbd"},{"post_id":"cjt87kqfv000ir8r6gyw1rm4t","tag_id":"cjt87kqid001jr8r6mo2wvbn9","_id":"cjt87kqix001sr8r6skng3k68"},{"post_id":"cjt87kqg4000mr8r6ji1024vz","tag_id":"cjt87kqis001qr8r6dnxc0qk2","_id":"cjt87kqkk0027r8r6q16z6gd5"},{"post_id":"cjt87kqg4000mr8r6ji1024vz","tag_id":"cjt87kqjb001yr8r6ucw4x1a8","_id":"cjt87kqkp002ar8r6mxh5sbml"},{"post_id":"cjt87kqg9000or8r69fkyzbi1","tag_id":"cjt87kqjq0024r8r6flaaez3p","_id":"cjt87kqkx002er8r6dfl6drbc"},{"post_id":"cjt87kqgg000tr8r6ffas3qix","tag_id":"cjt87kqkq002br8r6nwhtlbsr","_id":"cjt87kql8002kr8r6rbghhv6o"},{"post_id":"cjt87kqgm000vr8r6mk9ntiuu","tag_id":"cjt87kql3002ir8r64eid5r9g","_id":"cjt87kqm4002zr8r6wt8xqowz"},{"post_id":"cjt87kqgm000vr8r6mk9ntiuu","tag_id":"cjt87kqlk002qr8r6ipcsr3fk","_id":"cjt87kqmc0033r8r6ld21aj6e"},{"post_id":"cjt87kqgt000zr8r635qr0gbe","tag_id":"cjt87kqlz002wr8r6sti5e73o","_id":"cjt87kqmm0037r8r67ylrqiql"},{"post_id":"cjt87kqh30011r8r6oee7ywns","tag_id":"cjt87kqme0034r8r6g0v5wi0s","_id":"cjt87kqmx003dr8r6hlx8xp5x"},{"post_id":"cjt87kqha0014r8r6r3zk40jk","tag_id":"cjt87kqms003br8r6ay4gqcbg","_id":"cjt87kqn9003kr8r6iqecqnih"},{"post_id":"cjt87kqhl0018r8r6knjsykea","tag_id":"cjt87kqn7003ir8r6rui5ictt","_id":"cjt87kqnr003rr8r67a53csje"},{"post_id":"cjt87kqht001br8r6d7e6d3xg","tag_id":"cjt87kqnm003or8r6tzfzz71m","_id":"cjt87kqor004ar8r62r39w4so"},{"post_id":"cjt87kqht001br8r6d7e6d3xg","tag_id":"cjt87kqny003ur8r6qksyevaz","_id":"cjt87kqox004cr8r61f1hr4ud"},{"post_id":"cjt87kqht001br8r6d7e6d3xg","tag_id":"cjt87kqo90041r8r6lhyfiy3e","_id":"cjt87kqp4004hr8r6rnt0jptt"},{"post_id":"cjt87kqi8001ir8r65v7ri3vw","tag_id":"cjt87kqoo0048r8r6mazc5qop","_id":"cjt87kqpe004kr8r67y3i543f"},{"post_id":"cjt87kqif001kr8r6in4uc96y","tag_id":"cjt87kqp3004gr8r6krkj4bly","_id":"cjt87kqpr004qr8r6hwelyl4d"},{"post_id":"cjt87kqim001or8r6ign0cod4","tag_id":"cjt87kqpk004nr8r6karufj5s","_id":"cjt87kqq5004xr8r6vtisyd8g"},{"post_id":"cjt87kqit001rr8r60xo08vxs","tag_id":"cjt87kqpx004ur8r6s687t89x","_id":"cjt87kqqn0053r8r6eofguu1c"},{"post_id":"cjt87kqiz001ur8r64crgub1d","tag_id":"cjt87kqql0052r8r6b0jj2uk4","_id":"cjt87kqr4005br8r6626kfczx"},{"post_id":"cjt87kqra005fr8r6nc88fidl","tag_id":"cjt87kqlz002wr8r6sti5e73o","_id":"cjt87kqrk005jr8r6vjctqk2g"},{"post_id":"cjt87kqjf0020r8r68bcwslcy","tag_id":"cjt87kqqx0058r8r6ylcs89st","_id":"cjt87kqrn005mr8r63re90k23"},{"post_id":"cjt87kqjf0020r8r68bcwslcy","tag_id":"cjt87kqr9005er8r67a851o2o","_id":"cjt87kqrp005or8r65lyow9qq"},{"post_id":"cjt87kqkg0026r8r6lvtkxccu","tag_id":"cjt87kqrl005kr8r61swm0f31","_id":"cjt87kqrt005vr8r6rl2lcpj8"},{"post_id":"cjt87kqkg0026r8r6lvtkxccu","tag_id":"cjt87kqrp005qr8r63f0ndvxe","_id":"cjt87kqrv005wr8r6km07g26x"},{"post_id":"cjt87kqks002dr8r6xgzyy7lm","tag_id":"cjt87kqrs005tr8r6fw75ipqy","_id":"cjt87kqrx005yr8r6upib82ty"},{"post_id":"cjt87kqkz002gr8r6rilr9n8n","tag_id":"cjt87kqrw005xr8r65lx9mhd0","_id":"cjt87kqrz0060r8r6v10ucqx2"},{"post_id":"cjt87kql4002jr8r6rl3imo4y","tag_id":"cjt87kqry005zr8r632qy96gi","_id":"cjt87kqs00062r8r6f9ou2v2c"},{"post_id":"cjt87kqla002mr8r65yxijlv4","tag_id":"cjt87kqrz0061r8r6zo4qogd9","_id":"cjt87kqs20064r8r6t7hgxre8"},{"post_id":"cjt87kqlg002pr8r60vxutddf","tag_id":"cjt87kqs10063r8r642o3lhwi","_id":"cjt87kqs40066r8r6disfhirb"},{"post_id":"cjt87kqlm002sr8r6sndswizf","tag_id":"cjt87kqs30065r8r601gdh1ft","_id":"cjt87kqs50068r8r61ibsglhj"},{"post_id":"cjt87kqlt002ur8r63eg1k7tq","tag_id":"cjt87kqs40067r8r68ozvqm54","_id":"cjt87kqs7006ar8r6jqz64ana"},{"post_id":"cjt87kqm1002yr8r6kxez9xlp","tag_id":"cjt87kqs60069r8r6ikdnwp9p","_id":"cjt87kqsa006cr8r6sfrpvs3q"},{"post_id":"cjt87kqmg0036r8r6vlp1iz7z","tag_id":"cjt87kqs8006br8r69jngcw8d","_id":"cjt87kqsc006er8r6mdt0yupu"},{"post_id":"cjt87kqmo0039r8r6ylz1xpuf","tag_id":"cjt87kqsb006dr8r6ef9c18pw","_id":"cjt87kqsd006gr8r69u8bom1u"},{"post_id":"cjt87kqmt003cr8r6nxyik6rn","tag_id":"cjt87kqsc006fr8r6vwi7b035","_id":"cjt87kqsf006ir8r64p7cwep2"},{"post_id":"cjt87kqmy003fr8r6rqffl1vx","tag_id":"cjt87kqsc006fr8r6vwi7b035","_id":"cjt87kqsh006kr8r6e57s05mr"},{"post_id":"cjt87kqn4003hr8r62nq7g7b2","tag_id":"cjt87kqsg006jr8r6v6ffgwtn","_id":"cjt87kqsj006mr8r6g4fvqwfn"},{"post_id":"cjt87kqna003lr8r64x6q6jee","tag_id":"cjt87kqsi006lr8r6p81z43py","_id":"cjt87kqsl006or8r67skwf3q5"},{"post_id":"cjt87kqng003nr8r6ydc45c3j","tag_id":"cjt87kqsk006nr8r6cq3dx9m3","_id":"cjt87kqsn006qr8r6tzmqy4qy"},{"post_id":"cjt87kqno003qr8r6z6dic3mi","tag_id":"cjt87kqsm006pr8r6j2z8g3ia","_id":"cjt87kqsq006sr8r68hvp6yo3"},{"post_id":"cjt87kqnt003tr8r6n361zx5m","tag_id":"cjt87kqsc006fr8r6vwi7b035","_id":"cjt87kqss006ur8r6ghpv8025"},{"post_id":"cjt87kqnz003wr8r6zdhv4bod","tag_id":"cjt87kqsr006tr8r6d92cx9b4","_id":"cjt87kqsu006wr8r6oy80chbh"},{"post_id":"cjt87kqo4003yr8r6my407jps","tag_id":"cjt87kqst006vr8r6llha4gba","_id":"cjt87kqsw006yr8r6b3tyvemn"},{"post_id":"cjt87kqo90042r8r6lrg2o4jo","tag_id":"cjt87kqsv006xr8r6dkrok17a","_id":"cjt87kqsx0070r8r6ifu070bq"},{"post_id":"cjt87kqof0044r8r6g3932xfr","tag_id":"cjt87kqsw006zr8r66b4uegeh","_id":"cjt87kqt30074r8r6momzac0e"},{"post_id":"cjt87kqof0044r8r6g3932xfr","tag_id":"cjt87kqsv006xr8r6dkrok17a","_id":"cjt87kqt40075r8r6eweaarw8"},{"post_id":"cjt87kqof0044r8r6g3932xfr","tag_id":"cjt87kqt00072r8r66y5a6xm2","_id":"cjt87kqt60077r8r6gyfsg0zn"},{"post_id":"cjt87kqok0046r8r6vhuw7qsm","tag_id":"cjt87kqt10073r8r6dtmtnjba","_id":"cjt87kqt80079r8r6e9cvt5lm"},{"post_id":"cjt87kqok0046r8r6vhuw7qsm","tag_id":"cjt87kqt50076r8r69hu959x5","_id":"cjt87kqt9007ar8r628fnlqag"},{"post_id":"cjt87kqos004br8r6ctov78l1","tag_id":"cjt87kqt50076r8r69hu959x5","_id":"cjt87kqta007cr8r6yr80nx2o"},{"post_id":"cjt87kqoy004dr8r6j3eb5yr5","tag_id":"cjt87kqt9007br8r6weqaquvy","_id":"cjt87kqtd007fr8r6wxtgc09s"},{"post_id":"cjt87kqoy004dr8r6j3eb5yr5","tag_id":"cjt87kqtb007dr8r6eo24ecxb","_id":"cjt87kqte007gr8r6fe1bshz8"},{"post_id":"cjt87kqp5004ir8r6hcyblcsw","tag_id":"cjt87kqtc007er8r6sdexehjg","_id":"cjt87kqtf007ir8r6feqk2juj"},{"post_id":"cjt87kqpf004lr8r6njrcbdyu","tag_id":"cjt87kqte007hr8r67rdyouzt","_id":"cjt87kqtk007mr8r6bvvsnjec"},{"post_id":"cjt87kqpf004lr8r6njrcbdyu","tag_id":"cjt87kqtg007jr8r63oxki9dp","_id":"cjt87kqtl007nr8r6y0243vbf"},{"post_id":"cjt87kqpf004lr8r6njrcbdyu","tag_id":"cjt87kqth007kr8r6zbdvcocp","_id":"cjt87kqtn007pr8r6sl0sq0hf"},{"post_id":"cjt87kqpl004or8r686lt9jxy","tag_id":"cjt87kqti007lr8r6k5zpw4o5","_id":"cjt87kqtn007qr8r6jhnqoro9"},{"post_id":"cjt87kqpt004sr8r6gnm0av07","tag_id":"cjt87kqtm007or8r6j69f5lts","_id":"cjt87kqtp007sr8r6wyylekhu"},{"post_id":"cjt87kqpy004vr8r681h7todz","tag_id":"cjt87kqto007rr8r6824fsmbg","_id":"cjt87kqts007vr8r6pffzkukk"},{"post_id":"cjt87kqpy004vr8r681h7todz","tag_id":"cjt87kqtq007tr8r6r65l2wen","_id":"cjt87kqtt007wr8r6pynssjl1"},{"post_id":"cjt87kqq5004yr8r6swn3xqa4","tag_id":"cjt87kqtr007ur8r6znju8s7q","_id":"cjt87kqtx007zr8r6egv0d69a"},{"post_id":"cjt87kqq5004yr8r6swn3xqa4","tag_id":"cjt87kqtq007tr8r6r65l2wen","_id":"cjt87kqtx0080r8r6tyvtcgr3"},{"post_id":"cjt87kqqe0050r8r6hjmzm7zp","tag_id":"cjt87kqtv007yr8r64eu0myja","_id":"cjt87kqu90083r8r60qgwf4cn"},{"post_id":"cjt87kqqe0050r8r6hjmzm7zp","tag_id":"cjt87kqty0081r8r6ihm7bgzs","_id":"cjt87kqu90084r8r6xi6844ob"},{"post_id":"cjt87kqqt0056r8r6xhps6334","tag_id":"cjt87kqu00082r8r6pr4o3vzp","_id":"cjt87kqub0086r8r63jeuvqi6"},{"post_id":"cjt87kqrg005hr8r6ld9n5zw5","tag_id":"cjt87kqua0085r8r6ptt1r3zn","_id":"cjt87kqud0088r8r6vh3xevae"},{"post_id":"cjt87kqrg005hr8r6ld9n5zw5","tag_id":"cjt87kquc0087r8r6gtlsl5yk","_id":"cjt87kque0089r8r6yk5jmwr2"}],"Tag":[{"name":"Markdown","_id":"cjt87kq4u0003r8r6c6gt8p3z"},{"name":"Django项目部署","_id":"cjt87kqf3000br8r6dr67x65e"},{"name":"MariaDB安装","_id":"cjt87kqfm000gr8r6hmi06buz"},{"name":"Python安装","_id":"cjt87kqg0000lr8r6oiks58za"},{"name":"git代码管平台","_id":"cjt87kqge000sr8r6x2rtpc2x"},{"name":"vim-practice","_id":"cjt87kqgs000yr8r6wq9t66m1"},{"name":"Git","_id":"cjt87kqhi0016r8r6il215cr1"},{"name":"软件安装","_id":"cjt87kqhz001dr8r6q3wg25in"},{"name":"http状态码","_id":"cjt87kqid001jr8r6mo2wvbn9"},{"name":"Linux操作系统","_id":"cjt87kqis001qr8r6dnxc0qk2"},{"name":"Linux防火墙设置","_id":"cjt87kqjb001yr8r6ucw4x1a8"},{"name":"VIM","_id":"cjt87kqjq0024r8r6flaaez3p"},{"name":"Linux-practice","_id":"cjt87kqkq002br8r6nwhtlbsr"},{"name":"hexo上传图片","_id":"cjt87kql3002ir8r64eid5r9g"},{"name":"github上传图片","_id":"cjt87kqlk002qr8r6ipcsr3fk"},{"name":"order","_id":"cjt87kqlz002wr8r6sti5e73o"},{"name":"models","_id":"cjt87kqme0034r8r6g0v5wi0s"},{"name":"表关系","_id":"cjt87kqms003br8r6ay4gqcbg"},{"name":"Flask_session","_id":"cjt87kqn7003ir8r6rui5ictt"},{"name":"Python","_id":"cjt87kqnm003or8r6tzfzz71m"},{"name":"Web","_id":"cjt87kqny003ur8r6qksyevaz"},{"name":"spider","_id":"cjt87kqo90041r8r6lhyfiy3e"},{"name":"game","_id":"cjt87kqoo0048r8r6mazc5qop"},{"name":"python连接数据库","_id":"cjt87kqp3004gr8r6krkj4bly"},{"name":"函数","_id":"cjt87kqpk004nr8r6karufj5s"},{"name":"文件操作","_id":"cjt87kqpx004ur8r6s687t89x"},{"name":"python","_id":"cjt87kqql0052r8r6b0jj2uk4"},{"name":"dict","_id":"cjt87kqqx0058r8r6ylcs89st"},{"name":"set","_id":"cjt87kqr9005er8r67a851o2o"},{"name":"循环","_id":"cjt87kqrl005kr8r61swm0f31"},{"name":"判断","_id":"cjt87kqrp005qr8r63f0ndvxe"},{"name":"网络","_id":"cjt87kqrs005tr8r6fw75ipqy"},{"name":"class","_id":"cjt87kqrw005xr8r65lx9mhd0"},{"name":"beautifulSoup","_id":"cjt87kqry005zr8r632qy96gi"},{"name":"urllib","_id":"cjt87kqrz0061r8r6zo4qogd9"},{"name":"code","_id":"cjt87kqs10063r8r642o3lhwi"},{"name":"sqlalchemy","_id":"cjt87kqs30065r8r601gdh1ft"},{"name":"selenium","_id":"cjt87kqs40067r8r68ozvqm54"},{"name":"databases","_id":"cjt87kqs60069r8r6ikdnwp9p"},{"name":"agent","_id":"cjt87kqs8006br8r69jngcw8d"},{"name":"cartoon","_id":"cjt87kqsb006dr8r6ef9c18pw"},{"name":"music","_id":"cjt87kqsc006fr8r6vwi7b035"},{"name":"movie","_id":"cjt87kqsg006jr8r6v6ffgwtn"},{"name":"novel","_id":"cjt87kqsi006lr8r6p81z43py"},{"name":"video","_id":"cjt87kqsk006nr8r6cq3dx9m3"},{"name":"随机总结","_id":"cjt87kqsm006pr8r6j2z8g3ia"},{"name":"float","_id":"cjt87kqsr006tr8r6d92cx9b4"},{"name":"选择器","_id":"cjt87kqst006vr8r6llha4gba"},{"name":"HTML","_id":"cjt87kqsv006xr8r6dkrok17a"},{"name":"CSS","_id":"cjt87kqsw006zr8r66b4uegeh"},{"name":"DOC","_id":"cjt87kqt00072r8r66y5a6xm2"},{"name":"tag","_id":"cjt87kqt10073r8r6dtmtnjba"},{"name":"JavaScript","_id":"cjt87kqt50076r8r69hu959x5"},{"name":"JS","_id":"cjt87kqt9007br8r6weqaquvy"},{"name":"practice","_id":"cjt87kqtb007dr8r6eo24ecxb"},{"name":"模型","_id":"cjt87kqtc007er8r6sdexehjg"},{"name":"查","_id":"cjt87kqte007hr8r67rdyouzt"},{"name":"删","_id":"cjt87kqtg007jr8r63oxki9dp"},{"name":"改","_id":"cjt87kqth007kr8r6zbdvcocp"},{"name":"Hexo","_id":"cjt87kqti007lr8r6k5zpw4o5"},{"name":"jQuery","_id":"cjt87kqtm007or8r6j69f5lts"},{"name":"web框架","_id":"cjt87kqto007rr8r6824fsmbg"},{"name":"Django","_id":"cjt87kqtq007tr8r6r65l2wen"},{"name":"框架","_id":"cjt87kqtr007ur8r6znju8s7q"},{"name":"虚拟机","_id":"cjt87kqtv007yr8r64eu0myja"},{"name":"集合函数","_id":"cjt87kqty0081r8r6ihm7bgzs"},{"name":"linkman","_id":"cjt87kqu00082r8r6pr4o3vzp"},{"name":"数据库","_id":"cjt87kqua0085r8r6ptt1r3zn"},{"name":"表格","_id":"cjt87kquc0087r8r6gtlsl5yk"}]}}